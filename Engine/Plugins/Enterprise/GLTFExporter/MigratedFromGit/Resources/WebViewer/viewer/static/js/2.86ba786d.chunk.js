/*! For license information please see 2.86ba786d.chunk.js.LICENSE.txt */
(this["webpackJsonp@epic/gltf-web-viewer"]=this["webpackJsonp@epic/gltf-web-viewer"]||[]).push([[2],[,function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}i.d(t,"a",(function(){return r}))},function(e,t,i){!function(e){"use strict";Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!==typeof e)throw TypeError("predicate must be a function");for(var r=arguments[1],n=0;n<i;){var a=t[n];if(e.call(r,a,n,t))return a;n++}},configurable:!0,writable:!0}),Math.log2=Math.log2||function(e){return Math.log(e)*Math.LOG2E},Math.sign||(Math.sign=function(e){return(e>0)-(e<0)||+e}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])}return i},writable:!0,configurable:!0}),function(){if("undefined"!==typeof navigator&&"undefined"!==typeof document){navigator.pointer=navigator.pointer||navigator.webkitPointer||navigator.mozPointer;var e=function(){var e=document.createEvent("CustomEvent");e.initCustomEvent("pointerlockchange",!0,!1,null),document.dispatchEvent(e)},t=function(){var e=document.createEvent("CustomEvent");e.initCustomEvent("pointerlockerror",!0,!1,null),document.dispatchEvent(e)};document.addEventListener("webkitpointerlockchange",e,!1),document.addEventListener("webkitpointerlocklost",e,!1),document.addEventListener("mozpointerlockchange",e,!1),document.addEventListener("mozpointerlocklost",e,!1),document.addEventListener("webkitpointerlockerror",t,!1),document.addEventListener("mozpointerlockerror",t,!1),Element.prototype.mozRequestPointerLock?Element.prototype.requestPointerLock=function(){this.mozRequestPointerLock()}:Element.prototype.requestPointerLock=Element.prototype.requestPointerLock||Element.prototype.webkitRequestPointerLock||Element.prototype.mozRequestPointerLock,!Element.prototype.requestPointerLock&&navigator.pointer&&(Element.prototype.requestPointerLock=function(){document.pointerLockElement=this,navigator.pointer.lock(this,e,t)}),document.exitPointerLock=document.exitPointerLock||document.webkitExitPointerLock||document.mozExitPointerLock,document.exitPointerLock||(document.exitPointerLock=function(){navigator.pointer&&(document.pointerLockElement=null,navigator.pointer.unlock())})}}(),function(){if("undefined"!==typeof window){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var r=(new Date).getTime(),n=Math.max(0,16-(r-e)),a=window.setTimeout((function(){t(r+n)}),n);return e=r+n,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}}(),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e}),String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!==typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e}),function(){var e={};function t(t,i){var r;e[t]=!0,void 0!==i&&(r=i,window.console&&window.console.error&&window.console.error(r))}var i=function e(t){var i=t.gl;this.ext=t,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(t.maxVertexAttribs);for(var r=0;r<this.attribs.length;r++){var n=new e.VertexAttrib(i);this.attribs[r]=n}this.maxAttrib=0};(i.VertexAttrib=function(e){this.enabled=!1,this.buffer=null,this.size=4,this.type=e.FLOAT,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()}).prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};var r=function(t){var i=this;this.gl=t,function(t){var i=t.getError;t.getError=function(){do{(r=i.apply(t))!=t.NO_ERROR&&(e[r]=!0)}while(r!=t.NO_ERROR);for(var r in e)if(e[r])return delete e[r],parseInt(r);return t.NO_ERROR}}(t);var r=this.original={getParameter:t.getParameter,enableVertexAttribArray:t.enableVertexAttribArray,disableVertexAttribArray:t.disableVertexAttribArray,bindBuffer:t.bindBuffer,getVertexAttrib:t.getVertexAttrib,vertexAttribPointer:t.vertexAttribPointer};t.getParameter=function(e){return e==i.VERTEX_ARRAY_BINDING_OES?i.currentVertexArrayObject==i.defaultVertexArrayObject?null:i.currentVertexArrayObject:r.getParameter.apply(this,arguments)},t.enableVertexAttribArray=function(e){var t=i.currentVertexArrayObject;t.maxAttrib=Math.max(t.maxAttrib,e);var n=t.attribs[e];return n.enabled=!0,r.enableVertexAttribArray.apply(this,arguments)},t.disableVertexAttribArray=function(e){var t=i.currentVertexArrayObject;t.maxAttrib=Math.max(t.maxAttrib,e);var n=t.attribs[e];return n.enabled=!1,r.disableVertexAttribArray.apply(this,arguments)},t.bindBuffer=function(e,n){switch(e){case t.ARRAY_BUFFER:i.currentArrayBuffer=n;break;case t.ELEMENT_ARRAY_BUFFER:i.currentVertexArrayObject.elementArrayBuffer=n}return r.bindBuffer.apply(this,arguments)},t.getVertexAttrib=function(e,n){var a=i.currentVertexArrayObject,s=a.attribs[e];switch(n){case t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:return s.buffer;case t.VERTEX_ATTRIB_ARRAY_ENABLED:return s.enabled;case t.VERTEX_ATTRIB_ARRAY_SIZE:return s.size;case t.VERTEX_ATTRIB_ARRAY_STRIDE:return s.stride;case t.VERTEX_ATTRIB_ARRAY_TYPE:return s.type;case t.VERTEX_ATTRIB_ARRAY_NORMALIZED:return s.normalized;default:return r.getVertexAttrib.apply(this,arguments)}},t.vertexAttribPointer=function(e,t,n,a,s,o){var l=i.currentVertexArrayObject;l.maxAttrib=Math.max(l.maxAttrib,e);var c=l.attribs[e];return c.buffer=i.currentArrayBuffer,c.size=t,c.type=n,c.normalized=a,c.stride=s,c.offset=o,c.recache(),r.vertexAttribPointer.apply(this,arguments)},t.instrumentExtension&&t.instrumentExtension(this,"OES_vertex_array_object"),t.canvas.addEventListener("webglcontextrestored",(function(){var e;e="OESVertexArrayObject emulation library context restored",window.console&&window.console.log&&window.console.log(e),i.reset_()}),!0),this.reset_()};r.prototype.VERTEX_ARRAY_BINDING_OES=34229,r.prototype.reset_=function(){if(void 0!==this.vertexArrayObjects)for(var e=0;e<this.vertexArrayObjects.length;++e)this.vertexArrayObjects.isAlive=!1;var t=this.gl;this.maxVertexAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.defaultVertexArrayObject=new i(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},r.prototype.createVertexArrayOES=function(){var e=new i(this);return this.vertexArrayObjects.push(e),e},r.prototype.deleteVertexArrayOES=function(e){e.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(e),1),this.currentVertexArrayObject==e&&this.bindVertexArrayOES(null)},r.prototype.isVertexArrayOES=function(e){return!!(e&&e instanceof i&&e.hasBeenBound&&e.ext==this)},r.prototype.bindVertexArrayOES=function(e){var i=this.gl;if(!e||e.isAlive){var r=this.original,n=this.currentVertexArrayObject;this.currentVertexArrayObject=e||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;var a=this.currentVertexArrayObject;if(n!=a){n&&a.elementArrayBuffer==n.elementArrayBuffer||r.bindBuffer.call(i,i.ELEMENT_ARRAY_BUFFER,a.elementArrayBuffer);for(var s=this.currentArrayBuffer,o=Math.max(n?n.maxAttrib:0,a.maxAttrib),l=0;l<=o;l++){var c=a.attribs[l],f=n?n.attribs[l]:null;if(n&&c.enabled==f.enabled||(c.enabled?r.enableVertexAttribArray.call(i,l):r.disableVertexAttribArray.call(i,l)),c.enabled){var h=!1;n&&c.buffer==f.buffer||(s!=c.buffer&&(r.bindBuffer.call(i,i.ARRAY_BUFFER,c.buffer),s=c.buffer),h=!0),(h||c.cached!=f.cached)&&r.vertexAttribPointer.call(i,l,c.size,c.type,c.normalized,c.stride,c.offset)}}this.currentArrayBuffer!=s&&r.bindBuffer.call(i,i.ARRAY_BUFFER,this.currentArrayBuffer)}}else t(i.INVALID_OPERATION,"bindVertexArrayOES: attempt to bind deleted arrayObject")},window.setupVertexArrayObject=function(e){if(e.getSupportedExtensions){if(-1!=e.getSupportedExtensions().indexOf("OES_vertex_array_object"))return}else if(e.getExtension&&e.getExtension("OES_vertex_array_object"))return;if(e.getSupportedExtensions){var t=e.getSupportedExtensions;e.getSupportedExtensions=function(){var e=t.call(this)||[];return e.push("OES_vertex_array_object"),e}}var i=e.getExtension;e.getExtension=function(t){return"OES_vertex_array_object"==t?(e.__OESVertexArrayObject||(e.__OESVertexArrayObject=new r(e)),e.__OESVertexArrayObject):i?i.call(this,t):null}}}();var t=function(){for(var e={},t=["Array","Object","Function","Date","RegExp","Float32Array"],i=0;i<t.length;i++)e["[object "+t[i]+"]"]=t[i].toLowerCase();return e}(),i="1.36.0-rc.2";function r(e){if(null===e)return"null";var i=typeof e;return"undefined"===i||"number"===i||"string"===i||"boolean"===i?i:t[Object.prototype.toString.call(e)]}function n(e,t){var i,a;for(i in t)"object"==r(a=t[i])?e[i]=n({},a):"array"==r(a)?e[i]=n([],a):e[i]=a;return e}function a(e){return void 0!==e}var s=function(){var e=null,t=null,i=null,r=null;return{display:function(n){for(var a in e||(e=document.createElement("table"),t=document.createElement("tr"),i=document.createElement("td"),r=document.createElement("td"),e.style.cssText="position:absolute;font-family:sans-serif;font-size:12px;color:#cccccc",e.style.top="0px",e.style.left="0px",e.style.border="thin solid #cccccc",document.body.appendChild(e)),e.innerHTML="",n){var s=t.cloneNode(),o=i.cloneNode(),l=r.cloneNode();o.textContent=a,l.textContent=n[a],s.appendChild(o),s.appendChild(l),e.appendChild(s)}}}}();function o(){this._callbacks={},this._callbackActive={}}Object.assign(o.prototype,{_addCallback:function(e,t,i,r){e&&"string"===typeof e&&t&&(this._callbacks[e]||(this._callbacks[e]=[]),this._callbackActive[e]&&this._callbackActive[e]===this._callbacks[e]&&(this._callbackActive[e]=this._callbackActive[e].slice()),this._callbacks[e].push({callback:t,scope:i||this,once:r||!1}))},on:function(e,t,i){return this._addCallback(e,t,i,!1),this},off:function(e,t,i){if(e)this._callbackActive[e]&&this._callbackActive[e]===this._callbacks[e]&&(this._callbackActive[e]=this._callbackActive[e].slice());else for(var r in this._callbackActive)this._callbacks[r]&&this._callbacks[r]===this._callbackActive[r]&&(this._callbackActive[r]=this._callbackActive[r].slice());if(e)if(t){var n=this._callbacks[e];if(!n)return this;for(var a=n.length,s=0;s<a;s++)n[s].callback===t&&(i&&n[s].scope!==i||(n[s--]=n[--a]));n.length=a}else this._callbacks[e]&&(this._callbacks[e]=[]);else this._callbacks={};return this},fire:function(e,t,i,r,n,a,s,o,l){if(!e||!this._callbacks[e])return this;var c;this._callbackActive[e]?(this._callbackActive[e]===this._callbacks[e]&&(this._callbackActive[e]=this._callbackActive[e].slice()),c=this._callbacks[e].slice()):this._callbackActive[e]=this._callbacks[e];for(var f=0;(c||this._callbackActive[e])&&f<(c||this._callbackActive[e]).length;f++){var h=(c||this._callbackActive[e])[f];if(h.callback.call(h.scope,t,i,r,n,a,s,o,l),h.once){var u=this._callbacks[e].indexOf(h);-1!==u&&(this._callbackActive[e]===this._callbacks[e]&&(this._callbackActive[e]=this._callbackActive[e].slice()),this._callbacks[e].splice(u,1))}}return c||(this._callbackActive[e]=null),this},once:function(e,t,i){return this._addCallback(e,t,i,!0),this},hasEvent:function(e){return this._callbacks[e]&&0!==this._callbacks[e].length||!1}});var l={attach:function(e){var t=l;return e._addCallback=t._addCallback,e.on=t.on,e.off=t.off,e.fire=t.fire,e.once=t.once,e.hasEvent=t.hasEvent,e._callbacks={},e._callbackActive={},e},_addCallback:o.prototype._addCallback,on:o.prototype.on,off:o.prototype.off,fire:o.prototype.fire,once:o.prototype.once,hasEvent:o.prototype.hasEvent},c={create:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}},f={delimiter:"/",join:function(){var e,t=arguments.length,i=arguments[0];for(e=0;e<t-1;++e){var r=arguments[e],n=arguments[e+1];if(!a(r)||!a(n))throw new Error("undefined argument to pc.path.join");n[0]!==f.delimiter?r&&n&&r[r.length-1]!==f.delimiter&&n[0]!==f.delimiter?i+=f.delimiter+n:i+=n:i=n}return i},normalize:function(e){for(var t=e.startsWith(f.delimiter),i=e.endsWith(f.delimiter),r=e.split("/"),n="",a=[],s=0;s<r.length;s++)""!==r[s]&&"."!==r[s]&&(".."===r[s]&&a.length>0?a=a.slice(0,a.length-2):(s>0&&a.push(f.delimiter),a.push(r[s])));return n=a.join(""),t||n[0]!==f.delimiter||(n=n.slice(1)),i&&n[n.length-1]!==f.delimiter&&(n+=f.delimiter),n},split:function(e){var t=e.split(f.delimiter),i=t.slice(t.length-1)[0];return[t.slice(0,t.length-1).join(f.delimiter),i]},getBasename:function(e){return f.split(e)[1]},getDirectory:function(e){var t=e.split(f.delimiter);return t.slice(0,t.length-1).join(f.delimiter)},getExtension:function(e){var t=e.split("?")[0].split(".").pop();return t!==e?"."+t:""},isRelativePath:function(e){return"/"!==e.charAt(0)&&null===e.match(/:\/\//)},extractPath:function(e){var t="",i=e.split("/"),r=0;if(i.length>1)for(r=0;r<i.length-1;++r)t+=0===r?i[r]:"/"+i[r];return t}},h={desktop:!1,mobile:!1,ios:!1,android:!1,windows:!1,xbox:!1,gamepads:!1,touch:!1,workers:!1,passiveEvents:!1};if("undefined"!==typeof navigator){var u=navigator.userAgent;/(windows|mac os|linux|cros)/i.test(u)&&(h.desktop=!0),/xbox/i.test(u)&&(h.xbox=!0),/(windows phone|iemobile|wpdesktop)/i.test(u)?(h.desktop=!1,h.mobile=!0,h.windows=!0):/android/i.test(u)?(h.desktop=!1,h.mobile=!0,h.android=!0):/ip([ao]d|hone)/i.test(u)&&(h.desktop=!1,h.mobile=!0,h.ios=!0),"undefined"!==typeof window&&(h.touch="ontouchstart"in window||"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0),h.gamepads="getGamepads"in navigator,h.workers="undefined"!==typeof Worker;try{var d=Object.defineProperty({},"passive",{get:function(){return h.passiveEvents=!0,!1}});window.addEventListener("testpassive",null,d),window.removeEventListener("testpassive",null,d)}catch(Zp){}}function p(e,t){var i=e.length;if((t=t||0)<0||t>=i)return null;var r,n=e.charCodeAt(t);return i>1&&n>=55296&&n<=56319&&(r=e.charCodeAt(t+1))>=56320&&r<=57343?{code:1024*(n-55296)+r-56320+65536,long:!0}:{code:n,long:!1}}function _(e,t,i){if(!e)return!1;var r=p(e);if(r){var n=r.code;return n>=t&&n<=i}return!1}function m(e,t){if(t===e.length-1)return 1;if(_(e[t],55296,56319)){var i=e.substring(t,t+2),r=e.substring(t+2,t+4);return _(r,127995,127999)||_(i,127462,127487)&&_(r,127462,127487)?4:_(r,65024,65039)?3:2}return _(e[t+1],65024,65039)?2:1}var b={ASCII_LOWERCASE:"abcdefghijklmnopqrstuvwxyz",ASCII_UPPERCASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",ASCII_LETTERS:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",format:function(e){for(var t=1;t<arguments.length;t++)e=e.replace("{"+(t-1)+"}",arguments[t]);return e},toBool:function(e,t){if("true"===e)return!0;if(t){if("false"===e)return!1;throw new TypeError("Not a boolean string")}return!1},getCodePoint:function(e,t){var i=p(e,t);return i&&i.code},getCodePoints:function(e){if("string"!==typeof e)throw new TypeError("Not a string");for(var t,i=0,r=[];t=p(e,i);)r.push(t.code),i+=t.long?2:1;return r},getSymbols:function(e){if("string"!==typeof e)throw new TypeError("Not a string");for(var t,i=0,r=e.length,n=[],a=0;i<r;)if(_(t=e[i+(a+=m(e,i+a))],8400,8447)&&(t=e[i+a++]),_(t,65024,65039)&&(t=e[i+a++]),t&&8205===t.charCodeAt(0))t=e[i+a++];else{var s=e.substring(i,i+a);n.push(s),i+=a,a=0}return n},fromCodePoint:function(){for(var e,t,i,r=[],n=0;n<arguments.length;++n)t=(e=Number(arguments[n]))-65536,i=e>65535?[55296+(t>>10),t%1024+56320]:[e],r.push(String.fromCharCode.apply(null,i));return r.join("")}},A={DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,clamp:function(e,t,i){return e>=i?i:e<=t?t:e},intToBytes24:function(e){return[e>>16&255,e>>8&255,255&e]},intToBytes32:function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},bytesToInt24:function(e,t,i){return e.length&&(i=e[2],t=e[1],e=e[0]),e<<16|t<<8|i},bytesToInt32:function(e,t,i,r){return e.length&&(r=e[3],i=e[2],t=e[1],e=e[0]),(e<<24|t<<16|i<<8|r)>>>32},lerp:function(e,t,i){return e+(t-e)*A.clamp(i,0,1)},lerpAngle:function(e,t,i){return t-e>180&&(t-=360),t-e<-180&&(t+=360),A.lerp(e,t,A.clamp(i,0,1))},powerOfTwo:function(e){return 0!==e&&!(e&e-1)},nextPowerOfTwo:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e},random:function(e,t){var i=t-e;return Math.random()*i+e},smoothstep:function(e,t,i){return i<=e?0:i>=t?1:(i=(i-e)/(t-e))*i*(3-2*i)},smootherstep:function(e,t,i){return i<=e?0:i>=t?1:(i=(i-e)/(t-e))*i*i*(i*(6*i-15)+10)},roundUp:function(e,t){return 0===t?e:Math.ceil(e/t)*t},float2Half:function(){var e=new Float32Array(1),t=new Int32Array(e.buffer);return function(i){e[0]=i;var r=t[0],n=r>>16&32768,a=r>>12&2047,s=r>>23&255;return s<103?n:s>142?(n|=31744,n|=(255==s?0:1)&&8388607&r):s<113?n|=((a|=2048)>>114-s)+(a>>113-s&1):(n|=s-112<<10|a>>1,n+=1&a)}}()};function v(e,t,i,r){var n=e&&e.length;3===n||4===n?(this.r=e[0],this.g=e[1],this.b=e[2],this.a=void 0!==e[3]?e[3]:1):(this.r=e||0,this.g=t||0,this.b=i||0,this.a=void 0!==r?r:1)}function y(){this._list=[],this._index={}}function g(e){this._index={},this._key=e||null}function k(e){o.call(this),this._index={},this._list=[],this._parent=e}Object.assign(v.prototype,{clone:function(){return new v(this.r,this.g,this.b,this.a)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this},equals:function(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a},set:function(e,t,i,r){return this.r=e,this.g=t,this.b=i,this.a=void 0===r?1:r,this},lerp:function(e,t,i){return this.r=e.r+i*(t.r-e.r),this.g=e.g+i*(t.g-e.g),this.b=e.b+i*(t.b-e.b),this.a=e.a+i*(t.a-e.a),this},fromString:function(e){var t,i=parseInt(e.replace("#","0x"),16);return e.length>7?t=A.intToBytes32(i):(t=A.intToBytes24(i))[3]=255,this.set(t[0]/255,t[1]/255,t[2]/255,t[3]/255),this},toString:function(e){var t="#"+((1<<24)+(Math.round(255*this.r)<<16)+(Math.round(255*this.g)<<8)+Math.round(255*this.b)).toString(16).slice(1);if(!0===e){var i=Math.round(255*this.a).toString(16);this.a<16/255?t+="0"+i:t+=i}return t}}),Object.defineProperties(v,{BLACK:{value:new v(0,0,0,1)},WHITE:{value:new v(1,1,1,1)},YELLOW:{value:new v(1,1,0,1)},RED:{value:new v(1,0,0,1)},MAGENTA:{value:new v(1,0,1,1)},GREEN:{value:new v(0,1,0,1)},GRAY:{value:new v(.5,.5,.5,1)},CYAN:{value:new v(0,1,1,1)},BLUE:{value:new v(0,0,1,1)}}),Object.freeze(v.BLACK),Object.freeze(v.WHITE),Object.freeze(v.YELLOW),Object.freeze(v.RED),Object.freeze(v.MAGENTA),Object.freeze(v.GREEN),Object.freeze(v.GRAY),Object.freeze(v.CYAN),Object.freeze(v.BLUE),Object.assign(y.prototype,{push:function(e,t){if(this._index[e])throw Error("Key already in index "+e);var i=this._list.push(t)-1;this._index[e]=i},has:function(e){return void 0!==this._index[e]},get:function(e){var t=this._index[e];return void 0!==t?this._list[t]:null},remove:function(e){var t=this._index[e];if(void 0!==t){for(e in this._list.splice(t,1),delete this._index[e],this._index){var i=this._index[e];i>t&&(this._index[e]=i-1)}return!0}return!1},list:function(){return this._list},clear:function(){for(var e in this._list.length=0,this._index)delete this._index[e]}}),Object.assign(g.prototype,{addItem:function(e){for(var t=e.tags._list,i=0;i<t.length;i++)this.add(t[i],e)},removeItem:function(e){for(var t=e.tags._list,i=0;i<t.length;i++)this.remove(t[i],e)},add:function(e,t){this._index[e]&&-1!==this._index[e].list.indexOf(t)||(this._index[e]||(this._index[e]={list:[]},this._key&&(this._index[e].keys={})),this._index[e].list.push(t),this._key&&(this._index[e].keys[t[this._key]]=t))},remove:function(e,t){if(this._index[e]&&(!this._key||this._index[e].keys[t[this._key]])){var i=this._index[e].list.indexOf(t);-1!==i&&(this._index[e].list.splice(i,1),this._key&&delete this._index[e].keys[t[this._key]],0===this._index[e].list.length&&delete this._index[e])}},find:function(e){var t,i,r,n,a,s,o,l,c=this,f={},h=[],u=function(e,t){return c._index[e].list.length-c._index[t].list.length};for(t=0;t<e.length;t++){if((a=e[t])instanceof Array){if(0===a.length)continue;if(1!==a.length){for(l=!1,r=0;r<a.length;r++)if(!this._index[a[r]]){l=!0;break}if(l)continue;for(1===(o=(s=a.slice(0).sort(u)).slice(1)).length&&(o=o[0]),i=0;i<this._index[s[0]].list.length;i++)n=this._index[s[0]].list[i],(this._key?!f[n[this._key]]:-1===h.indexOf(n))&&n.tags.has(o)&&(this._key&&(f[n[this._key]]=!0),h.push(n));continue}a=a[0]}if(a&&"string"===typeof a&&this._index[a])for(i=0;i<this._index[a].list.length;i++)n=this._index[a].list[i],this._key?f[n[this._key]]||(f[n[this._key]]=!0,h.push(n)):-1===h.indexOf(n)&&h.push(n)}return h}}),k.prototype=Object.create(o.prototype),k.prototype.constructor=k,Object.assign(k.prototype,{add:function(){var e=!1,t=this._processArguments(arguments,!0);if(!t.length)return e;for(var i=0;i<t.length;i++)this._index[t[i]]||(e=!0,this._index[t[i]]=!0,this._list.push(t[i]),this.fire("add",t[i],this._parent));return e&&this.fire("change",this._parent),e},remove:function(){var e=!1;if(!this._list.length)return e;var t=this._processArguments(arguments,!0);if(!t.length)return e;for(var i=0;i<t.length;i++)this._index[t[i]]&&(e=!0,delete this._index[t[i]],this._list.splice(this._list.indexOf(t[i]),1),this.fire("remove",t[i],this._parent));return e&&this.fire("change",this._parent),e},clear:function(){if(this._list.length){var e=this._list.slice(0);this._list=[],this._index={};for(var t=0;t<e.length;t++)this.fire("remove",e[t],this._parent);this.fire("change",this._parent)}},has:function(){return!!this._list.length&&this._has(this._processArguments(arguments))},_has:function(e){if(!this._list.length||!e.length)return!1;for(var t=0;t<e.length;t++)if(1===e[t].length){if(this._index[e[t][0]])return!0}else{for(var i=!0,r=0;r<e[t].length;r++)if(!this._index[e[t][r]]){i=!1;break}if(i)return!0}return!1},list:function(){return this._list.slice(0)},_processArguments:function(e,t){var i=[],r=[];if(!e||!e.length)return i;for(var n=0;n<e.length;n++)if(e[n]instanceof Array){t||(r=[]);for(var a=0;a<e[n].length;a++)"string"===typeof e[n][a]&&(t?i.push(e[n][a]):r.push(e[n][a]));!t&&r.length&&i.push(r)}else"string"===typeof e[n]&&(t?i.push(e[n]):i.push([e[n]]));return i}}),Object.defineProperty(k.prototype,"size",{get:function(){return this._list.length}});var x="undefined"!==typeof window&&window.performance&&window.performance.now&&window.performance.timing?function(){return window.performance.now()}:Date.now;function S(){this._isRunning=!1,this._a=0,this._b=0}function T(e){var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/);this.scheme=t[2],this.authority=t[4],this.path=t[5],this.query=t[7],this.fragment=t[9],this.toString=function(){var e="";return this.scheme&&(e+=this.scheme+":"),this.authority&&(e+="//"+this.authority),e+=this.path,this.query&&(e+="?"+this.query),this.fragment&&(e+="#"+this.fragment),e},this.getQuery=function(){var e,t={};return this.query&&decodeURIComponent(this.query).split("&").forEach((function(i,r,n){e=i.split("="),t[e[0]]=e[1]}),this),t},this.setQuery=function(e){var t="";for(var i in e)e.hasOwnProperty(i)&&(""!==t&&(t+="&"),t+=encodeURIComponent(i)+"="+encodeURIComponent(e[i]));this.query=t}}function w(){}Object.assign(S.prototype,{start:function(){this._isRunning=!0,this._a=x()},stop:function(){this._isRunning=!1,this._b=x()},getMilliseconds:function(){return this._b-this._a}}),w.ContentType={FORM_URLENCODED:"application/x-www-form-urlencoded",GIF:"image/gif",JPEG:"image/jpeg",DDS:"image/dds",JSON:"application/json",PNG:"image/png",TEXT:"text/plain",XML:"application/xml",WAV:"audio/x-wav",OGG:"audio/ogg",MP3:"audio/mpeg",MP4:"audio/mp4",AAC:"audio/aac",BIN:"application/octet-stream",BASIS:"image/basis",GLB:"model/gltf-binary"},w.ResponseType={TEXT:"text",ARRAY_BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json"},w.binaryExtensions=[".model",".wav",".ogg",".mp3",".mp4",".m4a",".aac",".dds",".basis",".glb"],w.retryDelay=100,Object.assign(w.prototype,{ContentType:w.ContentType,ResponseType:w.ResponseType,binaryExtensions:w.binaryExtensions,get:function(e,t,i){return"function"===typeof t&&(i=t,t={}),this.request("GET",e,t,i)},post:function(e,t,i,r){return"function"===typeof i&&(r=i,i={}),i.postdata=t,this.request("POST",e,i,r)},put:function(e,t,i,r){return"function"===typeof i&&(r=i,i={}),i.postdata=t,this.request("PUT",e,i,r)},del:function(e,t,i){return"function"===typeof t&&(i=t,t={}),this.request("DELETE",e,t,i)},request:function(e,t,i,r){var a,s,o,l,c,f=!1;if("function"===typeof i&&(r=i,i={}),i.retry&&(i=Object.assign({retries:0,maxRetries:5},i)),i.callback=r,null==i.async&&(i.async=!0),null==i.headers&&(i.headers={}),null!=i.postdata)if(i.postdata instanceof Document)l=i.postdata;else if(i.postdata instanceof FormData)l=i.postdata;else if(i.postdata instanceof Object){var h=i.headers["Content-Type"];switch(void 0===h&&(i.headers["Content-Type"]=w.ContentType.FORM_URLENCODED,h=i.headers["Content-Type"]),h){case w.ContentType.FORM_URLENCODED:l="";var u=!0;for(var d in i.postdata)i.postdata.hasOwnProperty(d)&&(u?u=!1:l+="&",l+=escape(d)+"="+escape(i.postdata[d]));break;default:case w.ContentType.JSON:null==h&&(i.headers["Content-Type"]=w.ContentType.JSON),l=JSON.stringify(i.postdata)}}else l=i.postdata;for(var p in!1===i.cache&&(o=x(),(a=new T(t)).query?a.query=a.query+"&ts="+o:a.query="ts="+o,t=a.toString()),i.query&&(s=n((a=new T(t)).getQuery(),i.query),a.setQuery(s),t=a.toString()),(c=new XMLHttpRequest).open(e,t,i.async),c.withCredentials=void 0!==i.withCredentials&&i.withCredentials,c.responseType=i.responseType||this._guessResponseType(t),i.headers)i.headers.hasOwnProperty(p)&&c.setRequestHeader(p,i.headers[p]);c.onreadystatechange=function(){this._onReadyStateChange(e,t,i,c)}.bind(this),c.onerror=function(){this._onError(e,t,i,c),f=!0}.bind(this);try{c.send(l)}catch(Zp){f||i.error(c.status,c,Zp)}return c},_guessResponseType:function(e){var t=new T(e),i=f.getExtension(t.path);return w.binaryExtensions.indexOf(i)>=0?w.ResponseType.ARRAY_BUFFER:".xml"===i?w.ResponseType.DOCUMENT:w.ResponseType.TEXT},_isBinaryContentType:function(e){return[w.ContentType.MP4,w.ContentType.WAV,w.ContentType.OGG,w.ContentType.MP3,w.ContentType.BIN,w.ContentType.DDS,w.ContentType.BASIS,w.ContentType.GLB].indexOf(e)>=0},_onReadyStateChange:function(e,t,i,r){if(4===r.readyState)switch(r.status){case 0:"/"!=t[0]?this._onSuccess(e,t,i,r):this._onError(e,t,i,r);break;case 200:case 201:case 206:case 304:this._onSuccess(e,t,i,r);break;default:this._onError(e,t,i,r)}},_onSuccess:function(e,t,i,r){var n,a,s;(a=r.getResponseHeader("Content-Type"))&&(s=a.split(";")[0].trim());try{s===this.ContentType.JSON||t.split("?")[0].endsWith(".json")?n=JSON.parse(r.responseText):this._isBinaryContentType(s)?n=r.response:(s&&console.warn("responseType: "+r.responseType+" being served with Content-Type: "+s),n=r.responseType===w.ResponseType.ARRAY_BUFFER||r.responseType===w.ResponseType.BLOB||r.responseType===w.ResponseType.JSON?r.response:r.responseType===w.ResponseType.DOCUMENT||s===this.ContentType.XML?r.responseXML:r.responseText),i.callback(null,n)}catch(o){i.callback(o)}},_onError:function(e,t,i,r){if(!i.retrying)if(i.retry&&i.retries<i.maxRetries){i.retries++,i.retrying=!0;var n=A.clamp(Math.pow(2,i.retries)*w.retryDelay,0,i.maxRetryDelay||5e3);console.log(e+": "+t+" - Error "+r.status+". Retrying in "+n+" ms"),setTimeout(function(){i.retrying=!1,this.request(e,t,i,i.callback)}.bind(this),n)}else i.callback(0===r.status?"Network error":r.status,null)}});var E=new w;function M(e,t){this._curve=e,this._left=-1/0,this._right=1/0,this._recip=0,this._p0=0,this._p1=0,this._m0=0,this._m1=0,this._reset(t||0)}function P(e){if(this.keys=[],this.type=1,this.tension=.5,this._eval=new M(this),e)for(var t=0;t<e.length-1;t+=2)this.keys.push([e[t],e[t+1]]);this.sort()}function R(){var e;if(this.curves=[],this._type=1,arguments.length>1)for(e=0;e<arguments.length;e++)this.curves.push(new P(arguments[e]));else if(0===arguments.length)this.curves.push(new P);else{var t=arguments[0];if("number"===typeof t)for(e=0;e<t;e++)this.curves.push(new P);else for(e=0;e<t.length;e++)this.curves.push(new P(t[e]))}}function C(){var e;(e=new Float32Array(9))[0]=e[4]=e[8]=1,this.data=e}function O(e,t){e&&2===e.length?(this.x=e[0],this.y=e[1]):(this.x=e||0,this.y=t||0)}function I(e,t,i){e&&3===e.length?(this.x=e[0],this.y=e[1],this.z=e[2]):(this.x=e||0,this.y=t||0,this.z=i||0)}function D(e,t,i,r){e&&4===e.length?(this.x=e[0],this.y=e[1],this.z=e[2],this.w=e[3]):(this.x=e||0,this.y=t||0,this.z=i||0,this.w=r||0)}Object.assign(M.prototype,{evaluate:function(e,t){var i;(t||e<this._left||e>=this._right)&&this._reset(e);var r=this._curve.type;if(5===r)i=this._p0;else{var n=0===this._recip?0:(e-this._left)*this._recip;i=0===r?A.lerp(this._p0,this._p1,n):1===r?A.lerp(this._p0,this._p1,n*n*(3-2*n)):this._evaluateHermite(this._p0,this._p1,this._m0,this._m1,n)}return i},_reset:function(e){var t=this._curve.keys,i=t.length;if(i)if(e<t[0][0])this._left=-1/0,this._right=t[0][0],this._recip=0,this._p0=this._p1=t[0][1],this._m0=this._m1=0;else if(e>=t[i-1][0])this._left=t[i-1][0],this._right=1/0,this._recip=0,this._p0=this._p1=t[i-1][1],this._m0=this._m1=0;else{for(var r=0;e>=t[r+1][0];)r++;this._left=t[r][0],this._right=t[r+1][0];var n=1/(this._right-this._left);this._recip=isFinite(n)?n:0,this._p0=t[r][1],this._p1=t[r+1][1],this._isHermite()&&this._calcTangents(t,r)}else this._left=-1/0,this._right=1/0,this._recip=0,this._p0=this._p1=this._m0=this._m1=0},_isHermite:function(){return 2===this._curve.type||3===this._curve.type||4===this._curve.type},_calcTangents:function(e,t){var i,r,n=e[t],a=e[t+1];if(i=0===t?[e[0][0]+(e[0][0]-e[1][0]),e[0][1]+(e[0][1]-e[1][1])]:e[t-1],r=t==e.length-2?[e[t+1][0]+(e[t+1][0]-e[t][0]),e[t+1][1]+(e[t+1][1]-e[t][1])]:e[t+2],4===this._curve.type){var s=2*(a[0]-n[0])/(a[0]-i[0]),o=2*(a[0]-n[0])/(r[0]-n[0]);this._m0=this._curve.tension*(isFinite(s)?s:0)*(a[1]-i[1]),this._m1=this._curve.tension*(isFinite(o)?o:0)*(r[1]-n[1])}else{var l=(a[0]-n[0])/(n[0]-i[0]),c=(a[0]-n[0])/(r[0]-a[0]),f=n[1]+(i[1]-n[1])*(isFinite(l)?l:0),h=a[1]+(r[1]-a[1])*(isFinite(c)?c:0),u=2===this._curve.type?.5:this._curve.tension;this._m0=u*(a[1]-f),this._m1=u*(h-n[1])}},_evaluateHermite:function(e,t,i,r,n){var a=n*n,s=n+n,o=1-n,l=o*o;return e*((1+s)*l)+i*(n*l)+t*(a*(3-s))+r*(a*(n-1))}}),Object.assign(P.prototype,{add:function(e,t){for(var i=this.keys,r=i.length,n=0;n<r&&!(i[n][0]>e);n++);var a=[e,t];return this.keys.splice(n,0,a),a},get:function(e){return this.keys[e]},sort:function(){this.keys.sort((function(e,t){return e[0]-t[0]}))},value:function(e){return this._eval.evaluate(e,!0)},closest:function(e){for(var t=this.keys,i=t.length,r=2,n=null,a=0;a<i;a++){var s=Math.abs(e-t[a][0]);if(!(r>=s))break;r=s,n=t[a]}return n},clone:function(){var e=new P;return e.keys=n(e.keys,this.keys),e.type=this.type,e.tension=this.tension,e},quantize:function(e){e=Math.max(e,2);var t=new Float32Array(e),i=1/(e-1);t[0]=this._eval.evaluate(0,!0);for(var r=1;r<e;r++)t[r]=this._eval.evaluate(i*r);return t},quantizeClamped:function(e,t,i){for(var r=this.quantize(e),n=0;n<r.length;++n)r[n]=Math.min(i,Math.max(t,r[n]));return r}}),Object.defineProperty(P.prototype,"length",{get:function(){return this.keys.length}}),Object.assign(R.prototype,{get:function(e){return this.curves[e]},value:function(e,t){var i=this.curves.length;(t=t||[]).length=i;for(var r=0;r<i;r++)t[r]=this.curves[r].value(e);return t},clone:function(){var e=new R;e.curves=[];for(var t=0;t<this.curves.length;t++)e.curves.push(this.curves[t].clone());return e._type=this._type,e},quantize:function(e){e=Math.max(e,2);for(var t=this.curves.length,i=new Float32Array(e*t),r=1/(e-1),n=0;n<t;n++)for(var a=new M(this.curves[n]),s=0;s<e;s++)i[s*t+n]=a.evaluate(r*s);return i},quantizeClamped:function(e,t,i){for(var r=this.quantize(e),n=0;n<r.length;++n)r[n]=Math.min(i,Math.max(t,r[n]));return r}}),Object.defineProperty(R.prototype,"length",{get:function(){return this.curves.length}}),Object.defineProperty(R.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e;for(var t=0;t<this.curves.length;t++)this.curves[t].type=e}}),Object.assign(C.prototype,{clone:function(){return(new C).copy(this)},copy:function(e){var t=e.data,i=this.data;return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],this},set:function(e){var t=this.data;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],this},equals:function(e){var t=this.data,i=e.data;return t[0]===i[0]&&t[1]===i[1]&&t[2]===i[2]&&t[3]===i[3]&&t[4]===i[4]&&t[5]===i[5]&&t[6]===i[6]&&t[7]===i[7]&&t[8]===i[8]},isIdentity:function(){var e=this.data;return 1===e[0]&&0===e[1]&&0===e[2]&&0===e[3]&&1===e[4]&&0===e[5]&&0===e[6]&&0===e[7]&&1===e[8]},setIdentity:function(){var e=this.data;return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,this},toString:function(){for(var e="[",t=0;t<9;t++)e+=this.data[t],e+=8!==t?", ":"";return e+="]"},transpose:function(){var e,t=this.data;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}}),Object.defineProperties(C,{ZERO:{value:(new C).set([0,0,0,0,0,0,0,0,0])},IDENTITY:{value:new C}}),Object.freeze(C.ZERO),Object.freeze(C.IDENTITY),Object.assign(O.prototype,{add:function(e){return this.x+=e.x,this.y+=e.y,this},add2:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},clone:function(){return(new O).copy(this)},copy:function(e){return this.x=e.x,this.y=e.y,this},distance:function(e){var t=this.x-e.x,i=this.y-e.y;return Math.sqrt(t*t+i*i)},dot:function(e){return this.x*e.x+this.y*e.y},equals:function(e){return this.x===e.x&&this.y===e.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthSq:function(){return this.x*this.x+this.y*this.y},lerp:function(e,t,i){return this.x=e.x+i*(t.x-e.x),this.y=e.y+i*(t.y-e.y),this},mul:function(e){return this.x*=e.x,this.y*=e.y,this},mul2:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this},normalize:function(){var e=this.x*this.x+this.y*this.y;if(e>0){var t=1/Math.sqrt(e);this.x*=t,this.y*=t}return this},scale:function(e){return this.x*=e,this.y*=e,this},set:function(e,t){return this.x=e,this.y=t,this},sub:function(e){return this.x-=e.x,this.y-=e.y,this},sub2:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},toString:function(){return"["+this.x+", "+this.y+"]"}}),Object.defineProperties(O,{ZERO:{value:new O(0,0)},ONE:{value:new O(1,1)},UP:{value:new O(0,1)},DOWN:{value:new O(0,-1)},RIGHT:{value:new O(1,0)},LEFT:{value:new O(-1,0)}}),Object.freeze(O.ZERO),Object.freeze(O.ONE),Object.freeze(O.UP),Object.freeze(O.DOWN),Object.freeze(O.RIGHT),Object.freeze(O.LEFT),Object.assign(I.prototype,{add:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this},add2:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},clone:function(){return(new I).copy(this)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},cross:function(e,t){var i=e.x,r=e.y,n=e.z,a=t.x,s=t.y,o=t.z;return this.x=r*o-s*n,this.y=n*a-o*i,this.z=i*s-a*r,this},distance:function(e){var t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return Math.sqrt(t*t+i*i+r*r)},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},equals:function(e){return this.x===e.x&&this.y===e.y&&this.z===e.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},lerp:function(e,t,i){return this.x=e.x+i*(t.x-e.x),this.y=e.y+i*(t.y-e.y),this.z=e.z+i*(t.z-e.z),this},mul:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this},mul2:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},normalize:function(){var e=this.x*this.x+this.y*this.y+this.z*this.z;if(e>0){var t=1/Math.sqrt(e);this.x*=t,this.y*=t,this.z*=t}return this},project:function(e){var t=(this.x*e.x+this.y*e.y+this.z*e.z)/(e.x*e.x+e.y*e.y+e.z*e.z);return this.x=e.x*t,this.y=e.y*t,this.z=e.z*t,this},scale:function(e){return this.x*=e,this.y*=e,this.z*=e,this},set:function(e,t,i){return this.x=e,this.y=t,this.z=i,this},sub:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this},sub2:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},toString:function(){return"["+this.x+", "+this.y+", "+this.z+"]"}}),Object.defineProperties(I,{ZERO:{value:new I(0,0,0)},ONE:{value:new I(1,1,1)},UP:{value:new I(0,1,0)},DOWN:{value:new I(0,-1,0)},RIGHT:{value:new I(1,0,0)},LEFT:{value:new I(-1,0,0)},FORWARD:{value:new I(0,0,-1)},BACK:{value:new I(0,0,1)}}),Object.freeze(I.ZERO),Object.freeze(I.ONE),Object.freeze(I.UP),Object.freeze(I.DOWN),Object.freeze(I.RIGHT),Object.freeze(I.LEFT),Object.freeze(I.FORWARD),Object.freeze(I.BACK),Object.assign(D.prototype,{add:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this},add2:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},clone:function(){return(new D).copy(this)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},equals:function(e){return this.x===e.x&&this.y===e.y&&this.z===e.z&&this.w===e.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},lerp:function(e,t,i){return this.x=e.x+i*(t.x-e.x),this.y=e.y+i*(t.y-e.y),this.z=e.z+i*(t.z-e.z),this.w=e.w+i*(t.w-e.w),this},mul:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this},mul2:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this.w=e.w*t.w,this},normalize:function(){var e=this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w;if(e>0){var t=1/Math.sqrt(e);this.x*=t,this.y*=t,this.z*=t,this.w*=t}return this},scale:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},set:function(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this},sub:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this},sub2:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},toString:function(){return"["+this.x+", "+this.y+", "+this.z+", "+this.w+"]"}}),Object.defineProperties(D,{ZERO:{value:new D(0,0,0,0)},ONE:{value:new D(1,1,1,1)}}),Object.freeze(D.ZERO),Object.freeze(D.ONE);var F=new O;function N(){var e=new Float32Array(16);e[0]=e[5]=e[10]=e[15]=1,this.data=e}function B(e,t,i,r){e&&4===e.length?(this.x=e[0],this.y=e[1],this.z=e[2],this.w=e[3]):(this.x=void 0===e?0:e,this.y=void 0===t?0:t,this.z=void 0===i?0:i,this.w=void 0===r?1:r)}N._getPerspectiveHalfSize=function(e,t,i,r,n){n?(e.x=r*Math.tan(t*Math.PI/360),e.y=e.x/i):(e.y=r*Math.tan(t*Math.PI/360),e.x=e.y*i)},Object.assign(N.prototype,{add2:function(e,t){var i=e.data,r=t.data,n=this.data;return n[0]=i[0]+r[0],n[1]=i[1]+r[1],n[2]=i[2]+r[2],n[3]=i[3]+r[3],n[4]=i[4]+r[4],n[5]=i[5]+r[5],n[6]=i[6]+r[6],n[7]=i[7]+r[7],n[8]=i[8]+r[8],n[9]=i[9]+r[9],n[10]=i[10]+r[10],n[11]=i[11]+r[11],n[12]=i[12]+r[12],n[13]=i[13]+r[13],n[14]=i[14]+r[14],n[15]=i[15]+r[15],this},add:function(e){return this.add2(this,e)},clone:function(){return(new N).copy(this)},copy:function(e){var t=e.data,i=this.data;return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15],this},equals:function(e){var t=this.data,i=e.data;return t[0]===i[0]&&t[1]===i[1]&&t[2]===i[2]&&t[3]===i[3]&&t[4]===i[4]&&t[5]===i[5]&&t[6]===i[6]&&t[7]===i[7]&&t[8]===i[8]&&t[9]===i[9]&&t[10]===i[10]&&t[11]===i[11]&&t[12]===i[12]&&t[13]===i[13]&&t[14]===i[14]&&t[15]===i[15]},isIdentity:function(){var e=this.data;return 1===e[0]&&0===e[1]&&0===e[2]&&0===e[3]&&0===e[4]&&1===e[5]&&0===e[6]&&0===e[7]&&0===e[8]&&0===e[9]&&1===e[10]&&0===e[11]&&0===e[12]&&0===e[13]&&0===e[14]&&1===e[15]},mul2:function(e,t){var i,r,n,a,s,o,l,c,f,h,u,d,p,_,m,b,A,v,y,g,k=e.data,x=t.data,S=this.data;return i=k[0],r=k[1],n=k[2],a=k[3],s=k[4],o=k[5],l=k[6],c=k[7],f=k[8],h=k[9],u=k[10],d=k[11],p=k[12],_=k[13],m=k[14],b=k[15],A=x[0],v=x[1],y=x[2],g=x[3],S[0]=i*A+s*v+f*y+p*g,S[1]=r*A+o*v+h*y+_*g,S[2]=n*A+l*v+u*y+m*g,S[3]=a*A+c*v+d*y+b*g,A=x[4],v=x[5],y=x[6],g=x[7],S[4]=i*A+s*v+f*y+p*g,S[5]=r*A+o*v+h*y+_*g,S[6]=n*A+l*v+u*y+m*g,S[7]=a*A+c*v+d*y+b*g,A=x[8],v=x[9],y=x[10],g=x[11],S[8]=i*A+s*v+f*y+p*g,S[9]=r*A+o*v+h*y+_*g,S[10]=n*A+l*v+u*y+m*g,S[11]=a*A+c*v+d*y+b*g,A=x[12],v=x[13],y=x[14],g=x[15],S[12]=i*A+s*v+f*y+p*g,S[13]=r*A+o*v+h*y+_*g,S[14]=n*A+l*v+u*y+m*g,S[15]=a*A+c*v+d*y+b*g,this},mulAffine2:function(e,t){var i,r,n,a,s,o,l,c,f,h,u,d,p,_,m,b=e.data,A=t.data,v=this.data;return i=b[0],r=b[1],n=b[2],a=b[4],s=b[5],o=b[6],l=b[8],c=b[9],f=b[10],h=b[12],u=b[13],d=b[14],p=A[0],_=A[1],m=A[2],v[0]=i*p+a*_+l*m,v[1]=r*p+s*_+c*m,v[2]=n*p+o*_+f*m,v[3]=0,p=A[4],_=A[5],m=A[6],v[4]=i*p+a*_+l*m,v[5]=r*p+s*_+c*m,v[6]=n*p+o*_+f*m,v[7]=0,p=A[8],_=A[9],m=A[10],v[8]=i*p+a*_+l*m,v[9]=r*p+s*_+c*m,v[10]=n*p+o*_+f*m,v[11]=0,p=A[12],_=A[13],m=A[14],v[12]=i*p+a*_+l*m+h,v[13]=r*p+s*_+c*m+u,v[14]=n*p+o*_+f*m+d,v[15]=1,this},mul:function(e){return this.mul2(this,e)},transformPoint:function(e,t){var i,r,n,a;return a=this.data,i=e.x,r=e.y,n=e.z,(t=void 0===t?new I:t).x=i*a[0]+r*a[4]+n*a[8]+a[12],t.y=i*a[1]+r*a[5]+n*a[9]+a[13],t.z=i*a[2]+r*a[6]+n*a[10]+a[14],t},transformVector:function(e,t){var i,r,n,a;return a=this.data,i=e.x,r=e.y,n=e.z,(t=void 0===t?new I:t).x=i*a[0]+r*a[4]+n*a[8],t.y=i*a[1]+r*a[5]+n*a[9],t.z=i*a[2]+r*a[6]+n*a[10],t},transformVec4:function(e,t){var i,r,n,a,s;return s=this.data,i=e.x,r=e.y,n=e.z,a=e.w,(t=void 0===t?new D:t).x=i*s[0]+r*s[4]+n*s[8]+a*s[12],t.y=i*s[1]+r*s[5]+n*s[9]+a*s[13],t.z=i*s[2]+r*s[6]+n*s[10]+a*s[14],t.w=i*s[3]+r*s[7]+n*s[11]+a*s[15],t},setLookAt:function(){var e,t,i;return e=new I,t=new I,i=new I,function(r,n,a){i.sub2(r,n).normalize(),t.copy(a).normalize(),e.cross(t,i).normalize(),t.cross(i,e);var s=this.data;return s[0]=e.x,s[1]=e.y,s[2]=e.z,s[3]=0,s[4]=t.x,s[5]=t.y,s[6]=t.z,s[7]=0,s[8]=i.x,s[9]=i.y,s[10]=i.z,s[11]=0,s[12]=r.x,s[13]=r.y,s[14]=r.z,s[15]=1,this}}(),setFrustum:function(e,t,i,r,n,a){var s,o,l,c,f;return s=2*n,o=t-e,l=r-i,c=a-n,(f=this.data)[0]=s/o,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=s/l,f[6]=0,f[7]=0,f[8]=(t+e)/o,f[9]=(r+i)/l,f[10]=(-a-n)/c,f[11]=-1,f[12]=0,f[13]=0,f[14]=-s*a/c,f[15]=0,this},setPerspective:function(e,t,i,r,n){return N._getPerspectiveHalfSize(F,e,t,i,n),this.setFrustum(-F.x,F.x,-F.y,F.y,i,r)},setOrtho:function(e,t,i,r,n,a){var s=this.data;return s[0]=2/(t-e),s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=2/(r-i),s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=-2/(a-n),s[11]=0,s[12]=-(t+e)/(t-e),s[13]=-(r+i)/(r-i),s[14]=-(a+n)/(a-n),s[15]=1,this},setFromAxisAngle:function(e,t){var i,r,n,a,s,o,l,c,f;return t*=A.DEG_TO_RAD,i=e.x,r=e.y,n=e.z,a=Math.cos(t),s=Math.sin(t),l=(o=1-a)*i,c=o*r,(f=this.data)[0]=l*i+a,f[1]=l*r+s*n,f[2]=l*n-s*r,f[3]=0,f[4]=l*r-s*n,f[5]=c*r+a,f[6]=c*n+s*i,f[7]=0,f[8]=l*n+s*r,f[9]=c*n-i*s,f[10]=o*n*n+a,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,this},setTranslate:function(e,t,i){var r=this.data;return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=e,r[13]=t,r[14]=i,r[15]=1,this},setScale:function(e,t,i){var r=this.data;return r[0]=e,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=t,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=i,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this},invert:function(){var e,t,i,r,n,a,s,o,l,c,f,h,u,d,p,_,m,b,A,v,y,g,k,x,S,T,w,E,M,P,R;return e=(R=this.data)[0],t=R[1],i=R[2],r=R[3],n=R[4],a=R[5],s=R[6],o=R[7],l=R[8],c=R[9],f=R[10],h=R[11],u=R[12],d=R[13],p=R[14],0===(M=(m=e*a-t*n)*(E=f*(_=R[15])-h*p)-(b=e*s-i*n)*(w=c*_-h*d)+(A=e*o-r*n)*(T=c*p-f*d)+(v=t*s-i*a)*(S=l*_-h*u)-(y=t*o-r*a)*(x=l*p-f*u)+(g=i*o-r*s)*(k=l*d-c*u))?this.setIdentity():(P=1/M,R[0]=(a*E-s*w+o*T)*P,R[1]=(-t*E+i*w-r*T)*P,R[2]=(d*g-p*y+_*v)*P,R[3]=(-c*g+f*y-h*v)*P,R[4]=(-n*E+s*S-o*x)*P,R[5]=(e*E-i*S+r*x)*P,R[6]=(-u*g+p*A-_*b)*P,R[7]=(l*g-f*A+h*b)*P,R[8]=(n*w-a*S+o*k)*P,R[9]=(-e*w+t*S-r*k)*P,R[10]=(u*y-d*A+_*m)*P,R[11]=(-l*y+c*A-h*m)*P,R[12]=(-n*T+a*x-s*k)*P,R[13]=(e*T-t*x+i*k)*P,R[14]=(-u*v+d*b-p*m)*P,R[15]=(l*v-c*b+f*m)*P),this},set:function(e){var t=this.data;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],this},setIdentity:function(){var e=this.data;return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},setTRS:function(e,t,i){var r,n,a,s,o,l,c,f,h,u,d,p,_,m,b,A,v,y,g,k;return r=t.x,n=t.y,a=t.z,s=t.w,o=i.x,l=i.y,c=i.z,d=r*(f=r+r),p=r*(h=n+n),_=r*(u=a+a),m=n*h,b=n*u,A=a*u,v=s*f,y=s*h,g=s*u,(k=this.data)[0]=(1-(m+A))*o,k[1]=(p+g)*o,k[2]=(_-y)*o,k[3]=0,k[4]=(p-g)*l,k[5]=(1-(d+A))*l,k[6]=(b+v)*l,k[7]=0,k[8]=(_+y)*c,k[9]=(b-v)*c,k[10]=(1-(d+m))*c,k[11]=0,k[12]=e.x,k[13]=e.y,k[14]=e.z,k[15]=1,this},transpose:function(){var e,t=this.data;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},invertTo3x3:function(e){var t,i,r,n,a,s,o,l,c,f,h,u,d;f=this.data,h=e.data;var p=f[0],_=f[1],m=f[2],b=f[4],A=f[5],v=f[6],y=f[8],g=f[9],k=f[10];return i=-k*_+m*g,r=v*_-m*A,a=k*p-m*y,s=-v*p+m*b,l=-g*p+_*y,c=A*p-_*b,0===(u=p*(t=k*A-v*g)+_*(n=-k*b+v*y)+m*(o=g*b-A*y))||(d=1/u,h[0]=d*t,h[1]=d*i,h[2]=d*r,h[3]=d*n,h[4]=d*a,h[5]=d*s,h[6]=d*o,h[7]=d*l,h[8]=d*c),this},getTranslation:function(e){return(e=void 0===e?new I:e).set(this.data[12],this.data[13],this.data[14])},getX:function(e){return(e=void 0===e?new I:e).set(this.data[0],this.data[1],this.data[2])},getY:function(e){return(e=void 0===e?new I:e).set(this.data[4],this.data[5],this.data[6])},getZ:function(e){return(e=void 0===e?new I:e).set(this.data[8],this.data[9],this.data[10])},getScale:function(){var e,t,i;return e=new I,t=new I,i=new I,function(r){return r=void 0===r?new I:r,this.getX(e),this.getY(t),this.getZ(i),r.set(e.length(),t.length(),i.length()),r}}(),setFromEulerAngles:function(e,t,i){var r,n,a,s,o,l,c;return e*=A.DEG_TO_RAD,t*=A.DEG_TO_RAD,i*=A.DEG_TO_RAD,r=Math.sin(-e),n=Math.cos(-e),a=Math.sin(-t),s=Math.cos(-t),o=Math.sin(-i),l=Math.cos(-i),(c=this.data)[0]=s*l,c[1]=-s*o,c[2]=a,c[3]=0,c[4]=n*o+l*r*a,c[5]=n*l-r*a*o,c[6]=-s*r,c[7]=0,c[8]=r*o-n*l*a,c[9]=l*r+n*a*o,c[10]=n*s,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,this},getEulerAngles:function(){var e=new I;return function(t){var i,r,n,a,s,o,l,c;return t=void 0===t?new I:t,this.getScale(e),a=e.x,s=e.y,o=e.z,l=this.data,(r=Math.asin(-l[2]/a))<(c=.5*Math.PI)?r>-c?(i=Math.atan2(l[6]/s,l[10]/o),n=Math.atan2(l[1]/a,l[0]/a)):(n=0,i=-Math.atan2(l[4]/s,l[5]/s)):(n=0,i=Math.atan2(l[4]/s,l[5]/s)),t.set(i,r,n).scale(A.RAD_TO_DEG)}}(),toString:function(){var e,t;for(t="[",e=0;e<16;e+=1)t+=this.data[e],t+=15!==e?", ":"";return t+="]"}}),Object.defineProperties(N,{ZERO:{value:(new N).set([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])},IDENTITY:{value:new N}}),Object.freeze(N.ZERO),Object.freeze(N.IDENTITY),Object.assign(B.prototype,{clone:function(){return new B(this.x,this.y,this.z,this.w)},conjugate:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},equals:function(e){return this.x===e.x&&this.y===e.y&&this.z===e.z&&this.w===e.w},getAxisAngle:function(e){var t=2*Math.acos(this.w),i=Math.sin(t/2);return 0!==i?(e.x=this.x/i,e.y=this.y/i,e.z=this.z/i,(e.x<0||e.y<0||e.z<0)&&(e.x*=-1,e.y*=-1,e.z*=-1,t*=-1)):(e.x=1,e.y=0,e.z=0),t*A.RAD_TO_DEG},getEulerAngles:function(e){var t,i,r,n,a,s,o,l;return e=void 0===e?new I:e,n=this.x,a=this.y,s=this.z,(l=2*((o=this.w)*a-n*s))<=-.99999?(t=2*Math.atan2(n,o),i=-Math.PI/2,r=0):l>=.99999?(t=2*Math.atan2(n,o),i=Math.PI/2,r=0):(t=Math.atan2(2*(o*n+a*s),1-2*(n*n+a*a)),i=Math.asin(l),r=Math.atan2(2*(o*s+n*a),1-2*(a*a+s*s))),e.set(t,i,r).scale(A.RAD_TO_DEG)},invert:function(){return this.conjugate().normalize()},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},mul:function(e){var t,i,r,n,a,s,o,l;return t=this.x,i=this.y,r=this.z,n=this.w,a=e.x,s=e.y,o=e.z,l=e.w,this.x=n*a+t*l+i*o-r*s,this.y=n*s+i*l+r*a-t*o,this.z=n*o+r*l+t*s-i*a,this.w=n*l-t*a-i*s-r*o,this},mul2:function(e,t){var i,r,n,a,s,o,l,c;return i=e.x,r=e.y,n=e.z,a=e.w,s=t.x,o=t.y,l=t.z,c=t.w,this.x=a*s+i*c+r*l-n*o,this.y=a*o+r*c+n*s-i*l,this.z=a*l+n*c+i*o-r*s,this.w=a*c-i*s-r*o-n*l,this},normalize:function(){var e=this.length();return 0===e?(this.x=this.y=this.z=0,this.w=1):(e=1/e,this.x*=e,this.y*=e,this.z*=e,this.w*=e),this},set:function(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this},setFromAxisAngle:function(e,t){var i,r;return t*=.5*A.DEG_TO_RAD,i=Math.sin(t),r=Math.cos(t),this.x=i*e.x,this.y=i*e.y,this.z=i*e.z,this.w=r,this},setFromEulerAngles:function(e,t,i){var r,n,a,s,o,l,c;return e*=c=.5*A.DEG_TO_RAD,t*=c,i*=c,r=Math.sin(e),n=Math.cos(e),a=Math.sin(t),s=Math.cos(t),o=Math.sin(i),l=Math.cos(i),this.x=r*s*l-n*a*o,this.y=n*a*l+r*s*o,this.z=n*s*o-r*a*l,this.w=n*s*l+r*a*o,this},setFromMat4:function(e){var t,i,r,n,a,s,o,l,c,f,h,u,d,p,_;return t=(e=e.data)[0],i=e[1],r=e[2],n=e[4],a=e[5],s=e[6],o=e[8],l=e[9],c=e[10],0===(d=t*t+i*i+r*r)||(d=1/Math.sqrt(d),0===(p=n*n+a*a+s*s)||(p=1/Math.sqrt(p),0===(_=o*o+l*l+c*c)||(i*=d,r*=d,n*=p,s*=p,o*=_=1/Math.sqrt(_),l*=_,(f=(t*=d)+(a*=p)+(c*=_))>=0?(h=Math.sqrt(f+1),this.w=.5*h,h=.5/h,this.x=(s-l)*h,this.y=(o-r)*h,this.z=(i-n)*h):t>a?t>c?(u=t-(a+c)+1,u=Math.sqrt(u),this.x=.5*u,u=.5/u,this.w=(s-l)*u,this.y=(i+n)*u,this.z=(r+o)*u):(u=c-(t+a)+1,u=Math.sqrt(u),this.z=.5*u,u=.5/u,this.w=(i-n)*u,this.x=(o+r)*u,this.y=(l+s)*u):a>c?(u=a-(c+t)+1,u=Math.sqrt(u),this.y=.5*u,u=.5/u,this.w=(o-r)*u,this.z=(s+l)*u,this.x=(n+i)*u):(u=c-(t+a)+1,u=Math.sqrt(u),this.z=.5*u,u=.5/u,this.w=(i-n)*u,this.x=(o+r)*u,this.y=(l+s)*u)))),this},slerp:function(e,t,i){var r,n,a,s,o,l,c,f;r=e.x,n=e.y,a=e.z,s=e.w,o=t.x,l=t.y,c=t.z;var h=s*(f=t.w)+r*o+n*l+a*c;if(h<0&&(f=-f,o=-o,l=-l,c=-c,h=-h),Math.abs(h)>=1)return this.w=s,this.x=r,this.y=n,this.z=a,this;var u=Math.acos(h),d=Math.sqrt(1-h*h);if(Math.abs(d)<.001)return this.w=.5*s+.5*f,this.x=.5*r+.5*o,this.y=.5*n+.5*l,this.z=.5*a+.5*c,this;var p=Math.sin((1-i)*u)/d,_=Math.sin(i*u)/d;return this.w=s*p+f*_,this.x=r*p+o*_,this.y=n*p+l*_,this.z=a*p+c*_,this},transformVector:function(e,t){void 0===t&&(t=new I);var i=e.x,r=e.y,n=e.z,a=this.x,s=this.y,o=this.z,l=this.w,c=l*i+s*n-o*r,f=l*r+o*i-a*n,h=l*n+a*r-s*i,u=-a*i-s*r-o*n;return t.x=c*l+u*-a+f*-o-h*-s,t.y=f*l+u*-s+h*-a-c*-o,t.z=h*l+u*-o+c*-s-f*-a,t},toString:function(){return"["+this.x+", "+this.y+", "+this.z+", "+this.w+"]"}}),Object.defineProperties(B,{ZERO:{value:new B(0,0,0,0)},IDENTITY:{value:new B(0,0,0,1)}}),Object.freeze(B.ZERO),Object.freeze(B.IDENTITY);var L=new I,U=new I,V=new I,z=new I,j=new I;function W(e,t){this.center=e||new I(0,0,0),this.halfExtents=t||new I(.5,.5,.5),this._min=new I,this._max=new I}Object.assign(W.prototype,{add:function(e){var t=this.center,i=t.x,r=t.y,n=t.z,a=this.halfExtents,s=a.x,o=a.y,l=a.z,c=i-s,f=i+s,h=r-o,u=r+o,d=n-l,p=n+l,_=e.center,m=_.x,b=_.y,A=_.z,v=e.halfExtents,y=v.x,g=v.y,k=v.z,x=m-y,S=m+y,T=b-g,w=b+g,E=A-k,M=A+k;x<c&&(c=x),S>f&&(f=S),T<h&&(h=T),w>u&&(u=w),E<d&&(d=E),M>p&&(p=M),t.x=.5*(c+f),t.y=.5*(h+u),t.z=.5*(d+p),a.x=.5*(f-c),a.y=.5*(u-h),a.z=.5*(p-d)},copy:function(e){this.center.copy(e.center),this.halfExtents.copy(e.halfExtents),this.type=e.type},clone:function(){return new W(this.center.clone(),this.halfExtents.clone())},intersects:function(e){var t=this.getMax(),i=this.getMin(),r=e.getMax(),n=e.getMin();return i.x<=r.x&&t.x>=n.x&&i.y<=r.y&&t.y>=n.y&&i.z<=r.z&&t.z>=n.z},_intersectsRay:function(e,t){var i=L.copy(this.getMin()).sub(e.origin),r=U.copy(this.getMax()).sub(e.origin),n=e.direction;0===n.x?(i.x=i.x<0?-Number.MAX_VALUE:Number.MAX_VALUE,r.x=r.x<0?-Number.MAX_VALUE:Number.MAX_VALUE):(i.x/=n.x,r.x/=n.x),0===n.y?(i.y=i.y<0?-Number.MAX_VALUE:Number.MAX_VALUE,r.y=r.y<0?-Number.MAX_VALUE:Number.MAX_VALUE):(i.y/=n.y,r.y/=n.y),0===n.z?(i.z=i.z<0?-Number.MAX_VALUE:Number.MAX_VALUE,r.z=r.z<0?-Number.MAX_VALUE:Number.MAX_VALUE):(i.z/=n.z,r.z/=n.z);var a=V.set(Math.min(i.x,r.x),Math.min(i.y,r.y),Math.min(i.z,r.z)),s=z.set(Math.max(i.x,r.x),Math.max(i.y,r.y),Math.max(i.z,r.z)),o=Math.min(Math.min(s.x,s.y),s.z),l=Math.max(Math.max(a.x,a.y),a.z),c=o>=l&&l>=0;return c&&t.copy(e.direction).scale(l).add(e.origin),c},_fastIntersectsRay:function(e){var t=L,i=U,r=V,n=z,a=j,s=e.direction;return t.sub2(e.origin,this.center),n.set(Math.abs(t.x),Math.abs(t.y),Math.abs(t.z)),r.mul2(t,s),!(n.x>this.halfExtents.x&&r.x>=0)&&!(n.y>this.halfExtents.y&&r.y>=0)&&!(n.z>this.halfExtents.z&&r.z>=0)&&(a.set(Math.abs(s.x),Math.abs(s.y),Math.abs(s.z)),i.cross(s,t),i.set(Math.abs(i.x),Math.abs(i.y),Math.abs(i.z)),!(i.x>this.halfExtents.y*a.z+this.halfExtents.z*a.y)&&!(i.y>this.halfExtents.x*a.z+this.halfExtents.z*a.x)&&!(i.z>this.halfExtents.x*a.y+this.halfExtents.y*a.x))},intersectsRay:function(e,t){return t?this._intersectsRay(e,t):this._fastIntersectsRay(e)},setMinMax:function(e,t){this.center.add2(t,e).scale(.5),this.halfExtents.sub2(t,e).scale(.5)},getMin:function(){return this._min.copy(this.center).sub(this.halfExtents)},getMax:function(){return this._max.copy(this.center).add(this.halfExtents)},containsPoint:function(e){var t=this.getMin(),i=this.getMax();return!(e.x<t.x||e.x>i.x||e.y<t.y||e.y>i.y||e.z<t.z||e.z>i.z)},setFromTransformedAabb:function(e,t){var i=e.center,r=e.halfExtents,n=t.data,a=n[0],s=n[4],o=n[8],l=n[1],c=n[5],f=n[9],h=n[2],u=n[6],d=n[10];this.center.set(n[12]+a*i.x+s*i.y+o*i.z,n[13]+l*i.x+c*i.y+f*i.z,n[14]+h*i.x+u*i.y+d*i.z),this.halfExtents.set(Math.abs(a)*r.x+Math.abs(s)*r.y+Math.abs(o)*r.z,Math.abs(l)*r.x+Math.abs(c)*r.y+Math.abs(f)*r.z,Math.abs(h)*r.x+Math.abs(u)*r.y+Math.abs(d)*r.z)},compute:function(e,t){if((t=void 0===t?e.length/3:t)>0){for(var i=L.set(e[0],e[1],e[2]),r=U.set(e[0],e[1],e[2]),n=1;n<t;n++){var a=e[3*n+0],s=e[3*n+1],o=e[3*n+2];a<i.x&&(i.x=a),s<i.y&&(i.y=s),o<i.z&&(i.z=o),a>r.x&&(r.x=a),s>r.y&&(r.y=s),o>r.z&&(r.z=o)}this.setMinMax(i,r)}},intersectsBoundingSphere:function(e){return this._distanceToBoundingSphereSq(e)<=e.radius*e.radius},_distanceToBoundingSphereSq:function(e){for(var t=this.getMin(),i=this.getMax(),r=0,n=["x","y","z"],a=0;a<3;++a){var s=0,o=e.center[n[a]],l=t[n[a]],c=i[n[a]],f=0;o<l&&(s+=(f=l-o)*f),o>c&&(s+=(f=o-c)*f),r+=s}return r},_expand:function(e,t){L.add2(this.getMin(),e),U.add2(this.getMax(),t),this.setMinMax(L,U)}});var G=new I,H=new I,Y=new I,X=new I;function Z(e,t){this.center=e||new I(0,0,0),this.radius=void 0===t?.5:t}function Q(){this.planes=[];for(var e=0;e<6;e++)this.planes[e]=[]}function J(e,t){this.origin=e||new I(0,0,0),this.direction=t||new I(0,0,-1)}Object.assign(Z.prototype,{containsPoint:function(e){var t=G.sub2(e,this.center).lengthSq(),i=this.radius;return t<i*i},compute:function(e){var t,i=e.length/3,r=G,n=H,a=Y;for(t=0;t<i;t++)r.set(e[3*t],e[3*t+1],e[3*t+2]),a.addSelf(r),t%100===0&&(a.scale(1/i),n.add(a),a.set(0,0,0));a.scale(1/i),n.add(a),this.center.copy(n);var s=0,o=X;for(t=0;t<i;t++)r.set(e[3*t],e[3*t+1],e[3*t+2]),o.sub2(r,this.center),s=Math.max(o.lengthSq(),s);this.radius=Math.sqrt(s)},intersectsRay:function(e,t){var i=G.copy(e.origin).sub(this.center),r=i.dot(H.copy(e.direction).normalize()),n=i.dot(i)-this.radius*this.radius;if(n>0&&r>0)return null;var a=r*r-n;if(a<0)return!1;var s=Math.abs(-r-Math.sqrt(a));return t&&t.copy(e.direction).scale(s).add(e.origin),!0},intersectsBoundingSphere:function(e){G.sub2(e.center,this.center);var t=e.radius+this.radius;return G.lengthSq()<=t*t}}),Object.assign(Q.prototype,{setFromMat4:function(e){var t,i=e.data,r=this.planes;(t=r[0])[0]=i[3]-i[0],t[1]=i[7]-i[4],t[2]=i[11]-i[8],t[3]=i[15]-i[12];var n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n,t[3]/=n,(t=r[1])[0]=i[3]+i[0],t[1]=i[7]+i[4],t[2]=i[11]+i[8],t[3]=i[15]+i[12],n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),t[0]/=n,t[1]/=n,t[2]/=n,t[3]/=n,(t=r[2])[0]=i[3]+i[1],t[1]=i[7]+i[5],t[2]=i[11]+i[9],t[3]=i[15]+i[13],n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),t[0]/=n,t[1]/=n,t[2]/=n,t[3]/=n,(t=r[3])[0]=i[3]-i[1],t[1]=i[7]-i[5],t[2]=i[11]-i[9],t[3]=i[15]-i[13],n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),t[0]/=n,t[1]/=n,t[2]/=n,t[3]/=n,(t=r[4])[0]=i[3]-i[2],t[1]=i[7]-i[6],t[2]=i[11]-i[10],t[3]=i[15]-i[14],n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),t[0]/=n,t[1]/=n,t[2]/=n,t[3]/=n,(t=r[5])[0]=i[3]+i[2],t[1]=i[7]+i[6],t[2]=i[11]+i[10],t[3]=i[15]+i[14],n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),t[0]/=n,t[1]/=n,t[2]/=n,t[3]/=n},containsPoint:function(e){var t,i;for(t=0;t<6;t++)if((i=this.planes[t])[0]*e.x+i[1]*e.y+i[2]*e.z+i[3]<=0)return!1;return!0},containsSphere:function(e){var t,i,r,n=0,a=e.radius,s=e.center,o=s.x,l=s.y,c=s.z,f=this.planes;for(i=0;i<6;i++){if((t=(r=f[i])[0]*o+r[1]*l+r[2]*c+r[3])<=-a)return 0;t>a&&n++}return 6===n?2:1}}),J.prototype.set=function(e,t){return this.origin.copy(e),this.direction.copy(t),this};var q=new J,K=new I,$=new Z,ee=new N;function te(e,t){this.halfExtents=t||new I(.5,.5,.5),e=e||ee.setIdentity(),this._modelTransform=e.clone().invert(),this._worldTransform=e.clone(),this._aabb=new W(new I,this.halfExtents)}Object.assign(te.prototype,{intersectsRay:function(e,t){if(this._modelTransform.transformPoint(e.origin,q.origin),this._modelTransform.transformVector(e.direction,q.direction),t){var i=this._aabb._intersectsRay(q,t);return ee.copy(this._modelTransform).invert().transformPoint(t,t),i}return this._aabb._fastIntersectsRay(q)},containsPoint:function(e){return this._modelTransform.transformPoint(e,K),this._aabb.containsPoint(K)},intersectsBoundingSphere:function(e){return this._modelTransform.transformPoint(e.center,$.center),$.radius=e.radius,!!this._aabb.intersectsBoundingSphere($)}}),Object.defineProperty(te.prototype,"worldTransform",{get:function(){return this._worldTransform},set:function(e){this._worldTransform.copy(e),this._modelTransform.copy(e).invert()}});var ie=new I;function re(e,t){this.normal=t||new I(0,0,1),this.point=e||new I(0,0,0)}Object.assign(re.prototype,{intersectsLine:function(e,t,i){var r=-this.normal.dot(this.point),n=this.normal.dot(e)+r,a=n/(n-(this.normal.dot(t)+r)),s=a>=0&&a<=1;return s&&i&&i.lerp(e,t,a),s},intersectsRay:function(e,t){var i=ie.sub2(this.point,e.origin),r=this.normal.dot(i)/this.normal.dot(e.direction),n=r>=0;return n&&t&&t.copy(e.direction).scale(r).add(e.origin),n}});var ne=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array],ae=[1,1,2,2,4,4,4],se={Int8Array:0,Uint8Array:1,Int16Array:2,Uint16Array:3,Int32Array:4,Uint32Array:5,Float32Array:6},oe=[Uint8Array,Uint16Array,Uint32Array],le={POSITION:0,NORMAL:1,BLENDWEIGHT:2,BLENDINDICES:3,COLOR:4,TEXCOORD0:5,TEXCOORD1:6,TEXCOORD2:7,TEXCOORD3:8,TEXCOORD4:9,TEXCOORD5:10,TEXCOORD6:11,TEXCOORD7:12,TANGENT:13,ATTR0:0,ATTR1:1,ATTR2:2,ATTR3:3,ATTR4:4,ATTR5:5,ATTR6:6,ATTR7:7,ATTR8:8,ATTR9:9,ATTR10:10,ATTR11:11,ATTR12:12,ATTR13:13,ATTR14:14,ATTR15:15},ce=0;function fe(e,t,i,r,n){this.usage=r||0,this.format=t,this.numVertices=i,this.id=ce++,this.numBytes=t.verticesByteSize?t.verticesByteSize:t.size*i,e._vram.vb+=this.numBytes,this.device=e,n?this.setData(n):this.storage=new ArrayBuffer(this.numBytes),this.device.buffers.push(this)}function he(e){for(var t=0,i=0,r=e.length;i<r;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}function ue(e,t,i){var r,n,a;this.elements=[],this.hasUv0=!1,this.hasUv1=!1,this.hasColor=!1,this.hasTangents=!1,this._defaultInstancingFormat=null,this.verticesByteSize=0,this.vertexCount=i,this.interleaved=!i,this.size=t.reduce((function(e,t){return e+4*Math.ceil(t.components*ae[t.type]/4)}),0);var s,o=0;for(r=0,n=t.length;r<n;r++){var l=t[r];s=l.components*ae[l.type],i&&(o=A.roundUp(o,s)),a={name:l.semantic,offset:i?o:l.hasOwnProperty("offset")?l.offset:o,stride:i?s:l.hasOwnProperty("stride")?l.stride:this.size,dataType:l.type,numComponents:l.components,normalize:void 0!==l.normalize&&l.normalize,size:s},this.elements.push(a),o+=i?s*i:4*Math.ceil(s/4),"TEXCOORD0"===l.semantic?this.hasUv0=!0:"TEXCOORD1"===l.semantic?this.hasUv1=!0:"COLOR"===l.semantic?this.hasColor=!0:"TANGENT"===l.semantic&&(this.hasTangents=!0)}i&&(this.verticesByteSize=o),this.update()}function de(e,t,i){switch(this.index=0,this.numComponents=t.numComponents,i.interleaved?this.array=new ne[t.dataType](e,t.offset):this.array=new ne[t.dataType](e,t.offset,i.vertexCount*t.numComponents),this.stride=t.stride/this.array.constructor.BYTES_PER_ELEMENT,t.numComponents){case 1:this.set=pe,this.getToArray=ke,this.setFromArray=Ae;break;case 2:this.set=_e,this.getToArray=xe,this.setFromArray=ve;break;case 3:this.set=me,this.getToArray=Se,this.setFromArray=ye;break;case 4:this.set=be,this.getToArray=Te,this.setFromArray=ge}}function pe(e){this.array[this.index]=e}function _e(e,t){this.array[this.index]=e,this.array[this.index+1]=t}function me(e,t,i){this.array[this.index]=e,this.array[this.index+1]=t,this.array[this.index+2]=i}function be(e,t,i,r){this.array[this.index]=e,this.array[this.index+1]=t,this.array[this.index+2]=i,this.array[this.index+3]=r}function Ae(e,t,i){this.array[e]=t[i]}function ve(e,t,i){this.array[e]=t[i],this.array[e+1]=t[i+1]}function ye(e,t,i){this.array[e]=t[i],this.array[e+1]=t[i+1],this.array[e+2]=t[i+2]}function ge(e,t,i){this.array[e]=t[i],this.array[e+1]=t[i+1],this.array[e+2]=t[i+2],this.array[e+3]=t[i+3]}function ke(e,t,i){t[i]=this.array[e]}function xe(e,t,i){t[i]=this.array[e],t[i+1]=this.array[e+1]}function Se(e,t,i){t[i]=this.array[e],t[i+1]=this.array[e+1],t[i+2]=this.array[e+2]}function Te(e,t,i){t[i]=this.array[e],t[i+1]=this.array[e+1],t[i+2]=this.array[e+2],t[i+3]=this.array[e+3]}function we(e){this.vertexBuffer=e,this.vertexFormatSize=e.getFormat().size,this.buffer=this.vertexBuffer.lock(),this.accessors=[],this.element={};for(var t=this.vertexBuffer.getFormat(),i=0;i<t.elements.length;i++){var r=t.elements[i];this.accessors[i]=new de(this.buffer,r,t),this.element[r.name]=this.accessors[i]}}Object.assign(fe.prototype,{destroy:function(){var e=this.device,t=e.buffers.indexOf(this);if(-1!==t&&e.buffers.splice(t,1),this.bufferId){var i=e.gl;e.boundVao=null,i.bindVertexArray(null),i.deleteBuffer(this.bufferId),e._vram.vb-=this.storage.byteLength,this.bufferId=null}},getFormat:function(){return this.format},getUsage:function(){return this.usage},getNumVertices:function(){return this.numVertices},lock:function(){return this.storage},unlock:function(){var e,t=this.device.gl;switch(this.bufferId||(this.bufferId=t.createBuffer()),this.usage){case 0:e=t.STATIC_DRAW;break;case 1:e=t.DYNAMIC_DRAW;break;case 2:e=t.STREAM_DRAW;break;case 3:e=this.device.webgl2?t.DYNAMIC_COPY:t.STATIC_DRAW}t.bindBuffer(t.ARRAY_BUFFER,this.bufferId),t.bufferData(t.ARRAY_BUFFER,this.storage,e)},setData:function(e){return e.byteLength!==this.numBytes?(console.error("VertexBuffer: wrong initial data size: expected "+this.numBytes+", got "+e.byteLength),!1):(this.storage=e,this.unlock(),!0)}}),ue.init=function(e){var t=[{semantic:"TEXCOORD2",components:4,type:6},{semantic:"TEXCOORD3",components:4,type:6},{semantic:"TEXCOORD4",components:4,type:6},{semantic:"TEXCOORD5",components:4,type:6}];this._defaultInstancingFormat=new ue(e,t)},Object.defineProperty(ue,"defaultInstancingFormat",{get:function(){return this._defaultInstancingFormat}}),Object.assign(ue.prototype,{update:function(){this._evaluateHash()},_evaluateHash:function(){var e,t,i,r,n=[],a=[],s=this.elements.length;for(i=0;i<s;i++)e=(r=this.elements[i]).name,e+=r.dataType,e+=r.numComponents,e+=r.normalize,n.push(e),t=e,t+=r.offset,t+=r.stride,t+=r.size,a.push(t);n.sort(),this.batchingHash=he(n.join()),this.renderingingHash=he(a.join())}}),de.prototype.get=function(e){return this.array[this.index+e]},de.prototype.set=function(e,t,i,r){},de.prototype.setFromArray=function(e,t,i){},de.prototype.getToArray=function(e,t,i){},Object.assign(we.prototype,{next:function(e){void 0===e&&(e=1);for(var t=0,i=this.accessors,r=this.accessors.length;t<r;){var n=i[t++];n.index+=e*n.stride}},end:function(){this.vertexBuffer.unlock()},writeData:function(e,t,i){var r=this.element[e];if(r){i>this.vertexBuffer.numVertices&&(i=this.vertexBuffer.numVertices);var n,a=r.numComponents;if(this.vertexBuffer.getFormat().interleaved){var s=0;for(n=0;n<i;n++)r.setFromArray(s,t,n*a),s+=r.stride}else if(t.length>i*a){var o=i*a;if(ArrayBuffer.isView(t))t=t.subarray(0,o),r.array.set(t);else for(n=0;n<o;n++)r.array[n]=t[n]}else r.array.set(t)}},readData:function(e,t){var i=this.element[e],r=0;if(i){r=this.vertexBuffer.numVertices;var n,a=i.numComponents;if(this.vertexBuffer.getFormat().interleaved){Array.isArray(t)&&(t.length=0),i.index=0;var s=0;for(n=0;n<r;n++)i.getToArray(s,t,n*a),s+=i.stride}else if(ArrayBuffer.isView(t))t.set(i.array);else{t.length=0;var o=r*a;for(n=0;n<o;n++)t[n]=i.array[n]}}return r}});var Ee=null,Me={type:5,base:0,count:4,indexed:!1};function Pe(e,t,i,r,n,a){if(null===Ee){var s=new ue(e,[{semantic:"POSITION",components:2,type:6}]),o=new we(Ee=new fe(e,s,4));o.element.POSITION.set(-1,-1),o.next(),o.element.POSITION.set(1,-1),o.next(),o.element.POSITION.set(-1,1),o.next(),o.element.POSITION.set(1,1),o.end()}var l,c,f,h,u,d,p,_,m=e.renderTarget;e.setRenderTarget(t),e.updateBegin(),r?(l=r.x,c=r.y,f=r.z,h=r.w):(f=t?t.width:e.width,h=t?t.height:e.height,l=0,c=0),n?(u=n.x,d=n.y,p=n.z,_=n.w):(u=l,d=c,p=f,_=h);var b=e.vx,A=e.vy,v=e.vw,y=e.vh;e.setViewport(l,c,f,h);var g=e.sx,k=e.sy,x=e.sw,S=e.sh;e.setScissor(u,d,p,_);var T=e.getDepthTest(),w=e.getDepthWrite(),E=e.getCullMode(),M=e.writeRed,P=e.writeGreen,R=e.writeBlue,C=e.writeAlpha;e.setDepthTest(!1),e.setDepthWrite(!1),e.setCullMode(0),e.setColorWrite(!0,!0,!0,!0),a||e.setBlending(!1),e.setVertexBuffer(Ee,0),e.setShader(i),e.draw(Me),e.setDepthTest(T),e.setDepthWrite(w),e.setCullMode(E),e.setColorWrite(M,P,R,C),e.updateEnd(),e.setRenderTarget(m),e.updateBegin(),e.setViewport(b,A,v,y),e.setScissor(g,k,x,S)}function Re(e,t){this.device=e,this.definition=t,this.attributes=[],this.uniforms=[],this.samplers=[],this.ready=!1,this.failed=!1,this.device.createShader(this)}Object.assign(Re.prototype,{destroy:function(){this.device.destroyShader(this)}});var Ce={alphaTestPS:"uniform float alpha_ref;\nvoid alphaTest(float a) {\n\tif (a < alpha_ref) discard;\n}\n",ambientConstantPS:"void addAmbient() {\n\tdDiffuseLight += light_globalAmbient;\n}\n",ambientPrefilteredCubePS:"#ifndef PMREM4\n#define PMREM4\nuniform samplerCube texture_prefilteredCubeMap4;\n#endif\nvoid addAmbient() {\n\tvec3 fixedReflDir = fixSeamsStatic(dNormalW, 1.0 - 1.0 / 4.0);\n\tfixedReflDir.x *= -1.0;\n\tdDiffuseLight += processEnvironment($DECODE(textureCube(texture_prefilteredCubeMap4, fixedReflDir)).rgb);\n}\n",ambientPrefilteredCubeLodPS:"#ifndef PMREM4\n#define PMREM4\n#extension GL_EXT_shader_texture_lod : enable\nuniform samplerCube texture_prefilteredCubeMap128;\n#endif\nvoid addAmbient() {\n\tvec3 fixedReflDir = fixSeamsStatic(dNormalW, 1.0 - 1.0 / 4.0);\n\tfixedReflDir.x *= -1.0;\n\tdDiffuseLight += processEnvironment($DECODE( textureCubeLodEXT(texture_prefilteredCubeMap128, fixedReflDir, 5.0) ).rgb);\n}\n",ambientSHPS:"uniform vec3 ambientSH[9];\nvoid addAmbient() {\n\tvec3 n = dNormalW;\n\tvec3 color =\n\t\tambientSH[0] +\n\t\tambientSH[1] * n.x +\n\t\tambientSH[2] * n.y +\n\t\tambientSH[3] * n.z +\n\t\tambientSH[4] * n.x * n.z +\n\t\tambientSH[5] * n.z * n.y +\n\t\tambientSH[6] * n.y * n.x +\n\t\tambientSH[7] * (3.0 * n.z * n.z - 1.0) +\n\t\tambientSH[8] * (n.x * n.x - n.y * n.y);\n\tdDiffuseLight += processEnvironment(max(color, vec3(0.0)));\n}\n",aoPS:"#ifdef MAPTEXTURE\nuniform sampler2D texture_aoMap;\n#endif\nvoid applyAO() {\n\tdAo = 1.0;\n\t#ifdef MAPTEXTURE\n\tdAo *= texture2D(texture_aoMap, $UV).$CH;\n\t#endif\n\t#ifdef MAPVERTEX\n\tdAo *= saturate(vVertexColor.$VC);\n\t#endif\n\tdDiffuseLight *= dAo;\n}\n",aoSpecOccPS:"uniform float material_occludeSpecularIntensity;\nvoid occludeSpecular() {\n\tfloat specPow = exp2(dGlossiness * 11.0);\n\tfloat specOcc = saturate(pow(dot(dNormalW, dViewDirW) + dAo, 0.01*specPow) - 1.0 + dAo);\n\tspecOcc = mix(1.0, specOcc, material_occludeSpecularIntensity);\n\tdSpecularLight *= specOcc;\n\tdReflection *= specOcc;\n}\n",aoSpecOccConstPS:"void occludeSpecular() {\n\tfloat specPow = exp2(dGlossiness * 11.0);\n\tfloat specOcc = saturate(pow(dot(dNormalW, dViewDirW) + dAo, 0.01*specPow) - 1.0 + dAo);\n\tdSpecularLight *= specOcc;\n\tdReflection *= specOcc;\n}\n",aoSpecOccConstSimplePS:"void occludeSpecular() {\n\tfloat specOcc = dAo;\n\tdSpecularLight *= specOcc;\n\tdReflection *= specOcc;\n}\n",aoSpecOccSimplePS:"uniform float material_occludeSpecularIntensity;\nvoid occludeSpecular() {\n\tfloat specOcc = mix(1.0, dAo, material_occludeSpecularIntensity);\n\tdSpecularLight *= specOcc;\n\tdReflection *= specOcc;\n}\n",bakeDirLmEndPS:"\tvec4 dirLm = texture2D(texture_dirLightMap, vUv1);\n\tif (bakeDir > 0.5) {\n\t\tif (dAtten > 0.00001) {\n\t\t\tdirLm.xyz = dirLm.xyz * 2.0 - vec3(1.0);\n\t\t\tdAtten = saturate(dAtten);\n\t\t\tgl_FragColor.rgb = normalize(dLightDirNormW.xyz*dAtten + dirLm.xyz*dirLm.w) * 0.5 + vec3(0.5);\n\t\t\tgl_FragColor.a = dirLm.w + dAtten;\n\t\t\tgl_FragColor.a = max(gl_FragColor.a, 1.0 / 255.0);\n\t\t} else {\n\t\t\tgl_FragColor = dirLm;\n\t\t}\n\t} else {\n\t\tgl_FragColor.rgb = dirLm.xyz;\n\t\tgl_FragColor.a = max(dirLm.w, dAtten > 0.00001? (1.0/255.0) : 0.0);\n\t}\n",bakeLmEndPS:"\tgl_FragColor.rgb = dDiffuseLight;\n\tgl_FragColor.rgb = pow(gl_FragColor.rgb, vec3(0.5));\n\tgl_FragColor.rgb /= 8.0;\n\tgl_FragColor.a = clamp( max( max( gl_FragColor.r, gl_FragColor.g ), max( gl_FragColor.b, 1.0 / 255.0 ) ), 0.0,1.0 );\n\tgl_FragColor.a = ceil(gl_FragColor.a * 255.0) / 255.0;\n\tgl_FragColor.rgb /= gl_FragColor.a;\n",basePS:"uniform vec3 view_position;\nuniform vec3 light_globalAmbient;\nfloat square(float x) {\n\treturn x*x;\n}\nfloat saturate(float x) {\n\treturn clamp(x, 0.0, 1.0);\n}\nvec3 saturate(vec3 x) {\n\treturn clamp(x, vec3(0.0), vec3(1.0));\n}\n",baseVS:"attribute vec3 vertex_position;\nattribute vec3 vertex_normal;\nattribute vec4 vertex_tangent;\nattribute vec2 vertex_texCoord0;\nattribute vec2 vertex_texCoord1;\nattribute vec4 vertex_color;\nuniform mat4 matrix_viewProjection;\nuniform mat4 matrix_model;\nuniform mat3 matrix_normal;\nvec3 dPositionW;\nmat4 dModelMatrix;\nmat3 dNormalMatrix;\nvec3 dLightPosW;\nvec3 dLightDirNormW;\nvec3 dNormalW;\n",baseNineSlicedPS:"#define NINESLICED\nvarying vec2 vMask;\nvarying vec2 vTiledUv;\nuniform mediump vec4 innerOffset;\nuniform mediump vec2 outerScale;\nuniform mediump vec4 atlasRect;\nvec2 nineSlicedUv;\n",baseNineSlicedVS:"#define NINESLICED\nvarying vec2 vMask;\nvarying vec2 vTiledUv;\nuniform mediump vec4 innerOffset;\nuniform mediump vec2 outerScale;\nuniform mediump vec4 atlasRect;\n",baseNineSlicedTiledPS:"#define NINESLICED\n#define NINESLICETILED\nvarying vec2 vMask;\nvarying vec2 vTiledUv;\nuniform mediump vec4 innerOffset;\nuniform mediump vec2 outerScale;\nuniform mediump vec4 atlasRect;\nvec2 nineSlicedUv;\n",biasConstPS:"#define SHADOWBIAS\nfloat getShadowBias(float resolution, float maxBias) {\n\treturn maxBias;\n}\n",blurVSMPS:"varying vec2 vUv0;\nuniform sampler2D source;\nuniform vec2 pixelOffset;\n#ifdef GAUSS\nuniform float weight[SAMPLES];\n#endif\n#ifdef PACKED\nfloat decodeFloatRG(vec2 rg) {\n\treturn rg.y*(1.0/255.0) + rg.x;\n}\nvec2 encodeFloatRG( float v ) {\n\tvec2 enc = vec2(1.0, 255.0) * v;\n\tenc = fract(enc);\n\tenc -= enc.yy * vec2(1.0/255.0, 1.0/255.0);\n\treturn enc;\n}\n#endif\nvoid main(void) {\n\tvec3 moments = vec3(0.0);\n\tvec2 uv = vUv0 - pixelOffset * (float(SAMPLES) * 0.5);\n\tfor (int i=0; i<SAMPLES; i++) {\n\t\tvec4 c = texture2D(source, uv + pixelOffset * float(i));\n\t\t#ifdef PACKED\n\t\tc.xy = vec2(decodeFloatRG(c.xy), decodeFloatRG(c.zw));\n\t\t#endif\n\t\t#ifdef GAUSS\n\t\tmoments += c.xyz * weight[i];\n\t\t#else\n\t\tmoments += c.xyz;\n\t\t#endif\n\t}\n\t#ifndef GAUSS\n\tmoments /= float(SAMPLES);\n\t#endif\n\t#ifdef PACKED\n\tgl_FragColor = vec4(encodeFloatRG(moments.x), encodeFloatRG(moments.y));\n\t#else\n\tgl_FragColor = vec4(moments.x, moments.y, moments.z, 1.0);\n\t#endif\n}\n",clearCoatPS:"#ifdef MAPFLOAT\nuniform float material_clearCoat;\n#endif\n#ifdef MAPTEXTURE\nuniform sampler2D texture_clearCoatMap;\n#endif\nvoid getClearCoat() {\n\tccSpecularity = 1.0;\n\t#ifdef MAPFLOAT\n\tccSpecularity *= material_clearCoat;\n\t#endif\n\t#ifdef MAPTEXTURE\n\tccSpecularity *= texture2D(texture_clearCoatMap, $UV).$CH;\n\t#endif\n\t#ifdef MAPVERTEX\n\tccSpecularity *= saturate(vVertexColor.$VC);\n\t#endif\n}\n",clearCoatGlossPS:"#ifdef MAPFLOAT\nuniform float material_clearCoatGlossiness;\n#endif\n#ifdef MAPTEXTURE\nuniform sampler2D texture_clearCoatGlossMap;\n#endif\nvoid getClearCoatGlossiness() {\n\tccGlossiness = 1.0;\n\t#ifdef MAPFLOAT\n\tccGlossiness *= material_clearCoatGlossiness;\n\t#endif\n\t#ifdef MAPTEXTURE\n\tccGlossiness *= texture2D(texture_clearCoatGlossMap, $UV).$CH;\n\t#endif\n\t#ifdef MAPVERTEX\n\tccGlossiness *= saturate(vVertexColor.$VC);\n\t#endif\n\tccGlossiness += 0.0000001;\n}\n",clearCoatNormalPS:"#ifdef MAPTEXTURE\nuniform sampler2D texture_clearCoatNormalMap;\nuniform float material_clearCoatBumpiness;\n#endif\nvoid getClearCoatNormal() {\n\t#ifdef MAPTEXTURE\n\tvec3 normalMap = unpackNormal(texture2D(texture_clearCoatNormalMap, $UV));\n\tnormalMap = normalize(mix(vec3(0.0, 0.0, 1.0), normalMap, material_clearCoatBumpiness));\n\tccNormalW = dTBN * normalMap;\n\t#else\n\tccNormalW = normalize(dVertexNormalW);\n\t#endif\n\tccReflDirW = normalize(-reflect(dViewDirW, ccNormalW));\n}\n",combineClearCoatPS:"vec3 combineColorCC() {\n\treturn combineColor()+(ccSpecularLight*ccSpecularity+ccReflection.rgb*ccSpecularity*ccReflection.a);\n}\n",combineDiffusePS:"vec3 combineColor() {\n\treturn dAlbedo * dDiffuseLight;\n}\n",combineDiffuseSpecularPS:"vec3 combineColor() {\n\treturn mix(dAlbedo * dDiffuseLight, dSpecularLight + dReflection.rgb * dReflection.a, dSpecularity);\n}\n",combineDiffuseSpecularNoConservePS:"vec3 combineColor() {\n\treturn dAlbedo * dDiffuseLight + (dSpecularLight + dReflection.rgb * dReflection.a) * dSpecularity;\n}\n",combineDiffuseSpecularNoReflPS:"vec3 combineColor() {\n\treturn dAlbedo * dDiffuseLight + dSpecularLight * dSpecularity;\n}\n",combineDiffuseSpecularNoReflSeparateAmbientPS:"uniform vec3 material_ambient;\nvec3 combineColor() {\n\treturn (dDiffuseLight - light_globalAmbient) * dAlbedo + dSpecularLight * dSpecularity + material_ambient * light_globalAmbient;\n}\n",combineDiffuseSpecularOldPS:"vec3 combineColor() {\n\treturn mix(dAlbedo * dDiffuseLight + dSpecularLight * dSpecularity, dReflection.rgb, dReflection.a);\n}\n",cookiePS:"vec4 getCookie2D(sampler2D tex, mat4 transform, float intensity) {\n\tvec4 projPos = transform * vec4(vPositionW, 1.0);\n\tprojPos.xy /= projPos.w;\n\treturn mix(vec4(1.0), texture2D(tex, projPos.xy), intensity);\n}\nvec4 getCookie2DClip(sampler2D tex, mat4 transform, float intensity) {\n\tvec4 projPos = transform * vec4(vPositionW, 1.0);\n\tprojPos.xy /= projPos.w;\n\tif (projPos.x < 0.0 || projPos.x > 1.0 || projPos.y < 0.0 || projPos.y > 1.0 || projPos.z < 0.0) return vec4(0.0);\n\treturn mix(vec4(1.0), texture2D(tex, projPos.xy), intensity);\n}\nvec4 getCookie2DXform(sampler2D tex, mat4 transform, float intensity, vec4 cookieMatrix, vec2 cookieOffset) {\n\tvec4 projPos = transform * vec4(vPositionW, 1.0);\n\tprojPos.xy /= projPos.w;\n\tprojPos.xy += cookieOffset;\n\tvec2 uv = mat2(cookieMatrix) * (projPos.xy-vec2(0.5)) + vec2(0.5);\n\treturn mix(vec4(1.0), texture2D(tex, uv), intensity);\n}\nvec4 getCookie2DClipXform(sampler2D tex, mat4 transform, float intensity, vec4 cookieMatrix, vec2 cookieOffset) {\n\tvec4 projPos = transform * vec4(vPositionW, 1.0);\n\tprojPos.xy /= projPos.w;\n\tprojPos.xy += cookieOffset;\n\tif (projPos.x < 0.0 || projPos.x > 1.0 || projPos.y < 0.0 || projPos.y > 1.0 || projPos.z < 0.0) return vec4(0.0);\n\tvec2 uv = mat2(cookieMatrix) * (projPos.xy-vec2(0.5)) + vec2(0.5);\n\treturn mix(vec4(1.0), texture2D(tex, uv), intensity);\n}\nvec4 getCookieCube(samplerCube tex, mat4 transform, float intensity) {\n\treturn mix(vec4(1.0), textureCube(tex, dLightDirNormW * mat3(transform)), intensity);\n}\n",cubeMapProjectBoxPS:"uniform vec3 envBoxMin, envBoxMax;\nvec3 cubeMapProject(vec3 nrdir) {\n\tvec3 rbmax = (envBoxMax - vPositionW) / nrdir;\n\tvec3 rbmin = (envBoxMin - vPositionW) / nrdir;\n\tvec3 rbminmax;\n\trbminmax.x = nrdir.x>0.0? rbmax.x : rbmin.x;\n\trbminmax.y = nrdir.y>0.0? rbmax.y : rbmin.y;\n\trbminmax.z = nrdir.z>0.0? rbmax.z : rbmin.z;\n\tfloat fa = min(min(rbminmax.x, rbminmax.y), rbminmax.z);\n\tvec3 posonbox = vPositionW + nrdir * fa;\n\tvec3 envBoxPos = (envBoxMin + envBoxMax) * 0.5;\n\treturn posonbox - envBoxPos;\n}\n",cubeMapProjectNonePS:"vec3 cubeMapProject(vec3 dir) {\n\treturn dir;\n}\n",detailModesPS:"vec3 detailMode_mul(vec3 c1, vec3 c2) {\n\treturn c1 * c2;\n}\nvec3 detailMode_add(vec3 c1, vec3 c2) {\n\treturn c1 + c2;\n}\nvec3 detailMode_screen(vec3 c1, vec3 c2) {\n\treturn 1.0 - (1.0 - c1)*(1.0 - c2);\n}\nvec3 detailMode_overlay(vec3 c1, vec3 c2) {\n\treturn mix(1.0 - 2.0*(1.0 - c1)*(1.0 - c2), 2.0*c1*c2, step(c1, vec3(0.5)));\n}\nvec3 detailMode_min(vec3 c1, vec3 c2) {\n\treturn min(c1, c2);\n}\nvec3 detailMode_max(vec3 c1, vec3 c2) {\n\treturn max(c1, c2);\n}\n",diffusePS:"#ifdef MAPCOLOR\nuniform vec3 material_diffuse;\n#endif\n#ifdef MAPTEXTURE\nuniform sampler2D texture_diffuseMap;\n#endif\nvoid getAlbedo() {\n\tdAlbedo = vec3(1.0);\n\t#ifdef MAPCOLOR\n\tdAlbedo *= material_diffuse.rgb;\n\t#endif\n\t#ifdef MAPTEXTURE\n\tdAlbedo *= gammaCorrectInput(addAlbedoDetail(texture2D(texture_diffuseMap, $UV).$CH));\n\t#endif\n\t#ifdef MAPVERTEX\n\tdAlbedo *= gammaCorrectInput(saturate(vVertexColor.$VC));\n\t#endif\n}\n",diffuseDetailMapPS:"#ifdef MAPTEXTURE\nuniform sampler2D texture_diffuseDetailMap;\n#endif\nvec3 addAlbedoDetail(vec3 albedo) {\n\t#ifdef MAPTEXTURE\n\tvec3 albedoDetail = vec3(texture2D(texture_diffuseDetailMap, $UV).$CH);\n\treturn detailMode_$DETAILMODE(albedo, albedoDetail);\n\t#else\n\treturn albedo;\n\t#endif\n}\n",dilatePS:"varying vec2 vUv0;\nuniform sampler2D source;\nuniform vec2 pixelOffset;\nvoid main(void) {\n\tvec4 c = texture2D(source, vUv0);\n\tc = c.a>0.0? c : texture2D(source, vUv0 - pixelOffset);\n\tc = c.a>0.0? c : texture2D(source, vUv0 + vec2(0, -pixelOffset.y));\n\tc = c.a>0.0? c : texture2D(source, vUv0 + vec2(pixelOffset.x, -pixelOffset.y));\n\tc = c.a>0.0? c : texture2D(source, vUv0 + vec2(-pixelOffset.x, 0));\n\tc = c.a>0.0? c : texture2D(source, vUv0 + vec2(pixelOffset.x, 0));\n\tc = c.a>0.0? c : texture2D(source, vUv0 + vec2(-pixelOffset.x, pixelOffset.y));\n\tc = c.a>0.0? c : texture2D(source, vUv0 + vec2(0, pixelOffset.y));\n\tc = c.a>0.0? c : texture2D(source, vUv0 + pixelOffset);\n\tgl_FragColor = c;\n}\n",dpAtlasQuadPS:"varying vec2 vUv0;\nuniform sampler2D source;\nuniform vec4 params;\nvoid main(void) {\n\tvec2 uv = vUv0;\n\tuv = uv * 2.0 - vec2(1.0);\n\tuv *= params.xy;\n\tuv = uv * 0.5 + 0.5;\n\tgl_FragColor = texture2D(source, uv);\n}\n",emissivePS:"#ifdef MAPCOLOR\nuniform vec3 material_emissive;\n#endif\n#ifdef MAPFLOAT\nuniform float material_emissiveIntensity;\n#endif\n#ifdef MAPTEXTURE\nuniform sampler2D texture_emissiveMap;\n#endif\nvec3 getEmission() {\n\tvec3 emission = vec3(1.0);\n\t#ifdef MAPFLOAT\n\temission *= material_emissiveIntensity;\n\t#endif\n\t#ifdef MAPCOLOR\n\temission *= material_emissive;\n\t#endif\n\t#ifdef MAPTEXTURE\n\temission *= $texture2DSAMPLE(texture_emissiveMap, $UV).$CH;\n\t#endif\n\t#ifdef MAPVERTEX\n\temission *= gammaCorrectInput(saturate(vVertexColor.$VC));\n\t#endif\n\treturn emission;\n}\n",endPS:"\t#ifdef CLEARCOAT\n\tgl_FragColor.rgb = combineColorCC();\n\t#else\n\tgl_FragColor.rgb = combineColor();\n\t#endif\n\tgl_FragColor.rgb += getEmission();\n\tgl_FragColor.rgb = addFog(gl_FragColor.rgb);\n\t#ifndef HDR\n\tgl_FragColor.rgb = toneMap(gl_FragColor.rgb);\n\tgl_FragColor.rgb = gammaCorrectOutput(gl_FragColor.rgb);\n\t#endif\n",envConstPS:"vec3 processEnvironment(vec3 color) {\n\treturn color;\n}\n",envMultiplyPS:"uniform float skyboxIntensity;\nvec3 processEnvironment(vec3 color) {\n\treturn color * skyboxIntensity;\n}\n",extensionPS:"\n",extensionVS:"\n",falloffInvSquaredPS:"float getFalloffInvSquared(float lightRadius) {\n\tfloat sqrDist = dot(dLightDirW, dLightDirW);\n\tfloat falloff = 1.0 / (sqrDist + 1.0);\n\tfloat invRadius = 1.0 / lightRadius;\n\tfalloff *= 16.0;\n\tfalloff *= square( saturate( 1.0 - square( sqrDist * square(invRadius) ) ) );\n\treturn falloff;\n}\n",falloffLinearPS:"float getFalloffLinear(float lightRadius) {\n\tfloat d = length(dLightDirW);\n\treturn max(((lightRadius - d) / lightRadius), 0.0);\n}\n",fixCubemapSeamsNonePS:"vec3 fixSeams(vec3 vec, float mipmapIndex) {\n\treturn vec;\n}\nvec3 fixSeams(vec3 vec) {\n\treturn vec;\n}\nvec3 fixSeamsStatic(vec3 vec, float invRecMipSize) {\n\treturn vec;\n}\n",fixCubemapSeamsStretchPS:"vec3 fixSeams(vec3 vec, float mipmapIndex) {\n\tfloat scale = 1.0 - exp2(mipmapIndex) / 128.0;\n\tfloat M = max(max(abs(vec.x), abs(vec.y)), abs(vec.z));\n\tif (abs(vec.x) != M) vec.x *= scale;\n\tif (abs(vec.y) != M) vec.y *= scale;\n\tif (abs(vec.z) != M) vec.z *= scale;\n\treturn vec;\n}\nvec3 fixSeams(vec3 vec) {\n\tfloat scale = 1.0 - 1.0 / 128.0;\n\tfloat M = max(max(abs(vec.x), abs(vec.y)), abs(vec.z));\n\tif (abs(vec.x) != M) vec.x *= scale;\n\tif (abs(vec.y) != M) vec.y *= scale;\n\tif (abs(vec.z) != M) vec.z *= scale;\n\treturn vec;\n}\nvec3 fixSeamsStatic(vec3 vec, float invRecMipSize) {\n\tfloat scale = invRecMipSize;\n\tfloat M = max(max(abs(vec.x), abs(vec.y)), abs(vec.z));\n\tif (abs(vec.x) != M) vec.x *= scale;\n\tif (abs(vec.y) != M) vec.y *= scale;\n\tif (abs(vec.z) != M) vec.z *= scale;\n\treturn vec;\n}\n",fogExpPS:"uniform vec3 fog_color;\nuniform float fog_density;\nfloat dBlendModeFogFactor = 1.0;\nvec3 addFog(vec3 color) {\n\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\tfloat fogFactor = exp(-depth * fog_density);\n\tfogFactor = clamp(fogFactor, 0.0, 1.0);\n\treturn mix(fog_color * dBlendModeFogFactor, color, fogFactor);\n}\n",fogExp2PS:"uniform vec3 fog_color;\nuniform float fog_density;\nfloat dBlendModeFogFactor = 1.0;\nvec3 addFog(vec3 color) {\n\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\tfloat fogFactor = exp(-depth * depth * fog_density * fog_density);\n\tfogFactor = clamp(fogFactor, 0.0, 1.0);\n\treturn mix(fog_color * dBlendModeFogFactor, color, fogFactor);\n}\n",fogLinearPS:"uniform vec3 fog_color;\nuniform float fog_start;\nuniform float fog_end;\nfloat dBlendModeFogFactor = 1.0;\nvec3 addFog(vec3 color) {\n\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\tfloat fogFactor = (fog_end - depth) / (fog_end - fog_start);\n\tfogFactor = clamp(fogFactor, 0.0, 1.0);\n\tfogFactor = gammaCorrectInput(fogFactor);\n\treturn mix(fog_color * dBlendModeFogFactor, color, fogFactor);\n}\n",fogNonePS:"float dBlendModeFogFactor = 1.0;\nvec3 addFog(vec3 color) {\n\treturn color;\n}\n",fresnelSchlickPS:"\nuniform float material_fresnelFactor;\nvoid getFresnel() {\n\tfloat fresnel = 1.0 - max(dot(dNormalW, dViewDirW), 0.0);\n\tfloat fresnel2 = fresnel * fresnel;\n\tfresnel *= fresnel2 * fresnel2;\n\tfresnel *= dGlossiness * dGlossiness;\n\tdSpecularity = dSpecularity + (1.0 - dSpecularity) * fresnel;\n\t#ifdef CLEARCOAT\n\tfresnel = 1.0 - max(dot(ccNormalW, dViewDirW), 0.0);\n\tfresnel2 = fresnel * fresnel;\n\tfresnel *= fresnel2 * fresnel2;\n\tfresnel *= ccGlossiness * ccGlossiness;\n\tccSpecularity = ccSpecularity + (1.0 - ccSpecularity) * fresnel;\n\t#endif\n}\n",fullscreenQuadPS:"varying vec2 vUv0;\nuniform sampler2D source;\nvoid main(void) {\n\tgl_FragColor = texture2D(source, vUv0);\n}\n",fullscreenQuadVS:"attribute vec2 vertex_position;\nvarying vec2 vUv0;\nvoid main(void)\n{\n\tgl_Position = vec4(vertex_position, 0.5, 1.0);\n\tvUv0 = vertex_position.xy*0.5+0.5;\n}\n",gamma1_0PS:"vec4 texture2DSRGB(sampler2D tex, vec2 uv) {\n\treturn texture2D(tex, uv);\n}\nvec4 texture2DSRGB(sampler2D tex, vec2 uv, float bias) {\n\treturn texture2D(tex, uv, bias);\n}\nvec4 textureCubeSRGB(samplerCube tex, vec3 uvw) {\n\treturn textureCube(tex, uvw);\n}\nvec3 gammaCorrectOutput(vec3 color) {\n\treturn color;\n}\nvec3 gammaCorrectInput(vec3 color) {\n\treturn color;\n}\nfloat gammaCorrectInput(float color) {\n\treturn color;\n}\nvec4 gammaCorrectInput(vec4 color) {\n\treturn color;\n}\n",gamma2_2PS:"vec3 gammaCorrectInput(vec3 color) {\n\treturn pow(color, vec3(2.2));\n}\nfloat gammaCorrectInput(float color) {\n\treturn pow(color, 2.2);\n}\nvec4 gammaCorrectInput(vec4 color) {\n\treturn vec4(pow(color.rgb, vec3(2.2)), color.a);\n}\nvec4 texture2DSRGB(sampler2D tex, vec2 uv) {\n\tvec4 rgba = texture2D(tex, uv);\n\trgba.rgb = gammaCorrectInput(rgba.rgb);\n\treturn rgba;\n}\nvec4 texture2DSRGB(sampler2D tex, vec2 uv, float bias) {\n\tvec4 rgba = texture2D(tex, uv, bias);\n\trgba.rgb = gammaCorrectInput(rgba.rgb);\n\treturn rgba;\n}\nvec4 textureCubeSRGB(samplerCube tex, vec3 uvw) {\n\tvec4 rgba = textureCube(tex, uvw);\n\trgba.rgb = gammaCorrectInput(rgba.rgb);\n\treturn rgba;\n}\nvec3 gammaCorrectOutput(vec3 color) {\n\t#ifdef HDR\n\treturn color;\n\t#else\n\tcolor += vec3(0.0000001);\n\treturn pow(color, vec3(0.45));\n\t#endif\n}\n",genParaboloidPS:"varying vec2 vUv0;\nuniform samplerCube source;\nuniform vec4 params;\nvoid main(void) {\n\tvec2 uv = vUv0;\n\tfloat side = uv.x < 0.5? 1.0 : -1.0;\n\tvec2 tc;\n\ttc.x = fract(uv.x * 2.0) * 2.0 - 1.0;\n\ttc.y = uv.y * 2.0 - 1.0;\n\tconst float scale = 1.1;\n\ttc *= scale;\n\tvec3 dir;\n\tdir.y = (dot(tc, tc) - 1.0) * side;\n\tdir.xz = tc * -2.0;\n\tdir.x *= -side * params.y;\n\tdir = fixSeams(dir, params.x);\n\tvec4 color = textureCube(source, dir, -100.0);\n\tgl_FragColor = color;\n}\n",gles3PS:"#define varying in\nout highp vec4 pc_fragColor;\n#define gl_FragColor pc_fragColor\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad\n#define GL2\n",gles3VS:"#define attribute in\n#define varying out\n#define texture2D texture\n#define GL2\n#define VERTEXSHADER\n",glossPS:"#ifdef MAPFLOAT\nuniform float material_shininess;\n#endif\n#ifdef MAPTEXTURE\nuniform sampler2D texture_glossMap;\n#endif\nvoid getGlossiness() {\n\tdGlossiness = 1.0;\n\t#ifdef MAPFLOAT\n\tdGlossiness *= material_shininess;\n\t#endif\n\t#ifdef MAPTEXTURE\n\tdGlossiness *= texture2D(texture_glossMap, $UV).$CH;\n\t#endif\n\t#ifdef MAPVERTEX\n\tdGlossiness *= saturate(vVertexColor.$VC);\n\t#endif\n\tdGlossiness += 0.0000001;\n}\n",instancingVS:"attribute vec4 instance_line1;\nattribute vec4 instance_line2;\nattribute vec4 instance_line3;\nattribute vec4 instance_line4;\n",lightDiffuseLambertPS:"float getLightDiffuse() {\n\treturn max(dot(dNormalW, -dLightDirNormW), 0.0);\n}\n",lightDirPointPS:"void getLightDirPoint(vec3 lightPosW) {\n\tdLightDirW = vPositionW - lightPosW;\n\tdLightDirNormW = normalize(dLightDirW);\n\tdLightPosW = lightPosW;\n}\n",lightmapDirPS:"uniform sampler2D texture_lightMap;\nuniform sampler2D texture_dirLightMap;\nvoid addLightMap() {\n\tvec3 color = $texture2DSAMPLE(texture_lightMap, $UV).$CH;\n\tvec4 dir = texture2D(texture_dirLightMap, $UV);\n\tif (dot(dir.xyz,vec3(1.0)) < 0.00001) {\n\t\tdDiffuseLight += color;\n\t\treturn;\n\t}\n\tdLightDirNormW = normalize(dir.xyz * 2.0 - vec3(1.0));\n\tfloat vlight = saturate(dot(dLightDirNormW, -dVertexNormalW));\n\tfloat flight = saturate(dot(dLightDirNormW, -dNormalW));\n\tfloat nlight = (flight / max(vlight,0.01)) * 0.5;\n\tdDiffuseLight += color * nlight * 2.0;\n}\nvoid addDirLightMap() {\n\tvec4 dir = texture2D(texture_dirLightMap, $UV);\n\tif (dot(dir.xyz,vec3(1.0)) < 0.00001) return;\n\tvec3 color = $texture2DSAMPLE(texture_lightMap, $UV).$CH;\n\tdLightDirNormW = normalize(dir.xyz * 2.0 - vec3(1.0));\n\tdSpecularLight += vec3(getLightSpecular()) * color;\n}\n",lightmapSinglePS:"#ifdef MAPTEXTURE\nuniform sampler2D texture_lightMap;\n#endif\nvoid addLightMap() {\n\tvec3 lm = vec3(1.0);\n\t#ifdef MAPTEXTURE\n\tlm *= $texture2DSAMPLE(texture_lightMap, $UV).$CH;\n\t#endif\n\t#ifdef MAPVERTEX\n\tlm *= saturate(vVertexColor.$VC);\n\t#endif\n\tdDiffuseLight += lm;\n}\n",lightmapSingleVertPS:"void addLightMap() {\n\tdDiffuseLight += saturate(vVertexColor.$CH);\n}\n",lightSpecularAnisoGGXPS:"\nfloat calcLightSpecular(float tGlossiness, vec3 tNormalW) {\n\tfloat PI = 3.141592653589793;\n\tfloat roughness = max((1.0 - tGlossiness) * (1.0 - tGlossiness), 0.001);\n\tfloat anisotropy = material_anisotropy * roughness;\n\tfloat at = max((roughness + anisotropy), roughness / 4.0);\n\tfloat ab = max((roughness - anisotropy), roughness / 4.0);\n\tvec3 h = normalize(normalize(-dLightDirNormW) + normalize(dViewDirW));\n\tfloat NoH = dot(tNormalW, h);\n\tfloat ToH = dot(dTBN[0], h);\n\tfloat BoH = dot(dTBN[1], h);\n\tfloat a2 = at * ab;\n\tvec3 v = vec3(ab * ToH, at * BoH, a2 * NoH);\n\tfloat v2 = dot(v, v);\n\tfloat w2 = a2 / v2;\n\tfloat D = a2 * w2 * w2 * (1.0 / PI);\n\tfloat ToV = dot(dTBN[0], dViewDirW);\n\tfloat BoV = dot(dTBN[1], dViewDirW);\n\tfloat ToL = dot(dTBN[0], -dLightDirNormW);\n\tfloat BoL = dot(dTBN[1], -dLightDirNormW);\n\tfloat NoV = dot(tNormalW, dViewDirW);\n\tfloat NoL = dot(tNormalW, -dLightDirNormW);\n\tfloat lambdaV = NoL * length(vec3(at * ToV, ab * BoV, NoV));\n\tfloat lambdaL = NoV * length(vec3(at * ToL, ab * BoL, NoL));\n\tfloat G = 0.5 / (lambdaV + lambdaL);\n\treturn D * G;\n}\nfloat getLightSpecular() {\n\treturn calcLightSpecular(dGlossiness, dNormalW);\n}\nfloat getLightSpecularCC() {\n\treturn calcLightSpecular(ccGlossiness, ccNormalW);\n}\n",lightSpecularBlinnPS:"\nfloat calcLightSpecular(float tGlossiness, vec3 tNormalW) {\n\tvec3 h = normalize( -dLightDirNormW + dViewDirW );\n\tfloat nh = max( dot( h, tNormalW ), 0.0 );\n\tfloat specPow = exp2(tGlossiness * 11.0);\n\tspecPow = antiAliasGlossiness(specPow);\n\tspecPow = max(specPow, 0.0001);\n\treturn pow(nh, specPow) * (specPow + 2.0) / 8.0;\n}\nfloat getLightSpecular() {\n\treturn calcLightSpecular(dGlossiness, dNormalW);\n}\nfloat getLightSpecularCC() {\n\treturn calcLightSpecular(ccGlossiness, ccNormalW);\n}\n",lightSpecularPhongPS:"float calcLightSpecular(float tGlossiness, vec3 tReflDirW) {\n\tfloat specPow = tGlossiness;\n\tspecPow = antiAliasGlossiness(specPow);\n\treturn pow(max(dot(tReflDirW, -dLightDirNormW), 0.0), specPow + 0.0001);\n}\nfloat getLightSpecular() {\n\treturn calcLightSpecular(dGlossiness, dReflDirW);\n}\nfloat getLightSpecularCC() {\n\treturn calcLightSpecular(ccGlossiness, ccReflDirW);\n}\n",metalnessPS:"void processMetalness(float metalness) {\n\tconst float dielectricF0 = 0.04;\n\tdSpecularity = mix(vec3(dielectricF0), dAlbedo, metalness);\n\tdAlbedo *= 1.0 - metalness;\n}\n#ifdef MAPFLOAT\nuniform float material_metalness;\n#endif\n#ifdef MAPTEXTURE\nuniform sampler2D texture_metalnessMap;\n#endif\nvoid getSpecularity() {\n\tfloat metalness = 1.0;\n\t#ifdef MAPFLOAT\n\tmetalness *= material_metalness;\n\t#endif\n\t#ifdef MAPTEXTURE\n\tmetalness *= texture2D(texture_metalnessMap, $UV).$CH;\n\t#endif\n\t#ifdef MAPVERTEX\n\tmetalness *= saturate(vVertexColor.$VC);\n\t#endif\n\tprocessMetalness(metalness);\n}\n",msdfPS:"uniform sampler2D texture_msdfMap;\n#ifdef GL_OES_standard_derivatives\n#define USE_FWIDTH\n#endif\n#ifdef GL2\n#define USE_FWIDTH\n#endif\nfloat median(float r, float g, float b) {\n\treturn max(min(r, g), min(max(r, g), b));\n}\nfloat map (float min, float max, float v) {\n\treturn (v - min) / (max - min);\n}\nuniform float font_sdfIntensity;\nuniform float font_pxrange;\nuniform float font_textureWidth;\nuniform vec4 outline_color;\nuniform float outline_thickness;\nuniform vec4 shadow_color;\nuniform vec2 shadow_offset;\nvec4 applyMsdf(vec4 color) {\n\tvec3 tsample = texture2D(texture_msdfMap, vUv0).rgb;\n\tvec2 uvShdw = vUv0 - shadow_offset;\n\tvec3 ssample = texture2D(texture_msdfMap, uvShdw).rgb;\n\tfloat sigDist = median(tsample.r, tsample.g, tsample.b);\n\tfloat sigDistShdw = median(ssample.r, ssample.g, ssample.b);\n\t#ifdef USE_FWIDTH\n\tvec2 w = fwidth(vUv0);\n\tfloat smoothing = clamp(w.x * font_textureWidth / font_pxrange, 0.0, 0.5);\n\t#else\n\tfloat font_size = 16.0;\n\tfloat smoothing = clamp(font_pxrange / font_size, 0.0, 0.5);\n\t#endif\n\tfloat mapMin = 0.05;\n\tfloat mapMax = clamp(1.0 - font_sdfIntensity, mapMin, 1.0);\n\tfloat sigDistInner = map(mapMin, mapMax, sigDist);\n\tfloat sigDistOutline = map(mapMin, mapMax, sigDist + outline_thickness);\n\tsigDistShdw = map(mapMin, mapMax, sigDistShdw + outline_thickness);\n\tfloat center = 0.5;\n\tfloat inside = smoothstep(center-smoothing, center+smoothing, sigDistInner);\n\tfloat outline = smoothstep(center-smoothing, center+smoothing, sigDistOutline);\n\tfloat shadow = smoothstep(center-smoothing, center+smoothing, sigDistShdw);\n\tvec4 tcolor = (outline > inside) ? outline * vec4(outline_color.a * outline_color.rgb, outline_color.a) : vec4(0.0);\n\ttcolor = mix(tcolor, color, inside);\n\tvec4 scolor = (shadow > outline) ? shadow * vec4(shadow_color.a * shadow_color.rgb, shadow_color.a) : tcolor;\n\ttcolor = mix(scolor, tcolor, outline);\n\treturn tcolor;\n}\n",normalVS:"#ifdef MORPHING_TEXTURE_BASED_NORMAL\nuniform highp sampler2D morphNormalTex;\n#endif\nvec3 getNormal() {\n\t#ifdef SKIN\n\tdNormalMatrix = mat3(dModelMatrix[0].xyz, dModelMatrix[1].xyz, dModelMatrix[2].xyz);\n\t#elif defined(INSTANCING)\n\tdNormalMatrix = mat3(instance_line1.xyz, instance_line2.xyz, instance_line3.xyz);\n\t#else\n\tdNormalMatrix = matrix_normal;\n\t#endif\n\tvec3 tempNormal = vertex_normal;\n\t#ifdef MORPHING\n\t#ifdef MORPHING_NRM03\n\ttempNormal += morph_weights_a[0] * morph_nrm0;\n\ttempNormal += morph_weights_a[1] * morph_nrm1;\n\ttempNormal += morph_weights_a[2] * morph_nrm2;\n\ttempNormal += morph_weights_a[3] * morph_nrm3;\n\t#endif\n\t#ifdef MORPHING_NRM47\n\ttempNormal += morph_weights_b[0] * morph_nrm4;\n\ttempNormal += morph_weights_b[1] * morph_nrm5;\n\ttempNormal += morph_weights_b[2] * morph_nrm6;\n\ttempNormal += morph_weights_b[3] * morph_nrm7;\n\t#endif\n\t#endif\n\t#ifdef MORPHING_TEXTURE_BASED_NORMAL\n\tvec2 morphUV = getTextureMorphCoords();\n\tvec3 morphNormal = texture2D(morphNormalTex, morphUV).xyz;\n\ttempNormal += morphNormal;\n\t#endif\n\treturn normalize(dNormalMatrix * tempNormal);\n}\n",normalDetailMapPS:"#ifdef MAPTEXTURE\nuniform sampler2D texture_normalDetailMap;\nuniform float material_normalDetailMapBumpiness;\nvec3 blendNormals(vec3 n1, vec3 n2) {\n\tn1 += vec3(0, 0, 1);\n\tn2 *= vec3(-1, -1, 1);\n\treturn normalize(n1*dot(n1, n2)/n1.z - n2);\n}\n#endif\nvec3 addNormalDetail(vec3 normalMap) {\n\t#ifdef MAPTEXTURE\n\tvec3 normalDetailMap = unpackNormal(texture2D(texture_normalDetailMap, $UV));\n\tnormalDetailMap = normalize(mix(vec3(0.0, 0.0, 1.0), normalDetailMap, material_normalDetailMapBumpiness));\n\treturn blendNormals(normalMap, normalDetailMap);\n\t#else\n\treturn normalMap;\n\t#endif\n}\n",normalInstancedVS:"vec3 getNormal() {\n\tdNormalMatrix = mat3(instance_line1.xyz, instance_line2.xyz, instance_line3.xyz);\n\treturn normalize(dNormalMatrix * vertex_normal);\n}\n",normalMapPS:"uniform sampler2D texture_normalMap;\nuniform float material_bumpiness;\nvoid getNormal() {\n\tvec3 normalMap = unpackNormal(texture2D(texture_normalMap, $UV));\n\tnormalMap = normalize(mix(vec3(0.0, 0.0, 1.0), normalMap, material_bumpiness));\n\tdNormalMap = addNormalDetail(normalMap);\n\tdNormalW = dTBN * dNormalMap;\n}\n",normalMapFastPS:"uniform sampler2D texture_normalMap;\nvoid getNormal() {\n\tvec3 normalMap = unpackNormal(texture2D(texture_normalMap, $UV));\n\tdNormalMap = addNormalDetail(normalMap);\n\tdNormalW = dTBN * dNormalMap;\n}\n",normalSkinnedVS:"vec3 getNormal() {\n\tdNormalMatrix = mat3(dModelMatrix[0].xyz, dModelMatrix[1].xyz, dModelMatrix[2].xyz);\n\treturn normalize(dNormalMatrix * vertex_normal);\n}\n",normalVertexPS:"void getNormal() {\n\tdNormalW = normalize(dVertexNormalW);\n}\n",normalXYPS:"vec3 unpackNormal(vec4 nmap) {\n\tvec3 normal;\n\tnormal.xy = nmap.wy * 2.0 - 1.0;\n\tnormal.z = sqrt(1.0 - saturate(dot(normal.xy, normal.xy)));\n\treturn normal;\n}\n",normalXYZPS:"vec3 unpackNormal(vec4 nmap) {\n\treturn nmap.xyz * 2.0 - 1.0;\n}\n",opacityPS:"#ifdef MAPFLOAT\nuniform float material_opacity;\n#endif\n#ifdef MAPTEXTURE\nuniform sampler2D texture_opacityMap;\n#endif\nvoid getOpacity() {\n\tdAlpha = 1.0;\n\t#ifdef MAPFLOAT\n\tdAlpha *= material_opacity;\n\t#endif\n\t#ifdef MAPTEXTURE\n\tdAlpha *= texture2D(texture_opacityMap, $UV).$CH;\n\t#endif\n\t#ifdef MAPVERTEX\n\tdAlpha *= clamp(vVertexColor.$VC, 0.0, 1.0);\n\t#endif\n}\n",outputAlphaPS:"gl_FragColor.a = dAlpha;\n",outputAlphaOpaquePS:"gl_FragColor.a = 1.0;\n",outputAlphaPremulPS:"gl_FragColor.rgb *= dAlpha;\ngl_FragColor.a = dAlpha;\n",outputCubemapPS:"varying vec2 vUv0;\nuniform samplerCube source;\nuniform vec4 params;\nfloat saturate(float x) {\n\treturn clamp(x, 0.0, 1.0);\n}\nvec4 encodeRGBM(vec4 color) {\n\tcolor.rgb = pow(color.rgb, vec3(0.5));\n\tcolor.rgb *= 1.0 / 8.0;\n\tcolor.a = saturate( max( max( color.r, color.g ), max( color.b, 1.0 / 255.0 ) ) );\n\tcolor.a = ceil(color.a * 255.0) / 255.0;\n\tcolor.rgb /= color.a;\n\treturn color;\n}\nvoid main(void) {\n\tvec2 st = vUv0 * 2.0 - 1.0;\n\tfloat face = params.x;\n\tvec3 vec;\n\tif (face==0.0) {\n\t\tvec = vec3(1, -st.y, -st.x);\n\t} else if (face==1.0) {\n\t\tvec = vec3(-1, -st.y, st.x);\n\t} else if (face==2.0) {\n\t\tvec = vec3(st.x, 1, st.y);\n\t} else if (face==3.0) {\n\t\tvec = vec3(st.x, -1, -st.y);\n\t} else if (face==4.0) {\n\t\tvec = vec3(st.x, -st.y, 1);\n\t} else {\n\t\tvec = vec3(-st.x, -st.y, -1);\n\t}\n\tgl_FragColor = textureCube(source, vec);\n\tif (params.w >= 2.0) gl_FragColor = encodeRGBM(gl_FragColor);\n}\n",outputTex2DPS:"varying vec2 vUv0;\nuniform sampler2D source;\nvoid main(void) {\n\tgl_FragColor = texture2D(source, vUv0);\n}\n",packDepthPS:"\nvec4 packFloat(float depth) {\n\tconst vec4 bit_shift = vec4(256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0);\n\tconst vec4 bit_mask  = vec4(0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0);\n\tvec4 res = mod(depth * bit_shift * vec4(255), vec4(256) ) / vec4(255);\n\tres -= res.xxyz * bit_mask;\n\treturn res;\n}\n",packDepthMaskPS:"vec4 packFloat(float depth) {\n\tconst vec4 bit_shift = vec4(256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0);\n\tconst vec4 bit_mask  = vec4(0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0);\n\tvec4 res = mod(depth * bit_shift * vec4(255), vec4(256) ) / vec4(255);\n\tres.x = 0.0;\n\tres -= res.xxyz * bit_mask;\n\treturn res;\n}\n",parallaxPS:"uniform sampler2D texture_heightMap;\nuniform float material_heightMapFactor;\nvoid getParallax() {\n\tfloat parallaxScale = material_heightMapFactor;\n\tfloat height = texture2D(texture_heightMap, $UV).$CH;\n\theight = height * parallaxScale - parallaxScale*0.5;\n\tvec3 viewDirT = dViewDirW * dTBN;\n\tviewDirT.z += 0.42;\n\tdUvOffset = height * (viewDirT.xy / viewDirT.z);\n}\n",particlePS:"varying vec4 texCoordsAlphaLife;\nuniform sampler2D colorMap;\nuniform sampler2D colorParam;\nuniform float graphSampleSize;\nuniform float graphNumSamples;\n#ifndef CAMERAPLANES\n#define CAMERAPLANES\nuniform vec4 camera_params;\n#endif\nuniform float softening;\nuniform float colorMult;\nfloat saturate(float x) {\n\treturn clamp(x, 0.0, 1.0);\n}\n#ifndef UNPACKFLOAT\n#define UNPACKFLOAT\nfloat unpackFloat(vec4 rgbaDepth) {\n\tconst vec4 bitShift = vec4(1.0 / (256.0 * 256.0 * 256.0), 1.0 / (256.0 * 256.0), 1.0 / 256.0, 1.0);\n\tfloat depth = dot(rgbaDepth, bitShift);\n\treturn depth;\n}\n#endif\nvoid main(void) {\n\tvec4 tex  = texture2DSRGB(colorMap, texCoordsAlphaLife.xy);\n\tvec4 ramp = texture2DSRGB(colorParam, vec2(texCoordsAlphaLife.w, 0.0));\n\tramp.rgb *= colorMult;\n\tramp.a += texCoordsAlphaLife.z;\n\tvec3 rgb = tex.rgb * ramp.rgb;\n\tfloat a  = tex.a * ramp.a;\n",particleVS:"vec3 unpack3NFloats(float src) {\n\tfloat r = fract(src);\n\tfloat g = fract(src * 256.0);\n\tfloat b = fract(src * 65536.0);\n\treturn vec3(r, g, b);\n}\nfloat saturate(float x) {\n\treturn clamp(x, 0.0, 1.0);\n}\nvec4 tex1Dlod_lerp(highp sampler2D tex, vec2 tc) {\n\treturn mix( texture2D(tex,tc), texture2D(tex,tc + graphSampleSize), fract(tc.x*graphNumSamples) );\n}\nvec4 tex1Dlod_lerp(highp sampler2D tex, vec2 tc, out vec3 w) {\n\tvec4 a = texture2D(tex,tc);\n\tvec4 b = texture2D(tex,tc + graphSampleSize);\n\tfloat c = fract(tc.x*graphNumSamples);\n\tvec3 unpackedA = unpack3NFloats(a.w);\n\tvec3 unpackedB = unpack3NFloats(b.w);\n\tw = mix(unpackedA, unpackedB, c);\n\treturn mix(a, b, c);\n}\nvec2 rotate(vec2 quadXY, float pRotation, out mat2 rotMatrix) {\n\tfloat c = cos(pRotation);\n\tfloat s = sin(pRotation);\n\tmat2 m = mat2(c, -s, s, c);\n\trotMatrix = m;\n\treturn m * quadXY;\n}\nvec3 billboard(vec3 InstanceCoords, vec2 quadXY) {\n\t#ifdef SCREEN_SPACE\n\t\tvec3 pos = vec3(-1, 0, 0) * quadXY.x + vec3(0, -1, 0) * quadXY.y;\n\t#else\n\t\tvec3 pos = -matrix_viewInverse[0].xyz * quadXY.x + -matrix_viewInverse[1].xyz * quadXY.y;\n\t#endif\n\treturn pos;\n}\nvec3 customFace(vec3 InstanceCoords, vec2 quadXY) {\n\tvec3 pos = faceTangent * quadXY.x + faceBinorm * quadXY.y;\n\treturn pos;\n}\nvec2 safeNormalize(vec2 v) {\n\tfloat l = length(v);\n\treturn (l > 1e-06) ? v / l : v;\n}\nvoid main(void) {\n\tvec3 meshLocalPos = particle_vertexData.xyz;\n\tfloat id = floor(particle_vertexData.w);\n\tfloat rndFactor = fract(sin(id + 1.0 + seed));\n\tvec3 rndFactor3 = vec3(rndFactor, fract(rndFactor*10.0), fract(rndFactor*100.0));\n\tfloat uv = id / numParticlesPot;\n\treadInput(uv);\n#ifdef LOCAL_SPACE\n\tinVel = mat3(matrix_model) * inVel;\n#endif\n\tvec2 velocityV = safeNormalize((mat3(matrix_view) * inVel).xy);\n\tfloat particleLifetime = lifetime;\n\tif (inLife <= 0.0 || inLife > particleLifetime || !inShow) meshLocalPos = vec3(0.0);\n\tvec2 quadXY = meshLocalPos.xy;\n\tfloat nlife = clamp(inLife / particleLifetime, 0.0, 1.0);\n\tvec3 paramDiv;\n\tvec4 params = tex1Dlod_lerp(internalTex2, vec2(nlife, 0), paramDiv);\n\tfloat scale = params.y;\n\tfloat scaleDiv = paramDiv.x;\n\tfloat alphaDiv = paramDiv.z;\n\tscale += (scaleDiv * 2.0 - 1.0) * scaleDivMult * fract(rndFactor*10000.0);\n#ifndef USE_MESH\n\ttexCoordsAlphaLife = vec4(quadXY * -0.5 + 0.5, (alphaDiv * 2.0 - 1.0) * alphaDivMult * fract(rndFactor*1000.0), nlife);\n#else\n\ttexCoordsAlphaLife = vec4(particle_uv, (alphaDiv * 2.0 - 1.0) * alphaDivMult * fract(rndFactor*1000.0), nlife);\n#endif\n\tvec3 particlePos = inPos;\n\tvec3 particlePosMoved = vec3(0.0);\n\tmat2 rotMatrix;\n",particleAnimFrameClampVS:"\tfloat animFrame = min(floor(texCoordsAlphaLife.w * animTexParams.y) + animTexParams.x, animTexParams.z);\n",particleAnimFrameLoopVS:"\tfloat animFrame = floor(mod(texCoordsAlphaLife.w * animTexParams.y + animTexParams.x, animTexParams.z + 1.0));\n",particleAnimTexVS:"\tfloat animationIndex;\n\tif (animTexIndexParams.y == 1.0) {\n\t\tanimationIndex = floor((animTexParams.w + 1.0) * rndFactor3.z) * (animTexParams.z + 1.0);\n\t} else {\n\t\tanimationIndex = animTexIndexParams.x * (animTexParams.z + 1.0);\n\t}\n\tfloat atlasX = (animationIndex + animFrame) * animTexTilesParams.x;\n\tfloat atlasY = 1.0 - floor(atlasX + 1.0) * animTexTilesParams.y;\n\tatlasX = fract(atlasX);\n\ttexCoordsAlphaLife.xy *= animTexTilesParams.xy;\n\ttexCoordsAlphaLife.xy += vec2(atlasX, atlasY);\n",particleInputFloatPS:"void readInput(float uv) {\n\tvec4 tex = texture2D(particleTexIN, vec2(uv, 0.25));\n\tvec4 tex2 = texture2D(particleTexIN, vec2(uv, 0.75));\n\tinPos = tex.xyz;\n\tinVel = tex2.xyz;\n\tinAngle = (tex.w < 0.0? -tex.w : tex.w) - 1000.0;\n\tinShow = tex.w >= 0.0;\n\tinLife = tex2.w;\n}\n",particleInputRgba8PS:"\n#define PI2 6.283185307179586\nuniform vec3 inBoundsSize;\nuniform vec3 inBoundsCenter;\nuniform float maxVel;\nfloat decodeFloatRG(vec2 rg) {\n\treturn rg.y*(1.0/255.0) + rg.x;\n}\nfloat decodeFloatRGBA( vec4 rgba ) {\n  return dot( rgba, vec4(1.0, 1.0/255.0, 1.0/65025.0, 1.0/160581375.0) );\n}\nvoid readInput(float uv) {\n\tvec4 tex0 = texture2D(particleTexIN, vec2(uv, 0.125));\n\tvec4 tex1 = texture2D(particleTexIN, vec2(uv, 0.375));\n\tvec4 tex2 = texture2D(particleTexIN, vec2(uv, 0.625));\n\tvec4 tex3 = texture2D(particleTexIN, vec2(uv, 0.875));\n\tinPos = vec3(decodeFloatRG(tex0.rg), decodeFloatRG(tex0.ba), decodeFloatRG(tex1.rg));\n\tinPos = (inPos - vec3(0.5)) * inBoundsSize + inBoundsCenter;\n\tinVel = tex2.xyz;\n\tinVel = (inVel - vec3(0.5)) * maxVel;\n\tinAngle = decodeFloatRG(tex1.ba) * PI2;\n\tinShow = tex2.a > 0.5;\n\tinLife = decodeFloatRGBA(tex3);\n\tfloat maxNegLife = max(lifetime, (numParticles - 1.0) * (rate+rateDiv));\n\tfloat maxPosLife = lifetime+1.0;\n\tinLife = inLife * (maxNegLife + maxPosLife) - maxNegLife;\n}\n",particleOutputFloatPS:"void writeOutput() {\n\tif (gl_FragCoord.y<1.0) {\n\t\tgl_FragColor = vec4(outPos, (outAngle + 1000.0) * visMode);\n\t} else {\n\t\tgl_FragColor = vec4(outVel, outLife);\n\t}\n}\n",particleOutputRgba8PS:"uniform vec3 outBoundsMul;\nuniform vec3 outBoundsAdd;\nvec2 encodeFloatRG( float v ) {\n\tvec2 enc = vec2(1.0, 255.0) * v;\n\tenc = fract(enc);\n\tenc -= enc.yy * vec2(1.0/255.0, 1.0/255.0);\n\treturn enc;\n}\nvec4 encodeFloatRGBA( float v ) {\n\tvec4 enc = vec4(1.0, 255.0, 65025.0, 160581375.0) * v;\n\tenc = fract(enc);\n\tenc -= enc.yzww * vec4(1.0/255.0,1.0/255.0,1.0/255.0,0.0);\n\treturn enc;\n}\nvoid writeOutput() {\n\toutPos = outPos * outBoundsMul + outBoundsAdd;\n\toutAngle = fract(outAngle / PI2);\n\toutVel = (outVel / maxVel) + vec3(0.5);\n\tfloat maxNegLife = max(lifetime, (numParticles - 1.0) * (rate+rateDiv));\n\tfloat maxPosLife = lifetime+1.0;\n\toutLife = (outLife + maxNegLife) / (maxNegLife + maxPosLife);\n\tif (gl_FragCoord.y < 1.0) {\n\t\tgl_FragColor = vec4(encodeFloatRG(outPos.x), encodeFloatRG(outPos.y));\n\t} else if (gl_FragCoord.y < 2.0) {\n\t\tgl_FragColor = vec4(encodeFloatRG(outPos.z), encodeFloatRG(outAngle));\n\t} else if (gl_FragCoord.y < 3.0) {\n\t\tgl_FragColor = vec4(outVel, visMode*0.5+0.5);\n\t} else {\n\t\tgl_FragColor = encodeFloatRGBA(outLife);\n\t}\n}\n",particleUpdaterAABBPS:"uniform mat3 spawnBounds;\nuniform vec3 spawnPosInnerRatio;\nvec3 calcSpawnPosition(vec3 inBounds, float rndFactor) {\n\tvec3 pos = inBounds - vec3(0.5);\n\tvec3 posAbs = abs(pos);\n\tvec3 maxPos = vec3(max(posAbs.x, max(posAbs.y, posAbs.z)));\n\tvec3 edge = maxPos + (vec3(0.5) - maxPos) * spawnPosInnerRatio;\n\tpos.x = edge.x * (maxPos.x == posAbs.x ? sign(pos.x) : 2.0 * pos.x);\n\tpos.y = edge.y * (maxPos.y == posAbs.y ? sign(pos.y) : 2.0 * pos.y);\n\tpos.z = edge.z * (maxPos.z == posAbs.z ? sign(pos.z) : 2.0 * pos.z);\n#ifndef LOCAL_SPACE\n\treturn emitterPos + spawnBounds * pos;\n#else\n\treturn spawnBounds * pos;\n#endif\n}\nvoid addInitialVelocity(inout vec3 localVelocity, vec3 inBounds) {\n\tlocalVelocity -= vec3(0, 0, initialVelocity);\n}\n",particleUpdaterEndPS:"\twriteOutput();\n}\n",particleUpdaterInitPS:"varying vec2 vUv0;\nuniform highp sampler2D particleTexIN;\nuniform highp sampler2D internalTex0;\nuniform highp sampler2D internalTex1;\nuniform highp sampler2D internalTex2;\nuniform highp sampler2D internalTex3;\nuniform mat3 emitterMatrix, emitterMatrixInv;\nuniform vec3 emitterScale;\nuniform vec3 emitterPos, frameRandom, localVelocityDivMult, velocityDivMult;\nuniform float delta, rate, rateDiv, lifetime, numParticles, rotSpeedDivMult, radialSpeedDivMult, seed;\nuniform float startAngle, startAngle2;\nuniform float initialVelocity;\nuniform float graphSampleSize;\nuniform float graphNumSamples;\nvec3 inPos;\nvec3 inVel;\nfloat inAngle;\nbool inShow;\nfloat inLife;\nfloat visMode;\nvec3 outPos;\nvec3 outVel;\nfloat outAngle;\nbool outShow;\nfloat outLife;\n",particleUpdaterNoRespawnPS:"\tif (outLife >= lifetime) {\n\t\toutLife -= max(lifetime, (numParticles - 1.0) * particleRate);\n\t\tvisMode = -1.0;\n\t}\n",particleUpdaterOnStopPS:"\tvisMode = outLife < 0.0? -1.0: visMode;\n",particleUpdaterRespawnPS:"\tif (outLife >= lifetime) {\n\t\toutLife -= max(lifetime, (numParticles - 1.0) * particleRate);\n\t\tvisMode = 1.0;\n\t}\n\tvisMode = outLife < 0.0? 1.0: visMode;\n",particleUpdaterSpherePS:"uniform float spawnBoundsSphere;\nuniform float spawnBoundsSphereInnerRatio;\nvec3 calcSpawnPosition(vec3 inBounds, float rndFactor) {\n\tfloat rnd4 = fract(rndFactor * 1000.0);\n\tvec3 norm = normalize(inBounds.xyz - vec3(0.5));\n\tfloat r = rnd4 * (1.0 - spawnBoundsSphereInnerRatio) + spawnBoundsSphereInnerRatio;\n#ifndef LOCAL_SPACE\n\treturn emitterPos + norm * r * spawnBoundsSphere;\n#else\n\treturn norm * r * spawnBoundsSphere;\n#endif\n}\nvoid addInitialVelocity(inout vec3 localVelocity, vec3 inBounds) {\n\tlocalVelocity += normalize(inBounds - vec3(0.5)) * initialVelocity;\n}\n",particleUpdaterStartPS:"float saturate(float x) {\n\treturn clamp(x, 0.0, 1.0);\n}\nvec3 unpack3NFloats(float src) {\n\tfloat r = fract(src);\n\tfloat g = fract(src * 256.0);\n\tfloat b = fract(src * 65536.0);\n\treturn vec3(r, g, b);\n}\nvec3 tex1Dlod_lerp(highp sampler2D tex, vec2 tc, out vec3 w) {\n\tvec4 a = texture2D(tex, tc);\n\tvec4 b = texture2D(tex, tc + graphSampleSize);\n\tfloat c = fract(tc.x * graphNumSamples);\n\tvec3 unpackedA = unpack3NFloats(a.w);\n\tvec3 unpackedB = unpack3NFloats(b.w);\n\tw = mix(unpackedA, unpackedB, c);\n\treturn mix(a.xyz, b.xyz, c);\n}\n#define HASHSCALE4 vec4(1031, .1030, .0973, .1099)\nvec4 hash41(float p) {\n\tvec4 p4 = fract(vec4(p) * HASHSCALE4);\n\tp4 += dot(p4, p4.wzxy+19.19);\n\treturn fract(vec4((p4.x + p4.y)*p4.z, (p4.x + p4.z)*p4.y, (p4.y + p4.z)*p4.w, (p4.z + p4.w)*p4.x));\n}\nvoid main(void) {\n\tif (gl_FragCoord.x > numParticles) discard;\n\treadInput(vUv0.x);\n\tvisMode = inShow? 1.0 : -1.0;\n\tvec4 rndFactor = hash41(gl_FragCoord.x + seed);\n\tfloat particleRate = rate + rateDiv * rndFactor.x;\n\toutLife = inLife + delta;\n\tfloat nlife = clamp(outLife / lifetime, 0.0, 1.0);\n\tvec3 localVelocityDiv;\n\tvec3 velocityDiv;\n\tvec3 paramDiv;\n\tvec3 localVelocity = tex1Dlod_lerp(internalTex0, vec2(nlife, 0), localVelocityDiv);\n\tvec3 velocity =\t  tex1Dlod_lerp(internalTex1, vec2(nlife, 0), velocityDiv);\n\tvec3 params =\t\ttex1Dlod_lerp(internalTex2, vec2(nlife, 0), paramDiv);\n\tfloat rotSpeed = params.x;\n\tfloat rotSpeedDiv = paramDiv.y;\n\tvec3 radialParams = tex1Dlod_lerp(internalTex3, vec2(nlife, 0), paramDiv);\n\tfloat radialSpeed = radialParams.x;\n\tfloat radialSpeedDiv = radialParams.y;\n\tbool respawn = inLife <= 0.0 || outLife >= lifetime;\n\tinPos = respawn ? calcSpawnPosition(rndFactor.xyz, rndFactor.x) : inPos;\n\tinAngle = respawn ? mix(startAngle, startAngle2, rndFactor.x) : inAngle;\n#ifndef LOCAL_SPACE\n\tvec3 radialVel = inPos - emitterPos;\n#else\n\tvec3 radialVel = inPos;\n#endif\n\tradialVel = (dot(radialVel, radialVel) > 1.0E-8) ? radialSpeed * normalize(radialVel) : vec3(0.0);\n\tradialVel += (radialSpeedDiv * vec3(2.0) - vec3(1.0)) * radialSpeedDivMult * rndFactor.xyz;\n\tlocalVelocity +=\t(localVelocityDiv * vec3(2.0) - vec3(1.0)) * localVelocityDivMult * rndFactor.xyz;\n\tvelocity +=\t\t (velocityDiv * vec3(2.0) - vec3(1.0)) * velocityDivMult * rndFactor.xyz;\n\trotSpeed +=\t\t (rotSpeedDiv * 2.0 - 1.0) * rotSpeedDivMult * rndFactor.y;\n\taddInitialVelocity(localVelocity, rndFactor.xyz);\n#ifndef LOCAL_SPACE\n\toutVel = emitterMatrix * localVelocity + (radialVel + velocity) * emitterScale;\n#else\n\toutVel = (localVelocity + radialVel) / emitterScale + emitterMatrixInv * velocity;\n#endif\n\toutPos = inPos + outVel * delta;\n\toutAngle = inAngle + rotSpeed * delta;\n",particle_billboardVS:"\tquadXY = rotate(quadXY, inAngle, rotMatrix);\n\tvec3 localPos = billboard(particlePos, quadXY);\n",particle_blendAddPS:"\tdBlendModeFogFactor = 0.0;\n\trgb *= saturate(gammaCorrectInput(max(a, 0.0)));\n\tif ((rgb.r + rgb.g + rgb.b) < 0.000001) discard;\n",particle_blendMultiplyPS:"\trgb = mix(vec3(1.0), rgb, vec3(a));\n\tif (rgb.r + rgb.g + rgb.b > 2.99) discard;\n",particle_blendNormalPS:"\tif (a < 0.01) discard;\n",particle_cpuVS:"attribute vec4 particle_vertexData;\nattribute vec4 particle_vertexData2;\nattribute vec4 particle_vertexData3;\nattribute float particle_vertexData4;\n#ifndef USE_MESH\n#define VDATA5TYPE vec2\n#else\n#define VDATA5TYPE vec4\n#endif\nattribute VDATA5TYPE particle_vertexData5;\nuniform mat4 matrix_viewProjection;\nuniform mat4 matrix_model;\n#ifndef VIEWMATRIX\n#define VIEWMATRIX\nuniform mat4 matrix_view;\n#endif\nuniform mat3 matrix_normal;\nuniform mat4 matrix_viewInverse;\nuniform float numParticles;\nuniform float lifetime;\nuniform float stretch;\nuniform float seed;\nuniform vec3 wrapBounds, emitterScale, faceTangent, faceBinorm;\nuniform sampler2D texLifeAndSourcePosOUT;\nuniform highp sampler2D internalTex0;\nuniform highp sampler2D internalTex1;\nuniform highp sampler2D internalTex2;\nuniform vec3 emitterPos;\nvarying vec4 texCoordsAlphaLife;\nvec2 rotate(vec2 quadXY, float pRotation, out mat2 rotMatrix)\n{\n\tfloat c = cos(pRotation);\n\tfloat s = sin(pRotation);\n\tmat2 m = mat2(c, -s, s, c);\n\trotMatrix = m;\n\treturn m * quadXY;\n}\nvec3 billboard(vec3 InstanceCoords, vec2 quadXY)\n{\n\tvec3 pos = -matrix_viewInverse[0].xyz * quadXY.x + -matrix_viewInverse[1].xyz * quadXY.y;\n\treturn pos;\n}\nvec3 customFace(vec3 InstanceCoords, vec2 quadXY)\n{\n\tvec3 pos = faceTangent * quadXY.x + faceBinorm * quadXY.y;\n\treturn pos;\n}\nvoid main(void)\n{\n\tvec3 particlePos = particle_vertexData.xyz;\n\tvec3 inPos = particlePos;\n\tvec3 vertPos = particle_vertexData3.xyz;\n\tvec3 inVel = vec3(particle_vertexData2.w, particle_vertexData3.w, particle_vertexData5.x);\n\tfloat id = floor(particle_vertexData4);\n\tfloat rndFactor = fract(sin(id + 1.0 + seed));\n\tvec3 rndFactor3 = vec3(rndFactor, fract(rndFactor*10.0), fract(rndFactor*100.0));\n#ifdef LOCAL_SPACE\n\tinVel = mat3(matrix_model) * inVel;\n#endif\n\tvec2 velocityV = normalize((mat3(matrix_view) * inVel).xy);\n\tvec2 quadXY = vertPos.xy;\n#ifndef USE_MESH\n\ttexCoordsAlphaLife = vec4(quadXY * -0.5 + 0.5, particle_vertexData2.z, particle_vertexData.w);\n#else\n\ttexCoordsAlphaLife = vec4(particle_vertexData5.zw, particle_vertexData2.z, particle_vertexData.w);\n#endif\n\tmat2 rotMatrix;\n\tfloat inAngle = particle_vertexData2.x;\n\tvec3 particlePosMoved = vec3(0.0);\n\tvec3 meshLocalPos = particle_vertexData3.xyz;\n",particle_cpu_endVS:"\tlocalPos *= particle_vertexData2.y * emitterScale;\n\tlocalPos += particlePos;\n\tgl_Position = matrix_viewProjection * vec4(localPos, 1.0);\n",particle_customFaceVS:"\tquadXY = rotate(quadXY, inAngle, rotMatrix);\n\tvec3 localPos = customFace(particlePos, quadXY);\n",particle_endPS:"\trgb = addFog(rgb);\n\trgb = toneMap(rgb);\n\trgb = gammaCorrectOutput(rgb);\n\tgl_FragColor = vec4(rgb, a);\n}\n",particle_endVS:"\tlocalPos *= scale * emitterScale;\n\tlocalPos += particlePos;\n\t#ifdef SCREEN_SPACE\n\tgl_Position = vec4(localPos.x, localPos.y, 0.0, 1.0);\n\t#else\n\tgl_Position = matrix_viewProjection * vec4(localPos.xyz, 1.0);\n\t#endif\n",particle_halflambertPS:"\tvec3 negNormal = normal*0.5+0.5;\n\tvec3 posNormal = -normal*0.5+0.5;\n\tnegNormal *= negNormal;\n\tposNormal *= posNormal;\n",particle_initVS:"attribute vec4 particle_vertexData;\n#ifdef USE_MESH\nattribute vec2 particle_uv;\n#endif\nuniform mat4 matrix_viewProjection;\nuniform mat4 matrix_model;\nuniform mat3 matrix_normal;\nuniform mat4 matrix_viewInverse;\n#ifndef VIEWMATRIX\n#define VIEWMATRIX\nuniform mat4 matrix_view;\n#endif\nuniform float numParticles, numParticlesPot;\nuniform float graphSampleSize;\nuniform float graphNumSamples;\nuniform float stretch;\nuniform vec3 wrapBounds;\nuniform vec3 emitterScale, emitterPos, faceTangent, faceBinorm;\nuniform float rate, rateDiv, lifetime, deltaRandomnessStatic, scaleDivMult, alphaDivMult, seed, delta;\nuniform sampler2D particleTexOUT, particleTexIN;\nuniform highp sampler2D internalTex0;\nuniform highp sampler2D internalTex1;\nuniform highp sampler2D internalTex2;\n#ifndef CAMERAPLANES\n#define CAMERAPLANES\nuniform vec4 camera_params;\n#endif\nvarying vec4 texCoordsAlphaLife;\nvec3 inPos;\nvec3 inVel;\nfloat inAngle;\nbool inShow;\nfloat inLife;\n",particle_lambertPS:"\tvec3 negNormal = max(normal, vec3(0.0));\n\tvec3 posNormal = max(-normal, vec3(0.0));\n",particle_lightingPS:"\tvec3 light = negNormal.x*lightCube[0] + posNormal.x*lightCube[1] +\n\t\t\t\t\t\tnegNormal.y*lightCube[2] + posNormal.y*lightCube[3] +\n\t\t\t\t\t\tnegNormal.z*lightCube[4] + posNormal.z*lightCube[5];\n\trgb *= light;\n",particle_localShiftVS:"\tparticlePos = (matrix_model * vec4(particlePos, 1.0)).xyz;\n",particle_meshVS:"\tvec3 localPos = meshLocalPos;\n\tlocalPos.xy = rotate(localPos.xy, inAngle, rotMatrix);\n\tlocalPos.yz = rotate(localPos.yz, inAngle, rotMatrix);\n\tbillboard(particlePos, quadXY);\n",particle_normalVS:"\tNormal = normalize(localPos + matrix_viewInverse[2].xyz);\n",particle_normalMapPS:"\tvec3 normalMap = normalize(texture2D(normalMap, texCoordsAlphaLife.xy).xyz * 2.0 - 1.0);\n\tvec3 normal = ParticleMat * normalMap;\n",particle_pointAlongVS:"\tinAngle = atan(velocityV.x, velocityV.y);\n",particle_softPS:"\tfloat depth = getLinearScreenDepth();\n\tfloat particleDepth = vDepth;\n\tfloat depthDiff = saturate(abs(particleDepth - depth) * softening);\n\ta *= depthDiff;\n",particle_softVS:"\tvDepth = getLinearDepth(localPos);\n",particle_stretchVS:"\tvec3 moveDir = inVel * stretch;\n\tvec3 posPrev = particlePos - moveDir;\n\tposPrev += particlePosMoved;\n\tvec2 centerToVertexV = normalize((mat3(matrix_view) * localPos).xy);\n\tfloat interpolation = dot(-velocityV, centerToVertexV) * 0.5 + 0.5;\n\tparticlePos = mix(particlePos, posPrev, interpolation);\n",particle_TBNVS:"\tmat3 rot3 = mat3(rotMatrix[0][0], rotMatrix[0][1], 0.0, rotMatrix[1][0], rotMatrix[1][1], 0.0, 0.0, 0.0, 1.0);\n\tParticleMat = mat3(-matrix_viewInverse[0].xyz, -matrix_viewInverse[1].xyz, matrix_viewInverse[2].xyz) * rot3;\n",particle_wrapVS:"\tvec3 origParticlePos = particlePos;\n\tparticlePos -= matrix_model[3].xyz;\n\tparticlePos = mod(particlePos, wrapBounds) - wrapBounds * 0.5;\n\tparticlePos += matrix_model[3].xyz;\n\tparticlePosMoved = particlePos - origParticlePos;\n",precisionTestPS:"void main(void) {\n\tgl_FragColor = vec4(2147483648.0);\n}\n",precisionTest2PS:"uniform sampler2D source;\nvec4 packFloat(float depth) {\n\tconst vec4 bit_shift = vec4(256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0);\n\tconst vec4 bit_mask  = vec4(0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0);\n\tvec4 res = mod(depth * bit_shift * vec4(255), vec4(256) ) / vec4(255);\n\tres -= res.xxyz * bit_mask;\n\treturn res;\n}\nvoid main(void) {\n\tfloat c = texture2D(source, vec2(0.0)).r;\n\tfloat diff = abs(c - 2147483648.0) / 2147483648.0;\n\tgl_FragColor = packFloat(diff);\n}\n",prefilterCubemapPS:"varying vec2 vUv0;\nuniform samplerCube source;\nuniform vec4 params;\nfloat saturate(float x) {\n\treturn clamp(x, 0.0, 1.0);\n}\nfloat rnd(vec2 uv) {\n\treturn fract(sin(dot(uv, vec2(12.9898, 78.233) * 2.0)) * 43758.5453);\n}\nconst float PI = 3.14159265358979;\nvec3 hemisphereSample_cos(vec2 uv, mat3 vecSpace, vec3 cubeDir, float gloss) {\n\tfloat phi = uv.y * 2.0 * PI;\n\tfloat cosTheta = sqrt(1.0 - uv.x);\n\tfloat sinTheta = sqrt(1.0 - cosTheta * cosTheta);\n\tvec3 sampleDir = vec3(cos(phi) * sinTheta, sin(phi) * sinTheta, cosTheta);\n\treturn normalize(mix(vecSpace * sampleDir, cubeDir, params.y));\n}\nvec3 hemisphereSample_phong(vec2 uv, mat3 vecSpace, vec3 cubeDir, float specPow) {\n\tfloat phi = uv.y * 2.0 * PI;\n\tfloat cosTheta = pow(1.0 - uv.x, 1.0 / (specPow + 1.0));\n\tfloat sinTheta = sqrt(1.0 - cosTheta * cosTheta);\n\tvec3 sampleDir = vec3(cos(phi) * sinTheta, sin(phi) * sinTheta, cosTheta);\n\treturn vecSpace * sampleDir;\n}\nmat3 matrixFromVector(vec3 n) {\n\tfloat a = 1.0 / (1.0 + n.z);\n\tfloat b = -n.x * n.y * a;\n\tvec3 b1 = vec3(1.0 - n.x * n.x * a, b, -n.x);\n\tvec3 b2 = vec3(b, 1.0 - n.y * n.y * a, -n.y);\n\treturn mat3(b1, b2, n);\n}\nvec4 encodeRGBM(vec3 color) {\n\tvec4 encoded;\n\tencoded.rgb = pow(color.rgb, vec3(0.5));\n\tencoded.rgb *= 1.0 / 8.0;\n\tencoded.a = saturate( max( max( encoded.r, encoded.g ), max( encoded.b, 1.0 / 255.0 ) ) );\n\tencoded.a = ceil(encoded.a * 255.0) / 255.0;\n\tencoded.rgb /= encoded.a;\n\treturn encoded;\n}\nvoid main(void) {\n\tvec2 st = vUv0 * 2.0 - 1.0;\n\tif (params.w==1.0 || params.w==3.0) {\n\t\tst = 2.0 * floor(gl_FragCoord.xy) / (params.z - 1.0) - 1.0;\n\t}\n\tfloat face = params.x;\n\tvec3 vec;\n\tif (face==0.0) {\n\t\tvec = vec3(1, -st.y, -st.x);\n\t} else if (face==1.0) {\n\t\tvec = vec3(-1, -st.y, st.x);\n\t} else if (face==2.0) {\n\t\tvec = vec3(st.x, 1, st.y);\n\t} else if (face==3.0) {\n\t\tvec = vec3(st.x, -1, -st.y);\n\t} else if (face==4.0) {\n\t\tvec = vec3(st.x, -st.y, 1);\n\t} else {\n\t\tvec = vec3(-st.x, -st.y, -1);\n\t}\n\tmat3 vecSpace = matrixFromVector(normalize(vec));\n\tvec3 color = vec3(0.0);\n\tconst int samples = $NUMSAMPLES;\n\tvec3 vect;\n\tfor(int i=0; i<samples; i++) {\n\t\tfloat sini = sin(float(i));\n\t\tfloat cosi = cos(float(i));\n\t\tfloat rand = rnd(vec2(sini, cosi));\n\t\tvect = hemisphereSample_$METHOD(vec2(float(i) / float(samples), rand), vecSpace, vec, params.y);\n\t\tcolor += $textureCube(source, vect).rgb;\n\t}\n\tcolor /= float(samples);\n\tgl_FragColor = params.w < 2.0? vec4(color, 1.0) : encodeRGBM(color);\n}\n",reflDirPS:"void getReflDir() {\n\tdReflDirW = normalize(-reflect(dViewDirW, dNormalW));\n}\n",reflDirAnisoPS:"void getReflDir() {\n\tfloat roughness = sqrt(1.0 - min(dGlossiness, 1.0));\n\tfloat anisotropy = material_anisotropy * roughness;\n\tvec3 anisotropicDirection = anisotropy >= 0.0 ? dTBN[1] : dTBN[0];\n\tvec3 anisotropicTangent = cross(anisotropicDirection, dViewDirW);\n\tvec3 anisotropicNormal = cross(anisotropicTangent, anisotropicDirection);\n\tvec3 bentNormal = normalize(mix(normalize(dNormalW), normalize(anisotropicNormal), anisotropy));\n\tdReflDirW = reflect(-dViewDirW, bentNormal);\n}\n",reflectionCCPS:"#ifdef CLEARCOAT\nuniform float material_clearCoatReflectivity;\nvoid addReflectionCC() {\n\tccReflection += vec4(calcReflection(ccReflDirW, ccGlossiness), material_clearCoatReflectivity);\n}\n#endif\n",reflectionCubePS:"uniform samplerCube texture_cubeMap;\nuniform float material_reflectivity;\nvec3 calcReflection(vec3 tReflDirW, float tGlossiness) {\n\tvec3 lookupVec = fixSeams(cubeMapProject(tReflDirW));\n\tlookupVec.x *= -1.0;\n\treturn $textureCubeSAMPLE(texture_cubeMap, lookupVec).rgb;\n}\nvoid addReflection() {\n\tdReflection += vec4(calcReflection(dReflDirW, dGlossiness), material_reflectivity);\n}\n",reflectionDpAtlasPS:"uniform sampler2D texture_sphereMap;\nuniform float material_reflectivity;\nvec2 getDpAtlasUv(vec2 uv, float mip) {\n\tvec4 rect;\n\tfloat sx = saturate(mip - 2.0);\n\trect.x = sx * 0.5;\n\tfloat t = mip - rect.x * 6.0;\n\tfloat i = 1.0 - rect.x;\n\trect.y = min(t * 0.5, 0.75) * i + rect.x;\n\tfloat st = saturate(t);\n\trect.z = (1.0 - st * 0.5) * i;\n\trect.w = rect.z * 0.5;\n\tfloat rcRectZ = 1.0 / rect.z;\n\tfloat scaleFactor = 0.00390625 * rcRectZ;\n\tvec2 scale = vec2(scaleFactor, scaleFactor * 2.0);\n\tuv = uv * (vec2(1.0) - scale) + scale * 0.5;\n\tuv = uv * rect.zw + rect.xy;\n\treturn uv;\n}\nvec3 calcReflection(vec3 tReflDirW, float tGlossiness) {\n\tvec3 reflDir = normalize(cubeMapProject(tReflDirW));\n\tbool up = reflDir.y > 0.0;\n\tfloat scale = 0.90909090909090909090909090909091;\n\tvec3 reflDirWarp = reflDir.xzx * vec3(-0.25, 0.5, 0.25);\n\tfloat reflDirVer = abs(reflDir.y) + 1.0;\n\treflDirWarp /= reflDirVer;\n\treflDirWarp *= scale;\n\treflDirWarp = vec3(0.75, 0.5, 0.25) - reflDirWarp;\n\tvec2 tc = up? reflDirWarp.xy : reflDirWarp.zy;\n\tfloat bias = saturate(1.0 - tGlossiness) * 5.0;\n\tfloat mip = floor(bias);\n\tvec3 tex1 = $texture2DSAMPLE(texture_sphereMap, getDpAtlasUv(tc, mip)).rgb;\n\tmip = min(mip + 1.0, 5.0);\n\tvec3 tex2 = $texture2DSAMPLE(texture_sphereMap, getDpAtlasUv(tc, mip)).rgb;\n\ttex1 = mix(tex1, tex2, fract(bias));\n\ttex1 = processEnvironment(tex1);\n\treturn tex1;\n}\nvoid addReflection() {\n\tdReflection += vec4(calcReflection(dReflDirW, dGlossiness), material_reflectivity);\n}\n",reflectionPrefilteredCubePS:"uniform samplerCube texture_prefilteredCubeMap128;\nuniform samplerCube texture_prefilteredCubeMap64;\nuniform samplerCube texture_prefilteredCubeMap32;\nuniform samplerCube texture_prefilteredCubeMap16;\nuniform samplerCube texture_prefilteredCubeMap8;\n#ifndef PMREM4\n#define PMREM4\nuniform samplerCube texture_prefilteredCubeMap4;\n#endif\nuniform float material_reflectivity;\nvec3 calcReflection(vec3 tReflDirW, float tGlossiness) {\n\tfloat bias = saturate(1.0 - tGlossiness) * 5.0;\n\tint index1 = int(bias);\n\tint index2 = int(min(bias + 1.0, 7.0));\n\tvec3 fixedReflDir = fixSeams(cubeMapProject(tReflDirW), bias);\n\tfixedReflDir.x *= -1.0;\n\tvec4 cubes[6];\n\tcubes[0] = textureCube(texture_prefilteredCubeMap128, fixedReflDir);\n\tcubes[1] = textureCube(texture_prefilteredCubeMap64, fixedReflDir);\n\tcubes[2] = textureCube(texture_prefilteredCubeMap32, fixedReflDir);\n\tcubes[3] = textureCube(texture_prefilteredCubeMap16, fixedReflDir);\n\tcubes[4] = textureCube(texture_prefilteredCubeMap8, fixedReflDir);\n\tcubes[5] = textureCube(texture_prefilteredCubeMap4, fixedReflDir);\n\tvec4 cube[2];\n\tfor(int i = 0; i < 6; i++) {\n\t\tif (i == index1) {\n\t\t\tcube[0] = cubes[i];\n\t\t}\n\t\tif (i == index2) {\n\t\t\tcube[1] = cubes[i];\n\t\t}\n\t}\n\tvec4 cubeFinal = mix(cube[0], cube[1], fract(bias));\n\tvec3 refl = processEnvironment($DECODE(cubeFinal).rgb);\n\treturn refl;\n}\nvoid addReflection() {\n\tdReflection += vec4(calcReflection(dReflDirW, dGlossiness), material_reflectivity);\n}\n",reflectionPrefilteredCubeLodPS:"#ifndef PMREM4\n#define PMREM4\n#extension GL_EXT_shader_texture_lod : enable\nuniform samplerCube texture_prefilteredCubeMap128;\n#endif\nuniform float material_reflectivity;\nvec3 calcReflection(vec3 tReflDirW, float tGlossiness) {\n\tfloat bias = saturate(1.0 - tGlossiness) * 5.0;\n\tvec3 fixedReflDir = fixSeams(cubeMapProject(tReflDirW), bias);\n\tfixedReflDir.x *= -1.0;\n\tvec3 refl = processEnvironment($DECODE( textureCubeLodEXT(texture_prefilteredCubeMap128, fixedReflDir, bias) ).rgb);\n\treturn refl;\n}\nvoid addReflection() {\n\tdReflection += vec4(calcReflection(dReflDirW, dGlossiness), material_reflectivity);\n}\n",reflectionSpherePS:"#ifndef VIEWMATRIX\n#define VIEWMATRIX\nuniform mat4 matrix_view;\n#endif\nuniform sampler2D texture_sphereMap;\nuniform float material_reflectivity;\nvec3 calcReflection(vec3 tReflDirW, float tGlossiness) {\n\tvec3 reflDirV = (mat3(matrix_view) * tReflDirW).xyz;\n\tfloat m = 2.0 * sqrt( dot(reflDirV.xy, reflDirV.xy) + (reflDirV.z+1.0)*(reflDirV.z+1.0) );\n\tvec2 sphereMapUv = reflDirV.xy / m + 0.5;\n\treturn $texture2DSAMPLE(texture_sphereMap, sphereMapUv).rgb;\n}\nvoid addReflection() {\n\tdReflection += vec4(calcReflection(dReflDirW, dGlossiness), material_reflectivity);\n}\n",reflectionSphereLowPS:"uniform sampler2D texture_sphereMap;\nuniform float material_reflectivity;\nvec3 calcReflection(vec3 tReflDirW, float tGlossiness) {\n\tvec3 reflDirV = vNormalV;\n\tvec2 sphereMapUv = reflDirV.xy * 0.5 + 0.5;\n\treturn $texture2DSAMPLE(texture_sphereMap, sphereMapUv).rgb;\n}\nvoid addReflection() {\n\tdReflection += vec4(calcReflection(dReflDirW, dGlossiness), material_reflectivity);\n}\n",refractionPS:"uniform float material_refraction, material_refractionIndex;\nvec3 refract2(vec3 viewVec, vec3 Normal, float IOR) {\n\tfloat vn = dot(viewVec, Normal);\n\tfloat k = 1.0 - IOR * IOR * (1.0 - vn * vn);\n\tvec3 refrVec = IOR * viewVec - (IOR * vn + sqrt(k)) * Normal;\n\treturn refrVec;\n}\nvoid addRefraction() {\n\tvec3 tmp = dReflDirW;\n\tvec4 tmp2 = dReflection;\n\tdReflection = vec4(0.0);\n\tdReflDirW = refract2(-dViewDirW, dNormalW, material_refractionIndex);\n\taddReflection();\n\tdDiffuseLight = mix(dDiffuseLight, dReflection.rgb * dAlbedo, material_refraction);\n\tdReflDirW = tmp;\n\tdReflection = tmp2;\n}\n",reprojectPS:"\nvarying vec2 vUv0;\nuniform sampler2D sourceTex;\nuniform samplerCube sourceCube;\nuniform vec4 params;\nfloat PI = 3.141592653589793;\nfloat saturate(float x) {\n\treturn clamp(x, 0.0, 1.0);\n}\nvec3 decodeLinear(vec4 source) {\n\treturn source.rgb;\n}\nvec4 encodeLinear(vec3 source) {\n\treturn vec4(source, 1.0);\n}\nvec3 decodeGamma(vec4 source) {\n\treturn pow(source.xyz, vec3(2.2));\n}\nvec4 encodeGamma(vec3 source) {\n\treturn vec4(pow(source + 0.0000001, vec3(1.0 / 2.2)), 1.0);\n}\nvec3 decodeRGBM(vec4 rgbm) {\n\tvec3 color = (8.0 * rgbm.a) * rgbm.rgb;\n\treturn color * color;\n}\nvec4 encodeRGBM(vec3 source) {\n\tvec4 result;\n\tresult.rgb = pow(source.rgb, vec3(0.5));\n\tresult.rgb *= 1.0 / 8.0;\n\tresult.a = saturate( max( max( result.r, result.g ), max( result.b, 1.0 / 255.0 ) ) );\n\tresult.a = ceil(result.a * 255.0) / 255.0;\n\tresult.rgb /= result.a;\n\treturn result;\n}\nvec3 decodeRGBE(vec4 source) {\n\tif (source.a == 0.0) {\n\t\treturn vec3(0.0, 0.0, 0.0);\n\t} else {\n\t\treturn source.xyz * pow(2.0, source.w * 255.0 - 128.0);\n\t}\n}\nvec4 encodeRGBE(vec3 source) {\n\tfloat maxVal = max(source.x, max(source.y, source.z));\n\tif (maxVal < 1e-32) {\n\t\treturn vec4(0, 0, 0, 0);\n\t} else {\n\t\tfloat e = ceil(log2(maxVal));\n\t\treturn vec4(source / pow(2.0, e), (e + 128.0) / 255.0);\n\t}\n}\nvec2 toSpherical(vec3 dir) {\n\treturn vec2(atan(dir.z, dir.x) * -1.0, asin(dir.y));\n}\nvec3 fromSpherical(vec2 uv) {\n\treturn vec3(cos(uv.y) * cos(-uv.x),\n\t\t\t\tsin(uv.y),\n\t\t\t\tcos(uv.y) * sin(-uv.x));\n}\nvec4 sampleEquirect(vec2 sph) {\n\treturn texture2D(sourceTex, sph / vec2(PI * 2.0, PI) + 0.5);\n}\nvec4 sampleEquirect(vec3 dir) {\n\treturn sampleEquirect(toSpherical(dir));\n}\nvec4 sampleCubemap(vec3 dir) {\n\treturn textureCube(sourceCube, dir);\n}\nvec4 sampleCubemap(vec2 sph) {\n\treturn sampleCubemap(fromSpherical(sph));\n}\nvec3 getDirectionEquirect() {\n\treturn fromSpherical((vUv0 * 2.0 - 1.0) * vec2(PI, PI * 0.5));\n}\nvec3 getDirectionCubemap() {\n\tvec2 st = vUv0 * 2.0 - 1.0;\n\tfloat face = params.x;\n\tvec3 vec;\n\tif (face==0.0) {\n\t\tvec = vec3(1, -st.y, -st.x);\n\t} else if (face==1.0) {\n\t\tvec = vec3(-1, -st.y, st.x);\n\t} else if (face==2.0) {\n\t\tvec = vec3(st.x, 1, st.y);\n\t} else if (face==3.0) {\n\t\tvec = vec3(st.x, -1, -st.y);\n\t} else if (face==4.0) {\n\t\tvec = vec3(st.x, -st.y, 1);\n\t} else {\n\t\tvec = vec3(-st.x, -st.y, -1);\n\t}\n\treturn normalize(vec);\n}\nmat3 matrixFromVector(vec3 n) {\n\tfloat a = 1.0 / (1.0 + n.z);\n\tfloat b = -n.x * n.y * a;\n\tvec3 b1 = vec3(1.0 - n.x * n.x * a, b, -n.x);\n\tvec3 b2 = vec3(b, 1.0 - n.y * n.y * a, -n.y);\n\treturn mat3(b1, b2, n);\n}\nfloat rnd(int i) {\n\tfloat sini = sin(float(i));\n\tfloat cosi = cos(float(i));\n\treturn fract(sin(dot(vec2(sini, cosi), vec2(12.9898, 78.233) * 2.0)) * 43758.5453);\n}\nvec3 hemisphereSamplePhong(vec2 uv, float specPow) {\n\tfloat phi = uv.y * 2.0 * PI;\n\tfloat cosTheta = pow(1.0 - uv.x, 1.0 / (specPow + 1.0));\n\tfloat sinTheta = sqrt(1.0 - cosTheta * cosTheta);\n\treturn vec3(cos(phi) * sinTheta, sin(phi) * sinTheta, cosTheta);\n}\nvec4 reproject() {\n\tif (NUM_SAMPLES <= 1) {\n\t\treturn ENCODE_FUNC(DECODE_FUNC(SOURCE_FUNC(TARGET_FUNC())));\n\t} else {\n\t\tvec2 sph = toSpherical(TARGET_FUNC());\n\t\tvec2 sphu = dFdx(sph);\n\t\tvec2 sphv = dFdy(sph);\n\t\tconst float num = sqrt(float(NUM_SAMPLES));\n\t\tvec3 result = vec3(0.0);\n\t\tfor (float u=0.0; u<num; ++u) {\n\t\t\tfor (float v=0.0; v<num; ++v) {\n\t\t\t\tresult += DECODE_FUNC(SOURCE_FUNC(sph +\n\t\t\t\t\t\t\t\t\t\t\t\t  sphu * (u / num - 0.5) +\n\t\t\t\t\t\t\t\t\t\t\t\t  sphv * (v / num - 0.5)));\n\t\t\t}\n\t\t}\n\t\treturn ENCODE_FUNC(result / (num * num));\n\t}\n}\nvec4 prefilter() {\n\tvec3 vec = TARGET_FUNC();\n\tmat3 vecSpace = matrixFromVector(vec);\n\tvec3 result = vec3(0.0);\n\tfor (int i=0; i<NUM_SAMPLES; ++i) {\n\t\tvec2 uv = vec2(float(i) / float(NUM_SAMPLES), rnd(i));\n\t\tvec3 dir = vecSpace * hemisphereSamplePhong(uv, params.y);\n\t\tresult += DECODE_FUNC(SOURCE_FUNC(dir));\n\t}\n\treturn ENCODE_FUNC(result / float(NUM_SAMPLES));\n}\nvoid main(void) {\n\tgl_FragColor = (params.z == 0.0) ? reproject() : prefilter();\n}\n",rgbmPS:"vec3 decodeRGBM(vec4 rgbm) {\n\tvec3 color = (8.0 * rgbm.a) * rgbm.rgb;\n\treturn color * color;\n}\nvec3 texture2DRGBM(sampler2D tex, vec2 uv) {\n\treturn decodeRGBM(texture2D(tex, uv));\n}\nvec3 textureCubeRGBM(samplerCube tex, vec3 uvw) {\n\treturn decodeRGBM(textureCube(tex, uvw));\n}\n",screenDepthPS:"uniform sampler2D uDepthMap;\n#ifndef SCREENSIZE\n#define SCREENSIZE\nuniform vec4 uScreenSize;\n#endif\n#ifndef VIEWMATRIX\n#define VIEWMATRIX\nuniform mat4 matrix_view;\n#endif\n#ifndef CAMERAPLANES\n#define CAMERAPLANES\nuniform vec4 camera_params;\n#endif\n#ifdef GL2\nfloat linearizeDepth(float z) {\n\tz = z * 2.0 - 1.0;\n\treturn 1.0 / (camera_params.z * z + camera_params.w);\n}\n#else\n#ifndef UNPACKFLOAT\n#define UNPACKFLOAT\nfloat unpackFloat(vec4 rgbaDepth) {\n\tconst vec4 bitShift = vec4(1.0 / (256.0 * 256.0 * 256.0), 1.0 / (256.0 * 256.0), 1.0 / 256.0, 1.0);\n\treturn dot(rgbaDepth, bitShift);\n}\n#endif\n#endif\nfloat getLinearScreenDepth(vec2 uv) {\n\t#ifdef GL2\n\treturn linearizeDepth(texture2D(uDepthMap, uv).r) * camera_params.y;\n\t#else\n\treturn unpackFloat(texture2D(uDepthMap, uv)) * camera_params.y;\n\t#endif\n}\n#ifndef VERTEXSHADER\nfloat getLinearScreenDepth() {\n\tvec2 uv = gl_FragCoord.xy * uScreenSize.zw;\n\treturn getLinearScreenDepth(uv);\n}\n#endif\nfloat getLinearDepth(vec3 pos) {\n\treturn -(matrix_view * vec4(pos, 1.0)).z;\n}\n",shadowCommonPS:"void normalOffsetPointShadow(vec4 shadowParams) {\n\tfloat distScale = length(dLightDirW);\n\tvec3 wPos = vPositionW + dVertexNormalW * shadowParams.y * clamp(1.0 - dot(dVertexNormalW, -dLightDirNormW), 0.0, 1.0) * distScale;\n\tvec3 dir = wPos - dLightPosW;\n\tdLightDirW = dir;\n}\n",shadowCoordPS:"void _getShadowCoordOrtho(mat4 shadowMatrix, vec3 shadowParams, vec3 wPos) {\n\tdShadowCoord = (shadowMatrix * vec4(wPos, 1.0)).xyz;\n\tdShadowCoord.z = saturate(dShadowCoord.z) - 0.0001;\n\t#ifdef SHADOWBIAS\n\tdShadowCoord.z += getShadowBias(shadowParams.x, shadowParams.z);\n\t#endif\n}\nvoid _getShadowCoordPersp(mat4 shadowMatrix, vec4 shadowParams, vec3 wPos) {\n\tvec4 projPos = shadowMatrix * vec4(wPos, 1.0);\n\tprojPos.xy /= projPos.w;\n\tdShadowCoord.xy = projPos.xy;\n\tdShadowCoord.z = length(dLightDirW) * shadowParams.w;\n\t#ifdef SHADOWBIAS\n\tdShadowCoord.z += getShadowBias(shadowParams.x, shadowParams.z);\n\t#endif\n}\nvoid getShadowCoordOrtho(mat4 shadowMatrix, vec3 shadowParams) {\n\t_getShadowCoordOrtho(shadowMatrix, shadowParams, vPositionW);\n}\nvoid getShadowCoordPersp(mat4 shadowMatrix, vec4 shadowParams) {\n\t_getShadowCoordPersp(shadowMatrix, shadowParams, vPositionW);\n}\nvoid getShadowCoordPerspNormalOffset(mat4 shadowMatrix, vec4 shadowParams) {\n\tfloat distScale = abs(dot(vPositionW - dLightPosW, dLightDirNormW));\n\tvec3 wPos = vPositionW + dVertexNormalW * shadowParams.y * clamp(1.0 - dot(dVertexNormalW, -dLightDirNormW), 0.0, 1.0) * distScale;\n\t_getShadowCoordPersp(shadowMatrix, shadowParams, wPos);\n}\nvoid getShadowCoordOrthoNormalOffset(mat4 shadowMatrix, vec3 shadowParams) {\n\tvec3 wPos = vPositionW + dVertexNormalW * shadowParams.y * clamp(1.0 - dot(dVertexNormalW, -dLightDirNormW), 0.0, 1.0);\n\t_getShadowCoordOrtho(shadowMatrix, shadowParams, wPos);\n}\n",shadowCoordVS:"void getLightDirPoint(vec3 lightPosW) {\n\tvec3 lightDirW = vPositionW - lightPosW;\n\tdLightDirNormW = normalize(lightDirW);\n\tdLightPosW = lightPosW;\n}\nvoid _getShadowCoordOrtho(mat4 shadowMatrix, vec3 shadowParams, vec3 wPos) {\n\tvec4 projPos = shadowMatrix * vec4(wPos, 1.0);\n\tvMainShadowUv = projPos;\n}\nvoid _getShadowCoordPersp(mat4 shadowMatrix, vec3 shadowParams, vec3 wPos) {\n\tvec4 projPos = shadowMatrix * vec4(wPos, 1.0);\n\tvMainShadowUv = projPos;\n}\nvoid getShadowCoordOrtho(mat4 shadowMatrix, vec3 shadowParams) {\n\t_getShadowCoordOrtho(shadowMatrix, shadowParams, vPositionW);\n}\nvoid getShadowCoordPersp(mat4 shadowMatrix, vec3 shadowParams) {\n\t_getShadowCoordPersp(shadowMatrix, shadowParams, vPositionW);\n}\nvoid getShadowCoordPerspNormalOffset(mat4 shadowMatrix, vec3 shadowParams) {\n\tfloat distScale = abs(dot(vPositionW - dLightPosW, dLightDirNormW));\n\tvec3 wPos = vPositionW + dNormalW * shadowParams.y * clamp(1.0 - dot(dNormalW, -dLightDirNormW), 0.0, 1.0) * distScale;\n\t_getShadowCoordPersp(shadowMatrix, shadowParams, wPos);\n}\nvoid getShadowCoordOrthoNormalOffset(mat4 shadowMatrix, vec3 shadowParams) {\n\tvec3 wPos = vPositionW + dNormalW * shadowParams.y * clamp(1.0 - dot(dNormalW, -dLightDirNormW), 0.0, 1.0);\n\t_getShadowCoordOrtho(shadowMatrix, shadowParams, wPos);\n}\n",shadowCoordPerspZbufferPS:"void _getShadowCoordPerspZbuffer(mat4 shadowMatrix, vec4 shadowParams, vec3 wPos) {\n\tvec4 projPos = shadowMatrix * vec4(wPos, 1.0);\n\tprojPos.xyz /= projPos.w;\n\tdShadowCoord = projPos.xyz;\n}\nvoid getShadowCoordPerspZbufferNormalOffset(mat4 shadowMatrix, vec4 shadowParams) {\n\tfloat distScale = abs(dot(vPositionW - dLightPosW, dLightDirNormW));\n\tvec3 wPos = vPositionW + dVertexNormalW * shadowParams.y * clamp(1.0 - dot(dVertexNormalW, -dLightDirNormW), 0.0, 1.0) * distScale;\n\t_getShadowCoordPerspZbuffer(shadowMatrix, shadowParams, wPos);\n}\nvoid getShadowCoordPerspZbuffer(mat4 shadowMatrix, vec4 shadowParams) {\n\t_getShadowCoordPerspZbuffer(shadowMatrix, shadowParams, vPositionW);\n}\n",shadowEVSMPS:"float VSM$(sampler2D tex, vec2 texCoords, float resolution, float Z, float vsmBias, float exponent) {\n\tvec3 moments = texture2D(tex, texCoords).xyz;\n\treturn calculateEVSM(moments, Z, vsmBias, exponent);\n}\nfloat getShadowVSM$(sampler2D shadowMap, vec3 shadowParams, float exponent) {\n\treturn VSM$(shadowMap, dShadowCoord.xy, shadowParams.x, dShadowCoord.z, shadowParams.y, exponent);\n}\nfloat getShadowSpotVSM$(sampler2D shadowMap, vec4 shadowParams, float exponent) {\n\treturn VSM$(shadowMap, dShadowCoord.xy, shadowParams.x, length(dLightDirW) * shadowParams.w + shadowParams.z, shadowParams.y, exponent);\n}\n",shadowEVSMnPS:"float VSM$(sampler2D tex, vec2 texCoords, float resolution, float Z, float vsmBias, float exponent) {\n\tfloat pixelSize = 1.0 / resolution;\n\ttexCoords -= vec2(pixelSize);\n\tvec3 s00 = texture2D(tex, texCoords).xyz;\n\tvec3 s10 = texture2D(tex, texCoords + vec2(pixelSize, 0)).xyz;\n\tvec3 s01 = texture2D(tex, texCoords + vec2(0, pixelSize)).xyz;\n\tvec3 s11 = texture2D(tex, texCoords + vec2(pixelSize)).xyz;\n\tvec2 fr = fract(texCoords * resolution);\n\tvec3 h0 = mix(s00, s10, fr.x);\n\tvec3 h1 = mix(s01, s11, fr.x);\n\tvec3 moments = mix(h0, h1, fr.y);\n\treturn calculateEVSM(moments, Z, vsmBias, exponent);\n}\nfloat getShadowVSM$(sampler2D shadowMap, vec3 shadowParams, float exponent) {\n\treturn VSM$(shadowMap, dShadowCoord.xy, shadowParams.x, dShadowCoord.z, shadowParams.y, exponent);\n}\nfloat getShadowSpotVSM$(sampler2D shadowMap, vec4 shadowParams, float exponent) {\n\treturn VSM$(shadowMap, dShadowCoord.xy, shadowParams.x, length(dLightDirW) * shadowParams.w + shadowParams.z, shadowParams.y, exponent);\n}\n",shadowStandardPS:"vec3 lessThan2(vec3 a, vec3 b) {\n\treturn clamp((b - a)*1000.0, 0.0, 1.0);\n}\n#ifndef UNPACKFLOAT\n#define UNPACKFLOAT\nfloat unpackFloat(vec4 rgbaDepth) {\n\tconst vec4 bitShift = vec4(1.0 / (256.0 * 256.0 * 256.0), 1.0 / (256.0 * 256.0), 1.0 / 256.0, 1.0);\n\treturn dot(rgbaDepth, bitShift);\n}\n#endif\n#ifdef GL2\nfloat _getShadowPCF3x3(sampler2DShadow shadowMap, vec3 shadowParams) {\n\tfloat z = dShadowCoord.z;\n\tvec2 uv = dShadowCoord.xy * shadowParams.x;\n\tfloat shadowMapSizeInv = 1.0 / shadowParams.x;\n\tvec2 base_uv = floor(uv + 0.5);\n\tfloat s = (uv.x + 0.5 - base_uv.x);\n\tfloat t = (uv.y + 0.5 - base_uv.y);\n\tbase_uv -= vec2(0.5);\n\tbase_uv *= shadowMapSizeInv;\n\tfloat sum = 0.0;\n\tfloat uw0 = (3.0 - 2.0 * s);\n\tfloat uw1 = (1.0 + 2.0 * s);\n\tfloat u0 = (2.0 - s) / uw0 - 1.0;\n\tfloat u1 = s / uw1 + 1.0;\n\tfloat vw0 = (3.0 - 2.0 * t);\n\tfloat vw1 = (1.0 + 2.0 * t);\n\tfloat v0 = (2.0 - t) / vw0 - 1.0;\n\tfloat v1 = t / vw1 + 1.0;\n\tu0 = u0 * shadowMapSizeInv + base_uv.x;\n\tv0 = v0 * shadowMapSizeInv + base_uv.y;\n\tu1 = u1 * shadowMapSizeInv + base_uv.x;\n\tv1 = v1 * shadowMapSizeInv + base_uv.y;\n\tsum += uw0 * vw0 * texture(shadowMap, vec3(u0, v0, z));\n\tsum += uw1 * vw0 * texture(shadowMap, vec3(u1, v0, z));\n\tsum += uw0 * vw1 * texture(shadowMap, vec3(u0, v1, z));\n\tsum += uw1 * vw1 * texture(shadowMap, vec3(u1, v1, z));\n\tsum *= 1.0f / 16.0;\n\treturn sum;\n}\nfloat getShadowPCF3x3(sampler2DShadow shadowMap, vec3 shadowParams) {\n\treturn _getShadowPCF3x3(shadowMap, shadowParams);\n}\nfloat getShadowSpotPCF3x3(sampler2DShadow shadowMap, vec4 shadowParams) {\n\treturn _getShadowPCF3x3(shadowMap, shadowParams.xyz);\n}\n#else\nfloat _xgetShadowPCF3x3(mat3 depthKernel, sampler2D shadowMap, vec3 shadowParams) {\n\tmat3 shadowKernel;\n\tvec3 shadowCoord = dShadowCoord;\n\tvec3 shadowZ = vec3(shadowCoord.z);\n\tshadowKernel[0] = vec3(greaterThan(depthKernel[0], shadowZ));\n\tshadowKernel[1] = vec3(greaterThan(depthKernel[1], shadowZ));\n\tshadowKernel[2] = vec3(greaterThan(depthKernel[2], shadowZ));\n\tvec2 fractionalCoord = fract( shadowCoord.xy * shadowParams.x );\n\tshadowKernel[0] = mix(shadowKernel[0], shadowKernel[1], fractionalCoord.x);\n\tshadowKernel[1] = mix(shadowKernel[1], shadowKernel[2], fractionalCoord.x);\n\tvec4 shadowValues;\n\tshadowValues.x = mix(shadowKernel[0][0], shadowKernel[0][1], fractionalCoord.y);\n\tshadowValues.y = mix(shadowKernel[0][1], shadowKernel[0][2], fractionalCoord.y);\n\tshadowValues.z = mix(shadowKernel[1][0], shadowKernel[1][1], fractionalCoord.y);\n\tshadowValues.w = mix(shadowKernel[1][1], shadowKernel[1][2], fractionalCoord.y);\n\treturn dot( shadowValues, vec4( 1.0 ) ) * 0.25;\n}\nfloat _getShadowPCF3x3(sampler2D shadowMap, vec3 shadowParams) {\n\tvec3 shadowCoord = dShadowCoord;\n\tfloat xoffset = 1.0 / shadowParams.x;\n\tfloat dx0 = -xoffset;\n\tfloat dx1 = xoffset;\n\tmat3 depthKernel;\n\tdepthKernel[0][0] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(dx0, dx0)));\n\tdepthKernel[0][1] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(dx0, 0.0)));\n\tdepthKernel[0][2] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(dx0, dx1)));\n\tdepthKernel[1][0] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(0.0, dx0)));\n\tdepthKernel[1][1] = unpackFloat(texture2D(shadowMap, shadowCoord.xy));\n\tdepthKernel[1][2] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(0.0, dx1)));\n\tdepthKernel[2][0] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(dx1, dx0)));\n\tdepthKernel[2][1] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(dx1, 0.0)));\n\tdepthKernel[2][2] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(dx1, dx1)));\n\treturn _xgetShadowPCF3x3(depthKernel, shadowMap, shadowParams);\n}\nfloat getShadowPCF3x3(sampler2D shadowMap, vec3 shadowParams) {\n\treturn _getShadowPCF3x3(shadowMap, shadowParams);\n}\nfloat getShadowSpotPCF3x3(sampler2D shadowMap, vec4 shadowParams) {\n\treturn _getShadowPCF3x3(shadowMap, shadowParams.xyz);\n}\n#endif\nfloat _getShadowPoint(samplerCube shadowMap, vec4 shadowParams, vec3 dir) {\n\tvec3 tc = normalize(dir);\n\tvec3 tcAbs = abs(tc);\n\tvec4 dirX = vec4(1,0,0, tc.x);\n\tvec4 dirY = vec4(0,1,0, tc.y);\n\tfloat majorAxisLength = tc.z;\n\tif ((tcAbs.x > tcAbs.y) && (tcAbs.x > tcAbs.z)) {\n\t\tdirX = vec4(0,0,1, tc.z);\n\t\tdirY = vec4(0,1,0, tc.y);\n\t\tmajorAxisLength = tc.x;\n\t} else if ((tcAbs.y > tcAbs.x) && (tcAbs.y > tcAbs.z)) {\n\t\tdirX = vec4(1,0,0, tc.x);\n\t\tdirY = vec4(0,0,1, tc.z);\n\t\tmajorAxisLength = tc.y;\n\t}\n\tfloat shadowParamsInFaceSpace = ((1.0/shadowParams.x) * 2.0) * abs(majorAxisLength);\n\tvec3 xoffset = (dirX.xyz * shadowParamsInFaceSpace);\n\tvec3 yoffset = (dirY.xyz * shadowParamsInFaceSpace);\n\tvec3 dx0 = -xoffset;\n\tvec3 dy0 = -yoffset;\n\tvec3 dx1 = xoffset;\n\tvec3 dy1 = yoffset;\n\tmat3 shadowKernel;\n\tmat3 depthKernel;\n\tdepthKernel[0][0] = unpackFloat(textureCube(shadowMap, tc + dx0 + dy0));\n\tdepthKernel[0][1] = unpackFloat(textureCube(shadowMap, tc + dx0));\n\tdepthKernel[0][2] = unpackFloat(textureCube(shadowMap, tc + dx0 + dy1));\n\tdepthKernel[1][0] = unpackFloat(textureCube(shadowMap, tc + dy0));\n\tdepthKernel[1][1] = unpackFloat(textureCube(shadowMap, tc));\n\tdepthKernel[1][2] = unpackFloat(textureCube(shadowMap, tc + dy1));\n\tdepthKernel[2][0] = unpackFloat(textureCube(shadowMap, tc + dx1 + dy0));\n\tdepthKernel[2][1] = unpackFloat(textureCube(shadowMap, tc + dx1));\n\tdepthKernel[2][2] = unpackFloat(textureCube(shadowMap, tc + dx1 + dy1));\n\tvec3 shadowZ = vec3(length(dir) * shadowParams.w + shadowParams.z);\n\tshadowKernel[0] = vec3(lessThan2(depthKernel[0], shadowZ));\n\tshadowKernel[1] = vec3(lessThan2(depthKernel[1], shadowZ));\n\tshadowKernel[2] = vec3(lessThan2(depthKernel[2], shadowZ));\n\tvec2 uv = (vec2(dirX.w, dirY.w) / abs(majorAxisLength)) * 0.5;\n\tvec2 fractionalCoord = fract( uv * shadowParams.x );\n\tshadowKernel[0] = mix(shadowKernel[0], shadowKernel[1], fractionalCoord.x);\n\tshadowKernel[1] = mix(shadowKernel[1], shadowKernel[2], fractionalCoord.x);\n\tvec4 shadowValues;\n\tshadowValues.x = mix(shadowKernel[0][0], shadowKernel[0][1], fractionalCoord.y);\n\tshadowValues.y = mix(shadowKernel[0][1], shadowKernel[0][2], fractionalCoord.y);\n\tshadowValues.z = mix(shadowKernel[1][0], shadowKernel[1][1], fractionalCoord.y);\n\tshadowValues.w = mix(shadowKernel[1][1], shadowKernel[1][2], fractionalCoord.y);\n\treturn 1.0 - dot( shadowValues, vec4( 1.0 ) ) * 0.25;\n}\nfloat getShadowPointPCF3x3(samplerCube shadowMap, vec4 shadowParams) {\n\treturn _getShadowPoint(shadowMap, shadowParams, dLightDirW);\n}\n",shadowStandardGL2PS:"float _getShadowPCF5x5(sampler2DShadow shadowMap, vec3 shadowParams) {\n\tfloat z = dShadowCoord.z;\n\tvec2 uv = dShadowCoord.xy * shadowParams.x;\n\tfloat shadowMapSizeInv = 1.0 / shadowParams.x;\n\tvec2 base_uv = floor(uv + 0.5);\n\tfloat s = (uv.x + 0.5 - base_uv.x);\n\tfloat t = (uv.y + 0.5 - base_uv.y);\n\tbase_uv -= vec2(0.5);\n\tbase_uv *= shadowMapSizeInv;\n\tfloat uw0 = (4.0 - 3.0 * s);\n\tfloat uw1 = 7.0;\n\tfloat uw2 = (1.0 + 3.0 * s);\n\tfloat u0 = (3.0 - 2.0 * s) / uw0 - 2.0;\n\tfloat u1 = (3.0 + s) / uw1;\n\tfloat u2 = s / uw2 + 2.0;\n\tfloat vw0 = (4.0 - 3.0 * t);\n\tfloat vw1 = 7.0;\n\tfloat vw2 = (1.0 + 3.0 * t);\n\tfloat v0 = (3.0 - 2.0 * t) / vw0 - 2.0;\n\tfloat v1 = (3.0 + t) / vw1;\n\tfloat v2 = t / vw2 + 2.0;\n\tfloat sum = 0.0;\n\tu0 = u0 * shadowMapSizeInv + base_uv.x;\n\tv0 = v0 * shadowMapSizeInv + base_uv.y;\n\tu1 = u1 * shadowMapSizeInv + base_uv.x;\n\tv1 = v1 * shadowMapSizeInv + base_uv.y;\n\tu2 = u2 * shadowMapSizeInv + base_uv.x;\n\tv2 = v2 * shadowMapSizeInv + base_uv.y;\n\tsum += uw0 * vw0 * texture(shadowMap, vec3(u0, v0, z));\n\tsum += uw1 * vw0 * texture(shadowMap, vec3(u1, v0, z));\n\tsum += uw2 * vw0 * texture(shadowMap, vec3(u2, v0, z));\n\tsum += uw0 * vw1 * texture(shadowMap, vec3(u0, v1, z));\n\tsum += uw1 * vw1 * texture(shadowMap, vec3(u1, v1, z));\n\tsum += uw2 * vw1 * texture(shadowMap, vec3(u2, v1, z));\n\tsum += uw0 * vw2 * texture(shadowMap, vec3(u0, v2, z));\n\tsum += uw1 * vw2 * texture(shadowMap, vec3(u1, v2, z));\n\tsum += uw2 * vw2 * texture(shadowMap, vec3(u2, v2, z));\n\tsum *= 1.0f / 144.0;\n\tsum = gammaCorrectInput(sum);\n\tsum = saturate(sum);\n\treturn sum;\n}\nfloat getShadowPCF5x5(sampler2DShadow shadowMap, vec3 shadowParams) {\n\treturn _getShadowPCF5x5(shadowMap, shadowParams);\n}\nfloat getShadowSpotPCF5x5(sampler2DShadow shadowMap, vec4 shadowParams) {\n\treturn _getShadowPCF5x5(shadowMap, shadowParams.xyz);\n}\n",shadowStandardGL2VSPS:"float getShadowPCF5x5VS(sampler2DShadow shadowMap, vec3 shadowParams) {\n\tdShadowCoord = vMainShadowUv.xyz;\n\tdShadowCoord.z = saturate(dShadowCoord.z) - 0.0001;\n\treturn _getShadowPCF5x5(shadowMap, shadowParams);\n}\n",shadowStandardVSPS:"#ifdef GL2\n#define SHADOW_SAMPLERVS sampler2DShadow\n#else\n#define SHADOW_SAMPLERVS sampler2D\n#endif\nfloat getShadowPCF3x3VS(SHADOW_SAMPLERVS shadowMap, vec3 shadowParams) {\n\tdShadowCoord = vMainShadowUv.xyz;\n\tdShadowCoord.z = saturate(dShadowCoord.z) - 0.0001;\n\t#ifdef SHADOWBIAS\n\tdShadowCoord.z += getShadowBias(shadowParams.x, shadowParams.z);\n\t#endif\n\treturn _getShadowPCF3x3(shadowMap, shadowParams);\n}\n",shadowVSM8PS:"float calculateVSM8(vec3 moments, float Z, float vsmBias) {\n\tfloat VSMBias = vsmBias;\n\tfloat depthScale = VSMBias * Z;\n\tfloat minVariance1 = depthScale * depthScale;\n\treturn chebyshevUpperBound(moments.xy, Z, minVariance1, 0.1);\n}\nfloat decodeFloatRG(vec2 rg) {\n\treturn rg.y*(1.0/255.0) + rg.x;\n}\nfloat VSM8(sampler2D tex, vec2 texCoords, float resolution, float Z, float vsmBias, float exponent) {\n\tvec4 c = texture2D(tex, texCoords);\n\tvec3 moments = vec3(decodeFloatRG(c.xy), decodeFloatRG(c.zw), 0.0);\n\treturn calculateVSM8(moments, Z, vsmBias);\n}\nfloat getShadowVSM8(sampler2D shadowMap, vec3 shadowParams, float exponent) {\n\treturn VSM8(shadowMap, dShadowCoord.xy, shadowParams.x, dShadowCoord.z, shadowParams.y, 0.0);\n}\nfloat getShadowSpotVSM8(sampler2D shadowMap, vec4 shadowParams, float exponent) {\n\treturn VSM8(shadowMap, dShadowCoord.xy, shadowParams.x, length(dLightDirW) * shadowParams.w + shadowParams.z, shadowParams.y, 0.0);\n}\n",shadowVSMVSPS:"float getShadowVSM$VS(sampler2D shadowMap, vec3 shadowParams, float exponent) {\n\tdShadowCoord = vMainShadowUv.xyz;\n\tdShadowCoord.z += shadowParams.z;\n\tdShadowCoord.xyz /= vMainShadowUv.w;\n\tdShadowCoord.z = min(dShadowCoord.z, 1.0);\n\treturn $VSM(shadowMap, dShadowCoord.xy, shadowParams.x, dShadowCoord.z, shadowParams.y, exponent);\n}\n",shadowVSM_commonPS:"float linstep(float a, float b, float v) {\n\treturn saturate((v - a) / (b - a));\n}\nfloat reduceLightBleeding(float pMax, float amount) {\n   return linstep(amount, 1.0, pMax);\n}\nfloat chebyshevUpperBound(vec2 moments, float mean, float minVariance, float lightBleedingReduction) {\n\tfloat variance = moments.y - (moments.x * moments.x);\n\tvariance = max(variance, minVariance);\n\tfloat d = mean - moments.x;\n\tfloat pMax = variance / (variance + (d * d));\n\tpMax = reduceLightBleeding(pMax, lightBleedingReduction);\n\treturn (mean <= moments.x ? 1.0 : pMax);\n}\nfloat calculateEVSM(vec3 moments, float Z, float vsmBias, float exponent) {\n\tZ = 2.0 * Z - 1.0;\n\tfloat warpedDepth = exp(exponent * Z);\n\tmoments.xy += vec2(warpedDepth, warpedDepth*warpedDepth) * (1.0 - moments.z);\n\tfloat VSMBias = vsmBias;\n\tfloat depthScale = VSMBias * exponent * warpedDepth;\n\tfloat minVariance1 = depthScale * depthScale;\n\treturn chebyshevUpperBound(moments.xy, warpedDepth, minVariance1, 0.1);\n}\n",skinBatchConstVS:"attribute float vertex_boneIndices;\nuniform vec4 matrix_pose[BONE_LIMIT * 3];\nmat4 getBoneMatrix(const in float i) {\n\tvec4 v1 = matrix_pose[int(3.0 * i)];\n\tvec4 v2 = matrix_pose[int(3.0 * i + 1.0)];\n\tvec4 v3 = matrix_pose[int(3.0 * i + 2.0)];\n\treturn mat4(\n\t\tv1.x, v2.x, v3.x, 0,\n\t\tv1.y, v2.y, v3.y, 0,\n\t\tv1.z, v2.z, v3.z, 0,\n\t\tv1.w, v2.w, v3.w, 1\n\t);\n}\n",skinBatchTexVS:"attribute float vertex_boneIndices;\nuniform highp sampler2D texture_poseMap;\nuniform vec4 texture_poseMapSize;\nmat4 getBoneMatrix(const in float i) {\n\tfloat j = i * 3.0;\n\tfloat dx = texture_poseMapSize.z;\n\tfloat dy = texture_poseMapSize.w;\n\tfloat y = floor(j * dx);\n\tfloat x = j - (y * texture_poseMapSize.x);\n\ty = dy * (y + 0.5);\n\tvec4 v1 = texture2D(texture_poseMap, vec2(dx * (x + 0.5), y));\n\tvec4 v2 = texture2D(texture_poseMap, vec2(dx * (x + 1.5), y));\n\tvec4 v3 = texture2D(texture_poseMap, vec2(dx * (x + 2.5), y));\n\treturn mat4(\n\t\tv1.x, v2.x, v3.x, 0,\n\t\tv1.y, v2.y, v3.y, 0,\n\t\tv1.z, v2.z, v3.z, 0,\n\t\tv1.w, v2.w, v3.w, 1\n\t);\n}\n",skinConstVS:"attribute vec4 vertex_boneWeights;\nattribute vec4 vertex_boneIndices;\nuniform vec4 matrix_pose[BONE_LIMIT * 3];\nvoid getBoneMatrix(const in float i, out vec4 v1, out vec4 v2, out vec4 v3) {\n\tv1 = matrix_pose[int(3.0 * i)];\n\tv2 = matrix_pose[int(3.0 * i + 1.0)];\n\tv3 = matrix_pose[int(3.0 * i + 2.0)];\n}\nmat4 getSkinMatrix(const in vec4 indices, const in vec4 weights) {\n\tvec4 a1, a2, a3;\n\tgetBoneMatrix(indices.x, a1, a2, a3);\n\tvec4 b1, b2, b3;\n\tgetBoneMatrix(indices.y, b1, b2, b3);\n\tvec4 c1, c2, c3;\n\tgetBoneMatrix(indices.z, c1, c2, c3);\n\tvec4 d1, d2, d3;\n\tgetBoneMatrix(indices.w, d1, d2, d3);\n\tvec4 v1 = a1 * weights.x + b1 * weights.y + c1 * weights.z + d1 * weights.w;\n\tvec4 v2 = a2 * weights.x + b2 * weights.y + c2 * weights.z + d2 * weights.w;\n\tvec4 v3 = a3 * weights.x + b3 * weights.y + c3 * weights.z + d3 * weights.w;\n\tfloat one = dot(weights, vec4(1.0));\n\treturn mat4(\n\t\tv1.x, v2.x, v3.x, 0,\n\t\tv1.y, v2.y, v3.y, 0,\n\t\tv1.z, v2.z, v3.z, 0,\n\t\tv1.w, v2.w, v3.w, one\n\t);\n}\n",skinTexVS:"attribute vec4 vertex_boneWeights;\nattribute vec4 vertex_boneIndices;\nuniform highp sampler2D texture_poseMap;\nuniform vec4 texture_poseMapSize;\nvoid getBoneMatrix(const in float i, out vec4 v1, out vec4 v2, out vec4 v3) {\n\tfloat j = i * 3.0;\n\tfloat dx = texture_poseMapSize.z;\n\tfloat dy = texture_poseMapSize.w;\n\tfloat y = floor(j * dx);\n\tfloat x = j - (y * texture_poseMapSize.x);\n\ty = dy * (y + 0.5);\n\tv1 = texture2D(texture_poseMap, vec2(dx * (x + 0.5), y));\n\tv2 = texture2D(texture_poseMap, vec2(dx * (x + 1.5), y));\n\tv3 = texture2D(texture_poseMap, vec2(dx * (x + 2.5), y));\n}\nmat4 getSkinMatrix(const in vec4 indices, const in vec4 weights) {\n\tvec4 a1, a2, a3;\n\tgetBoneMatrix(indices.x, a1, a2, a3);\n\tvec4 b1, b2, b3;\n\tgetBoneMatrix(indices.y, b1, b2, b3);\n\tvec4 c1, c2, c3;\n\tgetBoneMatrix(indices.z, c1, c2, c3);\n\tvec4 d1, d2, d3;\n\tgetBoneMatrix(indices.w, d1, d2, d3);\n\tvec4 v1 = a1 * weights.x + b1 * weights.y + c1 * weights.z + d1 * weights.w;\n\tvec4 v2 = a2 * weights.x + b2 * weights.y + c2 * weights.z + d2 * weights.w;\n\tvec4 v3 = a3 * weights.x + b3 * weights.y + c3 * weights.z + d3 * weights.w;\n\tfloat one = dot(weights, vec4(1.0));\n\treturn mat4(\n\t\tv1.x, v2.x, v3.x, 0,\n\t\tv1.y, v2.y, v3.y, 0,\n\t\tv1.z, v2.z, v3.z, 0,\n\t\tv1.w, v2.w, v3.w, one\n\t);\n}\n",skyboxPS:"varying vec3 vViewDir;\nuniform samplerCube texture_cubeMap;\nvoid main(void) {\n\tgl_FragColor = textureCube(texture_cubeMap, fixSeams(vViewDir));\n}\n",skyboxVS:"attribute vec3 aPosition;\n#ifndef VIEWMATRIX\n#define VIEWMATRIX\nuniform mat4 matrix_view;\n#endif\nuniform mat4 matrix_projectionSkybox;\nvarying vec3 vViewDir;\nvoid main(void) {\n\tmat4 view = matrix_view;\n\tview[3][0] = view[3][1] = view[3][2] = 0.0;\n\tgl_Position = matrix_projectionSkybox * view * vec4(aPosition, 1.0);\n\tgl_Position.z = gl_Position.w - 0.00001;\n\tvViewDir = aPosition;\n\tvViewDir.x *= -1.0;\n}\n",skyboxHDRPS:"varying vec3 vViewDir;\nuniform samplerCube texture_cubeMap;\nvoid main(void) {\n\tvec3 color = processEnvironment($textureCubeSAMPLE(texture_cubeMap, fixSeamsStatic(vViewDir, $FIXCONST)).rgb);\n\tcolor = toneMap(color);\n\tcolor = gammaCorrectOutput(color);\n\tgl_FragColor = vec4(color, 1.0);\n}\n",skyboxPrefilteredCubePS:"varying vec3 vViewDir;\nuniform samplerCube texture_cubeMap;\nvec3 fixSeamsStretch(vec3 vec, float mipmapIndex, float cubemapSize) {\n\tfloat scale = 1.0 - exp2(mipmapIndex) / cubemapSize;\n\tfloat M = max(max(abs(vec.x), abs(vec.y)), abs(vec.z));\n\tif (abs(vec.x) != M) vec.x *= scale;\n\tif (abs(vec.y) != M) vec.y *= scale;\n\tif (abs(vec.z) != M) vec.z *= scale;\n\treturn vec;\n}\nvoid main(void) {\n\tvec3 color = textureCubeRGBM(texture_cubeMap, fixSeamsStretch(vViewDir, 0.0, 128.0));\n\tcolor = toneMap(color);\n\tcolor = gammaCorrectOutput(color);\n\tgl_FragColor = vec4(color, 1.0);\n}\n",specularPS:"#ifdef MAPCOLOR\nuniform vec3 material_specular;\n#endif\n#ifdef MAPTEXTURE\nuniform sampler2D texture_specularMap;\n#endif\nvoid getSpecularity() {\n\tdSpecularity = vec3(1.0);\n\t#ifdef MAPCOLOR\n\tdSpecularity *= material_specular;\n\t#endif\n\t#ifdef MAPTEXTURE\n\tdSpecularity *= texture2D(texture_specularMap, $UV).$CH;\n\t#endif\n\t#ifdef MAPVERTEX\n\tdSpecularity *= saturate(vVertexColor.$VC);\n\t#endif\n}\n",specularAaNonePS:"float antiAliasGlossiness(float power) {\n\treturn power;\n}\n",specularAaToksvigPS:"float antiAliasGlossiness(float power) {\n\tfloat rlen = 1.0 / saturate(length(dNormalMap));\n\tfloat toksvig = 1.0 / (1.0 + power * (rlen - 1.0));\n\treturn power * mix(1.0, toksvig, material_bumpiness);\n}\n",specularAaToksvigFastPS:"float antiAliasGlossiness(float power) {\n\tfloat rlen = 1.0 / saturate(length(dNormalMap));\n\tfloat toksvig = 1.0 / (1.0 + power * (rlen - 1.0));\n\treturn power * toksvig;\n}\n",spotPS:"float getSpotEffect(vec3 lightSpotDirW, float lightInnerConeAngle, float lightOuterConeAngle) {\n\tfloat cosAngle = dot(dLightDirNormW, lightSpotDirW);\n\treturn smoothstep(lightOuterConeAngle, lightInnerConeAngle, cosAngle);\n}\n",startPS:"void main(void) {\n\tdDiffuseLight = vec3(0);\n\tdSpecularLight = vec3(0);\n\tdReflection = vec4(0);\n\tdSpecularity = vec3(0);\n\t#ifdef CLEARCOAT\n\tccSpecularLight = vec3(0);\n\tccReflection = vec4(0);\n\t#endif\n",startVS:"void main(void) {\n\tgl_Position = getPosition();\n",startNineSlicedPS:"\tnineSlicedUv = vUv0;\n",startNineSlicedTiledPS:"\tvec2 tileMask = step(vMask, vec2(0.99999));\n\tvec2 clampedUv = mix(innerOffset.xy*0.5, vec2(1.0) - innerOffset.zw*0.5, fract(vTiledUv));\n\tclampedUv = clampedUv * atlasRect.zw + atlasRect.xy;\n\tnineSlicedUv = vUv0 * tileMask + clampedUv * (vec2(1.0) - tileMask);\n",storeEVSMPS:"float exponent = VSM_EXPONENT;\ndepth = 2.0 * depth - 1.0;\ndepth =  exp(exponent * depth);\ngl_FragColor = vec4(depth, depth*depth, 1.0, 1.0);\n",tangentBinormalVS:"vec3 getTangent() {\n\treturn normalize(dNormalMatrix * vertex_tangent.xyz);\n}\nvec3 getBinormal() {\n\treturn cross(vNormalW, vTangentW) * vertex_tangent.w;\n}\nvec3 getObjectSpaceUp() {\n\treturn normalize(dNormalMatrix * vec3(0, 1, 0));\n}\n",TBNPS:"void getTBN() {\n\tdTBN = mat3(normalize(dTangentW), normalize(dBinormalW), normalize(dVertexNormalW));\n}\n",TBNderivativePS:"\nvoid getTBN() {\n\tvec2 uv = $UV;\n\tvec3 dp1 = dFdx( vPositionW );\n\tvec3 dp2 = dFdy( vPositionW );\n\tvec2 duv1 = dFdx( uv );\n\tvec2 duv2 = dFdy( uv );\n\tvec3 dp2perp = cross( dp2, dVertexNormalW );\n\tvec3 dp1perp = cross( dVertexNormalW, dp1 );\n\tvec3 T = dp2perp * duv1.x + dp1perp * duv2.x;\n\tvec3 B = dp2perp * duv1.y + dp1perp * duv2.y;\n\tfloat invmax = 1.0 / sqrt( max( dot(T,T), dot(B,B) ) );\n\tdTBN = mat3( T * invmax, B * invmax, dVertexNormalW );\n}\n",TBNfastPS:"void getTBN() {\n\tdTBN = mat3(dTangentW, dBinormalW, dVertexNormalW);\n}\n",TBNObjectSpacePS:"void getTBN() {\n\tvec3 B = cross(dVertexNormalW, vObjectSpaceUpW);\n\tvec3 T = cross(dVertexNormalW, B);\n\tif (dot(B,B)==0.0)\n\t{\n\t\tfloat major=max(max(dVertexNormalW.x, dVertexNormalW.y),dVertexNormalW.z);\n\t\tif (dVertexNormalW.x==major)\n\t\t{\n\t\t\tB=cross(dVertexNormalW, vec3(0,1,0));\n\t\t\tT=cross(dVertexNormalW, B);\n\t\t}\n\t\telse if (dVertexNormalW.y==major)\n\t\t{\n\t\t\tB=cross(dVertexNormalW, vec3(0,0,1));\n\t\t\tT=cross(dVertexNormalW, B);\n\t\t}\n\t\telse if (dVertexNormalW.z==major)\n\t\t{\n\t\t\tB=cross(dVertexNormalW, vec3(1,0,0));\n\t\t\tT=cross(dVertexNormalW, B);\n\t\t}\n\t}\n\tdTBN = mat3(normalize(T), normalize(B), normalize(dVertexNormalW));\n}\n",tonemappingAcesPS:"uniform float exposure;\nvec3 toneMap(vec3 color) {\n\tfloat tA = 2.51;\n\tfloat tB = 0.03;\n\tfloat tC = 2.43;\n\tfloat tD = 0.59;\n\tfloat tE = 0.14;\n\tvec3 x = color * exposure;\n\treturn (x*(tA*x+tB))/(x*(tC*x+tD)+tE);\n}\n",tonemappingAces2PS:"uniform float exposure;\nconst mat3 ACESInputMat = mat3(\n\t0.59719, 0.35458, 0.04823,\n\t0.07600, 0.90834, 0.01566,\n\t0.02840, 0.13383, 0.83777\n);\nconst mat3 ACESOutputMat = mat3(\n\t 1.60475, -0.53108, -0.07367,\n\t-0.10208,  1.10813, -0.00605,\n\t-0.00327, -0.07276,  1.07602\n);\nvec3 RRTAndODTFit(vec3 v) {\n\tvec3 a = v * (v + 0.0245786) - 0.000090537;\n\tvec3 b = v * (0.983729 * v + 0.4329510) + 0.238081;\n\treturn a / b;\n}\nvec3 toneMap(vec3 color) {\n\tcolor *= exposure;\n\tcolor = color * ACESInputMat;\n\tcolor = RRTAndODTFit(color);\n\tcolor = color * ACESOutputMat;\n\tcolor = clamp(color, 0.0, 1.0);\n\treturn color;\n}\n",tonemappingFilmicPS:"const float A =  0.15;\nconst float B =  0.50;\nconst float C =  0.10;\nconst float D =  0.20;\nconst float E =  0.02;\nconst float F =  0.30;\nconst float W =  11.2;\nuniform float exposure;\nvec3 uncharted2Tonemap(vec3 x) {\n   return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;\n}\nvec3 toneMap(vec3 color) {\n\tcolor = uncharted2Tonemap(color * exposure);\n\tvec3 whiteScale = 1.0 / uncharted2Tonemap(vec3(W,W,W));\n\tcolor = color * whiteScale;\n\treturn color;\n}\n",tonemappingHejlPS:"uniform float exposure;\nvec3 toneMap(vec3 color) {\n\tcolor *= exposure;\n\tconst float  A = 0.22, B = 0.3, C = .1, D = 0.2, E = .01, F = 0.3;\n\tconst float Scl = 1.25;\n\tvec3 h = max( vec3(0.0), color - vec3(0.004) );\n\treturn (h*((Scl*A)*h+Scl*vec3(C*B,C*B,C*B))+Scl*vec3(D*E,D*E,D*E)) / (h*(A*h+vec3(B,B,B))+vec3(D*F,D*F,D*F)) - Scl*vec3(E/F,E/F,E/F);\n}\n",tonemappingLinearPS:"uniform float exposure;\nvec3 toneMap(vec3 color) {\n\treturn color * exposure;\n}\n",tonemappingNonePS:"vec3 toneMap(vec3 color) {\n\treturn color;\n}\n",transformVS:"#ifdef PIXELSNAP\nuniform vec4 uScreenSize;\n#endif\n#ifdef MORPHING\nuniform vec4 morph_weights_a;\nuniform vec4 morph_weights_b;\n#endif\n#ifdef MORPHING_TEXTURE_BASED\nuniform vec4 morph_tex_params;\nvec2 getTextureMorphCoords() {\n\tfloat vertexId = morph_vertex_id;\n\tvec2 textureSize = morph_tex_params.xy;\n\tvec2 invTextureSize = morph_tex_params.zw;\n\tfloat morphGridV = floor(vertexId * invTextureSize.x);\n\tfloat morphGridU = vertexId - (morphGridV * textureSize.x);\n\treturn (vec2(morphGridU, morphGridV) * invTextureSize) + (0.5 * invTextureSize);\n}\n#endif\n#ifdef MORPHING_TEXTURE_BASED_POSITION\nuniform highp sampler2D morphPositionTex;\n#endif\nmat4 getModelMatrix() {\n\t#ifdef DYNAMICBATCH\n\treturn getBoneMatrix(vertex_boneIndices);\n\t#elif defined(SKIN)\n\treturn matrix_model * getSkinMatrix(vertex_boneIndices, vertex_boneWeights);\n\t#elif defined(INSTANCING)\n\treturn mat4(instance_line1, instance_line2, instance_line3, instance_line4);\n\t#else\n\treturn matrix_model;\n\t#endif\n}\nvec4 getPosition() {\n\tdModelMatrix = getModelMatrix();\n\tvec3 localPos = vertex_position;\n\t#ifdef NINESLICED\n\tlocalPos.xz *= outerScale;\n\tvec2 positiveUnitOffset = clamp(vertex_position.xz, vec2(0.0), vec2(1.0));\n\tvec2 negativeUnitOffset = clamp(-vertex_position.xz, vec2(0.0), vec2(1.0));\n\tlocalPos.xz += (-positiveUnitOffset * innerOffset.xy + negativeUnitOffset * innerOffset.zw) * vertex_texCoord0.xy;\n\tvTiledUv = (localPos.xz - outerScale + innerOffset.xy) * -0.5 + 1.0;\n\tlocalPos.xz *= -0.5;\n\tlocalPos = localPos.xzy;\n\t#endif\n\t#ifdef MORPHING\n\t#ifdef MORPHING_POS03\n\tlocalPos.xyz += morph_weights_a[0] * morph_pos0;\n\tlocalPos.xyz += morph_weights_a[1] * morph_pos1;\n\tlocalPos.xyz += morph_weights_a[2] * morph_pos2;\n\tlocalPos.xyz += morph_weights_a[3] * morph_pos3;\n\t#endif\n\t#ifdef MORPHING_POS47\n\tlocalPos.xyz += morph_weights_b[0] * morph_pos4;\n\tlocalPos.xyz += morph_weights_b[1] * morph_pos5;\n\tlocalPos.xyz += morph_weights_b[2] * morph_pos6;\n\tlocalPos.xyz += morph_weights_b[3] * morph_pos7;\n\t#endif\n\t#endif\n\t#ifdef MORPHING_TEXTURE_BASED_POSITION\n\tvec2 morphUV = getTextureMorphCoords();\n\tvec3 morphPos = texture2D(morphPositionTex, morphUV).xyz;\n\tlocalPos += morphPos;\n\t#endif\n\tvec4 posW = dModelMatrix * vec4(localPos, 1.0);\n\t#ifdef SCREENSPACE\n\tposW.zw = vec2(0.0, 1.0);\n\t#endif\n\tdPositionW = posW.xyz;\n\tvec4 screenPos;\n\t#ifdef UV1LAYOUT\n\tscreenPos = vec4(vertex_texCoord1.xy * 2.0 - 1.0, 0.5, 1);\n\t#else\n\t#ifdef SCREENSPACE\n\tscreenPos = posW;\n\t#else\n\tscreenPos = matrix_viewProjection * posW;\n\t#endif\n\t#ifdef PIXELSNAP\n\tscreenPos.xy = (screenPos.xy * 0.5) + 0.5;\n\tscreenPos.xy *= uScreenSize.xy;\n\tscreenPos.xy = floor(screenPos.xy);\n\tscreenPos.xy *= uScreenSize.zw;\n\tscreenPos.xy = (screenPos.xy * 2.0) - 1.0;\n\t#endif\n\t#endif\n\treturn screenPos;\n}\nvec3 getWorldPosition() {\n\treturn dPositionW;\n}\n",transformDeclVS:"attribute vec3 vertex_position;\nuniform mat4 matrix_model;\nuniform mat4 matrix_viewProjection;\nvec3 dPositionW;\nmat4 dModelMatrix;\n",uv0VS:"#ifdef NINESLICED\nvec2 getUv0() {\n\tvec2 uv = vertex_position.xz;\n\tvec2 positiveUnitOffset = clamp(vertex_position.xz, vec2(0.0), vec2(1.0));\n\tvec2 negativeUnitOffset = clamp(-vertex_position.xz, vec2(0.0), vec2(1.0));\n\tuv += (-positiveUnitOffset * innerOffset.xy + negativeUnitOffset * innerOffset.zw) * vertex_texCoord0.xy;\n\tuv = uv * -0.5 + 0.5;\n\tuv = uv * atlasRect.zw + atlasRect.xy;\n\tvMask = vertex_texCoord0.xy;\n\treturn uv;\n}\n#else\nvec2 getUv0() {\n\treturn vertex_texCoord0;\n}\n#endif\n",uv1VS:"vec2 getUv1() {\n\treturn vertex_texCoord1;\n}\n",viewDirPS:"void getViewDir() {\n\tdViewDirW = normalize(view_position - vPositionW);\n}\n",viewNormalVS:"#ifndef VIEWMATRIX\n#define VIEWMATRIX\nuniform mat4 matrix_view;\n#endif\nvec3 getViewNormal() {\n\treturn mat3(matrix_view) * vNormalW;\n}\n"};function Oe(e,t){return t||(t=Ce),1===e||2===e?t.gamma2_2PS?t.gamma2_2PS:Ce.gamma2_2PS:3===e?"#define HDR\n"+(t.gamma2_2PS?t.gamma2_2PS:Ce.gamma2_2PS):t.gamma1_0PS?t.gamma1_0PS:Ce.gamma1_0PS}function Ie(e,t){return t||(t=Ce),1===e?t.tonemappingFilmicPS?t.tonemappingFilmicPS:Ce.tonemappingFilmicPS:0===e?t.tonemappingLinearPS?t.tonemappingLinearPS:Ce.tonemappingLinearPS:2===e?t.tonemappingHejlPS?t.tonemappingHejlPS:Ce.tonemappingHejlPS:3===e?t.tonemappingAcesPS?t.tonemappingAcesPS:Ce.tonemappingAcesPS:4===e?t.tonemappingAces2PS?t.tonemappingAces2PS:Ce.tonemappingAces2PS:t.tonemapingNonePS?t.tonemapingNonePS:Ce.tonemappingNonePS}function De(e,t){return t||(t=Ce),"linear"===e?t.fogLinearPS?t.fogLinearPS:Ce.fogLinearPS:"exp"===e?t.fogExpPS?t.fogExpPS:Ce.fogExpPS:"exp2"===e?t.fogExp2PS?t.fogExp2PS:Ce.fogExp2PS:t.fogNonePS?t.fogNonePS:Ce.fogNonePS}function Fe(e,t){return t||(t=Ce),e.supportsBoneTextures?t.skinTexVS:"#define BONE_LIMIT "+e.getBoneLimit()+"\n"+t.skinConstVS}function Ne(e){var t="precision "+e.precision+" float;\n";return e.webgl2&&(t+="#ifdef GL2\nprecision "+e.precision+" sampler2DShadow;\n#endif\n"),t}function Be(e){return e.webgl2?"#version 300 es\n":""}function Le(){return"void main(void) {gl_FragColor = vec4(0.0);}"}function Ue(){return"void main(void)\n{\n"}function Ve(){return"}\n"}var ze={vertex_position:"POSITION",vertex_normal:"NORMAL",vertex_tangent:"TANGENT",vertex_texCoord0:"TEXCOORD0",vertex_texCoord1:"TEXCOORD1",vertex_texCoord2:"TEXCOORD2",vertex_texCoord3:"TEXCOORD3",vertex_texCoord4:"TEXCOORD4",vertex_texCoord5:"TEXCOORD5",vertex_texCoord6:"TEXCOORD6",vertex_texCoord7:"TEXCOORD7",vertex_color:"COLOR",vertex_boneIndices:"BLENDINDICES",vertex_boneWeights:"BLENDWEIGHT"};function je(e){for(var t={},i=0,r=e.indexOf("attribute");r>=0&&!(r>0&&"/"===e[r-1]);){var n=e.indexOf(";",r),a=e.lastIndexOf(" ",n),s=e.substr(a+1,n-(a+1)),o=ze[s];void 0!==o?t[s]=o:(t[s]="ATTR"+i,i++),r=e.indexOf("attribute",r+1)}return t}function We(e,t,i,r,n,a){var s=e.programLib._cache,o=s[r];if(void 0!==o)return o;i=Ne(e)+"\n"+(i||"void main(void) {gl_FragColor = vec4(0.0);}");var l=je(t);return e.webgl2&&(t=Be(e)+Ce.gles3VS+t,i=Be(e)+Ce.gles3PS+i),s[r]=new Re(e,{attributes:l,vshader:t,fshader:(a||"")+i,useTransformFeedback:n}),s[r]}Ce.collectAttribs=je,Ce.createShader=function(e,t,i,r){var n=Ce[t],a=Ne(e)+"\n"+Ce[i],s=je(n);return e.webgl2&&(n=Be(e)+Ce.gles3VS+n,a=Be(e)+Ce.gles3PS+a),new Re(e,{attributes:s,vshader:n,fshader:a,useTransformFeedback:r})},Ce.createShaderFromCode=We;var Ge={generateKey:function(e){var t="basic";return e.fog&&(t+="_fog"),e.alphaTest&&(t+="_atst"),e.vertexColors&&(t+="_vcol"),e.diffuseMap&&(t+="_diff"),t+="_"+e.pass},createShaderDefinition:function(e,t){var i={vertex_position:"POSITION"};t.skin&&(i.vertex_boneWeights="BLENDWEIGHT",i.vertex_boneIndices="BLENDINDICES"),t.vertexColors&&(i.vertex_color="COLOR"),t.diffuseMap&&(i.vertex_texCoord0="TEXCOORD0");var r="";r+=Ce.transformDeclVS,t.skin?(r+=Fe(e),r+=Ce.transformSkinnedVS):r+=Ce.transformVS,t.vertexColors&&(r+="attribute vec4 vertex_color;\n",r+="varying vec4 vColor;\n"),t.diffuseMap&&(r+="attribute vec2 vertex_texCoord0;\n",r+="varying vec2 vUv0;\n"),2===t.pass&&(r+="varying float vDepth;\n",r+="#ifndef VIEWMATRIX\n",r+="#define VIEWMATRIX\n",r+="uniform mat4 matrix_view;\n",r+="#endif\n",r+="#ifndef CAMERAPLANES\n",r+="#define CAMERAPLANES\n",r+="uniform vec4 camera_params;\n\n",r+="#endif\n"),r+="void main(void)\n{\n",r+="   gl_Position = getPosition();\n",2===t.pass&&(r+="\tvDepth = -(matrix_view * vec4(getWorldPosition(),1.0)).z * camera_params.x;\n"),t.vertexColors&&(r+="\tvColor = vertex_color;\n"),t.diffuseMap&&(r+="\tvUv0 = vertex_texCoord0;\n");var n=r+="}\n";return r=Ne(e),t.vertexColors?r+="varying vec4 vColor;\n":r+="uniform vec4 uColor;\n",t.diffuseMap&&(r+="varying vec2 vUv0;\n",r+="uniform sampler2D texture_diffuseMap;\n"),t.fog&&(r+=De(t.fog)),t.alphatest&&(r+=Ce.alphaTestPS),2===t.pass&&(r+="varying float vDepth;\n",r+=Ce.packDepthPS),r+="void main(void)\n{\n",t.vertexColors?r+="\tgl_FragColor = vColor;\n":r+="\tgl_FragColor = uColor;\n",t.diffuseMap&&(r+="\tgl_FragColor *= texture2D(texture_diffuseMap, vUv0);\n"),t.alphatest&&(r+="   alphaTest(gl_FragColor.a);\n"),18===t.pass||(2===t.pass?r+="\tgl_FragColor = packFloat(vDepth);\n":t.fog&&(r+="   glFragColor.rgb = addFog(gl_FragColor.rgb);\n")),{attributes:i,vshader:n,fshader:r+="}\n"}}},He={generateKey:function(e){var t="particle";for(var i in e)e.hasOwnProperty(i)&&(t+=e[i]);return t},_animTex:function(e){var t="";return t+=e.animTexLoop?Ce.particleAnimFrameLoopVS:Ce.particleAnimFrameClampVS,t+=Ce.particleAnimTexVS},createShaderDefinition:function(e,t){var i="",r=Ne(e)+"\n";r+="#define PARTICLE\n",e.webgl2&&(i+="#define GL2\n",r+="#define GL2\n"),i+="#define VERTEXSHADER\n",t.mesh&&(i+="#define USE_MESH\n"),t.localSpace&&(i+="#define LOCAL_SPACE\n"),t.screenSpace&&(i+="#define SCREEN_SPACE\n"),t.animTex&&(i+="\nuniform vec2 animTexTilesParams;\n"),t.animTex&&(i+="\nuniform vec4 animTexParams;\n"),t.animTex&&(i+="\nuniform vec2 animTexIndexParams;\n"),2==t.normal&&(i+="\nvarying mat3 ParticleMat;\n"),1==t.normal&&(i+="\nvarying vec3 Normal;\n"),t.soft&&(i+="\nvarying float vDepth;\n");var n=t.customFace?Ce.particle_customFaceVS:Ce.particle_billboardVS;return t.useCpu?(t.soft>0&&(i+=Ce.screenDepthPS),i+=Ce.particle_cpuVS,t.localSpace&&(i+=Ce.particle_localShiftVS),t.animTex&&(i+=this._animTex(t)),t.alignToMotion&&(i+=Ce.particle_pointAlongVS),i+=t.mesh?Ce.particle_meshVS:n,1==t.normal&&(i+=Ce.particle_normalVS),2==t.normal&&(i+=Ce.particle_TBNVS),t.stretch>0&&(i+=Ce.particle_stretchVS),i+=Ce.particle_cpu_endVS,t.soft>0&&(i+=Ce.particle_softVS)):(i+=Ce.particle_initVS,i+=t.pack8?Ce.particleInputRgba8PS:Ce.particleInputFloatPS,t.soft>0&&(i+=Ce.screenDepthPS),i+=Ce.particleVS,t.localSpace&&(i+=Ce.particle_localShiftVS),t.animTex&&(i+=this._animTex(t)),t.wrap&&(i+=Ce.particle_wrapVS),t.alignToMotion&&(i+=Ce.particle_pointAlongVS),i+=t.mesh?Ce.particle_meshVS:n,1==t.normal&&(i+=Ce.particle_normalVS),2==t.normal&&(i+=Ce.particle_TBNVS),t.stretch>0&&(i+=Ce.particle_stretchVS),i+=Ce.particle_endVS,t.soft>0&&(i+=Ce.particle_softVS)),i+="}\n",t.normal>0&&(1==t.normal?r+="\nvarying vec3 Normal;\n":2==t.normal&&(r+="\nvarying mat3 ParticleMat;\n"),r+="\nuniform vec3 lightCube[6];\n"),t.soft&&(r+="\nvarying float vDepth;\n"),0===t.normal&&"none"===t.fog&&(t.srgb=!1),r+=Oe(t.gamma),r+=Ie(t.toneMap),"linear"===t.fog?r+=Ce.fogLinearPS:"exp"===t.fog?r+=Ce.fogExpPS:"exp2"===t.fog?r+=Ce.fogExp2PS:r+=Ce.fogNonePS,2==t.normal&&(r+="\nuniform sampler2D normalMap;\n"),t.soft>0&&(r+=Ce.screenDepthPS),r+=Ce.particlePS,t.soft>0&&(r+=Ce.particle_softPS),1==t.normal&&(r+="\nvec3 normal = Normal;\n"),2==t.normal&&(r+=Ce.particle_normalMapPS),t.normal>0&&(r+=t.halflambert?Ce.particle_halflambertPS:Ce.particle_lambertPS),t.normal>0&&(r+=Ce.particle_lightingPS),2==t.blend?r+=Ce.particle_blendNormalPS:1==t.blend?r+=Ce.particle_blendAddPS:5==t.blend&&(r+=Ce.particle_blendMultiplyPS),r+=Ce.particle_endPS,{attributes:je(i),vshader:i,fshader:r}}},Ye={generateKey:function(e){return"skybox"+e.rgbm+" "+e.hdr+" "+e.fixSeams+e.toneMapping+e.gamma+e.useIntensity+e.mip},createShaderDefinition:function(e,t){var i;return i=Ne(e),i+=t.mip?Ce.fixCubemapSeamsStretchPS:Ce.fixCubemapSeamsNonePS,i+=t.useIntensity?Ce.envMultiplyPS:Ce.envConstPS,i+=Oe(t.gamma),i+=Ie(t.toneMapping),i+=Ce.rgbmPS,i+=Ce.skyboxHDRPS.replace(/\$textureCubeSAMPLE/g,t.rgbm?"textureCubeRGBM":t.hdr?"textureCube":"textureCubeSRGB").replace(/\$FIXCONST/g,1-1/[128,64,32,16,8,4,2][t.mip]+""),{attributes:{aPosition:"POSITION"},vshader:Ce.skyboxVS,fshader:i}}},Xe=function(e,t,i){return"\n#ifdef MAPFLOAT\n"+e+"\n#else\n"+Ce[t]+"\n#endif\n"},Ze=function(e,t,i){return"\n#ifdef MAPCOLOR\n"+e+"\n#else\n"+Ce[t]+"\n#endif\n"},Qe=function(e,t,i){return"\n#ifdef MAPTEXTURE\n"+e+"\n#else\n"+Ce[t]+"\n#endif\n"},Je=function(e,t,i){return"#undef MAPTEXTURECOLOR\n#ifdef MAPTEXTURE\n#ifdef MAPCOLOR\n#define MAPTEXTURECOLOR\n#endif\n#endif\n#ifdef MAPTEXTURECOLOR\n"+e+"\n#else\n"+Ce[t]+"\n#endif\n"},qe=function(e,t,i){return"#undef MAPTEXTUREFLOAT\n#ifdef MAPTEXTURE\n#ifdef MAPFLOAT\n#define MAPTEXTUREFLOAT\n#endif\n#endif\n#ifdef MAPTEXTUREFLOAT\n"+e+"\n#else\n"+Ce[t]+"\n#endif\n"},Ke=function(e,t,i){return"\n#ifdef MAPVERTEX\n"+e+"\n#else\n"+Ce[t]+"\n#endif\n"},$e=function(e,t,i){return"#undef MAPVERTEXCOLOR\n#ifdef MAPVERTEX\n#ifdef MAPCOLOR\n#define MAPVERTEXCOLOR\n#endif\n#endif\n#ifdef MAPVERTEXCOLOR\n"+e+"\n#else\n"+Ce[t]+"\n#endif\n"},et=function(e,t,i){return"#undef MAPVERTEXFLOAT\n#ifdef MAPVERTEX\n#ifdef MAPFLOAT\n#define MAPVERTEXFLOAT\n#endif\n#endif\n#ifdef MAPVERTEXFLOAT\n"+e+"\n#else\n"+Ce[t]+"\n#endif\n"},tt=[],it={_oldChunkToNew:{aoTexPS:{n:"aoPS",f:Qe},aoVertPS:{n:"aoPS",f:Ke},diffuseConstPS:{n:"diffusePS",f:Ze},diffuseTexPS:{n:"diffusePS",f:Qe},diffuseTexConstPS:{n:"diffusePS",f:Je},diffuseVertPS:{n:"diffusePS",f:Ke},diffuseVertConstPS:{n:"diffusePS",f:$e},emissiveConstPS:{n:"emissivePS",f:Ze},emissiveTexPS:{n:"emissivePS",f:Qe},emissiveTexConstPS:{n:"emissivePS",f:Je},emissiveTexConstFloatPS:{n:"emissivePS",f:qe},emissiveVertPS:{n:"emissivePS",f:Ke},emissiveVertConstPS:{n:"emissivePS",f:$e},emissiveVertConstFloatPS:{n:"emissivePS",f:et},glossConstPS:{n:"glossPS",f:Xe},glossTexPS:{n:"glossPS",f:Qe},glossTexConstPS:{n:"glossPS",f:qe},glossVertPS:{n:"glossPS",f:Ke},glossVertConstPS:{n:"glossPS",f:et},metalnessConstPS:{n:"metalnessPS",f:Xe},metalnessTexPS:{n:"metalnessPS",f:Qe},metalnessTexConstPS:{n:"metalnessPS",f:qe},metalnessVertPS:{n:"metalnessPS",f:Ke},metalnessVertConstPS:{n:"metalnessPS",f:et},opacityConstPS:{n:"opacityPS",f:Xe},opacityTexPS:{n:"opacityPS",f:Qe},opacityTexConstPS:{n:"opacityPS",f:qe},opacityVertPS:{n:"opacityPS",f:Ke},opacityVertConstPS:{n:"opacityPS",f:et},specularConstPS:{n:"specularPS",f:Ze},specularTexPS:{n:"specularPS",f:Qe},specularTexConstPS:{n:"specularPS",f:Je},specularVertPS:{n:"specularPS",f:Ke},specularVertConstPS:{n:"specularPS",f:$e},transformBatchSkinnedVS:{n:"transformVS",f:function(e,t,i){return"\n#ifdef DYNAMICBATCH\n"+e+"\n#else\n"+Ce[t]+"\n#endif\n"}},transformInstancedVS:{n:"transformVS",f:function(e,t,i){return"\n#ifdef INSTANCING\n"+e+"\n#else\n"+Ce[t]+"\n#endif\n"}},transformPixelSnapVS:{n:"transformVS",f:function(e,t,i){return"\n#ifdef PIXELSNAP\n"+e+"\n#else\n"+Ce[t]+"\n#endif\n"}},transformScreenSpaceVS:{n:"transformVS",f:function(e,t,i){return"\n#ifdef SCREENSPACE\n"+e+"\n#else\n"+Ce[t]+"\n#endif\n"}},transformScreenSpaceBatchSkinned:{n:"transformVS",f:function(e,t,i){return"#undef SCREENSPACEBATCH\n#ifdef SCREENSPACE\n#ifdef BATCH\n#define SCREENSPACEBATCH\n#endif\n#endif\n#ifdef SCREENSPACEBATCH\n"+e+"\n#else\n"+Ce[t]+"\n#endif\n"}},transformSkinned:{n:"transformVS",f:function(e,t,i){return"\n#ifdef SKIN\n"+e+"\n#else\n"+Ce[t]+"\n#endif\n"}},transformUv1:{n:"transformVS",f:function(e,t,i){return"\n#ifdef UV1LAYOUT\n"+e+"\n#else\n"+Ce[t]+"\n#endif\n"}}},optionsContext:{},optionsContextMin:{},generateKey:function(e){var t,i=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&"chunks"!==i&&"lights"!==i&&t.push(i);return t.sort()};e===this.optionsContextMin?(this.propsMin||(this.propsMin=i(e)),t=this.propsMin):e===this.optionsContext?(this.props||(this.props=i(e)),t=this.props):t=i(e);var r,n="standard";for(r=0;r<t.length;r++)e[t[r]]&&(n+=t[r]+e[t[r]]);if(e.chunks){var a=[];for(var s in e.chunks)e.chunks.hasOwnProperty(s)&&a.push(s+e.chunks[s]);a.sort(),n+=a}if(e.lights)for(r=0;r<e.lights.length;r++)n+=e.lights[r].key;return he(n)},_correctChannel:function(e,t){if(tt[e]>0){if(tt[e]<t.length)return t.substring(0,tt[e]);if(tt[e]>t.length){for(var i=t,r=i.charAt(i.length-1),n=tt[e]-i.length,a=0;a<n;a++)i+=r;return i}return t}},_setMapTransform:function(e,t,i,r){e[0]+="uniform vec4 texture_"+t+"MapTransform;\n";var n=i+100*r;return e[3][n]||(e[1]+="varying vec2 vUV"+r+"_"+i+";\n",e[2]+="   vUV"+r+"_"+i+" = uv"+r+" * texture_"+t+"MapTransform.xy + texture_"+t+"MapTransform.zw;\n",e[3][n]=!0),e},_getUvSourceExpression:function(e,t,i){var r,n=i[e],a=i[t],s=0===i.pass||1===i.pass;return s&&1===i.nineSlicedMode?r="nineSlicedUv":s&&2===i.nineSlicedMode?r="nineSlicedUv, -1000.0":(r=0===n?"vUv"+a:"vUV"+a+"_"+n,i.heightMap&&"heightMapTransform"!==e&&(r+=" + dUvOffset")),r},_addMapDef:function(e,t){var i="\n#undef "+e+"\n";return t&&(i+=" #define "+e+"\n"),i},_addMapDefs:function(e,t,i,r){var n="";return n+=this._addMapDef("MAPFLOAT",e),n+=this._addMapDef("MAPCOLOR",t),n+=this._addMapDef("MAPVERTEX",i),n+=this._addMapDef("MAPTEXTURE",r)},_addMap:function(e,t,i,r,n){var a=e+"Map",s=a+"Uv",o=a+"Transform",l=a+"Channel",c=e+"VertexColorChannel",f=e+"VertexColor",h=e+"Mode",u=i[e+"Tint"],d=i[f],p=i[a],_=i[h],m=r[t];if(p){var b=this._getUvSourceExpression(o,s,i);if(m=m.replace(/\$UV/g,b).replace(/\$CH/g,i[l]),void 0!==n){var A=0===n?"texture2DSRGB":1===n?"texture2DRGBM":"texture2D";m=m.replace(/\$texture2DSAMPLE/g,A)}}d&&(m=m.replace(/\$VC/g,i[c])),_&&(m=m.replace(/\$DETAILMODE/g,_));var v=1===u,y=3===u;return(m=this._addMapDefs(v,y,d,p)+m).replace(/\$/g,"")},_nonPointShadowMapProjection:function(e,t,i){return!t._normalOffsetBias||t._isVsm?2===t._type?t._isPcf&&(e.webgl2||e.extStandardDerivatives)?"\t   getShadowCoordPerspZbuffer"+i:"\t   getShadowCoordPersp"+i:"\t   getShadowCoordOrtho"+i:2===t._type?t._isPcf&&(e.webgl2||e.extStandardDerivatives)?"\t   getShadowCoordPerspZbufferNormalOffset"+i:"\t   getShadowCoordPerspNormalOffset"+i:"\t   getShadowCoordOrthoNormalOffset"+i},_addVaryingIfNeeded:function(e,t,i){return e.indexOf(i)>=0?"varying "+t+" "+i+";\n":""},_vsAddTransformCode:function(e,t,i,r){return e+=i.transformVS},_vsAddBaseCode:function(e,t,i,r){return e+=i.baseVS,1!==r.nineSlicedMode&&2!==r.nineSlicedMode||(e+=i.baseNineSlicedVS),e},_fsAddBaseCode:function(e,t,i,r){return e+=i.basePS,1===r.nineSlicedMode?e+=i.baseNineSlicedPS:2===r.nineSlicedMode&&(e+=i.baseNineSlicedTiledPS),e},_fsAddStartCode:function(e,t,i,r){return e+=i.startPS,1===r.nineSlicedMode?e+=i.startNineSlicedPS:2===r.nineSlicedMode&&(e+=i.startNineSlicedTiledPS),e},createShaderDefinition:function(e,t){var i,r,n=t.lights.length>0;t.dirLightMap&&(n=!0,t.useSpecular=!0),0===t.shadingModel?(t.fresnelModel=0,t.specularAntialias=!1,t.prefilteredCubemap=!1,t.dpAtlas=!1,t.ambientSH=!1):t.fresnelModel=0===t.fresnelModel?2:t.fresnelModel;var a=(t.cubeMap||t.prefilteredCubemap&&t.useSpecular)&&!t.sphereMap&&!t.dpAtlas,s=t.sphereMap||a||t.dpAtlas,o=t.useTexCubeLod;t.cubeMap&&(t.sphereMap=null),t.dpAtlas&&(t.prefilteredCubemap=null),t.useSpecular||(t.specularMap=t.glossMap=null);var l=n||s||t.ambientSH||t.prefilteredCubemap||t.heightMap||t.enableGGXSpecular,c=t.pass>=3&&t.pass<=17;this.options=t;var f,h,u,d="",p="",_="",m=Ce,b={vertex_position:"POSITION"};if(t.chunks){var A,v={};for(r in m)m.hasOwnProperty(r)&&(t.chunks[r]?((u=t.chunks[r]).indexOf("vertex_normal")>=0&&(b.vertex_normal="NORMAL"),u.indexOf("vertex_tangent")>=0&&(b.vertex_tangent="TANGENT"),u.indexOf("vertex_texCoord0")>=0&&(b.vertex_texCoord0="TEXCOORD0"),u.indexOf("vertex_texCoord1")>=0&&(b.vertex_texCoord1="TEXCOORD1"),u.indexOf("vertex_color")>=0&&(b.vertex_color="COLOR"),u.indexOf("vertex_boneWeights")>=0&&(b.vertex_boneWeights="BLENDWEIGHT"),u.indexOf("vertex_boneIndices")>=0&&(b.vertex_boneIndices="BLENDINDICES"),v[r]=u):v[r]=m[r]);for(r in t.chunks)(A=this._oldChunkToNew[r])&&(v[A.n]=A.f(t.chunks[r],A.n,r));m=v}d=this._vsAddBaseCode(d,e,m,t);var y=-1;if(!t.noShadow&&!t.twoSidedLighting){for(i=0;i<t.lights.length;i++)if(f=t.lights[i]._type,t.lights[i].castShadows&&0===f){d+="uniform mat4 light"+i+"_shadowMatrixVS;\n",d+="uniform vec3 light"+i+"_shadowParamsVS;\n",d+="uniform vec3 light"+i+(0===f?"_directionVS":"_positionVS")+";\n",y=i;break}y>=0&&(d+=m.shadowCoordVS)}p+="   vPositionW\t= getWorldPosition();\n",2===t.pass&&(d+="varying float vDepth;\n",d+="#ifndef VIEWMATRIX\n",d+="#define VIEWMATRIX\n",d+="uniform mat4 matrix_view;\n",d+="#endif\n",d+="#ifndef CAMERAPLANES\n",d+="#define CAMERAPLANES\n",d+="uniform vec4 camera_params;\n\n",d+="#endif\n",p+="\tvDepth = -(matrix_view * vec4(vPositionW,1.0)).z * camera_params.x;\n"),t.useInstancing&&(b.instance_line1="TEXCOORD2",b.instance_line2="TEXCOORD3",b.instance_line3="TEXCOORD4",b.instance_line4="TEXCOORD5",d+=m.instancingVS),l&&(b.vertex_normal="NORMAL",p+="   vNormalW\t= dNormalW = getNormal();\n",t.sphereMap&&e.fragmentUniformsCount<=16&&(d+=m.viewNormalVS,p+="   vNormalV\t= getViewNormal();\n"),(t.heightMap||t.normalMap||t.enableGGXSpecular)&&t.hasTangents?(b.vertex_tangent="TANGENT",d+=m.tangentBinormalVS,p+="   vTangentW   = getTangent();\n",p+="   vBinormalW  = getBinormal();\n"):t.enableGGXSpecular&&(d+=m.tangentBinormalVS,p+="   vObjectSpaceUpW  = getObjectSpaceUp();\n"),y>=0&&(p+=0===(f=t.lights[y]._type)?"   dLightDirNormW = light"+y+"_directionVS;\n":"   getLightDirPoint(light"+y+"_positionVS);\n",h="(light"+y+"_shadowMatrixVS, light"+y+"_shadowParamsVS);\n",p+=this._nonPointShadowMapProjection(e,t.lights[y],h)));var g,k,x,S,T=[],w=[];for(r in tt)if(k=r+"Map",t[r+"VertexColor"]&&(t[g=r+"VertexColorChannel"]=this._correctChannel(r,t[g])),t[k]){g=k+"Channel",x=k+"Transform",t[S=k+"Uv"]=Math.min(t[S],1),t[g]=this._correctChannel(r,t[g]);var E=t[S];T[E]=!0,w[E]=w[E]||t[k]&&!t[x]}for(t.forceUv1&&(T[1]=!0),i=0;i<2;i++)T[i]&&(b["vertex_texCoord"+i]="TEXCOORD"+i,d+=m["uv"+i+"VS"],p+="   vec2 uv"+i+" = getUv"+i+"();\n"),w[i]&&(p+="   vUv"+i+" = uv"+i+";\n");var M=[d,_,p,[]];for(r in tt)t[k=r+"Map"]&&t[x=k+"Transform"]&&(S=k+"Uv",this._setMapTransform(M,r,t[x],t[S]));d=M[0],_=M[1],p=M[2],t.vertexColors&&(b.vertex_color="COLOR",p+="   vVertexColor = vertex_color;\n"),(t.useMorphPosition||t.useMorphNormal)&&(t.useMorphTextureBased?(d+="#define MORPHING_TEXTURE_BASED\n",t.useMorphPosition&&(d+="#define MORPHING_TEXTURE_BASED_POSITION\n"),t.useMorphNormal&&(d+="#define MORPHING_TEXTURE_BASED_NORMAL\n"),b.morph_vertex_id="ATTR15",d+="attribute float morph_vertex_id;\n"):(d+="#define MORPHING\n",t.useMorphPosition?(b.morph_pos0="ATTR8",b.morph_pos1="ATTR9",b.morph_pos2="ATTR10",b.morph_pos3="ATTR11",d+="#define MORPHING_POS03\n",d+="attribute vec3 morph_pos0;\n",d+="attribute vec3 morph_pos1;\n",d+="attribute vec3 morph_pos2;\n",d+="attribute vec3 morph_pos3;\n"):t.useMorphNormal&&(b.morph_nrm0="ATTR8",b.morph_nrm1="ATTR9",b.morph_nrm2="ATTR10",b.morph_nrm3="ATTR11",d+="#define MORPHING_NRM03\n",d+="attribute vec3 morph_nrm0;\n",d+="attribute vec3 morph_nrm1;\n",d+="attribute vec3 morph_nrm2;\n",d+="attribute vec3 morph_nrm3;\n"),t.useMorphNormal?(b.morph_nrm4="ATTR12",b.morph_nrm5="ATTR13",b.morph_nrm6="ATTR14",b.morph_nrm7="ATTR15",d+="#define MORPHING_NRM47\n",d+="attribute vec3 morph_nrm4;\n",d+="attribute vec3 morph_nrm5;\n",d+="attribute vec3 morph_nrm6;\n",d+="attribute vec3 morph_nrm7;\n"):(b.morph_pos4="ATTR12",b.morph_pos5="ATTR13",b.morph_pos6="ATTR14",b.morph_pos7="ATTR15",d+="#define MORPHING_POS47\n",d+="attribute vec3 morph_pos4;\n",d+="attribute vec3 morph_pos5;\n",d+="attribute vec3 morph_pos6;\n",d+="attribute vec3 morph_pos7;\n"))),t.skin?(b.vertex_boneWeights="BLENDWEIGHT",b.vertex_boneIndices="BLENDINDICES",d+=Fe(e,m),d+="#define SKIN\n"):t.useInstancing&&(d+="#define INSTANCING\n"),t.screenSpace&&(d+="#define SCREENSPACE\n"),t.pixelSnap&&(d+="#define PIXELSNAP\n"),d=this._vsAddTransformCode(d,e,m,t),l&&(d+=m.normalVS),d+="\n",d+=m.startVS,d+=p;var P=d+="}",R=_;_="",_+=this._addVaryingIfNeeded(d,"vec4","vMainShadowUv"),_+=this._addVaryingIfNeeded(d,"vec4","vVertexColor"),_+=this._addVaryingIfNeeded(d,"vec3","vPositionW"),_+=this._addVaryingIfNeeded(d,"vec3","vNormalV"),_+=this._addVaryingIfNeeded(d,"vec3","vNormalW"),_+=this._addVaryingIfNeeded(d,"vec3","vTangentW"),_+=this._addVaryingIfNeeded(d,"vec3","vBinormalW"),_+=this._addVaryingIfNeeded(d,"vec3","vObjectSpaceUpW"),_+=this._addVaryingIfNeeded(d,"vec2","vUv0"),_+=this._addVaryingIfNeeded(d,"vec2","vUv1"),P=(_+=R)+P;var C="";if(e.webgl2?(C=Be(e),m.extensionVS&&(C+=m.extensionVS+"\n"),P=C+m.gles3VS+P):(m.extensionVS&&(C=m.extensionVS+"\n"),P=C+P),t.forceFragmentPrecision&&"highp"!=t.forceFragmentPrecision&&"mediump"!==t.forceFragmentPrecision&&"lowp"!==t.forceFragmentPrecision&&(t.forceFragmentPrecision=null),t.forceFragmentPrecision&&("highp"===t.forceFragmentPrecision&&"highp"!==e.maxPrecision&&(t.forceFragmentPrecision="mediump"),"mediump"===t.forceFragmentPrecision&&"lowp"===e.maxPrecision&&(t.forceFragmentPrecision="lowp")),d="",e.webgl2&&(d+=Be(e)),e.extStandardDerivatives&&!e.webgl2&&(d+="#extension GL_OES_standard_derivatives : enable\n\n"),m.extensionPS&&(d+=m.extensionPS+"\n"),e.webgl2&&(d+=m.gles3PS),d+=t.forceFragmentPrecision?"precision "+t.forceFragmentPrecision+" float;\n\n":Ne(e),18===t.pass)return d+="uniform vec4 uColor;\n",d+=_,t.alphaTest&&(d+="float dAlpha;\n",d+=this._addMap("opacity","opacityPS",t,m),d+=m.alphaTestPS),d+="void main(void)\n{\n",t.alphaTest&&(d+="   getOpacity();\n",d+="   alphaTest(dAlpha);\n"),d+="\tgl_FragColor = uColor;\n",{attributes:b,vshader:P,fshader:d+="}\n"};if(2===t.pass)return d+="varying float vDepth;\n",d+=_,d+=m.packDepthPS,t.alphaTest&&(d+="float dAlpha;\n",d+=this._addMap("opacity","opacityPS",t,m),d+=m.alphaTestPS),d+="void main(void)\n{\n",t.alphaTest&&(d+="   getOpacity();\n",d+="   alphaTest(dAlpha);\n"),d+="\tgl_FragColor = packFloat(vDepth);\n",{attributes:b,vshader:P,fshader:d+="}\n"};if(c){var O=t.pass-3,I=O-5*(f=Math.floor(O/5));return e.extStandardDerivatives&&!e.webgl2&&(d+="uniform vec2 polygonOffset;\n"),3===I?e.textureFloatHighPrecision?d+="#define VSM_EXPONENT 15.0\n\n":d+="#define VSM_EXPONENT 5.54\n\n":2===I&&(d+="#define VSM_EXPONENT 5.54\n\n"),0!==f&&(d+="uniform vec3 view_position;\n",d+="uniform float light_radius;\n"),d+=_,t.alphaTest&&(d+="float dAlpha;\n",d+=this._addMap("opacity","opacityPS",t,m),d+=m.alphaTestPS),0!==I||e.webgl2&&1!==f?1===I&&(d+="vec2 encodeFloatRG( float v ) {\n",d+="\tvec2 enc = vec2(1.0, 255.0) * v;\n",d+="\tenc = fract(enc);\n",d+="\tenc -= enc.yy * vec2(1.0/255.0, 1.0/255.0);\n",d+="\treturn enc;\n",d+="}\n\n"):d+=m.packDepthPS,d+="void main(void)\n{\n",t.alphaTest&&(d+="   getOpacity();\n",d+="   alphaTest(dAlpha);\n"),d+=1===f||(1===I||2===I||3===I)&&0!==f?"   float depth = min(distance(view_position, vPositionW) / light_radius, 0.99999);\n":"   float depth = gl_FragCoord.z;\n",0!==I||e.webgl2&&1!==f?d+=0===I||4===I?"   gl_FragColor = vec4(1.0);\n":1===I?"   gl_FragColor = vec4(encodeFloatRG(depth), encodeFloatRG(depth*depth));\n":m.storeEVSMPS:e.extStandardDerivatives&&!e.webgl2?(d+="   float minValue = 2.3374370500153186e-10; //(1.0 / 255.0) / (256.0 * 256.0 * 256.0);\n",d+="   depth += polygonOffset.x * max(abs(dFdx(depth)), abs(dFdy(depth))) + minValue * polygonOffset.y;\n",d+="   gl_FragColor = packFloat(depth);\n"):d+="   gl_FragColor = packFloat(depth);\n",{attributes:b,vshader:P,fshader:d+="}\n"}}if(t.customFragmentShader)return{attributes:b,vshader:P,fshader:d+t.customFragmentShader,tag:1};d+=_,d=this._fsAddBaseCode(d,e,m,t),t.detailModes&&(d+=m.detailModesPS);var D=d;d="",t.clearCoat>0&&(d+="#define CLEARCOAT\n");var F,N,B=0,L=[],U=!1,V=!1;for(i=0;i<t.lights.length;i++)d+="uniform vec3 light"+i+"_color;\n",0===(f=(F=t.lights[i])._type)?d+="uniform vec3 light"+i+"_direction;\n":(d+="uniform vec3 light"+i+"_position;\n",d+="uniform float light"+i+"_radius;\n",2===f&&(d+="uniform vec3 light"+i+"_direction;\n",d+="uniform float light"+i+"_innerConeAngle;\n",d+="uniform float light"+i+"_outerConeAngle;\n")),F.castShadows&&!t.noShadow&&(d+="uniform mat4 light"+i+"_shadowMatrix;\n",d+=0!==f?"uniform vec4 light"+i+"_shadowParams;\n":"uniform vec3 light"+i+"_shadowParams;\n",1===f?d+="uniform samplerCube light"+i+"_shadowMap;\n":F._isPcf&&e.webgl2?d+="uniform sampler2DShadow light"+i+"_shadowMap;\n":d+="uniform sampler2D light"+i+"_shadowMap;\n",B++,L[F._shadowType]=!0,F._isVsm&&(U=!0),F._isPcf&&(e.webgl2||e.extStandardDerivatives)&&2===f&&(V=!0)),F._cookie&&(F._cookie._cubemap?1===f&&(d+="uniform samplerCube light"+i+"_cookie;\n",d+="uniform float light"+i+"_cookieIntensity;\n",F.castShadows&&!t.noShadow||(d+="uniform mat4 light"+i+"_shadowMatrix;\n")):2===f&&(d+="uniform sampler2D light"+i+"_cookie;\n",d+="uniform float light"+i+"_cookieIntensity;\n",F.castShadows&&!t.noShadow||(d+="uniform mat4 light"+i+"_shadowMatrix;\n"),F._cookieTransform&&(d+="uniform vec4 light"+i+"_cookieMatrix;\n",d+="uniform vec2 light"+i+"_cookieOffset;\n")));if(d+="\n",N=!t.hasTangents&&e.extStandardDerivatives?m.TBNderivativePS:t.fastTbn?m.TBNfastPS:m.TBNPS,l&&(t.normalMap||t.clearCoatNormalMap)){if(d+=t.packedNormal?m.normalXYPS:m.normalXYZPS,!t.hasTangents){var z=this._getUvSourceExpression("normalMapTransform","normalMapUv",t);N=N.replace(/\$UV/g,z)}d+=N}if(l)if(t.normalMap){t.normalDetail&&(d+=this._addMap("normalDetail","normalDetailMapPS",t,m));var j=this._getUvSourceExpression("normalMapTransform","normalMapUv",t);t.normalizeNormalMap?d+=m.normalMapPS.replace(/\$UV/g,j):d+=m.normalMapFastPS.replace(/\$UV/g,j)}else d+=m.normalVertexPS,t.enableGGXSpecular&&(d+=m.TBNObjectSpacePS);if(d+=Oe(t.gamma,m),d+=Ie(t.toneMap,m),d+=De(t.fog,m),t.useRgbm&&(d+=m.rgbmPS),(a||t.prefilteredCubemap)&&(d+=t.fixSeams?m.fixCubemapSeamsStretchPS:m.fixCubemapSeamsNonePS),l&&(d+=t.cubeMapProjection>0?m.cubeMapProjectBoxPS:m.cubeMapProjectNonePS,d+=t.skyboxIntensity?m.envMultiplyPS:m.envConstPS),t.diffuseDetail&&(d+=this._addMap("diffuseDetail","diffuseDetailMapPS",t,m)),d+=this._addMap("diffuse","diffusePS",t,m),(3!==t.blendType||t.alphaTest||t.alphaToCoverage)&&(d+=this._addMap("opacity","opacityPS",t,m)),d+=this._addMap("emissive","emissivePS",t,m,t.emissiveFormat),t.useSpecular&&(n||s)){t.specularAntialias&&t.normalMap?t.normalizeNormalMap&&l?d+=m.specularAaToksvigPS:d+=m.specularAaToksvigFastPS:d+=m.specularAaNonePS;var W=t.useMetalness?"metalness":"specular";d+=this._addMap(W,W+"PS",t,m),d+=this._addMap("gloss","glossPS",t,m),2===t.fresnelModel&&(d+=m.fresnelSchlickPS)}if(t.clearCoat>0&&(d+=this._addMap("clearCoat","clearCoatPS",t,m),d+=this._addMap("clearCoatGloss","clearCoatGlossPS",t,m),d+=this._addMap("clearCoatNormal","clearCoatNormalPS",t,m)),t.heightMap){if(!t.normalMap){var G=this._getUvSourceExpression("heightMapTransform","heightMapUv",t);t.hasTangents||(N=N.replace(/\$UV/g,G)),d+=N}d+=this._addMap("height","parallaxPS",t,m)}var H=t.aoMap||t.aoVertexColor;H&&(d+=this._addMap("ao","aoPS",t,m),t.occludeSpecular&&(1===t.occludeSpecular?d+=t.occludeSpecularFloat?m.aoSpecOccSimplePS:m.aoSpecOccConstSimplePS:d+=t.occludeSpecularFloat?m.aoSpecOccPS:m.aoSpecOccConstPS));var Y=t.rgbmReflection?"decodeRGBM":t.hdrReflection?"":"gammaCorrectInput";if(t.sphereMap){var X=e.fragmentUniformsCount>16?m.reflectionSpherePS:m.reflectionSphereLowPS;d+=X=X.replace(/\$texture2DSAMPLE/g,t.rgbmReflection?"texture2DRGBM":t.hdrReflection?"texture2D":"texture2DSRGB")}else a?t.prefilteredCubemap?d+=o?m.reflectionPrefilteredCubeLodPS.replace(/\$DECODE/g,Y):m.reflectionPrefilteredCubePS.replace(/\$DECODE/g,Y):d+=m.reflectionCubePS.replace(/\$textureCubeSAMPLE/g,t.rgbmReflection?"textureCubeRGBM":t.hdrReflection?"textureCube":"textureCubeSRGB"):t.dpAtlas&&(d+=m.reflectionDpAtlasPS.replace(/\$texture2DSAMPLE/g,t.rgbmReflection?"texture2DRGBM":t.hdrReflection?"texture2D":"texture2DSRGB"));(a||t.sphereMap||t.dpAtlas)&&(t.clearCoat>0&&(d+=m.reflectionCCPS),t.refraction&&(d+=m.refractionPS)),B>0&&(L[0]&&(d+=m.shadowStandardPS),L[4]&&(d+=m.shadowStandardGL2PS),U&&(d+=m.shadowVSM_commonPS,L[1]&&(d+=m.shadowVSM8PS),L[2]&&(d+=e.extTextureHalfFloatLinear?m.shadowEVSMPS.replace(/\$/g,"16"):m.shadowEVSMnPS.replace(/\$/g,"16")),L[3]&&(d+=e.extTextureFloatLinear?m.shadowEVSMPS.replace(/\$/g,"32"):m.shadowEVSMnPS.replace(/\$/g,"32"))),e.webgl2||e.extStandardDerivatives||(d+=m.biasConstPS),d+=m.shadowCoordPS+m.shadowCommonPS,V&&(d+=m.shadowCoordPerspZbufferPS),y>=0&&(L[0]&&(d+=m.shadowStandardVSPS),L[4]&&(d+=m.shadowStandardGL2VSPS),U&&(L[1]&&(d+=m.shadowVSMVSPS.replace(/\$VSM/g,"VSM8").replace(/\$/g,"8")),L[2]&&(d+=m.shadowVSMVSPS.replace(/\$VSM/g,"VSM16").replace(/\$/g,"16")),L[3]&&(d+=m.shadowVSMVSPS.replace(/\$VSM/g,"VSM32").replace(/\$/g,"32"))))),t.enableGGXSpecular&&(d+="uniform float material_anisotropy;\n"),n&&(d+=m.lightDiffuseLambertPS);var Z=!1;t.useSpecular?(n&&(d+=0===t.shadingModel?m.lightSpecularPhongPS:t.enableGGXSpecular?m.lightSpecularAnisoGGXPS:m.lightSpecularBlinnPS),t.sphereMap||a||t.dpAtlas||t.fresnelModel>0?t.fresnelModel>0?t.conserveEnergy?d+=m.combineDiffuseSpecularPS:d+=m.combineDiffuseSpecularNoConservePS:d+=m.combineDiffuseSpecularOldPS:t.diffuseMap?d+=m.combineDiffuseSpecularNoReflPS:(d+=m.combineDiffuseSpecularNoReflSeparateAmbientPS,Z=!0)):d+=m.combineDiffusePS,t.clearCoat>0&&(d+=m.combineClearCoatPS);var Q=!0;if(t.lightMap||t.lightVertexColor){var J=t.dirLightMap?"lightmapDirPS":"lightmapSinglePS";d+=this._addMap("light",J,t,m,t.lightMapFormat),Q=t.lightMapWithoutAmbient}if(Q){var q=t.rgbmAmbient?"decodeRGBM":t.hdrAmbient?"":"gammaCorrectInput";t.ambientSH?d+=m.ambientSHPS:t.prefilteredCubemap?d+=o?m.ambientPrefilteredCubeLodPS.replace(/\$DECODE/g,q):m.ambientPrefilteredCubePS.replace(/\$DECODE/g,q):d+=m.ambientConstantPS}t.ambientTint&&!Z&&(d+="uniform vec3 material_ambient;\n"),t.alphaTest&&(d+=m.alphaTestPS),t.msdf&&(d+=m.msdfPS),l&&(d+=m.viewDirPS,t.useSpecular&&(d+=t.enableGGXSpecular?m.reflDirAnisoPS:m.reflDirPS));var K,$=!1,ee=!1,te=!1,ie=!1,re=!1;d=this._fsAddStartCode(d,e,m,t),l&&(d+="   getViewDir();\n"),l&&(t.twoSidedLighting?(d+="   float normalSign = sign(dot(vNormalW, dViewDirW));\n",d+="   dVertexNormalW = normalSign * vNormalW;\n"):d+="   dVertexNormalW = vNormalW;\n",(t.heightMap||t.normalMap)&&t.hasTangents&&(t.twoSidedLighting?(d+="   dTangentW = normalSign * vTangentW;\n",d+="   dBinormalW = normalSign * vBinormalW;\n"):(d+="   dTangentW = vTangentW;\n",d+="   dBinormalW = vBinormalW;\n")));var ne=!1;3!==t.blendType||t.alphaTest||t.alphaToCoverage?t.heightMap&&t.opacityMap?ne=!0:(d+="   getOpacity();\n",t.alphaTest&&(d+="   alphaTest(dAlpha);\n")):d+="   dAlpha = 1.0;\n";var ae=!1;if(l&&(d+="   getViewDir();\n",(t.heightMap||t.normalMap||t.clearCoatNormalMap||t.enableGGXSpecular)&&(d+="   getTBN();\n"),t.heightMap&&(d+="   getParallax();\n"),ne&&(d+="   getOpacity();\n",t.alphaTest&&(d+="   alphaTest(dAlpha);\n")),d+="   getNormal();\n",t.useSpecular&&(t.enableGGXSpecular&&(d+="   getGlossiness();\n",ae=!0),d+="   getReflDir();\n")),d+="   getAlbedo();\n",t.clearCoat>0&&(d+="   getClearCoat();\n",d+="   getClearCoatGlossiness();\n",d+="   getClearCoatNormal();\n"),(n&&t.useSpecular||s)&&(d+="   getSpecularity();\n",ae||(d+="   getGlossiness();\n"),t.fresnelModel>0&&(d+="   getFresnel();\n")),Q&&(d+="   addAmbient();\n"),t.ambientTint&&!Z&&(d+="   dDiffuseLight *= material_ambient;\n"),H&&!t.occludeDirect&&(d+="\tapplyAO();\n"),(t.lightMap||t.lightVertexColor)&&(d+="   addLightMap();\n"),n||s){for((a||t.sphereMap||t.dpAtlas)&&(t.clearCoat>0&&(d+="   addReflectionCC();\n"),d+="   addReflection();\n"),t.dirLightMap&&(d+="   addDirLightMap();\n"),i=0;i<t.lights.length;i++){if(K=!1,0===(f=(F=t.lights[i])._type)?(d+="   dLightDirNormW = light"+i+"_direction;\n",d+="   dAtten = 1.0;\n"):(F._cookie&&(2!==f||F._cookie._cubemap?1===f&&F._cookie._cubemap&&(re=!0,K=!0):(re=!0,K=!0)),d+="   getLightDirPoint(light"+i+"_position);\n",$=!0,K&&(d+=2===f?"   dAtten3 = getCookie2D"+(F._cookieFalloff?"":"Clip")+(F._cookieTransform?"Xform":"")+"(light"+i+"_cookie, light"+i+"_shadowMatrix, light"+i+"_cookieIntensity"+(F._cookieTransform?", light"+i+"_cookieMatrix, light"+i+"_cookieOffset":"")+")."+F._cookieChannel+";\n":"   dAtten3 = getCookieCube(light"+i+"_cookie, light"+i+"_shadowMatrix, light"+i+"_cookieIntensity)."+F._cookieChannel+";\n"),0===F._falloffMode?(d+="   dAtten = getFalloffLinear(light"+i+"_radius);\n",ee=!0):(d+="   dAtten = getFalloffInvSquared(light"+i+"_radius);\n",te=!0),d+="   if (dAtten > 0.00001) {\n",2===f&&(K&&!F._cookieFalloff||(d+="\t   dAtten *= getSpotEffect(light"+i+"_direction, light"+i+"_innerConeAngle, light"+i+"_outerConeAngle);\n",ie=!0))),d+="\t   dAtten *= getLightDiffuse();\n",F.castShadows&&!t.noShadow){var se,oe=null;1===F._shadowType?(oe="VSM8",se="0.0"):2===F._shadowType?(oe="VSM16",se="5.54"):3===F._shadowType?(oe="VSM32",se=e.textureFloatHighPrecision?"15.0":"5.54"):oe=4===F._shadowType?"PCF5x5":"PCF3x3",null!==oe&&(1===f?(h="(light"+i+"_shadowMap, light"+i+"_shadowParams);\n",F._normalOffsetBias&&(d+="\t   normalOffsetPointShadow(light"+i+"_shadowParams);\n"),d+="\t   dAtten *= getShadowPoint"+oe+h):(y===i?oe+="VS":(h="(light"+i+"_shadowMatrix, light"+i+"_shadowParams);\n",d+=this._nonPointShadowMapProjection(e,t.lights[i],h)),2===f&&(oe="Spot"+oe),d+="\t   dAtten *= getShadow"+oe+"(light"+i+"_shadowMap, light"+i+"_shadowParams"+(F._isVsm?", "+se:"")+");\n"))}d+="\t   dDiffuseLight += dAtten * light"+i+"_color"+(K?" * dAtten3":"")+";\n",t.clearCoat>0&&(d+="\t   ccSpecularLight += getLightSpecularCC() * dAtten * light"+i+"_color"+(K?" * dAtten3":"")+";\n"),t.useSpecular&&(d+="\t   dAtten *= getLightSpecular();\n",d+="\t   dSpecularLight += dAtten * light"+i+"_color"+(K?" * dAtten3":"")+";\n"),0!==f&&(d+="   }\n"),d+="\n"}(a||t.sphereMap||t.dpAtlas)&&t.refraction&&(d+="   addRefraction();\n")}d+="\n",H&&(t.occludeDirect&&(d+="\tapplyAO();\n"),t.occludeSpecular&&(d+="\toccludeSpecular();\n")),d+=m.endPS,2===t.blendType||6===t.blendType||t.alphaToCoverage?d+=m.outputAlphaPS:4===t.blendType?d+=m.outputAlphaPremulPS:d+=m.outputAlphaOpaquePS,t.msdf&&(d+="   gl_FragColor = applyMsdf(gl_FragColor);\n"),d+="\n",d+="}\n",$&&(d=m.lightDirPointPS+d),ee&&(d=m.falloffLinearPS+d),te&&(d=m.falloffInvSquaredPS+d),ie&&(d=m.spotPS+d),re&&(d=m.cookiePS+d);var le="";return d.includes("dReflection")&&(le+="vec4 dReflection;\n"),d.includes("dTBN")&&(le+="mat3 dTBN;\n"),d.includes("dAlbedo")&&(le+="vec3 dAlbedo;\n"),d.includes("dEmission")&&(le+="vec3 dEmission;\n"),d.includes("dNormalW")&&(le+="vec3 dNormalW;\n"),d.includes("dVertexNormalW")&&(le+="vec3 dVertexNormalW;\n"),d.includes("dTangentW")&&(le+="vec3 dTangentW;\n"),d.includes("dBinormalW")&&(le+="vec3 dBinormalW;\n"),d.includes("dViewDirW")&&(le+="vec3 dViewDirW;\n"),d.includes("dReflDirW")&&(le+="vec3 dReflDirW;\n"),d.includes("dDiffuseLight")&&(le+="vec3 dDiffuseLight;\n"),d.includes("dSpecularLight")&&(le+="vec3 dSpecularLight;\n"),d.includes("dLightDirNormW")&&(le+="vec3 dLightDirNormW;\n"),d.includes("dLightDirW")&&(le+="vec3 dLightDirW;\n"),d.includes("dLightPosW")&&(le+="vec3 dLightPosW;\n"),d.includes("dShadowCoord")&&(le+="vec3 dShadowCoord;\n"),d.includes("dNormalMap")&&(le+="vec3 dNormalMap;\n"),d.includes("dSpecularity")&&(le+="vec3 dSpecularity;\n"),d.includes("dUvOffset")&&(le+="vec2 dUvOffset;\n"),d.includes("dGlossiness")&&(le+="float dGlossiness;\n"),d.includes("dAlpha")&&(le+="float dAlpha;\n"),d.includes("dAtten")&&(le+="float dAtten;\n"),d.includes("dAtten3")&&(le+="vec3 dAtten3;\n"),d.includes("dAo")&&(le+="float dAo;\n"),d.includes("dMsdf")&&(le+="vec4 dMsdf;\n"),d.includes("ccReflection")&&(le+="vec4 ccReflection;\n"),d.includes("ccNormalW")&&(le+="vec3 ccNormalW;\n"),d.includes("ccReflDirW")&&(le+="vec3 ccReflDirW;\n"),d.includes("ccSpecularLight")&&(le+="vec3 ccSpecularLight;\n"),d.includes("ccSpecularity")&&(le+="float ccSpecularity;\n"),d.includes("ccGlossiness")&&(le+="float ccGlossiness;\n"),{attributes:b,vshader:P,fshader:d=D+le+d,tag:1}}},rt={begin:Ue,dummyFragmentCode:Le,end:Ve,fogCode:De,gammaCode:Oe,precisionCode:Ne,skinCode:Fe,tonemapCode:Ie,versionCode:Be,basic:Ge,particle:He,skybox:Ye,standard:it};function nt(e,t){this.device=e,this.name=null,this._width=4,this._height=4,this._depth=1,this._format=7,this.type="default",this._cubemap=!1,this._volume=!1,this.fixCubemapSeams=!1,this._flipY=!0,this._premultiplyAlpha=!1,this._mipmaps=!0,this._minFilter=5,this._magFilter=1,this._anisotropy=1,this._addressU=0,this._addressV=0,this._addressW=0,this._compareOnRead=!1,this._compareFunc=1,void 0!==t&&(void 0!==t.name&&(this.name=t.name),this._width=void 0!==t.width?t.width:this._width,this._height=void 0!==t.height?t.height:this._height,this._format=void 0!==t.format?t.format:this._format,t.hasOwnProperty("type")?this.type=t.type:t.hasOwnProperty("rgbm")?this.type=t.rgbm?"rgbm":"default":t.hasOwnProperty("swizzleGGGR")&&(this.type=t.swizzleGGGR?"swizzleGGGR":"default"),void 0!==t.mipmaps?this._mipmaps=t.mipmaps:this._mipmaps=void 0!==t.autoMipmap?t.autoMipmap:this._mipmaps,this._levels=t.levels,this._cubemap=void 0!==t.cubemap?t.cubemap:this._cubemap,this.fixCubemapSeams=void 0!==t.fixCubemapSeams?t.fixCubemapSeams:this.fixCubemapSeams,this._minFilter=void 0!==t.minFilter?t.minFilter:this._minFilter,this._magFilter=void 0!==t.magFilter?t.magFilter:this._magFilter,this._anisotropy=void 0!==t.anisotropy?t.anisotropy:this._anisotropy,this._addressU=void 0!==t.addressU?t.addressU:this._addressU,this._addressV=void 0!==t.addressV?t.addressV:this._addressV,this._compareOnRead=void 0!==t.compareOnRead?t.compareOnRead:this._compareOnRead,this._compareFunc=void 0!==t._compareFunc?t._compareFunc:this._compareFunc,this._flipY=void 0!==t.flipY?t.flipY:this._flipY,this._premultiplyAlpha=void 0!==t.premultiplyAlpha?t.premultiplyAlpha:this._premultiplyAlpha,e.webgl2&&(this._depth=void 0!==t.depth?t.depth:this._depth,this._volume=void 0!==t.volume?t.volume:this._volume,this._addressW=void 0!==t.addressW?t.addressW:this._addressW)),this._compressed=8===this._format||9===this._format||10===this._format||this._format>=21,this._invalid=!1,this._lockedLevel=-1,this._levels||(this._levels=this._cubemap?[[null,null,null,null,null,null]]:[null]),this.dirtyAll(),this._gpuSize=0}Object.defineProperties(nt.prototype,{minFilter:{get:function(){return this._minFilter},set:function(e){this._minFilter!==e&&(this._minFilter=e,this._parameterFlags|=1)}},magFilter:{get:function(){return this._magFilter},set:function(e){this._magFilter!==e&&(this._magFilter=e,this._parameterFlags|=2)}},addressU:{get:function(){return this._addressU},set:function(e){this._addressU!==e&&(this._addressU=e,this._parameterFlags|=4)}},addressV:{get:function(){return this._addressV},set:function(e){this._addressV!==e&&(this._addressV=e,this._parameterFlags|=8)}},addressW:{get:function(){return this._addressW},set:function(e){this.device.webgl2&&this._volume&&e!==this._addressW&&(this._addressW=e,this._parameterFlags|=16)}},compareOnRead:{get:function(){return this._compareOnRead},set:function(e){this._compareOnRead!==e&&(this._compareOnRead=e,this._parameterFlags|=32)}},compareFunc:{get:function(){return this._compareFunc},set:function(e){this._compareFunc!==e&&(this._compareFunc=e,this._parameterFlags|=64)}},anisotropy:{get:function(){return this._anisotropy},set:function(e){this._anisotropy!==e&&(this._anisotropy=e,this._parameterFlags|=128)}},autoMipmap:{get:function(){return this._mipmaps},set:function(e){this._mipmaps=e}},mipmaps:{get:function(){return this._mipmaps},set:function(e){this._mipmaps!==e&&(this._mipmaps=e,this._minFilterDirty=!0,e&&(this._needsMipmapsUpload=!0))}},width:{get:function(){return this._width}},height:{get:function(){return this._height}},depth:{get:function(){return this._depth}},format:{get:function(){return this._format}},cubemap:{get:function(){return this._cubemap}},gpuSize:{get:function(){var e=this.pot&&this._mipmaps&&!(this._compressed&&1===this._levels.length);return nt.calcGpuSize(this._width,this._height,this._depth,this._format,e,this._cubemap)}},volume:{get:function(){return this._volume}},flipY:{get:function(){return this._flipY},set:function(e){this._flipY!==e&&(this._flipY=e,this._needsUpload=!0)}},premultiplyAlpha:{get:function(){return this._premultiplyAlpha},set:function(e){this._premultiplyAlpha!==e&&(this._premultiplyAlpha=e,this._needsUpload=!0)}},pot:{get:function(){return A.powerOfTwo(this._width)&&A.powerOfTwo(this._height)}}});var at=null,st=null;function ot(e,t,i,r){var n=t.fixCubemapSeams?Ce.fixCubemapSeamsStretchPS:Ce.fixCubemapSeamsNonePS,a=We(e,Ce.fullscreenQuadVS,n+Ce.genParaboloidPS,"genParaboloid"),s=e.scope.resolve("source"),o=e.scope.resolve("params"),l=new D,c=t.width,f=t.format;c=2*Math.max(c,8);var h=new nt(e,{type:t.type,format:f,width:2*c,height:c,mipmaps:!1});h.name="paraboloid";var u=new qu(e,h,{depth:!1});return l.x=i,l.y=r?-1:1,s.setValue(t),o.setValue(l.data),Pe(e,u,a),h}function lt(e,t){e.x=.5*A.clamp(t-2,0,1);var i=t-6*e.x,r=1-e.x;return e.y=Math.min(.5*i,.75)*r+e.x,e.z=(1-.5*A.clamp(i,0,1))*r,e.w=.5*e.z,1/e.z}function ct(e,t,i,r,n){this.usage=r||0,this.format=t,this.numIndices=i,this.device=e;var a,s=this.device.gl;0===t?(a=1,this.glFormat=s.UNSIGNED_BYTE):1===t?(a=2,this.glFormat=s.UNSIGNED_SHORT):2===t&&(a=4,this.glFormat=s.UNSIGNED_INT),this.bytesPerIndex=a,this.numBytes=this.numIndices*a,n?this.setData(n):this.storage=new ArrayBuffer(this.numBytes),e._vram.ib+=this.numBytes,this.device.buffers.push(this)}Object.assign(nt,{calcGpuSize:function(e,t,i,r,n,a){at||((at=[])[0]=1,at[1]=1,at[2]=2,at[3]=2,at[4]=2,at[5]=2,at[6]=4,at[7]=4,at[11]=8,at[12]=8,at[13]=16,at[14]=16,at[15]=4,at[16]=4,at[17]=4,at[18]=4,at[19]=4,at[20]=4),st||((st=[])[21]=8,st[22]=8,st[24]=8,st[25]=8,st[26]=8,st[27]=8,st[8]=8,st[29]=8,st[23]=16,st[9]=16,st[10]=16,st[28]=16,st[30]=16);for(var s=at.hasOwnProperty(r)?at[r]:0,o=st.hasOwnProperty(r)?st[r]:0,l=0;;){if(s>0)l+=e*t*i*s;else{var c=Math.floor((e+3)/4),f=Math.floor((t+3)/4),h=Math.floor((i+3)/4);24!==r&&25!==r||(c=Math.floor(c/2,1)),l+=c*f*h*o}if(!n||1===e&&1===t&&1===i)break;e=Math.max(Math.floor(e/2),1),t=Math.max(Math.floor(t/2),1),i=Math.max(Math.floor(i/2),1)}return l*(a?6:1)}}),Object.assign(nt.prototype,{destroy:function(){this.device&&this.device.destroyTexture(this),this.device=null,this._levels=null},dirtyAll:function(){this._levelsUpdated=this._cubemap?[[!0,!0,!0,!0,!0,!0]]:[!0],this._needsUpload=!0,this._needsMipmapsUpload=this._mipmaps,this._mipmapsUploaded=!1,this._parameterFlags=255},lock:function(e){if(void 0===(e=e||{level:0,face:0,mode:2}).level&&(e.level=0),void 0===e.face&&(e.face=0),void 0===e.mode&&(e.mode=2),this._lockedLevel=e.level,null===this._levels[e.level])switch(this._format){case 0:case 1:this._levels[e.level]=new Uint8Array(this._width*this._height*this._depth);break;case 2:this._levels[e.level]=new Uint8Array(this._width*this._height*this._depth*2);break;case 3:case 4:case 5:this._levels[e.level]=new Uint16Array(this._width*this._height*this._depth);break;case 6:this._levels[e.level]=new Uint8Array(this._width*this._height*this._depth*3);break;case 7:this._levels[e.level]=new Uint8Array(this._width*this._height*this._depth*4);break;case 8:this._levels[e.level]=new Uint8Array(Math.floor((this._width+3)/4)*Math.floor((this._height+3)/4)*8*this._depth);break;case 9:case 10:this._levels[e.level]=new Uint8Array(Math.floor((this._width+3)/4)*Math.floor((this._height+3)/4)*16*this._depth);break;case 11:this._levels[e.level]=new Uint16Array(this._width*this._height*this._depth*3);break;case 13:this._levels[e.level]=new Float32Array(this._width*this._height*this._depth*3);break;case 12:this._levels[e.level]=new Uint16Array(this._width*this._height*this._depth*4);break;case 14:this._levels[e.level]=new Float32Array(this._width*this._height*this._depth*4)}return this._levels[e.level]},setSource:function(e,t){var i,r,n,a=!1;if(t=t||0,this._cubemap){if(e[0])for(r=e[0].width||0,n=e[0].height||0,i=0;i<6;i++){var s=e[i];if(!s||s.width!==r||s.height!==n||!this.device._isBrowserInterface(s)){a=!0;break}}else a=!0;if(!a)for(i=0;i<6;i++)this._levels[t][i]!==e[i]&&(this._levelsUpdated[t][i]=!0)}else this.device._isBrowserInterface(e)||(a=!0),a||(e!==this._levels[t]&&(this._levelsUpdated[t]=!0),r=e.width,n=e.height);if(a)if(this._width=4,this._height=4,this._cubemap)for(i=0;i<6;i++)this._levels[t][i]=null,this._levelsUpdated[t][i]=!0;else this._levels[t]=null,this._levelsUpdated[t]=!0;else 0===t&&(this._width=r,this._height=n),this._levels[t]=e;this._invalid===a&&a||(this._invalid=a,this.upload())},getSource:function(e){return e=e||0,this._levels[e]},unlock:function(){this.upload(),this._lockedLevel=-1},upload:function(){this._needsUpload=!0,this._needsMipmapsUpload=this._mipmaps},getDds:function(){7!==this.format&&console.error("This format is not implemented yet");for(var e,t,i=128,r=0;this._levels[r];){var n;if(this.cubemap)for(t=0;t<6;t++){if(!this._levels[r][t])return void console.error("No level data for mip "+r+", face "+t);if(!(n=this._levels[r][t].length))return void console.error("No byte array for mip "+r+", face "+t);i+=n}else{if(!(n=this._levels[r].length))return void console.error("No byte array for mip "+r);i+=n}i+=this._levels[r].length,r++}var a=new ArrayBuffer(i),s=new Uint32Array(a,0,32),o=528391;this._levels.length>1&&(o|=131072);var l=4096;this._levels.length>1&&(l|=4194304),(this._levels.length>1||this.cubemap)&&(l|=8);var c=this.cubemap?65024:0;for(s[0]=542327876,s[1]=124,s[2]=o,s[3]=this.height,s[4]=this.width,s[5]=this.width*this.height*4,s[6]=0,s[7]=this._levels.length,r=0;r<11;r++)s[8+r]=0;s[19]=32,s[20]=65,s[21]=0,s[22]=32,s[23]=16711680,s[24]=65280,s[25]=255,s[26]=4278190080,s[27]=l,s[28]=c,s[29]=0,s[30]=0,s[31]=0;var f,h,u=128;if(this.cubemap)for(t=0;t<6;t++)for(r=0;r<this._levels.length;r++){for(f=this._levels[r][t],h=new Uint8Array(a,u,f.length),e=0;e<f.length;e++)h[e]=f[e];u+=f.length}else for(r=0;r<this._levels.length;r++){for(f=this._levels[r],h=new Uint8Array(a,u,f.length),e=0;e<f.length;e++)h[e]=f[e];u+=f.length}return a}}),Object.assign(ct.prototype,{destroy:function(){var e=this.device,t=e.buffers.indexOf(this);-1!==t&&e.buffers.splice(t,1),this.bufferId&&(this.device.gl.deleteBuffer(this.bufferId),this.device._vram.ib-=this.storage.byteLength,this.bufferId=null,this.device.indexBuffer===this&&(this.device.indexBuffer=null))},getFormat:function(){return this.format},getNumIndices:function(){return this.numIndices},lock:function(){return this.storage},unlock:function(){var e,t=this.device.gl;switch(this.bufferId||(this.bufferId=t.createBuffer()),this.usage){case 0:e=t.STATIC_DRAW;break;case 1:e=t.DYNAMIC_DRAW;break;case 2:e=t.STREAM_DRAW;break;case 3:e=this.device.webgl2?t.DYNAMIC_COPY:t.STATIC_DRAW}t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.bufferId),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.storage,e)},setData:function(e){return e.byteLength===this.numBytes&&(this.storage=e,this.unlock(),!0)},_lockTypedArray:function(){var e=this.lock();return 2===this.format?new Uint32Array(e):1===this.format?new Uint16Array(e):new Uint8Array(e)},writeData:function(e,t){var i,r=this._lockTypedArray();if(e.length>t)if(ArrayBuffer.isView(e))e=e.subarray(0,t),r.set(e);else for(i=0;i<t;i++)r[i]=e[i];else r.set(e);this.unlock()},readData:function(e){var t,i=this._lockTypedArray(),r=this.numIndices;if(ArrayBuffer.isView(e))e.set(i);else for(e.length=0,t=0;t<r;t++)e[t]=i[t];return r}});var ft=0;function ht(){this.initDefaults()}function ut(e,t,i,r){this.data=e,this.componentCount=t,this.dataType=i,this.dataTypeNormalize=r}function dt(e){this._refCount=0,this.id=ft++,this.device=e||Au.getApplication().graphicsDevice,this.vertexBuffer=null,this.indexBuffer=[null],this.primitive=[{type:0,base:0,count:0}],this.skin=null,this.morph=null,this._geometryData=null,this._aabb=new W,this.boneAabb=null}Object.assign(ht.prototype,{initDefaults:function(){this.recreate=!1,this.verticesUsage=0,this.indicesUsage=0,this.maxVertices=0,this.maxIndices=0,this.vertexCount=0,this.indexCount=0,this.vertexStreamsUpdated=!1,this.indexStreamUpdated=!1,this.vertexStreamDictionary={},this.indices=null},_validateVertexCount:function(e,t){},_changeVertexCount:function(e,t){this.vertexCount?this._validateVertexCount(e,t):this.vertexCount=e}}),Object.defineProperties(ht,{DEFAULT_COMPONENTS_POSITION:{value:3},DEFAULT_COMPONENTS_NORMAL:{value:3},DEFAULT_COMPONENTS_UV:{value:2},DEFAULT_COMPONENTS_COLORS:{value:4}}),Object.defineProperties(dt.prototype,{aabb:{get:function(){return this._aabb},set:function(e){this._aabb=e}},refCount:{get:function(){return this._refCount}}}),Object.assign(dt.prototype,{incReference:function(){this._refCount++},decReference:function(){this._refCount--},destroy:function(){var e,t;for(this.vertexBuffer&&(this.vertexBuffer.destroy(),this.vertexBuffer=null),e=0;e<this.indexBuffer.length;e++)(t=this.indexBuffer[e])&&t.destroy();this.indexBuffer.length=0,this._geometryData=null},_initBoneAabbs:function(e){this.boneAabb=[],this.boneUsed=[];var t,i,r,n,a,s,o,l,c,f,h,u,d,p,_,m,b,A,v,y,g,k=this.vertexBuffer.numVertices,x=[],S=[],T=this.boneUsed,w=this.skin.boneNames.length;if(!(k<1)){for(t=0;t<w;t++)x[t]=new I(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),S[t]=new I(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);var E=new we(this.vertexBuffer),M=E.element.POSITION,P=E.element.BLENDWEIGHT,R=E.element.BLENDINDICES;for(i=0;i<k;i++){for(r=0;r<4;r++)if(P.array[P.index+r]>0&&(T[h=R.array[R.index+r]]=!0,a=M.array[M.index],s=M.array[M.index+1],o=M.array[M.index+2],l=S[h],(c=x[h]).x>a&&(c.x=a),c.y>s&&(c.y=s),c.z>o&&(c.z=o),l.x<a&&(l.x=a),l.y<s&&(l.y=s),l.z<o&&(l.z=o),e)){for(u=_=a,d=m=s,p=b=o,n=0;n<e.length;n++)(A=(g=e[n]).deltaPositions[3*i])<0?u+=A:_+=A,(v=g.deltaPositions[3*i+1])<0?d+=v:m+=v,(y=g.deltaPositions[3*i+2])<0?p+=y:b+=y;c.x>u&&(c.x=u),c.y>d&&(c.y=d),c.z>p&&(c.z=p),l.x<_&&(l.x=_),l.y<m&&(l.y=m),l.z<b&&(l.z=b)}E.next()}for(t=0;t<w;t++)(f=new W).setMinMax(x[t],S[t]),this.boneAabb.push(f)}},_initGeometryData:function(){this._geometryData||(this._geometryData=new ht,this.vertexBuffer&&(this._geometryData.vertexCount=this.vertexBuffer.numVertices,this._geometryData.maxVertices=this.vertexBuffer.numVertices),this.indexBuffer.length>0&&this.indexBuffer[0]&&(this._geometryData.indexCount=this.indexBuffer[0].numIndices,this._geometryData.maxIndices=this.indexBuffer[0].numIndices))},clear:function(e,t,i,r){this._initGeometryData(),this._geometryData.initDefaults(),this._geometryData.recreate=!0,this._geometryData.maxVertices=i||0,this._geometryData.maxIndices=r||0,this._geometryData.verticesUsage=e?0:1,this._geometryData.indicesUsage=t?0:1},setVertexStream:function(e,t,i,r,n,a){this._initGeometryData();var s=r||t.length/i;this._geometryData._changeVertexCount(s,e),this._geometryData.vertexStreamsUpdated=!0,this._geometryData.vertexStreamDictionary[e]=new ut(t,i,n||6,a||!1)},getVertexStream:function(e,t){var i=0,r=!1;if(this._geometryData){var n=this._geometryData.vertexStreamDictionary[e];n&&(r=!0,i=this._geometryData.vertexCount,ArrayBuffer.isView(t)?t.set(n.data):(t.length=0,t.push(n.data)))}return r||this.vertexBuffer&&(i=new we(this.vertexBuffer).readData(e,t)),i},setPositions:function(e,t,i){this.setVertexStream("POSITION",e,t||ht.DEFAULT_COMPONENTS_POSITION,i,6,!1)},setNormals:function(e,t,i){this.setVertexStream("NORMAL",e,t||ht.DEFAULT_COMPONENTS_NORMAL,i,6,!1)},setUvs:function(e,t,i,r){this.setVertexStream("TEXCOORD"+e,t,i||ht.DEFAULT_COMPONENTS_UV,r,6,!1)},setColors:function(e,t,i){this.setVertexStream("COLOR",e,t||ht.DEFAULT_COMPONENTS_COLORS,i,6,!1)},setColors32:function(e,t){this.setVertexStream("COLOR",e,ht.DEFAULT_COMPONENTS_COLORS,t,1,!0)},setIndices:function(e,t){this._initGeometryData(),this._geometryData.indexStreamUpdated=!0,this._geometryData.indices=e,this._geometryData.indexCount=t||e.length},getPositions:function(e){return this.getVertexStream("POSITION",e)},getNormals:function(e){return this.getVertexStream("NORMAL",e)},getUvs:function(e,t){return this.getVertexStream("TEXCOORD"+e,t)},getColors:function(e){return this.getVertexStream("COLOR",e)},getIndices:function(e){var t=0;if(this._geometryData&&this._geometryData.indices){var i=this._geometryData.indices;t=this._geometryData.indexCount,ArrayBuffer.isView(e)?e.set(i):(e.length=0,e.push(i))}else this.indexBuffer.length>0&&this.indexBuffer[0]&&(t=this.indexBuffer[0].readData(e));return t},update:function(e,t){if(this._geometryData){if(t||void 0===t){var i=this._geometryData.vertexStreamDictionary.POSITION;i&&3==i.componentCount&&this._aabb.compute(i.data,this._geometryData.vertexCount)}var r=this._geometryData.recreate;this._geometryData.vertexCount>this._geometryData.maxVertices&&(r=!0,this._geometryData.maxVertices=this._geometryData.vertexCount),r&&this.vertexBuffer&&(this.vertexBuffer.destroy(),this.vertexBuffer=null);var n=this._geometryData.recreate;this._geometryData.indexCount>this._geometryData.maxIndices&&(n=!0,this._geometryData.maxIndices=this._geometryData.indexCount),n&&this.indexBuffer.length>0&&this.indexBuffer[0]&&(this.indexBuffer[0].destroy(),this.indexBuffer[0]=null),this._geometryData.vertexStreamsUpdated&&this._updateVertexBuffer(),this._geometryData.indexStreamUpdated&&this._updateIndexBuffer(),this.primitive[0].type=void 0===e?4:e,this.indexBuffer.length>0&&this.indexBuffer[0]?this._geometryData.indexStreamUpdated&&(this.primitive[0].count=this._geometryData.indexCount,this.primitive[0].indexed=!0):this._geometryData.vertexStreamsUpdated&&(this.primitive[0].count=this._geometryData.vertexCount,this.primitive[0].indexed=!1),this._geometryData.vertexCount=0,this._geometryData.indexCount=0,this._geometryData.vertexStreamsUpdated=!1,this._geometryData.indexStreamUpdated=!1,this._geometryData.recreate=!1}},_buildVertexFormat:function(e){var t=[];for(var i in this._geometryData.vertexStreamDictionary){var r=this._geometryData.vertexStreamDictionary[i];t.push({semantic:i,components:r.componentCount,type:r.dataType,normalize:r.dataTypeNormalize})}return new ue(this.device,t,e)},_updateVertexBuffer:function(){if(!this.vertexBuffer){var e=this._geometryData.maxVertices,t=this._buildVertexFormat(e);this.vertexBuffer=new fe(this.device,t,e,this._geometryData.verticesUsage)}var i=new we(this.vertexBuffer),r=this._geometryData.vertexCount;for(var n in this._geometryData.vertexStreamDictionary){var a=this._geometryData.vertexStreamDictionary[n];i.writeData(n,a.data,r),delete this._geometryData.vertexStreamDictionary[n]}i.end()},_updateIndexBuffer:function(){if(this.indexBuffer.length<=0||!this.indexBuffer[0]){var e=this._geometryData.maxVertices>65535?2:1;this.indexBuffer[0]=new ct(this.device,e,this._geometryData.maxIndices,this._geometryData.indicesUsage)}var t=this._geometryData.indices;t&&(this.indexBuffer[0].writeData(t,this._geometryData.indexCount),this._geometryData.indices=null)},generateWireframe:function(){var e,t=function(e){switch(e.format){case 0:return new Uint8Array(e.storage);case 1:return new Uint16Array(e.storage);case 2:return new Uint32Array(e.storage);default:return null}},i=[];if(this.indexBuffer.length>0&&this.indexBuffer[0]){for(var r=[[0,1],[1,2],[2,0]],n=this.primitive[0].base,a=this.primitive[0].count,s=this.indexBuffer[0],o=t(s),l={},c=n;c<n+a;c+=3)for(var f=0;f<3;f++){var h=o[c+r[f][0]],u=o[c+r[f][1]],d=h>u?u<<16|h:h<<16|u;void 0===l[d]&&(l[d]=0,i.push(h,u))}e=s.format}else{for(var p=0;p<this.vertexBuffer.numVertices;p+=3)i.push(p,p+1,p+1,p+2,p+2,p);e=i.length>65535?2:1}var _=new ct(this.vertexBuffer.device,e,i.length);t(_).set(i),_.unlock(),this.primitive[1]={type:1,base:0,count:i.length,indexed:!0},this.indexBuffer[1]=_}});var pt=new W,_t=new W,mt=new Z;function bt(e,t,i){this._key=[0,0],this._shader=[null,null,null],this.isStatic=!1,this._staticLightList=null,this._staticSource=null,this.node=e,this._mesh=t,t.incReference(),this.material=i,this._shaderDefs=65536,this._shaderDefs|=t.vertexBuffer.format.hasUv0?4:0,this._shaderDefs|=t.vertexBuffer.format.hasUv1?8:0,this._shaderDefs|=t.vertexBuffer.format.hasColor?16:0,this._shaderDefs|=t.vertexBuffer.format.hasTangents?512:0,this._lightHash=0,this.visible=!0,this.layer=15,this.renderStyle=0,this.castShadow=!1,this._receiveShadow=!0,this._screenSpace=!1,this._noDepthDrawGl1=!1,this.cull=!0,this.pick=!0,this._updateAabb=!0,this._updateAabbFunc=null,this._calculateSortDistance=null,this.updateKey(),this._skinInstance=null,this._morphInstance=null,this.instancingData=null,this.aabb=new W,this._aabbVer=-1,this.drawOrder=0,this.visibleThisFrame=0,this.isVisibleFunc=null,this.parameters={},this.stencilFront=null,this.stencilBack=null,this.flipFaces=!1}function At(e,t,i){this._key=[],this._key[0]=yt(e,t,!0,0),this.command=i}function vt(e){this.count=e,this.vertexBuffer=null}function yt(e,t,i,r){return(15&e)<<27|(3===t?1:0)<<26|(i?1:0)<<25|(33554431&r)<<0}function gt(e,t){this.device=t||Au.getApplication().graphicsDevice,this._targets=e,this.device.supportsMorphTargetTexturesCore&&(this.device.extTextureHalfFloat&&this.device.textureHalfFloatRenderable?this._renderTextureFormat=gt.FORMAT_HALF_FLOAT:this.device.extTextureFloat&&this.device.textureFloatRenderable&&(this._renderTextureFormat=gt.FORMAT_FLOAT),this.device.extTextureHalfFloat&&this.device.textureHalfFloatUpdatable?this._textureFormat=gt.FORMAT_HALF_FLOAT:this.device.extTextureFloat&&(this._textureFormat=gt.FORMAT_FLOAT),void 0!==this._renderTextureFormat&&void 0!==this._textureFormat&&(this._useTextureMorph=!0)),this._init(),this._updateMorphFlags(),this._calculateAabb()}function kt(e){this.morph=e,this.device=e.device,this.meshInstance=null,this._weights=[];for(var t=0;t<e._targets.length;t++)this.setWeight(t,e._targets[t].defaultWeight);if(this._activeTargets=[],e.useTextureMorph){this.shaderCache={},this.maxSubmitCount=this.device.maxTextures,this._shaderMorphWeights=new Float32Array(this.maxSubmitCount);var i=function(t,i){var r=e._renderTextureFormat===gt.FORMAT_FLOAT?14:12;return this[i]=e._createTexture(t,r),new qu({colorBuffer:this[i],depth:!1})}.bind(this);e.morphPositions&&(this.rtPositions=i("MorphRTPos","texturePositions")),e.morphNormals&&(this.rtNormals=i("MorphRTNrm","textureNormals")),this._textureParams=new Float32Array([e.morphTextureWidth,e.morphTextureHeight,1/e.morphTextureWidth,1/e.morphTextureHeight]);for(var r=0;r<this.maxSubmitCount;r++)this["morphBlendTex"+r]=this.device.scope.resolve("morphBlendTex"+r);this.morphFactor=this.device.scope.resolve("morphFactor[0]"),this.zeroTextures=!1}else this.maxSubmitCount=8,this._shaderMorphWeights=new Float32Array(this.maxSubmitCount),this._shaderMorphWeightsA=new Float32Array(this._shaderMorphWeights.buffer,0,4),this._shaderMorphWeightsB=new Float32Array(this._shaderMorphWeights.buffer,16,4),this._activeVertexBuffers=new Array(this.maxSubmitCount)}Object.defineProperty(bt.prototype,"mesh",{get:function(){return this._mesh},set:function(e){this._mesh&&this._mesh.decReference(),this._mesh=e,e&&e.incReference()}}),Object.defineProperty(bt.prototype,"aabb",{get:function(){var e;if(!this._updateAabb)return this._aabb;if(this._updateAabbFunc)return this._updateAabbFunc(this._aabb);if(this.skinInstance){if(!this.mesh.boneAabb){var t=this._morphInstance?this._morphInstance.morph._targets:null;this.mesh._initBoneAabbs(t)}var i=this.mesh.boneUsed,r=this.node.getWorldTransform(),n=!0;for(e=0;e<this.mesh.boneAabb.length;e++)i[e]&&(_t.setFromTransformedAabb(this.mesh.boneAabb[e],this.skinInstance.matrices[e]),n?(n=!1,pt.center.copy(_t.center),pt.halfExtents.copy(_t.halfExtents)):pt.add(_t));this._aabb.setFromTransformedAabb(pt,r)}else this.node._aabbVer!==this._aabbVer&&(this.mesh?(pt.center.copy(this.mesh.aabb.center),pt.halfExtents.copy(this.mesh.aabb.halfExtents)):(pt.center.set(0,0,0),pt.halfExtents.set(0,0,0)),this.mesh&&this.mesh.morph&&pt._expand(this.mesh.morph.aabb.getMin(),this.mesh.morph.aabb.getMax()),this._aabb.setFromTransformedAabb(pt,this.node.getWorldTransform()),this._aabbVer=this.node._aabbVer);return this._aabb},set:function(e){this._aabb=e}}),Object.defineProperty(bt.prototype,"material",{get:function(){return this._material},set:function(e){var t;for(t=0;t<this._shader.length;t++)this._shader[t]=null;if(this._material){var i=this._material.meshInstances;-1!==(t=i.indexOf(this))&&i.splice(t,1)}var r=this._material;if(this._material=e,this._material&&(this._material.meshInstances.push(this),this.updateKey(),(r&&3!==r.blendType)!==(3!==this._material.blendType))){var n=this._material._scene;!n&&r&&r._scene&&(n=r._scene),n?n.layers._dirtyBlend=!0:this._material._dirtyBlend=!0}}}),Object.defineProperty(bt.prototype,"layer",{get:function(){return this._layer},set:function(e){this._layer=e,this.updateKey()}}),Object.defineProperty(bt.prototype,"calculateSortDistance",{get:function(){return this._calculateSortDistance},set:function(e){this._calculateSortDistance=e}}),Object.defineProperty(bt.prototype,"receiveShadow",{get:function(){return this._receiveShadow},set:function(e){this._receiveShadow=e,this._shaderDefs=e?-2&this._shaderDefs:1|this._shaderDefs,this._shader[0]=null,this._shader[1]=null}}),Object.defineProperty(bt.prototype,"skinInstance",{get:function(){return this._skinInstance},set:function(e){this._skinInstance=e,this._shaderDefs=e?2|this._shaderDefs:-3&this._shaderDefs;for(var t=0;t<this._shader.length;t++)this._shader[t]=null}}),Object.defineProperty(bt.prototype,"morphInstance",{get:function(){return this._morphInstance},set:function(e){this._morphInstance=e,this._morphInstance&&(this._morphInstance.meshInstance=this),this._shaderDefs=e&&e.morph.useTextureMorph?4096|this._shaderDefs:-4097&this._shaderDefs,this._shaderDefs=e&&e.morph.morphPositions?1024|this._shaderDefs:-1025&this._shaderDefs,this._shaderDefs=e&&e.morph.morphNormals?2048|this._shaderDefs:-2049&this._shaderDefs;for(var t=0;t<this._shader.length;t++)this._shader[t]=null}}),Object.defineProperty(bt.prototype,"screenSpace",{get:function(){return this._screenSpace},set:function(e){this._screenSpace=e,this._shaderDefs=e?256|this._shaderDefs:-257&this._shaderDefs,this._shader[0]=null}}),Object.defineProperty(bt.prototype,"key",{get:function(){return this._key[0]},set:function(e){this._key[0]=e}}),Object.defineProperty(bt.prototype,"mask",{get:function(){return this._shaderDefs>>16},set:function(e){var t=65535&this._shaderDefs;this._shaderDefs=t|e<<16,this._shader[0]=null,this._shader[1]=null}}),Object.defineProperty(bt.prototype,"instancingCount",{get:function(){return this.instancingData?this.instancingData.count:0},set:function(e){this.instancingData&&(this.instancingData.count=e)}}),Object.assign(bt.prototype,{syncAabb:function(){},_isVisible:function(e){if(this.visible){if(this.isVisibleFunc)return this.isVisibleFunc(e);var t=this.aabb.center;return this._aabb._radiusVer!==this._aabbVer&&(this._aabb._radius=this._aabb.halfExtents.length(),this._aabb._radiusVer=this._aabbVer),mt.radius=this._aabb._radius,mt.center=t,e.frustum.containsSphere(mt)}return!1},updateKey:function(){var e=this.material;this._key[0]=yt(this.layer,e.alphaToCoverage||e.alphaTest?2:e.blendType,!1,e.id)},setInstancing:function(e){e?(this.instancingData=new vt(e.numVertices),this.instancingData.vertexBuffer=e,e.instancing=!0,this.cull=!1):(this.instancingData=null,this.cull=!0)},clearParameters:function(){this.parameters={}},getParameters:function(){return this.parameters},getParameter:function(e){return this.parameters[e]},setParameter:function(e,t,i){if(void 0===i&&(i=-524285),void 0===t&&"object"===typeof e){var r=e;if(r.length){for(var n=0;n<r.length;n++)this.setParameter(r[n]);return}e=r.name,t=r.value}var a=this.parameters[e];a?(a.data=t,a.passFlags=i):this.parameters[e]={scopeId:null,data:t,passFlags:i}},deleteParameter:function(e){this.parameters[e]&&delete this.parameters[e]},setParameters:function(e,t){var i,r=this.parameters;for(var n in r)(i=r[n]).passFlags&t&&(i.scopeId||(i.scopeId=e.scope.resolve(n)),i.scopeId.setValue(i.data))}}),Object.defineProperty(At.prototype,"key",{get:function(){return this._key[0]},set:function(e){this._key[0]=e}}),Object.defineProperties(gt,{FORMAT_FLOAT:{value:0},FORMAT_HALF_FLOAT:{value:1}}),Object.defineProperties(gt.prototype,{morphPositions:{get:function(){return this._morphPositions}},morphNormals:{get:function(){return this._morphNormals}},maxActiveTargets:{get:function(){return this._useTextureMorph?this._targets.length:this._morphPositions&&this._morphNormals?4:8}},useTextureMorph:{get:function(){return this._useTextureMorph}}}),Object.assign(gt.prototype,{_init:function(){var e;if(this._useTextureMorph&&(this._useTextureMorph=this._initTextureBased()),!this._useTextureMorph)for(e=0;e<this._targets.length;e++)this._targets[e]._initVertexBuffers(this.device);for(e=0;e<this._targets.length;e++)this._targets[e]._postInit()},_initTextureBased:function(){var e,t,i,r=[],n=[];for(t=0;t<this._targets.length;t++)(e=this._targets[t]).options.deltaPositions&&(r.push(e.options.deltaPositions),n.push({target:e,name:"texturePositions"})),e.options.deltaNormals&&(r.push(e.options.deltaNormals),n.push({target:e,name:"textureNormals"}));var a,s,o=[],l=[],c=1,f=r[0].length;for(i=0;i<f;i+=3){for(a=!1,t=0;t<r.length;t++)if(0!==(s=r[t])[i]||0!==s[i+1]||0!==s[i+2]){a=!0;break}a?(o.push(c),l.push(i/3),c++):o.push(0)}var h=Math.min(this.device.maxTextureSize,4096),u=Math.ceil(Math.sqrt(c));u=Math.min(u,h);var d=Math.ceil(c/u);if(d>h)return!1;this.morphTextureWidth=u,this.morphTextureHeight=d;var p=!1,_=3,m=A.float2Half;this._textureFormat===gt.FORMAT_HALF_FLOAT&&(p=!0,_=4);var b=this.morphTextureWidth*this.morphTextureHeight*_,v=p?new Uint16Array(b):new Float32Array(b);for(t=0;t<r.length;t++){for(s=r[t],i=0;i<l.length;i++){var y=l[i];p?(v[i*_+_]=m(s[3*y]),v[i*_+_+1]=m(s[3*y+1]),v[i*_+_+2]=m(s[3*y+2])):(v[i*_+_]=s[3*y],v[i*_+_+1]=s[3*y+1],v[i*_+_+2]=s[3*y+2])}e=n[t].target;var g=this._textureFormat===gt.FORMAT_FLOAT?13:12;e._setTexture(n[t].name,this._createTexture("MorphTarget",g,v))}var k=[{semantic:"ATTR15",components:1,type:6}];return this.vertexBufferIds=new fe(this.device,new ue(this.device,k),o.length,0,new Float32Array(o)),!0},destroy:function(){this.vertexBufferIds&&(this.vertexBufferIds.destroy(),this.vertexBufferIds=null);for(var e=0;e<this._targets.length;e++)this._targets[e].destroy();this._targets.length=0},getTarget:function(e){return this._targets[e]},_updateMorphFlags:function(){var e;this._morphPositions=!1,this._morphNormals=!1;for(var t=0;t<this._targets.length;t++)(e=this._targets[t]).morphPositions&&(this._morphPositions=!0),e.morphNormals&&(this._morphNormals=!0)},_calculateAabb:function(){var e;this.aabb=new W(new I(0,0,0),new I(0,0,0));for(var t=0;t<this._targets.length;t++)e=this._targets[t],this.aabb._expand(e.aabb.getMin(),e.aabb.getMax())},_createTexture:function(e,t,i){var r=new nt(this.device,{width:this.morphTextureWidth,height:this.morphTextureHeight,format:t,cubemap:!1,mipmaps:!1,minFilter:0,magFilter:0,addressU:1,addressV:1});return r.name=e,i&&(r.lock().set(i),r.unlock()),r}}),Object.assign(kt.prototype,{destroy:function(){this.meshInstance=null,this.shader=null,this.morph&&(this.morph.destroy(),this.morph=null),this.rtPositions&&(this.rtPositions.destroy(),this.rtPositions=null),this.texturePositions&&(this.texturePositions.destroy(),this.texturePositions=null),this.rtNormals&&(this.rtNormals.destroy(),this.rtNormals=null),this.textureNormals&&(this.textureNormals.destroy(),this.textureNormals=null)},getWeight:function(e){return this._weights[e]},setWeight:function(e,t){this._weights[e]=t,this._dirty=!0},_getFragmentShader:function(e){var t,i="";for(e>0&&(i+="varying vec2 uv0;\nuniform highp float morphFactor["+e+"];\n"),t=0;t<e;t++)i+="uniform highp sampler2D morphBlendTex"+t+";\n";for(i+="void main (void) {\n\thighp vec4 color = vec4(0, 0, 0, 1);\n",t=0;t<e;t++)i+="\tcolor.xyz += morphFactor["+t+"] * texture2D(morphBlendTex"+t+", uv0).xyz;\n";return i+="\tgl_FragColor = color;\n}\n"},_getShader:function(e){var t=this.shaderCache[e];if(!t){var i=this._getFragmentShader(e);t=We(this.device,"attribute vec2 vertex_position;\nvarying vec2 uv0;\nvoid main(void) {\n\tgl_Position = vec4(vertex_position, 0.5, 1.0);\n\tuv0 = vertex_position.xy * 0.5 + 0.5;\n}\n",i,"textureMorph"+e),this.shaderCache[e]=t}return t},_updateTextureRenderTarget:function(e,t){for(var i=this.device,r=function(t,r){this.morphFactor.setValue(this._shaderMorphWeights),i.setBlending(r),r&&(i.setBlendFunction(1,1),i.setBlendEquation(0));var n=this._getShader(t);Pe(i,e,n,void 0,void 0,r)}.bind(this),n=0,a=!1,s=this._activeTargets.length,o=0;o<s;o++){var l=this._activeTargets[o],c=l.target[t];c&&(this["morphBlendTex"+n].setValue(c),this._shaderMorphWeights[n]=l.weight,++n>=this.maxSubmitCount&&(r(n,a),n=0,a=!0))}(n>0||0===s&&!this.zeroTextures)&&r(n,a)},_updateTextureMorph:function(){this.device,(this._activeTargets.length>0||!this.zeroTextures)&&(this._updateTextureRenderTarget(this.rtPositions,"texturePositions"),this._updateTextureRenderTarget(this.rtNormals,"textureNormals"),this.zeroTextures=0===this._activeTargets.length)},_updateVertexMorph:function(){var e,t=this.maxSubmitCount;for(e=0;e<t;e++)this._shaderMorphWeights[e]=0,this._activeVertexBuffers[e]=null;var i,r=0,n=this.morph.morphPositions?4:0;for(e=0;e<this._activeTargets.length;e++)(i=this._activeTargets[e].target)._vertexBufferPositions&&(this._activeVertexBuffers[r]=i._vertexBufferPositions,this._shaderMorphWeights[r]=this._activeTargets[e].weight,r++),i._vertexBufferNormals&&(this._activeVertexBuffers[n]=i._vertexBufferNormals,this._shaderMorphWeights[n]=this._activeTargets[e].weight,n++)},update:function(){this._dirty=!1;var e,t,i,r=this.morph._targets,n=0;for(t=0;t<r.length;t++)(i=Math.abs(this.getWeight(t)))>1e-5&&(this._activeTargets.length<=n&&(this._activeTargets[n]={}),(e=this._activeTargets[n++]).absWeight=i,e.weight=this.getWeight(t),e.target=r[t]);this._activeTargets.length=n;var a=this.morph.maxActiveTargets;this._activeTargets.length>a&&(this._activeTargets.sort((function(e,t){return e.absWeight<t.absWeight?1:t.absWeight<e.absWeight?-1:0})),this._activeTargets.length=a),this.morph.useTextureMorph?this._updateTextureMorph():this._updateVertexMorph()}});var xt=new N;function St(e){this._dirty=!0,e&&this.initSkin(e)}function Tt(){this.graph=null,this.meshInstances=[],this.skinInstances=[],this.morphInstances=[],this.cameras=[],this.lights=[],this._shadersVersion=0,this._immutable=!1}function wt(e,t,i){this.origMeshInstances=e,this._aabb=new W,this.meshInstance=null,this.model=null,this.dynamic=t,this.batchGroupId=i,this.refCounter=0}function Et(e,t,i,r,n){this.dynamic=i,this.maxAabbSize=r,this.id=e,this.name=t,this.layers=void 0===n?[0]:n,this._ui=!1,this._sprite=!1,this._obj={model:[],element:[],sprite:[]}}function Mt(e,t,i){St.call(this);var r=t.length;St.prototype.init.call(this,e,r),this.device=e,this.rootNode=i,this.bones=t}function Pt(e,t,i){this.device=e,this.rootNode=t,this.scene=i,this._init=!1,this._batchGroups={},this._batchGroupCounter=0,this._batchList=[],this._dirtyGroups=[]}function Rt(e,t){if(e&&!t)return!1;if(!e&&t)return!1;if((e=e.data)===(t=t.data))return!0;if(e instanceof Float32Array&&t instanceof Float32Array){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}return!1}function Ct(e,t){var i;for(i in e)if(e.hasOwnProperty(i)&&!Rt(e[i],t[i]))return!1;for(i in t)if(t.hasOwnProperty(i)&&!Rt(t[i],e[i]))return!1;return!0}function Ot(e,t){var i;for(i=0;i<e.length;i++)if(t.indexOf(e[i])<0)return!1;for(i=0;i<t.length;i++)if(e.indexOf(t[i])<0)return!1;return!0}Object.assign(St.prototype,{init:function(e,t){if(e.supportsBoneTextures){var i=3*t,r=Math.ceil(Math.sqrt(i));r=A.roundUp(r,3);var n=Math.ceil(i/r);this.boneTexture=new nt(e,{width:r,height:n,format:14,mipmaps:!1,minFilter:0,magFilter:0}),this.boneTexture.name="skin",this.matrixPalette=this.boneTexture.lock()}else this.matrixPalette=new Float32Array(12*t)},initSkin:function(e){this.skin=e,this.bones=[];var t=e.inverseBindPose.length;this.init(e.device,t),this.matrices=[];for(var i=0;i<t;i++)this.matrices[i]=new N},uploadBones:function(e){e.supportsBoneTextures&&(this.boneTexture.lock(),this.boneTexture.unlock())},updateMatrices:function(e){xt.copy(e.getWorldTransform()).invert();for(var t=this.bones.length-1;t>=0;t--)this.matrices[t].mulAffine2(xt,this.bones[t].getWorldTransform()),this.matrices[t].mulAffine2(this.matrices[t],this.skin.inverseBindPose[t])},updateMatrixPalette:function(){for(var e,t,i=this.matrixPalette,r=this.bones.length,n=0;n<r;n++)e=this.matrices[n].data,i[t=12*n]=e[0],i[t+1]=e[4],i[t+2]=e[8],i[t+3]=e[12],i[t+4]=e[1],i[t+5]=e[5],i[t+6]=e[9],i[t+7]=e[13],i[t+8]=e[2],i[t+9]=e[6],i[t+10]=e[10],i[t+11]=e[14];this.uploadBones(this.skin.device)}}),Object.assign(Tt.prototype,{getGraph:function(){return this.graph},setGraph:function(e){this.graph=e},getCameras:function(){return this.cameras},setCameras:function(e){this.cameras=e},getLights:function(){return this.lights},setLights:function(e){this.lights=e},getMaterials:function(){var e,t=[];for(e=0;e<this.meshInstances.length;e++){var i=this.meshInstances[e];-1===t.indexOf(i.material)&&t.push(i.material)}return t},clone:function(){var e,t,i=[],r=[],n=function e(t){var n=t.clone();i.push(t),r.push(n);for(var a=0;a<t._children.length;a++)n.addChild(e(t._children[a]));return n}(this.graph),a=[],s=[],o=[];for(e=0;e<this.skinInstances.length;e++){var l=this.skinInstances[e].skin,c=new St(l),f=[];for(t=0;t<l.boneNames.length;t++){var h=l.boneNames[t],u=n.findByName(h),d=null===u?this.skinInstances[e].bones[t]:u;f.push(d)}c.bones=f,s.push(c)}for(e=0;e<this.morphInstances.length;e++){var p=new kt(this.morphInstances[e].morph);o.push(p)}for(e=0;e<this.meshInstances.length;e++){var _=this.meshInstances[e],m=i.indexOf(_.node),b=new bt(r[m],_.mesh,_.material);if(_.skinInstance){var A=this.skinInstances.indexOf(_.skinInstance);b.skinInstance=s[A]}if(_.morphInstance){var v=this.morphInstances.indexOf(_.morphInstance);b.morphInstance=o[v]}a.push(b)}var y=new Tt;return y.graph=n,y.meshInstances=a,y.skinInstances=s,y.morphInstances=o,y.getGraph().syncHierarchy(),y},destroy:function(){for(var e,t,i,r,n,a=this.meshInstances,s=0;s<a.length;s++)(t=(e=a[s]).mesh)&&(e.mesh=null,t.refCount<1&&t.destroy()),(i=e.skinInstance)&&(n=i.boneTexture)&&n.destroy(),e.skinInstance=null,(r=e.morphInstance)&&r.destroy(),e.morphInstance=null,e.material=null},generateWireframe:function(){var e,t,i=[];for(e=0;e<this.meshInstances.length;e++)t=this.meshInstances[e].mesh,-1===i.indexOf(t)&&i.push(t);for(e=0;e<i.length;++e)(t=i[e]).primitive[1]||t.generateWireframe()}}),Et.MODEL="model",Et.ELEMENT="element",Et.SPRITE="sprite",Mt.prototype=Object.create(Mt.prototype),Mt.prototype.constructor=Mt,Object.assign(Mt.prototype,{updateMatrices:function(e){},updateMatrixPalette:function(){for(var e,t,i=this.matrixPalette,r=this.bones.length,n=0;n<r;n++)e=this.bones[n].getWorldTransform().data,i[t=12*n]=e[0],i[t+1]=e[4],i[t+2]=e[8],i[t+3]=e[12],i[t+4]=e[1],i[t+5]=e[5],i[t+6]=e[9],i[t+7]=e[13],i[t+8]=e[2],i[t+9]=e[6],i[t+10]=e[10],i[t+11]=e[14];St.prototype.uploadBones.call(this,this.device)}}),Pt.prototype.destroyManager=function(){this.device=null,this.rootNode=null,this.scene=null,this._batchGroups={},this._batchList=[],this._dirtyGroups=[]},Pt.prototype.addGroup=function(e,t,i,r,n){var a;if(void 0===r&&(r=this._batchGroupCounter,this._batchGroupCounter++),!this._batchGroups[r])return this._batchGroups[r]=a=new Et(r,e,t,i,n),a},Pt.prototype.removeGroup=function(e){if(this._batchGroups[e]){for(var t=[],i=0;i<this._batchList.length;i++)this._batchList[i].batchGroupId===e?this.destroy(this._batchList[i]):t.push(this._batchList[i]);this._batchList=t,this._removeModelsFromBatchGroup(this.rootNode,e),delete this._batchGroups[e]}},Pt.prototype.markGroupDirty=function(e){this._dirtyGroups.indexOf(e)<0&&this._dirtyGroups.push(e)},Pt.prototype.getGroupByName=function(e){var t=this._batchGroups;for(var i in t)if(t.hasOwnProperty(i)&&t[i].name===e)return t[i];return null},Pt.prototype.getBatches=function(e){for(var t=[],i=this._batchList.length,r=0;r<i;r++){var n=this._batchList[r];n.batchGroupId===e&&t.push(n)}return t},Pt.prototype._removeModelsFromBatchGroup=function(e,t){if(e.enabled){e.model&&e.model.batchGroupId===t&&(e.model.batchGroupId=-1),e.element&&e.element.batchGroupId===t&&(e.element.batchGroupId=-1),e.sprite&&e.sprite.batchGroupId===t&&(e.sprite.batchGroupId=-1);for(var i=0;i<e._children.length;i++)this._removeModelsFromBatchGroup(e._children[i],t)}},Pt.prototype.insert=function(e,t,i){var r=this._batchGroups[t];r&&r._obj[e].indexOf(i)<0&&(r._obj[e].push(i),this.markGroupDirty(t))},Pt.prototype.remove=function(e,t,i){var r=this._batchGroups[t];if(r){var n=r._obj[e].indexOf(i);n>=0&&(r._obj[e].splice(n,1),this.markGroupDirty(t))}},Pt.prototype._extractModel=function(e,t,i,r){if(!e.model||!e.model.model)return t;var n;if(e.model.isStatic){var a=this.scene.drawCalls,s=e.model.meshInstances;for(n=0;n<a.length;n++)a[n]._staticSource&&(s.indexOf(a[n]._staticSource)<0||t.push(a[n]));for(n=0;n<s.length;n++)a.indexOf(s[n])>=0&&t.push(s[n])}else t=r[e.model.batchGroupId]=t.concat(e.model.meshInstances);return e.model.removeModelFromLayers(),t},Pt.prototype._extractElement=function(e,t,i){if(e.element){var r=!1;e.element._text&&e.element._text._model.meshInstances.length>0?(t.push(e.element._text._model.meshInstances[0]),e.element.removeModelFromLayers(e.element._text._model),r=!0):e.element._image&&(t.push(e.element._image._renderable.meshInstance),e.element.removeModelFromLayers(e.element._image._renderable.model),e.element._image._renderable.unmaskMeshInstance&&(t.push(e.element._image._renderable.unmaskMeshInstance),e.element._image._renderable.unmaskMeshInstance.stencilFront&&e.element._image._renderable.unmaskMeshInstance.stencilBack||(e.element._dirtifyMask(),e.element._onPrerender())),r=!0),r&&(i._ui=!0)}},Pt.prototype._collectAndRemoveModels=function(e,t){for(var i,r,n,a,s=0;s<t.length;s++)if(a=t[s],r=this._batchGroups[a]){(n=e[a])||(n=e[a]=[]);for(var o=0;o<r._obj.model.length;o++)n=this._extractModel(r._obj.model[o],n,r,e);for(var l=0;l<r._obj.element.length;l++)this._extractElement(r._obj.element[l],n,r);for(var c=0;c<r._obj.sprite.length;c++)(i=r._obj.sprite[c]).sprite&&i.sprite._meshInstance&&(r.dynamic||0===i.sprite.sprite._renderMode)&&(n.push(i.sprite._meshInstance),i.sprite.removeModelFromLayers(),r._sprite=!0,i.sprite._batchGroup=r)}},Pt.prototype.generate=function(e){var t,i,r={};e||(e=Object.keys(this._batchGroups));var n,a,s,o,l=[];for(t=0;t<this._batchList.length;t++)e.indexOf(this._batchList[t].batchGroupId)<0?l.push(this._batchList[t]):this.destroy(this._batchList[t]);if(this._batchList=l,this._collectAndRemoveModels(r,e),e===this._dirtyGroups)this._dirtyGroups.length=0;else{var c=[];for(t=0;t<this._dirtyGroups.length;t++)e.indexOf(this._dirtyGroups[t])<0&&c.push(this._dirtyGroups[t]);this._dirtyGroups=c}for(var f in r)if(r.hasOwnProperty(f)&&(n=r[f],s=this._batchGroups[f]))for(a=this.prepare(n,s.dynamic,s.maxAabbSize,s._ui||s._sprite),t=0;t<a.length;t++)if(o=this.create(a[t],s.dynamic,parseInt(f,10)))for(i=0;i<s.layers.length;i++){var h=this.scene.layers.getLayerById(s.layers[i]);h&&h.addMeshInstances(o.model.meshInstances)}};var It=new I,Dt=new I,Ft=new I;function Nt(e){var t=e.node.worldTransform;return t.getX(It),t.getY(Dt),t.getZ(Ft),It.cross(It,Dt),It.dot(Ft)>=0?1:-1}Pt.prototype.prepare=function(e,t,i,r){if(0===e.length)return[];void 0===i&&(i=Number.POSITIVE_INFINITY);var n,a,s,o,l,c,f,h,u,d,p,_,m,b,A,v=.5*i,y=this.device.supportsBoneTextures?1024:this.device.boneLimit,g=this.device.extUintElement?4294967295:65535,k=new W,x=new W,S=null,T=[],w=0;r&&e.sort((function(e,t){return e.drawOrder-t.drawOrder}));for(var E,M=e,P=r?function(e){S?S.add(e.aabb):S=e.aabb.clone(),E.push(e)}:function(e){E.push(e)};M.length>0;){for(T[w]=[M[0]],E=[],n=M[0].material,a=M[0].layer,c=M[0]._shaderDefs,o=M[0].parameters,f=M[0].stencilFront,l=M[0]._staticLightList,s=M[0].mesh.vertexBuffer.getNumVertices(),d=M[0].drawOrder,k.copy(M[0].aabb),u=Nt(M[0]),_=M[0].mesh.vertexBuffer.format.batchingHash,p=M[0].mesh.primitive[0].indexed,S=null,A=1;A<M.length;A++){if(m=M[A],t&&T[w].length>=y){E=E.concat(M.slice(A));break}if(n!==m.material||a!==m.layer||_!==m.mesh.vertexBuffer.format.batchingHash||p!==m.mesh.primitive[0].indexed||c!==m._shaderDefs||s+m.mesh.vertexBuffer.getNumVertices()>g)P(m);else if(x.copy(k),x.add(m.aabb),x.halfExtents.x>v||x.halfExtents.y>v||x.halfExtents.z>v)P(m);else if(!f||(b=m.stencilFront)&&f.func==b.func&&f.zpass==b.zpass)if(u==Nt(m))if(Ct(o,m.parameters)){if(h=m._staticLightList,l&&h){if(!Ot(l,h)){P(m);continue}}else if(l||h){P(m);continue}r&&S&&S.intersects(m.aabb)&&m.drawOrder!==d?P(m):(k.add(m.aabb),s+=m.mesh.vertexBuffer.getNumVertices(),T[w].push(m))}else P(m);else P(m);else P(m)}w++,M=E}return T},Pt.prototype.create=function(e,t,i){if(!this._init){var r="#define BONE_LIMIT "+this.device.getBoneLimit()+"\n";this.transformVS=r+"#define DYNAMICBATCH\n"+Ce.transformVS,this.skinTexVS=Ce.skinBatchTexVS,this.skinConstVS=Ce.skinBatchConstVS,this.vertexFormats={},this._init=!0}var n,a,s,o,l,c,f,h=null,u=null,d=0,p=0,_=null;for(n=0;n<e.length;n++)if(e[n].visible&&(d+=f=(l=e[n].mesh).vertexBuffer.numVertices,p+=l.primitive[0].indexed?l.primitive[0].count:6==l.primitive[0].type&&4===l.primitive[0].count?6:0,!h)){for(u=e[n].material,h={},c=l.vertexBuffer.format.elements,a=0;a<c.length;a++)h[o=c[a].name]={numComponents:c[a].numComponents,dataType:c[a].dataType,normalize:c[a].normalize,count:0};t&&(h.BLENDINDICES={numComponents:1,dataType:6,normalize:!1,count:0})}if(h){var m,b,A;_=new wt(e,t,i),this._batchList.push(_);var v,y=0,g=0,k=new I,x=new(d<=65535?Uint16Array:Uint32Array)(p);for(o in h)(s=h[o]).typeArrayType=ne[s.dataType],s.elementByteSize=ae[s.dataType],s.buffer=new s.typeArrayType(d*s.numComponents);for(n=0;n<e.length;n++)if(e[n].visible){for(o in f=(l=e[n].mesh).vertexBuffer.numVertices,t||(v=e[n].node.getWorldTransform()),h)if("BLENDINDICES"!==o){var S=new(s=h[o]).typeArrayType(s.buffer.buffer,s.elementByteSize*s.count),T=l.getVertexStream(o,S)*s.numComponents;if(s.count+=T,!t&&s.numComponents>=3&&("POSITION"==o||"NORMAL"==o||"TANGENT"==o))for(v.transformFunction="POSITION"==o?N.prototype.transformPoint:N.prototype.transformVector,a=0;a<T;a+=s.numComponents)k.set(S[a],S[a+1],S[a+2]),v.transformFunction(k,k),S[a]=k.x,S[a+1]=k.y,S[a+2]=k.z}if(t)for(s=h.BLENDINDICES,a=0;a<f;a++)s.buffer[s.count++]=n;if(l.primitive[0].indexed){m=l.primitive[0].base,b=l.primitive[0].count;var w=l.indexBuffer[0].getFormat();A=new oe[w](l.indexBuffer[0].storage)}else{if(6!=l.primitive[0].type||4!==l.primitive[0].count){b=0;continue}m=0,b=6,A=[0,1,3,2,3,1]}for(a=0;a<b;a++)x[a+g]=A[m+a]+y;g+=b,y+=f}for(o in l=new dt(this.device),h)s=h[o],l.setVertexStream(o,s.buffer,s.numComponents,void 0,s.dataType,s.normalize);x.length>0&&l.setIndices(x),l.update(4,!1),t&&((u=u.clone()).chunks.transformVS=this.transformVS,u.chunks.skinTexVS=this.skinTexVS,u.chunks.skinConstVS=this.skinConstVS,u.update());var E=new bt(this.rootNode,l,u);E.castShadow=_.origMeshInstances[0].castShadow,E.parameters=_.origMeshInstances[0].parameters,E.isStatic=_.origMeshInstances[0].isStatic,E.layer=_.origMeshInstances[0].layer,E._staticLightList=_.origMeshInstances[0]._staticLightList,E._shaderDefs=_.origMeshInstances[0]._shaderDefs,E.cull=_.origMeshInstances[0].cull;var M=this._batchGroups[i];if(M&&M._ui&&(E.cull=!1),t){var P=[];for(n=0;n<_.origMeshInstances.length;n++)P.push(_.origMeshInstances[n].node);E.skinInstance=new Mt(this.device,P,this.rootNode)}E._updateAabb=!1,E.drawOrder=_.origMeshInstances[0].drawOrder,E.stencilFront=_.origMeshInstances[0].stencilFront,E.stencilBack=_.origMeshInstances[0].stencilBack,E.flipFaces=Nt(_.origMeshInstances[0])<0,_.meshInstance=E,this.update(_);var R=new Tt;R.meshInstances=[_.meshInstance],R.castShadows=_.origMeshInstances[0].castShadows,_.model=R}return _},Pt.prototype.update=function(e){e._aabb.copy(e.origMeshInstances[0].aabb);for(var t=1;t<e.origMeshInstances.length;t++)e._aabb.add(e.origMeshInstances[t].aabb);e.meshInstance.aabb=e._aabb,e._aabb._radiusVer=-1,e.meshInstance._aabbVer=0},Pt.prototype.updateAll=function(){this._dirtyGroups.length>0&&this.generate(this._dirtyGroups);for(var e=0;e<this._batchList.length;e++)this._batchList[e].dynamic&&this.update(this._batchList[e])},Pt.prototype.clone=function(e,t){var i=new wt(t,e.dynamic,e.batchGroupId);this._batchList.push(i);for(var r=[],n=0;n<t.length;n++)r.push(t[n].node);i.meshInstance=new bt(e.meshInstance.node,e.meshInstance.mesh,e.meshInstance.material),i.meshInstance._updateAabb=!1,i.meshInstance.parameters=t[0].parameters,i.meshInstance.isStatic=t[0].isStatic,i.meshInstance.cull=t[0].cull,i.meshInstance.layer=t[0].layer,i.meshInstance._staticLightList=t[0]._staticLightList,e.dynamic&&(i.meshInstance.skinInstance=new Mt(this.device,r,this.rootNode)),i.meshInstance.castShadow=e.meshInstance.castShadow,i.meshInstance._shader=e.meshInstance._shader;var a=new Tt;return a.meshInstances=[i.meshInstance],a.castShadows=e.origMeshInstances[0].castShadows,i.model=a,i},Pt.prototype.destroy=function(e){if(e.refCounter=0,e.model){for(var t=this._batchGroups[e.batchGroupId].layers,i=0;i<t.length;i++){var r=this.scene.layers.getLayerById(t[i]);r&&r.removeMeshInstances(e.model.meshInstances)}e.model.destroy()}},Pt.prototype.decrement=function(e){e.refCounter--,0===e.refCounter&&this.destroy(e)};var Bt=new I,Lt=new I,Ut=new I,Vt=new N;function zt(){this._aspectRatio=16/9,this._aspectRatioMode=0,this._calculateProjection=null,this._calculateTransform=null,this._clearColor=new v(.75,.75,.75,1),this._clearColorBuffer=!0,this._clearDepth=1,this._clearDepthBuffer=!0,this._clearStencil=0,this._clearStencilBuffer=!0,this._cullingMask=4294967295,this._cullFaces=!0,this._farClip=1e3,this._flipFaces=!1,this._fov=45,this._frustumCulling=!0,this._horizontalFov=!1,this._layers=[0,1,2,4,3],this._nearClip=.1,this._node=null,this._orthoHeight=10,this._projection=0,this._rect=new D(0,0,1,1),this._renderTarget=null,this._scissorRect=new D(0,0,1,1),this._vrDisplay=null,this._projMat=new N,this._projMatDirty=!0,this._projMatSkybox=new N,this._viewMat=new N,this._viewMatDirty=!0,this._viewProjMat=new N,this._viewProjMatDirty=!0,this.frustum=new Q}Object.defineProperty(zt.prototype,"aspectRatio",{get:function(){return this._aspectRatio},set:function(e){this._aspectRatio!==e&&(this._aspectRatio=e,this._projMatDirty=!0)}}),Object.defineProperty(zt.prototype,"aspectRatioMode",{get:function(){return this._aspectRatioMode},set:function(e){this._aspectRatioMode!==e&&(this._aspectRatioMode=e,this._projMatDirty=!0)}}),Object.defineProperty(zt.prototype,"calculateProjection",{get:function(){return this._calculateProjection},set:function(e){this._calculateProjection=e,this._projMatDirty=!0}}),Object.defineProperty(zt.prototype,"calculateTransform",{get:function(){return this._calculateTransform},set:function(e){this._calculateTransform=e}}),Object.defineProperty(zt.prototype,"clearColor",{get:function(){return this._clearColor},set:function(e){this._clearColor.copy(e)}}),Object.defineProperty(zt.prototype,"clearColorBuffer",{get:function(){return this._clearColorBuffer},set:function(e){this._clearColorBuffer=e}}),Object.defineProperty(zt.prototype,"clearDepth",{get:function(){return this._clearDepth},set:function(e){this._clearDepth=e}}),Object.defineProperty(zt.prototype,"clearDepthBuffer",{get:function(){return this._clearDepthBuffer},set:function(e){this._clearDepthBuffer=e}}),Object.defineProperty(zt.prototype,"clearStencil",{get:function(){return this._clearStencil},set:function(e){this._clearStencil=e}}),Object.defineProperty(zt.prototype,"clearStencilBuffer",{get:function(){return this._clearStencilBuffer},set:function(e){this._clearStencilBuffer=e}}),Object.defineProperty(zt.prototype,"cullingMask",{get:function(){return this._cullingMask},set:function(e){this._cullingMask=e}}),Object.defineProperty(zt.prototype,"cullFaces",{get:function(){return this._cullFaces},set:function(e){this._cullFaces=e}}),Object.defineProperty(zt.prototype,"farClip",{get:function(){return this._farClip},set:function(e){this._farClip!==e&&(this._farClip=e,this._projMatDirty=!0)}}),Object.defineProperty(zt.prototype,"flipFaces",{get:function(){return this._flipFaces},set:function(e){this._flipFaces=e}}),Object.defineProperty(zt.prototype,"fov",{get:function(){return this._fov},set:function(e){this._fov!==e&&(this._fov=e,this._projMatDirty=!0)}}),Object.defineProperty(zt.prototype,"frustumCulling",{get:function(){return this._frustumCulling},set:function(e){this._frustumCulling=e}}),Object.defineProperty(zt.prototype,"horizontalFov",{get:function(){return this._horizontalFov},set:function(e){this._horizontalFov!==e&&(this._horizontalFov=e,this._projMatDirty=!0)}}),Object.defineProperty(zt.prototype,"layers",{get:function(){return this._layers},set:function(e){this._layers=e.slice(0)}}),Object.defineProperty(zt.prototype,"nearClip",{get:function(){return this._nearClip},set:function(e){this._nearClip!==e&&(this._nearClip=e,this._projMatDirty=!0)}}),Object.defineProperty(zt.prototype,"node",{get:function(){return this._node},set:function(e){this._node=e}}),Object.defineProperty(zt.prototype,"orthoHeight",{get:function(){return this._orthoHeight},set:function(e){this._orthoHeight!==e&&(this._orthoHeight=e,this._projMatDirty=!0)}}),Object.defineProperty(zt.prototype,"projection",{get:function(){return this._projection},set:function(e){this._projection!==e&&(this._projection=e,this._projMatDirty=!0)}}),Object.defineProperty(zt.prototype,"projectionMatrix",{get:function(){return this._evaluateProjectionMatrix(),this._projMat}}),Object.defineProperty(zt.prototype,"rect",{get:function(){return this._rect},set:function(e){this._rect.copy(e)}}),Object.defineProperty(zt.prototype,"renderTarget",{get:function(){return this._renderTarget},set:function(e){this._renderTarget=e}}),Object.defineProperty(zt.prototype,"scissorRect",{get:function(){return this._scissorRect},set:function(e){this._scissorRect.copy(e)}}),Object.defineProperty(zt.prototype,"viewMatrix",{get:function(){if(this._viewMatDirty){var e=this._node.getWorldTransform();this._viewMat.copy(e).invert(),this._viewMatDirty=!1}return this._viewMat}}),Object.defineProperty(zt.prototype,"vrDisplay",{get:function(){return this._vrDisplay},set:function(e){this._vrDisplay=e,e&&(e._camera=this)}}),Object.assign(zt.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.aspectRatio=e.aspectRatio,this.aspectRatioMode=e.aspectRatioMode,this.calculateProjection=e.calculateProjection,this.calculateTransform=e.calculateTransform,this.clearColor=e.clearColor,this.clearColorBuffer=e.clearColorBuffer,this.clearDepth=e.clearDepth,this.clearDepthBuffer=e.clearDepthBuffer,this.clearStencil=e.clearStencil,this.clearStencilBuffer=e.clearStencilBuffer,this.cullFaces=e.cullFaces,this.cullingMask=e.cullingMask,this.farClip=e.farClip,this.flipFaces=e.flipFaces,this.fov=e.fov,this.frustumCulling=e.frustumCulling,this.horizontalFov=e.horizontalFov,this.layers=e.layers,this.nearClip=e.nearClip,this.orthoHeight=e.orthoHeight,this.projection=e.projection,this.rect=e.rect,this.renderTarget=e.renderTarget,this.scissorRect=e.scissorRect,this.vrDisplay=e.vrDisplay},_updateViewProjMat:function(){if(this._projMatDirty||this._viewMatDirty||this._viewProjMatDirty){var e=this.projectionMatrix,t=this.viewMatrix;this._viewProjMat.mul2(e,t),this._viewProjMatDirty=!1}},worldToScreen:function(e,t,i,r){void 0===r&&(r=new I),this._updateViewProjMat(),this._viewProjMat.transformPoint(e,r);var n=this._viewProjMat.data,a=e.x*n[3]+e.y*n[7]+e.z*n[11]+1*n[15];return r.x=.5*(r.x/a+1)*t,r.y=.5*(1-r.y/a)*i,r},screenToWorld:function(e,t,i,r,n,a){void 0===a&&(a=new I);var s=this._farClip-this._nearClip;if(Bt.set(e/r,(n-t)/n,i/s),Bt.scale(2),Bt.sub(I.ONE),0===this._projection){N._getPerspectiveHalfSize(Lt,this._fov,this._aspectRatio,this._nearClip,this._horizontalFov),Lt.x*=Bt.x,Lt.y*=Bt.y;var o=this._node.getWorldTransform();Lt.z=-this._nearClip,o.transformPoint(Lt,Ut);var l=this._node.getPosition();a.sub2(Ut,l),a.normalize(),a.scale(i),a.add(l)}else this._updateViewProjMat(),Vt.copy(this._viewProjMat).invert(),Vt.transformPoint(Bt,a);return a},_evaluateProjectionMatrix:function(){if(this._projMatDirty){if(0===this._projection)this._projMat.setPerspective(this._fov,this._aspectRatio,this._nearClip,this._farClip,this._horizontalFov),this._projMatSkybox.copy(this._projMat);else{var e=this._orthoHeight,t=e*this._aspectRatio;this._projMat.setOrtho(-t,t,-e,e,this._nearClip,this._farClip),this._projMatSkybox.setPerspective(this._fov,this._aspectRatio,this._nearClip,this._farClip)}this._projMatDirty=!1}},getProjectionMatrixSkybox:function(){return this._evaluateProjectionMatrix(),this._projMatSkybox}});var jt,Wt,Gt,Ht,Yt=new N,Xt=new I,Zt=new B,Qt=new B,Jt=new I,qt=new I,Kt=new N,$t=new B;function ei(e){o.call(this),this.name="string"===typeof e?e:"Untitled",this.tags=new k(this),this._labels={},this.localPosition=new I(0,0,0),this.localRotation=new B(0,0,0,1),this.localScale=new I(1,1,1),this.localEulerAngles=new I(0,0,0),this.position=new I(0,0,0),this.rotation=new B(0,0,0,1),this.eulerAngles=new I(0,0,0),this._scale=null,this.localTransform=new N,this._dirtyLocal=!1,this._aabbVer=0,this._frozen=!1,this.worldTransform=new N,this._dirtyWorld=!1,this.normalMatrix=new C,this._dirtyNormal=!0,this._right=null,this._up=null,this._forward=null,this._parent=null,this._children=[],this._graphDepth=0,this._enabled=!0,this._enabledInHierarchy=!1,this.scaleCompensation=!1}ei.prototype=Object.create(o.prototype),ei.prototype.constructor=ei,Object.defineProperty(ei.prototype,"right",{get:function(){return this._right||(this._right=new I),this.getWorldTransform().getX(this._right).normalize()}}),Object.defineProperty(ei.prototype,"up",{get:function(){return this._up||(this._up=new I),this.getWorldTransform().getY(this._up).normalize()}}),Object.defineProperty(ei.prototype,"forward",{get:function(){return this._forward||(this._forward=new I),this.getWorldTransform().getZ(this._forward).normalize().scale(-1)}}),Object.defineProperty(ei.prototype,"enabled",{get:function(){return this._enabled&&this._enabledInHierarchy},set:function(e){this._enabled!==e&&(this._enabled=e,this._parent&&!this._parent.enabled||this._notifyHierarchyStateChanged(this,e))}}),Object.defineProperty(ei.prototype,"parent",{get:function(){return this._parent}}),Object.defineProperty(ei.prototype,"path",{get:function(){var e=this._parent;if(e){for(var t=this.name;e&&e._parent;)t=e.name+"/"+t,e=e._parent;return t}return""}}),Object.defineProperty(ei.prototype,"root",{get:function(){var e=this._parent;if(!e)return this;for(;e._parent;)e=e._parent;return e}}),Object.defineProperty(ei.prototype,"children",{get:function(){return this._children}}),Object.defineProperty(ei.prototype,"graphDepth",{get:function(){return this._graphDepth}}),Object.assign(ei.prototype,{_notifyHierarchyStateChanged:function(e,t){e._onHierarchyStateChanged(t);for(var i=e._children,r=0,n=i.length;r<n;r++)i[r]._enabled&&this._notifyHierarchyStateChanged(i[r],t)},_onHierarchyStateChanged:function(e){this._enabledInHierarchy=e,e&&!this._frozen&&this._unfreezeParentToRoot()},_cloneInternal:function(e){e.name=this.name;for(var t=this.tags._list,i=0;i<t.length;i++)e.tags.add(t[i]);e._labels=Object.assign({},this._labels),e.localPosition.copy(this.localPosition),e.localRotation.copy(this.localRotation),e.localScale.copy(this.localScale),e.localEulerAngles.copy(this.localEulerAngles),e.position.copy(this.position),e.rotation.copy(this.rotation),e.eulerAngles.copy(this.eulerAngles),e.localTransform.copy(this.localTransform),e._dirtyLocal=this._dirtyLocal,e.worldTransform.copy(this.worldTransform),e._dirtyWorld=this._dirtyWorld,e._dirtyNormal=this._dirtyNormal,e._aabbVer=this._aabbVer+1,e._enabled=this._enabled,e.scaleCompensation=this.scaleCompensation,e._enabledInHierarchy=!1},clone:function(){var e=new ei;return this._cloneInternal(e),e},find:function(e,t){var i,r,n=[],a=this._children.length;if(e instanceof Function){var s=e;for(s(this)&&n.push(this),i=0;i<a;i++)(r=this._children[i].find(s)).length&&(n=n.concat(r))}else for(this[e]&&(this[e]instanceof Function?this[e]():this[e])===t&&n.push(this),i=0;i<a;++i)(r=this._children[i].find(e,t)).length&&(n=n.concat(r));return n},findOne:function(e,t){var i,r=this._children.length,n=null;if(e instanceof Function){var a=e;if(n=a(this))return this;for(i=0;i<r;i++)if(n=this._children[i].findOne(a))return n}else{if(this[e]&&(this[e]instanceof Function?this[e]():this[e])===t)return this;for(i=0;i<r;i++)if(null!==(n=this._children[i].findOne(e,t)))return n}return null},findByTag:function(){var e=this.tags._processArguments(arguments);return this._findByTag(e)},_findByTag:function(e){var t,i,r=[],n=this._children.length;for(t=0;t<n;t++)this._children[t].tags._has(e)&&r.push(this._children[t]),(i=this._children[t]._findByTag(e)).length&&(r=r.concat(i));return r},findByName:function(e){if(this.name===e)return this;for(var t=0;t<this._children.length;t++){var i=this._children[t].findByName(e);if(null!==i)return i}return null},findByPath:function(e){for(var t=e.split("/"),i=this,r=null,n=0,a=t.length;n<a&&i;n++){var s=t[n];r=null;for(var o=i._children,l=0,c=o.length;l<c;l++)if(o[l].name==s){r=o[l];break}i=r}return r},forEach:function(e,t){e.call(t,this);for(var i=this._children,r=0;r<i.length;r++)i[r].forEach(e,t)},isDescendantOf:function(e){for(var t=this._parent;t;){if(t===e)return!0;t=t._parent}return!1},isAncestorOf:function(e){return e.isDescendantOf(this)},getEulerAngles:function(){return this.getWorldTransform().getEulerAngles(this.eulerAngles),this.eulerAngles},getLocalEulerAngles:function(){return this.localRotation.getEulerAngles(this.localEulerAngles),this.localEulerAngles},getLocalPosition:function(){return this.localPosition},getLocalRotation:function(){return this.localRotation},getLocalScale:function(){return this.localScale},getLocalTransform:function(){return this._dirtyLocal&&(this.localTransform.setTRS(this.localPosition,this.localRotation,this.localScale),this._dirtyLocal=!1),this.localTransform},getPosition:function(){return this.getWorldTransform().getTranslation(this.position),this.position},getRotation:function(){return this.rotation.setFromMat4(this.getWorldTransform()),this.rotation},getScale:function(){return this._scale||(this._scale=new I),this.getWorldTransform().getScale(this._scale)},getWorldTransform:function(){return this._dirtyLocal||this._dirtyWorld?(this._parent&&this._parent.getWorldTransform(),this._sync(),this.worldTransform):this.worldTransform},reparent:function(e,t){var i=this._parent;i&&i.removeChild(this),e&&(t>=0?e.insertChild(this,t):e.addChild(this))},setLocalEulerAngles:function(e,t,i){e instanceof I?this.localRotation.setFromEulerAngles(e.x,e.y,e.z):this.localRotation.setFromEulerAngles(e,t,i),this._dirtyLocal||this._dirtifyLocal()},setLocalPosition:function(e,t,i){e instanceof I?this.localPosition.copy(e):this.localPosition.set(e,t,i),this._dirtyLocal||this._dirtifyLocal()},setLocalRotation:function(e,t,i,r){e instanceof B?this.localRotation.copy(e):this.localRotation.set(e,t,i,r),this._dirtyLocal||this._dirtifyLocal()},setLocalScale:function(e,t,i){e instanceof I?this.localScale.copy(e):this.localScale.set(e,t,i),this._dirtyLocal||this._dirtifyLocal()},_dirtifyLocal:function(){this._dirtyLocal||(this._dirtyLocal=!0,this._dirtyWorld||this._dirtifyWorld())},_unfreezeParentToRoot:function(){for(var e=this._parent;e;)e._frozen=!1,e=e._parent},_dirtifyWorld:function(){this._dirtyWorld||this._unfreezeParentToRoot(),this._dirtifyWorldInternal()},_dirtifyWorldInternal:function(){if(!this._dirtyWorld){this._frozen=!1,this._dirtyWorld=!0;for(var e=0;e<this._children.length;e++)this._children[e]._dirtyWorld||this._children[e]._dirtifyWorldInternal()}this._dirtyNormal=!0,this._aabbVer++},setPosition:function(){var e=new I,t=new N;return function(i,r,n){i instanceof I?e.copy(i):e.set(i,r,n),null===this._parent?this.localPosition.copy(e):(t.copy(this._parent.getWorldTransform()).invert(),t.transformPoint(e,this.localPosition)),this._dirtyLocal||this._dirtifyLocal()}}(),setRotation:function(){var e=new B,t=new B;return function(i,r,n,a){if(i instanceof B?e.copy(i):e.set(i,r,n,a),null===this._parent)this.localRotation.copy(e);else{var s=this._parent.getRotation();t.copy(s).invert(),this.localRotation.copy(t).mul(e)}this._dirtyLocal||this._dirtifyLocal()}}(),setEulerAngles:function(){var e=new B;return function(t,i,r){if(t instanceof I?this.localRotation.setFromEulerAngles(t.x,t.y,t.z):this.localRotation.setFromEulerAngles(t,i,r),null!==this._parent){var n=this._parent.getRotation();e.copy(n).invert(),this.localRotation.mul2(e,this.localRotation)}this._dirtyLocal||this._dirtifyLocal()}}(),addChild:function(e){if(null!==e._parent)throw new Error("GraphNode is already parented");this._children.push(e),this._onInsertChild(e)},addChildAndSaveTransform:function(e){var t=e.getPosition(),i=e.getRotation(),r=e._parent;r&&r.removeChild(e),e.setPosition(Kt.copy(this.worldTransform).invert().transformPoint(t)),e.setRotation($t.copy(this.getRotation()).invert().mul(i)),this._children.push(e),this._onInsertChild(e)},insertChild:function(e,t){if(null!==e._parent)throw new Error("GraphNode is already parented");this._children.splice(t,0,e),this._onInsertChild(e)},_onInsertChild:function(e){e._parent=this;var t=e._enabled&&this.enabled;e._enabledInHierarchy!==t&&(e._enabledInHierarchy=t,e._notifyHierarchyStateChanged(e,t)),e._updateGraphDepth(),e._dirtifyWorld(),this._frozen&&e._unfreezeParentToRoot(),e.fire&&e.fire("insert",this),this.fire&&this.fire("childinsert",e)},_updateGraphDepth:function(){this._parent?this._graphDepth=this._parent._graphDepth+1:this._graphDepth=0;for(var e=0,t=this._children.length;e<t;e++)this._children[e]._updateGraphDepth()},removeChild:function(e){var t,i=this._children.length;for(t=0;t<i;++t)if(this._children[t]===e)return this._children.splice(t,1),e._parent=null,e.fire&&e.fire("remove",this),void(this.fire&&this.fire("childremove",e))},_sync:function(){if(this._dirtyLocal&&(this.localTransform.setTRS(this.localPosition,this.localRotation,this.localScale),this._dirtyLocal=!1),this._dirtyWorld){if(null===this._parent)this.worldTransform.copy(this.localTransform);else if(this.scaleCompensation){var e,t=this._parent,i=this.localScale,r=t;if(r){for(;r&&r.scaleCompensation;)r=r._parent;r&&(r=r._parent)&&(e=r.worldTransform.getScale(),Jt.mul2(e,this.localScale),i=Jt)}Qt.setFromMat4(t.worldTransform),Zt.mul2(Qt,this.localRotation);var n=t.worldTransform;t.scaleCompensation&&(qt.mul2(e,t.getLocalScale()),Yt.setTRS(t.worldTransform.getTranslation(Xt),Qt,qt),n=Yt),n.transformPoint(this.localPosition,Xt),this.worldTransform.setTRS(Xt,Zt,i)}else this.worldTransform.mulAffine2(this._parent.worldTransform,this.localTransform);this._dirtyWorld=!1}},syncHierarchy:function(){if(this._enabled&&!this._frozen){this._frozen=!0,(this._dirtyLocal||this._dirtyWorld)&&this._sync();for(var e=this._children,t=0,i=e.length;t<i;t++)e[t].syncHierarchy()}},lookAt:function(){var e=new N,t=new I,i=new I,r=new B;return function(n,a,s,o,l,c){if(n instanceof I)t.copy(n),a instanceof I?i.copy(a):i.copy(I.UP);else{if(void 0===s)return;t.set(n,a,s),void 0!==o?i.set(o,l,c):i.copy(I.UP)}e.setLookAt(this.getPosition(),t,i),r.setFromMat4(e),this.setRotation(r)}}(),translate:function(){var e=new I;return function(t,i,r){t instanceof I?e.copy(t):e.set(t,i,r),e.add(this.getPosition()),this.setPosition(e)}}(),translateLocal:function(){var e=new I;return function(t,i,r){t instanceof I?e.copy(t):e.set(t,i,r),this.localRotation.transformVector(e,e),this.localPosition.add(e),this._dirtyLocal||this._dirtifyLocal()}}(),rotate:function(){var e=new B,t=new B;return function(i,r,n){if(i instanceof I?e.setFromEulerAngles(i.x,i.y,i.z):e.setFromEulerAngles(i,r,n),null===this._parent)this.localRotation.mul2(e,this.localRotation);else{var a=this.getRotation(),s=this._parent.getRotation();t.copy(s).invert(),e.mul2(t,e),this.localRotation.mul2(e,a)}this._dirtyLocal||this._dirtifyLocal()}}(),rotateLocal:function(){var e=new B;return function(t,i,r){t instanceof I?e.setFromEulerAngles(t.x,t.y,t.z):e.setFromEulerAngles(t,i,r),this.localRotation.mul(e),this._dirtyLocal||this._dirtifyLocal()}}()});var ti=[null,function(e,t){return e.drawOrder-t.drawOrder},function(e,t){return jt=e._key[0],Wt=t._key[0],jt===Wt&&e.mesh&&t.mesh?t.mesh.id-e.mesh.id:Wt-jt},function(e,t){return t.zdist-e.zdist},function(e,t){return e.zdist-t.zdist}];function ii(e,t){return e.priority-t.priority}function ri(e,t){return t.key-e.key}var ni=0;function ai(){this.list=[],this.length=0,this.done=!1}function si(){this.opaqueMeshInstances=[],this.transparentMeshInstances=[],this.shadowCasters=[],this.visibleOpaque=[],this.visibleTransparent=[]}function oi(e){void 0!==(e=e||{}).id?(this.id=e.id,ni=Math.max(this.id+1,ni)):this.id=ni++,this.name=e.name,this._enabled=void 0===e.enabled||e.enabled,this._refCounter=this._enabled?1:0,this.opaqueSortMode=void 0===e.opaqueSortMode?2:e.opaqueSortMode,this.transparentSortMode=void 0===e.transparentSortMode?3:e.transparentSortMode,this.renderTarget=e.renderTarget,this.shaderPass=void 0===e.shaderPass?0:e.shaderPass,this.passThrough=void 0!==e.passThrough&&e.passThrough,this.overrideClear=void 0!==e.overrideClear&&e.overrideClear,this._clearColor=new v(0,0,0,1),e.clearColor&&this._clearColor.copy(e.clearColor),this._clearColorBuffer=void 0!==e.clearColorBuffer&&e.clearColorBuffer,this._clearDepthBuffer=void 0!==e.clearDepthBuffer&&e.clearDepthBuffer,this._clearStencilBuffer=void 0!==e.clearStencilBuffer&&e.clearStencilBuffer,this._clearOptions={color:[this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a],depth:1,stencil:0,flags:(this._clearColorBuffer?1:0)|(this._clearDepthBuffer?2:0)|(this._clearStencilBuffer?4:0)},this.onPreCull=e.onPreCull,this.onPreRender=e.onPreRender,this.onPreRenderOpaque=e.onPreRenderOpaque,this.onPreRenderTransparent=e.onPreRenderTransparent,this.onPostCull=e.onPostCull,this.onPostRender=e.onPostRender,this.onPostRenderOpaque=e.onPostRenderOpaque,this.onPostRenderTransparent=e.onPostRenderTransparent,this.onDrawCall=e.onDrawCall,this.onEnable=e.onEnable,this.onDisable=e.onDisable,this._enabled&&this.onEnable&&this.onEnable(),this.layerReference=e.layerReference,this.instances=e.layerReference?e.layerReference.instances:new si,this.cullingMask=e.cullingMask?e.cullingMask:4294967295,this.opaqueMeshInstances=this.instances.opaqueMeshInstances,this.transparentMeshInstances=this.instances.transparentMeshInstances,this.shadowCasters=this.instances.shadowCasters,this.customSortCallback=null,this.customCalculateSortValues=null,this._lightComponents=[],this._lights=[],this._sortedLights=[[],[],[]],this.cameras=[],this._dirty=!1,this._dirtyLights=!1,this._dirtyCameras=!1,this._cameraHash=0,this._lightHash=0,this._staticLightHash=0,this._needsStaticPrepare=!0,this._staticPrepareDone=!1,this._shaderVersion=-1,this._version=0,this._lightCube=null}si.prototype.clearVisibleLists=function(e){this.visibleOpaque[e]&&(this.visibleOpaque[e].length=0,this.visibleOpaque[e].list.length=0),this.visibleTransparent[e]&&(this.visibleTransparent[e].length=0,this.visibleTransparent[e].list.length=0)},Object.defineProperty(oi.prototype,"enabled",{get:function(){return this._enabled},set:function(e){e!==this._enabled&&(this._enabled=e,e?(this.incrementCounter(),this.onEnable&&this.onEnable()):(this.decrementCounter(),this.onDisable&&this.onDisable()))}}),Object.defineProperty(oi.prototype,"clearColor",{get:function(){return this._clearColor},set:function(e){this._clearColor.copy(e)}}),oi.prototype._updateClearFlags=function(){var e=0;this._clearColorBuffer&&(e|=1),this._clearDepthBuffer&&(e|=2),this._clearStencilBuffer&&(e|=4),this._clearOptions.flags=e},Object.defineProperty(oi.prototype,"clearColorBuffer",{get:function(){return this._clearColorBuffer},set:function(e){this._clearColorBuffer=e,this._updateClearFlags()}}),Object.defineProperty(oi.prototype,"clearDepthBuffer",{get:function(){return this._clearDepthBuffer},set:function(e){this._clearDepthBuffer=e,this._updateClearFlags()}}),Object.defineProperty(oi.prototype,"clearStencilBuffer",{get:function(){return this._clearStencilBuffer},set:function(e){this._clearStencilBuffer=e,this._updateClearFlags()}}),oi.prototype.incrementCounter=function(){0===this._refCounter&&(this._enabled=!0,this.onEnable&&this.onEnable()),this._refCounter++},oi.prototype.decrementCounter=function(){if(1===this._refCounter)this._enabled=!1,this.onDisable&&this.onDisable();else if(0===this._refCounter)return;this._refCounter--},oi.prototype.addMeshInstances=function(e,t){for(var i,r,n,a=this._shaderVersion,s=this.shadowCasters,o=0;o<e.length;o++)(r=3===(n=(i=e[o]).material).blendType?this.opaqueMeshInstances:this.transparentMeshInstances).indexOf(i)<0&&r.push(i),!t&&i.castShadow&&s.indexOf(i)<0&&s.push(i),!this.passThrough&&a>=0&&n._shaderVersion!==a&&(n.updateShader!==Su.prototype.updateShader&&(n.clearVariants(),n.shader=null),n._shaderVersion=a);this.passThrough||(this._dirty=!0)},oi.prototype.removeMeshInstances=function(e,t){var i,r,n,a,s,o,l,c=this.opaqueMeshInstances,f=this.transparentMeshInstances,h=this.shadowCasters;for(i=0;i<e.length;i++){for(n=e[i],a=-1,s=0,o=c.length,r=0;r<o;r++){if((l=c[r])===n){a=r,s=1;break}if(l._staticSource===n)a<0&&(a=r),s++;else if(a>=0)break}for(a>=0&&c.splice(a,s),a=-1,s=0,o=f.length,r=0;r<o;r++){if((l=f[r])===n){a=r,s=1;break}if(l._staticSource===n)a<0&&(a=r),s++;else if(a>=0)break}a>=0&&f.splice(a,s),t||(r=h.indexOf(n))>=0&&h.splice(r,1)}this._dirty=!0},oi.prototype.clearMeshInstances=function(e){(0!==this.opaqueMeshInstances.length||0!==this.transparentMeshInstances.length||!e&&0!==this.shadowCasters.length)&&(this.opaqueMeshInstances.length=0,this.transparentMeshInstances.length=0,e||(this.shadowCasters.length=0),this.passThrough||(this._dirty=!0))},oi.prototype.addLight=function(e){this._lightComponents.indexOf(e)>=0||(this._lightComponents.push(e),this._lights.push(e.light),this._dirtyLights=!0,this._generateLightHash())},oi.prototype.removeLight=function(e){var t=this._lightComponents.indexOf(e);t<0||(this._lightComponents.splice(t,1),t=this._lights.indexOf(e.light),this._lights.splice(t,1),this._dirtyLights=!0,this._generateLightHash())},oi.prototype.clearLights=function(){this._lightComponents.length=0,this._lights.length=0,this._dirtyLights=!0},oi.prototype.addShadowCasters=function(e){for(var t,i=this.shadowCasters,r=0;r<e.length;r++)(t=e[r]).castShadow&&i.indexOf(t)<0&&i.push(t);this._dirtyLights=!0},oi.prototype.removeShadowCasters=function(e){for(var t,i=this.shadowCasters,r=0;r<e.length;r++)(t=i.indexOf(e[r]))>=0&&i.splice(t,1);this._dirtyLights=!0},oi.prototype._generateLightHash=function(){if(this._lights.length>0){this._lights.sort(ri);for(var e="",t="",i=0;i<this._lights.length;i++)this._lights[i].isStatic?t+=this._lights[i].key:e+=this._lights[i].key;0===e.length?this._lightHash=0:this._lightHash=he(e),0===t.length?this._staticLightHash=0:this._staticLightHash=he(t)}else this._lightHash=0,this._staticLightHash=0},oi.prototype._generateCameraHash=function(){if(this.cameras.length>1){this.cameras.sort(ii);for(var e="",t=0;t<this.cameras.length;t++)e+=this.cameras[t].entity.getGuid();this._cameraHash=he(e)}else this._cameraHash=0;this._dirtyCameras=!0},oi.prototype.addCamera=function(e){this.cameras.indexOf(e)>=0||(this.cameras.push(e),this._generateCameraHash())},oi.prototype.removeCamera=function(e){var t=this.cameras.indexOf(e);t<0||(this.cameras.splice(t,1),this._generateCameraHash(),this.instances.clearVisibleLists(t))},oi.prototype.clearCameras=function(){this.cameras.length=0,this._cameraHash=0,this._dirtyCameras=!0},oi.prototype._sortCameras=function(){this._generateCameraHash()},oi.prototype._calculateSortDistances=function(e,t,i,r){var n,a,s,o,l,c;for(n=0;n<t;n++)(a=e[n]).command||a.layer<=2||(a.calculateSortDistance?a.zdist=a.calculateSortDistance(a,i,r):(o=(s=a.aabb.center).x-i.x,l=s.y-i.y,c=s.z-i.z,a.zdist=o*r.x+l*r.y+c*r.z))},oi.prototype._sortVisible=function(e,t,i){var r=this.instances,n=e?this.transparentSortMode:this.opaqueSortMode;if(0!==n){var a=e?r.visibleTransparent[i]:r.visibleOpaque[i];5===n?(Gt=t.getPosition(),Ht=t.forward,this.customCalculateSortValues&&this.customCalculateSortValues(a.list,a.length,Gt,Ht),a.list.length!==a.length&&(a.list.length=a.length),this.customSortCallback&&a.list.sort(this.customSortCallback)):(3!==n&&4!==n||(Gt=t.getPosition(),Ht=t.forward,this._calculateSortDistances(a.list,a.length,Gt,Ht)),a.list.length!==a.length&&(a.list.length=a.length),a.list.sort(ti[n]))}};for(var li,ci,fi,hi,ui,di,pi,_i,mi,bi=(new N).mul2((new N).setTranslate(.5,.5,.5),(new N).setScale(.5,.5,.5)),Ai={r:1,g:2,b:3,a:4},vi=[(new B).setFromEulerAngles(0,90,180),(new B).setFromEulerAngles(0,-90,180),(new B).setFromEulerAngles(90,0,0),(new B).setFromEulerAngles(-90,0,0),(new B).setFromEulerAngles(0,180,180),(new B).setFromEulerAngles(0,0,180)],yi=[{},{},{},{},{}],gi=new Float32Array(2),ki={x:1,y:1,z:0,w:0},xi=new N,Si=new N,Ti=new N,wi=new N,Ei=new N,Mi=new C,Pi=new N,Ri=new N,Ci=new N,Oi=new N,Ii=new N,Di=new I,Fi=new I,Ni=new N,Bi=new N,Li=new N,Ui=new N,Vi=new I,zi=new I,ji=new I,Wi=new I,Gi={center:null,radius:0},Hi=new W,Yi=[0,0,0,0],Xi={},Zi=null,Qi=[],Ji=0;Ji<8;Ji++)Qi.push(new I);var qi=[new I,new I,new I,new I,new I,new I,new I,new I];function Ki(e,t,i,r){var n=function(e,t){return 3===t?14:2===t?12:4===t||0===t&&e.webgl2?16:7}(e,r),a=function(e,t){return 0!==t||e.webgl2?3===t?e.extTextureFloatLinear?1:0:2===t?e.extTextureHalfFloatLinear?1:0:1:0}(e,r),s=new nt(e,{format:n,width:t,height:i,mipmaps:!1,minFilter:a,magFilter:a,addressU:1,addressV:1});return s.name="shadowmap",4===r||0===r&&e.webgl2?(s.compareOnRead=!0,s.compareFunc=1,new qu({depthBuffer:s})):new qu({colorBuffer:s,depth:!0})}function $i(e,t){var i=new nt(e,{format:7,width:t,height:t,cubemap:!0,mipmaps:!1,minFilter:0,magFilter:0,addressU:1,addressV:1});i.name="shadowcube";for(var r,n=[],a=0;a<6;a++)r=new qu({colorBuffer:i,face:a,depth:!0}),n.push(r);return n}function er(e,t){return Math.exp(-e*e/(2*t*t))}function tr(e){e>25&&(e=25);var t,i,r,n,a=(e-1)/6;for(n=.5*(e-1),i=new Array(e),r=0,t=0;t<e;++t)i[t]=er(t-n,a),r+=i[t];for(t=0;t<e;++t)i[t]/=r;return i}function ir(e,t,i,r){r||(r=0);var n=1e4*r+t,a=yi[i][n];return a||(a=Ki(e,t,t,i||0),yi[i][n]=a),a}function rr(e,t){var i;1===t._type?(t._shadowType>0&&(t._shadowType=0),t._cacheShadowMap?(i=Xi[t._shadowResolution])||(i=$i(e,t._shadowResolution),Xi[t._shadowResolution]=i):i=$i(e,t._shadowResolution),t._shadowCamera.renderTarget=i[0],t._shadowCubeMap=i):(i=t._cacheShadowMap?ir(e,t._shadowResolution,t._shadowType):Ki(e,t._shadowResolution,t._shadowResolution,t._shadowType),t._shadowCamera.renderTarget=i),t._isCachedShadowMap=t._cacheShadowMap}function nr(e){var t=e.material,i=e.skinInstance?10:0,r=0;if(t.opacityMap){var n=t.opacityMapChannel;n&&(r=Ai[n])}return i+r}function ar(e){this.device=e;var t=this.device;this._shadowDrawCalls=0,this._forwardDrawCalls=0,this._skinDrawCalls=0,this._camerasRendered=0,this._materialSwitches=0,this._shadowMapUpdates=0,this._shadowMapTime=0,this._depthMapTime=0,this._forwardTime=0,this._cullTime=0,this._sortTime=0,this._skinTime=0,this._morphTime=0,this._instancingTime=0;var i=t.getProgramLibrary();this.library=i;var r=t.scope;this.projId=r.resolve("matrix_projection"),this.projSkyboxId=r.resolve("matrix_projectionSkybox"),this.viewId=r.resolve("matrix_view"),this.viewId3=r.resolve("matrix_view3"),this.viewInvId=r.resolve("matrix_viewInverse"),this.viewProjId=r.resolve("matrix_viewProjection"),this.viewPos=new Float32Array(3),this.viewPosId=r.resolve("view_position"),this.nearClipId=r.resolve("camera_near"),this.farClipId=r.resolve("camera_far"),this.cameraParamsId=r.resolve("camera_params"),this.shadowMapLightRadiusId=r.resolve("light_radius"),this.fogColorId=r.resolve("fog_color"),this.fogStartId=r.resolve("fog_start"),this.fogEndId=r.resolve("fog_end"),this.fogDensityId=r.resolve("fog_density"),this.modelMatrixId=r.resolve("matrix_model"),this.normalMatrixId=r.resolve("matrix_normal"),this.poseMatrixId=r.resolve("matrix_pose[0]"),this.boneTextureId=r.resolve("texture_poseMap"),this.boneTextureSizeId=r.resolve("texture_poseMapSize"),this.morphWeightsA=r.resolve("morph_weights_a"),this.morphWeightsB=r.resolve("morph_weights_b"),this.morphPositionTex=r.resolve("morphPositionTex"),this.morphNormalTex=r.resolve("morphNormalTex"),this.morphTexParams=r.resolve("morph_tex_params"),this.alphaTestId=r.resolve("alpha_ref"),this.opacityMapId=r.resolve("texture_opacityMap"),this.ambientId=r.resolve("light_globalAmbient"),this.exposureId=r.resolve("exposure"),this.skyboxIntensityId=r.resolve("skyboxIntensity"),this.lightColorId=[],this.lightDir=[],this.lightDirId=[],this.lightShadowMapId=[],this.lightShadowMatrixId=[],this.lightShadowParamsId=[],this.lightShadowMatrixVsId=[],this.lightShadowParamsVsId=[],this.lightDirVs=[],this.lightDirVsId=[],this.lightRadiusId=[],this.lightPos=[],this.lightPosId=[],this.lightInAngleId=[],this.lightOutAngleId=[],this.lightPosVsId=[],this.lightCookieId=[],this.lightCookieIntId=[],this.lightCookieMatrixId=[],this.lightCookieOffsetId=[],this.depthMapId=r.resolve("uDepthMap"),this.screenSizeId=r.resolve("uScreenSize"),this._screenSize=new Float32Array(4),this.sourceId=r.resolve("source"),this.pixelOffsetId=r.resolve("pixelOffset"),this.weightId=r.resolve("weight[0]"),this.blurVsmShaderCode=[Ce.blurVSMPS,"#define GAUSS\n"+Ce.blurVSMPS],this.blurPackedVsmShaderCode=["#define PACKED\n"+this.blurVsmShaderCode[0],"#define PACKED\n"+this.blurVsmShaderCode[1]],this.blurVsmShader=[{},{}],this.blurPackedVsmShader=[{},{}],this.blurVsmWeights={},this.polygonOffsetId=r.resolve("polygonOffset"),this.polygonOffset=new Float32Array(2),this.fogColor=new Float32Array(3),this.ambientColor=new Float32Array(3),this.cameraParams=new Float32Array(4)}function sr(e,t){e.data[0]=t.data[0],e.data[1]=t.data[1],e.data[2]=t.data[2],e.data[3]=t.data[4],e.data[4]=t.data[5],e.data[5]=t.data[6],e.data[6]=t.data[8],e.data[7]=t.data[9],e.data[8]=t.data[10]}function or(){Su.call(this),this.color=new v(1,1,1,1),this.colorUniform=new Float32Array(4),this.colorMap=null,this.vertexColors=!1}Object.assign(ar.prototype,{sortCompare:function(e,t){if(e.layer===t.layer){if(e.drawOrder&&t.drawOrder)return e.drawOrder-t.drawOrder;if(e.zdist&&t.zdist)return t.zdist-e.zdist;if(e.zdist2&&t.zdist2)return e.zdist2-t.zdist2}return t._key[0]-e._key[0]},sortCompareMesh:function(e,t){if(e.layer===t.layer){if(e.drawOrder&&t.drawOrder)return e.drawOrder-t.drawOrder;if(e.zdist&&t.zdist)return t.zdist-e.zdist}return _i=e._key[0],mi=t._key[0],_i===mi&&e.mesh&&t.mesh?t.mesh.id-e.mesh.id:mi-_i},depthSortCompare:function(e,t){return _i=e._key[1],mi=t._key[1],_i===mi&&e.mesh&&t.mesh?t.mesh.id-e.mesh.id:mi-_i},lightCompare:function(e,t){return e.key-t.key},getShadowCamera:function(e,t){var i,r=t._shadowCamera;return null===r?(r=t._shadowCamera=function(e,t,i){var r=4===t||0===t&&e.webgl2;1===i&&(r=!1);var n=new zt;return n.clearColor=t>=1&&t<=3?new v(0,0,0,0):new v(1,1,1,1),n.clearColorBuffer=!r,n.clearDepthBuffer=!0,n.clearStencilBuffer=!1,n.node=new ei,n}(e,t._shadowType,t._type),rr(e,t)):(i=r.renderTarget).width===t._shadowResolution&&i.height===t._shadowResolution||rr(e,t),r},updateCameraFrustum:function(e){if(e.vrDisplay&&e.vrDisplay.presenting){li=e.vrDisplay.combinedProj;var t=e._node.parent;t?Ei.copy(t.getWorldTransform()).mul(e.vrDisplay.combinedViewInv).invert():Ei.copy(e.vrDisplay.combinedView),wi.copy(Ei).invert(),this.viewInvId.setValue(wi.data),Pi.mul2(li,Ei),e.frustum.setFromMat4(Pi)}else if(e.xr&&e.xr.views.length){var i=e.xr.views[0];return Pi.mul2(i.projMat,i.viewOffMat),void e.frustum.setFromMat4(Pi)}if(li=e.projectionMatrix,e.calculateProjection&&e.calculateProjection(li,0),e.calculateTransform)e.calculateTransform(wi,0);else{var r=e._node.getPosition(),n=e._node.getRotation();wi.setTRS(r,n,I.ONE),this.viewInvId.setValue(wi.data)}Ei.copy(wi).invert(),Pi.mul2(li,Ei),e.frustum.setFromMat4(Pi)},setCamera:function(e,t,i,r){var n,a,s=e.vrDisplay;if(s&&s.presenting)ci=s.leftProj,fi=s.rightProj,li=s.combinedProj,e.calculateProjection&&(e.calculateProjection(ci,1),e.calculateProjection(fi,2),e.calculateProjection(li,0)),e.calculateTransform?(e.calculateTransform(Ri,1),e.calculateTransform(Ci,2),e.calculateTransform(wi,0),Oi.copy(Ri).invert(),Ii.copy(Ci).invert(),Ei.copy(wi).invert()):(n=e._node.parent)?(a=n.getWorldTransform(),Ri.mul2(a,s.leftViewInv),Ci.mul2(a,s.rightViewInv),Oi.copy(Ri).invert(),Ii.copy(Ci).invert(),Ei.copy(n.getWorldTransform()).mul(s.combinedViewInv).invert()):(Ri.copy(s.leftViewInv),Ci.copy(s.rightViewInv),Oi.copy(s.leftView),Ii.copy(s.rightView),Ei.copy(s.combinedView)),sr(Ni,Oi),sr(Bi,Ii),Li.mul2(ci,Oi),Ui.mul2(fi,Ii),Di.x=Ri.data[12],Di.y=Ri.data[13],Di.z=Ri.data[14],Fi.x=Ci.data[12],Fi.y=Ci.data[13],Fi.z=Ci.data[14],Pi.mul2(li,Ei),e.frustum.setFromMat4(Pi);else if(e.xr&&e.xr.session){(n=e._node.parent)&&(a=n.getWorldTransform());for(var o=e.xr.views,l=0;l<o.length;l++){var c=o[l];n?(c.viewInvOffMat.mul2(a,c.viewInvMat),c.viewOffMat.copy(c.viewInvOffMat).invert()):(c.viewInvOffMat.copy(c.viewInvMat),c.viewOffMat.copy(c.viewMat)),sr(c.viewMat3,c.viewOffMat),c.projViewOffMat.mul2(c.projMat,c.viewOffMat),c.position[0]=c.viewInvOffMat.data[12],c.position[1]=c.viewInvOffMat.data[13],c.position[2]=c.viewInvOffMat.data[14],e.frustum.setFromMat4(c.projViewOffMat)}}else{if(li=e.projectionMatrix,e.calculateProjection&&e.calculateProjection(li,0),this.projId.setValue(li.data),this.projSkyboxId.setValue(e.getProjectionMatrixSkybox().data),e.calculateTransform)e.calculateTransform(wi,0);else{var f=e._node.getPosition(),h=e._node.getRotation();wi.setTRS(f,h,I.ONE)}this.viewInvId.setValue(wi.data),Ei.copy(wi).invert(),this.viewId.setValue(Ei.data),sr(Mi,Ei),this.viewId3.setValue(Mi.data),Pi.mul2(li,Ei),this.viewProjId.setValue(Pi.data);var u=e._node.getPosition();this.viewPos[0]=u.x,this.viewPos[1]=u.y,this.viewPos[2]=u.z,this.viewPosId.setValue(this.viewPos),e.frustum.setFromMat4(Pi)}this.nearClipId.setValue(e._nearClip),this.farClipId.setValue(e._farClip);var d=e._nearClip,p=e._farClip;this.cameraParams[0]=1/p,this.cameraParams[1]=p,this.cameraParams[2]=.5*(1-p/d),this.cameraParams[3]=.5*(1+p/d),this.cameraParamsId.setValue(this.cameraParams),this.clearView(e,t,i,!1);var _=this.device,m=t?t.width:_.width,b=t?t.height:_.height,A=e.scissorRect,v=Math.floor(A.x*m),y=Math.floor(A.y*b),g=Math.floor(A.z*m),k=Math.floor(A.w*b);_.setScissor(v,y,g,k),r&&_.setScissor(1,1,m-2,b-2)},clearView:function(e,t,i,r,n){var a=this.device;a.setRenderTarget(t),a.updateBegin(),r&&(a.setColorWrite(!0,!0,!0,!0),a.setDepthWrite(!0));var s=e.rect,o=t?t.width:a.width,l=t?t.height:a.height,c=Math.floor(s.x*o),f=Math.floor(s.y*l),h=Math.floor(s.z*o),u=Math.floor(s.w*l);a.setViewport(c,f,h,u),a.setScissor(c,f,h,u),i&&a.clear(n||{color:[e._clearColor.r,e._clearColor.g,e._clearColor.b,e._clearColor.a],depth:e._clearDepth,flags:(e._clearColorBuffer?1:0)|(e._clearDepthBuffer?2:0)|(e._clearStencilBuffer?4:0),stencil:e._clearStencil})},dispatchGlobalLights:function(e){var t;if(this.mainLight=-1,this.ambientColor[0]=e.ambientLight.r,this.ambientColor[1]=e.ambientLight.g,this.ambientColor[2]=e.ambientLight.b,e.gammaCorrection)for(t=0;t<3;t++)this.ambientColor[t]=Math.pow(this.ambientColor[t],2.2);this.ambientId.setValue(this.ambientColor),this.exposureId.setValue(e.exposure),e.skyboxModel&&this.skyboxIntensityId.setValue(e.skyboxIntensity)},_resolveLight:function(e,t){var i="light"+t;this.lightColorId[t]=e.resolve(i+"_color"),this.lightDir[t]=new Float32Array(3),this.lightDirId[t]=e.resolve(i+"_direction"),this.lightShadowMapId[t]=e.resolve(i+"_shadowMap"),this.lightShadowMatrixId[t]=e.resolve(i+"_shadowMatrix"),this.lightShadowParamsId[t]=e.resolve(i+"_shadowParams"),this.lightShadowMatrixVsId[t]=e.resolve(i+"_shadowMatrixVS"),this.lightShadowParamsVsId[t]=e.resolve(i+"_shadowParamsVS"),this.lightDirVs[t]=new Float32Array(3),this.lightDirVsId[t]=e.resolve(i+"_directionVS"),this.lightRadiusId[t]=e.resolve(i+"_radius"),this.lightPos[t]=new Float32Array(3),this.lightPosId[t]=e.resolve(i+"_position"),this.lightInAngleId[t]=e.resolve(i+"_innerConeAngle"),this.lightOutAngleId[t]=e.resolve(i+"_outerConeAngle"),this.lightPosVsId[t]=e.resolve(i+"_positionVS"),this.lightCookieId[t]=e.resolve(i+"_cookie"),this.lightCookieIntId[t]=e.resolve(i+"_cookieIntensity"),this.lightCookieMatrixId[t]=e.resolve(i+"_cookieMatrix"),this.lightCookieOffsetId[t]=e.resolve(i+"_cookieOffset")},dispatchDirectLights:function(e,t,i){var r,n,a,s=e.length,o=0;this.mainLight=-1;var l=this.device.scope;for(r=0;r<s;r++)if(e[r].mask&i){if(a=(n=e[r])._node.getWorldTransform(),this.lightColorId[o]||this._resolveLight(l,o),this.lightColorId[o].setValue(t.gammaCorrection?n._linearFinalColor:n._finalColor),a.getY(n._direction).scale(-1),n._direction.normalize(),this.lightDir[o][0]=n._direction.x,this.lightDir[o][1]=n._direction.y,this.lightDir[o][2]=n._direction.z,this.lightDirId[o].setValue(this.lightDir[o]),n.castShadows){var c,f=n._isPcf&&this.device.webgl2?n._shadowCamera.renderTarget.depthBuffer:n._shadowCamera.renderTarget.colorBuffer;n._isVsm?c=-2e-4:(c=n.shadowBias/n._shadowCamera._farClip*100,!this.device.webgl2&&this.device.extStandardDerivatives&&(c*=-100));var h=n._isVsm?n.vsmBias/(n._shadowCamera._farClip/7):n._normalOffsetBias;this.lightShadowMapId[o].setValue(f),this.lightShadowMatrixId[o].setValue(n._shadowMatrix.data);var u=n._rendererParams;3!==u.length&&(u.length=3),u[0]=n._shadowResolution,u[1]=h,u[2]=c,this.lightShadowParamsId[o].setValue(u),this.mainLight<0&&(this.lightShadowMatrixVsId[o].setValue(n._shadowMatrix.data),this.lightShadowParamsVsId[o].setValue(u),n._direction.normalize(),this.lightDirVs[o][0]=n._direction.x,this.lightDirVs[o][1]=n._direction.y,this.lightDirVs[o][2]=n._direction.z,this.lightDirVsId[o].setValue(this.lightDirVs[o]),this.mainLight=r)}o++}return o},dispatchPointLight:function(e,t,i,r){var n=i._node.getWorldTransform();if(this.lightColorId[r]||this._resolveLight(t,r),this.lightRadiusId[r].setValue(i.attenuationEnd),this.lightColorId[r].setValue(e.gammaCorrection?i._linearFinalColor:i._finalColor),n.getTranslation(i._position),this.lightPos[r][0]=i._position.x,this.lightPos[r][1]=i._position.y,this.lightPos[r][2]=i._position.z,this.lightPosId[r].setValue(this.lightPos[r]),i.castShadows){var a=i._shadowCamera.renderTarget.colorBuffer;this.lightShadowMapId[r].setValue(a);var s=i._rendererParams;4!==s.length&&(s.length=4),s[0]=i._shadowResolution,s[1]=i._normalOffsetBias,s[2]=i.shadowBias,s[3]=1/i.attenuationEnd,this.lightShadowParamsId[r].setValue(s)}i._cookie&&(this.lightCookieId[r].setValue(i._cookie),this.lightShadowMatrixId[r].setValue(n.data),this.lightCookieIntId[r].setValue(i.cookieIntensity))},dispatchSpotLight:function(e,t,i,r){var n=i._node.getWorldTransform();if(this.lightColorId[r]||this._resolveLight(t,r),this.lightInAngleId[r].setValue(i._innerConeAngleCos),this.lightOutAngleId[r].setValue(i._outerConeAngleCos),this.lightRadiusId[r].setValue(i.attenuationEnd),this.lightColorId[r].setValue(e.gammaCorrection?i._linearFinalColor:i._finalColor),n.getTranslation(i._position),this.lightPos[r][0]=i._position.x,this.lightPos[r][1]=i._position.y,this.lightPos[r][2]=i._position.z,this.lightPosId[r].setValue(this.lightPos[r]),n.getY(i._direction).scale(-1),i._direction.normalize(),this.lightDir[r][0]=i._direction.x,this.lightDir[r][1]=i._direction.y,this.lightDir[r][2]=i._direction.z,this.lightDirId[r].setValue(this.lightDir[r]),i.castShadows){var a;i._isVsm?a=-2e-4:(a=20*i.shadowBias,!this.device.webgl2&&this.device.extStandardDerivatives&&(a*=-100));var s=i._isVsm?i.vsmBias/(i.attenuationEnd/7):i._normalOffsetBias,o=i._isPcf&&this.device.webgl2?i._shadowCamera.renderTarget.depthBuffer:i._shadowCamera.renderTarget.colorBuffer;this.lightShadowMapId[r].setValue(o),this.lightShadowMatrixId[r].setValue(i._shadowMatrix.data);var l=i._rendererParams;4!==l.length&&(l.length=4),l[0]=i._shadowResolution,l[1]=s,l[2]=a,l[3]=1/i.attenuationEnd,this.lightShadowParamsId[r].setValue(l)}if(i._cookie){if(this.lightCookieId[r].setValue(i._cookie),!i.castShadows){var c=this.getShadowCamera(this.device,i),f=c._node;f.setPosition(i._node.getPosition()),f.setRotation(i._node.getRotation()),f.rotateLocal(-90,0,0),c.projection=0,c.aspectRatio=1,c.fov=2*i._outerConeAngle,xi.setTRS(f.getPosition(),f.getRotation(),I.ONE).invert(),Si.mul2(c.projectionMatrix,xi),i._shadowMatrix.mul2(bi,Si)}this.lightShadowMatrixId[r].setValue(i._shadowMatrix.data),this.lightCookieIntId[r].setValue(i.cookieIntensity),i._cookieTransform&&(i._cookieTransformUniform[0]=i._cookieTransform.x,i._cookieTransformUniform[1]=i._cookieTransform.y,i._cookieTransformUniform[2]=i._cookieTransform.z,i._cookieTransformUniform[3]=i._cookieTransform.w,this.lightCookieMatrixId[r].setValue(i._cookieTransformUniform),i._cookieOffsetUniform[0]=i._cookieOffset.x,i._cookieOffsetUniform[1]=i._cookieOffset.y,this.lightCookieOffsetId[r].setValue(i._cookieOffsetUniform))}},dispatchLocalLights:function(e,t,i,r,n){var a,s,o,l=e[1],c=e[2],f=r,h=l.length,u=c.length,d=f,p=this.device.scope;for(a=0;a<h;a++)(s=l[a]).mask&i&&(s.isStatic||(this.dispatchPointLight(t,p,s,d),d++));var _=0;if(n)for(s=n[_];s&&1===s._type;)this.dispatchPointLight(t,p,s,d),d++,s=n[++_];for(a=0;a<u;a++)(o=c[a]).mask&i&&(o.isStatic||(this.dispatchSpotLight(t,p,o,d),d++));if(n)for(o=n[_];o&&2===o._type;)this.dispatchSpotLight(t,p,o,d),d++,o=n[++_]},cull:function(e,t,i){var r,n,a,s=0,o=t.length,l=e.cullingMask||4294967295;if(!e.frustumCulling){for(r=0;r<o;r++)((n=t[r]).visible||n.command)&&(n.mask&&0===(n.mask&l)||(i[s]=n,s++,n.visibleThisFrame=!0));return s}for(r=0;r<o;r++)if((n=t[r]).command)i[s]=n,s++,n.visibleThisFrame=!0;else{if(!n.visible)continue;if(a=!0,n.mask&&0===(n.mask&l))continue;n.cull&&(a=n._isVisible(e)),a&&(i[s]=n,s++,n.visibleThisFrame=!0)}return s},cullLights:function(e,t){var i,r,n;for(i=0;i<t.length;i++)if(n=(r=t[i])._type,r.castShadows&&r.enabled&&0!==r.shadowUpdateMode&&0!==n){if(r.getBoundingSphere(Gi),!e.frustum.containsSphere(Gi))continue;r.visibleThisFrame=!0}},updateCpuSkinMatrices:function(e){var t,i,r=e.length;if(0!==r)for(t=0;t<r;t++)(i=e[t].skinInstance)&&(i.updateMatrices(e[t].node),i._dirty=!0)},updateGpuSkinMatrices:function(e){var t,i,r=e.length;for(t=0;t<r;t++)e[t].visibleThisFrame&&(i=e[t].skinInstance)&&i._dirty&&(i.updateMatrixPalette(),i._dirty=!1)},updateMorphing:function(e){var t,i,r=e.length;for(t=0;t<r;t++)(i=e[t].morphInstance)&&i._dirty&&e[t].visibleThisFrame&&i.update()},setBaseConstants:function(e,t){e.setCullMode(t.cull),t.opacityMap&&(this.opacityMapId.setValue(t.opacityMap),this.alphaTestId.setValue(t.alphaTest))},setSkinning:function(e,t,i){t.skinInstance&&(this._skinDrawCalls++,e.supportsBoneTextures?(hi=t.skinInstance.boneTexture,this.boneTextureId.setValue(hi),Yi[0]=hi.width,Yi[1]=hi.height,Yi[2]=1/hi.width,Yi[3]=1/hi.height,this.boneTextureSizeId.setValue(Yi)):this.poseMatrixId.setValue(t.skinInstance.matrixPalette))},drawInstance:function(e,t,i,r,n){if(ui=t.instancingData){if(ui.count>0&&(this._instancedDrawCalls++,e.setVertexBuffer(ui.vertexBuffer),e.draw(i.primitive[r],ui.count),ui.vertexBuffer===Zi))return this._removedByInstancing+=ui.count,t.instancingData=null,ui.count-1}else di=t.node.worldTransform,this.modelMatrixId.setValue(di.data),n&&(pi=t.node.normalMatrix,t.node._dirtyNormal&&(di.invertTo3x3(pi),pi.transpose(),t.node._dirtyNormal=!1),this.normalMatrixId.setValue(pi.data)),e.draw(i.primitive[r]);return 0},drawInstance2:function(e,t,i,r){if(ui=t.instancingData){if(ui.count>0&&(this._instancedDrawCalls++,e.draw(i.primitive[r],ui.count,!0),ui.vertexBuffer===Zi))return this._removedByInstancing+=ui.count,t.instancingData=null,ui.count-1}else e.draw(i.primitive[r],void 0,!0);return 0},renderShadows:function(e,t){var i,r,n,a,s,o,l,c,f,h,u,d,p,_,m,b,A,v,y=this.device;for(i=0;i<e.length;i++)if(s=(n=e[i])._type,n.castShadows&&n.enabled&&(n._shadowCamera||this.getShadowCamera(y,n),0!==n.shadowUpdateMode&&n.visibleThisFrame)){var g;if(l=(o=this.getShadowCamera(y,n))._node,c=0,f=1,0===s){if(n._visibleLength[t]<0)continue;b=n._visibleCameraSettings[t],l.setPosition(b.x,b.y,b.z),o.orthoHeight=b.orthoHeight,o.farClip=b.farClip,c=t}else 2===s?(g=l.getPosition(),this.viewPos[0]=g.x,this.viewPos[1]=g.y,this.viewPos[2]=g.z,this.viewPosId.setValue(this.viewPos),this.shadowMapLightRadiusId.setValue(n.attenuationEnd)):1===s&&(g=l.getPosition(),this.viewPos[0]=g.x,this.viewPos[1]=g.y,this.viewPos[2]=g.z,this.viewPosId.setValue(this.viewPos),this.shadowMapLightRadiusId.setValue(n.attenuationEnd),f=6);for(1!==s&&(xi.setTRS(l.getPosition(),l.getRotation(),I.ONE).invert(),Si.mul2(o.projectionMatrix,xi),n._shadowMatrix.mul2(bi,Si)),y.webgl2?1===s?y.setDepthBias(!1):(y.setDepthBias(!0),y.setDepthBiasValues(-1e3*n.shadowBias,-1e3*n.shadowBias)):y.extStandardDerivatives&&(1===s?(this.polygonOffset[0]=0,this.polygonOffset[1]=0,this.polygonOffsetId.setValue(this.polygonOffset)):(this.polygonOffset[0]=-1e3*n.shadowBias,this.polygonOffset[1]=-1e3*n.shadowBias,this.polygonOffsetId.setValue(this.polygonOffset))),1===n.shadowUpdateMode&&(n.shadowUpdateMode=0),this._shadowMapUpdates+=f,y.setBlending(!1),y.setDepthWrite(!0),y.setDepthTest(!0),n._isPcf&&y.webgl2&&1!==s?y.setColorWrite(!1,!1,!1,!1):y.setColorWrite(!0,!0,!0,!0),c?f=c+1:c=0;c<f;){for(1===s&&(l.setRotation(vi[c]),o.renderTarget=n._shadowCubeMap[c]),this.setCamera(o,o.renderTarget,!0,1!==s),A=n._visibleList[c],v=n._visibleLength[c],h=n._shadowType+5*s,r=0,u=v;r<u;r++)p=(d=A[r]).mesh,_=d.material,this.setBaseConstants(y,_),this.setSkinning(y,d,_),_.dirty&&(_.updateUniforms(),_.dirty=!1),_.chunks&&(this.setCullMode(!0,!1,d),_.setParameters(y),d.setParameters(y,8)),(a=d._shader[3+h])||(this.updateShader(d,d._shaderDefs,null,3+h),a=d._shader[3+h],d._key[1]=nr(d)),y.setShader(a),m=d.renderStyle,this.setVertexBuffers(y,p),this.setMorphing(y,d.morphInstance),y.setIndexBuffer(p.indexBuffer[m]),r+=this.drawInstance(y,d,p,m),this._shadowDrawCalls++;c++,0===s&&(n._visibleLength[t]=-1)}if(n._isVsm){var k=n._vsmBlurSize;if(k>1){var x=o.renderTarget,S=ir(y,n._shadowResolution,n._shadowType,1),T=1===n._shadowType,w=n.vsmBlurMode,E=(T?this.blurPackedVsmShader:this.blurVsmShader)[w][k];if(!E){this.blurVsmWeights[k]=tr(k);var M=Ce.fullscreenQuadVS,P="#define SAMPLES "+k+"\n";P+=T?this.blurPackedVsmShaderCode[w]:this.blurVsmShaderCode[w];var R="blurVsm"+w+k+T;E=We(this.device,M,P,R),T?this.blurPackedVsmShader[w][k]=E:this.blurVsmShader[w][k]=E}ki.z=n._shadowResolution-2,ki.w=ki.z,this.sourceId.setValue(x.colorBuffer),gi[0]=1/n._shadowResolution,gi[1]=0,this.pixelOffsetId.setValue(gi),1===w&&this.weightId.setValue(this.blurVsmWeights[k]),Pe(y,S,E,null,ki),this.sourceId.setValue(S.colorBuffer),gi[1]=gi[0],gi[0]=0,this.pixelOffsetId.setValue(gi),Pe(y,x,E,null,ki)}}}y.webgl2?y.setDepthBias(!1):y.extStandardDerivatives&&(this.polygonOffset[0]=0,this.polygonOffset[1]=0,this.polygonOffsetId.setValue(this.polygonOffset))},updateShader:function(e,t,i,r,n){e.material._scene=this.scene,e.material.updateShader(this.device,this.scene,t,i,r,n),e._shader[r]=e.material.shader},setCullMode:function(e,t,i){var r=i.material,n=0;if(e){var a=1;if(r.cull>0&&r.cull<3){i.flipFaces&&(a*=-1),t&&(a*=-1);var s=i.node.worldTransform;s.getX(Vi),s.getY(zi),s.getZ(ji),Vi.cross(Vi,zi),Vi.dot(ji)<0&&(a*=-1)}n=a<0?2===r.cull?1:2:r.cull}this.device.setCullMode(n)},setVertexBuffers:function(e,t){e.setVertexBuffer(t.vertexBuffer)},setMorphing:function(e,t){if(t)if(t.morph.useTextureMorph)e.setVertexBuffer(t.morph.vertexBufferIds),this.morphPositionTex.setValue(t.texturePositions),this.morphNormalTex.setValue(t.textureNormals),this.morphTexParams.setValue(t._textureParams);else{for(var i,r,n=0;n<t._activeVertexBuffers.length;n++)(i=t._activeVertexBuffers[n])&&(r="ATTR"+(n+8),i.format.elements[0].name=r,i.format.elements[0].scopeId=e.scope.resolve(r),i.format.update(),e.setVertexBuffer(i));this.morphWeightsA.setValue(t._shaderMorphWeightsA),this.morphWeightsB.setValue(t._shaderMorphWeightsB)}},renderForward:function(e,t,i,r,n,a,s,o){var l,c,f,h,u,d,p,_,m,b,A,v,y,g,k=this.device,x=this.scene,S=e.vrDisplay,T=o?o._lightHash:0,w=1<<n,E=null,M=.5*k.width;for(l=0;l<i;l++)if(c=t[l],!a||!c.mask||a&c.mask)if(c.command)c.command();else{if(f=c.mesh,h=c.material,u=c._shaderDefs,p=c.mask,this.setSkinning(k,c,h),h&&h===E&&u!==b&&(E=null),(c.isStatic||v)&&(E=null),h!==E&&(this._materialSwitches++,h.dirty&&(h.updateUniforms(),h.dirty=!1),c._shader[n]&&c._shaderDefs===u&&c._lightHash===T||(c.isStatic?this.updateShader(c,u,c._staticLightList,n,r):(d=n+"_"+u+"_"+T,c._shader[n]=h.variants[d],c._shader[n]||(this.updateShader(c,u,null,n,r),h.variants[d]=c._shader[n])),c._shaderDefs=u,c._lightHash=T),c._shader[n].failed||k.setShader(c._shader[n])||(c._shader[n].failed=!0),h.setParameters(k),E&&p===A||(m=this.dispatchDirectLights(r[0],x,p),this.dispatchLocalLights(r,x,p,m,c._staticLightList)),this.alphaTestId.setValue(h.alphaTest),k.setBlending(h.blend),h.blend&&(h.separateAlphaBlend?(k.setBlendFunctionSeparate(h.blendSrc,h.blendDst,h.blendSrcAlpha,h.blendDstAlpha),k.setBlendEquationSeparate(h.blendEquation,h.blendAlphaEquation)):(k.setBlendFunction(h.blendSrc,h.blendDst),k.setBlendEquation(h.blendEquation))),k.setColorWrite(h.redWrite,h.greenWrite,h.blueWrite,h.alphaWrite),k.setDepthWrite(h.depthWrite),k.setDepthTest(h.depthTest),k.setAlphaToCoverage(h.alphaToCoverage),h.depthBias||h.slopeDepthBias?(k.setDepthBias(!0),k.setDepthBiasValues(h.depthBias,h.slopeDepthBias)):k.setDepthBias(!1)),this.setCullMode(e._cullFaces,e._flipFaces,c),y=c.stencilFront||h.stencilFront,g=c.stencilBack||h.stencilBack,y||g?(k.setStencilTest(!0),y===g?(k.setStencilFunc(y.func,y.ref,y.readMask),k.setStencilOperation(y.fail,y.zfail,y.zpass,y.writeMask)):(y?(k.setStencilFuncFront(y.func,y.ref,y.readMask),k.setStencilOperationFront(y.fail,y.zfail,y.zpass,y.writeMask)):(k.setStencilFuncFront(7,0,255),k.setStencilOperationFront(0,0,0,255)),g?(k.setStencilFuncBack(g.func,g.ref,g.readMask),k.setStencilOperationBack(g.fail,g.zfail,g.zpass,g.writeMask)):(k.setStencilFuncBack(7,0,255),k.setStencilOperationBack(0,0,0,255)))):k.setStencilTest(!1),c.setParameters(k,w),this.setVertexBuffers(k,f),this.setMorphing(k,c.morphInstance),_=c.renderStyle,k.setIndexBuffer(f.indexBuffer[_]),s&&s(c,l),S&&S.presenting)k.setViewport(0,0,M,k.height),this.projId.setValue(ci.data),this.projSkyboxId.setValue(ci.data),this.viewInvId.setValue(Ri.data),this.viewId.setValue(Oi.data),this.viewId3.setValue(Ni.data),this.viewProjId.setValue(Li.data),this.viewPos[0]=Di.x,this.viewPos[1]=Di.y,this.viewPos[2]=Di.z,this.viewPosId.setValue(this.viewPos),l+=this.drawInstance(k,c,f,_,!0),this._forwardDrawCalls++,k.setViewport(M,0,M,k.height),this.projId.setValue(fi.data),this.projSkyboxId.setValue(fi.data),this.viewInvId.setValue(Ci.data),this.viewId.setValue(Ii.data),this.viewId3.setValue(Bi.data),this.viewProjId.setValue(Ui.data),this.viewPos[0]=Fi.x,this.viewPos[1]=Fi.y,this.viewPos[2]=Fi.z,this.viewPosId.setValue(this.viewPos),l+=this.drawInstance2(k,c,f,_),this._forwardDrawCalls++;else if(e.xr&&e.xr.session&&e.xr.views.length)for(var P=e.xr.views,R=0;R<P.length;R++){var C=P[R];k.setViewport(C.viewport.x,C.viewport.y,C.viewport.z,C.viewport.w),this.projId.setValue(C.projMat.data),this.projSkyboxId.setValue(C.projMat.data),this.viewId.setValue(C.viewOffMat.data),this.viewInvId.setValue(C.viewInvOffMat.data),this.viewId3.setValue(C.viewMat3.data),this.viewProjId.setValue(C.projViewOffMat.data),this.viewPosId.setValue(C.position),l+=0===R?this.drawInstance(k,c,f,_,!0):this.drawInstance2(k,c,f,_),this._forwardDrawCalls++}else l+=this.drawInstance(k,c,f,_,!0),this._forwardDrawCalls++;l<i-1&&t[l+1].material===h&&h.setParameters(k,c.parameters),E=h,b=u,A=p,v=c.isStatic}k.updateEnd()},setupInstancing:function(e){e.enableAutoInstancing&&(Zi||(Zi=new fe(e,ue.defaultInstancingFormat,e.autoInstancingMaxObjects,1)))},revertStaticMeshes:function(e){var t,i,r,n=e,a=n.length,s=[];for(t=0;t<a;t++)(i=n[t])._staticSource?i._staticSource!==r&&(s.push(i._staticSource),r=i._staticSource):s.push(i);for(e.length=s.length,t=0;t<s.length;t++)e[t]=s[t]},prepareStaticMeshes:function(e,t){var i,r,n,a,s,o,l,c,f,h,u,d,p,_,m,b,A,v,y,g,k,x,S,T,w,E,M,P,R,C,O,D,F,B,L,U,V,z=this.device,j=(this.scene,e),G=j.length,H=[],Y=new I,X=new I,Z=new W,Q=new N,J=[],q=[],K=[],$=[];for(i=0;i<G;i++)if((l=j[i]).isStatic){for(L=l.aabb,$.length=0,B=1;B<=2;B++)for(r=0;r<t.length;r++)if((c=t[r])._type===B&&c.enabled&&c.mask&l.mask&&c.isStatic){if(q[r]||(q[r]=new W,c._node.getWorldTransform(),c.getBoundingSphere(Gi),q[r].center.copy(Gi.center),q[r].halfExtents.x=Gi.radius,q[r].halfExtents.y=Gi.radius,q[r].halfExtents.z=Gi.radius),!q[r].intersects(L))continue;$.push(r)}if(0===$.length){H.push(l);continue}for(C=(f=l.mesh).vertexBuffer,h=2===(R=f.indexBuffer[l.renderStyle]).bytesPerIndex?new Uint16Array(R.lock()):new Uint32Array(R.lock()),d=f.primitive[l.renderStyle].count/3,b=f.primitive[l.renderStyle].base,p=C.format.elements,_=C.format.size/4,u=new Float32Array(C.storage),n=0;n<p.length;n++)"POSITION"===p[n].name&&(m=p[n].offset/4);for(J.length=d,n=0;n<d;n++)J[n]=0;for(P=!1,K.length=6*d,n=0;n<d;n++){for(g=Number.MAX_VALUE,k=Number.MAX_VALUE,x=Number.MAX_VALUE,S=-Number.MAX_VALUE,T=-Number.MAX_VALUE,w=-Number.MAX_VALUE,a=0;a<3;a++)(A=u[o=(o=h[3*n+a+b])*_+m])<g&&(g=A),(v=u[o+1])<k&&(k=v),(y=u[o+2])<x&&(x=y),A>S&&(S=A),v>T&&(T=v),y>w&&(w=y);K[o=6*n]=g,K[o+1]=k,K[o+2]=x,K[o+3]=S,K[o+4]=T,K[o+5]=w}for(s=0;s<$.length;s++)for(c=t[r=$[s]],Q.copy(l.node.worldTransform).invert(),Z.setFromTransformedAabb(q[r],Q),E=Z.getMin(),M=Z.getMax(),U=1<<s,n=0;n<d;n++)K[o=6*n]<=M.x&&K[o+3]>=E.x&&K[o+1]<=M.y&&K[o+4]>=E.y&&K[o+2]<=M.z&&K[o+5]>=E.z&&(J[n]|=U,P=!0);if(P){for(O={},n=0;n<d;n++)r=3*n+b,O[D=J[n]]||(O[D]=[]),(F=O[D]).push(h[r]),F.push(h[r+1]),F.push(h[r+2]);for(D in O){F=O[D];var ee=new ct(z,R.format,F.length,R.usage);for((2===ee.bytesPerIndex?new Uint16Array(ee.lock()):new Uint32Array(ee.lock())).set(F),ee.unlock(),g=Number.MAX_VALUE,k=Number.MAX_VALUE,x=Number.MAX_VALUE,S=-Number.MAX_VALUE,T=-Number.MAX_VALUE,w=-Number.MAX_VALUE,n=0;n<F.length;n++)(A=u[(o=F[n])*_+m])<g&&(g=A),(v=u[o*_+m+1])<k&&(k=v),(y=u[o*_+m+2])<x&&(x=y),A>S&&(S=A),v>T&&(T=v),y>w&&(w=y);Y.set(g,k,x),X.set(S,T,w);var te=new W;te.setMinMax(Y,X);var ie=new dt(z);ie.vertexBuffer=C,ie.indexBuffer[0]=ee,ie.primitive[0].type=4,ie.primitive[0].base=0,ie.primitive[0].count=F.length,ie.primitive[0].indexed=!0,ie.aabb=te;var re=new bt(l.node,ie,l.material);for(re.isStatic=l.isStatic,re.visible=l.visible,re.layer=l.layer,re.castShadow=l.castShadow,re._receiveShadow=l._receiveShadow,re.cull=l.cull,re.pick=l.pick,re.mask=l.mask,re.parameters=l.parameters,re._shaderDefs=l._shaderDefs,re._staticSource=l,l._staticLightList?re._staticLightList=l._staticLightList:re._staticLightList=[],n=0;n<$.length;n++)D&(U=1<<n)&&(V=t[$[n]],re._staticLightList.indexOf(V)<0&&re._staticLightList.push(V));re._staticLightList.sort(this.lightCompare),H.push(re)}}else H.push(l)}else H.push(l);for(e.length=H.length,i=0;i<H.length;i++)e[i]=H[i]},updateShaders:function(e){var t,i=[];for(t=0;t<e.length;t++){var r=e[t];void 0!==r.material&&-1===i.indexOf(r.material)&&i.push(r.material)}for(t=0;t<i.length;t++){var n=i[t];n.updateShader!==Su.prototype.updateShader&&(n.clearVariants(),n.shader=null)}},updateLitShaders:function(e){for(var t=0;t<e.length;t++){var i=e[t];if(void 0!==i.material){var r=i.material;if(r.updateShader!==Su.prototype.updateShader){if(!1===r.useLighting||r.emitter&&!r.emitter.lighting)continue;r.clearVariants(),r.shader=null}}}},beginFrame:function(e){var t,i=this.scene,r=e._meshInstances,n=e._lights;i.updateShaders?(this.updateShaders(r),i.updateShaders=!1,i.updateLitShaders=!1,i._shaderVersion++):i.updateLitShaders&&(this.updateLitShaders(r),i.updateLitShaders=!1,i._shaderVersion++),this.updateCpuSkinMatrices(r);var a=r.length;for(t=0;t<a;t++)r[t].visibleThisFrame=!1;for(a=n.length,t=0;t<a;t++)n[t].visibleThisFrame=0===n[t]._type},beginLayers:function(e){var t,i,r,n,a=this.scene,s=e.layerList.length,o=this.scene._shaderVersion;for(i=0;i<s;i++)e.layerList[i]._postRenderCounter=0;for(i=0;i<s;i++){for((t=e.layerList[i])._shaderVersion=o,t._preRenderCalledForCameras=0,t._postRenderCalledForCameras=0,n=e.subLayerList[i],t._postRenderCounter|=n?2:1,t._postRenderCounterMax=t._postRenderCounter,r=0;r<t.cameras.length;r++)t.instances.visibleOpaque[r]||(t.instances.visibleOpaque[r]=new ai),t.instances.visibleTransparent[r]||(t.instances.visibleTransparent[r]=new ai),t.instances.visibleOpaque[r].done=!1,t.instances.visibleTransparent[r].done=!1;t.cameras.length<t.instances.visibleOpaque.length&&t.instances.visibleOpaque.splice(t.cameras.length,1),t.cameras.length<t.instances.visibleTransparent.length&&t.instances.visibleTransparent.splice(t.cameras.length,1),t._needsStaticPrepare&&t._staticLightHash&&(t._staticPrepareDone&&(this.revertStaticMeshes(t.opaqueMeshInstances),this.revertStaticMeshes(t.transparentMeshInstances)),this.prepareStaticMeshes(t.opaqueMeshInstances,t._lights),this.prepareStaticMeshes(t.transparentMeshInstances,t._lights),e._dirty=!0,a.updateShaders=!0,t._needsStaticPrepare=!1,t._staticPrepareDone=!0)}},cullLocalShadowmap:function(e,t){var i,r,n,a,s,o,l,c,f,h,u,d;if(0!==(r=e._type))for(e.visibleThisFrame=!0,(n=this.getShadowCamera(this.device,e)).projection=0,n.nearClip=e.attenuationEnd/1e3,n.farClip=e.attenuationEnd,n.aspectRatio=1,2===r?(n.fov=2*e._outerConeAngle,s=1):(n.fov=90,s=6),a=n._node,d=e._node,a.setPosition(d.getPosition()),2===r&&(a.setRotation(d.getRotation()),a.rotateLocal(-90,0,0)),o=0;o<s;o++){for(1===r&&(a.setRotation(vi[o]),n.renderTarget=e._shadowCubeMap[o]),this.updateCameraFrustum(n),(f=e._visibleList[o])||(f=e._visibleList[o]=[]),e._visibleLength[o]=0,h=0,i=0,l=t.length;i<l;i++)u=!0,(c=t[i]).cull&&(u=c._isVisible(n)),u&&(f[h]=c,h++,c.visibleThisFrame=!0);e._visibleLength[o]=h,f.length!==h&&(f.length=h),f.sort(this.depthSortCompare)}},cullDirectionalShadowmap:function(e,t,i,r){var n,a,s,o,l,c,f,h,u,d,p,_,m,b,A,v,y,g,k,x,S,T,w,E=this.device;for(e.visibleThisFrame=!0,s=(a=this.getShadowCamera(E,e))._node,o=e._node,s.setPosition(o.getPosition()),s.setRotation(o.getRotation()),s.rotateLocal(-90,0,0),function(e,t,i){var r,n,a=e._nearClip,s=e._fov*Math.PI/180,o=e._aspectRatio,l=e._projection;r=(n=0===l?Math.tan(s/2)*a:e._orthoHeight)*o,i[0].x=r,i[0].y=-n,i[0].z=-a,i[1].x=r,i[1].y=n,i[1].z=-a,i[2].x=-r,i[2].y=n,i[2].z=-a,i[3].x=-r,i[3].y=-n,i[3].z=-a,0===l&&(r=(n=Math.tan(s/2)*t)*o),i[4].x=r,i[4].y=-n,i[4].z=-t,i[5].x=r,i[5].y=n,i[5].z=-t,i[6].x=-r,i[6].y=n,i[6].z=-t,i[7].x=-r,i[7].y=-n,i[7].z=-t}(i,e.shadowDistance||i._farClip,Qi),l=Wi.sub2(Qi[0],Qi[6]).length(),l=Math.max(l,Wi.sub2(Qi[4],Qi[6]).length()),xi.copy(s.getWorldTransform()).invert(),Ti.copy(xi).mul(i._node.getWorldTransform()),n=0;n<8;n++)Ti.transformPoint(Qi[n],Qi[n]);for(p=_=m=1e6,b=A=v=-1e6,n=0;n<8;n++)(d=Qi[n]).x<p&&(p=d.x),d.x>b&&(b=d.x),d.y<_&&(_=d.y),d.y>A&&(A=d.y),d.z<m&&(m=d.z),d.z>v&&(v=d.z);for(h=l/e._shadowResolution,u=.5*(l-(b-p)),p=Math.floor((p-u)/h)*h,u=.5*(l-(A-_)),y=.5*((b=p+l)+p),g=.5*((A=(_=Math.floor((_-u)/h)*h)+l)+_),s.translateLocal(y,g,1e5),a.projection=1,a.nearClip=0,a.farClip=2e5,a.aspectRatio=1,a.orthoHeight=.5*l,this.updateCameraFrustum(a),T=!0,(f=e._visibleList[r])||(f=e._visibleList[r]=[]),c=e._visibleLength[r]=0,n=0,x=t.length;n<x;n++)k=!0,(S=t[n]).cull&&(k=S._isVisible(a)),k&&(f[c]=S,c++,S.visibleThisFrame=!0,w=S.aabb,T?(Hi.copy(w),T=!1):Hi.add(w));e._visibleLength[r]=c,f.length!==c&&(f.length=c),f.sort(this.depthSortCompare);var M=function(e,t,i,r,n,a,s){qi[0].x=qi[1].x=qi[2].x=qi[3].x=t.x,qi[1].y=qi[3].y=qi[7].y=qi[5].y=t.y,qi[2].z=qi[3].z=qi[6].z=qi[7].z=t.z,qi[4].x=qi[5].x=qi[6].x=qi[7].x=i.x,qi[0].y=qi[2].y=qi[4].y=qi[6].y=i.y,qi[0].z=qi[1].z=qi[4].z=qi[5].z=i.z;for(var o,l=9999999999,c=-9999999999,f=0;f<8;++f)e.transformPoint(qi[f],qi[f]),(o=qi[f].z)<l&&(l=o),o>c&&(c=o);return{min:l,max:c}}(xi,Hi.getMin(),Hi.getMax());v=M.max,M.min>m&&(m=M.min),s.setPosition(o.getPosition()),s.translateLocal(y,g,v+.01),a.farClip=v-m;var P=e._visibleCameraSettings[r];P||(P=e._visibleCameraSettings[r]={});var R=s.getPosition();P.x=R.x,P.y=R.y,P.z=R.z,P.orthoHeight=a.orthoHeight,P.farClip=a.farClip},gpuUpdate:function(e){this.updateGpuSkinMatrices(e),this.updateMorphing(e)},setSceneConstants:function(){var e,t=this.device,i=this.scene;if(this.dispatchGlobalLights(i),"none"!==i.fog){if(this.fogColor[0]=i.fogColor.r,this.fogColor[1]=i.fogColor.g,this.fogColor[2]=i.fogColor.b,i.gammaCorrection)for(e=0;e<3;e++)this.fogColor[e]=Math.pow(this.fogColor[e],2.2);this.fogColorId.setValue(this.fogColor),"linear"===i.fog?(this.fogStartId.setValue(i.fogStart),this.fogEndId.setValue(i.fogEnd)):this.fogDensityId.setValue(i.fogDensity)}this._screenSize[0]=t.width,this._screenSize[1]=t.height,this._screenSize[2]=1/t.width,this._screenSize[3]=1/t.height,this.screenSizeId.setValue(this._screenSize)},renderComposition:function(e){var t,i,r,n,a,s,o,l,c,f,h,u=this.device,d=e._renderedRt,p=e._renderedByCam,_=e._renderedLayer;this.scene.updateSkybox&&(this.scene._updateSkybox(u),this.scene.updateSkybox=!1),this.beginLayers(e),2&e._update()&&(this.scene.updateLitShaders=!0),this.beginFrame(e),this.setSceneConstants();var m,b,A,v,y,g=0;for(i=0;i<e.layerList.length;i++)if((r=e.layerList[i]).enabled&&e.subLayerEnabled[i])for(n=e.subLayerList[i],m=r.instances,a=r.cameras,s=0;s<a.length;s++)if(t=a[s]){for(t.frameBegin(r.renderTarget),b=n?r.transparentMeshInstances:r.opaqueMeshInstances,c=!1,f=!1,l=0;l<g;l++)if(p[l]===t&&(c=!0,_[l]===r)){f=!0;break}c||(this.updateCameraFrustum(t.camera),this._camerasRendered++),f||this.cullLights(t.camera,r._lights),c&&f||(p[g]=t,_[g]=r,g++),(A=n?m.visibleTransparent[s]:m.visibleOpaque[s]).done||(r.onPreCull&&r.onPreCull(s),A.length=this.cull(t.camera,b,A.list),A.done=!0,r.onPostCull&&r.onPostCull(s)),t.frameEnd()}for(i=0;i<e._lights.length;i++)(v=e._lights[i]).visibleThisFrame&&0!==v._type&&v.castShadows&&v.enabled&&0!==v.shadowUpdateMode&&(y=e._lightShadowCasters[i],this.cullLocalShadowmap(v,y));g=0;var k,x=-1;for(i=0;i<e._lights.length;i++)if(0===(v=e._lights[i])._type&&(x++,v.castShadows&&v.enabled&&0!==v.shadowUpdateMode))for(y=e._lightShadowCasters[i],a=e._globalLightCameras[x],s=0;s<a.length;s++)this.cullDirectionalShadowmap(v,y,a[s].camera,e._globalLightCameraIds[x][s]);for(this.gpuUpdate(e._meshInstances),this.renderShadows(e._sortedLights[2]),this.renderShadows(e._sortedLights[1]),g=0,i=0;i<e._renderList.length;i++)if((r=e.layerList[e._renderList[i]]).enabled&&e.subLayerEnabled[e._renderList[i]]){if(m=r.instances,n=e.subLayerList[e._renderList[i]],k=e._renderListCamera[i],(t=r.cameras[k])&&t.frameBegin(r.renderTarget),!n&&r.onPreRenderOpaque?r.onPreRenderOpaque(k):n&&r.onPreRenderTransparent&&r.onPreRenderTransparent(k),r._preRenderCalledForCameras&1<<k||(r.onPreRender&&r.onPreRender(k),r._preRenderCalledForCameras|=1<<k,r.overrideClear&&this.clearView(t.camera,r.renderTarget,!0,!0,r._clearOptions)),t){for(o=r.renderTarget,h=!1,l=0;l<g;l++)if(d[l]===o&&p[l]===t){h=!0;break}h||(r.overrideClear||this.clearView(t.camera,r.renderTarget,!0,!0),d[g]=o,p[g]=t,g++),this.renderShadows(r._sortedLights[0],k),r._sortVisible(n,t.camera.node,k),A=n?m.visibleTransparent[k]:m.visibleOpaque[k],this.scene._activeCamera=t.camera,this.setCamera(t.camera,r.renderTarget),this.renderForward(t.camera,A.list,A.length,r._sortedLights,r.shaderPass,r.cullingMask,r.onDrawCall,r),u.setColorWrite(!0,!0,!0,!0),u.setStencilTest(!1),u.setAlphaToCoverage(!1),u.setDepthBias(!1),t.frameEnd()}!n&&r.onPostRenderOpaque?r.onPostRenderOpaque(k):n&&r.onPostRenderTransparent&&r.onPostRenderTransparent(k),!r.onPostRender||r._postRenderCalledForCameras&1<<k||(r._postRenderCounter&=~(n?2:1),0===r._postRenderCounter&&(r.onPostRender(k),r._postRenderCalledForCameras|=1<<k,r._postRenderCounter=r._postRenderCounterMax))}}}),or.prototype=Object.create(Su.prototype),or.prototype.constructor=or,Object.assign(or.prototype,{clone:function(){var e=new or;return Su.prototype._cloneInternal.call(this,e),e.color.copy(this.color),e.colorMap=this.colorMap,e.vertexColors=this.vertexColors,e},updateUniforms:function(){this.clearParameters(),this.colorUniform[0]=this.color.r,this.colorUniform[1]=this.color.g,this.colorUniform[2]=this.color.b,this.colorUniform[3]=this.color.a,this.setParameter("uColor",this.colorUniform),this.colorMap&&this.setParameter("texture_diffuseMap",this.colorMap)},updateShader:function(e,t,i,r,n,a){var s={skin:!!this.meshInstances[0].skinInstance,vertexColors:this.vertexColors,diffuseMap:!!this.colorMap,pass:n},o=e.getProgramLibrary();this.shader=o.getProgram("basic",s)}});var lr=new ei;function cr(e){this.lineVertexFormat=new ue(e,[{semantic:"POSITION",components:3,type:6},{semantic:"COLOR",components:4,type:1,normalize:!0}]),this.lineBatches=[],this.layers=[],this.layerToBatch={},this.quadMesh=null,this.cubeLocalPos=null,this.cubeWorldPos=null,this.identityGraphNode=new ei}function fr(){this.numLinesAllocated=128,this.vb=null,this.vbRam=null,this.mesh=null,this.linesUsed=0,this.material=null,this.meshInstance=null,this.layer=null}function hr(){o.call(this),this.layerList=[],this.subLayerList=[],this.subLayerEnabled=[],this._opaqueOrder={},this._transparentOrder={},this._dirty=!1,this._dirtyBlend=!1,this._dirtyLights=!1,this._dirtyCameras=!1,this._meshInstances=[],this._lights=[],this.cameras=[],this._sortedLights=[[],[],[]],this._lightShadowCasters=[],this._globalLightCameras=[],this._globalLightCameraIds=[],this._renderedRt=[],this._renderedByCam=[],this._renderedLayer=[],this._renderList=[],this._renderListCamera=[]}cr.prototype.addLayer=function(e){this.layers.indexOf(e)<0&&this.layers.push(e)},cr.prototype.getLayerIdx=function(e){return this.layerToBatch[e.id]},cr.prototype.addLayerIdx=function(e,t){this.layerToBatch[t.id]=e},Object.assign(fr.prototype,{init:function(e,t,i,r){for(this.mesh||(this.mesh=new dt(e),this.mesh.primitive[0].type=1,this.mesh.primitive[0].base=0,this.mesh.primitive[0].indexed=!1,this.material=new or,this.material.vertexColors=!0,this.material.blend=!0,this.material.blendType=2,this.material.update()),this.layer=i;this.linesUsed+r>this.numLinesAllocated;)this.vb&&(this.vb.destroy(),this.vb=null),this.numLinesAllocated*=2;this.vertexFormat=t,this.vb||(this.vb=new fe(e,t,2*this.numLinesAllocated,1),this.mesh.vertexBuffer=this.vb,this.vbRam=new DataView(this.vb.lock()),this.meshInstance||(lr.worldTransform=N.IDENTITY,lr._dirtyWorld=lr._dirtyNormal=!1,this.meshInstance=new bt(lr,this.mesh,this.material),this.meshInstance.cull=!1))},addLines:function(e,t){for(var i,r=!!t.length,n=2*this.linesUsed*this.vertexFormat.size,a=0;a<e.length;a++)this.vbRam.setFloat32(n,e[a].x,!0),n+=4,this.vbRam.setFloat32(n,e[a].y,!0),n+=4,this.vbRam.setFloat32(n,e[a].z,!0),n+=4,i=r?t[a]:t,this.vbRam.setUint8(n,255*i.r),n+=1,this.vbRam.setUint8(n,255*i.g),n+=1,this.vbRam.setUint8(n,255*i.b),n+=1,this.vbRam.setUint8(n,255*i.a),n+=1;this.linesUsed+=e.length/2},finalize:function(e){this.linesUsed>0&&(this.vb.setData(this.vbRam.buffer),this.mesh.primitive[0].count=2*this.linesUsed,e[0]=this.meshInstance,this.layer.addMeshInstances(e,!0),this.linesUsed=0)}}),hr.prototype=Object.create(o.prototype),hr.prototype.constructor=hr,hr.prototype._sortLights=function(e){var t,i=e._lights;e._sortedLights[0].length=0,e._sortedLights[1].length=0,e._sortedLights[2].length=0;for(var r=0;r<i.length;r++)(t=i[r]).enabled&&e._sortedLights[t._type].push(t)},hr.prototype._update=function(){var e,t,i,r,n,a,s,o,l,c,f,h=this.layerList.length,u=0;if(!this._dirty||!this._dirtyLights||!this._dirtyCameras)for(e=0;e<h;e++)(n=this.layerList[e])._dirty&&(this._dirty=!0),n._dirtyLights&&(this._dirtyLights=!0),n._dirtyCameras&&(this._dirtyCameras=!0);if(this._dirty){var d;for(u|=1,this._meshInstances.length=0,e=0;e<h;e++)if(!(n=this.layerList[e]).passThrough){for(a=n.opaqueMeshInstances,t=0;t<a.length;t++)d=a[t],this._meshInstances.indexOf(d)<0&&(this._meshInstances.push(d),d.material&&d.material._dirtyBlend&&(this._dirtyBlend=!0,d.material._dirtyBlend=!1));for(a=n.transparentMeshInstances,t=0;t<a.length;t++)d=a[t],this._meshInstances.indexOf(d)<0&&(this._meshInstances.push(d),d.material&&d.material._dirtyBlend&&(this._dirtyBlend=!0,d.material._dirtyBlend=!1))}for(e=0;e<h;e++)this.layerList[e]._dirty=!1,this.layerList[e]._version++;this._dirty=!1}if(this._dirtyBlend){var p,_,m,b;for(u|=8,e=0;e<h;e++)if(!(n=this.layerList[e]).passThrough){for(p=n.opaqueMeshInstances,_=n.transparentMeshInstances,m=[],b=[],t=0;t<p.length;t++)p[t].material&&3!==p[t].material.blendType?b.push(p[t]):m.push(p[t]);for(t=0;t<_.length;t++)_[t].material&&3!==_[t].material.blendType?b.push(_[t]):m.push(_[t]);for(n.opaqueMeshInstances.length=m.length,t=0;t<m.length;t++)n.opaqueMeshInstances[t]=m[t];for(n.transparentMeshInstances.length=b.length,t=0;t<b.length;t++)n.transparentMeshInstances[t]=b[t]}this._dirtyBlend=!1}if(this._dirtyLights){for(u|=2,this._lights.length=0,this._lightShadowCasters.length=0,e=0;e<h;e++)for(a=(n=this.layerList[e])._lights,t=0;t<a.length;t++)l=a[t],(o=this._lights.indexOf(l))<0&&(this._lights.push(l),o=this._lights.length-1),(s=this._lightShadowCasters[o])||(this._lightShadowCasters[o]=s=[]);for(this._sortLights(this),this._dirtyLights=!1,e=0;e<h;e++)n=this.layerList[e],this._sortLights(n),n._dirtyLights=!1}if(u)for(e=0;e<h;e++)for(a=(n=this.layerList[e])._lights,t=0;t<a.length;t++){l=a[t],o=this._lights.indexOf(l),s=this._lightShadowCasters[o];var A=n.shadowCasters;for(i=0;i<s.length;)this._meshInstances.indexOf(s[i])<0?(s[i]=s[s.length-1],s.length-=1):i++;for(i=0;i<A.length;i++)s.indexOf(A[i])<0&&s.push(A[i])}if(2&u||this._dirtyCameras){this._globalLightCameras.length=0;var v=this._sortedLights[0];for(r=0;r<v.length;r++)for(l=v[r],this._globalLightCameras[r]=[],e=0;e<h;e++)if(!((n=this.layerList[e])._sortedLights[0].indexOf(l)<0))for(i=0;i<n.cameras.length;i++)this._globalLightCameras[r].indexOf(n.cameras[i])>=0||this._globalLightCameras[r].push(n.cameras[i])}if(this._dirtyCameras){for(u|=4,this.cameras.length=0,e=0;e<h;e++)for(n=this.layerList[e],t=0;t<n.cameras.length;t++)c=n.cameras[t],(f=this.cameras.indexOf(c))<0&&(f=this.cameras.length,this.cameras.push(c));var y,g,k;this._renderList.length=0,this._renderListCamera.length=0;var x=0;for(e=0;e<h;e++)if(x)x--;else if(0!==(n=this.layerList[e]).cameras.length||n.isPostEffect)if(0===(y=n._cameraHash))this._renderList.push(e),this._renderListCamera.push(0);else{for(g=1,t=e+1;t<h;t++){if(y!==this.layerList[t]._cameraHash){g=t-e-1;break}t===h-1&&(g=t-e)}if(1===g)for(k=0;k<n.cameras.length;k++)this._renderList.push(e),this._renderListCamera.push(k);else{for(k=0,k=0;k<n.cameras.length;k++)for(t=0;t<=g;t++)this._renderList.push(e+t),this._renderListCamera.push(k);x=g}}for(this._dirtyCameras=!1,e=0;e<h;e++)this.layerList[e]._dirtyCameras=!1}if(2&u||4&u)for(this._globalLightCameraIds.length=0,r=0;r<this._globalLightCameras.length;r++){for(a=[],e=0;e<this._globalLightCameras[r].length;e++)(f=this.cameras.indexOf(this._globalLightCameras[r][e]))<0||a.push(f);this._globalLightCameraIds.push(a)}return u},hr.prototype._isLayerAdded=function(e){return this.layerList.indexOf(e)>=0},hr.prototype._isSublayerAdded=function(e,t){for(var i=0;i<this.layerList.length;i++)if(this.layerList[i]===e&&this.subLayerList[i]===t)return!0;return!1},hr.prototype.push=function(e){this._isLayerAdded(e)||(this.layerList.push(e),this.layerList.push(e),this._opaqueOrder[e.id]=this.subLayerList.push(!1)-1,this._transparentOrder[e.id]=this.subLayerList.push(!0)-1,this.subLayerEnabled.push(!0),this.subLayerEnabled.push(!0),this._dirty=!0,this._dirtyLights=!0,this._dirtyCameras=!0,this.fire("add",e))},hr.prototype.insert=function(e,t){if(!this._isLayerAdded(e)){this.layerList.splice(t,0,e,e),this.subLayerList.splice(t,0,!1,!0);var i=this.layerList.length;this._updateOpaqueOrder(t,i-1),this._updateTransparentOrder(t,i-1),this.subLayerEnabled.splice(t,0,!0,!0),this._dirty=!0,this._dirtyLights=!0,this._dirtyCameras=!0,this.fire("add",e)}},hr.prototype.remove=function(e){var t=this.layerList.indexOf(e);for(delete this._opaqueOrder[t],delete this._transparentOrder[t];t>=0;)this.layerList.splice(t,1),this.subLayerList.splice(t,1),this.subLayerEnabled.splice(t,1),t=this.layerList.indexOf(e),this._dirty=!0,this._dirtyLights=!0,this._dirtyCameras=!0,this.fire("remove",e);var i=this.layerList.length;this._updateOpaqueOrder(0,i-1),this._updateTransparentOrder(0,i-1)},hr.prototype.pushOpaque=function(e){this._isSublayerAdded(e,!1)||(this.layerList.push(e),this._opaqueOrder[e.id]=this.subLayerList.push(!1)-1,this.subLayerEnabled.push(!0),this._dirty=!0,this._dirtyLights=!0,this._dirtyCameras=!0,this.fire("add",e))},hr.prototype.insertOpaque=function(e,t){if(!this._isSublayerAdded(e,!1)){this.layerList.splice(t,0,e),this.subLayerList.splice(t,0,!1);var i=this.subLayerList.length;this._updateOpaqueOrder(t,i-1),this.subLayerEnabled.splice(t,0,!0),this._dirty=!0,this._dirtyLights=!0,this._dirtyCameras=!0,this.fire("add",e)}},hr.prototype.removeOpaque=function(e){for(var t=0,i=this.layerList.length;t<i;t++)if(this.layerList[t]===e&&!this.subLayerList[t])return this.layerList.splice(t,1),this.subLayerList.splice(t,1),i--,this._updateOpaqueOrder(t,i-1),this.subLayerEnabled.splice(t,1),this._dirty=!0,this._dirtyLights=!0,this._dirtyCameras=!0,void(this.layerList.indexOf(e)<0&&this.fire("remove",e))},hr.prototype.pushTransparent=function(e){this._isSublayerAdded(e,!0)||(this.layerList.push(e),this._transparentOrder[e.id]=this.subLayerList.push(!0)-1,this.subLayerEnabled.push(!0),this._dirty=!0,this._dirtyLights=!0,this._dirtyCameras=!0,this.fire("add",e))},hr.prototype.insertTransparent=function(e,t){if(!this._isSublayerAdded(e,!0)){this.layerList.splice(t,0,e),this.subLayerList.splice(t,0,!0);var i=this.subLayerList.length;this._updateTransparentOrder(t,i-1),this.subLayerEnabled.splice(t,0,!0),this._dirty=!0,this._dirtyLights=!0,this._dirtyCameras=!0,this.fire("add",e)}},hr.prototype.removeTransparent=function(e){for(var t=0,i=this.layerList.length;t<i;t++)if(this.layerList[t]===e&&this.subLayerList[t])return this.layerList.splice(t,1),this.subLayerList.splice(t,1),i--,this._updateTransparentOrder(t,i-1),this.subLayerEnabled.splice(t,1),this._dirty=!0,this._dirtyLights=!0,this._dirtyCameras=!0,void(this.layerList.indexOf(e)<0&&this.fire("remove",e))},hr.prototype._getSublayerIndex=function(e,t){var i=this.layerList.indexOf(e);if(i<0)return-1;if(this.subLayerList[i]!==t){if((i=this.layerList.indexOf(e,i+1))<0)return-1;if(this.subLayerList[i]!==t)return-1}return i},hr.prototype.getOpaqueIndex=function(e){return this._getSublayerIndex(e,!1)},hr.prototype.getTransparentIndex=function(e){return this._getSublayerIndex(e,!0)},hr.prototype.getLayerById=function(e){for(var t=0;t<this.layerList.length;t++)if(this.layerList[t].id===e)return this.layerList[t];return null},hr.prototype.getLayerByName=function(e){for(var t=0;t<this.layerList.length;t++)if(this.layerList[t].name===e)return this.layerList[t];return null},hr.prototype._updateOpaqueOrder=function(e,t){for(var i=e;i<=t;i++)!1===this.subLayerList[i]&&(this._opaqueOrder[this.layerList[i].id]=i)},hr.prototype._updateTransparentOrder=function(e,t){for(var i=e;i<=t;i++)!0===this.subLayerList[i]&&(this._transparentOrder[this.layerList[i].id]=i)},hr.prototype._sortLayersDescending=function(e,t,i){var r=0,n=0,a=0,s=-1,o=-1;for(r=0,n=e.length;r<n;r++)a=e[r],i.hasOwnProperty(a)&&(s=Math.max(s,i[a]));for(r=0,n=t.length;r<n;r++)a=t[r],i.hasOwnProperty(a)&&(o=Math.max(o,i[a]));return-1===s&&-1!==o?1:-1===o&&-1!==s?-1:o-s},hr.prototype.sortTransparentLayers=function(e,t){return this._sortLayersDescending(e,t,this._transparentOrder)},hr.prototype.sortOpaqueLayers=function(e,t){return this._sortLayersDescending(e,t,this._opaqueOrder)};var ur,dr,pr=[],_r=[],mr=new I,br=new W,Ar=new W,vr={},yr=["texture_lightMap","texture_dirLightMap"],gr=[];function kr(e,t,i,r){if(e.enabled){var n;if(e.model&&e.model.model&&e.model.enabled&&(r&&r.push(e),e.model.lightmapped&&t)){var a=!0,s=e.model.model.meshInstances;for(n=0;n<s.length;n++)if(!s[n].mesh.vertexBuffer.format.hasUv1){a=!1;break}if(a){var o,l,c=[];for(n=0;n<s.length;n++){for(l=!1,o=0;o<s.length;o++)n!==o&&s[n].mesh===s[o].mesh&&(l=!0);l?(t.push(e),i.push([s[n]])):c.push(s[n])}c.length>0&&(t.push(e),i.push(c))}}for(n=0;n<e._children.length;n++)kr(e._children[n],t,i,r)}}function xr(e,t,i,r,n){this.device=e,this.root=t,this.scene=i,this.renderer=r,this.assets=n}Object.assign(xr.prototype,{destroy:function(){this.device=null,this.root=null,this.scene=null,this.renderer=null,this.assets=null},calculateLightmapSize:function(e){var t,i,r=this.scene.lightmapSizeMultiplier||16,n=mr,a={x:1,y:1,z:1,uv:1};e.model.asset?(t=this.assets.get(e.model.asset).data).area&&(a.x=t.area.x,a.y=t.area.y,a.z=t.area.z,a.uv=t.area.uv):e.model._area&&(t=e.model)._area&&(a.x=t._area.x,a.y=t._area.y,a.z=t._area.z,a.uv=t._area.uv);var s=e.model.lightmapSizeMultiplier||1;for(a.x*=s,a.y*=s,a.z*=s,n.copy(e.localScale),i=e._parent;i;)n.mul(i.localScale),i=i._parent;n.x=Math.abs(n.x),n.y=Math.abs(n.y),n.z=Math.abs(n.z);var o=a.x*n.y*n.z+a.y*n.x*n.z+a.z*n.x*n.y;return o/=a.uv,o=Math.sqrt(o),Math.min(A.nextPowerOfTwo(o*r),this.scene.lightmapMaxResolution||2048)},bake:function(e,t){var i,r,n,a=this.device,s=this.scene,o=1;void 0===t&&(t=1),1===t&&(o=2);var l=[],c=[];if(e){var f;for(i=_r.length-1;i>=0;i--)for(r=0;r<e.length;r++)if(_r[i]===e[r]){for(f=0;f<pr[i].length;f++)pr[i][f].destroy();pr.splice(i,1),_r.splice(i,1)}var h=[];for(i=0;i<e.length;i++)kr(e[i],h,c);e=h,kr(this.root,null,null,l)}else{for(i=0;i<pr.length;i++)for(r=0;r<pr[i].length;r++)pr[i][r].destroy();pr=[],_r=[],e=[],kr(this.root,e,c,l)}if(0!==e.length){var u=!1;s._needsStaticPrepare&&(s._needsStaticPrepare=!1,u=!0);var d,p,_=[[],[]],m={},b=new nt(this.device,{width:4,height:4,format:7,type:"rgbm"});for(b.name="lightmap",i=0;i<e.length;i++){for(d=this.calculateLightmapSize(e[i]),n=0;n<o;n++)(p=new nt(a,{width:d,height:d,format:7,mipmaps:!1,type:0===n?"rgbm":"default",minFilter:0,magFilter:0})).name="lightmap",_[n].push(p);if(!m[d]){var A=new nt(a,{width:d,height:d,format:7,mipmaps:!1,type:"rgbm",minFilter:0,magFilter:0});A.name="lightmap";var y=new qu(a,A,{depth:!1});m[d]=y}}var g=s.layers;g._update();var k,S=[],T=[],w=[],E=[],M=g._lights;for(i=0;i<M.length;i++)M[i].enabled&&0!==(4&(k=M[i].mask))&&(T.push(k),w.push(M[i].shadowUpdateMode),M[i].mask=4294967295,M[i].shadowUpdateMode=0===M[i]._type?2:1,S.push(M[i]),M[i].isStatic=!1),E.push(M[i].enabled),M[i].enabled=!1;var P="#define UV1LAYOUT\n"+Ce.transformVS,R=Ce.bakeLmEndPS,C=Ce.dilatePS,O=We(a,Ce.fullscreenQuadVS,C,"lmDilate"),I=a.scope.resolve("source"),D=a.scope.resolve("pixelOffset"),F=a.scope.resolve("bakeDir"),N=new Float32Array(2),B=g._meshInstances;for(i=0;i<B.length;i++)B[i].node&&B[i].node.getWorldTransform();var L,U,V,z,j=s.fog,G=s.ambientLight.r,H=s.ambientLight.g,Y=s.ambientLight.b;s.fog="none",s.ambientLight.set(0,0,0),ur||((ur=new zt).clearColor=new v(0,0,0,0),ur.clearColorBuffer=!0,ur.clearDepthBuffer=!1,ur.clearStencilBuffer=!1,ur.frustumCulling=!1,ur.node=new ei);var X,Z=[];for(Z.length=_r.length,L=0;L<l.length;L++){for(V=l[L].model.model.meshInstances,X=[],i=0;i<V.length;i++)X.push(V[i]._shaderDefs),V[i]._shaderDefs&=-193;for(i=0;i<_r.length;i++)if(_r[i]===l[L]){Z[i]=X;break}}var Q,J=[],q=[];for(L=0;L<l.length;L++)if(J[L]=l[L].model.castShadows,l[L].model.castShadows=l[L].model.castShadowsLightmap,l[L].model.castShadowsLightmap)for(Q=l[L].model.meshInstances,i=0;i<Q.length;i++)Q[i].visibleThisFrame=!0,q.push(Q[i]);this.renderer.updateCpuSkinMatrices(q),this.renderer.gpuUpdate(q);var K,$,ee,te,ie,re,ne=[],ae=[],se=[[],[]],oe=[];for(oe.length=e.length,n=0;n<o;n++)gr[n]||((re=new wu).chunks.transformVS=P,0===n?(re.chunks.endPS=R,re.ambient=new v(0,0,0),re.ambientTint=!0,re.lightMap=b):(re.chunks.basePS=Ce.basePS+"\nuniform sampler2D texture_dirLightMap;\nuniform float bakeDir;\n",re.chunks.endPS=Ce.bakeDirLmEndPS),re.chunks.outputAlphaPS="\n",re.chunks.outputAlphaOpaquePS="\n",re.chunks.outputAlphaPremulPS="\n",re.cull=0,re.forceUv1=!0,re.update(),re.updateShader(a,s),re.name="lmMaterial"+n,gr[n]=re);for(L=0;L<e.length;L++){if(V=c[L],oe[L]=0,V.length>0)for(br.copy(V[0].aabb),i=0;i<V.length;i++)V[i].node.getWorldTransform(),br.add(V[i].aabb);var le=new W;for(le.copy(br),ae.push(le),i=0;i<V.length;i++)(z=V[i])._shaderDefs&=-193,z.mask=4,z.deleteParameter("texture_lightMap"),z.deleteParameter("texture_dirLightMap"),z.setParameter("texture_lightMap",z.material.lightMap?z.material.lightMap:b),z.setParameter("texture_dirLightMap",b);for(n=0;n<o;n++)U=_[n][L],K=new qu(a,U,{depth:!1}),se[n].push(K)}for(r=0;r<S.length;r++)S[r].enabled=!1;var ce,fe,he=[[],[],[]],ue=!1;for(i=0;i<S.length;i++){for(S[i].enabled=!0,ce=!1,S[i]._cacheShadowMap=!0,0!==S[i]._type&&(S[i]._node.getWorldTransform(),S[i].getBoundingSphere(vr),Ar.center=vr.center,Ar.halfExtents.x=vr.radius,Ar.halfExtents.y=vr.radius,Ar.halfExtents.z=vr.radius),2===S[i]._type&&(te=S[i],(ie=this.renderer.getShadowCamera(a,te))._node.setPosition(te._node.getPosition()),ie._node.setRotation(te._node.getRotation()),ie._node.rotateLocal(-90,0,0),ie.projection=0,ie.nearClip=te.attenuationEnd/1e3,ie.farClip=te.attenuationEnd,ie.aspectRatio=1,ie.fov=2*te._outerConeAngle,this.renderer.updateCameraFrustum(ie)),c.length>0&&this.renderer.updateShaders(c[0]),L=0;L<e.length;L++){if(V=c[L],br=ae[L],0===S[i]._type){mr.copy(br.center),mr.y+=br.halfExtents.y,ur.node.setPosition(mr),ur.node.setEulerAngles(-90,0,0);var de=Math.max(br.halfExtents.x,br.halfExtents.z);ur.projection=1,ur.nearClip=0,ur.farClip=2*br.halfExtents.y,ur.aspectRatio=1,ur.orthoHeight=de}else if(!Ar.intersects(br))continue;if(2===S[i]._type){var pe=!1;for(r=0;r<V.length;r++)if(V[r]._isVisible(ie)){pe=!0;break}if(!pe)continue}for(0===S[i]._type?(he[0][0]=S[i],he[1].length=0,he[2].length=0,!ce&&S[i].castShadows&&(this.renderer.cullDirectionalShadowmap(S[i],q,ur,0),this.renderer.renderShadows(he[0],0),ce=!0)):(he[0].length=0,1===S[i]._type?(he[1][0]=S[i],he[2].length=0,!ce&&S[i].castShadows&&(this.renderer.cullLocalShadowmap(S[i],q),this.renderer.renderShadows(he[1]),ce=!0)):(he[1].length=0,he[2][0]=S[i],!ce&&S[i].castShadows&&(this.renderer.cullLocalShadowmap(S[i],q),this.renderer.renderShadows(he[2]),ce=!0))),r=0;r<V.length;r++)ne[r]=V[r].material;for(n=0;n<o;n++){for(U=_[n][L],K=se[n][L],ee=($=m[U.width]).colorBuffer,0===n?ue=s.updateShaders:ue&&(s.updateShaders=!0),r=0;r<V.length;r++)V[r].material=gr[n];for(o>1&&this.renderer.updateShaders(V),this.renderer.setCamera(ur,$,!0),1===n&&F.setValue(S[i].bakeDir?1:0),this.renderer._forwardTime=0,this.renderer._shadowMapTime=0,this.renderer.renderForward(ur,V,V.length,he,1),_[n][L]=ee,se[n][L]=$,m[U.width]=K,r=0;r<V.length;r++)(z=V[r]).setParameter(yr[n],ee),z._shaderDefs|=64}for(oe[L]++,r=0;r<V.length;r++)V[r].material=ne[r]}S[i].enabled=!1,S[i]._cacheShadowMap=!1,S[i]._isCachedShadowMap&&S[i]._destroyShadowMap()}for(L=0;L<e.length;L++){for(V=c[L],fe=[],n=0;n<o;n++){for(U=_[n][L],K=se[n][L],ee=($=m[U.width]).colorBuffer,N[0]=1/U.width,N[1]=1/U.height,D.setValue(N),i=0;i<4;i++)I.setValue(U),Pe(a,$,O),I.setValue(ee),Pe(a,K,O);for(i=0;i<V.length;i++)(z=V[i]).mask=2,V[i].setParameter(yr[n],U),1===n&&(V[i]._shaderDefs|=128);fe[n]=U,n===o-1&&K.destroy()}pr.push(fe),_r.push(e[L])}for(var _e in m)m.hasOwnProperty(_e)&&(m[_e].colorBuffer.destroy(),m[_e].destroy());for(i=0;i<pr.length;i++)for(r=0;r<pr[i].length;r++)(p=pr[i][r]).minFilter=1,p.magFilter=1;for(L=0;L<l.length;L++)l[L].model.castShadows=J[L];for(i=0;i<Z.length;i++)if(Z[i])for(V=_r[i].model.model.meshInstances,r=0;r<V.length;r++)V[r]._shaderDefs|=192&Z[i][r];for(i=0;i<S.length;i++)S[i].mask=T[i],S[i].shadowUpdateMode=w[i];for(i=0;i<M.length;i++)M[i].enabled=E[i];s.fog=j,s.ambientLight.set(G,H,Y),u&&(s._needsStaticPrepare=!0)}else a.fire("lightmapper:end",{timestamp:x(),target:this})}});var Sr=1,Tr=new N,wr=new N,Er=new I,Mr=new I,Pr=new I,Rr=new I,Cr=new I,Or=new I,Ir=new I,Dr=new I,Fr=new I,Nr=new I,Br=new I,Lr=new I,Ur=new I;function Vr(e){return e-Math.floor(e)}function zr(e,t){return e-t*Math.floor(e/t)}function jr(e){var t=Vr(e),i=Vr(255*e);return[t-=i/255,i-=i/255]}function Wr(e){this._emitter=e}Wr.prototype.calcSpawnPosition=function(e,t,i,r,n){var a,s=this._emitter,o=Math.random(),l=Math.random(),c=Math.random(),f=Math.random();if(s.useCpu&&(e[4*n+0+2*s.numParticlesPot*4]=o,e[4*n+1+2*s.numParticlesPot*4]=l,e[4*n+2+2*s.numParticlesPot*4]=c),Mr.x=o-.5,Mr.y=l-.5,Mr.z=c-.5,0===s.emitterShape){var h=Math.max(Math.abs(Mr.x),Math.max(Math.abs(Mr.y),Math.abs(Mr.z))),u=h+(.5-h)*i[0],d=h+(.5-h)*i[1],p=h+(.5-h)*i[2];Mr.x=u*(h==Math.abs(Mr.x)?Math.sign(Mr.x):2*Mr.x),Mr.y=d*(h==Math.abs(Mr.y)?Math.sign(Mr.y):2*Mr.y),Mr.z=p*(h==Math.abs(Mr.z)?Math.sign(Mr.z):2*Mr.z),s.localSpace?Er.copy(t.transformPoint(Mr)):Er.copy(r).add(t.transformPoint(Mr))}else{Mr.normalize();var _=0===s.emitterRadius?0:s.emitterRadiusInner/s.emitterRadius,m=f*(1-_)+_;s.localSpace?Er.copy(Mr.scale(m*s.emitterRadius)):Er.copy(r).add(Mr.scale(m*s.emitterRadius))}if(a=-A.lerp(s.rate,s.rate2,o)*n,s.pack8){var b=(Er.x-s.worldBounds.center.x)/s.worldBoundsSize.x+.5,v=(Er.y-s.worldBounds.center.y)/s.worldBoundsSize.y+.5,y=(Er.z-s.worldBounds.center.z)/s.worldBoundsSize.z+.5,g=A.lerp(s.startAngle*A.DEG_TO_RAD,s.startAngle2*A.DEG_TO_RAD,o);g=g%(2*Math.PI)/(2*Math.PI);var k=jr(b);e[4*n]=k[0],e[4*n+1]=k[1];var x=jr(v);e[4*n+2]=x[0],e[4*n+3]=x[1];var S=jr(y);e[4*n+0+4*s.numParticlesPot]=S[0],e[4*n+1+4*s.numParticlesPot]=S[1];var T=jr(g);e[4*n+2+4*s.numParticlesPot]=T[0],e[4*n+3+4*s.numParticlesPot]=T[1],e[4*n+3+4*s.numParticlesPot*2]=1;var w=Math.max(s.lifetime,(s.numParticles-1)*Math.max(s.rate,s.rate2)),E=function(e){var t=Vr(e),i=Vr(255*e),r=Vr(65025*e),n=Vr(160581375*e);return[t-=i/255,i-=r/255,r-=n/255,n-=n/255]}(a=(a+w)/(w+(s.lifetime+1)));e[4*n+0+4*s.numParticlesPot*3]=E[0],e[4*n+1+4*s.numParticlesPot*3]=E[1],e[4*n+2+4*s.numParticlesPot*3]=E[2],e[4*n+3+4*s.numParticlesPot*3]=E[3]}else e[4*n]=Er.x,e[4*n+1]=Er.y,e[4*n+2]=Er.z,e[4*n+3]=A.lerp(s.startAngle*A.DEG_TO_RAD,s.startAngle2*A.DEG_TO_RAD,o),e[4*n+3+4*s.numParticlesPot]=a},Wr.prototype.update=function(e,t,i,r,n,a,s,o){var l,c,f,h,u,d=this._emitter;if(d.meshInstance.node){var p=d.meshInstance.node.worldTransform;for(u=0;u<12;u++)Tr.data[u]=p.data[u];wr.copy(Tr),wr.invert(),dr=d.meshInstance.node.localScale,Sr=Math.max(Math.max(dr.x,dr.y),dr.z)}a=null===d.meshInstance.node||d.localSpace?I.ZERO:d.meshInstance.node.getPosition();var _,m,b,A,v,y,g,k,x,S=d.camera?d.camera._node.getPosition():I.ZERO,T=d.useMesh?17:15,w=d.precision-1;for(h=0;h<d.numParticles;h++){var E=Math.floor(d.vbCPU[h*d.numParticleVerts*(d.useMesh?6:4)+3]),M=i[4*E+0+2*d.numParticlesPot*4];Pr.x=M,Pr.y=i[4*E+1+2*d.numParticlesPot*4],Pr.z=i[4*E+2+2*d.numParticlesPot*4];var P=d.rate+(d.rate2-d.rate)*M,R=d.lifetime,C=i[4*E+3+4*d.numParticlesPot]+s,O=(x=C/R,Math.max(Math.min(x,1),0)),D=0,F=0;(C-s<=0||C>=R)&&this.calcSpawnPosition(i,r,n,a,E);var N=C>0&&C<R;N&&(f=O*w,_=Math.floor(f),m=Math.ceil(f),f%=1,b=(l=d.qRotSpeed[_])+((c=d.qRotSpeed[m])-l)*f,A=(l=d.qRotSpeed2[_])+((c=d.qRotSpeed2[m])-l)*f,D=(l=d.qScale[_])+((c=d.qScale[m])-l)*f,v=(l=d.qScale2[_])+((c=d.qScale2[m])-l)*f,y=(l=d.qAlpha[_])+((c=d.qAlpha[m])-l)*f,g=(l=d.qAlpha2[_])+((c=d.qAlpha2[m])-l)*f,k=(l=d.qRadialSpeed[_])+((c=d.qRadialSpeed[m])-l)*f,k+=100*M%1*((l=d.qRadialSpeed2[_])+((c=d.qRadialSpeed2[m])-l)*f-k),Rr.x=i[4*E],Rr.y=i[4*E+1],Rr.z=i[4*E+2],d.localSpace?Fr.copy(Rr):Fr.copy(Rr).sub(a),Fr.normalize().scale(k),_*=3,m*=3,l=d.qLocalVelocity[_],c=d.qLocalVelocity[m],Or.x=l+(c-l)*f,l=d.qLocalVelocity[_+1],c=d.qLocalVelocity[m+1],Or.y=l+(c-l)*f,l=d.qLocalVelocity[_+2],c=d.qLocalVelocity[m+2],Or.z=l+(c-l)*f,l=d.qLocalVelocity2[_],c=d.qLocalVelocity2[m],Dr.x=l+(c-l)*f,l=d.qLocalVelocity2[_+1],c=d.qLocalVelocity2[m+1],Dr.y=l+(c-l)*f,l=d.qLocalVelocity2[_+2],c=d.qLocalVelocity2[m+2],Dr.z=l+(c-l)*f,l=d.qVelocity[_],c=d.qVelocity[m],Cr.x=l+(c-l)*f,l=d.qVelocity[_+1],c=d.qVelocity[m+1],Cr.y=l+(c-l)*f,l=d.qVelocity[_+2],c=d.qVelocity[m+2],Cr.z=l+(c-l)*f,l=d.qVelocity2[_],c=d.qVelocity2[m],Ir.x=l+(c-l)*f,l=d.qVelocity2[_+1],c=d.qVelocity2[m+1],Ir.y=l+(c-l)*f,l=d.qVelocity2[_+2],c=d.qVelocity2[m+2],Ir.z=l+(c-l)*f,Or.x+=(Dr.x-Or.x)*Pr.x,Or.y+=(Dr.y-Or.y)*Pr.y,Or.z+=(Dr.z-Or.z)*Pr.z,d.initialVelocity>0&&(1===d.emitterShape?(Mr.copy(Pr).scale(2).sub(I.ONE).normalize(),Or.add(Mr.scale(d.initialVelocity))):Or.add(I.FORWARD.scale(d.initialVelocity))),Cr.x+=(Ir.x-Cr.x)*Pr.x,Cr.y+=(Ir.y-Cr.y)*Pr.y,Cr.z+=(Ir.z-Cr.z)*Pr.z,b+=(A-b)*Pr.y,D=(D+1e4*M%1*(v-D))*Sr,F=1e3*M%1*(g-y),d.meshInstance.node&&(d.localSpace?(Or.x/=dr.x,Or.y/=dr.y,Or.z/=dr.z):Tr.transformPoint(Or,Or)),d.localSpace?(wr.transformPoint(Cr,Cr),Or.add(Cr).add(Fr)):(Or.add(Cr.mul(dr)),Or.add(Fr.mul(dr))),Lr.copy(Or),Nr.copy(Rr).add(Or.scale(s)),Br.copy(Nr),i[4*E]=Br.x,i[4*E+1]=Br.y,i[4*E+2]=Br.z,i[4*E+3]+=b*s,d.wrap&&d.wrapBounds&&(d.localSpace||Br.sub(a),Br.x=zr(Br.x,d.wrapBounds.x)-.5*d.wrapBounds.x,Br.y=zr(Br.y,d.wrapBounds.y)-.5*d.wrapBounds.y,Br.z=zr(Br.z,d.wrapBounds.z)-.5*d.wrapBounds.z,d.localSpace||Br.add(a)),d.sort>0&&(1===d.sort?(Ur.copy(Br).sub(S),d.particleDistance[E]=-(Ur.x*Ur.x+Ur.y*Ur.y+Ur.z*Ur.z)):2===d.sort?d.particleDistance[E]=C:3===d.sort&&(d.particleDistance[E]=-C))),o?C<0&&(i[4*E+3+2*d.numParticlesPot*4]=-1):(C>=R&&(C-=Math.max(R,(d.numParticles-1)*P),i[4*E+3+2*d.numParticlesPot*4]=d.loop?1:-1),C<0&&d.loop&&(i[4*E+3+2*d.numParticlesPot*4]=1)),i[4*E+3+2*d.numParticlesPot*4]<0&&(N=!1),i[4*E+3+4*d.numParticlesPot]=C;for(var B=0;B<d.numParticleVerts;B++){var L=(h*d.numParticleVerts+B)*(d.useMesh?6:4),U=d.vbCPU[L],V=d.vbCPU[L+1],z=d.vbCPU[L+2];N||(U=V=z=0);var j=h*d.numParticleVerts*T+B*T;e[j]=Br.x,e[j+1]=Br.y,e[j+2]=Br.z,e[j+3]=O,e[j+4]=d.alignToMotion?0:i[4*E+3],e[j+5]=D,e[j+6]=F,e[j+7]=Lr.x,e[j+8]=U,e[j+9]=V,e[j+10]=z,e[j+11]=Lr.y,e[j+12]=E,e[j+13]=Lr.z,e[j+14]=d.vbCPU[L+3],d.useMesh&&(e[j+15]=d.vbCPU[L+4],e[j+16]=d.vbCPU[L+5])}}if(d.sort>0&&d.camera){var W=d.useMesh?6:4,G=d.particleDistance;for(h=0;h<d.numParticles;h++)t[h][0]=h,t[h][1]=G[Math.floor(d.vbCPU[h*d.numParticleVerts*W+3])];for(d.vbOld.set(d.vbCPU),t.sort((function(e,t){return e[1]-t[1]})),h=0;h<d.numParticles;h++){var H=t[h][0]*d.numParticleVerts*W,Y=h*d.numParticleVerts*W;for(u=0;u<d.numParticleVerts*W;u++)d.vbCPU[Y+u]=d.vbOld[H+u]}}};var Gr=new C,Hr=new C,Yr=new C;function Xr(e,t){t.data[0]=e.data[0],t.data[1]=e.data[1],t.data[2]=e.data[2],t.data[3]=e.data[4],t.data[4]=e.data[5],t.data[5]=e.data[6],t.data[6]=e.data[8],t.data[7]=e.data[9],t.data[8]=e.data[10]}function Zr(e,t){this._emitter=e,this.frameRandomUniform=new Float32Array(3),this.emitterPosUniform=new Float32Array(3),this.emitterScaleUniform=new Float32Array([1,1,1]),this.worldBoundsMulUniform=new Float32Array(3),this.worldBoundsAddUniform=new Float32Array(3),this.inBoundsSizeUniform=new Float32Array(3),this.inBoundsCenterUniform=new Float32Array(3),this.constantParticleTexIN=t.scope.resolve("particleTexIN"),this.constantParticleTexOUT=t.scope.resolve("particleTexOUT"),this.constantEmitterPos=t.scope.resolve("emitterPos"),this.constantEmitterScale=t.scope.resolve("emitterScale"),this.constantSpawnBounds=t.scope.resolve("spawnBounds"),this.constantSpawnPosInnerRatio=t.scope.resolve("spawnPosInnerRatio"),this.constantSpawnBoundsSphere=t.scope.resolve("spawnBoundsSphere"),this.constantSpawnBoundsSphereInnerRatio=t.scope.resolve("spawnBoundsSphereInnerRatio"),this.constantInitialVelocity=t.scope.resolve("initialVelocity"),this.constantFrameRandom=t.scope.resolve("frameRandom"),this.constantDelta=t.scope.resolve("delta"),this.constantRate=t.scope.resolve("rate"),this.constantRateDiv=t.scope.resolve("rateDiv"),this.constantLifetime=t.scope.resolve("lifetime"),this.constantGraphSampleSize=t.scope.resolve("graphSampleSize"),this.constantGraphNumSamples=t.scope.resolve("graphNumSamples"),this.constantInternalTex0=t.scope.resolve("internalTex0"),this.constantInternalTex1=t.scope.resolve("internalTex1"),this.constantInternalTex2=t.scope.resolve("internalTex2"),this.constantInternalTex3=t.scope.resolve("internalTex3"),this.constantEmitterMatrix=t.scope.resolve("emitterMatrix"),this.constantEmitterMatrixInv=t.scope.resolve("emitterMatrixInv"),this.constantNumParticles=t.scope.resolve("numParticles"),this.constantNumParticlesPot=t.scope.resolve("numParticlesPot"),this.constantLocalVelocityDivMult=t.scope.resolve("localVelocityDivMult"),this.constantVelocityDivMult=t.scope.resolve("velocityDivMult"),this.constantRotSpeedDivMult=t.scope.resolve("rotSpeedDivMult"),this.constantSeed=t.scope.resolve("seed"),this.constantStartAngle=t.scope.resolve("startAngle"),this.constantStartAngle2=t.scope.resolve("startAngle2"),this.constantOutBoundsMul=t.scope.resolve("outBoundsMul"),this.constantOutBoundsAdd=t.scope.resolve("outBoundsAdd"),this.constantInBoundsSize=t.scope.resolve("inBoundsSize"),this.constantInBoundsCenter=t.scope.resolve("inBoundsCenter"),this.constantMaxVel=t.scope.resolve("maxVel"),this.constantFaceTangent=t.scope.resolve("faceTangent"),this.constantFaceBinorm=t.scope.resolve("faceBinorm")}Zr.prototype._setInputBounds=function(){this.inBoundsSizeUniform[0]=this._emitter.prevWorldBoundsSize.x,this.inBoundsSizeUniform[1]=this._emitter.prevWorldBoundsSize.y,this.inBoundsSizeUniform[2]=this._emitter.prevWorldBoundsSize.z,this.constantInBoundsSize.setValue(this.inBoundsSizeUniform),this.inBoundsCenterUniform[0]=this._emitter.prevWorldBoundsCenter.x,this.inBoundsCenterUniform[1]=this._emitter.prevWorldBoundsCenter.y,this.inBoundsCenterUniform[2]=this._emitter.prevWorldBoundsCenter.z,this.constantInBoundsCenter.setValue(this.inBoundsCenterUniform)},Zr.prototype.randomize=function(){this.frameRandomUniform[0]=Math.random(),this.frameRandomUniform[1]=Math.random(),this.frameRandomUniform[2]=Math.random()},Zr.prototype.update=function(e,t,i,r,n){var a=this._emitter;e.setBlending(!1),e.setColorWrite(!0,!0,!0,!0),e.setCullMode(0),e.setDepthTest(!1),e.setDepthWrite(!1),this.randomize(),this.constantGraphSampleSize.setValue(1/a.precision),this.constantGraphNumSamples.setValue(a.precision),this.constantNumParticles.setValue(a.numParticles),this.constantNumParticlesPot.setValue(a.numParticlesPot),this.constantInternalTex0.setValue(a.internalTex0),this.constantInternalTex1.setValue(a.internalTex1),this.constantInternalTex2.setValue(a.internalTex2),this.constantInternalTex3.setValue(a.internalTex3);var s=a.meshInstance.node,o=null===s?I.ONE:s.localScale;if(a.pack8){this.worldBoundsMulUniform[0]=a.worldBoundsMul.x,this.worldBoundsMulUniform[1]=a.worldBoundsMul.y,this.worldBoundsMulUniform[2]=a.worldBoundsMul.z,this.constantOutBoundsMul.setValue(this.worldBoundsMulUniform),this.worldBoundsAddUniform[0]=a.worldBoundsAdd.x,this.worldBoundsAddUniform[1]=a.worldBoundsAdd.y,this.worldBoundsAddUniform[2]=a.worldBoundsAdd.z,this.constantOutBoundsAdd.setValue(this.worldBoundsAddUniform),this._setInputBounds();var l=a.maxVel*Math.max(Math.max(o.x,o.y),o.z);l=Math.max(l,1),this.constantMaxVel.setValue(l)}var c=null===s||a.localSpace?I.ZERO:s.getPosition(),f=null===s?N.IDENTITY:s.getWorldTransform();0===a.emitterShape?(Xr(t,Gr),this.constantSpawnBounds.setValue(Gr.data),this.constantSpawnPosInnerRatio.setValue(i)):(this.constantSpawnBoundsSphere.setValue(a.emitterRadius),this.constantSpawnBoundsSphereInnerRatio.setValue(0===a.emitterRadius?0:a.emitterRadiusInner/a.emitterRadius)),this.constantInitialVelocity.setValue(a.initialVelocity),Xr(f,Hr),f.invertTo3x3(Yr),this.emitterPosUniform[0]=c.x,this.emitterPosUniform[1]=c.y,this.emitterPosUniform[2]=c.z,this.constantEmitterPos.setValue(this.emitterPosUniform),this.constantFrameRandom.setValue(this.frameRandomUniform),this.constantDelta.setValue(r),this.constantRate.setValue(a.rate),this.constantRateDiv.setValue(a.rate2-a.rate),this.constantStartAngle.setValue(a.startAngle*A.DEG_TO_RAD),this.constantStartAngle2.setValue(a.startAngle2*A.DEG_TO_RAD),this.constantSeed.setValue(a.seed),this.constantLifetime.setValue(a.lifetime),this.emitterScaleUniform[0]=o.x,this.emitterScaleUniform[1]=o.y,this.emitterScaleUniform[2]=o.z,this.constantEmitterScale.setValue(this.emitterScaleUniform),this.constantEmitterMatrix.setValue(Hr.data),this.constantEmitterMatrixInv.setValue(Yr.data),this.constantLocalVelocityDivMult.setValue(a.localVelocityUMax),this.constantVelocityDivMult.setValue(a.velocityUMax),this.constantRotSpeedDivMult.setValue(a.rotSpeedUMax[0]);var h=a.swapTex?a.particleTexOUT:a.particleTexIN;h=a.beenReset?a.particleTexStart:h;var u=a.swapTex?a.particleTexIN:a.particleTexOUT;this.constantParticleTexIN.setValue(h),Pe(e,a.swapTex?a.rtParticleTexIN:a.rtParticleTexOUT,n?a.shaderParticleUpdateOnStop:a.loop?a.shaderParticleUpdateRespawn:a.shaderParticleUpdateNoRespawn),a.material.setParameter("particleTexOUT",h),a.material.setParameter("particleTexIN",u),a.beenReset=!1,a.swapTex=!a.swapTex,e.setDepthTest(!0),e.setDepthWrite(!0),a.prevWorldBoundsSize.copy(a.worldBoundsSize),a.prevWorldBoundsCenter.copy(a.worldBounds.center),a.pack8&&this._setInputBounds()};var Qr=[[-1,-1],[1,-1],[1,1],[-1,1]],Jr=function(e,t,i,r,n,a,s){n||(n=14);var o=0;s&&7===n&&(o=1);var l=new nt(e,{width:t,height:i,format:n,cubemap:!1,mipmaps:!1,minFilter:o,magFilter:o,addressU:1,addressV:1});l.name="PSTexture";var c=l.lock();if(7===n){for(var f=new Uint8Array(r.length),h=0;h<r.length;h++)f[h]=r[h]*a*255;r=f}return c.set(r),l.unlock(),l};function qr(e){return Math.max(Math.min(e,1),0)}var Kr,$r,en=new P([0,0,1,0]),tn=new P([0,1,1,1]),rn=new R([0,0,1,0],[0,0,1,0],[0,0,1,0]),nn=new R([0,1,1,1],[0,1,1,1],[0,1,1,1]),an=2,sn=new Float32Array(3),on=new N,ln=new I,cn=new I,fn=new I;function hn(e,t){void 0!==$r[e]&&null!==$r[e]?Kr[e]=$r[e]:Kr[e]=t}function un(e,t,i){return(255*e<<16|255*t<<8|255*i)/(1<<24)}function dn(e,t){for(var i=e.length/3,r=new Array(4*i),n=0;n<i;n++)r[4*n]=e[3*n],r[4*n+1]=e[3*n+1],r[4*n+2]=e[3*n+2],r[4*n+3]=un(t[3*n],t[3*n+1],t[3*n+2]);return r}var pn,_n,mn=function e(t,i){this.graphicsDevice=t;var r=t;if(this.precision=32,this._addTimeTime=0,!e.DEFAULT_PARAM_TEXTURE){var n,a,s,o,l,c,f=new Float32Array(1024);for(a=0;a<16;a++)for(n=0;n<16;n++)s=n+1-8.5,o=a+1-8.5,c=qr(1-qr(Math.sqrt(s*s+o*o)/16)-.5),f[4*(l=16*a+n)]=1,f[4*l+1]=1,f[4*l+2]=1,f[4*l+3]=c;(e.DEFAULT_PARAM_TEXTURE=Jr(r,16,16,f,7,1,!0)).minFilter=1,e.DEFAULT_PARAM_TEXTURE.magFilter=1}Kr=this,$r=i,hn("numParticles",1),this.numParticles>t.maxTextureSize&&(console.warn("WARNING: can't create more than "+t.maxTextureSize+" particles on this device."),this.numParticles=t.maxTextureSize),hn("rate",1),hn("rate2",this.rate),hn("lifetime",50),hn("emitterExtents",new I(0,0,0)),hn("emitterExtentsInner",new I(0,0,0)),hn("emitterRadius",0),hn("emitterRadiusInner",0),hn("emitterShape",0),hn("initialVelocity",1),hn("wrap",!1),hn("localSpace",!1),hn("screenSpace",!1),hn("wrapBounds",null),hn("colorMap",e.DEFAULT_PARAM_TEXTURE),hn("normalMap",null),hn("loop",!0),hn("preWarm",!1),hn("sort",0),hn("mode",0),hn("scene",null),hn("lighting",!1),hn("halfLambert",!1),hn("intensity",1),hn("stretch",0),hn("alignToMotion",!1),hn("depthSoftening",0),hn("mesh",null),hn("particleNormal",new I(0,1,0)),hn("orientation",0),hn("depthWrite",!1),hn("noFog",!1),hn("blendType",2),hn("node",null),hn("startAngle",0),hn("startAngle2",this.startAngle),hn("animTilesX",1),hn("animTilesY",1),hn("animStartFrame",0),hn("animNumFrames",1),hn("animNumAnimations",1),hn("animIndex",0),hn("randomizeAnimIndex",!1),hn("animSpeed",1),hn("animLoop",!0),this._gpuUpdater=new Zr(this,r),this._cpuUpdater=new Wr(this),this.constantLightCube=r.scope.resolve("lightCube[0]"),this.emitterPosUniform=new Float32Array(3),this.wrapBoundsUniform=new Float32Array(3),this.emitterScaleUniform=new Float32Array([1,1,1]),hn("colorGraph",nn),hn("colorGraph2",this.colorGraph),hn("scaleGraph",tn),hn("scaleGraph2",this.scaleGraph),hn("alphaGraph",tn),hn("alphaGraph2",this.alphaGraph),hn("localVelocityGraph",rn),hn("localVelocityGraph2",this.localVelocityGraph),hn("velocityGraph",rn),hn("velocityGraph2",this.velocityGraph),hn("rotationSpeedGraph",en),hn("rotationSpeedGraph2",this.rotationSpeedGraph),hn("radialSpeedGraph",en),hn("radialSpeedGraph2",this.radialSpeedGraph),this.lightCube=new Float32Array(18),this.lightCubeDir=new Array(6),this.lightCubeDir[0]=new I(-1,0,0),this.lightCubeDir[1]=new I(1,0,0),this.lightCubeDir[2]=new I(0,-1,0),this.lightCubeDir[3]=new I(0,1,0),this.lightCubeDir[4]=new I(0,0,-1),this.lightCubeDir[5]=new I(0,0,1),this.animTilesParams=new Float32Array(2),this.animParams=new Float32Array(4),this.animIndexParams=new Float32Array(2),this.internalTex0=null,this.internalTex1=null,this.internalTex2=null,this.colorParam=null,this.vbToSort=null,this.vbOld=null,this.particleDistance=null,this.camera=null,this.swapTex=!1,this.useMesh=!0,this.useCpu=!1,this.pack8=!0,this.localBounds=new W,this.worldBoundsNoTrail=new W,this.worldBoundsTrail=[new W,new W],this.worldBounds=new W,this.worldBoundsSize=new I,this.prevWorldBoundsSize=new I,this.prevWorldBoundsCenter=new I,this.prevEmitterExtents=this.emitterExtents,this.prevEmitterRadius=this.emitterRadius,this.worldBoundsMul=new I,this.worldBoundsAdd=new I,this.timeToSwitchBounds=0,this.shaderParticleUpdateRespawn=null,this.shaderParticleUpdateNoRespawn=null,this.shaderParticleUpdateOnStop=null,this.numParticleVerts=0,this.numParticleIndices=0,this.material=null,this.meshInstance=null,this.drawOrder=0,this.seed=Math.random(),this.fixedTimeStep=1/60,this.maxSubSteps=10,this.simTime=0,this.simTimeTotal=0,this.beenReset=!1,this._layer=null,this.rebuild()};function bn(e,t){var i,r,n=t.length,a=e.length/n;for(i=0;i<a;i++)for(r=0;r<n;r++){var s=Math.abs(e[i*n+r]);t[r]=Math.max(t[r],s)}}function An(e,t,i){var r=function(e,t){for(var i=new Float32Array(e.length),r=0;r<e.length;r++)i[r]=e[r]-t[r];return i}(t,e);return bn(r,i),function(e,t){var i,r,n=t.length,a=e.length/n;for(i=0;i<a;i++)for(r=0;r<n;r++)e[i*n+r]/=0===t[r]?1:t[r],e[i*n+r]*=.5,e[i*n+r]+=.5}(r,i),r}function vn(e,t){var i,r,n,a,s=t.length/3,o=e.length/3,l=new I,c=new I,f=new I,h=new I,u=new I,d=new I,p=[];for(a=0;a<e.length;a++)p[a]=0;for(a=0;a<s;a++)i=t[3*a],r=t[3*a+1],n=t[3*a+2],l.set(e[3*i],e[3*i+1],e[3*i+2]),c.set(e[3*r],e[3*r+1],e[3*r+2]),f.set(e[3*n],e[3*n+1],e[3*n+2]),h.sub2(c,l),u.sub2(f,l),d.cross(h,u).normalize(),p[3*i]+=d.x,p[3*i+1]+=d.y,p[3*i+2]+=d.z,p[3*r]+=d.x,p[3*r+1]+=d.y,p[3*r+2]+=d.z,p[3*n]+=d.x,p[3*n+1]+=d.y,p[3*n+2]+=d.z;for(a=0;a<o;a++){var _=p[3*a],m=p[3*a+1],b=p[3*a+2],A=1/Math.sqrt(_*_+m*m+b*b);p[3*a]*=A,p[3*a+1]*=A,p[3*a+2]*=A}return p}function yn(e,t,i,r){var n,a,s,o,l,c,f,h,u,d,p,_,m,b,A,v=r.length/3,y=e.length/3,g=new I,k=new I,x=new I,S=new I,T=new I,w=new O,E=new O,M=new O,P=new Float32Array(3*y),R=new Float32Array(3*y),C=[],D=0;for(A=0;A<v;A++)n=r[3*A],a=r[3*A+1],s=r[3*A+2],x.set(e[3*n],e[3*n+1],e[3*n+2]),S.set(e[3*a],e[3*a+1],e[3*a+2]),T.set(e[3*s],e[3*s+1],e[3*s+2]),w.set(i[2*n],i[2*n+1]),E.set(i[2*a],i[2*a+1]),M.set(i[2*s],i[2*s+1]),o=S.x-x.x,l=T.x-x.x,c=S.y-x.y,f=T.y-x.y,h=S.z-x.z,u=T.z-x.z,d=E.x-w.x,p=M.x-w.x,_=E.y-w.y,0==(D=d*(m=M.y-w.y)-p*_)?(g.set(0,1,0),k.set(1,0,0)):(b=1/D,g.set((m*o-_*l)*b,(m*c-_*f)*b,(m*h-_*u)*b),k.set((d*l-p*o)*b,(d*f-p*c)*b,(d*u-p*h)*b)),P[3*n+0]+=g.x,P[3*n+1]+=g.y,P[3*n+2]+=g.z,P[3*a+0]+=g.x,P[3*a+1]+=g.y,P[3*a+2]+=g.z,P[3*s+0]+=g.x,P[3*s+1]+=g.y,P[3*s+2]+=g.z,R[3*n+0]+=k.x,R[3*n+1]+=k.y,R[3*n+2]+=k.z,R[3*a+0]+=k.x,R[3*a+1]+=k.y,R[3*a+2]+=k.z,R[3*s+0]+=k.x,R[3*s+1]+=k.y,R[3*s+2]+=k.z;_=new I,m=new I;var F=new I,N=new I;for(A=0;A<y;A++){F.set(t[3*A],t[3*A+1],t[3*A+2]),_.set(P[3*A],P[3*A+1],P[3*A+2]),m.set(R[3*A],R[3*A+1],R[3*A+2]);var B=F.dot(_);N.copy(F).scale(B),N.sub2(_,N).normalize(),C[4*A]=N.x,C[4*A+1]=N.y,C[4*A+2]=N.z,N.cross(F,_),C[4*A+3]=N.dot(m)<0?-1:1}return C}function gn(e,t,i){var r=i&&void 0!==i.normals?i.normals:null,n=i&&void 0!==i.tangents?i.tangents:null,a=i&&void 0!==i.colors?i.colors:null,s=i&&void 0!==i.uvs?i.uvs:null,o=i&&void 0!==i.uvs1?i.uvs1:null,l=i&&void 0!==i.indices?i.indices:null,c=i&&void 0!==i.blendIndices?i.blendIndices:null,f=i&&void 0!==i.blendWeights?i.blendWeights:null,h=[{semantic:"POSITION",components:3,type:6}];null!==r&&h.push({semantic:"NORMAL",components:3,type:6}),null!==n&&h.push({semantic:"TANGENT",components:4,type:6}),null!==a&&h.push({semantic:"COLOR",components:4,type:1,normalize:!0}),null!==s&&h.push({semantic:"TEXCOORD0",components:2,type:6}),null!==o&&h.push({semantic:"TEXCOORD1",components:2,type:6}),null!==c&&h.push({semantic:"BLENDINDICES",components:2,type:1}),null!==f&&h.push({semantic:"BLENDWEIGHT",components:2,type:6});for(var u=new ue(e,h),d=t.length/3,p=new fe(e,u,d),_=new we(p),m=0;m<d;m++)_.element.POSITION.set(t[3*m],t[3*m+1],t[3*m+2]),null!==r&&_.element.NORMAL.set(r[3*m],r[3*m+1],r[3*m+2]),null!==n&&_.element.TANGENT.set(n[4*m],n[4*m+1],n[4*m+2],n[4*m+3]),null!==a&&_.element.COLOR.set(a[4*m],a[4*m+1],a[4*m+2],a[4*m+3]),null!==s&&_.element.TEXCOORD0.set(s[2*m],s[2*m+1]),null!==o&&_.element.TEXCOORD1.set(o[2*m],o[2*m+1]),null!==c&&_.element.BLENDINDICES.set(c[2*m],c[2*m+1]),null!==f&&_.element.BLENDWEIGHT.set(f[2*m],f[2*m+1]),_.next();_.end();var b=null,A=null!==l;A&&(b=new ct(e,1,l.length),new Uint16Array(b.lock()).set(l),b.unlock());var v=new W;v.compute(t);var y=new dt(e);return y.vertexBuffer=p,y.indexBuffer[0]=b,y.primitive[0].type=4,y.primitive[0].base=0,y.primitive[0].count=A?l.length:d,y.primitive[0].indexed=A,y.aabb=v,y}function kn(e,t){var i,r,n,a,s,o,l,c,f,h,u=t&&void 0!==t.tubeRadius?t.tubeRadius:.2,d=t&&void 0!==t.ringRadius?t.ringRadius:.3,p=t&&void 0!==t.segments?t.segments:30,_=t&&void 0!==t.sides?t.sides:20,m=!(!t||void 0===t.calculateTangents)&&t.calculateTangents,b=[],A=[],v=[],y=[];for(i=0;i<=_;i++)for(r=0;r<=p;r++){var g,k,x,S;n=Math.cos(2*Math.PI*r/p)*(d+u*Math.cos(2*Math.PI*i/_)),a=Math.sin(2*Math.PI*i/_)*u,s=Math.sin(2*Math.PI*r/p)*(d+u*Math.cos(2*Math.PI*i/_)),o=Math.cos(2*Math.PI*r/p)*Math.cos(2*Math.PI*i/_),l=Math.sin(2*Math.PI*i/_),c=Math.sin(2*Math.PI*r/p)*Math.cos(2*Math.PI*i/_),f=i/_,h=1-r/p,b.push(n,a,s),A.push(o,l,c),v.push(f,h),i<_&&r<p&&(g=i*(p+1)+r,k=(i+1)*(p+1)+r,x=i*(p+1)+(r+1),S=(i+1)*(p+1)+(r+1),y.push(g,k,x),y.push(k,S,x))}var T={normals:A,uvs:v,indices:y};return m&&(T.tangents=m(b,A,v,y)),gn(e,b,T)}function xn(e,t,i,r,n,a){var s,o,l,c,f,h,u,d,p,_,m,b,A,v,y,g,k,x,S,T,w=new I,E=new I,M=new I,P=[],R=[],C=[],O=[],D=[];if(i>0)for(s=0;s<=r;s++)for(o=0;o<=n;o++){m=o/n*2*Math.PI-Math.PI,p=new I((A=Math.sin(m))*e,-i/2,(b=Math.cos(m))*e),d=new I(A*t,i/2,b*t),w.lerp(p,d,s/r),E.sub2(d,p).normalize(),_=new I(b,0,-A),M.cross(_,E).normalize(),P.push(w.x,w.y,w.z),R.push(M.x,M.y,M.z),h=o/n,u=s/r,C.push(h,u);var F=u;u=h,h=F,h=.875*(h/=3)+4/64,u=.875*u+4/64,O.push(h,u),s<r&&o<n&&(g=s*(n+1)+o,k=s*(n+1)+(o+1),x=(s+1)*(n+1)+o,S=(s+1)*(n+1)+(o+1),D.push(g,k,x),D.push(k,S,x))}if(a){var N,B,L=Math.floor(n/2),U=n,V=i/2;for(N=0;N<=L;N++)for(m=N*Math.PI*.5/L,A=Math.sin(m),b=Math.cos(m),B=0;B<=U;B++)v=2*B*Math.PI/U-Math.PI/2,y=Math.sin(v),l=Math.cos(v)*A,c=b,f=y*A,h=1-B/U,u=1-N/L,P.push(l*t,c*t+V,f*t),R.push(l,c,f),C.push(h,u),h=.875*(h/=3)+4/64,u=.875*(u/=3)+4/64,h+=1/3,O.push(h,u);for(T=(r+1)*(n+1),N=0;N<L;++N)for(B=0;B<U;++B)k=(g=N*(U+1)+B)+U+1,D.push(T+g+1,T+k,T+g),D.push(T+g+1,T+k+1,T+k);for(N=0;N<=L;N++)for(m=.5*Math.PI+N*Math.PI*.5/L,A=Math.sin(m),b=Math.cos(m),B=0;B<=U;B++)v=2*B*Math.PI/U-Math.PI/2,y=Math.sin(v),l=Math.cos(v)*A,c=b,f=y*A,h=1-B/U,u=1-N/L,P.push(l*t,c*t-V,f*t),R.push(l,c,f),C.push(h,u),h=.875*(h/=3)+4/64,u=.875*(u/=3)+4/64,h+=2/3,O.push(h,u);for(T=(r+1)*(n+1)+(U+1)*(L+1),N=0;N<L;++N)for(B=0;B<U;++B)k=(g=N*(U+1)+B)+U+1,D.push(T+g+1,T+k,T+g),D.push(T+g+1,T+k+1,T+k)}else{if(T=(r+1)*(n+1),e>0)for(s=0;s<n;s++)m=s/n*2*Math.PI,c=-i/2,h=1-((l=Math.sin(m))+1)/2,u=((f=Math.cos(m))+1)/2,P.push(l*e,c,f*e),R.push(0,-1,0),C.push(h,u),h=.875*(h/=3)+4/64,u=.875*(u/=3)+4/64,h+=1/3,O.push(h,u),s>1&&D.push(T,T+s,T+s-1);if(T+=n,t>0)for(s=0;s<n;s++)m=s/n*2*Math.PI,c=i/2,h=1-((l=Math.sin(m))+1)/2,u=((f=Math.cos(m))+1)/2,P.push(l*t,c,f*t),R.push(0,1,0),C.push(h,u),h=.875*(h/=3)+4/64,u=.875*(u/=3)+4/64,h+=2/3,O.push(h,u),s>1&&D.push(T,T+s-1,T+s)}return{positions:P,normals:R,uvs:C,uvs1:O,indices:D}}function Sn(e,t){var i=t&&(t.radius||t.baseRadius);i=void 0!==i?i:.5;var r=t&&void 0!==t.height?t.height:1,n=t&&void 0!==t.heightSegments?t.heightSegments:5,a=t&&void 0!==t.capSegments?t.capSegments:20,s=!(!t||void 0===t.calculateTangents)&&t.calculateTangents,o=xn(i,i,r,n,a,!1);return s&&(o.tangents=s(o.positions,o.normals,o.uvs,o.indices)),gn(e,o.positions,o)}function Tn(e,t){var i=t&&void 0!==t.radius?t.radius:.3,r=t&&void 0!==t.height?t.height:1,n=t&&void 0!==t.heightSegments?t.heightSegments:1,a=t&&void 0!==t.sides?t.sides:20,s=!(!t||void 0===t.calculateTangents)&&t.calculateTangents,o=xn(i,i,r-2*i,n,a,!0);return s&&(o.tangents=s(o.positions,o.normals,o.uvs,o.indices)),gn(e,o.positions,o)}function wn(e,t){var i=t&&void 0!==t.baseRadius?t.baseRadius:.5,r=t&&void 0!==t.peakRadius?t.peakRadius:0,n=t&&void 0!==t.height?t.height:1,a=t&&void 0!==t.heightSegments?t.heightSegments:5,s=t&&void 0!==t.capSegments?t.capSegments:18,o=!(!t||void 0===t.calculateTangents)&&t.calculateTangents,l=xn(i,r,n,a,s,!1);return o&&(l.tangents=o(l.positions,l.normals,l.uvs,l.indices)),gn(e,l.positions,l)}function En(e,t){var i,r,n,a,s,o,l,c,f,h,u,d,p,_,m=t&&void 0!==t.radius?t.radius:.5,b=t&&void 0!==t.latitudeBands?t.latitudeBands:16,A=t&&void 0!==t.longitudeBands?t.longitudeBands:16,v=!(!t||void 0===t.calculateTangents)&&t.calculateTangents,y=[],g=[],k=[],x=[];for(r=0;r<=b;r++)for(n=r*Math.PI/b,a=Math.sin(n),s=Math.cos(n),i=0;i<=A;i++)o=2*i*Math.PI/A-Math.PI/2,l=Math.sin(o),h=Math.cos(o)*a,u=s,d=l*a,p=1-i/A,_=1-r/b,y.push(h*m,u*m,d*m),g.push(h,u,d),k.push(p,_);for(r=0;r<b;++r)for(i=0;i<A;++i)f=(c=r*(A+1)+i)+A+1,x.push(c+1,f,c),x.push(c+1,f+1,f);var S={normals:g,uvs:k,uvs1:k,indices:x};return v&&(S.tangents=v(y,g,k,x)),gn(e,y,S)}function Mn(e,t){var i,r,n,a,s,o,l=t&&void 0!==t.halfExtents?t.halfExtents:new O(.5,.5),c=t&&void 0!==t.widthSegments?t.widthSegments:5,f=t&&void 0!==t.lengthSegments?t.lengthSegments:5,h=!(!t||void 0===t.calculateTangents)&&t.calculateTangents,u=[],d=[],p=[],_=[],m=0;for(i=0;i<=c;i++)for(r=0;r<=f;r++)n=-l.x+2*l.x*i/c,a=-(-l.y+2*l.y*r/f),s=i/c,o=r/f,u.push(n,0,a),d.push(0,1,0),p.push(s,o),i<c&&r<f&&(_.push(m+f+1,m+1,m),_.push(m+f+1,m+f+2,m+1)),m++;var b={normals:d,uvs:p,uvs1:p,indices:_};return h&&(b.tangents=h(u,d,p,_)),gn(e,u,b)}function Pn(e,t){var i=t&&void 0!==t.halfExtents?t.halfExtents:new I(.5,.5,.5),r=t&&void 0!==t.widthSegments?t.widthSegments:1,n=t&&void 0!==t.lengthSegments?t.lengthSegments:1,a=t&&void 0!==t.heightSegments?t.heightSegments:1,s=!(!t||void 0===t.calculateTangents)&&t.calculateTangents,o=[new I(-i.x,-i.y,i.z),new I(i.x,-i.y,i.z),new I(i.x,i.y,i.z),new I(-i.x,i.y,i.z),new I(i.x,-i.y,-i.z),new I(-i.x,-i.y,-i.z),new I(-i.x,i.y,-i.z),new I(i.x,i.y,-i.z)],l=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],c=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],f=1,h=2,u=3,d=4,p=5,_=[],m=[],b=[],A=[],v=[],y=0,g=function(e,t,i){var r,n,a,s;for(a=0;a<=t;a++)for(s=0;s<=i;s++){var f=new I,h=new I,u=new I,d=new I;f.lerp(o[l[e][0]],o[l[e][1]],a/t),h.lerp(o[l[e][0]],o[l[e][2]],s/i),u.sub2(h,o[l[e][0]]),d.add2(f,u),r=a/t,n=s/i,_.push(d.x,d.y,d.z),m.push(c[e][0],c[e][1],c[e][2]),b.push(r,n),r=.875*(r/=3)+4/64,n=.875*(n/=3)+4/64,r+=e%3/3,n+=Math.floor(e/3)/3,A.push(r,n),a<t&&s<i&&(v.push(y+i+1,y+1,y),v.push(y+i+1,y+i+2,y+1)),y++}};g(0,r,a),g(f,r,a),g(h,r,n),g(u,r,n),g(d,n,a),g(p,n,a);var k={normals:m,uvs:b,uvs1:A,indices:v};return s&&(k.tangents=s(_,m,b,v)),gn(e,_,k)}function Rn(){o.call(this),this.root=null,this._gravity=new I(0,-9.8,0),this._layers=null,this._fog="none",this.fogColor=new v(0,0,0),this.fogStart=1,this.fogEnd=1e3,this.fogDensity=0,this.ambientLight=new v(0,0,0),this._gammaCorrection=0,this._toneMapping=0,this.exposure=1,this._skyboxPrefiltered=[null,null,null,null,null,null],this._firstUpdateSkybox=!0,this._skyboxCubeMap=null,this.skyboxModel=null,this._skyboxIntensity=1,this._skyboxMip=0,this.lightmapSizeMultiplier=1,this.lightmapMaxResolution=2048,this.lightmapMode=1,this._stats={meshInstances:0,lights:0,dynamicLights:0,bakedLights:0,lastStaticPrepareFullTime:0,lastStaticPrepareSearchTime:0,lastStaticPrepareWriteTime:0,lastStaticPrepareTriAabbTime:0,lastStaticPrepareCombineTime:0,updateShadersTime:0},this.updateShaders=!0,this.updateSkybox=!0,this._shaderVersion=0,this._statsUpdated=!1,this._models=[],this.defaultMaterial=new wu,this.defaultMaterial.name="Default Material",this.defaultMaterial.shadingModel=1}function Cn(){return"undefined"!==typeof Audio}function On(){return!("undefined"===typeof AudioContext&&"undefined"===typeof webkitAudioContext)}if(Object.assign(mn.prototype,{onChangeCamera:function(){this.regenShader(),this.resetMaterial()},calculateBoundsMad:function(){this.worldBoundsMul.x=1/this.worldBoundsSize.x,this.worldBoundsMul.y=1/this.worldBoundsSize.y,this.worldBoundsMul.z=1/this.worldBoundsSize.z,this.worldBoundsAdd.copy(this.worldBounds.center).mul(this.worldBoundsMul).scale(-1),this.worldBoundsAdd.x+=.5,this.worldBoundsAdd.y+=.5,this.worldBoundsAdd.z+=.5},calculateWorldBounds:function(){if(this.node){this.prevWorldBoundsSize.copy(this.worldBoundsSize),this.prevWorldBoundsCenter.copy(this.worldBounds.center),this.useCpu||(0===this.emitterShape?!this.emitterExtents.equals(this.prevEmitterExtents):this.emitterRadius!==this.prevEmitterRadius)&&this.calculateLocalBounds();var e=this.node.getWorldTransform();this.localSpace?this.worldBoundsNoTrail.copy(this.localBounds):this.worldBoundsNoTrail.setFromTransformedAabb(this.localBounds,e),this.worldBoundsTrail[0].add(this.worldBoundsNoTrail),this.worldBoundsTrail[1].add(this.worldBoundsNoTrail);var t=this.simTimeTotal;t>=this.timeToSwitchBounds&&(this.worldBoundsTrail[0].copy(this.worldBoundsTrail[1]),this.worldBoundsTrail[1].copy(this.worldBoundsNoTrail),this.timeToSwitchBounds=t+this.lifetime),this.worldBounds.copy(this.worldBoundsTrail[0]),this.worldBoundsSize.copy(this.worldBounds.halfExtents).scale(2),this.localSpace?(this.meshInstance.aabb.setFromTransformedAabb(this.worldBounds,e),this.meshInstance.mesh.aabb.setFromTransformedAabb(this.worldBounds,e)):(this.meshInstance.aabb.copy(this.worldBounds),this.meshInstance.mesh.aabb.copy(this.worldBounds)),this.meshInstance._aabbVer=1-this.meshInstance._aabbVer,this.pack8&&this.calculateBoundsMad()}},resetWorldBounds:function(){this.node&&(this.worldBoundsNoTrail.setFromTransformedAabb(this.localBounds,this.localSpace?N.IDENTITY:this.node.getWorldTransform()),this.worldBoundsTrail[0].copy(this.worldBoundsNoTrail),this.worldBoundsTrail[1].copy(this.worldBoundsNoTrail),this.worldBounds.copy(this.worldBoundsTrail[0]),this.worldBoundsSize.copy(this.worldBounds.halfExtents).scale(2),this.prevWorldBoundsSize.copy(this.worldBoundsSize),this.prevWorldBoundsCenter.copy(this.worldBounds.center),this.simTimeTotal=0,this.timeToSwitchBounds=0)},calculateLocalBounds:function(){var e,t,i,r,n,a,s=Number.MAX_VALUE,o=Number.MAX_VALUE,l=Number.MAX_VALUE,c=-Number.MAX_VALUE,f=-Number.MAX_VALUE,h=-Number.MAX_VALUE,u=0,d=0,p=this.lifetime/this.precision,_=[this.qVelocity,this.qVelocity2],m=[this.qLocalVelocity,this.qLocalVelocity2],b=[0,0],A=[0,0],v=[0,0],y=[0,0],g=[0,0];for(e=0;e<this.precision+1;e++){for(i=Math.min(e,this.precision-1),t=0;t<2;t++)r=m[t][3*i+0]*p+b[t],n=m[t][3*i+1]*p+A[t],a=m[t][3*i+2]*p+v[t],s=Math.min(r,s),o=Math.min(n,o),l=Math.min(a,l),c=Math.max(r,c),f=Math.max(n,f),h=Math.max(a,h),b[t]=r,A[t]=n,v[t]=a;for(t=0;t<2;t++)g[t]+=p*Math.sqrt(_[t][3*i+0]*_[t][3*i+0]+_[t][3*i+1]*_[t][3*i+1]+_[t][3*i+2]*_[t][3*i+2]);y[0]+=this.qRadialSpeed[i]*p,y[1]+=this.qRadialSpeed2[i]*p,u=Math.max(u,Math.max(Math.abs(y[0]),Math.abs(y[1]))),d=Math.max(d,this.qScale[i])}0===this.emitterShape?(r=.5*this.emitterExtents.x,n=.5*this.emitterExtents.y,a=.5*this.emitterExtents.z):(r=this.emitterRadius,n=this.emitterRadius,a=this.emitterRadius);var k=Math.max(g[0],g[1]);cn.x=s-d-r-u-k,cn.y=o-d-n-u-k,cn.z=l-d-a-u-k,fn.x=c+d+r+u+k,fn.y=f+d+n+u+k,fn.z=h+d+a+u+k,this.localBounds.setMinMax(cn,fn)},rebuild:function(){var e,t=this.graphicsDevice;null===this.colorMap&&(this.colorMap=mn.DEFAULT_PARAM_TEXTURE),this.spawnBounds=0===this.emitterShape?this.emitterExtents:this.emitterRadius,this.useCpu=this.useCpu||this.sort>0||t.maxVertexTextures<=1||t.fragmentUniformsCount<64||t.forceCpuParticles||!t.extTextureFloat,this._destroyResources(),this.pack8=(this.pack8||!t.textureFloatRenderable)&&!this.useCpu,an=this.useCpu||this.pack8?4:2,this.useMesh=!1,this.mesh&&(this.numParticles*this.mesh.vertexBuffer.numVertices>65535?console.warn("WARNING: particle system can't render mesh particles because numParticles * numVertices is more than 65k. Reverting to quad particles."):this.useMesh=!0),this.numParticlesPot=A.nextPowerOfTwo(this.numParticles),this.rebuildGraphs(),this.calculateLocalBounds(),this.resetWorldBounds(),this.node&&(this.worldBounds.setFromTransformedAabb(this.localBounds,this.localSpace?N.IDENTITY:this.node.getWorldTransform()),this.worldBoundsTrail[0].copy(this.worldBounds),this.worldBoundsTrail[1].copy(this.worldBounds),this.worldBoundsSize.copy(this.worldBounds.halfExtents).scale(2),this.prevWorldBoundsSize.copy(this.worldBoundsSize),this.prevWorldBoundsCenter.copy(this.worldBounds.center),this.pack8&&this.calculateBoundsMad()),this.vbToSort=new Array(this.numParticles);for(var i=0;i<this.numParticles;i++)this.vbToSort[i]=[0,0];this.particleDistance=new Float32Array(this.numParticles),this._gpuUpdater.randomize(),this.particleTex=new Float32Array(this.numParticlesPot*an*4);var r=null===this.node||this.localSpace?I.ZERO:this.node.getPosition();for(0===this.emitterShape&&(null===this.node||this.localSpace?on.setTRS(I.ZERO,B.IDENTITY,this.spawnBounds):on.setTRS(I.ZERO,this.node.getRotation(),ln.copy(this.spawnBounds).mul(this.node.localScale)),sn[0]=0!=this.emitterExtents.x?this.emitterExtentsInner.x/this.emitterExtents.x:0,sn[1]=0!=this.emitterExtents.y?this.emitterExtentsInner.y/this.emitterExtents.y:0,sn[2]=0!=this.emitterExtents.z?this.emitterExtentsInner.z/this.emitterExtents.z:0),e=0;e<this.numParticles;e++)this._cpuUpdater.calcSpawnPosition(this.particleTex,on,sn,r,e),this.useCpu&&(this.particleTex[4*e+3+2*this.numParticlesPot*4]=1);for(this.particleTexStart=new Float32Array(this.numParticlesPot*an*4),e=0;e<this.particleTexStart.length;e++)this.particleTexStart[e]=this.particleTex[e];this.useCpu||(this.pack8?(this.particleTexIN=Jr(t,this.numParticlesPot,an,this.particleTex,7,1,!1),this.particleTexOUT=Jr(t,this.numParticlesPot,an,this.particleTex,7,1,!1),this.particleTexStart=Jr(t,this.numParticlesPot,an,this.particleTexStart,7,1,!1)):(this.particleTexIN=Jr(t,this.numParticlesPot,an,this.particleTex),this.particleTexOUT=Jr(t,this.numParticlesPot,an,this.particleTex),this.particleTexStart=Jr(t,this.numParticlesPot,an,this.particleTexStart)),this.rtParticleTexIN=new qu(t,this.particleTexIN,{depth:!1}),this.rtParticleTexOUT=new qu(t,this.particleTexOUT,{depth:!1}),this.swapTex=!1);var n=(this.localSpace?"#define LOCAL_SPACE\n":"")+Ce.particleUpdaterInitPS+(this.pack8?Ce.particleInputRgba8PS+Ce.particleOutputRgba8PS:Ce.particleInputFloatPS+Ce.particleOutputFloatPS)+(0===this.emitterShape?Ce.particleUpdaterAABBPS:Ce.particleUpdaterSpherePS)+Ce.particleUpdaterStartPS,a=n+Ce.particleUpdaterRespawnPS+Ce.particleUpdaterEndPS,s=n+Ce.particleUpdaterNoRespawnPS+Ce.particleUpdaterEndPS,o=n+Ce.particleUpdaterOnStopPS+Ce.particleUpdaterEndPS,l=this.emitterShape+""+this.pack8+this.localSpace;this.shaderParticleUpdateRespawn=We(t,Ce.fullscreenQuadVS,a,"fsQuad0"+l),this.shaderParticleUpdateNoRespawn=We(t,Ce.fullscreenQuadVS,s,"fsQuad1"+l),this.shaderParticleUpdateOnStop=We(t,Ce.fullscreenQuadVS,o,"fsQuad2"+l),this.numParticleVerts=this.useMesh?this.mesh.vertexBuffer.numVertices:4,this.numParticleIndices=this.useMesh?this.mesh.indexBuffer[0].numIndices:6,this._allocate(this.numParticles);var c=new dt(t);c.vertexBuffer=this.vertexBuffer,c.indexBuffer[0]=this.indexBuffer,c.primitive[0].type=4,c.primitive[0].base=0,c.primitive[0].count=this.numParticles*this.numParticleIndices,c.primitive[0].indexed=!0,this.material=new Su,this.material.name=this.node.name,this.material.cull=0,this.material.alphaWrite=!1,this.material.blend=!0,this.material.blendType=this.blendType,this.material.depthWrite=this.depthWrite,this.material.emitter=this,this.regenShader(),this.resetMaterial();var f=!this.meshInstance||this.meshInstance.visible;this.meshInstance=new bt(this.node,c,this.material),this.meshInstance.pick=!1,this.meshInstance.updateKey(),this.meshInstance.cull=!0,this.meshInstance._noDepthDrawGl1=!0,this.localSpace?this.meshInstance.aabb.setFromTransformedAabb(this.worldBounds,this.node.getWorldTransform()):this.meshInstance.aabb.copy(this.worldBounds),this.meshInstance._updateAabb=!1,this.meshInstance.visible=f,this._initializeTextures(),this.resetTime(),this.addTime(0,!1),this.preWarm&&this.prewarm(this.lifetime)},_isAnimated:function(){return this.animNumFrames>=1&&(this.animTilesX>1||this.animTilesY>1)&&(this.colorMap&&this.colorMap!==mn.DEFAULT_PARAM_TEXTURE||this.normalMap)},rebuildGraphs:function(){var e,t=this.precision,i=this.graphicsDevice;for(this.qLocalVelocity=this.localVelocityGraph.quantize(t),this.qVelocity=this.velocityGraph.quantize(t),this.qColor=this.colorGraph.quantizeClamped(t,0,1),this.qRotSpeed=this.rotationSpeedGraph.quantize(t),this.qScale=this.scaleGraph.quantize(t),this.qAlpha=this.alphaGraph.quantize(t),this.qRadialSpeed=this.radialSpeedGraph.quantize(t),this.qLocalVelocity2=this.localVelocityGraph2.quantize(t),this.qVelocity2=this.velocityGraph2.quantize(t),this.qColor2=this.colorGraph2.quantizeClamped(t,0,1),this.qRotSpeed2=this.rotationSpeedGraph2.quantize(t),this.qScale2=this.scaleGraph2.quantize(t),this.qAlpha2=this.alphaGraph2.quantize(t),this.qRadialSpeed2=this.radialSpeedGraph2.quantize(t),e=0;e<t;e++)this.qRotSpeed[e]*=A.DEG_TO_RAD,this.qRotSpeed2[e]*=A.DEG_TO_RAD;if(this.localVelocityUMax=new Float32Array(3),this.velocityUMax=new Float32Array(3),this.colorUMax=new Float32Array(3),this.rotSpeedUMax=[0],this.scaleUMax=[0],this.alphaUMax=[0],this.radialSpeedUMax=[0],this.qLocalVelocityDiv=An(this.qLocalVelocity,this.qLocalVelocity2,this.localVelocityUMax),this.qVelocityDiv=An(this.qVelocity,this.qVelocity2,this.velocityUMax),this.qColorDiv=An(this.qColor,this.qColor2,this.colorUMax),this.qRotSpeedDiv=An(this.qRotSpeed,this.qRotSpeed2,this.rotSpeedUMax),this.qScaleDiv=An(this.qScale,this.qScale2,this.scaleUMax),this.qAlphaDiv=An(this.qAlpha,this.qAlpha2,this.alphaUMax),this.qRadialSpeedDiv=An(this.qRadialSpeed,this.qRadialSpeed2,this.radialSpeedUMax),this.pack8){var r=[0,0,0];bn(this.qVelocity,r);var n=[0,0,0];bn(this.qVelocity2,n);var a=[0,0,0];bn(this.qLocalVelocity,a);var s=[0,0,0];bn(this.qLocalVelocity2,s);var o=[0];bn(this.qRadialSpeed,o);var l=[0];bn(this.qRadialSpeed2,l);var c=Math.max(r[0],n[0]);c=Math.max(c,r[1]),c=Math.max(c,n[1]),c=Math.max(c,r[2]),c=Math.max(c,n[2]);var f=Math.max(a[0],s[0]);f=Math.max(f,a[1]),f=Math.max(f,s[1]),f=Math.max(f,a[2]),f=Math.max(f,s[2]);var h=Math.max(o[0],l[0]);this.maxVel=c+f+h}this.useCpu||(this.internalTex0=Jr(i,t,1,dn(this.qLocalVelocity,this.qLocalVelocityDiv)),this.internalTex1=Jr(i,t,1,dn(this.qVelocity,this.qVelocityDiv)),this.internalTex2=Jr(i,t,1,function(e,t,i,r,n){for(var a=new Array(4*e.length),s=0;s<e.length;s++)a[4*s]=e[s],a[4*s+1]=t[s],a[4*s+2]=0,a[4*s+3]=un(i[s],r[s],n[s]);return a}(this.qRotSpeed,this.qScale,this.qScaleDiv,this.qRotSpeedDiv,this.qAlphaDiv)),this.internalTex3=Jr(i,t,1,function(e,t){for(var i=new Array(4*e.length),r=0;r<e.length;r++)i[4*r]=e[r],i[4*r+1]=t[r],i[4*r+2]=0,i[4*r+3]=0;return i}(this.qRadialSpeed,this.qRadialSpeedDiv))),this.colorParam=Jr(i,t,1,function(e,t){for(var i=new Array(4*t.length),r=0;r<t.length;r++)i[4*r]=e[3*r],i[4*r+1]=e[3*r+1],i[4*r+2]=e[3*r+2],i[4*r+3]=t[r];return i}(this.qColor,this.qAlpha),7,1,!0)},_initializeTextures:function(){this.colorMap&&(this.material.setParameter("colorMap",this.colorMap),this.lighting&&this.normalMap&&this.material.setParameter("normalMap",this.normalMap))},regenShader:function(){var e=this.graphicsDevice.getProgramLibrary(),t=null!==this.normalMap;this.normalOption=0,this.lighting&&(this.normalOption=t?2:1),this.material.updateShader=function(){this.emitter.scene&&this.emitter.camera!=this.emitter.scene._activeCamera&&(this.emitter.camera=this.emitter.scene._activeCamera,this.emitter.onChangeCamera());var t=this.emitter.inTools,i=e.getProgram("particle",{useCpu:this.emitter.useCpu,normal:this.emitter.normalOption,halflambert:this.emitter.halfLambert,stretch:this.emitter.stretch,alignToMotion:this.emitter.alignToMotion,soft:this.emitter.depthSoftening,mesh:this.emitter.useMesh,gamma:this.emitter.scene?this.emitter.scene.gammaCorrection:0,toneMap:this.emitter.scene?this.emitter.scene.toneMapping:0,fog:this.emitter.scene&&!this.emitter.noFog?this.emitter.scene.fog:"none",wrap:this.emitter.wrap&&this.emitter.wrapBounds,localSpace:this.emitter.localSpace,screenSpace:!t&&this.emitter.screenSpace,blend:this.blendType,animTex:this.emitter._isAnimated(),animTexLoop:this.emitter.animLoop,pack8:this.emitter.pack8,customFace:0!=this.emitter.orientation});this.shader=i},this.material.updateShader()},resetMaterial:function(){var e=this.material;e.setParameter("stretch",this.stretch),this._isAnimated()&&(e.setParameter("animTexTilesParams",this.animTilesParams),e.setParameter("animTexParams",this.animParams),e.setParameter("animTexIndexParams",this.animIndexParams)),e.setParameter("colorMult",this.intensity),this.useCpu||(e.setParameter("internalTex0",this.internalTex0),e.setParameter("internalTex1",this.internalTex1),e.setParameter("internalTex2",this.internalTex2),e.setParameter("internalTex3",this.internalTex3)),e.setParameter("colorParam",this.colorParam),e.setParameter("numParticles",this.numParticles),e.setParameter("numParticlesPot",this.numParticlesPot),e.setParameter("lifetime",this.lifetime),e.setParameter("rate",this.rate),e.setParameter("rateDiv",this.rate2-this.rate),e.setParameter("seed",this.seed),e.setParameter("scaleDivMult",this.scaleUMax[0]),e.setParameter("alphaDivMult",this.alphaUMax[0]),e.setParameter("radialSpeedDivMult",this.radialSpeedUMax[0]),e.setParameter("graphNumSamples",this.precision),e.setParameter("graphSampleSize",1/this.precision),e.setParameter("emitterScale",new Float32Array([1,1,1])),this.pack8&&(this._gpuUpdater._setInputBounds(),e.setParameter("inBoundsSize",this._gpuUpdater.inBoundsSizeUniform),e.setParameter("inBoundsCenter",this._gpuUpdater.inBoundsCenterUniform),e.setParameter("maxVel",this.maxVel)),this.wrap&&this.wrapBounds&&(this.wrapBoundsUniform[0]=this.wrapBounds.x,this.wrapBoundsUniform[1]=this.wrapBounds.y,this.wrapBoundsUniform[2]=this.wrapBounds.z,e.setParameter("wrapBounds",this.wrapBoundsUniform)),this.colorMap&&e.setParameter("colorMap",this.colorMap),this.lighting&&this.normalMap&&e.setParameter("normalMap",this.normalMap),this.depthSoftening>0&&e.setParameter("softening",1/(this.depthSoftening*this.depthSoftening*100)),this.stretch>0&&(e.cull=0),this._compParticleFaceParams()},_compParticleFaceParams:function(){var e,t;if(0==this.orientation)e=new Float32Array([1,0,0]),t=new Float32Array([0,0,1]);else{var i;i=1==this.orientation?this.particleNormal.normalize():(null===this.node?N.IDENTITY:this.node.getWorldTransform()).transformVector(this.particleNormal).normalize();var r=new I(1,0,0);1==Math.abs(r.dot(i))&&r.set(0,0,1);var n=(new I).cross(i,r).normalize();r.cross(n,i).normalize(),e=new Float32Array([r.x,r.y,r.z]),t=new Float32Array([n.x,n.y,n.z])}this.material.setParameter("faceTangent",e),this.material.setParameter("faceBinorm",t)},_allocate:function(e){var t,i,r,n=e*this.numParticleVerts,a=e*this.numParticleIndices;if(void 0===this.vertexBuffer||this.vertexBuffer.getNumVertices()!==n){this.useCpu?(t=[{semantic:"ATTR0",components:4,type:6},{semantic:"ATTR1",components:4,type:6},{semantic:"ATTR2",components:4,type:6},{semantic:"ATTR3",components:1,type:6},{semantic:"ATTR4",components:this.useMesh?4:2,type:6}],i=new ue(this.graphicsDevice,t),this.vertexBuffer=new fe(this.graphicsDevice,i,n,1),this.indexBuffer=new ct(this.graphicsDevice,1,a)):(t=[{semantic:"ATTR0",components:4,type:6}],this.useMesh&&t.push({semantic:"ATTR1",components:2,type:6}),i=new ue(this.graphicsDevice,t),this.vertexBuffer=new fe(this.graphicsDevice,i,n,1),this.indexBuffer=new ct(this.graphicsDevice,1,a));var s,o,l,c,f=new Float32Array(this.vertexBuffer.lock());if(this.useMesh){o=(s=new Float32Array(this.mesh.vertexBuffer.lock())).length/this.mesh.vertexBuffer.numVertices;for(var h=0;h<this.mesh.vertexBuffer.format.elements.length;h++)if("TEXCOORD0"===this.mesh.vertexBuffer.format.elements[h].name){l=this.mesh.vertexBuffer.format.elements[h].offset/4;break}}for(r=0;r<n;r++)if(c=Math.floor(r/this.numParticleVerts),this.useMesh){var u=r%this.numParticleVerts;f[6*r]=s[u*o],f[6*r+1]=s[u*o+1],f[6*r+2]=s[u*o+2],f[6*r+3]=c,f[6*r+4]=s[u*o+l+0],f[6*r+5]=s[u*o+l+1]}else{var d=r%4;f[4*r]=Qr[d][0],f[4*r+1]=Qr[d][1],f[4*r+2]=0,f[4*r+3]=c}this.useCpu&&(this.vbCPU=new Float32Array(f),this.vbOld=new Float32Array(this.vbCPU.length)),this.vertexBuffer.unlock(),this.useMesh&&this.mesh.vertexBuffer.unlock();var p=0,_=new Uint16Array(this.indexBuffer.lock());for(this.useMesh&&(s=new Uint16Array(this.mesh.indexBuffer[0].lock())),r=0;r<e;r++)if(this.useMesh)for(var m=0;m<this.numParticleIndices;m++)_[r*this.numParticleIndices+m]=s[m]+r*this.numParticleVerts;else{var b=4*r;_[p++]=b,_[p++]=b+1,_[p++]=b+2,_[p++]=b,_[p++]=b+2,_[p++]=b+3}this.indexBuffer.unlock(),this.useMesh&&this.mesh.indexBuffer[0].unlock()}},reset:function(){if(this.beenReset=!0,this.seed=Math.random(),this.material.setParameter("seed",this.seed),this.useCpu)for(var e=0;e<this.particleTexStart.length;e++)this.particleTex[e]=this.particleTexStart[e];else this._initializeTextures();this.resetWorldBounds(),this.resetTime();var t=this.loop;this.loop=!0,this.addTime(0,!1),this.loop=t,this.preWarm&&this.prewarm(this.lifetime)},prewarm:function(e){for(var t=e/this.lifetime,i=Math.min(Math.floor(t*this.precision),this.precision),r=e/i,n=0;n<i;n++)this.addTime(r,!1)},resetTime:function(){this.endTime=function(e){var t=Math.max(e.rate,e.rate2)*e.numParticles+e.lifetime;return Date.now()+1e3*t}(this)},finishFrame:function(){this.useCpu&&this.vertexBuffer.unlock()},addTime:function(e,t){var i,r=this.graphicsDevice;if(this.simTimeTotal+=e,this.calculateWorldBounds(),this._isAnimated()){var n=this.animTilesParams;n[0]=1/this.animTilesX,n[1]=1/this.animTilesY;var a=this.animParams;a[0]=this.animStartFrame,a[1]=this.animNumFrames*this.animSpeed,a[2]=this.animNumFrames-1,a[3]=this.animNumAnimations-1;var s=this.animIndexParams;s[0]=this.animIndex,s[1]=this.randomizeAnimIndex}this.scene&&this.camera!=this.scene._activeCamera&&(this.camera=this.scene._activeCamera,this.onChangeCamera()),0===this.emitterShape&&(sn[0]=0!=this.emitterExtents.x?this.emitterExtentsInner.x/this.emitterExtents.x:0,sn[1]=0!=this.emitterExtents.y?this.emitterExtentsInner.y/this.emitterExtents.y:0,sn[2]=0!=this.emitterExtents.z?this.emitterExtentsInner.z/this.emitterExtents.z:0,null===this.meshInstance.node?on.setTRS(I.ZERO,B.IDENTITY,this.emitterExtents):on.setTRS(I.ZERO,this.meshInstance.node.getRotation(),ln.copy(this.emitterExtents).mul(this.meshInstance.node.localScale)));var o=null===this.meshInstance.node?I.ONE:this.meshInstance.node.localScale;if(this.emitterScaleUniform[0]=o.x,this.emitterScaleUniform[1]=o.y,this.emitterScaleUniform[2]=o.z,this.material.setParameter("emitterScale",this.emitterScaleUniform),this.localSpace&&this.meshInstance.node&&(i=this.meshInstance.node.getPosition(),this.emitterPosUniform[0]=i.x,this.emitterPosUniform[1]=i.y,this.emitterPosUniform[2]=i.z,this.material.setParameter("emitterPos",this.emitterPosUniform)),this._compParticleFaceParams(),this.useCpu){var l=new Float32Array(this.vertexBuffer.lock());this._cpuUpdater.update(l,this.vbToSort,this.particleTex,on,sn,i,e,t)}else this._gpuUpdater.update(r,on,sn,e,t);this.loop||Date.now()>this.endTime&&(this.onFinished&&this.onFinished(),this.meshInstance.visible=!1),this.meshInstance&&(this.meshInstance.drawOrder=this.drawOrder)},_destroyResources:function(){this.particleTexIN&&(this.particleTexIN.destroy(),this.particleTexIN=null),this.particleTexOUT&&(this.particleTexOUT.destroy(),this.particleTexOUT=null),this.particleTexStart&&this.particleTexStart.destroy&&(this.particleTexStart.destroy(),this.particleTexStart=null),this.rtParticleTexIN&&(this.rtParticleTexIN.destroy(),this.rtParticleTexIN=null),this.rtParticleTexOUT&&(this.rtParticleTexOUT.destroy(),this.rtParticleTexOUT=null),this.internalTex0&&(this.internalTex0.destroy(),this.internalTex0=null),this.internalTex1&&(this.internalTex1.destroy(),this.internalTex1=null),this.internalTex2&&(this.internalTex2.destroy(),this.internalTex2=null),this.internalTex3&&(this.internalTex3.destroy(),this.internalTex3=null),this.colorParam&&(this.colorParam.destroy(),this.colorParam=null),this.vertexBuffer&&(this.vertexBuffer.destroy(),this.vertexBuffer=void 0),this.indexBuffer&&(this.indexBuffer.destroy(),this.indexBuffer=void 0),this.material&&(this.material.destroy(),this.material=null)},destroy:function(){this.camera=null,this._destroyResources()}}),Rn.prototype=Object.create(o.prototype),Rn.prototype.constructor=Rn,Rn.prototype.destroy=function(){this.root=null,this.defaultMaterial.destroy(),this.defaultMaterial=null,this.off()},Object.defineProperty(Rn.prototype,"fog",{get:function(){return this._fog},set:function(e){e!==this._fog&&(this._fog=e,this.updateShaders=!0)}}),Object.defineProperty(Rn.prototype,"gammaCorrection",{get:function(){return this._gammaCorrection},set:function(e){e!==this._gammaCorrection&&(this._gammaCorrection=e,this.updateShaders=!0)}}),Object.defineProperty(Rn.prototype,"toneMapping",{get:function(){return this._toneMapping},set:function(e){e!==this._toneMapping&&(this._toneMapping=e,this.updateShaders=!0)}}),Object.defineProperty(Rn.prototype,"skybox",{get:function(){return this._skyboxCubeMap},set:function(e){this._skyboxCubeMap=e,this._resetSkyboxModel(),this.updateShaders=!0}}),Object.defineProperty(Rn.prototype,"skyboxIntensity",{get:function(){return this._skyboxIntensity},set:function(e){this._skyboxIntensity=e,this._resetSkyboxModel(),this.updateShaders=!0}}),Object.defineProperty(Rn.prototype,"skyboxMip",{get:function(){return this._skyboxMip},set:function(e){this._skyboxMip=e,this._resetSkyboxModel(),this.updateShaders=!0}}),Object.defineProperty(Rn.prototype,"skyboxPrefiltered128",{get:function(){return this._skyboxPrefiltered[0]},set:function(e){this._skyboxPrefiltered[0]!==e&&(this._skyboxPrefiltered[0]=e,this.updateShaders=!0)}}),Object.defineProperty(Rn.prototype,"skyboxPrefiltered64",{get:function(){return this._skyboxPrefiltered[1]},set:function(e){this._skyboxPrefiltered[1]!==e&&(this._skyboxPrefiltered[1]=e,this.updateShaders=!0)}}),Object.defineProperty(Rn.prototype,"skyboxPrefiltered32",{get:function(){return this._skyboxPrefiltered[2]},set:function(e){this._skyboxPrefiltered[2]!==e&&(this._skyboxPrefiltered[2]=e,this.updateShaders=!0)}}),Object.defineProperty(Rn.prototype,"skyboxPrefiltered16",{get:function(){return this._skyboxPrefiltered[3]},set:function(e){this._skyboxPrefiltered[3]!==e&&(this._skyboxPrefiltered[3]=e,this.updateShaders=!0)}}),Object.defineProperty(Rn.prototype,"skyboxPrefiltered8",{get:function(){return this._skyboxPrefiltered[4]},set:function(e){this._skyboxPrefiltered[4]!==e&&(this._skyboxPrefiltered[4]=e,this.updateShaders=!0)}}),Object.defineProperty(Rn.prototype,"skyboxPrefiltered4",{get:function(){return this._skyboxPrefiltered[5]},set:function(e){this._skyboxPrefiltered[5]!==e&&(this._skyboxPrefiltered[5]=e,this.updateShaders=!0)}}),Object.defineProperty(Rn.prototype,"drawCalls",{get:function(){var e=this.layers._meshInstances;return e.length||(this.layers._update(),e=this.layers._meshInstances),e},set:function(e){}}),Object.defineProperty(Rn.prototype,"layers",{get:function(){return this._layers},set:function(e){var t=this._layers;this._layers=e,this.fire("set:layers",t,e)}}),Rn.prototype.applySettings=function(e){this._gravity.set(e.physics.gravity[0],e.physics.gravity[1],e.physics.gravity[2]),this.ambientLight.set(e.render.global_ambient[0],e.render.global_ambient[1],e.render.global_ambient[2]),this._fog=e.render.fog,this.fogColor.set(e.render.fog_color[0],e.render.fog_color[1],e.render.fog_color[2]),this.fogStart=e.render.fog_start,this.fogEnd=e.render.fog_end,this.fogDensity=e.render.fog_density,this._gammaCorrection=e.render.gamma_correction,this._toneMapping=e.render.tonemapping,this.lightmapSizeMultiplier=e.render.lightmapSizeMultiplier,this.lightmapMaxResolution=e.render.lightmapMaxResolution,this.lightmapMode=e.render.lightmapMode,this.exposure=e.render.exposure,this._skyboxIntensity=void 0===e.render.skyboxIntensity?1:e.render.skyboxIntensity,this._skyboxMip=void 0===e.render.skyboxMip?0:e.render.skyboxMip,this._resetSkyboxModel(),this.updateShaders=!0},Rn.prototype._updateSkybox=function(e){if(!this.skyboxModel){var t=this._skyboxMip?this._skyboxPrefiltered[[0,1,3,4,5,6][this._skyboxMip]]||this._skyboxPrefiltered[0]||this._skyboxCubeMap:this._skyboxCubeMap||this._skyboxPrefiltered[0];if(!t)return;var i=new Su,r=this;i.updateShader=function(i,n,a,s,o){var l=e.getProgramLibrary().getProgram("skybox",{rgbm:"rgbm"===t.type,hdr:"rgbm"===t.type||14===t.format,useIntensity:1!==r.skyboxIntensity,mip:t.fixCubemapSeams?r.skyboxMip:0,fixSeams:t.fixCubemapSeams,gamma:1===o?r.gammaCorrection?3:0:r.gammaCorrection,toneMapping:1===o?0:r.toneMapping});this.shader=l},i.updateShader(),i.setParameter("texture_cubeMap",t),i.cull=2,i.depthWrite=!1;var n=this.layers.getLayerById(2);if(n){var a=new ei,s=new bt(a,Pn(e),i);s.cull=!1,s._noDepthDrawGl1=!0;var o=new Tt;o.graph=a,o.meshInstances=[s],this.skyboxModel=o,n.addMeshInstances(o.meshInstances),this.skyLayer=n,this._firstUpdateSkybox&&(n.enabled=!0,this._firstUpdateSkybox=!1),this.fire("set:skybox",t)}}},Rn.prototype._resetSkyboxModel=function(){this.skyboxModel&&(this.skyLayer.removeMeshInstances(this.skyboxModel.meshInstances),this.skyboxModel.destroy()),this.skyboxModel=null,this.updateSkybox=!0},Rn.prototype.setSkybox=function(e){var t;e||(e=[null,null,null,null,null,null,null]);var i=!1;if(this._skyboxCubeMap!==e[0]&&(i=!0),!i)for(t=0;t<6&&!i;t++)this._skyboxPrefiltered[t]!==e[t+1]&&(i=!0);if(i){for(t=0;t<6;t++)this._skyboxPrefiltered[t]=e[t+1];this.skybox=e[0]}},Rn.prototype.destroy=function(){this.skybox=null},Rn.prototype.addModel=function(e){if(!this.containsModel(e)){var t=this.layers.getLayerById(0);t&&(t.addMeshInstances(e.meshInstances),this._models.push(e))}},Rn.prototype.addShadowCaster=function(e){var t=this.layers.getLayerById(0);t&&t.addShadowCasters(e.meshInstances)},Rn.prototype.removeModel=function(e){var t=this._models.indexOf(e);if(-1!==t){var i=this.layers.getLayerById(0);if(!i)return;i.removeMeshInstances(e.meshInstances),this._models.splice(t,1)}},Rn.prototype.removeShadowCasters=function(e){var t=this.layers.getLayerById(0);t&&t.removeShadowCasters(e.meshInstances)},Rn.prototype.containsModel=function(e){return this._models.indexOf(e)>=0},Rn.prototype.getModels=function(e){return this._models},On()?(pn=function(e,t,i){i=i||{},this.volume=void 0===i.volume?1:i.volume,this.loop=void 0!==i.loop&&i.loop,this.pitch=void 0===i.pitch?1:i.pitch,this.sound=t,this.paused=!1,this.suspended=!1,this.startTime=0,this.startOffset=0,this.manager=e,this.source=null;var r=e.context;this.gain=r.createGain()},Object.assign(pn.prototype,{play:function(){if(this.source)throw new Error("Call stop() before calling play()");this._createSource(),this.source&&(this.startTime=this.manager.context.currentTime,this.source.start(0,this.startOffset%this.source.buffer.duration),this.setVolume(this.volume),this.setLoop(this.loop),this.setPitch(this.pitch),this.manager.on("volumechange",this.onManagerVolumeChange,this),this.manager.on("suspend",this.onManagerSuspend,this),this.manager.on("resume",this.onManagerResume,this),this.manager.suspended&&this.onManagerSuspend())},pause:function(){this.source&&(this.paused=!0,this.startOffset+=this.manager.context.currentTime-this.startTime,this.source.stop(0),this.source=null)},unpause:function(){!this.source&&this.paused?(this._createSource(),this.source&&(this.startTime=this.manager.context.currentTime,this.source.start(0,this.startOffset%this.source.buffer.duration),this.setVolume(this.volume),this.setLoop(this.loop),this.setPitch(this.pitch),this.paused=!1)):console.warn("Call pause() before unpausing.")},stop:function(){this.source&&(this.source.stop(0),this.source=null),this.manager.off("volumechange",this.onManagerVolumeChange,this),this.manager.off("suspend",this.onManagerSuspend,this),this.manager.off("resume",this.onManagerResume,this)},setLoop:function(e){this.loop=e,this.source&&(this.source.loop=e)},setVolume:function(e){e=A.clamp(e,0,1),this.volume=e,this.gain&&(this.gain.gain.value=e*this.manager.volume)},setPitch:function(e){this.pitch=e,this.source&&(this.source.playbackRate.value=e)},isPlaying:function(){return!this.paused&&this.source.playbackState===this.source.PLAYING_STATE},getDuration:function(){return this.source?this.source.buffer.duration:0},_createSource:function(){var e=this.manager.context;this.sound.buffer&&(this.source=e.createBufferSource(),this.source.buffer=this.sound.buffer,this.source.connect(this.gain),this.gain.connect(e.destination),this.loop||(this.source.onended=this.pause.bind(this)))}})):Cn()?(pn=function(e,t,i){this.volume=i.volume||1,this.loop=i.loop||!1,this.sound=t,this.pitch=void 0!==i.pitch?i.pitch:1,this.paused=!1,this.suspended=!1,this.manager=e,t.audio&&(this.source=t.audio.cloneNode(!1),this.source.pause())},Object.assign(pn.prototype,{play:function(){this.source&&(this.paused=!1,this.setVolume(this.volume),this.setLoop(this.loop),this.setPitch(this.pitch),this.source.play()),this.manager.on("volumechange",this.onManagerVolumeChange,this),this.manager.on("suspend",this.onManagerSuspend,this),this.manager.on("resume",this.onManagerResume,this),this.manager.suspended&&this.onManagerSuspend()},pause:function(){this.source&&(this.paused=!0,this.source.pause())},unpause:function(){this.source&&(this.paused=!1,this.source.play())},stop:function(){this.source&&this.source.pause(),this.manager.off("volumechange",this.onManagerVolumeChange,this),this.manager.off("suspend",this.onManagerSuspend,this),this.manager.off("resume",this.onManagerResume,this)},setVolume:function(e){e=A.clamp(e,0,1),this.volume=e,this.source&&(this.source.volume=e*this.manager.volume)},setLoop:function(e){this.loop=e,this.source&&(this.source.loop=e)},setPitch:function(e){this.pitch=e,this.source&&(this.source.playbackRate=e)},getDuration:function(){return this.source&&!isNaN(this.source.duration)?this.source.duration:0},isPlaying:function(){return!this.source.paused}})):pn=function(){},Object.assign(pn.prototype,{getVolume:function(){return this.volume},getLoop:function(){return this.loop},getPitch:function(){return this.pitch},onManagerVolumeChange:function(){this.setVolume(this.getVolume())},onManagerSuspend:function(){this.isPlaying()&&!this.suspended&&(this.suspended=!0,this.pause())},onManagerResume:function(){this.suspended&&(this.suspended=!1,this.unpause())}}),On())(_n=function(e,t,i){pn.call(this,e,t,i),this.position=new I,this.velocity=new I;var r=e.context;this.panner=r.createPanner()}).prototype=Object.create(pn.prototype),_n.prototype.constructor=_n,Object.assign(_n.prototype,{getPosition:function(){return this.position},setPosition:function(e){this.position.copy(e),this.panner.setPosition(e.x,e.y,e.z)},getVelocity:function(){return this.velocity},setVelocity:function(e){this.velocity.copy(e),this.panner.setVelocity(e.x,e.y,e.z)},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){this.panner.maxDistance=e},getMinDistance:function(){return this.panner.refDistance},setMinDistance:function(e){this.panner.refDistance=e},getRollOffFactor:function(){return this.panner.rolloffFactor},setRollOffFactor:function(e){this.panner.rolloffFactor=e},getDistanceModel:function(){return this.pannel.distanceModel},setDistanceModel:function(e){this.panner.distanceModel=e},_createSource:function(){var e=this.manager.context;this.source=e.createBufferSource(),this.source.buffer=this.sound.buffer,this.source.connect(this.panner),this.panner.connect(this.gain),this.gain.connect(e.destination),this.loop||(this.source.onended=this.pause.bind(this))}});else if(Cn()){var In=new I;(_n=function(e,t){pn.call(this,e,t),this.position=new I,this.velocity=new I,this.maxDistance=1e4,this.minDistance=1,this.rollOffFactor=1,this.distanceModel="inverse"}).prototype=Object.create(pn.prototype),_n.prototype.constructor=_n,Object.assign(_n.prototype,{getPosition:function(){return this.position},setPosition:function(e){if(this.position.copy(e),this.source){var t=function(e,t,i,r,n,a){var s=(In=In.sub2(e,t)).length();if(s<i)return 1;if(s>r)return 0;var o=0;return"linear"===a?o=1-n*(s-i)/(r-i):"inverse"===a?o=i/(i+n*(s-i)):"exponential"===a&&(o=Math.pow(s/i,-n)),A.clamp(o,0,1)}(this.manager.listener.getPosition(),this.position,this.minDistance,this.maxDistance,this.rollOffFactor,this.distanceModel),i=this.getVolume();this.source.volume=i*t}},getVelocity:function(){return this.velocity},setVelocity:function(e){this.velocity.copy(e)},getMaxDistance:function(){return this.maxDistance},setMaxDistance:function(e){this.maxDistance=e},getMinDistance:function(){return this.minDistance},setMinDistance:function(e){this.minDistance=e},getRollOffFactor:function(){return this.rollOffFactor},setRollOffFactor:function(e){this.rollOffFactor=e},getDistanceModel:function(){return this.distanceModel},setDistanceModel:function(e){this.distanceModel=e}})}else _n=function(){};function Dn(e){this.position=new I,this.velocity=new I,this.orientation=new N,On()&&(this.listener=e.context.listener)}function Fn(e){if(o.call(this),On()||e.forceWebAudioApi){if("undefined"!==typeof AudioContext?this.context=new AudioContext:"undefined"!==typeof webkitAudioContext&&(this.context=new webkitAudioContext),this.context){var t=this.context;this.resumeContext=function(){this.context.resume(),window.removeEventListener("mousedown",this.resumeContext),window.removeEventListener("touchend",this.resumeContext)}.bind(this),window.addEventListener("mousedown",this.resumeContext),window.addEventListener("touchend",this.resumeContext),h.ios&&window.addEventListener("touchend",(function e(){var i=t.createBuffer(1,1,44100),r=t.createBufferSource();r.buffer=i,r.connect(t.destination),r.start(0),r.disconnect(),window.removeEventListener("touchend",e)}))}}else console.warn("No support for 3D audio found");Cn()||console.warn("No support for 2D audio found"),this.listener=new Dn(this),this._volume=1,this.suspended=!1}function Nn(e,t,i,r){this.time=e,this.position=t,this.rotation=i,this.scale=r}function Bn(){this._name="",this._keys=[]}function Ln(){this.name="",this.duration=0,this._nodes=[],this._nodeDict={}}function Un(e,t){if(ei.call(this,e),e instanceof Au&&(t=e),this._batchHandle=null,this.c={},this._app=t,!t&&(this._app=Au.getApplication(),!this._app))throw new Error("Couldn't find current application");this._guid=null,this._destroying=!1,this._template=!1}function Vn(e){2===arguments.length&&(e=arguments[1]),this.options=e,this.name=e.name,this.defaultWeight=e.defaultWeight||0,this.aabb=e.aabb,this.aabb||(this.aabb=new W,e.deltaPositions&&this.aabb.compute(e.deltaPositions)),this.deltaPositions=e.deltaPositions}function zn(e,t,i){this.device=e,this.inverseBindPose=t,this.boneNames=i}function jn(){}function Wn(e,t){this._components=e,this._data=t}function Gn(){this._left=1/0,this._right=-1/0,this._len=0,this._recip=0,this._p0=0,this._p1=0,this._t=0,this._hermite={valid:!1,p0:0,m0:0,p1:0,m1:0}}function Hn(e,t,i,r){this._paths=e,this._input=t,this._output=i,this._interpolation=r}function Yn(e,t,i,r,n){this._name=e,this._duration=t,this._inputs=i,this._outputs=r,this._curves=n}function Xn(e){var t;for(this._name=e.name+"Snapshot",this._time=-1,this._cache=[],this._results=[],t=0;t<e._inputs.length;++t)this._cache[t]=new Gn;var i=e._curves,r=e._outputs;for(t=0;t<i.length;++t){for(var n=r[i[t]._output],a=[],s=0;s<n._components;++s)a[s]=0;this._results[t]=a}}function Zn(e,t,i,r,n){this._name=e.name,this._track=e,this._snapshot=new Xn(e),this._playing=r,this._time=t,this._speed=i,this._loop=n,this._blendWeight=1,this._blendOrder=0}function Qn(e,t,i){this._func=e,this._type=t,this._components=i}function Jn(){}function qn(e){var t={};!function e(i){t[i.name]={node:i,count:0};for(var r=0;r<i.children.length;++r)e(i.children[r])}(e),this.nodes=t,this.activeNodes=[],this.handlers={localPosition:function(e){var t=e.localPosition;return new Qn((function(e){t.set.apply(t,e)}),"vector",3)},localRotation:function(e){var t=e.localRotation;return new Qn((function(e){t.set.apply(t,e)}),"quaternion",4)},localScale:function(e){var t=e.localScale;return new Qn((function(e){t.set.apply(t,e)}),"vector",3)},weights:function(e){for(var t=e;t&&t.constructor!==Un;)t=t.parent;if(!t||!t.model||!t.model.model||!t.model.model.morphInstances)return null;for(var i,r=t.model.meshInstances,n=0;n<r.length;++n)if(r[n].node.name===e.name){i=r[n].morphInstance;break}return i?new Qn((function(e){for(var t=0;t<e.length;++t)i.setWeight(t,e[t])}),"vector",i.morph._targets.length):null},materialTexture:function(e,t){for(var i=e;i&&i.constructor!==Un;)i=i.parent;if(!i||!i.model||!i.model.model)return null;for(var r,n=i.model.meshInstances,a=0;a<n.length;++a)if(n[a].node.name===e.name){r=n[a];break}return r?new Qn(function(e){var i=this.animComponent.system.app.assets.get(e[0]);i&&i.resource&&"texture"===i.type&&(r.material[t]=i.resource,r.material.update())}.bind(this),"vector",1):null}.bind(this)},this.propertyLocator=new jn}function Kn(e){this._binder=e,this._clips=[],this._inputs=[],this._outputs=[],this._targets={}}function $n(){}Object.assign(Dn.prototype,{getPosition:function(){return this.position},setPosition:function(e){this.position.copy(e),this.listener&&this.listener.setPosition(e.x,e.y,e.z)},getVelocity:function(){return this.velocity},setVelocity:function(e){this.velocity.copy(e),this.listener&&this.listener.setPosition(e.x,e.y,e.z)},setOrientation:function(e){this.orientation.copy(e),this.listener&&this.listener.setOrientation(-e.data[8],-e.data[9],-e.data[10],e.data[4],e.data[5],e.data[6])},getOrientation:function(){return this.orientation}}),Fn.prototype=Object.create(o.prototype),Fn.prototype.constructor=Fn,Object.assign(Fn.prototype,{suspend:function(){this.suspended=!0,this.fire("suspend")},resume:function(){this.suspended=!1,this.fire("resume")},destroy:function(){window.removeEventListener("mousedown",this.resumeContext),window.removeEventListener("touchend",this.resumeContext),this.fire("destroy"),this.context&&this.context.close&&(this.context.close(),this.context=null)},playSound:function(e,t){t=t||{};var i=null;return pn&&(i=new pn(this,e,t)).play(),i},playSound3d:function(e,t,i){i=i||{};var r=null;return _n&&((r=new _n(this,e,i)).setPosition(t),i.volume&&r.setVolume(i.volume),i.loop&&r.setLoop(i.loop),i.maxDistance&&r.setMaxDistance(i.maxDistance),i.minDistance&&r.setMinDistance(i.minDistance),i.rollOffFactor&&r.setRollOffFactor(i.rollOffFactor),i.distanceModel&&r.setDistanceModel(i.distanceModel),r.play()),r}}),Object.defineProperty(Fn.prototype,"volume",{get:function(){return this._volume},set:function(e){e=A.clamp(e,0,1),this._volume=e,this.fire("volumechange",e)}}),Ln.prototype.getDuration=function(){return this.duration},Ln.prototype.getName=function(){return this.name},Ln.prototype.getNode=function(e){return this._nodeDict[e]},Object.defineProperty(Ln.prototype,"nodes",{get:function(){return this._nodes}}),Ln.prototype.getNodes=function(){return this._nodes},Ln.prototype.setDuration=function(e){this.duration=e},Ln.prototype.setName=function(e){this.name=e},Ln.prototype.addNode=function(e){this._nodes.push(e),this._nodeDict[e._name]=e},Un.prototype=Object.create(ei.prototype),Un.prototype.constructor=Un,Un.prototype.addComponent=function(e,t){var i=this._app.systems[e];return i?this.c[e]?null:i.addComponent(this,t):null},Un.prototype.removeComponent=function(e){var t=this._app.systems[e];t&&this.c[e]&&t.removeComponent(this)},Un.prototype.findComponent=function(e){var t=this.findOne((function(t){return t.c&&t.c[e]}));return t&&t.c[e]},Un.prototype.findComponents=function(e){return this.find((function(t){return t.c&&t.c[e]})).map((function(t){return t.c[e]}))},Un.prototype.getGuid=function(){return this._guid||this.setGuid(c.create()),this._guid},Un.prototype.setGuid=function(e){var t=this._app._entityIndex;this._guid&&delete t[this._guid],this._guid=e,t[this._guid]=this},Un.prototype._notifyHierarchyStateChanged=function(e,t){var i,r,n=!1;e===this&&0===this._app._enableList.length&&(n=!0),e._beingEnabled=!0,e._onHierarchyStateChanged(t),e._onHierarchyStatePostChanged&&this._app._enableList.push(e);var a=e._children;for(i=0,r=a.length;i<r;i++)a[i]._enabled&&this._notifyHierarchyStateChanged(a[i],t);if(e._beingEnabled=!1,n){for(i=0;i<this._app._enableList.length;i++)this._app._enableList[i]._onHierarchyStatePostChanged();this._app._enableList.length=0}},Un.prototype._onHierarchyStateChanged=function(e){var t;ei.prototype._onHierarchyStateChanged.call(this,e);var i=this.c;for(var r in i)i.hasOwnProperty(r)&&(t=i[r]).enabled&&(e?t.onEnable():t.onDisable())},Un.prototype._onHierarchyStatePostChanged=function(){var e=this.c;for(var t in e)e.hasOwnProperty(t)&&e[t].onPostStateChange()},Un.prototype.findByGuid=function(e){if(this._guid===e)return this;var t=this._app._entityIndex[e];return t&&(t===this||t.isDescendantOf(this))?t:null},Un.prototype.destroy=function(){var e;for(e in this._destroying=!0,this.c)this.c[e].enabled=!1;for(e in this.c)this.c[e].system.removeComponent(this);this._parent&&this._parent.removeChild(this);for(var t=this._children,i=t.shift();i;)i instanceof Un&&i.destroy(),i._parent=null,i=t.shift();this.fire("destroy",this),this.off(),this._guid&&delete this._app._entityIndex[this._guid],this._destroying=!1},Un.prototype.clone=function(){var e={},t=this._cloneRecursively(e);return e[this.getGuid()]=t,function e(t,i,r,n){var a,s;if(i instanceof Un){var o=i.c;for(var l in o){var c=o[l],f=c.system.getPropertiesOfType("entity");for(a=0,s=f.length;a<s;a++){var h=f[a].name,u=c[h];if(t.findByGuid(u)){var d=n[u].getGuid();d?r.c[l][h]=d:console.warn("Could not find corresponding entity id when resolving duplicated entity references")}}}o.script&&!r._app.useLegacyScriptAttributeCloning&&r.script.resolveDuplicatedEntityReferenceProperties(o.script,n);var p=i.children.filter((function(e){return e instanceof Un})),_=r.children.filter((function(e){return e instanceof Un}));for(a=0,s=p.length;a<s;a++)e(t,p[a],_[a],n)}}(this,this,t,e),t},Un.prototype._cloneRecursively=function(e){var t,i=new Un(this._app);for(var r in ei.prototype._cloneInternal.call(this,i),this.c)this.c[r].system.cloneComponent(this,i);for(t=0;t<this._children.length;t++){var n=this._children[t];if(n instanceof Un){var a=n._cloneRecursively(e);i.addChild(a),e[n.getGuid()]=a}}return i},Object.defineProperties(Vn.prototype,{morphPositions:{get:function(){return!!this._vertexBufferPositions||!!this.texturePositions}},morphNormals:{get:function(){return!!this._vertexBufferNormals||!!this.textureNormals}}}),Object.assign(Vn.prototype,{_postInit:function(){this.options=null},_initVertexBuffers:function(e){var t=this.options;this._vertexBufferPositions=this._createVertexBuffer(e,t.deltaPositions,t.deltaPositionsType),this._vertexBufferNormals=this._createVertexBuffer(e,t.deltaNormals,t.deltaNormalsType),this._vertexBufferPositions&&(this.deltaPositions=this._vertexBufferPositions.lock())},_createVertexBuffer:function(e,t,i){return t?new fe(e,new ue(e,[{semantic:"ATTR0",components:3,type:i||6}]),t.length/3,0,t):null},_setTexture:function(e,t){this[e]=t},destroy:function(){this._vertexBufferPositions&&(this._vertexBufferPositions.destroy(),this._vertexBufferPositions=null),this._vertexBufferNormals&&(this._vertexBufferNormals.destroy(),this._vertexBufferNormals=null),this.texturePositions&&(this.texturePositions.destroy(),this.texturePositions=null),this.textureNormals&&(this.textureNormals.destroy(),this.textureNormals=null)}}),Object.assign(jn.prototype,{encode:function(e){return Jn.joinPath([Jn.joinPath(e[0]),e[1],Jn.joinPath(e[2])],"/")},decode:function(e){var t=Jn.splitPath(e,"/");return[Jn.splitPath(t[0]),t[1],Jn.splitPath(t[2])]}}),Object.defineProperties(Wn.prototype,{components:{get:function(){return this._components}},data:{get:function(){return this._data}}}),Object.assign(Gn.prototype,{update:function(e,t){if(e<this._left||e>=this._right){var i=t.length;if(i)if(e<t[0])this._left=-1/0,this._right=t[0],this._len=0,this._recip=0,this._p0=this._p1=0;else if(e>=t[i-1])this._left=t[i-1],this._right=1/0,this._len=0,this._recip=0,this._p0=this._p1=i-1;else{var r=this._findKey(e,t);this._left=t[r],this._right=t[r+1],this._len=this._right-this._left;var n=1/this._len;this._recip=isFinite(n)?n:0,this._p0=r,this._p1=r+1}else this._left=-1/0,this._right=1/0,this._len=0,this._recip=0,this._p0=this._p1=0}this._t=0===this._recip?0:(e-this._left)*this._recip,this._hermite.valid=!1},_findKey:function(e,t){for(var i=0;e>=t[i+1];)i++;return i},eval:function(e,t,i){var r,n=i._data,a=i._components,s=this._p0*a;if(0===t)for(r=0;r<a;++r)e[r]=n[s+r];else{var o=this._t,l=this._p1*a;switch(t){case 1:for(r=0;r<a;++r)e[r]=A.lerp(n[s+r],n[l+r],o);break;case 2:var c=this._hermite;if(!c.valid){var f=o*o,h=o+o,u=1-o,d=u*u;c.valid=!0,c.p0=(1+h)*d,c.m0=o*d,c.p1=f*(3-h),c.m1=f*(o-1)}var p=(3*this._p0+1)*a,_=(3*this._p0+2)*a,m=(3*this._p1+1)*a,b=(3*this._p1+0)*a;for(r=0;r<a;++r)e[r]=c.p0*n[p+r]+c.m0*n[_+r]*this._len+c.p1*n[m+r]+c.m1*n[b+r]*this._len}}}}),Object.defineProperties(Hn.prototype,{paths:{get:function(){return this._paths}},input:{get:function(){return this._input}},output:{get:function(){return this._output}},interpolation:{get:function(){return this._interpolation}}}),Object.defineProperties(Yn.prototype,{name:{get:function(){return this._name}},duration:{get:function(){return this._duration}},inputs:{get:function(){return this._inputs}},outputs:{get:function(){return this._outputs}},curves:{get:function(){return this._curves}}}),Object.assign(Yn.prototype,{eval:function(e,t){t._time=e;var i,r=this._inputs,n=this._outputs,a=this._curves,s=t._cache,o=t._results;for(i=0;i<r.length;++i)s[i].update(e,r[i]._data);for(i=0;i<a.length;++i){var l=a[i],c=n[l._output],f=o[i];s[l._input].eval(f,l._interpolation,c)}}}),Object.defineProperties(Zn.prototype,{name:{get:function(){return this._name},set:function(e){this._name=e}},track:{get:function(){return this._track}},snapshot:{get:function(){return this._snapshot}},time:{get:function(){return this._time},set:function(e){this._time=e}},speed:{get:function(){return this._speed},set:function(e){this._speed=e}},loop:{get:function(){return this._loop},set:function(e){this._loop=e}},blendWeight:{get:function(){return this._blendWeight},set:function(e){this._blendWeight=e}},blendOrder:{get:function(){return this._blendOrder},set:function(e){this._blendOrder=e}}}),Object.assign(Zn.prototype,{_update:function(e){if(this._playing){var t=this._time,i=this._track.duration,r=this._speed,n=this._loop;t+=r*e,r>=0?t>i&&(n?t=t%i||0:(t=this._track.duration,this.pause())):t<0&&(n?t=i+(t%i||0):(t=0,this.pause())),this._time=t}this._time!=this._snapshot._time&&this._track.eval(this._time,this._snapshot)},play:function(){this._playing=!0,this._time=0},stop:function(){this._playing=!1,this._time=0},pause:function(){this._playing=!1},resume:function(){this._playing=!0},reset:function(){this._time=0}}),Object.defineProperties(Qn.prototype,{func:{get:function(){return this._func}},type:{get:function(){return this._type}},components:{get:function(){return this._components}}}),Jn.joinPath=function(e,t){return t=t||".",e.map((function(e){return e.replace(/\\/g,"\\\\").replace(new RegExp("\\"+t,"g"),"\\"+t)})).join(t)},Jn.splitPath=function(e,t){t=t||".";for(var i=[],r="",n=0;n<e.length;){var a=e[n++];"\\"===a&&n<e.length?r+="\\"===(a=e[n++])||a===t?a:"\\"+a:a===t?(i.push(r),r=""):r+=a}return r.length>0&&i.push(r),i},Object.assign(Jn.prototype,{resolve:function(e){return null},unresolve:function(e){},update:function(e){}}),Object.assign(qn.prototype,{resolve:function(e){var t=this.propertyLocator.decode(e),i=this.nodes[t[0][0]||""];if(!i)return null;var r=this.handlers[t[2][0]];if(!r)return null;var n=r(i.node);return n?(0===i.count&&this.activeNodes.push(i.node),i.count++,n):null},unresolve:function(e){var t=this.propertyLocator.decode(e);if("graph"===t[1]){var i=this.nodes[t[0][0]];if(i.count--,0===i.count){var r=this.activeNodes,n=r.indexOf(i.node),a=r.length;n<a-1&&(r[n]=r[a-1]),r.pop()}}},update:function(e){for(var t=this.activeNodes,i=0;i<t.length;++i)t[i]._dirtifyLocal()}}),Object.defineProperties(Kn.prototype,{clips:{get:function(){return this._clips}}}),Kn._dot=function(e,t){for(var i=e.length,r=0,n=0;n<i;++n)r+=e[n]*t[n];return r},Kn._normalize=function(e){var t=Kn._dot(e,e);if(t>0){t=1/Math.sqrt(t);for(var i=e.length,r=0;r<i;++r)e[r]*=t}},Kn._set=function(e,t,i){var r,n=e.length;if("quaternion"===i){var a=Kn._dot(t,t);for(a>0&&(a=1/Math.sqrt(a)),r=0;r<n;++r)e[r]=t[r]*a}else for(r=0;r<n;++r)e[r]=t[r]},Kn._blendVec=function(e,t,i){for(var r=1-i,n=e.length,a=0;a<n;++a)e[a]=e[a]*r+t[a]*i},Kn._blendQuat=function(e,t,i){var r=e.length,n=1-i;Kn._dot(e,t)<0&&(i=-i);for(var a=0;a<r;++a)e[a]=e[a]*n+t[a]*i;Kn._normalize(e)},Kn._blend=function(e,t,i,r){"quaternion"===r?Kn._blendQuat(e,t,i):Kn._blendVec(e,t,i)},Kn._stableSort=function(e,t){for(var i=e.length,r=0;r<i-1;++r)for(var n=r+1;n<i;++n)if(t(e[n],e[r])){var a=e[r];e[r]=e[n],e[n]=a}},Object.assign(Kn.prototype,{addClip:function(e){for(var t=this._targets,i=e.track.curves,r=e.snapshot,n=[],a=[],s=0;s<i.length;++s)for(var o=i[s].paths,l=0;l<o.length;++l){var c=o[l],f=t[c];if(!f){var h=this._binder.resolve(c);if(h){f={target:h,value:[],curves:0,blendCounter:0};for(var u=0;u<f.target.components;++u)f.value.push(0);t[c]=f}}f&&(f.curves++,n.push(r._results[s]),a.push(f))}this._clips.push(e),this._inputs.push(n),this._outputs.push(a)},removeClip:function(e){for(var t=this._targets,i=this._clips,r=i[e].track.curves,n=0;n<r.length;++n)for(var a=r[n].paths,s=0;s<a.length;++s){var o=a[s],l=t[o];l&&(l.curves--,0===l.curves&&(this._binder.unresolve(o),delete t[o]))}i.splice(e,1),this._inputs.splice(e,1),this._outputs.splice(e,1)},removeClips:function(){for(;this._clips.length>0;)this.removeClip(0)},findClip:function(e){for(var t=this._clips,i=0;i<t.length;++i){var r=t[i];if(r.name===e)return r}return null},update:function(e){var t,i,r=this._clips,n=r.map((function(e,t){return t}));for(Kn._stableSort(n,(function(e,t){return r[e].blendOrder<r[t].blendOrder})),t=0;t<r.length;++t){var a,s,o,l=n[t],c=r[l],f=this._inputs[l],h=this._outputs[l],u=c.blendWeight;if(u>0&&c._update(e),u>=1)for(i=0;i<f.length;++i)a=f[i],o=(s=h[i]).value,Kn._set(o,a,s.target.type),s.blendCounter++;else if(u>0)for(i=0;i<f.length;++i)a=f[i],o=(s=h[i]).value,0===s.blendCounter?Kn._set(o,a,s.target.type):Kn._blend(o,a,u,s.target.type),s.blendCounter++}var d=this._targets;for(var p in d)if(d.hasOwnProperty(p)){var _=d[p];_.target.func(_.value),_.blendCounter=0}this._binder.update(e)}}),$n.prototype._validate=function(e){if(!e.header)throw new Error('pc.I18n#addData: Missing "header" field');if(!e.header.version)throw new Error('pc.I18n#addData: Missing "header.version" field');if(1!==e.header.version)throw new Error('pc.I18n#addData: Invalid "header.version" field');if(!e.data)throw new Error('pc.I18n#addData: Missing "data" field');if(!Array.isArray(e.data))throw new Error('pc.I18n#addData: "data" field must be an array');for(var t=0,i=e.data.length;t<i;t++){var r=e.data[t];if(!r.info)throw new Error('pc.I18n#addData: missing "data['+t+'].info" field');if(!r.info.locale)throw new Error('pc.I18n#addData: missing "data['+t+'].info.locale" field');if("string"!==typeof r.info.locale)throw new Error('pc.I18n#addData: "data['+t+'].info.locale" must be a string');if(!r.messages)throw new Error('pc.I18n#addData: missing "data['+t+'].messages" field')}},$n.prototype.parse=function(e){return e.data};var ea={},ta=function(e,t){for(var i=0,r=e.length;i<r;i++)ea[e[i]]=t},ia=function(e){var t=e.indexOf("-");return-1!==t?e.substring(0,t):e},ra={en:"en-US",es:"en-ES",zh:"zh-CN","zh-HK":"zh-TW","zh-TW":"zh-HK","zh-MO":"zh-HK",fr:"fr-FR",de:"de-DE",it:"it-IT",ru:"ru-RU",ja:"ja-JP"};ta(["ja","ko","th","vi","zh","id"],(function(e){return 0})),ta(["fa","hi"],(function(e){return e>=0&&e<=1?0:1})),ta(["fr","pt"],(function(e){return e>=0&&e<2?0:1})),ta(["da"],(function(e){return 1===e||!Number.isInteger(e)&&e>=0&&e<=1?0:1})),ta(["de","en","it","el","es","tr","fi","sv","nb","no","ur"],(function(e){return 1===e?0:1})),ta(["ru","uk"],(function(e){if(Number.isInteger(e)){var t=e%10,i=e%100;if(1===t&&11!==i)return 0;if(t>=2&&t<=4&&(i<12||i>14))return 1;if(0===t||t>=5&&t<=9||i>=11&&i<=14)return 2}return 3})),ta(["pl"],(function(e){if(Number.isInteger(e)){if(1===e)return 0;var t=e%10,i=e%100;if(t>=2&&t<=4&&(i<12||i>14))return 1;if(t>=0&&t<=1||t>=5&&t<=9||i>=12&&i<=14)return 2}return 3})),ta(["ar"],(function(e){if(0===e)return 0;if(1===e)return 1;if(2===e)return 2;if(Number.isInteger(e)){var t=e%100;if(t>=3&&t<=10)return 3;if(t>=11&&t<=99)return 4}return 5}));var na=ea[ia("en-US")],aa=function(e){return ea[e]||na};function sa(e){o.call(this),this.locale="en-US",this._translations={},this._availableLangs={},this._app=e,this._assets=[],this._parser=new $n}sa.prototype=Object.create(o.prototype),sa.prototype.constructor=sa,sa.findAvailableLocale=function(e,t){if(t[e])return e;var i=ra[e];if(i&&t[i])return i;var r=ia(e);return t[i=ra[r]]?i:t[r]?r:"en-US"},sa.prototype.getText=function(e,t){var i,r=e;t||(t=this._locale,i=this._lang);var n=this._translations[t];return n||(i||(i=ia(t)),t=this._findFallbackLocale(t,i),n=this._translations[t]),n&&n.hasOwnProperty(e)&&(r=n[e],Array.isArray(r)&&(r=r[0]),null!==r&&void 0!==r||(r=e)),r},sa.prototype.getPluralText=function(e,t,i){var r,n,a=e;i?(n=ia(i),r=aa(n)):(i=this._locale,n=this._lang,r=this._pluralFn);var s=this._translations[i];if(s||(i=this._findFallbackLocale(i,n),n=ia(i),r=aa(n),s=this._translations[i]),s&&s[e]&&r){var o=r(t);null!==(a=s[e][o])&&void 0!==a||(a=e)}return a},sa.prototype.addData=function(e){var t;try{t=this._parser.parse(e)}catch(l){return void console.error(l)}for(var i=0,r=t.length;i<r;i++){var n=t[i],a=n.info.locale,s=n.messages;if(!this._translations[a]){this._translations[a]={};var o=ia(a);this._availableLangs[o]||(this._availableLangs[o]=a)}Object.assign(this._translations[a],s),this.fire("data:add",a,s)}},sa.prototype.removeData=function(e){var t,i;try{t=this._parser.parse(e)}catch(f){return void console.error(f)}for(var r=0,n=t.length;r<n;r++){var a=t[r],s=a.info.locale,o=this._translations[s];if(o){var l=a.messages;for(i in l)delete o[i];var c=!1;for(i in o){c=!0;break}c||(delete this._translations[s],delete this._availableLangs[ia(s)]),this.fire("data:remove",s,l)}}},sa.prototype.destroy=function(){this._translations=null,this._availableLangs=null,this._assets=null,this._parser=null,this.off()},Object.defineProperty(sa.prototype,"locale",{get:function(){return this._locale},set:function(e){if(this._locale!==e){var t=ia(e);if("in"!==t||(e=function(e,t){var i=e.indexOf("-");return-1!==i?t+e.substring(i):t}(e,t="id"),this._locale!==e)){var i=this._locale;this._locale=e,this._lang=t,this._pluralFn=aa(this._lang),this.fire("set:locale",e,i)}}}}),Object.defineProperty(sa.prototype,"assets",{get:function(){return this._assets},set:function(e){var t,i,r,n,a={};for(t=0,i=e.length;t<i;t++)a[r=e[t]instanceof pa?e[t].id:e[t]]=!0;for(t=this._assets.length;t--;)a[r=this._assets[t]]||(this._app.assets.off("add:"+r,this._onAssetAdd,this),(n=this._app.assets.get(r))&&this._onAssetRemove(n),this._assets.splice(t,1));for(r in a)r=parseInt(r,10),-1===this._assets.indexOf(r)&&(this._assets.push(r),(n=this._app.assets.get(r))?this._onAssetAdd(n):this._app.assets.once("add:"+r,this._onAssetAdd,this))}}),sa.prototype._findFallbackLocale=function(e,t){var i=ra[e];return i&&this._translations[i]||(i=ra[t])&&this._translations[i]||(i=this._availableLangs[t])&&this._translations[i]?i:"en-US"},sa.prototype._onAssetAdd=function(e){e.on("load",this._onAssetLoad,this),e.on("change",this._onAssetChange,this),e.on("remove",this._onAssetRemove,this),e.on("unload",this._onAssetUnload,this),e.resource&&this._onAssetLoad(e)},sa.prototype._onAssetLoad=function(e){this.addData(e.resource)},sa.prototype._onAssetChange=function(e){e.resource&&this.addData(e.resource)},sa.prototype._onAssetRemove=function(e){e.off("load",this._onAssetLoad,this),e.off("change",this._onAssetChange,this),e.off("remove",this._onAssetRemove,this),e.off("unload",this._onAssetUnload,this),e.resource&&this.removeData(e.resource),this._app.assets.once("add:"+e.id,this._onAssetAdd,this)},sa.prototype._onAssetUnload=function(e){e.resource&&this.removeData(e.resource)};var oa=new RegExp("^\\s*(?:(?:[a-z]+[a-z0-9\\-\\+\\.]*:)?//|data:|blob:)","i"),la=[];function ca(e){this.asset=e}var fa=function(e){var t="_"+e;la.push(t),Object.defineProperty(ca.prototype,e,{get:function(){return this[t]||null},set:function(e){(!!this[t]!==!!e||this[t]&&e&&this[t].hash!==e.hash)&&(this[t]=e?{url:e.url,filename:e.filename,size:e.size,hash:e.hash,opt:e.opt||0}:null,this.asset.file&&(this.asset.fire("change",this.asset,"file",this.asset._file,this.asset._file),this.asset.reload()))}})};fa("dxt"),fa("pvr"),fa("etc1"),fa("etc2"),fa("basis"),ca.prototype.clear=function(){for(var e=0;e<la.length;e++)this[la[e]]=null};var ha=-1,ua={pvr:"extCompressedTexturePVRTC",dxt:"extCompressedTextureS3TC",etc2:"extCompressedTextureETC",etc1:"extCompressedTextureETC1",basis:"canvas"},da=["pvr","dxt","etc2","etc1","basis"];function pa(e,t,i,r,n){o.call(this),this._id=ha--,this.name=e||"",this.type=t,this.tags=new k(this),this._preload=!1,this.variants=new ca(this),this._file=null,this._data=r||{},this.options=n||{},this._resources=[],this._i18n={},this.loaded=!1,this.loading=!1,this.registry=null,i&&(this.file=i)}pa.prototype=Object.create(o.prototype),pa.prototype.constructor=pa,Object.assign(pa.prototype,{getFileUrl:function(){var e=this.getPreferredFile();if(!e||!e.url)return null;var t=e.url;if(this.registry&&this.registry.prefix&&!oa.test(t)&&(t=this.registry.prefix+t),"script"!==this.type&&e.hash){var i=-1!==t.indexOf("?")?"&":"?";t+=i+"t="+e.hash}return t},getPreferredFile:function(){if(!this.file)return null;if("texture"===this.type||"textureatlas"===this.type||"bundle"===this.type)for(var e=this.registry._loader._app,t=e.graphicsDevice,i=0,r=da.length;i<r;i++){var n=da[i];if(t[ua[n]]){if(this.file.variants[n])return this.file.variants[n];if(e.enableBundles){var a=e.bundles.listBundlesForAsset(this);if(!a)continue;for(var s=0,o=a.length;s<o;s++)if(a[s].file&&a[s].file.variants&&a[s].file.variants[n])return this.file}}}return this.file},getAbsoluteUrl:function(e){var t=f.getDirectory(this.file.url);return f.join(t,e)},getLocalizedAssetId:function(e){return e=sa.findAvailableLocale(e,this._i18n),this._i18n[e]||null},addLocalizedAssetId:function(e,t){this._i18n[e]=t,this.fire("add:localized",e,t)},removeLocalizedAssetId:function(e){var t=this._i18n[e];t&&(delete this._i18n[e],this.fire("remove:localized",e,t))},ready:function(e,t){t=t||this,this.resource?e.call(t,this):this.once("load",(function(i){e.call(t,i)}))},reload:function(){this.loaded&&(this.loaded=!1,this.registry.load(this))},unload:function(){if(this.loaded||0!==this._resources.length){this.fire("unload",this),this.registry.fire("unload:"+this.id,this);var e=this._resources;this.resources=[],this.loaded=!1,this.file&&this.registry._loader.clearCache(this.getFileUrl(),this.type);for(var t=0;t<e.length;++t){var i=e[t];i&&i.destroy&&i.destroy()}}}}),Object.defineProperty(pa.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e}}),Object.defineProperty(pa.prototype,"file",{get:function(){return this._file},set:function(e){var t;if(!!e!==!!this._file||e&&this._file&&e.hash!==this._file)if(e){if(this._file||(this._file={}),this._file.url=e.url,this._file.filename=e.filename,this._file.hash=e.hash,this._file.size=e.size,this._file.variants=this.variants,this._file.contents=e.contents,e.hasOwnProperty("variants")&&(this.variants.clear(),e.variants))for(t in e.variants)e.variants[t]&&(this.variants[t]=e.variants[t]);this.fire("change",this,"file",this._file,this._file),this.reload()}else this._file=null,this.variants.clear();else if(e&&this._file&&e.hasOwnProperty("variants")&&(this.variants.clear(),e.variants))for(t in e.variants)e.variants[t]&&(this.variants[t]=e.variants[t])}}),Object.defineProperty(pa.prototype,"data",{get:function(){return this._data},set:function(e){var t=this._data;this._data=e,e!==t&&(this.fire("change",this,"data",e,t),this.loaded&&this.registry._loader.patch(this,this.registry))}}),Object.defineProperty(pa.prototype,"resource",{get:function(){return this._resources[0]},set:function(e){var t=this._resources[0];this._resources[0]=e,this.fire("change",this,"resource",e,t)}}),Object.defineProperty(pa.prototype,"resources",{get:function(){return this._resources},set:function(e){var t=this._resources;this._resources=e,this.fire("change",this,"resources",e,t)}}),Object.defineProperty(pa.prototype,"preload",{get:function(){return this._preload},set:function(e){e=!!e,this._preload!==e&&(this._preload=e,this._preload&&!this.loaded&&!this.loading&&this.registry&&this.registry.load(this))}}),Object.defineProperty(pa.prototype,"loadFaces",{get:function(){return this._loadFaces},set:function(e){e=!!e,this.hasOwnProperty("_loadFaces")&&e===this._loadFaces||(this._loadFaces=e,this.loaded&&this.registry._loader.patch(this,this.registry))}});var _a=function(e){return/^data:.*,.*$/i.test(e)},ma=function(e){switch(e){case"SCALAR":return 1;case"VEC2":return 2;case"VEC3":return 3;case"VEC4":case"MAT2":return 4;case"MAT3":return 9;case"MAT4":return 16;default:return 3}},ba=function(e){switch(e){case 5120:return 0;case 5121:return 1;case 5122:return 2;case 5123:return 3;case 5124:return 4;case 5125:return 5;case 5126:return 6;default:return 0}},Aa=function(e){switch(e){case 5120:case 5121:return 1;case 5122:case 5123:return 2;case 5124:case 5125:case 5126:return 4;default:return 0}},va={POSITION:"POSITION",NORMAL:"NORMAL",TANGENT:"TANGENT",COLOR_0:"COLOR",JOINTS_0:"BLENDINDICES",WEIGHTS_0:"BLENDWEIGHT",TEXCOORD_0:"TEXCOORD0",TEXCOORD_1:"TEXCOORD1"},ya=function e(t,i){var r,n=ma(t.type),a=function(e){switch(e){case 5120:return Int8Array;case 5121:return Uint8Array;case 5122:return Int16Array;case 5123:return Uint16Array;case 5124:return Int32Array;case 5125:return Uint32Array;case 5126:return Float32Array;default:return null}}(t.componentType);if(!a)return null;if(t.sparse){var s=t.sparse,o={count:s.count,type:"SCALAR"},l=e(Object.assign(o,s.indices),i),c={count:s.count,type:t.scalar,componentType:t.componentType},f=e(Object.assign(c,s.values),i);r=t.hasOwnProperty("bufferView")?e({bufferView:t.bufferView,byteOffset:t.byteOffset,componentType:t.componentType,count:t.count,type:t.type},i).slice():new a(t.count*n);for(var h=0;h<s.count;++h)for(var u=l[h],d=0;d<n;++d)r[u*n+d]=f[h*n+d]}else{var p=i[t.bufferView];r=new a(p.buffer,p.byteOffset+(t.hasOwnProperty("byteOffset")?t.byteOffset:0),t.count*n)}return r};function ga(e,t){var i=t.findIndex((function(t){return!!t.hasOwnProperty("children")&&t.children.includes(e)}));return-1!==i?ga(i,t).concat([e]):[e]}var ka=function(e,t){var i=e.POSITION;if(i&&3===i.components){var r;if(i.size!==i.stride){var n=i.stride/ae[i.type],a=new ne[i.type](i.buffer,i.offset,i.count*n);r=new ne[i.type](3*i.count);for(var s=0;s<i.count;++s)r[3*s+0]=a[s*n+0],r[3*s+1]=a[s*n+1],r[3*s+2]=a[s*n+2]}else r=new ne[i.type](i.buffer,i.offset,3*i.count);var o=i.count;t||(t=function(e){for(var t=new Uint16Array(e),i=0;i<e;i++)t[i]=i;return t}(o));var l=vn(r,t),c=new Float32Array(l.length);c.set(l),e.NORMAL={buffer:c.buffer,size:12,offset:0,stride:12,count:o,components:3,type:6}}},xa=function(e){var t=new pa(e.name+"_clone",e.type,e.file,e.data,e.options);return t.loaded=!0,t.resource=function(e){var t=new nt(e.device,e);return t._levels=function(e){for(var t=[],i=0;i<e._levels.length;++i){var r=[];if(e.cubemap)for(var n=0;n<6;++n)r.push(e._levels[i][n]);else r=e._levels[i];t.push(r)}return t}(e),t}(e.resource),e.registry.add(t),t},Sa=function(e,t,i){var r=t.POSITION,n=r.count,a=[];for(var s in t)t.hasOwnProperty(s)&&a.push({semantic:s,components:t[s].components,type:t[s].type,normalize:!!t[s].normalize});var o,l,c,f,h,u,d=["POSITION","NORMAL","TANGENT","COLOR","BLENDINDICES","BLENDWEIGHT","TEXCOORD0","TEXCOORD1"];a.sort((function(e,t){var i=d.indexOf(e.semantic),r=d.indexOf(t.semantic);return i<r?-1:r<i?1:0}));var p=new ue(e,a),_=!0;for(o=0;o<p.elements.length;++o)if(u=(f=t[(h=p.elements[o]).name]).offset-r.offset,f.buffer!==r.buffer||f.stride!==h.stride||f.size!==h.size||u!==h.offset){_=!1;break}var m,b,A,v=new fe(e,p,n,0),y=v.lock(),g=new Uint32Array(y);if(_)m=new Uint32Array(r.buffer,r.offset,n*v.format.size/4),g.set(m);else for(o=0;o<v.format.elements.length;++o){b=(h=v.format.elements[o]).stride/4,f=t[h.name],m=new Uint32Array(f.buffer,f.offset,f.count*f.stride/4),A=f.stride/4;var k=0,x=h.offset/4,S=Math.floor((f.size+3)/4);for(l=0;l<n;++l){for(c=0;c<S;++c)g[x+c]=m[k+c];k+=A,x+=b}}return i||function(e){var t,i,r=[],n=[],a=[];for(t=0;t<e.format.elements.length;++t){var s=e.format.elements[t];if("TEXCOORD0"===s.name||"TEXCOORD1"===s.name)switch(s.dataType){case 6:r.push({offset:s.offset/4+1,stride:s.stride/4});break;case 3:n.push({offset:s.offset/2+1,stride:s.stride/2});break;case 1:a.push({offset:s.offset+1,stride:s.stride})}}var o=function(r,n,a){var s=new n(e.storage);for(t=0;t<r.length;++t){var o=r[t].offset,l=r[t].stride;for(i=0;i<e.numVertices;++i)s[o]=a-s[o],o+=l}};r.length>0&&o(r,Float32Array,1),n.length>0&&o(n,Uint16Array,65535),a.length>0&&o(a,Uint8Array,255)}(v),v.unlock(),v},Ta=new N,wa=new I,Ea=function(e,t,i,r,n,a,s){var o=[];return t.primitives.forEach((function(l){var c=function(e,t){var i=function e(t){return Object.keys(t).sort().reduce((function(i,r){return Array.isArray(t[r])?i[r]=t[r].map(e):"object"===typeof t[r]?i[r]=e(t[r]):i[r]=t[r],i}),{})}(e);return t&&t.forEach((function(e){delete i[e]})),he(JSON.stringify(i,(function(e,t){return void 0===t?"undefined":t})))}(l,["material"]);if(s.hasOwnProperty(c))o.push({mesh:s[c],materialIndex:l.material});else{var f,h,u,d=null,p=new dt(e),_=!0;if(l.hasOwnProperty("extensions")){var m=l.extensions;if(m.hasOwnProperty("KHR_draco_mesh_compression")){var b=window.DracoDecoderModule;if(b){var A=m.KHR_draco_mesh_compression;if(A.hasOwnProperty("attributes")){var v=r[A.bufferView],y=new b.DecoderBuffer;y.Init(v,v.length);var g,k,x=new b.Decoder,S=x.GetEncodedGeometryType(y);switch(S){case b.POINT_CLOUD:f=0,g=new b.PointCloud,k=x.DecodeBufferToPointCloud(y,g);break;case b.TRIANGULAR_MESH:f=4,g=new b.Mesh,k=x.DecodeBufferToMesh(y,g);break;case b.INVALID_GEOMETRY_TYPE:}if(!k||!k.ok()||0==g.ptr)return void n("Failed to decode draco compressed asset: "+(k?k.error_msg():"Mesh asset - invalid draco compressed geometry type: "+S));var T=g.num_faces();if(S==b.TRIANGULAR_MESH){var w=g.num_points()>65535,E=(u=3*T)*(w?4:2),M=b._malloc(E);w?(x.GetTrianglesUInt32Array(g,E,M),d=new Uint32Array(b.HEAPU32.buffer,M,u).slice()):(x.GetTrianglesUInt16Array(g,E,M),d=new Uint16Array(b.HEAPU16.buffer,M,u).slice()),b._free(M)}h=function(e,t,i,r,n,a,s){var o=t.num_points(),l=function(e){var i,a,s,l,c=r.GetAttributeByUniqueId(t,e),f=o*c.num_components();switch(c.data_type()){case n.DT_UINT8:l=1,s=1,i=n._malloc(f*s),r.GetAttributeDataArrayForAllPoints(t,c,n.DT_UINT8,f*s,i),a=new Uint8Array(n.HEAPU8.buffer,i,f).slice();break;case n.DT_UINT16:l=3,s=2,i=n._malloc(f*s),r.GetAttributeDataArrayForAllPoints(t,c,n.DT_UINT16,f*s,i),a=new Uint16Array(n.HEAPU16.buffer,i,f).slice();break;case n.DT_FLOAT32:default:l=6,s=4,i=n._malloc(f*s),r.GetAttributeDataArrayForAllPoints(t,c,n.DT_FLOAT32,f*s,i),a=new Float32Array(n.HEAPF32.buffer,i,f).slice()}return n._free(i),{values:a,numComponents:c.num_components(),componentSizeInBytes:s,storageType:l,normalized:c.normalized()}},c={},f=i.attributes;for(var h in f)if(f.hasOwnProperty(h)&&va.hasOwnProperty(h)){var u=va[h],d=l(f[h]),p=d.numComponents*d.componentSizeInBytes;c[u]={values:d.values,buffer:d.values.buffer,size:p,offset:0,stride:p,count:o,components:d.numComponents,type:d.storageType,normalize:d.normalized}}return c.hasOwnProperty("NORMAL")||ka(c,a),Sa(e,c,s)}(e,g,A,x,b,d,a),b.destroy(g),b.destroy(x),b.destroy(y),_=!1}}}}if(h||(d=l.hasOwnProperty("indices")?ya(i[l.indices],r):null,h=function(e,t,i,r,n,a){var s={};for(var o in t)if(t.hasOwnProperty(o)&&va.hasOwnProperty(o)){var l=r[t[o]],c=ya(l,n),f=n[l.bufferView],h=va[o],u=ma(l.type)*Aa(l.componentType),d=f.hasOwnProperty("byteStride")?f.byteStride:u;s[h]={buffer:c.buffer,size:u,offset:c.byteOffset,stride:d,count:l.count,components:ma(l.type),type:ba(l.componentType),normalize:l.normalized}}return s.hasOwnProperty("NORMAL")||ka(s,i),Sa(e,s,a)}(e,l.attributes,d,i,r,a),f=function(e){if(!e.hasOwnProperty("mode"))return 4;switch(e.mode){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;case 5:return 5;case 6:return 6;default:return 4}}(l)),p.vertexBuffer=h,p.primitive[0].type=f,p.primitive[0].base=0,p.primitive[0].indexed=null!==d,null!==d){var P;2!==(P=d instanceof Uint8Array?0:d instanceof Uint16Array?1:2)||e.extUintElement||(P=1,d=new Uint16Array(d));var R=new ct(e,P,d.length,0,d);p.indexBuffer[0]=R,p.primitive[0].count=d.length}else p.primitive[0].count=h.numVertices;var C=i[l.attributes.POSITION],O=C.min,D=C.max,F=new W(new I((D[0]+O[0])/2,(D[1]+O[1])/2,(D[2]+O[2])/2),new I((D[0]-O[0])/2,(D[1]-O[1])/2,(D[2]-O[2])/2));if(p.aabb=F,_&&l.hasOwnProperty("targets")){var N=[];if(l.targets.forEach((function(n,a){var s={};n.hasOwnProperty("POSITION")&&(C=i[n.POSITION],s.deltaPositions=ya(C,r),s.deltaPositionsType=ba(C.componentType),C.hasOwnProperty("min")&&C.hasOwnProperty("max")&&(s.aabb=new W,s.aabb.setMinMax(new I(C.min),new I(C.max)))),n.hasOwnProperty("NORMAL")&&(C=i[n.NORMAL],s.deltaNormals=ya(C,r),s.deltaNormalsType=ba(C.componentType)),t.hasOwnProperty("extras")&&t.extras.hasOwnProperty("targetNames")?s.name=t.extras.targetNames[a]:s.name=N.length.toString(10),N.push(new Vn(e,s))})),p.morph=new gt(N),t.hasOwnProperty("weights"))for(var B=0;B<t.weights.length;++B)N[B].defaultWeight=t.weights[B]}s[c]=p,o.push({mesh:p,materialIndex:l.material})}})),o},Ma=function(e,t,i){var r,n,a=["#ifdef MAPFLOAT","uniform float material_shininess;","#endif","","#ifdef MAPTEXTURE","uniform sampler2D texture_glossMap;","#endif","","void getGlossiness() {","\tdGlossiness = 1.0;","","#ifdef MAPFLOAT","\tdGlossiness *= material_shininess;","#endif","","#ifdef MAPTEXTURE","\tdGlossiness *= texture2D(texture_glossMap, $UV).$CH;","#endif","","#ifdef MAPVERTEX","\tdGlossiness *= saturate(vVertexColor.$VC);","#endif","","\tdGlossiness = 1.0 - dGlossiness;","","\tdGlossiness += 0.0000001;","}"].join("\n"),s=["#ifdef MAPCOLOR","uniform vec3 material_specular;","#endif","","#ifdef MAPTEXTURE","uniform sampler2D texture_specularMap;","#endif","","void getSpecularity() {","\tdSpecularity = vec3(1.0);","","\t#ifdef MAPCOLOR","\t\tdSpecularity *= material_specular;","\t#endif","","\t#ifdef MAPTEXTURE","\t\tvec3 srgb = texture2D(texture_specularMap, $UV).$CH;","\t\tdSpecularity *= vec3(pow(srgb.r, 2.2), pow(srgb.g, 2.2), pow(srgb.b, 2.2));","\t#endif","","\t#ifdef MAPVERTEX","\t\tdSpecularity *= saturate(vVertexColor.$VC);","\t#endif","}"].join("\n"),o=["#ifdef MAPFLOAT","uniform float material_clearCoatGlossiness;","#endif","","#ifdef MAPTEXTURE","uniform sampler2D texture_clearCoatGlossMap;","#endif","","void getClearCoatGlossiness() {","\tccGlossiness = 1.0;","","#ifdef MAPFLOAT","\tccGlossiness *= material_clearCoatGlossiness;","#endif","","#ifdef MAPTEXTURE","\tccGlossiness *= texture2D(texture_clearCoatGlossMap, $UV).$CH;","#endif","","#ifdef MAPVERTEX","\tccGlossiness *= saturate(vVertexColor.$VC);","#endif","","\tccGlossiness = 1.0 - ccGlossiness;","","\tccGlossiness += 0.0000001;","}"].join("\n"),l=[1,1],c=[0,0],f=function(e,t,r){var n,a=e.texCoord;if(a)for(n=0;n<r.length;++n)t[r[n]+"MapUv"]=a;var s=l,o=c,f=e.extensions;if(f){var h=f.KHR_texture_transform;h&&(h.scale&&(s=h.scale),h.offset&&(o=h.offset))}for(n=0;n<r.length;++n)t[r[n]+"MapTiling"]=new O(s[0],s[1]),t[r[n]+"MapOffset"]=new O(o[0],i?o[1]:1-s[1]-o[1])},h=new wu;if(h.occludeSpecular=!0,h.diffuseTint=!0,h.diffuseVertexColor=!0,h.specularTint=!0,h.specularVertexColor=!0,e.hasOwnProperty("name")&&(h.name=e.name),e.hasOwnProperty("extensions")&&e.extensions.hasOwnProperty("KHR_materials_pbrSpecularGlossiness")){var u=e.extensions.KHR_materials_pbrSpecularGlossiness;if(u.hasOwnProperty("diffuseFactor")?(r=u.diffuseFactor,h.diffuse.set(Math.pow(r[0],1/2.2),Math.pow(r[1],1/2.2),Math.pow(r[2],1/2.2)),h.opacity=null!=r[3]?r[3]:1):(h.diffuse.set(1,1,1),h.opacity=1),u.hasOwnProperty("diffuseTexture")){var d=u.diffuseTexture;n=t[d.index],h.diffuseMap=n,h.diffuseMapChannel="rgb",h.opacityMap=n,h.opacityMapChannel="a",f(d,h,["diffuse","opacity"])}if(h.useMetalness=!1,u.hasOwnProperty("specularFactor")?(r=u.specularFactor,h.specular.set(Math.pow(r[0],1/2.2),Math.pow(r[1],1/2.2),Math.pow(r[2],1/2.2))):h.specular.set(1,1,1),u.hasOwnProperty("glossinessFactor")?h.shininess=100*u.glossinessFactor:h.shininess=100,u.hasOwnProperty("specularGlossinessTexture")){var p=u.specularGlossinessTexture;h.specularMap=h.glossMap=t[p.index],h.specularMapChannel="rgb",h.glossMapChannel="a",f(p,h,["gloss","metalness"])}h.chunks.specularPS=s}else if(e.hasOwnProperty("pbrMetallicRoughness")){var _=e.pbrMetallicRoughness;if(_.hasOwnProperty("baseColorFactor")?(r=_.baseColorFactor,h.diffuse.set(Math.pow(r[0],1/2.2),Math.pow(r[1],1/2.2),Math.pow(r[2],1/2.2)),h.opacity=r[3]):(h.diffuse.set(1,1,1),h.opacity=1),_.hasOwnProperty("baseColorTexture")){var m=_.baseColorTexture;n=t[m.index],h.diffuseMap=n,h.diffuseMapChannel="rgb",h.opacityMap=n,h.opacityMapChannel="a",f(m,h,["diffuse","opacity"])}if(h.useMetalness=!0,_.hasOwnProperty("metallicFactor")?h.metalness=_.metallicFactor:h.metalness=1,_.hasOwnProperty("roughnessFactor")?h.shininess=100*_.roughnessFactor:h.shininess=100,_.hasOwnProperty("metallicRoughnessTexture")){var b=_.metallicRoughnessTexture;h.metalnessMap=h.glossMap=t[b.index],h.metalnessMapChannel="b",h.glossMapChannel="g",f(b,h,["gloss","metalness"])}h.chunks.glossPS=a}if(e.hasOwnProperty("normalTexture")){var A=e.normalTexture;h.normalMap=t[A.index],f(A,h,["normal"]),A.hasOwnProperty("scale")&&(h.bumpiness=A.scale)}if(e.hasOwnProperty("occlusionTexture")){var v=e.occlusionTexture;h.aoMap=t[v.index],h.aoMapChannel="r",f(v,h,["ao"])}if(e.hasOwnProperty("emissiveFactor")?(r=e.emissiveFactor,h.emissive.set(Math.pow(r[0],1/2.2),Math.pow(r[1],1/2.2),Math.pow(r[2],1/2.2)),h.emissiveTint=!0):(h.emissive.set(0,0,0),h.emissiveTint=!1),e.hasOwnProperty("emissiveTexture")){var y=e.emissiveTexture;h.emissiveMap=t[y.index],f(y,h,["emissive"])}if(e.hasOwnProperty("alphaMode"))switch(e.alphaMode){case"MASK":h.blendType=3,e.hasOwnProperty("alphaCutoff")?h.alphaTest=e.alphaCutoff:h.alphaTest=.5;break;case"BLEND":h.blendType=2;break;default:case"OPAQUE":h.blendType=3}else h.blendType=3;if(e.hasOwnProperty("doubleSided")?(h.twoSidedLighting=e.doubleSided,h.cull=e.doubleSided?0:1):(h.twoSidedLighting=!1,h.cull=1),e.hasOwnProperty("extensions")&&e.extensions.hasOwnProperty("KHR_materials_clearcoat")){var g=e.extensions.KHR_materials_clearcoat;if(g.hasOwnProperty("clearcoatFactor")?h.clearCoat=.25*g.clearcoatFactor:h.clearCoat=0,g.hasOwnProperty("clearcoatTexture")){var k=g.clearcoatTexture;h.clearCoatMap=t[k.index],h.clearCoatMapChannel="r",f(k,h,["clearCoat"])}if(g.hasOwnProperty("clearcoatRoughnessFactor")?h.clearCoatGlossiness=g.clearcoatRoughnessFactor:h.clearCoatGlossiness=0,g.hasOwnProperty("clearcoatRoughnessTexture")){var x=g.clearcoatRoughnessTexture;h.clearCoatGlossMap=t[x.index],h.clearCoatGlossMapChannel="g",f(x,h,["clearCoatGloss"])}if(g.hasOwnProperty("clearcoatNormalTexture")){var S=g.clearcoatNormalTexture;h.clearCoatNormalMap=t[S.index],f(S,h,["clearCoatNormal"]),S.hasOwnProperty("scale")&&(h.clearCoatBumpiness=S.scale)}h.chunks.clearCoatGlossPS=o}return e.hasOwnProperty("extensions")&&e.extensions.hasOwnProperty("KHR_materials_unlit")&&(h.useLighting=!1,h.emissive.copy(h.diffuse),h.emissiveTint=h.diffuseTint,h.emissiveMap=h.diffuseMap,h.emissiveMapUv=h.diffuseMapUv,h.emissiveMapTiling.copy(h.diffuseMapTiling),h.emissiveMapOffset.copy(h.diffuseMapOffset),h.emissiveMapChannel=h.diffuseMapChannel,h.emissiveVertexColor=h.diffuseVertexColor,h.emissiveVertexColorChannel=h.diffuseVertexColorChannel,h.diffuse.set(0,0,0),h.diffuseTint=!1,h.diffuseMap=null,h.diffuseVertexColor=!1),h.update(),h},Pa=function(e,t){var i=new Un;if(e.hasOwnProperty("name")&&e.name.length>0?i.name=e.name.replace(/\//g,"_"):i.name="node_"+t,e.hasOwnProperty("matrix")&&(Ta.data.set(e.matrix),Ta.getTranslation(wa),i.setLocalPosition(wa),Ta.getEulerAngles(wa),i.setLocalEulerAngles(wa),Ta.getScale(wa),i.setLocalScale(wa)),e.hasOwnProperty("rotation")){var r=e.rotation;i.setLocalRotation(r[0],r[1],r[2],r[3])}if(e.hasOwnProperty("translation")){var n=e.translation;i.setLocalPosition(n[0],n[1],n[2])}if(e.hasOwnProperty("scale")){var a=e.scale;i.setLocalScale(a[0],a[1],a[2])}return i},Ra=function(e,t,i){var r=new Un;return e.hasOwnProperty("name")?r.name=e.name:r.name="scene_"+t,e.nodes.forEach((function(e){var t=i[e];void 0!==t&&r.addChild(t)})),r},Ca=function(e,t){var i={enabled:!1};if("orthographic"===e.type){var r=e.orthographic,n=r.xmag,a=r.ymag,s=void 0!==n?n/a:void 0;i.projection=1,i.aspectRatioMode=void 0!==s?1:0,i.aspectRatio=s,i.orthoHeight=a,i.farClip=r.zfar,i.nearClip=r.znear}else{var o=e.perspective,l=o.aspectRatio;i.projection=0,i.aspectRatioMode=void 0!==l?1:0,i.aspectRatio=l,i.fov=o.yfov*A.RAD_TO_DEG,i.farClip=o.zfar,i.nearClip=o.znear}return t.addComponent("camera",i)},Oa=function(e,t){var i={type:e.type,falloffMode:1};e.hasOwnProperty("color")&&(i.color=new v(e.color)),e.hasOwnProperty("intensity")?i.intensity=e.intensity:i.intensity=1,e.hasOwnProperty("range")?i.range=e.range:i.range=Number.POSITIVE_INFINITY,e.hasOwnProperty("spot")&&e.spot.hasOwnProperty("innerConeAngle")?i.innerConeAngle=e.spot.innerConeAngle*A.RAD_TO_DEG:i.innerConeAngle=0,e.hasOwnProperty("spot")&&e.spot.hasOwnProperty("outerConeAngle")&&(i.outerConeAngle=e.spot.outerConeAngle*A.RAD_TO_DEG);var r=new Un(t.name);return r.rotateLocal(90,0,0),t.addChild(r),r.addComponent("light",i)},Ia=function(e,t,i,r){return t.hasOwnProperty("skins")&&0!==t.skins.length?t.skins.map((function(n){return function(e,t,i,r,n){var a,s,o,l=t.joints,c=l.length,f=[];if(t.hasOwnProperty("inverseBindMatrices")){var h=t.inverseBindMatrices,u=ya(i[h],r),d=[];for(a=0;a<c;a++){for(s=0;s<16;s++)d[s]=u[16*a+s];(o=new N).set(d),f.push(o)}}else for(a=0;a<c;a++)o=new N,f.push(o);var p=[];for(a=0;a<c;a++)p[a]=n[l[a]].name;var _=t.skeleton,m=new zn(e,f,p);for(m.skeleton=n[_],m.bones=[],a=0;a<l.length;a++)m.bones[a]=n[l[a]];return m}(e,n,t.accessors,r,i)})):[]},Da=function(e,t,i,r){var n=t.map((function(){return[]}));if(!e.hasOwnProperty("animations")||0===e.animations.length)return{animations:[],animationIndicesByNode:n};var a=r&&r.animation&&r.animation.preprocess,s=r&&r.animation&&r.animation.postprocess;return{animations:e.animations.map((function(r,o){a&&a(r);var l=function(e,t,i,r,n,a){var s,o=function(e){var t=ya(e,r);return new Wn(ma(e.type),new t.constructor(t))},l={STEP:0,LINEAR:1,CUBICSPLINE:2},c={},f=[],h={},u=[],d=[],p=[];for(s=0;s<e.samplers.length;++s){var _=e.samplers[s];c.hasOwnProperty(_.input)||(c[_.input]=f.length,f.push(o(i[_.input]))),h.hasOwnProperty(_.output)||(h[_.output]=u.length,u.push(o(i[_.output])));var m=_.hasOwnProperty("interpolation")&&l.hasOwnProperty(_.interpolation)?l[_.interpolation]:1;d.push(new Hn([],c[_.input],h[_.output],m))}var b=[],A=new jn,v={translation:"localPosition",rotation:"localRotation",scale:"localScale",weights:"weights"};for(s=0;s<e.channels.length;++s){var y=e.channels[s],g=y.target,k=d[y.sampler],x=ga(g.node,n),S=x.map((function(e){return a[e].name}));p.push(x[0]),k._paths.push(A.encode([S,"entity",[v[g.path]]])),g.path.startsWith("rotation")&&2!==k.interpolation?b.push(k.output):g.path.startsWith("weights")&&(u[k.output]._components=u[k.output].data.length/f[k.input].data.length)}b.sort();var T,w=null;for(s=0;s<b.length;++s){var E=b[s];if(0===s||E!==w){if(4===(T=u[E]).components)for(var M=T.data,P=M.length-4,R=0;R<P;R+=4)M[R+0]*M[R+4]+M[R+1]*M[R+5]+M[R+2]*M[R+6]+M[R+3]*M[R+7]<0&&(M[R+4]*=-1,M[R+5]*=-1,M[R+6]*=-1,M[R+7]*=-1);w=E}}var C=0;for(s=0;s<f.length;s++)T=f[s]._data,C=Math.max(C,0===T.length?0:T[T.length-1]);return{track:new Yn(e.hasOwnProperty("name")?e.name:"animation_"+t,C,f,u,d),targetRootNodes:p.filter((function(e,t,i){return i.indexOf(e)===t}))}}(r,o,e.accessors,i,e.nodes,t);return s&&s(r,l.track),l.targetRootNodes.forEach((function(e){n[e].push(o)})),l.track})),animationIndicesByNode:n}},Fa=function(e,t,i){return e.map((function(e,r){return function(e,t,i,r){var n=new Tt;return n.graph=new ei(e),t.forEach((function(e){var t=e.mesh,a=e.materialIndex,s=void 0===a?r:i[a],o=new bt(n.graph,t,s);if(t.morph){var l=new kt(t.morph);if(t.weights)for(var c=0;c<t.weights.length;c++)l.setWeight(c,t.weights[c]);o.morphInstance=l,n.morphInstances.push(l)}n.meshInstances.push(o)})),n}("model_"+r,e,t,i)}))},Na=function(e,t,i,r,n,a,s){var o=a&&a.global&&a.global.preprocess,l=a&&a.global&&a.global.postprocess;o&&o(t);var c=t.asset&&"PlayCanvas"===t.asset.generator,f=function(e,t){if(!e.hasOwnProperty("nodes")||0===e.nodes.length)return[];for(var i=t&&t.node&&t.node.preprocess,r=t&&t.node&&t.node.process||Pa,n=t&&t.node&&t.node.postprocess,a=e.nodes.map((function(e,t){i&&i(e);var a=r(e,t);return n&&n(e,a),a})),s=0;s<e.nodes.length;++s){var o=e.nodes[s];if(o.hasOwnProperty("children"))for(var l=0;l<o.children.length;++l){var c=a[s],f=a[o.children[l]];f.parent||c.addChild(f)}}return a}(t,a),h=function(e,t,i){if(!e.hasOwnProperty("scenes")||0===e.scenes.length)return[];var r=i&&i.scene&&i.scene.preprocess,n=i&&i.scene&&i.scene.process||Ra,a=i&&i.scene&&i.scene.postprocess;return e.scenes.map((function(e,i){r&&r(e);var s=n(e,i,t);return a&&a(e,s),s}))}(t,f,a),u=function(e,t){return e.hasOwnProperty("scene")?t[e.scene]||null:0===t.length?null:t[0]}(t,h),d=function(e,t,i){if(!e.hasOwnProperty("nodes")||!e.hasOwnProperty("cameras")||0===e.cameras.length)return[];var r=i&&i.camera&&i.camera.preprocess,n=i&&i.camera&&i.camera.process||Ca,a=i&&i.camera&&i.camera.postprocess,s=[];return e.nodes.forEach((function(i,o){if(i.hasOwnProperty("camera")){var l=e.cameras[i.camera];if(l){r&&r(l);var c=n(l,t[o]);a&&a(l,c),s.push(c)}}})),s}(t,f,a),p=function(e,t,i){if(!e.hasOwnProperty("nodes")||!e.hasOwnProperty("extensions")||!e.extensions.hasOwnProperty("KHR_lights_punctual")||!e.extensions.KHR_lights_punctual.hasOwnProperty("lights"))return[];var r=e.extensions.KHR_lights_punctual.lights;if(0===r.length)return[];var n=i&&i.light&&i.light.preprocess,a=i&&i.light&&i.light.process||Oa,s=i&&i.light&&i.light.postprocess,o=[];return e.nodes.forEach((function(e,i){if(e.hasOwnProperty("extensions")&&e.extensions.hasOwnProperty("KHR_lights_punctual")&&e.extensions.KHR_lights_punctual.hasOwnProperty("light")){var l=e.extensions.KHR_lights_punctual.light,c=r[l];if(c){n&&n(c);var f=a(c,t[i]);s&&s(c,f),o.push(f)}}})),o}(t,f,a),_=Da(t,f,i,a),m=function(e,t,i,r){if(!e.hasOwnProperty("materials")||0===e.materials.length)return[];var n=i&&i.material&&i.material.preprocess,a=i&&i.material&&i.material.process||Ma,s=i&&i.material&&i.material.postprocess;return e.materials.map((function(e){n&&n(e);var i=a(e,t,r);return s&&s(e,i),i}))}(t,r.map((function(e){return e.resource})),a,c),b=function(e,t,i,r,n){if(!t.hasOwnProperty("meshes")||0===t.meshes.length||!t.hasOwnProperty("accessors")||0===t.accessors.length||!t.hasOwnProperty("bufferViews")||0===t.bufferViews.length)return[];var a={};return t.meshes.map((function(s){return Ea(e,s,t.accessors,i,r,n,a)}))}(e,t,i,s,c),A=Ia(e,t,f,i),v=function(e){return e.map((function(e){var t=new St(e);return t.bones=e.bones,t}))}(A),y=Fa(b,m,n),g=function(e,t,i,r){return e.hasOwnProperty("nodes")&&0!==e.nodes.length?e.nodes.map((function(e){if(!e.hasOwnProperty("mesh"))return null;var n=t[e.mesh].clone(),a=e.hasOwnProperty("skin")?i[e.skin]:null,s=e.hasOwnProperty("skin")?r[e.skin]:null;return null!==a&&null!==s&&(n.skinInstances=n.meshInstances.map((function(e){return e.mesh.skin=a,e.skinInstance=s,s}))),n})):[]}(t,y,A,v),k={nodes:f,models:y,modelByNode:g,animations:_.animations,animationIndicesByNode:_.animationIndicesByNode,scenes:h,scene:u,textures:r,materials:m,cameras:d,lights:p};l&&l(t,k),s(null,k)},Ba=function(e,t,i,r,n,a,s){var o=a&&a.image&&a.image.preprocess,l=a&&a.image&&a.image.processAsync||function(e,t){t(null,null)},c=a&&a.image&&a.image.postprocess,h=function(t){c&&c(e,t),s(null,t)},u=function(e,i,r,a){var o={url:e};if(i){var l={"image/png":"png","image/jpeg":"jpg","image/basis":"basis","image/ktx":"ktx","image/vnd-ms.dds":"dds"}[i];l&&(o.filename="glb-texture-"+t+"."+l)}var c=new pa("texture_"+t,"texture",o,null,{crossOrigin:r});c.on("load",(function(){a&&URL.revokeObjectURL(e),h(c)})),c.on("error",(function(e,t){s(e)})),n.add(c),n.load(c)};o&&o(e),l(e,(function(a,o){if(a)s(a);else if(o)h(o);else if(e.hasOwnProperty("uri"))if(_a(e.uri))u(e.uri,(d=e.uri).substring(d.indexOf(":")+1,d.indexOf(";")));else{var l=n.prefix?r.replace(n.prefix,""):r;u(f.join(l,e.uri),null,"anonymous")}else if(e.hasOwnProperty("bufferView")&&e.hasOwnProperty("mimeType")){var c=new Blob([i[e.bufferView]],{type:e.mimeType});u(URL.createObjectURL(c),e.mimeType,null,!0)}else s("Invalid image found in gltf (neither uri or bufferView found). index="+t);var d}))},La=function(e,t){var i=JSON.parse(function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return decodeURIComponent(escape(t))}(e));i.asset&&i.asset.version&&parseFloat(i.asset.version)<2?t("Invalid gltf version. Expected version 2.0 or above but found version '"+i.asset.version+"'."):t(null,i)},Ua=function(e,t,i){e&&e.toLowerCase().endsWith(".glb")?function(e,t){var i=new DataView(e),r=i.getUint32(0,!0),n=i.getUint32(4,!0),a=i.getUint32(8,!0);if(1179937895===r)if(2===n)if(a<=0||a>e.byteLength)t("Invalid length found in glb header. Found "+a);else{for(var s=[],o=12;o<a;){var l=i.getUint32(o,!0);if(o+l+8>e.byteLength)throw new Error("Invalid chunk length found in glb. Found "+l);var c=i.getUint32(o+4,!0),f=new Uint8Array(e,o+8,l);s.push({length:l,type:c,data:f}),o+=l+8}1===s.length||2===s.length?1313821514===s[0].type?s.length>1&&5130562!==s[1].type?t("Invalid chunk type found in glb file. Expected 0x004E4942, found 0x"+s[1].type.toString(16)):t(null,{gltfChunk:s[0].data,binaryChunk:2===s.length?s[1].data:null}):t("Invalid chunk type found in glb file. Expected 0x4E4F534A, found 0x"+s[0].type.toString(16)):t("Invalid number of chunks found in glb file.")}else t("Invalid version number found in glb header. Expected 2, found "+n);else t("Invalid magic number found in glb header. Expected 0x46546C67, found 0x"+r.toString(16))}(t,i):i(null,{gltfChunk:t,binaryChunk:null})},Va=function(e,t,i,r){for(var n=[],a=i&&i.bufferView&&i.bufferView.preprocess,s=i&&i.bufferView&&i.bufferView.processAsync||function(e,t,i){i(null,null)},o=i&&i.bufferView&&i.bufferView.postprocess,l=e.bufferViews.length,c=function(t,i){var a=e.bufferViews[t];a.hasOwnProperty("byteStride")&&(i.byteStride=a.byteStride),n[t]=i,o&&o(a,i),0===--l&&r(null,n)},f=0;f<e.bufferViews.length;++f){var h=e.bufferViews[f];a&&a(h),s(h,t,function(e,i,n,a){if(n)r(n);else if(a)c(e,a);else{var s=t[i.buffer],o=new Uint8Array(s.buffer,s.byteOffset+(i.hasOwnProperty("byteOffset")?i.byteOffset:0),i.byteLength);c(e,o)}}.bind(null,f,h))}};function za(){}function ja(){this.retryRequests=!1}function Wa(){this.retryRequests=!1}function Ga(e){var t;if(this._layers=[],this._parameters={},Array.isArray(e.layers))this._layers=e.layers;else for(var i in e.layers){var r=e.layers[i],n={name:r.name,states:[],transitions:[]};for(t=0;t<r.states.length;t++)n.states.push(e.states[r.states[t]]);for(t=0;t<r.transitions.length;t++){var a=e.transitions[r.transitions[t]];if(a.conditions&&!Array.isArray(a.conditions)){for(var s=Object.keys(a.conditions),o=[],l=0;l<s.length;l++){var c=a.conditions[s[l]];c.parameterName&&o.push(c)}a.conditions=o}Number.isInteger(a.from)&&(a.from=e.states[a.from].name),Number.isInteger(a.to)&&(a.to=e.states[a.to].name),n.transitions.push(a)}this._layers.push(n)}for(var f in e.parameters){var h=e.parameters[f];this._parameters[h.name]={type:h.type,value:h.value}}}function Ha(){this.retryRequests=!1}function Ya(e){e instanceof Audio?this.audio=e:this.buffer=e}za.parseAsync=function(e,t,i,r,n,a,s,o){Ua(e,i,(function(e,i){e?o(e):La(i.gltfChunk,(function(e,l){e?o(e):function(e,t,i,r,n){var a=[];if(null!==e.buffers&&0!==e.buffers.length)for(var s=r&&r.buffer&&r.buffer.preprocess,o=r&&r.buffer&&r.buffer.processAsync||function(e,t){t(null,null)},l=r&&r.buffer&&r.buffer.postprocess,c=e.buffers.length,h=function(t,i){a[t]=i,l&&l(e.buffers[t],i),0===--c&&n(null,a)},u=0;u<e.buffers.length;++u){var d=e.buffers[u];s&&s(d),o(d,function(e,r,a,s){if(a)n(a);else if(s)h(e,new Uint8Array(s));else if(r.hasOwnProperty("uri"))if(_a(r.uri)){for(var o=atob(r.uri.split(",")[1]),l=new Uint8Array(o.length),c=0;c<o.length;c++)l[c]=o.charCodeAt(c);h(e,l)}else E.get(f.join(i,r.uri),{cache:!0,responseType:"arraybuffer",retry:!1},function(e,t,i){t?n(t):h(e,new Uint8Array(i))}.bind(null,e));else h(e,t)}.bind(null,u,d))}else n(null,a)}(l,i.binaryChunk,t,s,(function(e,i){e?o(e):Va(l,i,s,(function(e,i){e?o(e):function(e,t,i,r,n,a){if(e.hasOwnProperty("images")&&0!==e.images.length&&e.hasOwnProperty("textures")&&0!==e.textures.length)for(var s=n&&n.texture&&n.texture.preprocess,o=n&&n.texture&&n.texture.processAsync||function(e,t,i){i(null,null)},l=n&&n.texture&&n.texture.postprocess,c=[],f=[],h=e.textures.length,u=function(t,i){if(f[i]||(f[i]=[]),f[i].push(t),0===--h){var r=[];f.forEach((function(t,i){t.forEach((function(t,n){var a=0===n?c[i]:xa(c[i]);!function(e,t){var i=function(e){switch(e){case 9728:return 0;case 9729:return 1;case 9984:return 2;case 9985:return 4;case 9986:return 3;case 9987:return 5;default:return 1}},r=function(e){switch(e){case 33071:return 1;case 33648:return 2;case 10497:default:return 0}};e&&(t=t||{magFilter:9729,minFilter:9987,wrapS:10497,wrapT:10497},e.minFilter=i(t.minFilter),e.magFilter=i(t.magFilter),e.addressU=r(t.wrapS),e.addressV=r(t.wrapT))}(a.resource,(e.samplers||[])[e.textures[t].sampler]),r[t]=a,l&&l(e.textures[t],a)}))})),a(null,r)}},d=0;d<e.textures.length;++d){var p=e.textures[d];s&&s(p),o(p,e.images,function(s,o,l,f){if(l)a(l);else if(void 0!==f&&null!==f||(f=o.source),c[f])u(s,f);else{var h=e.images[f];Ba(h,s,t,i,r,n,(function(e,t){e?a(e):(c[f]=t,u(s,f))}))}}.bind(null,d,p))}else a(null,[])}(l,i,t,a,s,(function(e,t){e?o(e):Na(r,l,i,t,n,s,o)}))}))}))}))}))},za.parse=function(e,t,i,r,n){var a=null;return n=n||{},Ua(e,t,(function(e,t){e?console.error(e):La(t.gltfChunk,(function(e,s){e?console.error(e):Va(s,[t.binaryChunk],n,(function(e,t){e?console.error(e):Na(i,s,t,[],r,n,(function(e,t){e?console.error(e):a=t}))}))}))})),a},Object.assign(ja.prototype,{load:function(e,t){"string"===typeof e&&(e={load:e,original:e});var i={retry:this.retryRequests};e.load.startsWith("blob:")&&(".glb"===f.getExtension(e.original).toLowerCase()?i.responseType=w.ResponseType.ARRAY_BUFFER:i.responseType=w.ResponseType.JSON),E.get(e.load,i,(function(i,r){i?t("Error loading animation resource: "+e.original+" ["+i+"]"):t(null,r)}))},open:function(e,t){if(".glb"===f.getExtension(e).toLowerCase()){var i=za.parse("filename.glb",t,null);return i?i.animations:null}return this["_parseAnimationV"+t.animation.version](t)},_parseAnimationV3:function(e){var t=e.animation,i=new Ln;i.setName(t.name),i.duration=t.duration;for(var r=0;r<t.nodes.length;r++){var n=new Bn,a=t.nodes[r];n._name=a.name;for(var s=0;s<a.keys.length;s++){var o=a.keys[s],l=o.time,c=o.pos,f=o.rot,h=o.scale,u=new Nn(l,new I(c[0],c[1],c[2]),(new B).setFromEulerAngles(f[0],f[1],f[2]),new I(h[0],h[1],h[2]));n._keys.push(u)}i.addNode(n)}return i},_parseAnimationV4:function(e){var t=e.animation,i=new Ln;i.setName(t.name),i.duration=t.duration;for(var r=0;r<t.nodes.length;r++){var n=new Bn,a=t.nodes[r];n._name=a.name;for(var s=a.defaults.p,o=a.defaults.r,l=a.defaults.s,c=0;c<a.keys.length;c++){var f=a.keys[c],h=f.t,u=s||f.p,d=o||f.r,p=l||f.s,_=new Nn(h,new I(u[0],u[1],u[2]),(new B).setFromEulerAngles(d[0],d[1],d[2]),new I(p[0],p[1],p[2]));n._keys.push(_)}i.addNode(n)}return i}}),Object.assign(Wa.prototype,{load:function(e,t){"string"===typeof e&&(e={load:e,original:e});var i={retry:this.retryRequests};e.load.startsWith("blob:")&&(i.responseType=w.ResponseType.JSON),E.get(e.load,i,(function(i,r){i?t("Error loading animation clip resource: "+e.original+" ["+i+"]"):t(null,r)}))},open:function(e,t){return new Yn(t.name,t.duration,t.inputs.map((function(e){return new Wn(1,e)})),t.outputs.map((function(e){return new Wn(e.components,e.data)})),t.curves.map((function(e){return new Hn([e.path],e.inputIndex,e.outputIndex,e.interpolation)})))}}),Object.defineProperties(Ga.prototype,{parameters:{get:function(){return Object.assign({},this._parameters)}},layers:{get:function(){return this._layers}}}),Object.assign(Ha.prototype,{load:function(e,t){"string"===typeof e&&(e={load:e,original:e});var i={retry:this.retryRequests};e.load.startsWith("blob:")&&(i.responseType=w.ResponseType.JSON),E.get(e.load,i,(function(i,r){i?t("Error loading animation state graph resource: "+e.original+" ["+i+"]"):t(null,r)}))},open:function(e,t){return new Ga(t)}}),Object.defineProperty(Ya.prototype,"duration",{get:function(){var e=0;return this.buffer?e=this.buffer.duration:this.audio&&(e=this.audio.duration),e||0}});var Xa,Za=function(){if("undefined"===typeof window)return!1;var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var i=e.indexOf("rv:");return parseInt(e.substring(i+3,e.indexOf(".",i)),10)}return!1}();function Qa(e){this.manager=e,this.retryRequests=!1}function Ja(){this.retryRequests=!1}function qa(e){this._blobUrls={};for(var t=0,i=e.length;t<i;t++)e[t].url&&(this._blobUrls[e[t].name]=e[t].url)}function Ka(e){var t,i;function r(e){this._fields=e}function n(e){this._arrayBuffer=e||new ArrayBuffer(0),this._bufferView=new DataView(this._arrayBuffer),this._globalPaxHeader=null,this._paxHeader=null,this._bytesRead=0}"undefined"!==typeof TextDecoder?(t=new TextDecoder("utf-8"),i=new TextDecoder("windows-1252")):console.warn("TextDecoder not supported - pc.Untar module will not work"),r.parse=function(e,i,n){for(var a=new Uint8Array(e,i,n),s=0,o=[];s<n;){var l;for(l=s;l<n&&32!=a[l];l++);if(l>=n)throw new Error("Invalid PAX header data format.");var c=parseInt(t.decode(new Uint8Array(e,i+s,l-s)),10),f=t.decode(new Uint8Array(e,i+l+1,c-(l-s)-2)).split("=");if(2!==f.length)throw new Error("Invalid PAX header data format.");0===f[1].length&&(f[1]=null),o.push({name:f[0],value:f[1]}),s+=c}return new r(o)},r.prototype.applyHeader=function(e){for(var t=0;t<this._fields.length;t++){var i=this._fields[t].name,r=this._fields[t].value;"path"===i&&(i="name"),null===r?delete e[i]:e[i]=r}},e||(Xa=n),n.prototype._hasNext=function(){return this._bytesRead+4<this._arrayBuffer.byteLength&&0!==this._bufferView.getUint32(this._bytesRead)},n.prototype._readNextFile=function(){var t=new DataView(this._arrayBuffer,this._bytesRead,512),n=i.decode(t);this._bytesRead+=512;var a=n.substr(0,100).replace(/\0/g,""),s=n.substr(257,6),o=parseInt(n.substr(124,12),8),l=n.substr(156,1),c=this._bytesRead,f=null,h=!1;switch(l){case"0":case"":if(h=!0,!e){var u=new Blob([this._arrayBuffer.slice(this._bytesRead,this._bytesRead+o)]);f=URL.createObjectURL(u)}break;case"g":this._globalPaxHeader=r.parse(this._arrayBuffer,this._bytesRead,o);break;case"x":this._paxHeader=r.parse(this._arrayBuffer,this._bytesRead,o)}this._bytesRead+=o;var d=o%512;if(0!==d&&(this._bytesRead+=512-d),!h)return null;if(-1!==s.indexOf("ustar")){var p=n.substr(345,155).replace(/\0/g,"");p.length>0&&(a=p.trim()+a.trim())}var _={name:a,start:c,size:o,url:f};return this._globalPaxHeader&&this._globalPaxHeader.applyHeader(_),this._paxHeader&&(this._paxHeader.applyHeader(_),this._paxHeader=null),_},n.prototype.untar=function(e){if(!t)return console.error("Cannot untar because TextDecoder interface is not available for this platform."),[];for(var i=[];this._hasNext();){var r=this._readNextFile();r&&(e&&r.name&&(r.name=e+r.name),i.push(r))}return i},e&&(self.onmessage=function(e){var t=e.data.id;try{var i=new n(e.data.arrayBuffer).untar(e.data.prefix);postMessage({id:t,files:i,arrayBuffer:e.data.arrayBuffer},[e.data.arrayBuffer])}catch(r){postMessage({id:t,error:r.toString()})}})}Object.assign(Qa.prototype,{_isSupported:function(e){return!!{".ogg":"audio/ogg",".mp3":"audio/mpeg",".wav":"audio/x-wav",".mp4a":"audio/mp4",".m4a":"audio/mp4",".mp4":"audio/mp4",".aac":"audio/aac"}[f.getExtension(e)]},load:function(e,t){"string"===typeof e&&(e={load:e,original:e});var i=function(i){var r="Error loading audio url: "+e.original;i&&(r+=": "+(i.message||i)),console.warn(r),t(r)};if(this._createSound){if(!this._isSupported(e.original))return void i("Audio format for "+e.original+" not supported");this._createSound(e.load,(function(e){t(null,new Ya(e))}),i)}else i(null)},open:function(e,t){return t}}),On()?Qa.prototype._createSound=function(e,t,i){var r=this.manager;if(r.context){var n={retry:this.retryRequests};e.startsWith("blob:")&&(n.responseType=w.ResponseType.ARRAY_BUFFER),E.get(e,n,(function(e,n){e?i(e):r.context.decodeAudioData(n,t,i)}))}else i("Audio manager has no audio context")}:Cn()&&(Qa.prototype._createSound=function(e,t,i){var r=null;try{r=new Audio}catch(Zp){return void i("No support for Audio element")}Za&&document.body.appendChild(r),r.onerror=function(){r.onerror=null,Za&&document.body.removeChild(r),i()},r.addEventListener("canplaythrough",(function e(){r.removeEventListener("canplaythrough",e),Za&&document.body.removeChild(r),t(r)})),r.src=e}),Object.assign(Ja.prototype,{load:function(e,t){"string"===typeof e&&(e={load:e,original:e}),E.get(e.load,{responseType:w.ResponseType.ARRAY_BUFFER,retry:this.retryRequests},(function(i,r){i?t("Error loading binary resource: "+e.original+" ["+i+"]"):t(null,r)}))},open:function(e,t){return t},patch:function(e,t){}}),qa.prototype.hasBlobUrl=function(e){return!!this._blobUrls[e]},qa.prototype.getBlobUrl=function(e){return this._blobUrls[e]},qa.prototype.destroy=function(){for(var e in this._blobUrls)URL.revokeObjectURL(this._blobUrls[e]);this._blobUrls=null};var $a=null;function es(e){this._requestId=0,this._pendingRequests={},this._filenamePrefix=e,this._worker=new Worker(function(){if(!$a){var e="("+Ka.toString()+")(true)\n\n",t=new Blob([e],{type:"application/javascript"});$a=URL.createObjectURL(t)}return $a}()),this._worker.addEventListener("message",this._onMessage.bind(this))}function ts(e){this._assets=e,this._worker=null,this.retryRequests=!1}function is(e){this.data=e,this.scene=null,this.scenes=[],this.cameras=[],this.lights=[],this.nodes=[],this.materials=[],this.textures=[],this.animations=[],this.animationIndicesByNode=[],this.models=[],this._modelByNode=[],this.registry=null}function rs(e,t){this._device=e,this._defaultMaterial=t}function ns(){this.retryRequests=!1}function as(e,t,i){this._device=e,this._registry=t,this._loader=i}function ss(){}function os(e,t){this.type=t&&t.type||"msdf",this.em=1,this.textures=e,this.intensity=0,this._data=null,this.data=t}function ls(e){return e.version<3&&(e.version<2&&(e.info.maps=e.info.maps||[{width:e.info.width,height:e.info.height}]),e.chars=Object.keys(e.chars||{}).reduce((function(t,i){var r=e.chars[i],n=void 0!==r.letter?r.letter:b.fromCodePoint(i);return e.version<2&&(r.map=r.map||0),t[n]=r,t}),{}),e.version=3),e}function cs(e){this._loader=e,this.retryRequests=!1}function fs(e,t){if(o.call(this),this._assets=[],this._registry=t,this._loaded=!1,this._count=0,this._total=0,this._failed=[],this._waitingAssets=[],e.length&&e[0]instanceof pa)this._assets=e;else for(var i=0;i<e.length;i++){var r=t.get(e[i]);r?this._assets.push(r):(this._waitForAsset(e[i]),this._total++)}}es.prototype._onMessage=function(e){var t=e.data.id;if(this._pendingRequests[t]){var i=this._pendingRequests[t];if(delete this._pendingRequests[t],e.data.error)i(e.data.error);else{for(var r=e.data.arrayBuffer,n=0,a=e.data.files.length;n<a;n++){var s=e.data.files[n],o=new Blob([r.slice(s.start,s.start+s.size)]);s.url=URL.createObjectURL(o)}i(null,e.data.files)}}},es.prototype.untar=function(e,t){var i=this._requestId++;this._pendingRequests[i]=t,this._worker.postMessage({id:i,prefix:this._filenamePrefix,arrayBuffer:e},[e])},es.prototype.hasPendingRequests=function(){for(var e in this._pendingRequests)return!0;return!1},es.prototype.destroy=function(){this._worker&&(this._worker.terminate(),this._worker=null,this._pendingRequests=null)},Ka(),Object.assign(ts.prototype,{load:function(e,t){"string"===typeof e&&(e={load:e,original:e});var i=this;E.get(e.load,{responseType:w.ResponseType.ARRAY_BUFFER,retry:this.retryRequests},(function(r,n){if(r)t("Error loading bundle resource "+e.original+": "+r);else try{i._untar(n,t)}catch(a){t("Error loading bundle resource "+e.original+": "+a)}}))},_untar:function(e,t){var i=this;if(h.workers)i._worker||(i._worker=new es(i._assets.prefix)),i._worker.untar(e,(function(e,r){t(e,r),i._worker.hasPendingRequests()||(i._worker.destroy(),i._worker=null)}));else{var r=new Xa(e).untar(i._assets.prefix);t(null,r)}},open:function(e,t){return new qa(t)},patch:function(e,t){}}),Object.assign(is.prototype,{destroy:function(){var e=this.registry,t=function(t){t.forEach((function(t){t&&function(t){e.remove(t),t.unload()}(t)}))};this.scene&&(this.scene.destroy(),this.scene=null),this.scenes&&(this.scenes.forEach((function(e){e.destroy()})),this.scenes=null),this.cameras&&(this.cameras=null),this.lights&&(this.lights=null),this.nodes&&(this.nodes.forEach((function(e){e.destroy()})),this.nodes=null),this.animations&&(t(this.animations),this.animations=null),this.animationIndicesByNode&&(this.animationIndicesByNode=null),this.models&&(t(this.models),this.models=null),this._modelByNode&&(t(this._modelByNode),this._modelByNode=null),this.textures&&(t(this.textures),this.textures=null),this.materials&&(t(this.materials),this.materials=null),this.data=null,this.assets=null}}),Object.assign(rs.prototype,{_getUrlWithoutParams:function(e){return e.indexOf("?")>=0?e.split("?")[0]:e},load:function(e,t,i){"string"===typeof e&&(e={load:e,original:e});var r={responseType:w.ResponseType.ARRAY_BUFFER,retry:!1},n=this,a=function(r){za.parseAsync(n._getUrlWithoutParams(e.original),f.extractPath(e.load),r,n._device,n._defaultMaterial,i.registry,i.options,(function(e,i){e?t(e):t(null,new is(i))}))};i&&i.file&&i.file.contents?a(i.file.contents):E.get(e.load,r,(function(i,r){t&&(i?t("Error loading model: "+e.original+" ["+i+"]"):a(r))}))},open:function(e,t,i){return t},patch:function(e,t){var i=e.resource,r=i.data;if(r){var n=function(i,r,n){var a=new pa(e.name+"/"+i+"/"+n,i,{url:""});return a.resource=r,a.loaded=!0,t.add(a),a},a=r.models.map((function(e,t){return n("model",e,t)})),s=r.modelByNode.map((function(e,t){return null!==e?n("model",e,t):null})),o=r.materials.map((function(e,t){return n("material",e,t)})),l=r.animations.map((function(e,t){return n("animation",e,t)}));r.nodes.forEach((function(e,t){var i=s[t];null!==i&&e.addComponent("model",{type:"asset",asset:i})})),i.data=null,i.scene=r.scene,i.scenes=r.scenes,i.cameras=r.cameras,i.lights=r.lights,i.nodes=r.nodes,i.materials=o,i.textures=r.textures,i.animations=l,i.animationIndicesByNode=r.animationIndicesByNode,i.models=a,i._modelByNode=s,i.registry=t}}}),Object.assign(ns.prototype,{load:function(e,t){"string"===typeof e&&(e={load:e,original:e}),E.get(e.load,{retry:this.retryRequests},(function(i,r){i?t("Error loading css resource: "+e.original+" ["+i+"]"):t(null,r)}))},open:function(e,t){return t},patch:function(e,t){}}),Object.assign(as.prototype,{load:function(e,t,i){this.loadAssets(i,t)},open:function(e,t,i){return i?i.resource:null},patch:function(e,t){this.loadAssets(e,(function(i,r){i&&(t.fire("error",e),t.fire("error:"+e.id,i,e),e.fire("error",e))}))},getAssetIds:function(e){var t=[];if(t[0]=e.file,(e.loadFaces||!e.file)&&e.data&&e.data.textures)for(var i=0;i<6;++i)t[i+1]=e.data.textures[i];else t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=null;return t},compareAssetIds:function(e,t){return e&&t?parseInt(e,10)===e||"string"===typeof e?e===t:e.url===t.url:null!==e===(null!==t)},update:function(e,t,i){var r,n,a,s=e.data||{},o=e._handlerState.assets,l=e._resources,c=[null,null,null,null,null,null,null],f=function(){return s.hasOwnProperty("type")?s.type:s.hasOwnProperty("rgbm")?s.rgbm?"rgbm":"default":null};if(e.loaded&&i[0]===o[0])c[1]=l[1]||null,c[2]=l[2]||null,c[3]=l[3]||null,c[4]=l[4]||null,c[5]=l[5]||null,c[6]=l[6]||null;else if(i[0])for(r=i[0].resource,a=0;a<6;++a){var h=[r._levels[a]];if(0===a&&this._device.useTexCubeLod)for(n=1;n<r._levels.length;++n)h[n]=r._levels[n];var u=new nt(this._device,{name:e.name+"_prelitCubemap"+(r.width>>a),cubemap:!0,type:f()||r.type,width:r.width>>a,height:r.height>>a,format:r.format,levels:h,fixCubemapSeams:!0,addressU:1,addressV:1});c[a+1]=u}var d=i.slice(1);if(e.loaded&&this.cmpArrays(d,o.slice(1)))c[0]=l[0]||null;else if(-1===d.indexOf(null)){var p=d.map((function(e){return e.resource})),_=[];for(n=0;n<p[0]._levels.length;++n)_.push(p.map((function(e){return e._levels[n]})));var m=new nt(this._device,{name:e.name+"_faces",cubemap:!0,type:f()||p[0].type,width:p[0].width,height:p[0].height,format:p[0].format,levels:_,minFilter:s.hasOwnProperty("minFilter")?s.minFilter:p[0].minFilter,magFilter:s.hasOwnProperty("magFilter")?s.magFilter:p[0].magFilter,anisotropy:s.hasOwnProperty("anisotropy")?s.anisotropy:1,addressU:1,addressV:1,fixCubemapSeams:!!i[0]});c[0]=m}if(!this.cmpArrays(c,l))for(e.resources=c,e._handlerState.assetIds=t,e._handlerState.assets=i,a=0;a<l.length;++a)null!==l[a]&&-1===c.indexOf(l[a])&&l[a].destroy();for(a=0;a<o.length;++a)null!==o[a]&&-1===i.indexOf(o[a])&&o[a].unload()},cmpArrays:function(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0},loadAssets:function(e,t){e.hasOwnProperty("_handlerState")||(e._handlerState={assetIds:[null,null,null,null,null,null,null],assets:[null,null,null,null,null,null,null]});for(var i,r=this,n=r.getAssetIds(e),a=[null,null,null,null,null,null,null],s=e._handlerState.assetIds,o=e._handlerState.assets,l=r._registry,c=7,f=function(i,s){a[i]=s,0===--c&&(r.update(e,n,a),t(null,e.resources))},h=function(e,i){var r=i&&i.resource&&i.resource._levels[0];r&&"undefined"!==typeof ImageBitmap&&r instanceof ImageBitmap?createImageBitmap(r,{premultiplyAlpha:"none",imageOrientation:"flipY"}).then((function(t){i.resource._levels[0]=t,f(e,i)})).catch((function(e){t(e)})):f(e,i)},u=function(e,i,r){t(i)},d=function(e,t){t.loaded?h(e,t):(l.once("load:"+t.id,h.bind(r,e)),l.once("error:"+t.id,u.bind(r,e)),t.loading||l.load(t))},p=0;p<7;++p){var _=n[p];if(_)if(r.compareAssetIds(_,s[p]))f(p,o[p]);else if(parseInt(_,10)===_)(i=l.get(_))?d(p,i):setTimeout(function(e,t){var i=l.get(t);i?d(e,i):u(0,"failed to find dependent cubemap asset="+t)}.bind(null,p,_));else{var m="string"===typeof _?{url:_,filename:_}:_;i=new pa(e.name+"_part_"+p,"texture",m),l.add(i),l.once("load:"+i.id,h.bind(r,p)),l.once("error:"+i.id,u.bind(r,p)),l.load(i)}else f(p,null)}}}),Object.assign(ss.prototype,{load:function(e,t){t(null,null)},open:function(e,t){return t}}),Object.defineProperty(os.prototype,"data",{get:function(){return this._data},set:function(e){if(this._data=e,e&&(void 0!==this._data.intensity&&(this.intensity=this._data.intensity),this._data.info||(this._data.info={}),(!this._data.version||this._data.version<2)&&(this._data.info.maps=[{width:this._data.info.width,height:this._data.info.height}],this._data.chars)))for(var t in this._data.chars)this._data.chars[t].map=0}}),Object.assign(cs.prototype,{load:function(e,t,i){"string"===typeof e&&(e={load:e,original:e});var r=this;".json"===f.getExtension(e.original)?E.get(e.load,{retry:this.retryRequests},(function(i,n){if(i)t("Error loading font resource: "+e.original+" ["+i+"]");else{var a=ls(n);r._loadTextures(e.load.replace(".json",".png"),a,(function(e,i){if(e)return t(e);t(null,{data:a,textures:i})}))}})):(i&&i.data&&(i.data=ls(i.data)),this._loadTextures(e.load,i&&i.data,t))},_loadTextures:function(e,t,i){for(var r=t.info.maps.length,n=0,a=null,s=new Array(r),o=this._loader,l=function(t){var l=function(e,o){if(!a){if(e)return a=e,i(e);o.upload(),s[t]=o,++n===r&&i(null,s)}};0===t?o.load(e,"texture",l):o.load(e.replace(".png",t+".png"),"texture",l)},c=0;c<r;c++)l(c)},open:function(e,t,i){return t.textures?new os(t.textures,t.data):new os(t,null)},patch:function(e,t){var i=e.resource;!i.data&&e.data?i.data=e.data:!e.data&&i.data&&(e.data=i.data),e.data&&(e.data=ls(e.data))}}),fs.prototype=Object.create(o.prototype),fs.prototype.constructor=fs,fs.prototype.destroy=function(){var e=this;this._registry.off("load",this._onLoad),this._registry.off("error",this._onError),this._waitingAssets.forEach((function(t){e._registry.off("add:"+t,this._onAddAsset)})),this.off("progress"),this.off("load")},fs.prototype.load=function(e,t){var i,r=0,n=this._assets.length;for(this._count=0,this._failed=[],this._callback=e,this._scope=t,this._registry.on("load",this._onLoad,this),this._registry.on("error",this._onError,this),r=0;r<n;r++)(i=this._assets[r]).loading||i.loaded||(this._registry.load(i),this._total++)},fs.prototype.ready=function(e,t){t=t||this,this._loaded?e.call(t,this._assets):this.once("load",(function(i){e.call(t,i)}))},fs.prototype._loadingComplete=function(){this._loaded=!0,this._registry.off("load",this._onLoad,this),this._registry.off("error",this._onError,this),this._failed&&this._failed.length?(this._callback&&this._callback.call(this._scope,"Failed to load some assets",this._failed),this.fire("error",this._failed)):(this._callback&&this._callback.call(this._scope),this.fire("load",this._assets))},fs.prototype._onLoad=function(e){var t=this;this._assets.indexOf(e)>=0&&(this._count++,this.fire("progress",e)),this._count===this._total&&setTimeout((function(){t._loadingComplete(t._failed)}),0)},fs.prototype._onError=function(e,t){var i=this;this._assets.indexOf(t)>=0&&(this._count++,this._failed.push(t)),this._count===this._total&&setTimeout((function(){i._loadingComplete(i._failed)}),0)},fs.prototype._onAddAsset=function(e){var t,i=this._waitingAssets.indexOf(e);i>=0&&this._waitingAssets.splice(i,1),this._assets.push(e);var r=this._assets.length;for(t=0;t<r;t++)(e=this._assets[t]).loading||e.loaded||this._registry.load(e)},fs.prototype._waitForAsset=function(e){this._waitingAssets.push(e),this._registry.once("add:"+e,this._onAddAsset,this)};var hs={waitForTemplatesInScene:function(e,t,i){if(e.collapsedInstances){var r=hs._getAllCollapsedEntities(e);hs.waitForTemplateAssets(r,t,i,e)}else i(null,e)},waitForTemplateAssets:function(e,t,i,r){new fs(hs._extractTemplateIds(e),t).load((function(e){i(e,r)}))},_getAllCollapsedEntities:function(e){var t={};return e.collapsedInstances.forEach((function(e){Object.assign(t,e.instanceEntities)})),t},_extractTemplateIds:function(e){var t=[];for(var i in e){var r=e[i].template_id;r&&t.push(r)}return t},expandTemplateEntities:function(e,t){var i={};for(var r in t){var n=t[r];i[r]=n.collapsed_entity?hs.expandEntity(e,n):n}return i},expandEntity:function(e,t){}},us=function(e,t,i){var r,n,a=i.singleVecs,s=t.___1;s||(r=i.tripleVecs,n=t.___2);var o=s?s[0]:r[n];e.setLocalPosition(a[o],a[o+1],a[o+2]),o=s?s[1]:r[n+1],e.setLocalEulerAngles(a[o],a[o+1],a[o+2]),o=s?s[2]:r[n+2],e.setLocalScale(a[o],a[o+1],a[o+2])},ds=function(e,t){var i=e.charCodeAt(0)-t.fieldFirstCode;return t.fieldArray[i]},ps=function(e,t){for(var i=0,r=0;r<e.length;r++)i=i*t.fieldCodeBase+e.charCodeAt(r)-t.fieldFirstCode;return t.fieldArray[i]};function _s(e,t){this._node=e,this._data=t}function ms(e,t){this._app=e,this._isTemplate=t}function bs(e){this._app=e,this.retryRequests=!1}function As(){this.retryRequests=!1}function vs(){this.retryRequests=!1}Object.assign(_s.prototype,{run:function(){var e=Object.prototype.toString.call(this._node);return"[object Object]"===e?this._handleMap():"[object Array]"===e?this._handleArray():this._result=this._node,this._result},_handleMap:function(){this._result={},Object.keys(this._node).forEach(this._handleKey,this)},_handleKey:function(e){var t=e,i=e.length;1===i?t=ds(e,this._data):2===i&&(t=ps(e,this._data)),this._result[t]=new _s(this._node[e],this._data).run()},_handleArray:function(){this._result=[],this._node.forEach(this._handleArElt,this)},_handleArElt:function(e){var t=new _s(e,this._data).run();this._result.push(t)}}),Object.assign(ms.prototype,{parse:function(e){var t,i,r,n={},a=null,s=e.compressedFormat;for(t in s&&(e.entities=new _s(e.entities,s).run()),e.collapsedInstances&&this._addCollapsedToEntities(this._app,e),e.entities){var o=e.entities[t];r=this._createEntity(o,s),n[t]=r,null===o.parent&&(a=r)}for(t in e.entities){r=n[t];var l=e.entities[t].children,c=l.length;for(i=0;i<c;i++){var f=n[l[i]];f&&r.addChild(f)}}return this._openComponentData(a,e.entities),delete e.compressedFormat,a},_createEntity:function(e,t){var i=new Un;if(i.name=e.name,i.setGuid(e.resource_id),this._setPosRotScale(i,e,t),i._enabled=void 0===e.enabled||e.enabled,this._isTemplate?i._template=!0:i._enabledInHierarchy=i._enabled,i.template=e.template,e.tags)for(var r=0;r<e.tags.length;r++)i.tags.add(e.tags[r]);return e.labels&&e.labels.forEach((function(e){i.addLabel(e)})),i},_setPosRotScale:function(e,t,i){if(i)us(e,t,i);else{var r=t.position,n=t.rotation,a=t.scale;e.setLocalPosition(r[0],r[1],r[2]),e.setLocalEulerAngles(n[0],n[1],n[2]),e.setLocalScale(a[0],a[1],a[2])}},_openComponentData:function(e,t){var i,r=this._app.systems.list,n=r.length,a=t[e.getGuid()];for(i=0;i<n;i++){var s=r[i],o=a.components[s.id];o&&s.addComponent(e,o)}n=a.children.length;var l=e._children;for(i=0;i<n;i++)l[i]=this._openComponentData(l[i],t);return e},_addCollapsedToEntities:function(e,t){t.collapsedInstances.forEach((function(i){var r=hs.expandTemplateEntities(e,i.instanceEntities);Object.assign(t.entities,r)}))}}),Object.assign(bs.prototype,{load:function(e,t){"string"===typeof e&&(e={load:e,original:e});var i=this._app.assets;E.get(e.load,{retry:this.retryRequests},(function(r,n){if(r){var a="Error while loading scene "+e.original;r.message?(a+=": "+r.message,r.stack&&(a+="\n"+r.stack)):a+=": "+r,t(a)}else hs.waitForTemplatesInScene(n,i,t)}))},open:function(e,t){this._app.systems.script.preloading=!0;var i=new ms(this._app,!1).parse(t);return this._app.systems.script.preloading=!1,i}}),Object.assign(As.prototype,{load:function(e,t){"string"===typeof e&&(e={load:e,original:e}),E.get(e.load,{retry:this.retryRequests},(function(i,r){i?t("Error loading html resource: "+e.original+" ["+i+"]"):t(null,r)}))},open:function(e,t){return t},patch:function(e,t){}}),Object.assign(vs.prototype,{load:function(e,t){"string"===typeof e&&(e={load:e,original:e});var i={retry:this.retryRequests};e.load.startsWith("blob:")&&(i.responseType=w.ResponseType.JSON),E.get(e.load,i,(function(i,r){i?t("Error loading JSON resource: "+e.original+" ["+i+"]"):t(null,r)}))},open:function(e,t){return t},patch:function(e,t){}});var ys,gs={name:"string",chunks:"chunks",mappingFormat:"string",_engine:"boolean",ambient:"rgb",ambientTint:"boolean",aoVertexColor:"boolean",aoVertexColorChannel:"string",aoMap:"texture",aoMapChannel:"string",aoMapUv:"number",aoMapTiling:"vec2",aoMapOffset:"vec2",diffuse:"rgb",diffuseTint:"boolean",diffuseVertexColor:"boolean",diffuseVertexColorChannel:"string",diffuseMap:"texture",diffuseMapChannel:"string",diffuseMapUv:"number",diffuseMapTiling:"vec2",diffuseMapOffset:"vec2",diffuseDetailMap:"texture",diffuseDetailMapChannel:"string",diffuseDetailMapUv:"number",diffuseDetailMapTiling:"vec2",diffuseDetailMapOffset:"vec2",diffuseDetailMode:"string",specular:"rgb",specularTint:"boolean",specularVertexColor:"boolean",specularVertexColorChannel:"string",specularMap:"texture",specularMapChannel:"string",specularMapUv:"number",specularMapTiling:"vec2",specularMapOffset:"vec2",specularAntialias:"boolean",occludeSpecular:"enum:occludeSpecular",useMetalness:"boolean",metalness:"number",enableGGXSpecular:"boolean",anisotropy:"number",metalnessTint:"boolean",metalnessVertexColor:"boolean",metalnessVertexColorChannel:"string",metalnessMap:"texture",metalnessMapChannel:"string",metalnessMapUv:"number",metalnessMapTiling:"vec2",metalnessMapOffset:"vec2",conserveEnergy:"boolean",shininess:"number",glossVertexColor:"boolean",glossVertexColorChannel:"string",glossMap:"texture",glossMapChannel:"string",glossMapUv:"number",glossMapTiling:"vec2",glossMapOffset:"vec2",clearCoat:"number",clearCoatVertexColor:"boolean",clearCoatVertexColorChannel:"string",clearCoatMap:"texture",clearCoatMapChannel:"string",clearCoatMapUv:"number",clearCoatMapTiling:"vec2",clearCoatMapOffset:"vec2",clearCoatGlossiness:"number",clearCoatGlossVertexColor:"boolean",clearCoatGlossVertexColorChannel:"string",clearCoatGlossMap:"texture",clearCoatGlossMapChannel:"string",clearCoatGlossMapUv:"number",clearCoatGlossMapTiling:"vec2",clearCoatGlossMapOffset:"vec2",clearCoatBumpiness:"number",clearCoatNormalMap:"texture",clearCoatNormalMapUv:"number",clearCoatNormalMapTiling:"vec2",clearCoatNormalMapOffset:"vec2",fresnelModel:"number",emissive:"rgb",emissiveTint:"boolean",emissiveVertexColor:"boolean",emissiveVertexColorChannel:"string",emissiveMap:"texture",emissiveMapChannel:"string",emissiveMapUv:"number",emissiveMapTiling:"vec2",emissiveMapOffset:"vec2",emissiveIntensity:"number",normalMap:"texture",normalMapTiling:"vec2",normalMapOffset:"vec2",normalMapUv:"number",bumpiness:"number",normalDetailMap:"texture",normalDetailMapTiling:"vec2",normalDetailMapOffset:"vec2",normalDetailMapUv:"number",normalDetailMapBumpiness:"number",heightMap:"texture",heightMapChannel:"string",heightMapUv:"number",heightMapTiling:"vec2",heightMapOffset:"vec2",heightMapFactor:"number",alphaToCoverage:"boolean",alphaTest:"number",opacity:"number",opacityVertexColor:"boolean",opacityVertexColorChannel:"string",opacityMap:"texture",opacityMapChannel:"string",opacityMapUv:"number",opacityMapTiling:"vec2",opacityMapOffset:"vec2",reflectivity:"number",refraction:"number",refractionIndex:"number",sphereMap:"texture",cubeMap:"cubemap",cubeMapProjection:"number",cubeMapProjectionBox:"boundingbox",lightVertexColor:"boolean",lightVertexColorChannel:"string",lightMap:"texture",lightMapChannel:"string",lightMapUv:"number",lightMapTiling:"vec2",lightMapOffset:"vec2",depthTest:"boolean",depthWrite:"boolean",depthBias:"number",slopeDepthBias:"number",cull:"enum:cull",blendType:"enum:blendType",shadingModel:"enum:shadingModel",useFog:"boolean",useLighting:"boolean",useSkybox:"boolean",useGammaTonemap:"boolean",prefilteredCubeMap128:"texture",prefilteredCubeMap64:"texture",prefilteredCubeMap32:"texture",prefilteredCubeMap16:"texture",prefilteredCubeMap8:"texture",prefilteredCubeMap4:"texture"},ks=[];for(ys in gs)"texture"===gs[ys]&&ks.push(ys);var xs=[];for(ys in gs)"cubemap"===gs[ys]&&xs.push(ys);function Ss(e,t,i,r,n){this.propertyName=e,this.parent=t,this._scope=n,this._registry=i,this.id=null,this.url=null,this.asset=null,this._onAssetLoad=r.load,this._onAssetAdd=r.add,this._onAssetRemove=r.remove}function Ts(){this.removeInvalid=!0,this.valid=!0,this.enumValidators={occludeSpecular:this._createEnumValidator([0,1,2]),cull:this._createEnumValidator([0,1,2,3]),blendType:this._createEnumValidator([0,1,2,3,4,5,6,7,8,9,10]),shadingModel:this._createEnumValidator([0,1])}}function ws(){this._validator=null}Ss.prototype._bind=function(){this.id&&(this._onAssetLoad&&this._registry.on("load:"+this.id,this._onLoad,this),this._onAssetAdd&&this._registry.once("add:"+this.id,this._onAdd,this),this._onAssetRemove&&this._registry.on("remove:"+this.id,this._onRemove,this)),this.url&&(this._onAssetLoad&&this._registry.on("load:url:"+this.url,this._onLoad,this),this._onAssetAdd&&this._registry.once("add:url:"+this.url,this._onAdd,this),this._onAssetRemove&&this._registry.on("remove:url:"+this.url,this._onRemove,this))},Ss.prototype._unbind=function(){this.id&&(this._onAssetLoad&&this._registry.off("load:"+this.id,this._onLoad,this),this._onAssetAdd&&this._registry.off("add:"+this.id,this._onAdd,this),this._onAssetRemove&&this._registry.off("remove:"+this.id,this._onRemove,this)),this.url&&(this._onAssetLoad&&this._registry.off("load:"+this.url,this._onLoad,this),this._onAssetAdd&&this._registry.off("add:"+this.url,this._onAdd,this),this._onAssetRemove&&this._registry.off("remove:"+this.url,this._onRemove,this))},Ss.prototype._onLoad=function(e){this._onAssetLoad.call(this._scope,this.propertyName,this.parent,e)},Ss.prototype._onAdd=function(e){this._onAssetAdd.call(this._scope,this.propertyName,this.parent,e)},Ss.prototype._onRemove=function(e){this._onAssetRemove.call(this._scope,this.propertyName,this.parent,e)},Object.defineProperty(Ss.prototype,"id",{get:function(){return this._id},set:function(e){if(this.url)throw Error("Can't set id and url");this._unbind(),this._id=e,this.asset=this._registry.get(this._id),this._bind()}}),Object.defineProperty(Ss.prototype,"url",{get:function(){return this._url},set:function(e){if(this.id)throw Error("Can't set id and url");this._unbind(),this._url=e,this.asset=this._registry.getByUrl(this._url),this._bind()}}),Ts.prototype.setInvalid=function(e,t){this.valid=!1,this.removeInvalid&&delete t[e]},Ts.prototype.validate=function(e){var t,i,r=gs,n="path"===e.mappingFormat;for(var a in e)if(t=r[a])if(t.startsWith("enum")){var s=t.split(":")[1];this.enumValidators[s]&&(this.enumValidators[s](e[a])||this.setInvalid(a,e))}else if("number"===t)"number"!==typeof e[a]&&this.setInvalid(a,e);else if("boolean"===t)"boolean"!==typeof e[a]&&this.setInvalid(a,e);else if("string"===t)"string"!==typeof e[a]&&this.setInvalid(a,e);else if("vec2"===t)e[a]instanceof Array&&2===e[a].length||this.setInvalid(a,e);else if("rgb"===t)e[a]instanceof Array&&3===e[a].length||this.setInvalid(a,e);else if("texture"===t)n?"string"===typeof e[a]||e[null===a]||e[a]instanceof nt||this.setInvalid(a,e):"number"===typeof e[a]||null===e[a]||e[a]instanceof nt||this.setInvalid(a,e);else if("boundingbox"===t)e[a].center&&e[a].center instanceof Array&&3===e[a].center.length||this.setInvalid(a,e),e[a].halfExtents&&e[a].halfExtents instanceof Array&&3===e[a].halfExtents.length||this.setInvalid(a,e);else if("cubemap"===t)"number"===typeof e[a]||null===e[a]||void 0===e[a]||e[a]instanceof nt&&e[a].cubemap||this.setInvalid(a,e);else if("chunks"===t){var o=Object.keys(e[a]);for(i=0;i<o.length;i++)"string"!==typeof e[a][o[i]]&&this.setInvalid(o[i],e[a])}else console.error("Unknown material type: "+t);else this.valid=!1;return e.validated=!0,this.valid},Ts.prototype._createEnumValidator=function(e){return function(t){return e.indexOf(t)>=0}},ws.prototype.parse=function(e){var t=this.migrate(e),i=this._validate(t),r=new wu;return this.initialize(r,i),r},ws.prototype.initialize=function(e,t){for(var i in t.validated||(this._validator||(this._validator=new Ts),this._validator.validate(t)),t.chunks&&e.chunks.copy(t.chunks),t){var r=gs[i],n=t[i];if("vec2"===r)e[i]=new O(n[0],n[1]);else if("rgb"===r)e[i]=new v(n[0],n[1],n[2]);else if("texture"===r)n instanceof nt?e[i]=n:e[i]instanceof nt&&"number"===typeof n&&n>0||(e[i]=null);else if("cubemap"===r)n instanceof nt?e[i]=n:e[i]instanceof nt&&"number"===typeof n&&n>0||(e[i]=null);else if("boundingbox"===r){var a=new I(n.center[0],n.center[1],n.center[2]),s=new I(n.halfExtents[0],n.halfExtents[1],n.halfExtents[2]);e[i]=new W(a,s)}else e[i]=t[i]}e.update()},ws.prototype.migrate=function(e){var t;void 0===e.shadingModel&&("blinn"===e.shader?e.shadingModel=1:e.shadingModel=0),e.shader&&delete e.shader,e.mapping_format&&(e.mappingFormat=e.mapping_format,delete e.mapping_format);var i=[["bumpMapFactor","bumpiness"],["aoUvSet","aoMapUv"],["aoMapVertexColor","aoVertexColor"],["diffuseMapVertexColor","diffuseVertexColor"],["emissiveMapVertexColor","emissiveVertexColor"],["specularMapVertexColor","specularVertexColor"],["metalnessMapVertexColor","metalnessVertexColor"],["opacityMapVertexColor","opacityVertexColor"],["glossMapVertexColor","glossVertexColor"],["lightMapVertexColor","lightVertexColor"],["diffuseMapTint","diffuseTint"],["specularMapTint","specularTint"],["emissiveMapTint","emissiveTint"],["metalnessMapTint","metalnessTint"]];for(t=0;t<i.length;t++){var r=i[t][0],n=i[t][1];void 0!==e[r]&&void 0===e[n]&&(e[n]=e[r],delete e[r])}var a=["fresnelFactor","shadowSampleType"];for(t=0;t<a.length;t++){var s=a[t];e.hasOwnProperty(s)&&delete e[s]}return e},ws.prototype._validate=function(e){return this._validator||(this._validator=new Ts),this._validator.validate(e),e};var Es={aoMap:"white",diffuseMap:"gray",specularMap:"gray",metalnessMap:"black",glossMap:"gray",emissiveMap:"gray",normalMap:"normal",heightMap:"gray",opacityMap:"gray",sphereMap:"gray",lightMap:"white"};function Ms(e){this._assets=e.assets,this._device=e.graphicsDevice,this._placeholderTextures=null,this._parser=new ws,this.retryRequests=!1}function Ps(e){this._device=e,this._defaultMaterial=ku()}function Rs(){this.index=0,this.boneIndices=[0,0,0,0]}function Cs(){this.partition=0,this.vertexStart=0,this.vertexCount=0,this.indexStart=0,this.indexCount=0,this.boneIndices=[],this.vertices=[],this.indices=[],this.indexMap={}}function Os(e,t,i){var r,n,a,s;!function(e){var t,i=e.vertices,r=e.skins,n=e.meshes,a=e.meshInstances;for(t=0;t<n.length;t++)n[t].vertices=i[n[t].vertices],void 0!==n[t].skin&&(n[t].skin=r[n[t].skin]);for(t=0;t<a.length;t++)a[t].mesh=n[a[t].mesh]}(e);var o,l=e.vertices,c=e.skins,f=e.meshes,h=e.meshInstances,u=function(e){var t=new Rs;return t.index=e,t};for(r=c.length-1;r>=0;r--)if(c[r].boneNames.length>i){var d=c.splice(r,1)[0],p=[];for(n=0;n<f.length;n++)f[n].skin===d&&p.push(f[n]);for(n=0;n<p.length;n++)-1!==(s=f.indexOf(p[n]))&&f.splice(s,1);if(0===p.length)throw new Error("partitionSkin: There should be at least one mesh that references a skin");var _,m=p[0].vertices;for(n=1;n<p.length;n++)if(p[n].vertices!==m)throw new Error("partitionSkin: All meshes that share a skin should also share the same vertex buffer");var b=[],A=[],v=[],y=0;for(n=0;n<p.length;n++){for(var g=(o=p[n]).indices,k=o.base;k<o.base+o.count;){s=g[k++],A[0]=u(s),v[0]=s,s=g[k++],A[1]=u(s),v[1]=s,s=g[k++],A[2]=u(s),v[2]=s;for(var x=!1,S=y;S<b.length;S++)if((_=b[S]).addPrimitive(A,v,m,i)){x=!0;break}x||((_=new Cs).originalMesh=o,_.addPrimitive(A,v,m,i),b.push(_))}y=b.length}var T=[],w=[];for(n=0;n<b.length;n++)if((_=b[n]).vertices.length&&_.indices.length){var E,M,P=T.length,R=_.vertices.length,C=w.length,O=_.indices.length;for(_.partition=n,_.vertexStart=P,_.vertexCount=R,_.indexStart=C,_.indexCount=O,E=0,M=P;E<R;)T[M++]=_.vertices[E++];for(E=0,M=C;E<O;)w[M++]=_.indices[E++]+P}var I,D,F,N,B=[];for(n=0;n<b.length;n++){_=b[n];var L=[],U=[];for(a=0;a<_.boneIndices.length;a++)L.push(d.inverseBindMatrices[_.boneIndices[a]]),U.push(d.boneNames[_.boneIndices[a]]);var V={inverseBindMatrices:L,boneNames:U};B.push(V),c.push(V)}var z={};for(D in m)z[D]={components:m[D].components,data:[],type:m[D].type};for(D in m)if("blendIndices"===D){var j=z[D].data;for(n=0;n<T.length;n++){var W=T[n].boneIndices;j.push(W[0],W[1],W[2],W[3])}}else for(F=(I=m[D]).data,N=I.components,n=0;n<T.length;n++)for(s=T[n].index,a=0;a<N;a++)z[D].data.push(F[s*N+a]);for(l[l.indexOf(m)]=z,n=0;n<b.length;n++)for(_=b[n],o={aabb:{min:[0,0,0],max:[0,0,0]},vertices:z,skin:B[n],indices:w.splice(0,_.indexCount),type:"triangles",base:0,count:_.indexCount},f.push(o),a=h.length-1;a>=0;a--)h[a].mesh===_.originalMesh&&(h.push({mesh:o,node:h[a].node}),t&&t.push({material:t[a].material,path:t[a].path}));for(n=0;n<b.length;n++)for(_=b[n],a=h.length-1;a>=0;a--)h[a].mesh===_.originalMesh&&(h.splice(a,1),t&&t.splice(a,1))}!function(e){var t,i=e.vertices,r=e.skins,n=e.meshes,a=e.meshInstances;for(t=0;t<n.length;t++)n[t].vertices=i.indexOf(n[t].vertices),void 0!==n[t].skin&&(n[t].skin=r.indexOf(n[t].skin));for(t=0;t<a.length;t++)a[t].mesh=n.indexOf(a[t].mesh)}(e)}Object.assign(Ms.prototype,{load:function(e,t){"string"===typeof e&&(e={load:e,original:e}),E.get(e.load,{retry:this.retryRequests},(function(i,r){i?t&&t("Error loading material: "+e.original+" ["+i+"]"):t&&(r._engine=!0,t(null,r))}))},open:function(e,t){var i=this._parser.parse(t);return t._engine&&(i._data=t,delete t._engine),i},_createPlaceholders:function(){this._placeholderTextures={};var e={white:[255,255,255,255],gray:[128,128,128,255],black:[0,0,0,255],normal:[128,128,255,255]};for(var t in e)if(e.hasOwnProperty(t)){this._placeholderTextures[t]=new nt(this._device,{width:2,height:2,format:7}),this._placeholderTextures[t].name="placeholder";for(var i=this._placeholderTextures[t].lock(),r=0;r<4;r++)for(var n=0;n<4;n++)i[4*r+n]=e[t][n];this._placeholderTextures[t].unlock()}},patch:function(e,t){e.resource._data&&(e._data=e.resource._data,delete e.resource._data),e.data.name=e.name,e.resource.name=e.name,this._bindAndAssignAssets(e,t),e.off("unload",this._onAssetUnload,this),e.on("unload",this._onAssetUnload,this)},_onAssetUnload:function(e){delete e.data.parameters,delete e.data.chunks,delete e.data.name},_assignTexture:function(e,t,i){t.data[e]=i,t.resource[e]=i},_assignPlaceholderTexture:function(e,t){this._placeholderTextures||this._createPlaceholders();var i=Es[e],r=this._placeholderTextures[i];t.resource[e]=r},_onTextureLoad:function(e,t,i){this._assignTexture(e,t,i.resource),t.resource.update()},_onTextureAdd:function(e,t,i){this._assets.load(i)},_onTextureRemove:function(e,t,i){var r=t.resource;r[e]===i.resource&&(this._assignTexture(e,t,null),r.update())},_assignCubemap:function(e,t,i){t.data[e]=i[0],7===i.length&&(t.data.prefilteredCubeMap128=i[1],t.data.prefilteredCubeMap64=i[2],t.data.prefilteredCubeMap32=i[3],t.data.prefilteredCubeMap16=i[4],t.data.prefilteredCubeMap8=i[5],t.data.prefilteredCubeMap4=i[6])},_onCubemapLoad:function(e,t,i){this._assignCubemap(e,t,i.resources),this._parser.initialize(t.resource,t.data)},_onCubemapAdd:function(e,t,i){0===t.data.shadingModel&&(t.loadFaces=!0),this._assets.load(i)},_onCubemapRemove:function(e,t,i){var r=t.resource;r[e]===i.resource&&(this._assignCubemap(e,t,[null,null,null,null,null,null,null]),r.update())},_bindAndAssignAssets:function(e,t){var i,r,n,a=this._parser.migrate(e.data),s=e.resource,o="path"===a.mappingFormat,l=ks;for(i=0;i<l.length;i++)r=l[i],n=s._assetReferences[r],!a[r]||a[r]instanceof nt?n&&(o?n.url=null:n.id=null):(n||(n=new Ss(r,e,t,{load:this._onTextureLoad,add:this._onTextureAdd,remove:this._onTextureRemove},this),s._assetReferences[r]=n),o?n.url=e.getAbsoluteUrl(a[r]):n.id=a[r],n.asset&&(n.asset.resource?this._assignTexture(r,e,n.asset.resource):this._assignPlaceholderTexture(r,e),t.load(n.asset)));var c=xs;for(i=0;i<c.length;i++)r=c[i],n=s._assetReferences[r],!a[r]||a[r]instanceof nt||(n||(n=new Ss(r,e,t,{load:this._onCubemapLoad,add:this._onCubemapAdd,remove:this._onCubemapRemove},this),s._assetReferences[r]=n),o?n.url=a[r]:n.id=a[r],n.asset&&(n.asset.loaded&&this._assignCubemap(r,e,n.asset.resources),t.load(n.asset)));this._parser.initialize(s,a)}}),Object.assign(Ps.prototype,{parse:function(e){var t=za.parse("filename.glb",e,this._device);return t?za.createModel(t,this._defaultMaterial):null}}),Object.assign(Cs.prototype,{addVertex:function(e,t,i){var r=-1;if(void 0!==this.indexMap[t])r=this.indexMap[t],this.indices.push(r);else{for(var n=0;n<4;n++)if(0!==i.blendWeight.data[4*t+n]){var a=i.blendIndices.data[4*e.index+n];e.boneIndices[n]=this.getBoneRemap(a)}r=this.vertices.length,this.indices.push(r),this.vertices.push(e),this.indexMap[t]=r}},addPrimitive:function(e,t,i,r){var n,a,s=[],o=0,l=e.length;for(n=0;n<l;n++)for(var c=e[n].index,f=0;f<4;f++)if(i.blendWeight.data[4*c+f]>0){var h=i.blendIndices.data[4*c+f],u=!0;for(a=0;a<o;a++)if(s[a]==h){u=!1;break}u&&(s[o]=h,o+=-1===this.getBoneRemap(h)?1:0)}if(this.boneIndices.length+o>r)return!1;for(n=0;n<o;n++)this.boneIndices.push(s[n]);for(n=0;n<l;n++)this.addVertex(e[n],t[n],i);return!0},getBoneRemap:function(e){for(var t=0;t<this.boneIndices.length;t++)if(this.boneIndices[t]===e)return t;return-1}});var Is={points:0,lines:1,lineloop:2,linestrip:3,triangles:4,trianglestrip:5,trianglefan:6},Ds={int8:0,uint8:1,int16:2,uint16:3,int32:4,uint32:5,float32:6};function Fs(e){this._device=e,this._defaultMaterial=ku()}function Ns(e,t){this._device=e,this._parsers=[],this._defaultMaterial=t,this.retryRequests=!1,this.addParser(new Fs(this._device),(function(e,t){return".json"===f.getExtension(e)})),this.addParser(new Ps(this._device),(function(e,t){return".glb"===f.getExtension(e)}))}function Bs(e){this._handlers={},this._requests={},this._cache={},this._app=e}function Ls(e){this._app=e,this.retryRequests=!1}function Us(e){this._app=e,this.retryRequests=!1}Object.assign(Fs.prototype,{parse:function(e){var t=e.model;if(!t)return null;if(t.version<=1)return null;var i=this._parseNodes(e),r=this._parseSkins(e,i),n=this._parseVertexBuffers(e),a=this._parseIndexBuffers(e,n),s=this._parseMorphs(e,i,n),o=this._parseMeshes(e,r.skins,s.morphs,n,a.buffer,a.data),l=this._parseMeshInstances(e,i,o,r.skins,r.instances,s.morphs,s.instances),c=new Tt;return c.graph=i[0],c.meshInstances=l,c.skinInstances=r.instances,c.morphInstances=s.instances,c.getGraph().syncHierarchy(),c},_parseNodes:function(e){var t,i=e.model,r=[];for(t=0;t<i.nodes.length;t++){var n=i.nodes[t],a=new ei(n.name);a.setLocalPosition(n.position[0],n.position[1],n.position[2]),a.setLocalEulerAngles(n.rotation[0],n.rotation[1],n.rotation[2]),a.setLocalScale(n.scale[0],n.scale[1],n.scale[2]),a.scaleCompensation=!!n.scaleCompensation,r.push(a)}for(t=1;t<i.parents.length;t++)r[i.parents[t]].addChild(r[t]);return r},_parseSkins:function(e,t){var i,r,n=e.model,a=[],s=[];for(!this._device.supportsBoneTextures&&n.skins.length>0&&Os(n,null,this._device.getBoneLimit()),i=0;i<n.skins.length;i++){var o=n.skins[i],l=[];for(r=0;r<o.inverseBindMatrices.length;r++){var c=o.inverseBindMatrices[r];l[r]=(new N).set(c)}var f=new zn(this._device,l,o.boneNames);a.push(f);var h=new St(f),u=[];for(r=0;r<f.boneNames.length;r++){var d=f.boneNames[r],p=t[0].findByName(d);u.push(p)}h.bones=u,s.push(h)}return{skins:a,instances:s}},_getMorphVertexCount:function(e,t,i){for(var r=0;r<e.meshes.length;r++){var n=e.meshes[r];if(n.morph===t)return i[n.vertices].numVertices}},_parseMorphs:function(e,t,i){var r,n,a,s,o,l,c=e.model,f=[],h=[];if(c.morphs){var u=function(e,t,i){for(var r=new Float32Array(3*i),n=0;n<t.length;n++){var a=3*t[n];r[a]=e[3*n],r[a+1]=e[3*n+1],r[a+2]=e[3*n+2]}return r};for(r=0;r<c.morphs.length;r++){for(s=c.morphs[r].targets,l=[],a=this._getMorphVertexCount(c,r,i),n=0;n<s.length;n++){var d=s[n].aabb,p=d.min,_=d.max,m=new W(new I(.5*(_[0]+p[0]),.5*(_[1]+p[1]),.5*(_[2]+p[2])),new I(.5*(_[0]-p[0]),.5*(_[1]-p[1]),.5*(_[2]-p[2]))),b=s[n].indices,A=s[n].deltaPositions,v=s[n].deltaNormals;b&&(A=u(A,b,a),v=u(v,b,a)),o=new Vn({deltaPositions:A,deltaNormals:v,name:s[n].name,aabb:m}),l.push(o)}var y=new gt(l,this._device);f.push(y);var g=new kt(y);h.push(g)}}return{morphs:f,instances:h}},_parseVertexBuffers:function(e){var t,i,r,n,a=e.model,s=[],o={position:"POSITION",normal:"NORMAL",tangent:"TANGENT",blendWeight:"BLENDWEIGHT",blendIndices:"BLENDINDICES",color:"COLOR",texCoord0:"TEXCOORD0",texCoord1:"TEXCOORD1",texCoord2:"TEXCOORD2",texCoord3:"TEXCOORD3",texCoord4:"TEXCOORD4",texCoord5:"TEXCOORD5",texCoord6:"TEXCOORD6",texCoord7:"TEXCOORD7"};for(r=0;r<a.vertices.length;r++){var l=a.vertices[r],c=[];for(i in l)t=l[i],c.push({semantic:o[i],components:t.components,type:Ds[t.type],normalize:"COLOR"===o[i]});var f=new ue(this._device,c),h=l.position.data.length/l.position.components,u=new fe(this._device,f,h),d=new we(u);for(n=0;n<h;n++){for(i in l)switch((t=l[i]).components){case 1:d.element[o[i]].set(t.data[n]);break;case 2:d.element[o[i]].set(t.data[2*n],t.data[2*n+1]);break;case 3:d.element[o[i]].set(t.data[3*n],t.data[3*n+1],t.data[3*n+2]);break;case 4:d.element[o[i]].set(t.data[4*n],t.data[4*n+1],t.data[4*n+2],t.data[4*n+3])}d.next()}d.end(),s.push(u)}return s},_parseIndexBuffers:function(e,t){var i,r=e.model,n=null,a=null,s=0;for(i=0;i<r.meshes.length;i++){var o=r.meshes[i];void 0!==o.indices&&(s+=o.indices.length)}var l=0;for(i=0;i<t.length;i++)l=Math.max(l,t[i].numVertices);return s>0&&(l>65535&&this._device.extUintElement?(n=new ct(this._device,2,s),a=new Uint32Array(n.lock())):(n=new ct(this._device,1,s),a=new Uint16Array(n.lock()))),{buffer:n,data:a}},_parseMeshes:function(e,t,i,r,n,a){var s,o=e.model,l=[],c=0;for(s=0;s<o.meshes.length;s++){var f=o.meshes[s],h=f.aabb,u=h.min,d=h.max,p=new W(new I(.5*(d[0]+u[0]),.5*(d[1]+u[1]),.5*(d[2]+u[2])),new I(.5*(d[0]-u[0]),.5*(d[1]-u[1]),.5*(d[2]-u[2]))),_=void 0!==f.indices,m=new dt(this._device);m.vertexBuffer=r[f.vertices],m.indexBuffer[0]=_?n:null,m.primitive[0].type=Is[f.type],m.primitive[0].base=_?f.base+c:f.base,m.primitive[0].count=f.count,m.primitive[0].indexed=_,m.skin=void 0!==f.skin?t[f.skin]:null,m.morph=void 0!==f.morph?i[f.morph]:null,m.aabb=p,_&&(a.set(f.indices,c),c+=f.indices.length),l.push(m)}return null!==n&&n.unlock(),l},_parseMeshInstances:function(e,t,i,r,n,a,s){var o,l=e.model,c=[];for(o=0;o<l.meshInstances.length;o++){var f=l.meshInstances[o],h=t[f.node],u=i[f.mesh],d=new bt(h,u,this._defaultMaterial);if(u.skin){var p=r.indexOf(u.skin);d.skinInstance=n[p]}if(u.morph){var _=a.indexOf(u.morph);d.morphInstance=s[_]}c.push(d)}return c}}),Object.assign(Ns.prototype,{load:function(e,t){"string"===typeof e&&(e={load:e,original:e});var i={retry:this.retryRequests};e.load.startsWith("blob:")&&(".glb"===f.getExtension(e.original).toLowerCase()?i.responseType=w.ResponseType.ARRAY_BUFFER:i.responseType=w.ResponseType.JSON),E.get(e.load,i,(function(i,r){t&&(i?t("Error loading model: "+e.original+" ["+i+"]"):t(null,r))}))},open:function(e,t){for(var i=0;i<this._parsers.length;i++){var r=this._parsers[i];if(r.decider(e,t))return r.parser.parse(t)}return null},patch:function(e,t){if(e.resource){var i=e.data,r=this;e.resource.meshInstances.forEach((function(n,a){if(i.mapping){var s=function e(i){i.resource?n.material=i.resource:(i.once("load",e),t.load(i)),i.once("remove",(function(e){n.material===e.resource&&(n.material=r._defaultMaterial)}))};if(!i.mapping[a])return void(n.material=r._defaultMaterial);var o,l=i.mapping[a].material,c=i.mapping[a].path;if(void 0!==l)l?(o=t.get(l))?s(o):t.once("add:"+l,s):n.material=r._defaultMaterial;else if(c){var f=e.getAbsoluteUrl(i.mapping[a].path);(o=t.getByUrl(f))?s(o):t.once("add:url:"+f,s)}}}))}},addParser:function(e,t){this._parsers.push({parser:e,decider:t})}}),Object.assign(Bs.prototype,{addHandler:function(e,t){this._handlers[e]=t,t._loader=this},removeHandler:function(e){delete this._handlers[e]},getHandler:function(e){return this._handlers[e]},load:function(e,t,i,r){var n=this._handlers[t];if(n)if(e){var a=e+t;if(void 0!==this._cache[a])i(null,this._cache[a]);else if(this._requests[a])this._requests[a].push(i);else{this._requests[a]=[i];var s=this,o=function(e,t){e?s._onFailure(a,e):n.load(t,(function(e,i,o){if(s._requests[a])if(e)s._onFailure(a,e);else try{s._onSuccess(a,n.open(t.original,i,r),o)}catch(Zp){s._onFailure(a,Zp)}}),r)},l=e.split("?")[0];if(this._app.enableBundles&&this._app.bundles.hasUrl(l)){if(!this._app.bundles.canLoadUrl(l))return void o("Bundle for "+e+" not loaded yet");this._app.bundles.loadUrl(l,(function(e,t){o(e,{load:t,original:l})}))}else o(null,{load:e,original:r&&r.getPreferredFile().filename||e})}}else this._loadNull(n,i,r);else i("No handler for asset type: "+t)},_loadNull:function(e,t,i){e.load(null,(function(r,n,a){if(r)t(r);else try{t(null,e.open(null,n,i),a)}catch(Zp){t(Zp)}}),i)},_onSuccess:function(e,t,i){this._cache[e]=t;for(var r=0;r<this._requests[e].length;r++)this._requests[e][r](null,t,i);delete this._requests[e]},_onFailure:function(e,t){if(console.error(t),this._requests[e]){for(var i=0;i<this._requests[e].length;i++)this._requests[e][i](t);delete this._requests[e]}},open:function(e,t){var i=this._handlers[e];return i?i.open(null,t):(console.warn("No resource handler found for: "+e),t)},patch:function(e,t){var i=this._handlers[e.type];i?i.patch&&i.patch(e,t):console.warn("No resource handler found for: "+e.type)},clearCache:function(e,t){delete this._cache[e+t]},getFromCache:function(e,t){if(this._cache[e+t])return this._cache[e+t]},enableRetry:function(){for(var e in this._handlers)this._handlers[e].retryRequests=!0},disableRetry:function(){for(var e in this._handlers)this._handlers[e].retryRequests=!1},destroy:function(){this._handlers={},this._requests={},this._cache={}}}),Object.assign(Ls.prototype,{load:function(e,t){"string"===typeof e&&(e={load:e,original:e});var i=this._app.assets;E.get(e.load,{retry:this.retryRequests},(function(r,n){if(r){var a="Error while loading scene "+e.original;r.message?(a+=": "+r.message,r.stack&&(a+="\n"+r.stack)):a+=": "+r,t(a)}else hs.waitForTemplatesInScene(n,i,t)}))},open:function(e,t){this._app.systems.script.preloading=!0;var i=new ms(this._app,!1).parse(t),r=this._app.scene;return r.root=i,this._app.applySceneSettings(t.settings),this._app.systems.script.preloading=!1,r},patch:function(e,t){}}),Object.assign(Us.prototype,{load:function(e,t){"string"===typeof e&&(e={load:e,original:e}),E.get(e.load,{retry:this.retryRequests},(function(i,r){if(i){var n="Error while loading scene settings "+e.original;i.message?(n+=": "+i.message,i.stack&&(n+="\n"+i.stack)):n+=": "+i,t(n)}else t(null,r)}))},open:function(e,t){return t.settings}});var Vs=!1,zs=!1,js={app:null,create:function(e,t){if(Vs){var i=t(js.app);i._pcScriptName=e,Ws._push(i),this.fire("created",e,t)}},attribute:function(e,t,i,r){},createLoadingScreen:function(e){zs||(zs=!0,e(Au.getApplication()))}};function Ws(e){this._app=e,this._scripts={},this._cache={}}function Gs(){this.retryRequests=!1}Object.defineProperty(js,"legacy",{get:function(){return Vs},set:function(e){Vs=e}}),l.attach(js),Ws._types=[],Ws._push=function(e){js.legacy&&Ws._types.length>0?console.assert("Script Ordering Error. Contact support@playcanvas.com"):Ws._types.push(e)},Object.assign(Ws.prototype,{load:function(e,t){"string"===typeof e&&(e={load:e,original:e});var i=this;js.app=this._app,this._loadScript(e.load,function(e,r,n){if(e)t(e);else if(js.legacy){var a=null;Ws._types.length&&(a=Ws._types.pop()),a?this._scripts[r]=a:a=null,t(null,a,n)}else{for(var s={},o=0;o<Ws._types.length;o++)s[Ws._types[o].name]=Ws._types[o];Ws._types.length=0,t(null,s,n),delete i._loader._cache[r+"script"]}}.bind(this))},open:function(e,t){return t},patch:function(e,t){},_loadScript:function(e,t){var i=document.head,r=document.createElement("script");this._cache[e]=r,r.async=!1,r.addEventListener("error",(function(e){t("Script: "+e.target.src+" failed to load")}),!1);var n=!1;r.onload=r.onreadystatechange=function(){n||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(n=!0,t(null,e,r))},r.src=e,i.appendChild(r)}}),Object.assign(Gs.prototype,{load:function(e,t){"string"===typeof e&&(e={load:e,original:e}),E.get(e.load,{retry:this.retryRequests},(function(i,r){i?t("Error loading shader resource: "+e.original+" ["+i+"]"):t(null,r)}))},open:function(e,t){return t},patch:function(e,t){}});var Hs=[0,0,1,0,0,1,0,0,1,0,0,1],Ys=[0,1,3,2,3,1];function Xs(e,t){o.call(this),this._device=e,this._pixelsPerUnit=t&&void 0!==t.pixelsPerUnit?t.pixelsPerUnit:1,this._renderMode=t&&void 0!==t.renderMode?t.renderMode:0,this._atlas=t&&void 0!==t.atlas?t.atlas:null,this._frameKeys=t&&void 0!==t.frameKeys?t.frameKeys:null,this._meshes=[],this._updatingProperties=!1,this._meshesDirty=!1,this._atlas&&this._frameKeys&&this._createMeshes()}function Zs(e,t){this._assets=e,this._device=t,this.retryRequests=!1}function Qs(e){this.resource&&(this.resource.atlas=e.resource)}function Js(e){this.registry.load(e)}function qs(e,t){this._app=e,this._data=t,this._templateRoot=null}function Ks(e){this._app=e}function $s(){this.retryRequests=!1}function eo(){o.call(this),this._texture=null,this._frames=null}Xs.prototype=Object.create(o.prototype),Xs.prototype.constructor=Xs,Xs.prototype._createMeshes=function(){var e,t;for(e=0,t=this._meshes.length;e<t;e++){var i=this._meshes[e];if(i){i.vertexBuffer.destroy();for(var r=0,n=i.indexBuffer.length;r<n;r++)i.indexBuffer[r].destroy()}}var a=this._frameKeys.length;this._meshes=new Array(a);var s=1===this.renderMode||2===this._renderMode?this._create9SliceMesh:this._createSimpleMesh;for(e=0;e<a;e++){var o=this._atlas.frames[this._frameKeys[e]];this._meshes[e]=o?s.call(this,o):null}this.fire("set:meshes")},Xs.prototype._createSimpleMesh=function(e){var t=e.rect,i=this._atlas.texture.width,r=this._atlas.texture.height,n=t.z/this._pixelsPerUnit,a=t.w/this._pixelsPerUnit,s=e.pivot.x,o=e.pivot.y,l=[-s*n,-o*a,0,(1-s)*n,-o*a,0,(1-s)*n,(1-o)*a,0,-s*n,(1-o)*a,0],c=t.x/i,f=t.y/r,h=(t.x+t.z)/i,u=(t.y+t.w)/r,d=[c,f,h,f,h,u,c,u];return gn(this._device,l,{uvs:d,normals:Hs,indices:Ys})},Xs.prototype._create9SliceMesh=function(){var e,t,i,r,n,a,s=O.ONE,o=[],l=[],c=[],f=[],h=0;for(e=0;e<=3;e++)for(n=0===e||3===e?0:1,t=0;t<=3;t++)i=-s.x+2*s.x*(e<=1?0:3)/3,r=-(-s.y+2*s.y*(t<=1?0:3)/3),a=0===t||3===t?0:1,o.push(-i,0,r),l.push(0,1,0),c.push(n,a),e<3&&t<3&&(f.push(h+3+1,h+1,h),f.push(h+3+1,h+3+2,h+1)),h++;var u={normals:l,uvs:c,indices:f};return gn(this._device,o,u)},Xs.prototype._onSetFrames=function(e){this._updatingProperties?this._meshesDirty=!0:this._createMeshes()},Xs.prototype._onFrameChanged=function(e,t){var i=this._frameKeys.indexOf(e);i<0||(t?0===this.renderMode&&(this._meshes[i]=this._createSimpleMesh(t)):this._meshes[i]=null,this.fire("set:meshes"))},Xs.prototype._onFrameRemoved=function(e){var t=this._frameKeys.indexOf(e);t<0||(this._meshes[t]=null,this.fire("set:meshes"))},Xs.prototype.startUpdate=function(){this._updatingProperties=!0,this._meshesDirty=!1},Xs.prototype.endUpdate=function(){this._updatingProperties=!1,this._meshesDirty&&this._atlas&&this._frameKeys&&this._createMeshes(),this._meshesDirty=!1},Xs.prototype.destroy=function(){var e,t;for(e=0,t=this._meshes.length;e<t;e++){var i=this._meshes[e];if(i){i.vertexBuffer.destroy();for(var r=0,n=i.indexBuffer.length;r<n;r++)i.indexBuffer[r].destroy()}}this._meshes.length=0},Object.defineProperty(Xs.prototype,"frameKeys",{get:function(){return this._frameKeys},set:function(e){this._frameKeys=e,this._atlas&&this._frameKeys&&(this._updatingProperties?this._meshesDirty=!0:this._createMeshes()),this.fire("set:frameKeys",e)}}),Object.defineProperty(Xs.prototype,"atlas",{get:function(){return this._atlas},set:function(e){e!==this._atlas&&(this._atlas&&(this._atlas.off("set:frames",this._onSetFrames,this),this._atlas.off("set:frame",this._onFrameChanged,this),this._atlas.off("remove:frame",this._onFrameRemoved,this)),this._atlas=e,this._atlas&&this._frameKeys&&(this._atlas.on("set:frames",this._onSetFrames,this),this._atlas.on("set:frame",this._onFrameChanged,this),this._atlas.on("remove:frame",this._onFrameRemoved,this),this._updatingProperties?this._meshesDirty=!0:this._createMeshes()),this.fire("set:atlas",e))}}),Object.defineProperty(Xs.prototype,"pixelsPerUnit",{get:function(){return this._pixelsPerUnit},set:function(e){this._pixelsPerUnit!==e&&(this._pixelsPerUnit=e,this.fire("set:pixelsPerUnit",e),this._atlas&&this._frameKeys&&0===this.renderMode&&(this._updatingProperties?this._meshesDirty=!0:this._createMeshes()))}}),Object.defineProperty(Xs.prototype,"renderMode",{get:function(){return this._renderMode},set:function(e){if(this._renderMode!==e){var t=this._renderMode;this._renderMode=e,this.fire("set:renderMode",e),0!==t&&0!==e||this._atlas&&this._frameKeys&&(this._updatingProperties?this._meshesDirty=!0:this._createMeshes())}}}),Object.defineProperty(Xs.prototype,"meshes",{get:function(){return this._meshes}}),Object.assign(Zs.prototype,{load:function(e,t){"string"===typeof e&&(e={load:e,original:e}),".json"===f.getExtension(e.original)&&E.get(e.load,{retry:this.retryRequests},(function(e,i){e?t(e):t(null,i)}))},open:function(e,t){var i=new Xs(this._device);return e&&(i.__data=t),i},patch:function(e,t){var i=e.resource;if(i.__data&&(e.data.pixelsPerUnit=i.__data.pixelsPerUnit,e.data.renderMode=i.__data.renderMode,e.data.frameKeys=i.__data.frameKeys,i.__data.textureAtlasAsset)){var r=t.getByUrl(i.__data.textureAtlasAsset);r?e.data.textureAtlasAsset=r.id:console.warn("Could not find textureatlas with url: "+i.__data.textureAtlasAsset)}i.startUpdate(),i.renderMode=e.data.renderMode,i.pixelsPerUnit=e.data.pixelsPerUnit,i.frameKeys=e.data.frameKeys,this._updateAtlas(e),i.endUpdate(),e.off("change",this._onAssetChange,this),e.on("change",this._onAssetChange,this)},_updateAtlas:function(e){var t=e.resource;if(e.data.textureAtlasAsset){this._assets.off("load:"+e.data.textureAtlasAsset,Qs,e),this._assets.on("load:"+e.data.textureAtlasAsset,Qs,e);var i=this._assets.get(e.data.textureAtlasAsset);i&&i.resource?t.atlas=i.resource:i?this._assets.load(i):(this._assets.off("add:"+e.data.textureAtlasAsset,Js,e),this._assets.on("add:"+e.data.textureAtlasAsset,Js,e))}else t.atlas=null},_onAssetChange:function(e,t,i,r){"data"===t&&i&&i.textureAtlasAsset&&r&&i.textureAtlasAsset!==r.textureAtlasAsset&&(this._assets.off("load:"+r.textureAtlasAsset,Qs,e),this._assets.off("add:"+r.textureAtlasAsset,Js,e))}}),qs.prototype.instantiate=function(){return this._templateRoot||this._parseTemplate(),this._templateRoot.clone()},qs.prototype._parseTemplate=function(){var e=new ms(this._app,!0);this._templateRoot=e.parse(this._data)},Object.assign(Ks.prototype,{load:function(e,t){"string"===typeof e&&(e={load:e,original:e});var i=this._app.assets;E.get(e.load,(function(r,n){r?t("Error requesting template: "+e.original):hs.waitForTemplateAssets(n.entities,i,t,n)}))},open:function(e,t){return new qs(this._app,t)}}),Object.assign($s.prototype,{load:function(e,t){"string"===typeof e&&(e={load:e,original:e}),E.get(e.load,{retry:this.retryRequests},(function(i,r){i?t("Error loading text resource: "+e.original+" ["+i+"]"):t(null,r)}))},open:function(e,t){return t},patch:function(e,t){}}),eo.prototype=Object.create(o.prototype),eo.prototype.constructor=eo,eo.prototype.setFrame=function(e,t){var i=this._frames[e];i?(i.rect.copy(t.rect),i.pivot.copy(t.pivot),i.border.copy(t.border)):(i={rect:t.rect.clone(),pivot:t.pivot.clone(),border:t.border.clone()},this._frames[e]=i),this.fire("set:frame",e.toString(),i)},eo.prototype.removeFrame=function(e){var t=this._frames[e];t&&(delete this._frames[e],this.fire("remove:frame",e.toString(),t))},eo.prototype.destroy=function(){this._texture&&this._texture.destroy()},Object.defineProperty(eo.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this.fire("set:texture",e)}}),Object.defineProperty(eo.prototype,"frames",{get:function(){return this._frames},set:function(e){this._frames=e,this.fire("set:frames",e)}});var to={repeat:0,clamp:1,mirror:2},io={nearest:0,linear:1,nearest_mip_nearest:2,linear_mip_nearest:4,nearest_mip_linear:3,linear_mip_linear:5},ro=/^data\.frames\.(\d+)$/;function no(e){this._loader=e,this.retryRequests=!1}function ao(){var e=0,t=1,i=2,r=3,n=8,a=9,s=10,o=11,l=12,c=13,f=14,h=16,u={astc:s,dxt:i,etc2:e,etc1:e,pvr:n,atc:o,none:f},d={astc:s,dxt:r,etc2:t,etc1:h,pvr:a,atc:l,none:h},p={};p[e]=21,p[t]=23,p[i]=8,p[r]=10,p[n]=26,p[a]=27,p[s]=28,p[o]=29,p[l]=30,p[c]=7,p[f]=3,p[h]=5;var _="undefined"!==typeof performance,m=function(e){for(var t=function(e,t){var i=e*(2/255)-1,r=t*(2/255)-1,n=Math.sqrt(1-Math.min(1,i*i+r*r));return Math.max(0,Math.min(255,Math.floor(.5*(n+1)*255)))},i=0;i<e.length;i+=4){var r=e[i+3],n=e[i+1];e[i+0]=r,e[i+2]=t(r,n),e[i+3]=255}return e},b=function(e){for(var t=new Uint16Array(e.length/4),i=0;i<e.length;i+=4){var r=e[i+0],n=e[i+1],a=e[i+2];t[i/4]=(248&r)<<8|(252&n)<<3|a>>3}return t},A=null,v=[],y=function(e,t,i,r){try{var s=function(e,t,i,r,s){var o=_?performance.now():0,l=new e.BasisFile(new Uint8Array(r)),A=l.getImageWidth(0,0),v=l.getImageHeight(0,0),y=l.getNumImages(),g=l.getNumLevels(0),k=!!l.getHasAlpha();if(!A||!v||!y||!g)throw l.close(),l.delete(),new Error("Invalid image dimensions url="+t+" width="+A+" height="+v+" images="+y+" levels="+g);var x,S=k?d[i]:u[i];if(S!==n&&S!==a||0===(A&A-1)&&A===v||(S=S===n?f:c),s&&s.unswizzleGGGR&&(S=c),!l.startTranscoding())throw l.close(),l.delete(),new Error("Failed to start transcoding url="+t);for(var T=[],w=0;w<g;++w){var E=l.getImageTranscodedSizeInBytes(0,w,S),M=new Uint8Array(E);if(!l.transcodeImage(M,0,w,S,1,0))throw l.close(),l.delete(),new Error("Failed to transcode image url="+t);if(S===f||S===h){var P=new Uint16Array(E/2);for(x=0;x<E/2;++x)P[x]=M[2*x]+256*M[2*x+1];M=P}T.push(M)}if(l.close(),l.delete(),s&&s.unswizzleGGGR)for(S=f,x=0;x<T.length;++x)T[x]=b(m(T[x]));return{format:p[S],width:A+3&-4,height:v+3&-4,levels:T,cubemap:!1,mipmaps:!0,transcodeTime:_?performance.now()-o:0,url:t}}(A,e,t,i,r);s.levels=s.levels.map((function(e){return e.buffer})),self.postMessage({url:e,data:s},s.levels)}catch(o){self.postMessage({url:e.toString(),err:o.toString()})}};self.onmessage=function(e){var t,i=e.data;switch(i.type){case"init":t=i.module,self.BASIS(t?{instantiateWasm:function(e,i){return WebAssembly.instantiate(t,e).then((function(e){i(e)})),{}}}:null).then((function(e){(A=e).initializeBasis();for(var t=0;t<v.length;++t)y(v[t].url,v[t].format,v[t].data,v[t].options);v=[]}));break;case"transcode":A?y(i.url,i.format,i.data,i.options):v.push(i)}}}Object.assign(no.prototype,{load:function(e,t){"string"===typeof e&&(e={load:e,original:e});var i=this,r=this._loader.getHandler("texture");if(".json"!==f.getExtension(e.original))return r.load(e,t);E.get(e.load,{retry:this.retryRequests},(function(r,n){if(r)t(r);else{var a=e.original.replace(".json",".png");i._loader.load(a,"texture",(function(e,i){e?t(e):t(null,{data:n,texture:i})}))}}))},open:function(e,t){var i=new eo;if(t.texture&&t.data)i.texture=t.texture,i.__data=t.data;else{var r=this._loader.getHandler("texture").open(e,t);if(!r)return null;i.texture=r}return i},patch:function(e,t){e.resource.__data&&(void 0!==e.resource.__data.minfilter&&(e.data.minfilter=e.resource.__data.minfilter),void 0!==e.resource.__data.magfilter&&(e.data.magfilter=e.resource.__data.magfilter),void 0!==e.resource.__data.addressu&&(e.data.addressu=e.resource.__data.addressu),void 0!==e.resource.__data.addressv&&(e.data.addressv=e.resource.__data.addressv),void 0!==e.resource.__data.mipmaps&&(e.data.mipmaps=e.resource.__data.mipmaps),void 0!==e.resource.__data.anisotropy&&(e.data.anisotropy=e.resource.__data.anisotropy),void 0!==e.resource.__data.rgbm&&(e.data.rgbm=!!e.resource.__data.rgbm),e.data.frames=e.resource.__data.frames,delete e.resource.__data);var i=e.resource.texture;if(i&&(i.name=e.name,e.data.hasOwnProperty("minfilter")&&i.minFilter!==io[e.data.minfilter]&&(i.minFilter=io[e.data.minfilter]),e.data.hasOwnProperty("magfilter")&&i.magFilter!==io[e.data.magfilter]&&(i.magFilter=io[e.data.magfilter]),e.data.hasOwnProperty("addressu")&&i.addressU!==to[e.data.addressu]&&(i.addressU=to[e.data.addressu]),e.data.hasOwnProperty("addressv")&&i.addressV!==to[e.data.addressv]&&(i.addressV=to[e.data.addressv]),e.data.hasOwnProperty("mipmaps")&&i.mipmaps!==e.data.mipmaps&&(i.mipmaps=e.data.mipmaps),e.data.hasOwnProperty("anisotropy")&&i.anisotropy!==e.data.anisotropy&&(i.anisotropy=e.data.anisotropy),e.data.hasOwnProperty("rgbm"))){var r=e.data.rgbm?"rgbm":"default";i.type!==r&&(i.type=r)}e.resource.texture=i;var n={};for(var a in e.data.frames){var s=e.data.frames[a];n[a]={rect:new D(s.rect),pivot:new O(s.pivot),border:new D(s.border)}}e.resource.frames=n,e.off("change",this._onAssetChange,this),e.on("change",this._onAssetChange,this)},_onAssetChange:function(e,t,i){var r;if("data"===t||"data.frames"===t){var n={};for(var a in i.frames)r=i.frames[a],n[a]={rect:new D(r.rect),pivot:new O(r.pivot),border:new D(r.border)};e.resource.frames=n}else{var s=t.match(ro);if(s){var o=s[1];i?(e.resource.frames[o]?((r=e.resource.frames[o]).rect.set(i.rect[0],i.rect[1],i.rect[2],i.rect[3]),r.pivot.set(i.pivot[0],i.pivot[1]),r.border.set(i.border[0],i.border[1],i.border[2],i.border[3])):e.resource.frames[o]={rect:new D(i.rect),pivot:new O(i.pivot),border:new D(i.border)},e.resource.fire("set:frame",o,e.resource.frames[o])):e.resource.frames[o]&&(delete e.resource.frames[o],e.resource.fire("remove:frame",o))}}}});var so=function(){try{if("object"===typeof WebAssembly&&"function"===typeof WebAssembly.instantiate){var e=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof WebAssembly.Module)return new WebAssembly.Instance(e)instanceof WebAssembly.Instance}}catch(Zp){}return!1}(),oo=!1,lo=null,co={},fo=null,ho=[],uo=null;function po(){var e;return fo||(e=Au.getApplication().graphicsDevice,fo=e.extCompressedTextureASTC?"astc":e.extCompressedTextureS3TC?"dxt":e.extCompressedTextureETC?"etc2":e.extCompressedTextureETC1?"etc1":e.extCompressedTexturePVRTC?"pvr":e.extCompressedTextureATC?"atc":"none"),fo}function _o(e){var t,i=e.data.url,r=e.data.err,n=e.data.data,a=co[i];if(a)if(r)for(t=0;t<a.length;++t)a[t](r);else{for(3===n.format||5===n.format?n.levels=n.levels.map((function(e){return new Uint16Array(e)})):n.levels=n.levels.map((function(e){return new Uint8Array(e)})),t=0;t<a.length;++t)a[t](null,n);delete co[i]}else console.error("internal logical error encountered in basis transcoder")}function mo(e,t,i,r){co.hasOwnProperty(e)?co[e].push(i):(co[e]=[i],lo.postMessage({type:"transcode",url:e,format:po(),data:t,options:r},[t]))}function bo(e,t,i){var r=["/* basis.js */",e,"/* mappings */","var PIXELFORMAT_ETC1 = 21;","var PIXELFORMAT_ETC2_RGBA = 23;","var PIXELFORMAT_DXT1 = 8;","var PIXELFORMAT_DXT5 = 10;","var PIXELFORMAT_PVRTC_4BPP_RGB_1 = 26;","var PIXELFORMAT_PVRTC_4BPP_RGBA_1 = 27;","var PIXELFORMAT_ASTC_4x4 = 28;","var PIXELFORMAT_ATC_RGB = 29;","var PIXELFORMAT_ATC_RGBA = 30;","var PIXELFORMAT_R8_G8_B8_A8 = 7;","var PIXELFORMAT_R5_G6_B5 = 3;","var PIXELFORMAT_R4_G4_B4_A4 = 5;","","/* worker */","("+ao.toString()+")()\n\n"].join("\n"),n=new Blob([r],{type:"application/javascript"}),a=URL.createObjectURL(n);(lo=new Worker(a)).addEventListener("message",_o),lo.postMessage({type:"init",module:t}),i&&i();for(var s=0;s<ho.length;++s){var o=ho[s];mo(o.url,o.data,o.callback,o.options)}}function Ao(e,t,i,r){if(oo&&console.warn("basis module is being downloaded more than once"),oo=!0,so){var n=null,a=null,s=function(){n&&a&&bo(n,a,r)},o=function(){E.get(t,{cache:!0,responseType:"arraybuffer",retry:!1},(function(e,t){t&&WebAssembly.compile(t).then((function(e){a=e,s()}))}))};WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(t)).then((function(e){a=e,s()})).catch((function(e){console.error(e),console.warn("compileStreaming() failed for "+t+", falling back to arraybuffer download..."),o()})):o(),E.get(e,{cache:!0,responseType:"text",retry:!1},(function(e,t){n=t,s()}))}else E.get(i,{cache:!0,responseType:"text",retry:!1},(function(e,t){t&&bo(t,null,r)}))}function vo(e){if(uo)Ao(uo.glueUrl,uo.wasmUrl,uo.fallbackUrl,e);else{var t=((window.config?window.config.wasmModules:window.PRELOAD_MODULES)||[]).find((function(e){return"BASIS"===e.moduleName}));if(t){var i=window.ASSET_PREFIX?window.ASSET_PREFIX:"";Ao(i+t.glueUrl,i+t.wasmUrl,i+t.fallbackUrl,e)}}}function yo(e,t,i,r){lo?mo(e,t,i,r):(ho.push({url:e,data:t,callback:i,options:r}),oo||vo())}function go(e,t){this.retryRequests=!!t}function ko(e,t){this.crossOrigin=e.prefix?"anonymous":null,this.retryRequests=!!t,this.useImageBitmap=!1}Object.assign(go.prototype,{load:function(e,t,i){var r={cache:!0,responseType:"arraybuffer",retry:this.retryRequests};E.get(e.load,r,(function(r,n){if(r)t(r,n);else{var a="pvr"===po()&&i&&i.file&&i.file.variants&&i.file.variants.basis&&0!==(8&i.file.variants.basis.opt);a&&(i.file.variants.basis.opt&=-9),yo(e.load,n,t,{unswizzleGGGR:a})}}))},open:function(e,t,i){var r=new nt(i,{name:e,addressU:t.cubemap?1:0,addressV:t.cubemap?1:0,width:t.width,height:t.height,format:t.format,cubemap:t.cubemap,levels:t.levels});return r.upload(),r}}),Object.assign(ko.prototype,{load:function(e,t,i){var r;i&&i.options&&i.options.hasOwnProperty("crossOrigin")?r=i.options.crossOrigin:oa.test(e.load)&&(r=this.crossOrigin),this.useImageBitmap?this._loadImageBitmap(e.load,e.original,r,t):this._loadImage(e.load,e.original,r,t)},open:function(e,t,i){var r=f.getExtension(e).toLowerCase(),n=".jpg"===r||".jpeg"===r?6:7,a=new nt(i,{name:e,width:t.width,height:t.height,format:n});return a.setSource(t),a},_loadImage:function(e,t,i,r){var n=new Image;i&&(n.crossOrigin=i);var a,s=0,o=this.retryRequests;n.onload=function(){r(null,n)},n.onerror=function(){if(!a)if(o&&++s<=5){var i=100*Math.pow(2,s);console.log("Error loading Texture from: '"+t+"' - Retrying in "+i+"ms...");var l=e.indexOf("?")>=0?"&":"?";a=setTimeout((function(){n.src=e+l+"retry="+Date.now(),a=null}),i)}else r("Error loading Texture from: '"+t+"'")},n.src=e},_loadImageBitmap:function(e,t,i,r){var n={cache:!0,responseType:"blob",retry:this.retryRequests};E.get(e,n,(function(e,t){e?r(e):createImageBitmap(t,{premultiplyAlpha:"none",imageOrientation:"flipY"}).then((function(e){r(null,e)})).catch((function(e){r(e)}))}))}});var xo=[1481919403,3140563232,169478669],So={33776:8,33778:9,33779:10,36196:21,37492:22,37496:23,35840:26,35841:24,35842:27,35843:25};function To(e,t){this.retryRequests=!!t}function wo(e,t){this.retryRequests=!!t}Object.assign(To.prototype,{load:function(e,t,i){var r={cache:!0,responseType:"arraybuffer",retry:this.retryRequests};E.get(e.load,r,t)},open:function(e,t,i){var r=this.parse(t);if(!r)return null;var n=new nt(i,{name:e,addressU:r.cubemap?1:0,addressV:r.cubemap?1:0,width:r.width,height:r.height,format:r.format,cubemap:r.cubemap,levels:r.levels});return n.upload(),n},parse:function(e){var t=new Uint32Array(e,0,16);if(xo[0]!==t[0]||xo[1]!==t[1]||xo[2]!==t[2])return null;var i={endianness:t[3],glType:t[4],glTypeSize:t[5],glFormat:t[6],glInternalFormat:t[7],glBaseInternalFormat:t[8],pixelWidth:t[9],pixelHeight:t[10],pixelDepth:t[11],numberOfArrayElements:t[12],numberOfFaces:t[13],numberOfMipmapLevels:t[14],bytesOfKeyValueData:t[15]};if(i.pixelDepth>1)return null;if(i.numberOfArrayElements>1)return null;if(0!==i.glFormat)return null;if(!So[i.glInternalFormat])return null;for(var r=64+i.bytesOfKeyValueData,n=[],a=!1,s=0;s<(i.numberOfMipmapLevels||1);s++){var o=new Uint32Array(e.slice(r,r+4))[0];r+=4;var l=o/(i.numberOfFaces||1);i.numberOfFaces>1&&(a=!0,n.push([]));for(var c=0;c<i.numberOfFaces;c++){var f=new Uint8Array(e,r,l);i.numberOfFaces>1?n[s].push(f):n.push(f),r+=l}r+=3-(r+3)%4}return{format:So[i.glInternalFormat],width:i.pixelWidth,height:i.pixelHeight,levels:n,cubemap:a}}}),Object.assign(wo.prototype,{load:function(e,t,i){var r={cache:!0,responseType:"arraybuffer",retry:this.retryRequests};E.get(e.load,r,t)},open:function(e,t,i){var r,n=new Uint32Array(t,0,32),a=n[4],s=n[3],o=Math.max(n[7],1),l=4===n[20],c=n[21],f=n[22],h=65024===n[28],u=!1,d=!1,p=!1,_=!1,m=!1,b=null;if(l?827611204===c?(b=8,u=!0):894720068===c?(b=10,u=!0):116===c?(b=14,d=!0):826496069===c?(b=21,u=!0,p=!0):825438800===c||825504336===c?(b=825438800===c?24:25,u=!0,_=!0):825439312!==c&&825504848!==c||(b=825439312===c?26:27,u=!0,m=!0):32===f&&(b=7),!b)return(r=new nt(i,{width:4,height:4,format:6})).name="dds-legacy-empty",r;r=new nt(i,{name:e,addressU:h?1:0,addressV:h?1:0,width:a,height:s,format:b,cubemap:h});for(var A,v=128,y=h?6:1,g=827611204===c?8:16,k=0;k<y;k++)for(var x=a,S=s,T=0;T<o;T++){A=u?p?Math.floor((x+3)/4)*Math.floor((S+3)/4)*8:_?Math.max(x,16)*Math.max(S,8)/4:m?Math.max(x,8)*Math.max(S,8)/2:Math.floor((x+4-1)/4)*Math.floor((S+4-1)/4)*g:x*S*4;var w=d?new Float32Array(t,v,A):new Uint8Array(t,v,A);h?(r._levels[T]||(r._levels[T]=[]),r._levels[T][k]=w):r._levels[T]=w,v+=d?4*A:A,x=Math.max(.5*x,1),S=Math.max(.5*S,1)}return r.upload(),r}});var Eo={repeat:0,clamp:1,mirror:2},Mo={nearest:0,linear:1,nearest_mip_nearest:2,linear_mip_nearest:4,nearest_mip_linear:3,linear_mip_linear:5},Po={default:"default",rgbm:"rgbm",rgbe:"rgbe",swizzleGGGR:"swizzleGGGR"};function Ro(){}function Co(e,t,i){this._device=e,this._assets=t,this._loader=i,this.imgParser=new ko(t,!1),this.parsers={dds:new wo(t,!1),ktx:new To(t,!1),basis:new go(t,!1)}}function Oo(e){o.call(this),this._loader=e,this._assets=[],this._cache={},this._names={},this._tags=new g("_id"),this._urls={},this.prefix=null}function Io(e){this._assets=e,this._bundleAssets={},this._assetsInBundles={},this._urlsInBundles={},this._fileRequests={},this._assets.on("add",this._onAssetAdded,this),this._assets.on("remove",this._onAssetRemoved,this)}function Do(e){o.call(this),this.app=e,this._scripts={},this._list=[]}function Fo(e,t){o.call(this);var i=this;this._app=e,this._device=e.graphicsDevice,this.id=t.displayId,this._frameData=null,window.VRFrameData&&(this._frameData=new window.VRFrameData),this.display=t,this._camera=null,this.sitToStandInv=new N,this.leftView=new N,this.leftProj=new N,this.leftViewInv=new N,this.leftPos=new I,this.rightView=new N,this.rightProj=new N,this.rightViewInv=new N,this.rightPos=new I,this.combinedPos=new I,this.combinedView=new N,this.combinedProj=new N,this.combinedViewInv=new N,this.combinedFov=0,this.combinedAspect=0,this.presenting=!1,i._presentChange=function(e){if((e.display?e.display:e.detail&&e.detail.display?e.detail.display:e.detail&&e.detail.vrdisplay?e.detail.vrdisplay:i.display)===i.display){if(i.presenting=i.display&&i.display.isPresenting,i.presenting){var t=i.display.getEyeParameters("left"),r=i.display.getEyeParameters("right"),n=2*Math.max(t.renderWidth,r.renderWidth),a=Math.max(t.renderHeight,r.renderHeight);i._app.graphicsDevice.setResolution(n,a),i._app._allowResize=!1}else i._app.setCanvasResolution("AUTO"),i._app._allowResize=!0;i.fire("beforepresentchange",i),i.fire("presentchange",i)}},window.addEventListener("vrdisplaypresentchange",i._presentChange,!1)}function No(e){o.call(this);var t=this;this.isSupported=No.isSupported,this._index={},this.displays=[],this.display=null,this._app=e,this._onDisplayConnect=this._onDisplayConnect.bind(this),this._onDisplayDisconnect=this._onDisplayDisconnect.bind(this),t._attach(),this._getDisplays((function(e,i){if(e)t.fire("error",e);else{for(var r=0;r<i.length;r++)t._addDisplay(i[r]);t.fire("ready",t.displays)}}))}Object.assign(Ro.prototype,{load:function(e,t,i){throw new Error("not implemented")},open:function(e,t,i){throw new Error("not implemented")}}),Object.defineProperties(Co.prototype,{crossOrigin:{get:function(){return this.imgParser.crossOrigin},set:function(e){this.imgParser.crossOrigin=e}},retryRequests:{get:function(){return this.imgParser.retryRequests},set:function(e){for(var t in this.imgParser.retryRequests=e,this.parsers)this.parsers.hasOwnProperty(t)&&(this.parsers[t].retryRequests=e)}}}),Object.assign(Co.prototype,{_getUrlWithoutParams:function(e){return e.indexOf("?")>=0?e.split("?")[0]:e},_getParser:function(e){var t=f.getExtension(this._getUrlWithoutParams(e)).toLowerCase().replace(".","");return this.parsers[t]||this.imgParser},load:function(e,t,i){"string"===typeof e&&(e={load:e,original:e}),this._getParser(e.original).load(e,t,i)},open:function(e,t,i){if(e){var r=this._getParser(e).open(e,t,this._device);return null===r?r=new nt(this._device,{width:4,height:4,format:6}):function(e){var t=Math.log2(Math.max(e._width,e._height))+1;if(!(7!==e._format&&14!==e._format||e._volume||e._compressed||1===e._levels.length||e._levels.length===t||(i=e._cubemap?e._levels[0][0]:e._levels[0],i instanceof HTMLCanvasElement||i instanceof HTMLImageElement||i instanceof HTMLVideoElement))){for(var i,r=function(e,t,i){for(var r=Math.max(1,e>>1),n=Math.max(1,t>>1),a=new i.constructor(r*n*4),s=Math.floor(e/r),o=Math.floor(t/n),l=s*o,c=0;c<n;++c)for(var f=0;f<r;++f)for(var h=0;h<4;++h){for(var u=0,d=0;d<o;++d)for(var p=0;p<s;++p)u+=i[4*(f*s+p+(c*o+d)*e)+h];a[4*(f+c*r)+h]=u/l}return a},n=e._levels.length;n<t;++n){var a=Math.max(1,e._width>>n-1),s=Math.max(1,e._height>>n-1);if(e._cubemap){for(var o=[],l=0;l<6;++l)o.push(r(a,s,e._levels[n-1][l]));e._levels.push(o)}else e._levels.push(r(a,s,e._levels[n-1]))}e._levelsUpdated=e._cubemap?[[!0,!0,!0,!0,!0,!0]]:[!0]}}(r),r}},patch:function(e,t){var i=e.resource;if(i){e.name&&e.name.length>0&&(i.name=e.name);var r=e.data;if(r.hasOwnProperty("minfilter")&&(i.minFilter=Mo[r.minfilter]),r.hasOwnProperty("magfilter")&&(i.magFilter=Mo[r.magfilter]),i.cubemap||(r.hasOwnProperty("addressu")&&(i.addressU=Eo[r.addressu]),r.hasOwnProperty("addressv")&&(i.addressV=Eo[r.addressv])),r.hasOwnProperty("mipmaps")&&(i.mipmaps=r.mipmaps),r.hasOwnProperty("anisotropy")&&(i.anisotropy=r.anisotropy),r.hasOwnProperty("flipY")&&(i.flipY=!!r.flipY),r.hasOwnProperty("type"))i.type=Po[r.type];else if(r.hasOwnProperty("rgbm")&&r.rgbm)i.type="rgbm";else if(e.file&&e.getPreferredFile){var n=e.getPreferredFile();n&&n.opt&&0!==(8&n.opt)&&(i.type="swizzleGGGR")}}}}),Oo.prototype=Object.create(o.prototype),Oo.prototype.constructor=Oo,Object.assign(Oo.prototype,{list:function(e){return e=e||{},this._assets.filter((function(t){var i=!0;return void 0!==e.preload&&(i=t.preload===e.preload),i}))},add:function(e){var t,i=this._assets.push(e)-1;this._cache[e.id]=i,this._names[e.name]||(this._names[e.name]=[]),this._names[e.name].push(i),e.file&&(t=e.file.url,this._urls[t]=i),e.registry=this,this._tags.addItem(e),e.tags.on("add",this._onTagAdd,this),e.tags.on("remove",this._onTagRemove,this),this.fire("add",e),this.fire("add:"+e.id,e),t&&this.fire("add:url:"+t,e),e.preload&&this.load(e)},remove:function(e){var t=this._cache[e.id],i=e.file?e.file.url:null;if(void 0!==t){this._assets.splice(t,1),delete this._cache[e.id],this._names={},this._urls=[];for(var r=0,n=this._assets.length;r<n;r++){var a=this._assets[r];this._cache[a.id]=r,this._names[a.name]||(this._names[a.name]=[]),this._names[a.name].push(r),a.file&&(this._urls[a.file.url]=r)}return this._tags.removeItem(e),e.tags.off("add",this._onTagAdd,this),e.tags.off("remove",this._onTagRemove,this),e.fire("remove",e),this.fire("remove",e),this.fire("remove:"+e.id,e),i&&this.fire("remove:url:"+i,e),!0}return!1},get:function(e){var t=this._cache[e];return this._assets[t]},getByUrl:function(e){var t=this._urls[e];return this._assets[t]},load:function(e){if(!e.loading&&!e.loaded){var t=this,i=e.getPreferredFile(),r=function(r){r instanceof Array?e.resources=r:e.resource=r,t._loader.patch(e,t),t.fire("load",e),t.fire("load:"+e.id,e),i&&i.url&&t.fire("load:url:"+i.url,e),e.fire("load",e)};if(i||"cubemap"===e.type)this.fire("load:start",e),this.fire("load:"+e.id+":start",e),e.loading=!0,t._loader.load(e.getFileUrl(),e.type,(function(i,n,a){if(e.loaded=!0,e.loading=!1,i)t.fire("error",i,e),t.fire("error:"+e.id,i,e),e.fire("error",i,e);else{if(!js.legacy&&"script"===e.type){var s=t._loader.getHandler("script");s._cache[e.id]&&s._cache[e.id].parentNode===document.head&&document.head.removeChild(s._cache[e.id]),s._cache[e.id]=a}r(n)}}),e);else{var n=t._loader.open(e.type,e.data);e.loaded=!0,r(n)}}},loadFromUrl:function(e,t,i){this.loadFromUrlAndFilename(e,null,t,i)},loadFromUrlAndFilename:function(e,t,i,r){var n=this,a=f.getBasename(t||e),s={filename:t||a,url:e},o=n.getByUrl(e);o||(o=new pa(a,i,s),n.add(o));var l=function(e){e.once("load",(function(e){"material"===i?n._loadTextures(e,(function(t,i){r(t,e)})):r(null,e)})),e.once("error",(function(e){r(e)})),n.load(e)};o.resource?r(null,o):"model"===i?n._loadModel(o,l):l(o)},_loadModel:function(e,t){var i=this,r=e.getFileUrl(),n=f.getExtension(r);if(".json"===n||".glb"===n){var a=f.getDirectory(r),s=f.getBasename(r),o=f.join(a,s.replace(n,".mapping.json"));this._loader.load(o,"json",(function(r,n){r?(e.data={mapping:[]},t(e)):i._loadMaterials(e,n,(function(i,r){e.data=n,t(e)}))}))}else t(e)},_loadMaterials:function(e,t,i){for(var r=this,n=[],a=0,s=function(e,t){r._loadTextures(t,(function(e,r){n.push(t),n.length===a&&i(null,n)}))},o=0;o<t.mapping.length;o++){var l=t.mapping[o].path;l&&(a++,r.loadFromUrl(e.getAbsoluteUrl(l),"material",s))}0===a&&i(null,n)},_loadTextures:function(e,t){var i=[],r=0,n=e.data;if("path"===n.mappingFormat){for(var a=function(e,n){e&&console.error(e),i.push(n),i.length===r&&t(null,i)},s=ks,o=0;o<s.length;o++){var l=n[s[o]];l&&"string"===typeof l&&(r++,this.loadFromUrl(e.getAbsoluteUrl(l),"texture",a))}0===r&&t(null,i)}else t(null,i)},findAll:function(e,t){var i=this,r=this._names[e];if(r){var n=r.map((function(e){return i._assets[e]}));return t?n.filter((function(e){return e.type===t})):n}return[]},_onTagAdd:function(e,t){this._tags.add(e,t)},_onTagRemove:function(e,t){this._tags.remove(e,t)},findByTag:function(){return this._tags.find(arguments)},filter:function(e){for(var t=[],i=0,r=this._assets.length;i<r;i++)e(this._assets[i])&&t.push(this._assets[i]);return t},find:function(e,t){var i=this.findAll(e,t);return i?i[0]:null}}),Object.assign(Io.prototype,{_onAssetAdded:function(e){if("bundle"===e.type){this._bundleAssets[e.id]=e,this._registerBundleEventListeners(e.id);for(var t=0,i=e.data.assets.length;t<i;t++)this._indexAssetInBundle(e.data.assets[t],e)}else this._assetsInBundles[e.id]&&this._indexAssetFileUrls(e)},_registerBundleEventListeners:function(e){this._assets.on("load:"+e,this._onBundleLoaded,this),this._assets.on("error:"+e,this._onBundleError,this)},_unregisterBundleEventListeners:function(e){this._assets.off("load:"+e,this._onBundleLoaded,this),this._assets.off("error:"+e,this._onBundleError,this)},_indexAssetInBundle:function(e,t){if(this._assetsInBundles[e]){var i=this._assetsInBundles[e];-1===i.indexOf(t)&&i.push(t)}else this._assetsInBundles[e]=[t];var r=this._assets.get(e);r&&this._indexAssetFileUrls(r)},_indexAssetFileUrls:function(e){var t=this._getAssetFileUrls(e);if(t)for(var i=0,r=t.length;i<r;i++){var n=t[i];this._urlsInBundles[n]=this._assetsInBundles[e.id]}},_getAssetFileUrls:function(e){var t=e.getFileUrl();if(!t)return null;var i=[t=this._normalizeUrl(t)];if("font"===e.type)for(var r=e.data.info.maps.length,n=1;n<r;n++)i.push(t.replace(".png",n+".png"));return i},_normalizeUrl:function(e){return e&&e.split("?")[0]},_onAssetRemoved:function(e){if("bundle"===e.type){var t,i;for(i in delete this._bundleAssets[e.id],this._unregisterBundleEventListeners(e.id),this._assetsInBundles){var r=this._assetsInBundles[i];if(-1!==(t=r.indexOf(e))&&(r.splice(t,1),!r.length))for(var n in delete this._assetsInBundles[i],this._urlsInBundles)this._urlsInBundles[n]===r&&delete this._urlsInBundles[n]}this._onBundleError("Bundle "+e.id+" was removed",e)}else if(this._assetsInBundles[e.id]){delete this._assetsInBundles[e.id];for(var a=this._getAssetFileUrls(e),s=0,o=a.length;s<o;s++)delete this._urlsInBundles[a[s]]}},_onBundleLoaded:function(e){e.resource?requestAnimationFrame(function(){if(this._fileRequests)for(var t in this._fileRequests){var i=this._urlsInBundles[t];if(i&&-1!==i.indexOf(e)){var r=decodeURIComponent(t),n=null;e.resource.hasBlobUrl(r)||(n="Bundle "+e.id+" does not contain URL "+t);for(var a=this._fileRequests[t],s=0,o=a.length;s<o;s++)n?a[s](n):a[s](null,e.resource.getBlobUrl(r));delete this._fileRequests[t]}}}.bind(this)):this._onBundleError("Bundle "+e.id+" failed to load",e)},_onBundleError:function(e,t){for(var i in this._fileRequests)if(!this._findLoadedOrLoadingBundleForUrl(i)){for(var r=this._fileRequests[i],n=0,a=r.length;n<a;n++)r[n](e);delete this._fileRequests[i]}},_findLoadedOrLoadingBundleForUrl:function(e){var t=this._urlsInBundles[e];if(!t)return null;var i,r=t.length;for(i=0;i<r;i++)if(t[i].loaded&&t[i].resource)return t[i];for(i=0;i<r;i++)if(t[i].loading)return t[i];return null},listBundlesForAsset:function(e){return this._assetsInBundles[e.id]||null},list:function(){var e=[];for(var t in this._bundleAssets)e.push(this._bundleAssets[t]);return e},hasUrl:function(e){return!!this._urlsInBundles[e]},canLoadUrl:function(e){return!!this._findLoadedOrLoadingBundleForUrl(e)},loadUrl:function(e,t){var i=this._findLoadedOrLoadingBundleForUrl(e);if(i)if(i.loaded){var r=decodeURIComponent(e);if(!i.resource.hasBlobUrl(r))return void t("Bundle "+i.id+" does not contain URL "+e);t(null,i.resource.getBlobUrl(r))}else this._fileRequests.hasOwnProperty(e)?this._fileRequests[e].push(t):this._fileRequests[e]=[t];else t("URL "+e+" not found in any bundles")},destroy:function(){for(var e in this._assets.off("add",this._onAssetAdded,this),this._assets.off("remove",this._onAssetRemoved,this),this._bundleAssets)this._unregisterBundleEventListeners(e);this._assets=null,this._bundleAssets=null,this._assetsInBundles=null,this._urlsInBundles=null,this._fileRequests=null}}),Do.prototype=Object.create(o.prototype),Do.prototype.constructor=Do,Do.prototype.destroy=function(){this.app=null,this.off()},Do.prototype.add=function(e){var t=this,i=e.__name;return this._scripts.hasOwnProperty(i)?(setTimeout((function(){if(e.prototype.swap){var r=t._scripts[i],n=t._list.indexOf(r);t._list[n]=e,t._scripts[i]=e,t.fire("swap",i,e),t.fire("swap:"+i,e)}else console.warn("script registry already has '"+i+"' script, define 'swap' method for new script type to enable code hot swapping")})),!1):(this._scripts[i]=e,this._list.push(e),this.fire("add",i,e),this.fire("add:"+i,e),setTimeout((function(){if(t._scripts.hasOwnProperty(i)&&t.app&&t.app.systems&&t.app.systems.script){var e,r,n,a=t.app.systems.script._components,s=[],o=[];for(a.loopIndex=0;a.loopIndex<a.length;a.loopIndex++){var l=a.items[a.loopIndex];l._scriptsIndex[i]&&l._scriptsIndex[i].awaiting&&(l._scriptsData&&l._scriptsData[i]&&(n=l._scriptsData[i].attributes),(r=l.create(i,{preloading:!0,ind:l._scriptsIndex[i].ind,attributes:n}))&&s.push(r))}for(e=0;e<s.length;e++)s[e].__initializeAttributes();for(e=0;e<s.length;e++)s[e].enabled&&(s[e]._initialized=!0,o.push(s[e]),s[e].initialize&&s[e].initialize());for(e=0;e<o.length;e++)o[e].enabled&&!o[e]._postInitialized&&(o[e]._postInitialized=!0,o[e].postInitialize&&o[e].postInitialize())}})),!0)},Do.prototype.remove=function(e){var t=e,i=e;if("string"!==typeof i?i=t.__name:t=this.get(i),this.get(i)!==t)return!1;delete this._scripts[i];var r=this._list.indexOf(t);return this._list.splice(r,1),this.fire("remove",i,t),this.fire("remove:"+i,t),!0},Do.prototype.get=function(e){return this._scripts[e]||null},Do.prototype.has=function(e){if("string"===typeof e)return this._scripts.hasOwnProperty(e);if(!e)return!1;var t=e.__name;return this._scripts[t]===e},Do.prototype.list=function(){return this._list},Fo.prototype=Object.create(o.prototype),Fo.prototype.constructor=Fo,Object.assign(Fo.prototype,{destroy:function(){window.removeEventListener("vrdisplaypresentchange",self._presentChange),this._camera&&(this._camera.vrDisplay=null),this._camera=null},poll:function(){if(this.display){this.display.getFrameData(this._frameData),this.leftProj.data=this._frameData.leftProjectionMatrix,this.rightProj.data=this._frameData.rightProjectionMatrix;var e=this.display.stageParameters;e?(this.sitToStandInv.set(e.sittingToStandingTransform).invert(),this.combinedView.set(this._frameData.leftViewMatrix),this.leftView.mul2(this.combinedView,this.sitToStandInv),this.combinedView.set(this._frameData.rightViewMatrix),this.rightView.mul2(this.combinedView,this.sitToStandInv)):(this.leftView.set(this._frameData.leftViewMatrix),this.rightView.set(this._frameData.rightViewMatrix));var t=this.leftProj.data[3]+this.leftProj.data[0],i=this.leftProj.data[11]+this.leftProj.data[8],r=1/Math.sqrt(t*t+i*i);t*=r,i*=r;var n=-Math.atan2(i,t);t=this.rightProj.data[3]+this.rightProj.data[0],i=this.rightProj.data[11]+this.rightProj.data[8],t*=r=1/Math.sqrt(t*t+i*i),i*=r,n=Math.max(n,-Math.atan2(i,t)),n*=2,this.combinedFov=n;var a=this.rightProj.data[5]/this.rightProj.data[0];this.combinedAspect=a;var s=this.combinedView;s.copy(this.leftView),s.invert(),this.leftViewInv.copy(s);var o=this.combinedPos;o.x=this.leftPos.x=s.data[12],o.y=this.leftPos.y=s.data[13],o.z=this.leftPos.z=s.data[14],s.copy(this.rightView),s.invert(),this.rightViewInv.copy(s);var l=o.x-s.data[12],c=o.y-s.data[13],f=o.z-s.data[14],h=Math.sqrt(l*l+c*c+f*f);this.rightPos.x=s.data[12],this.rightPos.y=s.data[13],this.rightPos.z=s.data[14],o.x+=s.data[12],o.y+=s.data[13],o.z+=s.data[14],o.x*=.5,o.y*=.5,o.z*=.5;var u=.5*Math.PI,d=.5*n,p=Math.PI-(u+d),_=.5*h*Math.sin(p),m=s.data[8],b=s.data[9],v=s.data[10];s.data[12]=o.x+m*_,s.data[13]=o.y+b*_,s.data[14]=o.z+v*_,this.combinedViewInv.copy(s),s.invert(),this.combinedProj.setPerspective(n*A.RAD_TO_DEG,a,this.display.depthNear+_,this.display.depthFar+_,!0)}},requestPresent:function(e){this.display?this.presenting?e&&e(new Error("VrDisplay already presenting")):this.display.requestPresent([{source:this._device.canvas}]).then((function(){e&&e()}),(function(t){e&&e(t)})):e&&e(new Error("No VrDisplay to requestPresent"))},exitPresent:function(e){this.display||e&&e(new Error("No VrDisplay to exitPresent")),this.presenting?this.display.exitPresent().then((function(){e&&e()}),(function(){e&&e(new Error("exitPresent failed"))})):e&&e(new Error("VrDisplay not presenting"))},requestAnimationFrame:function(e){this.display&&this.display.requestAnimationFrame(e)},submitFrame:function(){this.display&&this.display.submitFrame()},reset:function(){this.display&&this.display.resetPose()},setClipPlanes:function(e,t){this.display&&(this.display.depthNear=e,this.display.depthFar=t)},getFrameData:function(){if(this.display)return this._frameData}}),Object.defineProperty(Fo.prototype,"capabilities",{get:function(){return this.display?this.display.capabilities:{}}}),No.prototype=Object.create(o.prototype),No.prototype.constructor=No,"undefined"!==typeof navigator?No.isSupported=!!navigator.getVRDisplays:No.isSupported=!1,Object.assign(No.prototype,{_attach:function(){window.addEventListener("vrdisplayconnect",this._onDisplayConnect),window.addEventListener("vrdisplaydisconnect",this._onDisplayDisconnect)},_detach:function(){window.removeEventListener("vrdisplayconnect",this._onDisplayConnect),window.removeEventListener("vrdisplaydisconnect",this._onDisplayDisconnect)},destroy:function(){this._detach()},poll:function(){var e=this.displays.length;if(e)for(var t=0;t<e;t++)this.displays[t]._camera&&this.displays[t].poll()},_getDisplays:function(e){navigator.getVRDisplays?navigator.getVRDisplays().then((function(t){e&&e(null,t)})):e&&e(new Error("WebVR not supported"))},_addDisplay:function(e){if(!this._index[e.displayId]){var t=new Fo(this._app,e);this._index[t.id]=t,this.displays.push(t),this.display||(this.display=t),this.fire("displayconnect",t)}},_onDisplayConnect:function(e){e.detail&&e.detail.display?this._addDisplay(e.detail.display):this._addDisplay(e.display)},_onDisplayDisconnect:function(e){var t;t=e.detail&&e.detail.display?e.detail.display.displayId:e.display.displayId;var i=this._index[t];if(i){i.destroy(),delete this._index[i.id];var r=this.displays.indexOf(i);this.displays.splice(r,1),this.display===i&&(this.displays.length?this.display=this.displays[0]:this.display=null),this.fire("displaydisconnect",i)}}});var Bo="immersive-ar",Lo=[],Uo=[];function Vo(e,t,i){o.call(this),this.manager=e,this._xrHitTestSource=t,this._transient=i}function zo(e){o.call(this),this.manager=e,this._supported=!(!window.XRSession||!window.XRSession.prototype.requestHitTestSource),this._session=null,this.sources=[],this._supported&&(this.manager.on("start",this._onSessionStart,this),this.manager.on("end",this._onSessionEnd,this))}function jo(e,t){this._index=e,this._hand=t,this._hand._fingers.push(this),this._joints=[],this._tip=null}Vo.prototype=Object.create(o.prototype),Vo.prototype.constructor=Vo,Vo.prototype.remove=function(){if(this._xrHitTestSource){var e=this.manager.hitTest.sources,t=e.indexOf(this);-1!==t&&e.splice(t,1),this.onStop()}},Vo.prototype.onStop=function(){this._xrHitTestSource.cancel(),this._xrHitTestSource=null,this.fire("remove"),this.manager.hitTest.fire("remove",this)},Vo.prototype.update=function(e){if(this._transient)for(var t=e.getHitTestResultsForTransientInput(this._xrHitTestSource),i=0;i<t.length;i++){var r,n=t[i];n.inputSource&&(r=this.manager.input._getByInputSource(n.inputSource)),this.updateHitResults(n.results,r)}else this.updateHitResults(e.getHitTestResults(this._xrHitTestSource))},Vo.prototype.updateHitResults=function(e,t){for(var i=0;i<e.length;i++){var r=e[i].getPose(this.manager._referenceSpace),n=Lo.pop();n||(n=new I),n.copy(r.transform.position);var a=Uo.pop();a||(a=new B),a.copy(r.transform.orientation),this.fire("result",n,a,t),this.manager.hitTest.fire("result",this,n,a,t),Lo.push(n),Uo.push(a)}},zo.prototype=Object.create(o.prototype),zo.prototype.constructor=zo,zo.prototype._onSessionStart=function(){this.manager.type===Bo&&(this._session=this.manager.session)},zo.prototype._onSessionEnd=function(){if(this._session){this._session=null;for(var e=0;e<this.sources.length;e++)this.sources[e].onStop();this.sources=[]}},zo.prototype.isAvailable=function(e,t){var i;return this._supported||(i=new Error("XR HitTest is not supported")),this._session||(i=new Error("XR Session is not started (1)")),this.manager.type!==Bo&&(i=new Error("XR HitTest is available only for AR")),!i||(e&&e(i),t&&t.fire("error",i),!1)},zo.prototype.start=function(e){var t=this;if(e=e||{},this.isAvailable(e.callback,this)){var i;e.profile||e.spaceType||(e.spaceType="viewer");var r=e.offsetRay;r&&(i=new XRRay(new DOMPoint(r.origin.x,r.origin.y,r.origin.z),new DOMPoint(r.direction.x,r.direction.y,r.direction.z)));var n=e.callback;e.spaceType?this._session.requestReferenceSpace(e.spaceType).then((function(r){if(!t._session){var a=new Error("XR Session is not started (2)");return n&&n(a),void t.fire("error",a)}t._session.requestHitTestSource({space:r,entityTypes:e.entityTypes||void 0,offsetRay:i}).then((function(e){t._onHitTestSource(e,!1,n)})).catch((function(e){n&&n(e),t.fire("error",e)}))})).catch((function(e){n&&n(e),t.fire("error",e)})):this._session.requestHitTestSourceForTransientInput({profile:e.profile,entityTypes:e.entityTypes||void 0,offsetRay:i}).then((function(e){t._onHitTestSource(e,!0,n)})).catch((function(e){n&&n(e),t.fire("error",e)}))}},zo.prototype._onHitTestSource=function(e,t,i){if(!this._session){e.cancel();var r=new Error("XR Session is not started (3)");return i&&i(r),void this.fire("error",r)}var n=new Vo(this.manager,e,t);this.sources.push(n),i&&i(null,n),this.fire("add",n)},zo.prototype.update=function(e){for(var t=0;t<this.sources.length;t++)this.sources[t].update(e)},Object.defineProperty(zo.prototype,"supported",{get:function(){return this._supported}}),Object.defineProperty(jo.prototype,"index",{get:function(){return this._index}}),Object.defineProperty(jo.prototype,"hand",{get:function(){return this._hand}}),Object.defineProperty(jo.prototype,"joints",{get:function(){return this._joints}}),Object.defineProperty(jo.prototype,"tip",{get:function(){return this._tip}});for(var Wo=window.XRHand?[XRHand.THUMB_PHALANX_TIP,XRHand.INDEX_PHALANX_TIP,XRHand.MIDDLE_PHALANX_TIP,XRHand.RING_PHALANX_TIP,XRHand.LITTLE_PHALANX_TIP]:[],Go={},Ho=0;Ho<Wo.length;Ho++)Go[Wo[Ho]]=!0;function Yo(e,t,i,r){this._index=e,this._id=t,this._hand=i,this._hand._joints.push(this),this._hand._jointsById[t]=this,this._finger=r||null,this._finger&&this._finger._joints.push(this),this._wrist=t===XRHand.WRIST,this._wrist&&(this._hand._wrist=this),this._tip=this._finger&&!!Go[t],this._tip&&(this._hand._tips.push(this),this._finger&&(this._finger._tip=this)),this._radius=null,this._localTransform=new N,this._worldTransform=new N,this._localPosition=new I,this._localRotation=new B,this._position=new I,this._rotation=new B,this._dirtyLocal=!0}Yo.prototype.update=function(e){this._dirtyLocal=!0,this._radius=e.radius,this._localPosition.copy(e.transform.position),this._localRotation.copy(e.transform.orientation)},Yo.prototype._updateTransforms=function(){this._dirtyLocal&&(this._dirtyLocal=!1,this._localTransform.setTRS(this._localPosition,this._localRotation,I.ONE));var e=this._hand._manager.camera.parent;e?this._worldTransform.mul2(e.getWorldTransform(),this._localTransform):this._worldTransform.copy(this._localTransform)},Yo.prototype.getPosition=function(){return this._updateTransforms(),this._worldTransform.getTranslation(this._position),this._position},Yo.prototype.getRotation=function(){return this._updateTransforms(),this._rotation.setFromMat4(this._worldTransform),this._rotation},Object.defineProperty(Yo.prototype,"index",{get:function(){return this._index}}),Object.defineProperty(Yo.prototype,"hand",{get:function(){return this._hand}}),Object.defineProperty(Yo.prototype,"finger",{get:function(){return this._finger}}),Object.defineProperty(Yo.prototype,"wrist",{get:function(){return this._wrist}}),Object.defineProperty(Yo.prototype,"tip",{get:function(){return this._tip}}),Object.defineProperty(Yo.prototype,"radius",{get:function(){return this._radius||.005}});var Xo=[],Zo=new I,Qo=new I,Jo=new I;function qo(e){o.call(this);var t=e._xrInputSource.hand;this._manager=e._manager,this._inputSource=e,this._tracking=!1,this._fingers=[],this._joints=[],this._jointsById={},this._tips=[],this._wrist=null,t[XRHand.WRIST]&&(this._wrist=new Yo(0,XRHand.WRIST,this,null));for(var i=0;i<Xo.length;i++)for(var r=new jo(i,this),n=0;n<Xo[i].length;n++){var a=Xo[i][n];t[a]&&new Yo(n,a,this,r)}}window.XRHand&&(Xo=[[XRHand.THUMB_METACARPAL,XRHand.THUMB_PHALANX_PROXIMAL,XRHand.THUMB_PHALANX_DISTAL,XRHand.THUMB_PHALANX_TIP],[XRHand.INDEX_METACARPAL,XRHand.INDEX_PHALANX_PROXIMAL,XRHand.INDEX_PHALANX_INTERMEDIATE,XRHand.INDEX_PHALANX_DISTAL,XRHand.INDEX_PHALANX_TIP],[XRHand.MIDDLE_METACARPAL,XRHand.MIDDLE_PHALANX_PROXIMAL,XRHand.MIDDLE_PHALANX_INTERMEDIATE,XRHand.MIDDLE_PHALANX_DISTAL,XRHand.MIDDLE_PHALANX_TIP],[XRHand.RING_METACARPAL,XRHand.RING_PHALANX_PROXIMAL,XRHand.RING_PHALANX_INTERMEDIATE,XRHand.RING_PHALANX_DISTAL,XRHand.RING_PHALANX_TIP],[XRHand.LITTLE_METACARPAL,XRHand.LITTLE_PHALANX_PROXIMAL,XRHand.LITTLE_PHALANX_INTERMEDIATE,XRHand.LITTLE_PHALANX_DISTAL,XRHand.LITTLE_PHALANX_TIP]]),qo.prototype=Object.create(o.prototype),qo.prototype.constructor=qo,qo.prototype.update=function(e){for(var t=this._inputSource._xrInputSource,i=0;i<this._joints.length;i++){var r=this._joints[i],n=t.hand[r._id];if(n){var a=e.getJointPose(n,this._manager._referenceSpace);if(a)r.update(a),r.wrist&&!this._tracking&&(this._tracking=!0,this.fire("tracking"));else if(r.wrist){this._tracking&&(this._tracking=!1,this.fire("trackinglost"));break}}}var s=this._jointsById[XRHand.THUMB_METACARPAL],o=this._jointsById[XRHand.THUMB_PHALANX_TIP],l=this._jointsById[XRHand.INDEX_PHALANX_PROXIMAL],c=this._jointsById[XRHand.INDEX_PHALANX_TIP],f=this._jointsById[XRHand.RING_PHALANX_PROXIMAL],h=this._jointsById[XRHand.LITTLE_PHALANX_PROXIMAL];if(s&&o&&l&&c&&f&&h){this._inputSource._dirtyRay=!0,this._inputSource._rayLocal.origin.lerp(o._localPosition,c._localPosition,.5);var u=s,d=h;if("left"===this._inputSource.handedness){var p=u;u=d,d=p}Zo.sub2(u._localPosition,this._wrist._localPosition),Qo.sub2(d._localPosition,this._wrist._localPosition),Jo.cross(Zo,Qo).normalize(),Zo.lerp(l._localPosition,f._localPosition,.5),Zo.sub(this._wrist._localPosition).normalize(),this._inputSource._rayLocal.direction.lerp(Jo,Zo,.5).normalize()}o&&c&&(Zo.copy(o._localPosition),Zo.distance(c._localPosition)<.015?this._inputSource._selecting||(this._inputSource._selecting=!0,this._inputSource.fire("selectstart"),this._manager.input.fire("selectstart",this._inputSource)):this._inputSource._selecting&&(this._inputSource._selecting=!1,this._inputSource.fire("select"),this._manager.input.fire("select",this._inputSource),this._inputSource.fire("selectend"),this._manager.input.fire("selectend",this._inputSource)))},qo.prototype.getJointById=function(e){return this._jointsById[e]||null},Object.defineProperty(qo.prototype,"fingers",{get:function(){return this._fingers}}),Object.defineProperty(qo.prototype,"joints",{get:function(){return this._joints}}),Object.defineProperty(qo.prototype,"tips",{get:function(){return this._tips}}),Object.defineProperty(qo.prototype,"wrist",{get:function(){return this._wrist}}),Object.defineProperty(qo.prototype,"tracking",{get:function(){return this._tracking}});var Ko=new B,$o=0;function el(e,t){o.call(this),this._id=++$o,this._manager=e,this._xrInputSource=t,this._ray=new J,this._rayLocal=new J,this._grip=!1,this._hand=null,t.hand&&(this._hand=new qo(this)),this._localTransform=null,this._worldTransform=null,this._position=new I,this._rotation=new B,this._localPosition=null,this._localRotation=null,this._dirtyLocal=!0,this._selecting=!1,this._elementInput=!0,this._elementEntity=null,this._hitTestSources=[]}function tl(e){o.call(this);var t=this;this.manager=e,this._session=null,this._inputSources=[],this._onInputSourcesChangeEvt=function(e){t._onInputSourcesChange(e)},this.manager.on("start",this._onSessionStart,this),this.manager.on("end",this._onSessionEnd,this)}el.prototype=Object.create(o.prototype),el.prototype.constructor=el,el.prototype.update=function(e){if(this._hand)this._hand.update(e);else{if(this._xrInputSource.gripSpace){var t=e.getPose(this._xrInputSource.gripSpace,this._manager._referenceSpace);t&&(this._grip||(this._grip=!0,this._localTransform=new N,this._worldTransform=new N,this._localPosition=new I,this._localRotation=new B),this._dirtyLocal=!0,this._localPosition.copy(t.transform.position),this._localRotation.copy(t.transform.orientation))}var i=e.getPose(this._xrInputSource.targetRaySpace,this._manager._referenceSpace);i&&(this._dirtyRay=!0,this._rayLocal.origin.copy(i.transform.position),this._rayLocal.direction.set(0,0,-1),Ko.copy(i.transform.orientation),Ko.transformVector(this._rayLocal.direction,this._rayLocal.direction))}},el.prototype._updateTransforms=function(){this._dirtyLocal&&(this._dirtyLocal=!1,this._localTransform.setTRS(this._localPosition,this._localRotation,I.ONE));var e=this._manager.camera.parent;e?this._worldTransform.mul2(e.getWorldTransform(),this._localTransform):this._worldTransform.copy(this._localTransform)},el.prototype._updateRayTransforms=function(){var e=this._dirtyRay;if(this._dirtyRay=!1,this._manager.camera.parent){var t=this._manager.camera.parent.getWorldTransform();t.getTranslation(this._position),this._rotation.setFromMat4(t),this._rotation.transformVector(this._rayLocal.origin,this._ray.origin),this._ray.origin.add(this._position),this._rotation.transformVector(this._rayLocal.direction,this._ray.direction)}else e&&(this._ray.origin.copy(this._rayLocal.origin),this._ray.direction.copy(this._rayLocal.direction))},el.prototype.getPosition=function(){return this._position?(this._updateTransforms(),this._worldTransform.getTranslation(this._position),this._position):null},el.prototype.getLocalPosition=function(){return this._localPosition},el.prototype.getRotation=function(){return this._rotation?(this._updateTransforms(),this._rotation.setFromMat4(this._worldTransform),this._rotation):null},el.prototype.getLocalRotation=function(){return this._localRotation},el.prototype.getOrigin=function(){return this._updateRayTransforms(),this._ray.origin},el.prototype.getDirection=function(){return this._updateRayTransforms(),this._ray.direction},el.prototype.hitTestStart=function(e){var t=this;(e=e||{}).profile=this._xrInputSource.profiles[0];var i=e.callback;e.callback=function(e,r){r&&t.onHitTestSourceAdd(r),i&&i(e,r)},this._manager.hitTest.start(e)},el.prototype.onHitTestSourceAdd=function(e){this._hitTestSources.push(e),this.fire("hittest:add",e),e.on("result",(function(t,i,r){r===this&&this.fire("hittest:result",e,t,i)}),this),e.once("remove",(function(){this.onHitTestSourceRemove(e),this.fire("hittest:remove",e)}),this)},el.prototype.onHitTestSourceRemove=function(e){var t=this._hitTestSources.indexOf(e);-1!==t&&this._hitTestSources.splice(t,1)},Object.defineProperty(el.prototype,"id",{get:function(){return this._id}}),Object.defineProperty(el.prototype,"inputSource",{get:function(){return this._xrInputSource}}),Object.defineProperty(el.prototype,"targetRayMode",{get:function(){return this._xrInputSource.targetRayMode}}),Object.defineProperty(el.prototype,"handedness",{get:function(){return this._xrInputSource.handedness}}),Object.defineProperty(el.prototype,"profiles",{get:function(){return this._xrInputSource.profiles}}),Object.defineProperty(el.prototype,"grip",{get:function(){return this._grip}}),Object.defineProperty(el.prototype,"hand",{get:function(){return this._hand}}),Object.defineProperty(el.prototype,"gamepad",{get:function(){return this._xrInputSource.gamepad||null}}),Object.defineProperty(el.prototype,"selecting",{get:function(){return this._selecting}}),Object.defineProperty(el.prototype,"elementInput",{get:function(){return this._elementInput},set:function(e){this._elementInput!==e&&(this._elementInput=e,this._elementInput||(this._elementEntity=null))}}),Object.defineProperty(el.prototype,"elementEntity",{get:function(){return this._elementEntity}}),Object.defineProperty(el.prototype,"hitTestSources",{get:function(){return this._hitTestSources}}),tl.prototype=Object.create(o.prototype),tl.prototype.constructor=tl,tl.prototype._onSessionStart=function(){this._session=this.manager.session,this._session.addEventListener("inputsourceschange",this._onInputSourcesChangeEvt);var e=this;this._session.addEventListener("select",(function(t){var i=e._getByInputSource(t.inputSource);i.update(t.frame),i.fire("select",t),e.fire("select",i,t)})),this._session.addEventListener("selectstart",(function(t){var i=e._getByInputSource(t.inputSource);i.update(t.frame),i._selecting=!0,i.fire("selectstart",t),e.fire("selectstart",i,t)})),this._session.addEventListener("selectend",(function(t){var i=e._getByInputSource(t.inputSource);i.update(t.frame),i._selecting=!1,i.fire("selectend",t),e.fire("selectend",i,t)}));for(var t=this._session.inputSources,i=0;i<t.length;i++)this._addInputSource(t[i])},tl.prototype._onSessionEnd=function(){for(var e=this._inputSources.length;e--;){var t=this._inputSources[e];this._inputSources.splice(e,1),t.fire("remove"),this.fire("remove",t)}this._session.removeEventListener("inputsourceschange",this._onInputSourcesChangeEvt),this._session=null},tl.prototype._onInputSourcesChange=function(e){var t;for(t=0;t<e.removed.length;t++)this._removeInputSource(e.removed[t]);for(t=0;t<e.added.length;t++)this._addInputSource(e.added[t])},tl.prototype._getByInputSource=function(e){for(var t=0;t<this._inputSources.length;t++)if(this._inputSources[t].inputSource===e)return this._inputSources[t];return null},tl.prototype._addInputSource=function(e){if(!this._getByInputSource(e)){var t=new el(this.manager,e);this._inputSources.push(t),this.fire("add",t)}},tl.prototype._removeInputSource=function(e){for(var t=0;t<this._inputSources.length;t++)if(this._inputSources[t].inputSource===e){var i=this._inputSources[t];this._inputSources.splice(t,1);for(var r=i.hitTestSources.length;r--;)i.hitTestSources[r].remove();return i.fire("remove"),void this.fire("remove",i)}},tl.prototype.update=function(e){for(var t=0;t<this._inputSources.length;t++)this._inputSources[t].update(e)},Object.defineProperty(tl.prototype,"inputSources",{get:function(){return this._inputSources}});var il=new I,rl=new I,nl=new N,al=new N;function sl(e){o.call(this),this._manager=e,this._supported=!1,this._available=!1,this._lightProbeRequested=!1,this._lightProbe=null,this._intensity=0,this._rotation=new B,this._color=new v,this._sphericalHarmonics=new Float32Array(27),this._manager.on("start",this._onSessionStart,this),this._manager.on("end",this._onSessionEnd,this)}function ol(e){o.call(this);var t=this;this.app=e,this._supported=!!navigator.xr,this._available={},this._available.inline=!1,this._available["immersive-vr"]=!1,this._available[Bo]=!1,this._type=null,this._spaceType=null,this._session=null,this._baseLayer=null,this._referenceSpace=null,this.input=new tl(this),this.hitTest=new zo(this),this.lightEstimation=new sl(this),this._camera=null,this.views=[],this.viewsPool=[],this._localPosition=new I,this._localRotation=new B,this._depthNear=.1,this._depthFar=1e3,this._width=0,this._height=0,this._supported&&(navigator.xr.addEventListener("devicechange",(function(){t._deviceAvailabilityCheck()})),this._deviceAvailabilityCheck())}function ll(e,t){o.call(this),this.system=e,this.entity=t,this.system.schema&&!this._accessorsBuilt&&this.buildAccessors(this.system.schema),this.on("set",(function(e,t,i){this.fire("set_"+e,e,t,i)})),this.on("set_enabled",this.onSetEnabled,this)}function cl(e){o.call(this),this.app=e,this.store={},this.schema=[]}function fl(e,t){if(!e)return e;switch(t){case"rgb":return e instanceof v?e.clone():new v(e[0],e[1],e[2]);case"rgba":return e instanceof v?e.clone():new v(e[0],e[1],e[2],e[3]);case"vec2":return e instanceof O?e.clone():new O(e[0],e[1]);case"vec3":return e instanceof I?e.clone():new I(e[0],e[1],e[2]);case"vec4":return e instanceof D?e.clone():new D(e[0],e[1],e[2],e[3]);case"boolean":case"number":case"string":case"entity":return e;default:throw new Error("Could not convert unhandled type: "+t)}}function hl(){this._written=!1,this._name="",this._keyFrames=[],this._quat=new B,this._pos=new I,this._scale=new I,this._targetNode=null}function ul(e){this._animation=null,this._time=0,this.looping=!0,this._interpolatedKeys=[],this._interpolatedKeyDict={},this._currKeyIndices={},this.graph=null;var t=this;!function e(i){var r=new hl;r._name=i.name,t._interpolatedKeys.push(r),t._interpolatedKeyDict[i.name]=r,t._currKeyIndices[i.name]=0;for(var n=0;n<i._children.length;n++)e(i._children[n])}(e)}function dl(e,t){ll.call(this,e,t),this.animationsIndex={},this.on("set_animations",this.onSetAnimations,this),this.on("set_assets",this.onSetAssets,this),this.on("set_loop",this.onSetLoop,this)}function pl(){this.assets=[],this.speed=1,this.loop=!0,this.activate=!0,this.enabled=!0,this.animations={},this.model=null,this.prevAnim=null,this.currAnim=null,this.blending=!1,this.blend=0,this.blendSpeed=0,this.playing=!1,this.skeleton=null,this.fromSkel=null,this.toSkel=null,this.animEvaluator=null}sl.prototype=Object.create(o.prototype),sl.prototype.constructor=sl,sl.prototype._onSessionStart=function(){this._manager.session.requestLightProbe&&(this._supported=!0)},sl.prototype._onSessionEnd=function(){this._supported=!1,this._available=!1,this._lightProbeRequested=!1,this._lightProbe=null},sl.prototype.start=function(){var e;if(this._manager.session||(e=new Error("XR session is not running")),e||this._manager.type===Bo||(e=new Error("XR session type is not AR")),e||this._supported||(e=new Error("light-estimation is not supported")),(!e&&this._lightProbe||this._lightProbeRequested)&&(e=new Error("light estimation is already requested")),e)this.fire("error",e);else{var t=this;this._lightProbeRequested=!0,this._manager.session.requestLightProbe().then((function(e){var i=t._lightProbeRequested;t._lightProbeRequested=!1,t._manager.active?i&&(t._lightProbe=e):t.fire("error",new Error("XR session is not active"))})).catch((function(e){t._lightProbeRequested=!1,t.fire("error",e)}))}},sl.prototype.end=function(){this._lightProbeRequested=!1,this._lightProbe=null,this._available=!1},sl.prototype.update=function(e){if(this._lightProbe){var t=e.getLightEstimate(this._lightProbe);if(t){this._available||(this._available=!0,this.fire("available"));var i=t.primaryLightIntensity;this._intensity=Math.max(1,Math.max(i.x,Math.max(i.y,i.z))),il.copy(i).scale(1/this._intensity),this._color.set(il.x,il.y,il.z),il.set(0,0,0),rl.copy(t.primaryLightDirection),nl.setLookAt(rl,il,I.UP),al.setFromAxisAngle(I.RIGHT,90),nl.mul(al),this._rotation.setFromMat4(nl),this._sphericalHarmonics.set(t.sphericalHarmonicsCoefficients)}}},Object.defineProperty(sl.prototype,"supported",{get:function(){return this._supported}}),Object.defineProperty(sl.prototype,"available",{get:function(){return!!this._available}}),Object.defineProperty(sl.prototype,"intensity",{get:function(){return this._available?this._intensity:null}}),Object.defineProperty(sl.prototype,"color",{get:function(){return this._available?this._color:null}}),Object.defineProperty(sl.prototype,"rotation",{get:function(){return this._available?this._rotation:null}}),Object.defineProperty(sl.prototype,"sphericalHarmonics",{get:function(){return this._available?this._sphericalHarmonics:null}}),ol.prototype=Object.create(o.prototype),ol.prototype.constructor=ol,ol.prototype.start=function(e,t,i,r){var n=this,a=r;if("object"===typeof r&&(a=r.callback),this._available[t])if(this._session)a&&a(new Error("XR session is already started"));else{this._camera=e,this._camera.camera.xr=this,this._type=t,this._spaceType=i,this._setClipPlanes(e.nearClip,e.farClip);var s=[];t===Bo?(s.push("light-estimation"),s.push("hit-test")):"immersive-vr"===t&&s.push("hand-tracking"),r&&r.optionalFeatures&&(s=s.concat(r.optionalFeatures)),navigator.xr.requestSession(t,{requiredFeatures:[i],optionalFeatures:s}).then((function(e){n._onSessionStart(e,i,a)})).catch((function(e){n._camera.camera.xr=null,n._camera=null,n._type=null,n._spaceType=null,a&&a(e),n.fire("error",e)}))}else a&&a(new Error("XR is not available"))},ol.prototype.end=function(e){this._session?(e&&this.once("end",e),this._session.end()):e&&e(new Error("XR Session is not initialized"))},ol.prototype.isAvailable=function(e){return this._available[e]},ol.prototype._deviceAvailabilityCheck=function(){for(var e in this._available)this._sessionSupportCheck(e)},ol.prototype._sessionSupportCheck=function(e){var t=this;navigator.xr.isSessionSupported(e).then((function(i){t._available[e]!==i&&(t._available[e]=i,t.fire("available",e,i),t.fire("available:"+e,i))})).catch((function(e){t.fire("error",e)}))},ol.prototype._onSessionStart=function(e,t,i){var r=this,n=!1;this._session=e;var a=function(){r.fire("visibility:change",e.visibilityState)},s=function(){r._setClipPlanes(r._camera.nearClip,r._camera.farClip)};e.addEventListener("end",(function t(){r._session=null,r._referenceSpace=null,r.views=[],r._width=0,r._height=0,r._type=null,r._spaceType=null,r._camera&&(r._camera.off("set_nearClip",s),r._camera.off("set_farClip",s),r._camera.camera.xr=null,r._camera=null),e.removeEventListener("end",t),e.removeEventListener("visibilitychange",a),n||r.fire("end"),r.app.tick()})),e.addEventListener("visibilitychange",a),this._camera.on("set_nearClip",s),this._camera.on("set_farClip",s),this._baseLayer=new XRWebGLLayer(e,this.app.graphicsDevice.gl),e.updateRenderState({baseLayer:this._baseLayer,depthNear:this._depthNear,depthFar:this._depthFar}),e.requestReferenceSpace(t).then((function(e){r._referenceSpace=e,r.app.tick(),i&&i(null),r.fire("start")})).catch((function(t){n=!0,e.end(),i&&i(t),r.fire("error",t)}))},ol.prototype._setClipPlanes=function(e,t){this._depthNear===e&&this._depthFar===t||(this._depthNear=e,this._depthFar=t,this._session&&this._session.updateRenderState({depthNear:this._depthNear,depthFar:this._depthFar}))},ol.prototype.update=function(e){if(this._session){var t,i,r,n,a,s,o=e.session.renderState.baseLayer.framebufferWidth,l=e.session.renderState.baseLayer.framebufferHeight;this._width===o&&this._height===l||(this._width=o,this._height=l,this.app.graphicsDevice.setResolution(o,l));var c=e.getViewerPose(this._referenceSpace);if((s=c?c.views.length:0)>this.views.length)for(t=0;t<=s-this.views.length;t++)(i=this.viewsPool.pop())||(i={viewport:new D,projMat:new N,viewMat:new N,viewOffMat:new N,viewInvMat:new N,viewInvOffMat:new N,projViewOffMat:new N,viewMat3:new C,position:new Float32Array(3),rotation:new B}),this.views.push(i);else if(s<=this.views.length)for(t=0;t<this.views.length-s;t++)this.viewsPool.push(this.views.pop());if(c){var f=c.transform.position,h=c.transform.orientation;for(this._localPosition.set(f.x,f.y,f.z),this._localRotation.set(h.x,h.y,h.z,h.w),n=e.session.renderState.baseLayer,t=0;t<c.views.length;t++)r=c.views[t],i=this.views[t],a=n.getViewport(r),i.viewport.x=a.x,i.viewport.y=a.y,i.viewport.z=a.width,i.viewport.w=a.height,i.projMat.set(r.projectionMatrix),i.viewMat.set(r.transform.inverse.matrix),i.viewInvMat.set(r.transform.matrix)}this._camera.camera._node.setLocalPosition(this._localPosition),this._camera.camera._node.setLocalRotation(this._localRotation),this.input.update(e),this._type===Bo&&(this.hitTest.supported&&this.hitTest.update(e),this.lightEstimation.supported&&this.lightEstimation.update(e)),this.fire("update",e)}},Object.defineProperty(ol.prototype,"supported",{get:function(){return this._supported}}),Object.defineProperty(ol.prototype,"active",{get:function(){return!!this._session}}),Object.defineProperty(ol.prototype,"type",{get:function(){return this._type}}),Object.defineProperty(ol.prototype,"spaceType",{get:function(){return this._spaceType}}),Object.defineProperty(ol.prototype,"session",{get:function(){return this._session}}),Object.defineProperty(ol.prototype,"visibilityState",{get:function(){return this._session?this._session.visibilityState:null}}),Object.defineProperty(ol.prototype,"camera",{get:function(){return this._camera?this._camera.entity:null}}),ll.prototype=Object.create(o.prototype),ll.prototype.constructor=ll,ll._buildAccessors=function(e,t){t.forEach((function(t){var i="object"===typeof t?t.name:t;Object.defineProperty(e,i,{get:function(){return this.data[i]},set:function(e){var t=this.data,r=t[i];t[i]=e,this.fire("set",i,r,e)},configurable:!0})})),e._accessorsBuilt=!0},Object.assign(ll.prototype,{buildAccessors:function(e){ll._buildAccessors(this,e)},onSetEnabled:function(e,t,i){t!==i&&this.entity.enabled&&(i?this.onEnable():this.onDisable())},onEnable:function(){},onDisable:function(){},onPostStateChange:function(){}}),Object.defineProperty(ll.prototype,"data",{get:function(){var e=this.system.store[this.entity.getGuid()];return e?e.data:null}}),cl.prototype=Object.create(o.prototype),cl.prototype.constructor=cl,Object.assign(cl,{_helper:function(e,t){for(var i=0,r=e.length;i<r;i++)e[i].f.call(e[i].s,t)},initialize:function(e){this._helper(this._init,e)},postInitialize:function(e){this._helper(this._postInit,e),this.fire("postinitialize",e)},update:function(e,t){this._helper(t?this._toolsUpdate:this._update,e)},animationUpdate:function(e,t){this._helper(this._animationUpdate,e)},fixedUpdate:function(e,t){this._helper(this._fixedUpdate,e)},postUpdate:function(e,t){this._helper(this._postUpdate,e)},_init:[],_postInit:[],_toolsUpdate:[],_update:[],_animationUpdate:[],_fixedUpdate:[],_postUpdate:[],bind:function(e,t,i){switch(e){case"initialize":this._init.push({f:t,s:i});break;case"postInitialize":this._postInit.push({f:t,s:i});break;case"update":this._update.push({f:t,s:i});break;case"animationUpdate":this._animationUpdate.push({f:t,s:i});break;case"postUpdate":this._postUpdate.push({f:t,s:i});break;case"fixedUpdate":this._fixedUpdate.push({f:t,s:i});break;case"toolsUpdate":this._toolsUpdate.push({f:t,s:i});break;default:console.error("Component System does not support event",e)}},_erase:function(e,t,i){for(var r=0;r<e.length;r++)e[r].f===t&&e[r].s===i&&e.splice(r--,1)},unbind:function(e,t,i){switch(e){case"initialize":this._erase(this._init,t,i);break;case"postInitialize":this._erase(this._postInit,t,i);break;case"update":this._erase(this._update,t,i);break;case"animationUpdate":this._erase(this._animationUpdate,t,i);break;case"postUpdate":this._erase(this._postUpdate,t,i);break;case"fixedUpdate":this._erase(this._fixedUpdate,t,i);break;case"toolsUpdate":this._erase(this._toolsUpdate,t,i);break;default:console.error("Component System does not support event",e)}}}),Object.assign(cl.prototype,{addComponent:function(e,t){var i=new this.ComponentType(this,e),r=new this.DataType;return t=t||{},this.store[e.getGuid()]={entity:e,data:r},e[this.id]=i,e.c[this.id]=i,this.initializeComponentData(i,t,[]),this.fire("add",e,i),i},removeComponent:function(e){var t=this.store[e.getGuid()],i=e.c[this.id];this.fire("beforeremove",e,i),delete this.store[e.getGuid()],delete e[this.id],delete e.c[this.id],this.fire("remove",e,t.data)},cloneComponent:function(e,t){var i=this.store[e.getGuid()];return this.addComponent(t,i.data)},initializeComponentData:function(e,t,i){var r,n,a,s;t=t||{};for(var o=0,l=i.length;o<l;o++)"object"===typeof(r=i[o])?(n=r.name,a=r.type):(n=r,a=void 0),void 0!==(s=t[n])?(void 0!==a&&(s=fl(s,a)),e[n]=s):e[n]=e.data[n];e.enabled&&e.entity.enabled&&e.onEnable()},getPropertiesOfType:function(e){var t=[];return(this.schema||[]).forEach((function(i){i&&"object"===typeof i&&i.type===e&&t.push(i)})),t},destroy:function(){this.off()}}),l.attach(cl),cl.destroy=function(){cl.off("initialize"),cl.off("postInitialize"),cl.off("toolsUpdate"),cl.off("update"),cl.off("animationUpdate"),cl.off("fixedUpdate"),cl.off("postUpdate"),cl._init=[],cl._postInit=[],cl._toolsUpdate=[],cl._update=[],cl._animationUpdate=[],cl._fixedUpdate=[],cl._postUpdate=[]},Object.assign(hl.prototype,{getTarget:function(){return this._targetNode},setTarget:function(e){this._targetNode=e}}),ul.prototype.addTime=function(e){if(null!==this._animation){var t,i,r,n,a,s,o,l,c=this._animation._nodes,f=this._animation.duration;if(this._time===f&&!this.looping)return;if(this._time+=e,this._time>f)for(this._time=this.looping?0:f,t=0;t<c.length;t++)r=(i=c[t])._name,this._currKeyIndices[r]=0;else if(this._time<0)for(this._time=this.looping?f:0,t=0;t<c.length;t++)r=(i=c[t])._name,this._currKeyIndices[r]=i._keys.length-2;var h,u=e>=0?1:-1;for(t=0;t<c.length;t++)if(r=(i=c[t])._name,n=i._keys,void 0!==(a=this._interpolatedKeyDict[r])){if(h=!1,1!==n.length)for(var d=this._currKeyIndices[r];d<n.length-1&&d>=0;d+=u)if(s=n[d],o=n[d+1],s.time<=this._time&&o.time>=this._time){l=(this._time-s.time)/(o.time-s.time),a._pos.lerp(s.position,o.position,l),a._quat.slerp(s.rotation,o.rotation,l),a._scale.lerp(s.scale,o.scale,l),a._written=!0,this._currKeyIndices[r]=d,h=!0;break}(1===n.length||!h&&0===this._time&&this.looping)&&(a._pos.copy(n[0].position),a._quat.copy(n[0].rotation),a._scale.copy(n[0].scale),a._written=!0)}}},ul.prototype.blend=function(e,t,i){for(var r=this._interpolatedKeys.length,n=0;n<r;n++){var a=e._interpolatedKeys[n],s=t._interpolatedKeys[n],o=this._interpolatedKeys[n];a._written&&s._written?(o._quat.slerp(a._quat,t._interpolatedKeys[n]._quat,i),o._pos.lerp(a._pos,t._interpolatedKeys[n]._pos,i),o._scale.lerp(a._scale,s._scale,i),o._written=!0):a._written?(o._quat.copy(a._quat),o._pos.copy(a._pos),o._scale.copy(a._scale),o._written=!0):s._written&&(o._quat.copy(s._quat),o._pos.copy(s._pos),o._scale.copy(s._scale),o._written=!0)}},Object.defineProperty(ul.prototype,"animation",{get:function(){return this._animation},set:function(e){this._animation=e,this.currentTime=0}}),ul.prototype.getAnimation=function(){return this._animation},Object.defineProperty(ul.prototype,"currentTime",{get:function(){return this._time},set:function(e){this._time=e;for(var t=this._interpolatedKeys.length,i=0;i<t;i++){var r=this._interpolatedKeys[i]._name;this._currKeyIndices[r]=0}this.addTime(0),this.updateGraph()}}),ul.prototype.getCurrentTime=function(){return this._time},ul.prototype.setCurrentTime=function(e){this.currentTime=e},Object.defineProperty(ul.prototype,"numNodes",{get:function(){return this._interpolatedKeys.length}}),ul.prototype.getNumNodes=function(){return this._interpolatedKeys.length},ul.prototype.setAnimation=function(e){this.animation=e},ul.prototype.setGraph=function(e){var t;if(this.graph=e,e)for(t=0;t<this._interpolatedKeys.length;t++){var i=this._interpolatedKeys[t],r=e.findByName(i._name);this._interpolatedKeys[t].setTarget(r)}else for(t=0;t<this._interpolatedKeys.length;t++)this._interpolatedKeys[t].setTarget(null)},ul.prototype.updateGraph=function(){if(this.graph)for(var e=0;e<this._interpolatedKeys.length;e++){var t=this._interpolatedKeys[e];if(t._written){var i=t.getTarget();i.localPosition.copy(t._pos),i.localRotation.copy(t._quat),i.localScale.copy(t._scale),i._dirtyLocal||i._dirtifyLocal(),t._written=!1}}},ul.prototype.setLooping=function(e){this.looping=e},ul.prototype.getLooping=function(){return this.looping},dl.prototype=Object.create(ll.prototype),dl.prototype.constructor=dl,Object.assign(dl.prototype,{play:function(e,t){if(this.enabled&&this.entity.enabled){var i=this.data;if(i.animations[e]){if(t=t||0,i.prevAnim=i.currAnim,i.currAnim=e,i.model){i.skeleton||i.animEvaluator||this._createAnimationController();var r=i.animations[i.prevAnim],n=i.animations[i.currAnim];if(i.blending=t>0&&i.prevAnim,i.blending&&(i.blend=0,i.blendSpeed=1/t),i.skeleton&&(i.blending?(i.fromSkel.animation=r,i.fromSkel.addTime(i.skeleton._time),i.toSkel.animation=n):i.skeleton.animation=n),i.animEvaluator){var a=i.animEvaluator;if(i.blending)for(;a.clips.length>1;)a.removeClip(0);else i.animEvaluator.removeClips();var s=new Zn(i.animations[i.currAnim],0,1,!0,i.loop);s.name=i.currAnim,s.blendWeight=i.blending?0:1,s.reset(),i.animEvaluator.addClip(s)}}i.playing=!0}}},getAnimation:function(e){return this.data.animations[e]},setModel:function(e){var t=this.data;e!==t.model&&(this._resetAnimationController(),t.model=e,t.animations&&t.currAnim&&t.animations[t.currAnim]&&this.play(t.currAnim))},_resetAnimationController:function(){var e=this.data;e.skeleton=null,e.fromSkel=null,e.toSkel=null,e.animEvaluator=null},_createAnimationController:function(){var e=this.data,t=e.model,i=e.animations,r=!1,n=!1;for(var a in i)i.hasOwnProperty(a)&&(i[a].constructor===Yn?n=!0:r=!0);var s=t.getGraph();r?(e.fromSkel=new ul(s),e.toSkel=new ul(s),e.skeleton=new ul(s),e.skeleton.looping=e.loop,e.skeleton.setGraph(s)):n&&(e.animEvaluator=new Kn(new qn(s)))},loadAnimationAssets:function(e){if(e&&e.length){var t,i=this,r=this.system.app.assets,n=e.length,a=function(e){if(e.resources.length>1)for(var t=0;t<e.resources.length;t++)i.animations[e.resources[t].name]=e.resources[t],i.animationsIndex[e.id]=e.resources[t].name;else i.animations[e.name]=e.resource,i.animationsIndex[e.id]=e.name;i.animations=i.animations},s=function(e){e.off("change",i.onAssetChanged,i),e.on("change",i.onAssetChanged,i),e.off("remove",i.onAssetRemoved,i),e.on("remove",i.onAssetRemoved,i),e.resource?a(e):(e.once("load",a,i),i.enabled&&i.entity.enabled&&r.load(e))};for(t=0;t<n;t++){var o=r.get(e[t]);o?s(o):r.on("add:"+e[t],s)}}},onAssetChanged:function(e,t,i,r){var n;if("resource"===t||"resources"===t)if(i){var a=!1;if(i.length>1){if(r&&r.length>1)for(n=0;n<r.length;n++)delete this.animations[r[n].name];else delete this.animations[e.name];for(a=!1,n=0;n<i.length;n++)this.animations[i[n].name]=i[n],a||this.data.currAnim!==i[n].name||this.data.playing&&this.data.enabled&&this.entity.enabled&&(a=!0,this.play(i[n].name,0));a||(this._stopCurrentAnimation(),this.onSetAnimations())}else{if(r&&r.length>1)for(n=0;n<r.length;n++)delete this.animations[r[n].name];this.animations[e.name]=i[0]||i,a=!1,this.data.currAnim===e.name&&this.data.playing&&this.data.enabled&&this.entity.enabled&&(a=!0,this.play(e.name,0)),a||(this._stopCurrentAnimation(),this.onSetAnimations())}this.animationsIndex[e.id]=e.name}else{if(r.length>1)for(n=0;n<r.length;n++)delete this.animations[r[n].name];else delete this.animations[e.name];delete this.animationsIndex[e.id]}},onAssetRemoved:function(e){if(e.off("remove",this.onAssetRemoved,this),this.animations){if(e.resources.length>1)for(var t=0;t<e.resources.length;t++)delete this.animations[e.resources[t].name],this.data.currAnim===e.resources[t].name&&this._stopCurrentAnimation();else delete this.animations[e.name],this.data.currAnim===e.name&&this._stopCurrentAnimation();delete this.animationsIndex[e.id]}},_stopCurrentAnimation:function(){var e=this.data;e.currAnim=null,e.playing=!1,e.skeleton&&(e.skeleton.currentTime=0,e.skeleton.animation=null),e.animEvaluator&&e.animEvaluator.removeClips()},onSetAnimations:function(e,t,i){var r=this.data,n=this.entity.model;if(n){var a=n.model;a&&a!==r.model&&this.setModel(a)}if(!r.currAnim&&r.activate&&r.enabled&&this.entity.enabled)for(var s in r.animations){this.play(s,0);break}},onSetAssets:function(e,t,i){if(t&&t.length)for(var r=0;r<t.length;r++)if(t[r]){var n=this.system.app.assets.get(t[r]);if(n){n.off("change",this.onAssetChanged,this),n.off("remove",this.onAssetRemoved,this);var a=this.animationsIndex[n.id];this.data.currAnim===a&&this._stopCurrentAnimation(),delete this.animations[a],delete this.animationsIndex[n.id]}}var s=i.map((function(e){return e instanceof pa?e.id:e}));this.loadAnimationAssets(s)},onSetLoop:function(e,t,i){var r=this.data;if(r.skeleton&&(r.skeleton.looping=r.loop),r.animEvaluator)for(var n=0;n<r.animEvaluator.clips.length;++n)r.animEvaluator.clips[n].loop=r.loop},onSetCurrentTime:function(e,t,i){var r=this.data;if(r.skeleton){var n=r.skeleton;n.currentTime=i,n.addTime(0),n.updateGraph()}if(r.animEvaluator)for(var a=r.animEvaluator,s=0;s<a.clips.length;++s)a.clips[s].time=i},onEnable:function(){ll.prototype.onEnable.call(this);var e=this.data,t=e.assets,i=this.system.app.assets;if(t)for(var r=0,n=t.length;r<n;r++){var a=t[r];a instanceof pa||(a=i.get(a)),a&&!a.resource&&i.load(a)}if(e.activate&&!e.currAnim)for(var s in e.animations){this.play(s,0);break}},onBeforeRemove:function(){for(var e=0;e<this.assets.length;e++){var t=this.system.app.assets.get(this.assets[e]);t&&(t.off("change",this.onAssetChanged,this),t.off("remove",this.onAssetRemoved,this))}var i=this.data;delete i.animation,delete i.skeleton,delete i.fromSkel,delete i.toSkel,delete i.animEvaluator}}),Object.defineProperties(dl.prototype,{currentTime:{get:function(){var e=this.data;if(e.skeleton)return this.data.skeleton._time;if(e.animEvaluator){var t=e.animEvaluator.clips;if(t.length>0)return t[t.length-1].time}return 0},set:function(e){var t=this.data;if(t.skeleton){var i=t.skeleton;i.currentTime=e,i.addTime(0),i.updateGraph()}if(t.animEvaluator)for(var r=t.animEvaluator,n=0;n<r.clips.length;++n)r.clips[n].time=e}},duration:{get:function(){return this.data.animations[this.data.currAnim].duration}}});var _l=["enabled","assets","speed","loop","activate","animations","skeleton","model","prevAnim","currAnim","fromSkel","toSkel","blending","blendTimeRemaining","playing"];function ml(e){cl.call(this,e),this.id="animation",this.ComponentType=dl,this.DataType=pl,this.schema=_l,this.on("beforeremove",this.onBeforeRemove,this),this.on("update",this.onUpdate,this),cl.bind("update",this.onUpdate,this)}function bl(e,t){this.animComponent=e,t?qn.call(this,t):this.propertyLocator=new jn}function Al(e,t,i){this._name=e,this._controller=t,this._component=i}function vl(e,t,i,r){this._controller=e,this._name=t,this._animations=[],this._speed=i||1,this._loop=void 0===r||r}function yl(e,t,i,r,n,a,s,o,l){this._controller=e,this._from=t,this._to=i,this._time=r,this._priority=n,this._conditions=a||[],this._exitTime=s||null,this._transitionOffset=o||null,this._interruptionSource=l||"NONE"}function gl(e,t,i,r,n){var a;for(this._animEvaluator=e,this._states={},this._stateNames=[],a=0;a<t.length;a++)this._states[t[a].name]=new vl(this,t[a].name,t[a].speed,t[a].loop),this._stateNames.push(t[a].name);this._transitions=i.map(function(e){return new yl(this,e.from,e.to,e.time,e.priority,e.conditions,e.exitTime,e.transitionOffset,e.interruptionSource)}.bind(this)),this._findTransitionsFromStateCache={},this._findTransitionsBetweenStatesCache={},this._parameters=r,this._previousStateName=null,this._activeStateName="START",this._playing=!1,this._activate=n,this._currTransitionTime=1,this._totalTransitionTime=1,this._isTransitioning=!1,this._transitionInterruptionSource="NONE",this._transitionPreviousStates=[],this._timeInState=0,this._timeInStateBefore=0}function kl(e,t){ll.call(this,e,t)}function xl(){this.stateGraphAsset=null,this.animationAssets={},this.speed=1,this.activate=!0,this.enabled=!0,this.playing=!1,this.stateGraph=null,this.layers=[],this.layerIndices={},this.parameters={}}ml.prototype=Object.create(cl.prototype),ml.prototype.constructor=ml,ll._buildAccessors(dl.prototype,_l),Object.assign(ml.prototype,{initializeComponentData:function(e,t,i){i=["activate","enabled","loop","speed","assets"],cl.prototype.initializeComponentData.call(this,e,t,i)},cloneComponent:function(e,t){var i;this.addComponent(t,{}),t.animation.assets=e.animation.assets.slice(),t.animation.data.speed=e.animation.speed,t.animation.data.loop=e.animation.loop,t.animation.data.activate=e.animation.activate,t.animation.data.enabled=e.animation.enabled;var r={},n=e.animation.animations;for(i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);t.animation.animations=r;var a={},s=e.animation.animationsIndex;for(i in s)s.hasOwnProperty(i)&&(a[i]=s[i]);t.animation.animationsIndex=a},onBeforeRemove:function(e,t){t.onBeforeRemove()},onUpdate:function(e){var t=this.store;for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],n=r.data;if(n.enabled&&r.entity.enabled){if(n.blending&&(n.blend+=e*n.blendSpeed,n.blend>=1&&(n.blend=1)),n.playing){var a=n.skeleton;if(null!==a&&null!==n.model){if(n.blending)a.blend(n.fromSkel,n.toSkel,n.blend);else{var s=e*n.speed;a.addTime(s),(n.speed>0&&a._time===a._animation.duration&&!n.loop||n.speed<0&&0===a._time&&!n.loop)&&(n.playing=!1)}n.blending&&1===n.blend&&(a.animation=n.toSkel._animation),a.updateGraph()}}var o=n.animEvaluator;if(o){for(var l=0;l<o.clips.length;++l){var c=o.clips[l];c.speed=n.speed,n.playing?c.resume():c.pause()}n.blending&&(o.clips[1].blendWeight=n.blend),o.update(e)}n.blending&&1===n.blend&&(n.blending=!1)}}}}),bl.prototype=Object.create(qn.prototype),bl.prototype.constructor=bl,bl._packFloat=function(e){return e[0]},bl._packBoolean=function(e){return!!e[0]},bl._packVec2=function(){var e=new O;return function(t){return e.x=t[0],e.y=t[1],e}}(),bl._packVec3=function(){var e=new I;return function(t){return e.x=t[0],e.y=t[1],e.z=t[2],e}}(),bl._packVec4=function(){var e=new D;return function(t){return e.x=t[0],e.y=t[1],e.z=t[2],e.w=t[3],e}}(),bl._packColor=function(){var e=new v;return function(t){return e.r=t[0],e.g=t[1],e.b=t[2],e.a=t[3],e}}(),bl._packQuat=function(){var e=new B;return function(t){return e.x=t[0],e.y=t[1],e.z=t[2],e.w=t[3],e}}(),Object.assign(bl.prototype,{resolve:function(e){var t,i=this.propertyLocator.decode(e),r=i[0],n=i[1],a=i[2],s=this._getEntityFromHierarchy(r);if(!s)return null;switch(n){case"entity":t=s;break;case"graph":if(!this.nodes||!this.nodes[r[0]])return null;t=this.nodes[r[0]].node;break;default:if(!(t=s.findComponent(n)))return null}return this._createAnimTargetForProperty(t,a)},update:function(e){var t=this.activeNodes;if(t)for(var i=0;i<t.length;i++)t[i]._dirtifyLocal()},_getEntityFromHierarchy:function(e){if(!this.animComponent.entity.name===e[0])return null;var t=this.animComponent.entity;return 1===e.length?t:t._parent.findByPath(e.join("/"))},_resolvePath:function(e,t,i){for(var r=t.length-(i?0:1),n=0;n<r;n++)e=e[t[n]];return e},_setter:function(e,t,i){var r=this._resolvePath(e,t),n=t[t.length-1],a="set"+n.substring(0,1).toUpperCase()+n.substring(1);if(r[a]){var s=r[a].bind(r);return function(e){s(i(e))}}var o=r[n];if("object"===typeof o&&o.hasOwnProperty("copy"))return function(e){o.copy(i(e))};if(-1!==[O,I,D,v,B].indexOf(r.constructor)&&t.length>1){var l=t.length>2?this._resolvePath(e,t.slice(0,-1)):e,c=t[t.length-2];return function(e){r[n]=i(e),l[c]=r}}return function(e){r[n]=i(e)}},_createAnimTargetForProperty:function(e,t){if(this.handlers&&"weights"===t[0])return this.handlers.weights(e);if(this.handlers&&"material"===t[0]&&2===t.length){var i=t[1];if(i.indexOf("Map")===i.length-3)return this.handlers.materialTexture(e,i)}var r,n,a,s=this._resolvePath(e,t,!0);if("undefined"===typeof s)return null;if("number"===typeof s)r=this._setter(e,t,bl._packFloat),n="vector",a=1;else if("boolean"===typeof s)r=this._setter(e,t,bl._packBoolean),n="vector",a=1;else if("object"===typeof s)switch(s.constructor){case O:r=this._setter(e,t,bl._packVec2),n="vector",a=2;break;case I:r=this._setter(e,t,bl._packVec3),n="vector",a=3;break;case D:r=this._setter(e,t,bl._packVec4),n="vector",a=4;break;case v:r=this._setter(e,t,bl._packColor),n="vector",a=4;break;case B:r=this._setter(e,t,bl._packQuat),n="quaternion",a=4;break;default:return null}return-1!==t.indexOf("material")?new Qn((function(t){r(t),e.material.update()}),n,a):new Qn(r,n,a)}}),Object.assign(Al.prototype,{play:function(e){this._controller.play(e)},pause:function(){this._controller.pause()},reset:function(){this._controller.reset()},update:function(e){this._controller.update(e)},assignAnimation:function(e,t){t.constructor===Yn&&(this._controller.assignAnimation(e,t),this._component.activate&&this._component.playable&&(this._component.playing=!0))},removeNodeAnimations:function(e){this._controller.removeNodeAnimations(e),this._component.playing=!1}}),Object.defineProperties(Al.prototype,{name:{get:function(){return this._name}},playing:{get:function(){return this._controller.playing},set:function(e){this._controller.playing=e}},playable:{get:function(){return this._controller.playable}},activeState:{get:function(){return this._controller.activeStateName}},previousState:{get:function(){return this._controller.previousStateName}},activeStateProgress:{get:function(){return this._controller.activeStateProgress}},activeStateDuration:{get:function(){return this._controller.activeStateDuration}},activeStateCurrentTime:{get:function(){return this._controller.activeStateCurrentTime},set:function(e){this._controller.activeStateCurrentTime=e}},transitioning:{get:function(){return this._controller.transitioning}},transitionProgress:{get:function(){return this.transitioning?this._controller.transitionProgress:null}},states:{get:function(){return this._controller.states}}}),Object.defineProperties(vl.prototype,{name:{get:function(){return this._name}},animations:{get:function(){return this._animations},set:function(e){this._animations=e}},speed:{get:function(){return this._speed}},loop:{get:function(){return this._loop}},playable:{get:function(){return this.animations.length>0||"START"===this.name||"END"===this.name}},looping:{get:function(){if(this.animations.length>0){var e=this.name+"."+this.animations[0].animTrack.name,t=this._controller.animEvaluator.findClip(e);if(t)return t.loop}return!1}},totalWeight:{get:function(){var e,t=0;for(e=0;e<this.animations.length;e++)t+=this.animations[e].weight;return t}},timelineDuration:{get:function(){var e,t=0;for(e=0;e<this.animations.length;e++){var i=this.animations[e];i.animTrack.duration>t&&(t=i.animTrack.duration>t)}return t}}}),Object.defineProperties(yl.prototype,{from:{get:function(){return this._from}},to:{get:function(){return this._to}},time:{get:function(){return this._time}},priority:{get:function(){return this._priority}},conditions:{get:function(){return this._conditions}},exitTime:{get:function(){return this._exitTime}},transitionOffset:{get:function(){return this._transitionOffset}},interruptionSource:{get:function(){return this._interruptionSource}},hasExitTime:{get:function(){return!!this.exitTime}},hasConditionsMet:{get:function(){var e,t=!0;for(e=0;e<this.conditions.length;e++){var i=this.conditions[e],r=this._controller.findParameter(i.parameterName);switch(i.predicate){case"GREATER_THAN":t=t&&r.value>i.value;break;case"LESS_THAN":t=t&&r.value<i.value;break;case"GREATER_THAN_EQUAL_TO":t=t&&r.value>=i.value;break;case"LESS_THAN_EQUAL_TO":t=t&&r.value<=i.value;break;case"EQUAL_TO":t=t&&r.value===i.value;break;case"NOT_EQUAL_TO":t=t&&r.value!==i.value}if(!t)return t}return t}}}),Object.defineProperties(gl.prototype,{animEvaluator:{get:function(){return this._animEvaluator}},activeState:{get:function(){return this._findState(this._activeStateName)},set:function(e){this._activeStateName=e}},activeStateName:{get:function(){return this._activeStateName}},activeStateAnimations:{get:function(){return this.activeState.animations}},previousState:{get:function(){return this._findState(this._previousStateName)},set:function(e){this._previousStateName=e}},previousStateName:{get:function(){return this._previousStateName}},playable:{get:function(){var e,t=!0;for(e=0;e<this._stateNames.length;e++)this._states[this._stateNames[e]].playable||(t=!1);return t}},playing:{get:function(){return this._playing},set:function(e){this._playing=e}},activeStateProgress:{get:function(){return this._getActiveStateProgressForTime(this._timeInState)}},activeStateDuration:{get:function(){if("START"===this.activeStateName||"END"===this.activeStateName)return 0;for(var e=0,t=0;t<this.activeStateAnimations.length;t++){var i=this._animEvaluator.findClip(this.activeStateAnimations[t].name);e=Math.max(e,i.track.duration)}return e}},activeStateCurrentTime:{get:function(){return this._timeInState},set:function(e){this._timeInStateBefore=e,this._timeInState=e;for(var t=0;t<this.activeStateAnimations.length;t++){var i=this.animEvaluator.findClip(this.activeStateAnimations[t].name);i&&(i.time=e)}}},transitioning:{get:function(){return this._isTransitioning}},transitionProgress:{get:function(){return this._currTransitionTime/this._totalTransitionTime}},states:{get:function(){return this._stateNames}}}),Object.assign(gl.prototype,{_findState:function(e){return this._states[e]},_getActiveStateProgressForTime:function(e){if("START"===this.activeStateName||"END"===this.activeStateName)return 1;var t=this._animEvaluator.findClip(this.activeStateAnimations[0].name);return t?e/t.track.duration:null},_findTransitionsFromState:function(e){var t=this._findTransitionsFromStateCache[e];return t||((t=this._transitions.filter((function(t){return t.from===e}))).sort((function(e,t){return e.priority<t.priority})),this._findTransitionsFromStateCache[e]=t),t},_findTransitionsBetweenStates:function(e,t){var i=this._findTransitionsBetweenStatesCache[e+"->"+t];return i||((i=this._transitions.filter((function(i){return i.from===e&&i.to===t}))).sort((function(e,t){return e.priority<t.priority})),this._findTransitionsBetweenStatesCache[e+"->"+t]=i),i},_findTransition:function(e,t){var i=[];if(e&&t)i.concat(this._findTransitionsBetweenStates(e,t));else if(this._isTransitioning)switch(this._transitionInterruptionSource){case"PREV_STATE":i=(i=i.concat(this._findTransitionsFromState(this._previousStateName))).concat(this._findTransitionsFromState("ANY"));break;case"NEXT_STATE":i=(i=i.concat(this._findTransitionsFromState(this._activeStateName))).concat(this._findTransitionsFromState("ANY"));break;case"PREV_STATE_NEXT_STATE":i=(i=(i=i.concat(this._findTransitionsFromState(this._previousStateName))).concat(this._findTransitionsFromState(this._activeStateName))).concat(this._findTransitionsFromState("ANY"));break;case"NEXT_STATE_PREV_STATE":i=(i=(i=i.concat(this._findTransitionsFromState(this._activeStateName))).concat(this._findTransitionsFromState(this._previousStateName))).concat(this._findTransitionsFromState("ANY"))}else i=(i=i.concat(this._findTransitionsFromState(this._activeStateName))).concat(this._findTransitionsFromState("ANY"));return(i=i.filter(function(e){if(e.to===this.activeStateName)return!1;if(e.hasExitTime){var t=this._getActiveStateProgressForTime(this._timeInStateBefore),i=this._getActiveStateProgressForTime(this._timeInState);if(e.exitTime<1&&this.activeState.looping&&(t-=Math.floor(t),i-=Math.floor(i)),!(e.exitTime>t&&e.exitTime<=i))return null}return e.hasConditionsMet}.bind(this))).length>0?i[0]:null},_updateStateFromTransition:function(e){var t,i,r,n,a;for(this.previousState=e.from,this.activeState=e.to,t=0;t<e.conditions.length;t++){var s=e.conditions[t],o=this.findParameter(s.parameterName);"TRIGGER"===o.type&&(o.value=!1)}if(this.previousState){this._isTransitioning||(this._transitionPreviousStates=[]),this._transitionPreviousStates.push({name:this._previousStateName,weight:1});var l=this._currTransitionTime/this._totalTransitionTime;for(t=0;t<this._transitionPreviousStates.length;t++)for(this._isTransitioning?t!==this._transitionPreviousStates.length-1?this._transitionPreviousStates[t].weight*=1-l:this._transitionPreviousStates[t].weight=l:this._transitionPreviousStates[t].weight=1,r=this._findState(this._transitionPreviousStates[t].name),i=0;i<r.animations.length;i++)n=r.animations[i],(a=this._animEvaluator.findClip(n.name+".previous."+t))||((a=this._animEvaluator.findClip(n.name)).name=n.name+".previous."+t),t!==this._transitionPreviousStates.length-1&&a.pause()}e.time>0&&(this._isTransitioning=!0,this._totalTransitionTime=e.time,this._currTransitionTime=0,this._transitionInterruptionSource=e.interruptionSource);var c=e.transitionOffset&&e.transitionOffset>0&&e.transitionOffset<1,f=this.activeState;for(t=0;t<f.animations.length;t++)if((a=this._animEvaluator.findClip(f.animations[t].name))?a.reset():((a=new Zn(f.animations[t].animTrack,0,f.speed,!0,f.loop)).name=f.animations[t].name,this._animEvaluator.addClip(a)),e.time>0?a.blendWeight=0:a.blendWeight=1/f.totalWeight,a.play(),c)a.time=f.timelineDuration*e.transitionOffset;else{var h=f.speed>=0?0:this.activeStateDuration;a.time=h}var u=0,d=0;if(c){var p=f.timelineDuration*e.transitionOffset;u=p,d=p}this._timeInState=u,this._timeInStateBefore=d},_transitionToState:function(e){if(e!==this._activeStateName&&this._findState(e)){var t=this._findTransition(this._activeStateName,e);t||(this._animEvaluator.removeClips(),t=new yl(this,null,e,0,0)),this._updateStateFromTransition(t)}},assignAnimation:function(e,t){var i=this._findState(e);if(i){var r={name:e+"."+t.name,animTrack:t,weight:1};i.animations.length>0&&(i.animations=[],this.reset()),i.animations.push(r),!this._playing&&this._activate&&this.playable&&this.play()}},removeNodeAnimations:function(e){var t=this._findState(e);t&&(t.animations=[])},play:function(e){e&&this._transitionToState(e),this._playing=!0},pause:function(){this._playing=!1},reset:function(){this._previousStateName=null,this._activeStateName="START",this._playing=!1,this._currTransitionTime=1,this._totalTransitionTime=1,this._isTransitioning=!1,this._timeInState=0,this._timeInStateBefore=0,this._animEvaluator.removeClips()},update:function(e){if(this._playing){var t,i,r,n,a;this._timeInStateBefore=this._timeInState,this._timeInState+=e;var s=this._findTransition(this._activeStateName);if(s&&this._updateStateFromTransition(s),this._isTransitioning)if(this._currTransitionTime+=e,this._currTransitionTime<=this._totalTransitionTime){var o=this._currTransitionTime/this._totalTransitionTime;for(t=0;t<this._transitionPreviousStates.length;t++){r=this._findState(this._transitionPreviousStates[t].name);var l=this._transitionPreviousStates[t].weight;for(i=0;i<r.animations.length;i++)n=r.animations[i],(a=this._animEvaluator.findClip(n.name+".previous."+t))&&(a.blendWeight=(1-o)*n.weight/r.totalWeight*l)}for(r=this.activeState,t=0;t<r.animations.length;t++)n=r.animations[t],this._animEvaluator.findClip(n.name).blendWeight=o*n.weight/r.totalWeight}else{this._isTransitioning=!1;var c=this.activeStateAnimations.length,f=this._animEvaluator.clips.length;for(t=0;t<f-c;t++)this._animEvaluator.removeClip(0);for(this._transitionPreviousStates=[],r=this.activeState,t=0;t<r.animations.length;t++)n=r.animations[t],(a=this._animEvaluator.findClip(n.name))&&(a.blendWeight=n.weight/r.totalWeight)}this._animEvaluator.update(e)}},findParameter:function(e){return this._parameters[e]}}),kl.prototype=Object.create(ll.prototype),kl.prototype.constructor=kl,Object.assign(kl.prototype,{loadStateGraph:function(e){var t,i=this.data;i.stateGraph=e,i.parameters=e.parameters,i.layers=[];var r=this.entity.model;if(r){var n=r.model;n&&(t=n.getGraph())}function a(e,r,n,a){var s=new gl(new Kn(new bl(this,t)),r,n,i.parameters,i.activate);i.layers.push(new Al(e,s,this)),i.layerIndices[e]=a}for(var s=0;s<e.layers.length;s++){var o=e.layers[s];a.bind(this)(o.name,o.states,o.transitions,s)}this.setupAnimationAssets()},setupAnimationAssets:function(){for(var e=0;e<this.data.layers.length;e++)for(var t=this.data.layers[e],i=t.name,r=0;r<t.states.length;r++){var n=t.states[r];if("START"!==n&&"END"!==n){var a=i+":"+n;this.data.animationAssets[a]||(this.data.animationAssets[a]={asset:null})}}this.loadAnimationAssets()},loadAnimationAssets:function(){for(var e=0;e<this.data.layers.length;e++)for(var t=this.data.layers[e],i=0;i<t.states.length;i++){var r=t.states[i],n=this.data.animationAssets[t.name+":"+r];if(n&&n.asset){var a=n.asset,s=this.system.app.assets.get(a);s.resource?this.assignAnimation(r,s.resource,t.name):(s.once("load",function(e,t){return function(i){this.assignAnimation(t,i.resource,e)}.bind(this)}.bind(this)(t.name,r)),this.system.app.assets.load(s))}else this.removeNodeAnimations(r,t.name)}},removeStateGraph:function(){this.data.stateGraph=null,this.data.stateGraphAsset=null,this.data.animationAssets={},this.data.layers=[],this.data.layerIndices={},this.data.parameters={},this.data.playing=!1},resetStateGraph:function(){if(this.stateGraphAsset){var e=this.system.app.assets.get(this.stateGraphAsset).resource;this.loadStateGraph(e)}else this.removeStateGraph()},reset:function(){this.data.parameters=Object.assign({},this.data.stateGraph.parameters);for(var e=0;e<this.data.layers.length;e++){var t=this.data.layers[e].playing;this.data.layers[e].reset(),this.data.layers[e].playing=t}},findAnimationLayer:function(e){var t=this.data.layerIndices[e];return this.data.layers[t]||null},assignAnimation:function(e,t,i){if(this.data.stateGraph){var r=i?this.findAnimationLayer(i):this.baseLayer;r&&r.assignAnimation(e,t)}},removeNodeAnimations:function(e,t){var i=t?this.findAnimationLayer(t):this.baseLayer;i&&i.removeNodeAnimations(e)},getParameterValue:function(e,t){var i=this.data.parameters[e];if(i&&i.type===t)return i.value},setParameterValue:function(e,t,i){var r=this.data.parameters[e];r&&r.type===t&&(r.value=i)},getFloat:function(e){return this.getParameterValue(e,"FLOAT")},setFloat:function(e,t){this.setParameterValue(e,"FLOAT",t)},getInteger:function(e){return this.getParameterValue(e,"INTEGER")},setInteger:function(e,t){"number"===typeof t&&t%1===0&&this.setParameterValue(e,"INTEGER",t)},getBoolean:function(e){return this.getParameterValue(e,"BOOLEAN")},setBoolean:function(e,t){this.setParameterValue(e,"BOOLEAN",!!t)},getTrigger:function(e){return this.getParameterValue(e,"TRIGGER")},setTrigger:function(e){this.setParameterValue(e,"TRIGGER",!0)},resetTrigger:function(e){this.setParameterValue(e,"TRIGGER",!1)}}),Object.defineProperties(kl.prototype,{stateGraphAsset:{get:function(){return this.data.stateGraphAsset},set:function(e){var t,i;null!==e?(e instanceof pa?(t=e.id,(i=this.system.app.assets.get(t))||(this.system.app.assets.add(e),i=this.system.app.assets.get(t))):(t=e,i=this.system.app.assets.get(t)),i&&this.data.stateGraphAsset!==t&&(i.resource?(this.data.stateGraph=i.resource,this.loadStateGraph(this.data.stateGraph),i.on("change",function(e){this.data.stateGraph=new Ga(e._data),this.loadStateGraph(this.data.stateGraph)}.bind(this))):(i.once("load",function(e){this.data.stateGraph=e.resource,this.loadStateGraph(this.data.stateGraph)}.bind(this)),i.on("change",function(e){this.data.stateGraph=new Ga(e._data),this.loadStateGraph(this.data.stateGraph)}.bind(this)),this.system.app.assets.load(i)),this.data.stateGraphAsset=t)):this.removeStateGraph()}},animationAssets:{get:function(){return this.data.animationAssets},set:function(e){this.data.animationAssets=e,this.loadAnimationAssets()}},playable:{get:function(){for(var e=0;e<this.data.layers.length;e++)if(!this.data.layers[e].playable)return!1;return!0}},baseLayer:{get:function(){return this.data.layers.length>0?this.data.layers[0]:null}}});var Sl=["enabled","speed","activate","playing"];function Tl(e){cl.call(this,e),this.id="anim",this.ComponentType=kl,this.DataType=xl,this.schema=Sl,this.on("beforeremove",this.onBeforeRemove,this),cl.bind("animationUpdate",this.onAnimationUpdate,this)}function wl(e,t){ll.call(this,e,t)}function El(){this.enabled=!0}Tl.prototype=Object.create(cl.prototype),Tl.prototype.constructor=Tl,ll._buildAccessors(kl.prototype,Sl),Object.assign(Tl.prototype,{initializeComponentData:function(e,t,i){i=["activate","enabled","speed","playing"],cl.prototype.initializeComponentData.call(this,e,t,i),t.stateGraphAsset&&(e.stateGraphAsset=t.stateGraphAsset),t.animationAssets&&(e.animationAssets=Object.assign(e.data.animationAssets,t.animationAssets))},onAnimationUpdate:function(e){var t=this.store;for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],n=r.data;if(n.enabled&&r.entity.enabled&&n.playing)for(var a=0;a<n.layers.length;a++)n.layers[a].update(e*n.speed)}}}),wl.prototype=Object.create(ll.prototype),wl.prototype.constructor=wl,Object.assign(wl.prototype,{setCurrentListener:function(){if(this.enabled&&this.entity.audiolistener&&this.entity.enabled){this.system.current=this.entity;var e=this.system.current.getPosition();this.system.manager.listener.setPosition(e)}},onEnable:function(){this.setCurrentListener()},onDisable:function(){this.system.current===this.entity&&(this.system.current=null)}});var Ml=["enabled"];function Pl(e,t){cl.call(this,e),this.id="audiolistener",this.ComponentType=wl,this.DataType=El,this.schema=Ml,this.manager=t,this.current=null,cl.bind("update",this.onUpdate,this)}function Rl(e,t){ll.call(this,e,t),this.on("set_assets",this.onSetAssets,this),this.on("set_loop",this.onSetLoop,this),this.on("set_volume",this.onSetVolume,this),this.on("set_pitch",this.onSetPitch,this),this.on("set_minDistance",this.onSetMinDistance,this),this.on("set_maxDistance",this.onSetMaxDistance,this),this.on("set_rollOffFactor",this.onSetRollOffFactor,this),this.on("set_distanceModel",this.onSetDistanceModel,this),this.on("set_3d",this.onSet3d,this)}function Cl(){this.enabled=!0,this.assets=[],this.activate=!0,this.volume=1,this.pitch=1,this.loop=!1,this["3d"]=!0,this.minDistance=1,this.maxDistance=1e4,this.rollOffFactor=1,this.distanceModel="inverse",this.paused=!0,this.sources={},this.currentSource=null,this.channel=null}Pl.prototype=Object.create(cl.prototype),Pl.prototype.constructor=Pl,ll._buildAccessors(wl.prototype,Ml),Object.assign(Pl.prototype,{initializeComponentData:function(e,t,i){i=["enabled"],cl.prototype.initializeComponentData.call(this,e,t,i)},onUpdate:function(e){if(this.current){var t=this.current.getPosition();this.manager.listener.setPosition(t);var i=this.current.getWorldTransform();this.manager.listener.setOrientation(i)}}}),Rl.prototype=Object.create(ll.prototype),Rl.prototype.constructor=Rl,Object.assign(Rl.prototype,{play:function(e){if(this.enabled&&this.entity.enabled){var t;this.channel&&this.stop();var i=this.data;if(i.sources[e])if(i["3d"]){var r=this.entity.getPosition();t=this.system.manager.playSound3d(i.sources[e],r,i),i.currentSource=e,i.channel=t}else t=this.system.manager.playSound(i.sources[e],i),i.currentSource=e,i.channel=t}},pause:function(){this.channel&&this.channel.pause()},unpause:function(){this.channel&&this.channel.paused&&this.channel.unpause()},stop:function(){this.channel&&(this.channel.stop(),this.channel=null)},onSetAssets:function(e,t,i){var r,n=[],a=i.length;if(t&&t.length)for(r=0;r<t.length;r++)if(t[r]){var s=this.system.app.assets.get(t[r]);s&&(s.off("change",this.onAssetChanged,this),s.off("remove",this.onAssetRemoved,this),this.currentSource===s.name&&this.stop())}if(a)for(r=0;r<a;r++)t.indexOf(i[r])<0&&(i[r]instanceof pa?n.push(i[r].id):n.push(i[r]));!this.system._inTools&&n.length&&this.loadAudioSourceAssets(n)},onAssetChanged:function(e,t,i,r){"resource"===t&&this.data.sources&&(this.data.sources[e.name]=i,this.data.currentSource===e.name&&this.channel&&(this.channel.paused?(this.play(e.name),this.pause()):this.play(e.name)))},onAssetRemoved:function(e){e.off("remove",this.onAssetRemoved,this),this.data.sources[e.name]&&(delete this.data.sources[e.name],this.data.currentSource===e.name&&(this.stop(),this.data.currentSource=null))},onSetLoop:function(e,t,i){t!=i&&this.channel&&this.channel.setLoop(i)},onSetVolume:function(e,t,i){t!=i&&this.channel&&this.channel.setVolume(i)},onSetPitch:function(e,t,i){t!=i&&this.channel&&this.channel.setPitch(i)},onSetMaxDistance:function(e,t,i){t!=i&&this.channel instanceof _n&&this.channel.setMaxDistance(i)},onSetMinDistance:function(e,t,i){t!=i&&this.channel instanceof _n&&this.channel.setMinDistance(i)},onSetRollOffFactor:function(e,t,i){t!=i&&this.channel instanceof _n&&this.channel.setRollOffFactor(i)},onSetDistanceModel:function(e,t,i){t!==i&&this.channel instanceof _n&&this.channel.setDistanceModel(i)},onSet3d:function(e,t,i){if(t!==i&&this.system.initialized&&this.currentSource){var r=!1,n=!1;this.channel&&(r=this.channel.paused,n=this.channel.suspended),this.play(this.currentSource),this.channel&&(this.channel.paused=r,this.channel.suspended=n)}},onEnable:function(){var e=this.data.assets;if(e)for(var t=this.system.app.assets,i=0,r=e.length;i<r;i++){var n=e[i];n instanceof pa||(n=t.get(n)),n&&!n.resource&&t.load(n)}this.system.initialized&&(this.data.activate&&!this.channel?this.play(this.currentSource):this.unpause())},onDisable:function(){this.pause()},loadAudioSourceAssets:function(e){var t=this,i=e.map((function(e){return this.system.app.assets.get(e)}),this),r={},n=null,a=i.length,s=function(e){a--},o=function(){this.data.sources=r,this.data.currentSource=n,this.enabled&&this.activate&&n&&this.onEnable()}.bind(this);i.forEach((function(i,l){i?(n=n||i.name,i.off("change",this.onAssetChanged,this),i.on("change",this.onAssetChanged,this),i.off("remove",this.onAssetRemoved,this),i.on("remove",this.onAssetRemoved,this),i.off("error",s,this),i.on("error",s,this),i.ready((function(e){r[e.name]=e.resource,0===--a&&o()})),!i.resource&&t.enabled&&t.entity.enabled&&this.system.app.assets.load(i)):(0===--a&&o(),this.system.app.assets.on("add:"+e[l],(function(e){e.ready((function(e){t.data.sources[e.name]=e.resource})),e.resource||t.system.app.assets.load(e)})))}),this)}});var Ol=["enabled","assets","volume","pitch","loop","activate","3d","minDistance","maxDistance","rollOffFactor","distanceModel","sources","currentSource","channel"];function Il(e,t){cl.call(this,e),this.id="audiosource",this.ComponentType=Rl,this.DataType=Cl,this.schema=Ol,this.manager=t,this.initialized=!1,cl.bind("initialize",this.onInitialize,this),cl.bind("update",this.onUpdate,this),this.on("remove",this.onRemove,this)}function Dl(e,t,i){if(!(e&&e instanceof ll))throw new Error("The parentComponent argument is required and must be a Component");if(!t||"string"!==typeof t)throw new Error("The propertyName argument is required and must be a string");if(i&&"object"!==typeof i)throw new Error("If provided, the eventConfig argument must be an object");this._parentComponent=e,this._entityPropertyName=t,this._entity=null,this._app=e.system.app,this._configureEventListeners(i||{},{"entity#destroy":this._onEntityDestroy}),this._toggleLifecycleListeners("on")}Il.prototype=Object.create(cl.prototype),Il.prototype.constructor=Il,ll._buildAccessors(Rl.prototype,Ol),Object.assign(Il.prototype,{initializeComponentData:function(e,t,i){i=["activate","volume","pitch","loop","3d","minDistance","maxDistance","rollOffFactor","distanceModel","enabled","assets"],cl.prototype.initializeComponentData.call(this,e,t,i),e.paused=!(e.enabled&&e.activate)},onInitialize:function(e){e.audiosource&&e.enabled&&e.audiosource.enabled&&e.audiosource.activate&&e.audiosource.play(e.audiosource.currentSource);var t,i=e._children,r=i.length;for(t=0;t<r;t++)i[t]instanceof Un&&this.onInitialize(i[t]);this.initialized=!0},onUpdate:function(e){var t=this.store;for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],n=r.entity,a=r.data;if(a.enabled&&n.enabled&&a.channel instanceof _n){var s=n.getPosition();a.channel.setPosition(s)}}},onRemove:function(e,t){t.channel&&(t.channel.stop(),t.channel=null)},setVolume:function(e){this.manager.setVolume(e)}}),Object.assign(Dl.prototype,{_configureEventListeners:function(e,t){var i=this._parseEventListenerConfig(e,"external",this._parentComponent),r=this._parseEventListenerConfig(t,"internal",this);this._eventListenerConfigs=i.concat(r),this._listenerStatusFlags={},this._gainListeners={},this._loseListeners={}},_parseEventListenerConfig:function(e,t,i){return Object.keys(e).map((function(r,n){var a=r.split("#"),s=a[0],o=a[1],l=e[r];if(2!==a.length||"string"!==typeof s||0===s.length||"string"!==typeof o||0===o.length)throw new Error("Invalid event listener description: `"+r+"`");if("function"!==typeof l)throw new Error("Invalid or missing callback for event listener `"+r+"`");return{id:t+"_"+n+"_"+r,sourceName:s,eventName:o,callback:l,scope:i}}),this)},_toggleLifecycleListeners:function(e){this._parentComponent[e]("set_"+this._entityPropertyName,this._onSetEntity,this),this._parentComponent.system[e]("beforeremove",this._onParentComponentRemove,this),cl[e]("postinitialize",this._onPostInitialize,this),this._app[e]("tools:sceneloaded",this._onSceneLoaded,this);for(var t=[],i=0;i<this._eventListenerConfigs.length;++i){var r=this._eventListenerConfigs[i],n=this._app.systems[r.sourceName];n&&(-1===t.indexOf(n)&&t.push(n),n&&"gain"===r.eventName&&(this._gainListeners[r.sourceName]=r),n&&"lose"===r.eventName&&(this._loseListeners[r.sourceName]=r))}for(var a=0;a<t.length;++a)t[a][e]("add",this._onComponentAdd,this),t[a][e]("beforeremove",this._onComponentRemove,this)},_onSetEntity:function(e,t,i){if(i instanceof Un)this._updateEntityReference();else{if(null!==i&&void 0!==i&&"string"!==typeof i)return void console.warn("Entity field `"+this._entityPropertyName+"` was set to unexpected type '"+typeof i+"'");t!==i&&this._updateEntityReference()}},_onPostInitialize:function(){this._updateEntityReference()},onParentComponentEnable:function(){this._entity||this._updateEntityReference()},_onSceneLoaded:function(){this._updateEntityReference()},_updateEntityReference:function(){var e,t=this._parentComponent.data[this._entityPropertyName];if(t instanceof Un)t=(e=t).getGuid(),this._parentComponent.data[this._entityPropertyName]=t;else{var i=this._parentComponent.system.app.root;e=this._parentComponent.entity.isDescendantOf(i)&&t?i.findByGuid(t):null}this._entity!==e&&(this._entity&&this._onBeforeEntityChange(),this._entity=e,this._entity&&this._onAfterEntityChange())},_onBeforeEntityChange:function(){this._toggleEntityListeners("off"),this._callAllGainOrLoseListeners(this._loseListeners)},_onAfterEntityChange:function(){this._toggleEntityListeners("on"),this._callAllGainOrLoseListeners(this._gainListeners)},_onComponentAdd:function(e,t){var i=t.system.id;e===this._entity&&(this._callGainOrLoseListener(i,this._gainListeners),this._toggleComponentListeners("on",i))},_onComponentRemove:function(e,t){var i=t.system.id;e===this._entity&&(this._callGainOrLoseListener(i,this._loseListeners),this._toggleComponentListeners("off",i,!0))},_callAllGainOrLoseListeners:function(e){for(var t in this._entity.c)this._callGainOrLoseListener(t,e)},_callGainOrLoseListener:function(e,t){if(this._entity.c.hasOwnProperty(e)&&t[e]){var i=t[e];i.callback.call(i.scope)}},_toggleEntityListeners:function(e,t){if(this._entity)for(var i=0;i<this._eventListenerConfigs.length;++i)this._safeToggleListener(e,this._eventListenerConfigs[i],t)},_toggleComponentListeners:function(e,t,i){for(var r=0;r<this._eventListenerConfigs.length;++r){var n=this._eventListenerConfigs[r];n.sourceName===t&&this._safeToggleListener(e,n,i)}},_safeToggleListener:function(e,t,i){var r="on"===e;if(!r||!this._listenerStatusFlags[t.id]){var n=this._getEventSource(t.sourceName,i);n&&(n[e](t.eventName,t.callback,t.scope),this._listenerStatusFlags[t.id]=r)}},_getEventSource:function(e,t){if("entity"===e)return this._entity;var i=this._entity[e];return i||(t||console.warn("Entity has no component with name "+e),null)},_onEntityDestroy:function(e){this._entity===e&&(this._toggleEntityListeners("off",!0),this._entity=null)},_onParentComponentRemove:function(e,t){t===this._parentComponent&&(this._toggleLifecycleListeners("off"),this._toggleEntityListeners("off",!0))},hasComponent:function(e){return!(!this._entity||!this._entity.c)&&!!this._entity.c[e]}}),Object.defineProperty(Dl.prototype,"entity",{get:function(){return this._entity}});var Fl="DEFAULT",Nl="HOVER",Bl="PRESSED",Ll="INACTIVE",Ul={};Ul[Fl]="_defaultTint",Ul[Nl]="hoverTint",Ul[Bl]="pressedTint",Ul[Ll]="inactiveTint";var Vl={};Vl[Fl]="_defaultSpriteAsset",Vl[Nl]="hoverSpriteAsset",Vl[Bl]="pressedSpriteAsset",Vl[Ll]="inactiveSpriteAsset";var zl={};function jl(e,t){ll.call(this,e,t),this._visualState=Fl,this._isHovering=!1,this._hoveringCounter=0,this._isPressed=!1,this._defaultTint=new v(1,1,1,1),this._defaultSpriteAsset=null,this._defaultSpriteFrame=0,this._imageReference=new Dl(this,"imageEntity",{"element#gain":this._onImageElementGain,"element#lose":this._onImageElementLose,"element#set:color":this._onSetColor,"element#set:opacity":this._onSetOpacity,"element#set:spriteAsset":this._onSetSpriteAsset,"element#set:spriteFrame":this._onSetSpriteFrame}),this._toggleLifecycleListeners("on",e)}function Wl(){this.enabled=!0,this.active=!0,this.imageEntity=null,this.hitPadding=new D,this.transitionMode=0,this.hoverTint=new v(.75,.75,.75),this.pressedTint=new v(.5,.5,.5),this.inactiveTint=new v(.25,.25,.25),this.fadeDuration=0,this.hoverSpriteAsset=null,this.hoverSpriteFrame=0,this.pressedSpriteAsset=null,this.pressedSpriteFrame=0,this.inactiveSpriteAsset=null,this.inactiveSpriteFrame=0}zl[Fl]="_defaultSpriteFrame",zl[Nl]="hoverSpriteFrame",zl[Bl]="pressedSpriteFrame",zl[Ll]="inactiveSpriteFrame",jl.prototype=Object.create(ll.prototype),jl.prototype.constructor=jl,Object.assign(jl.prototype,{_toggleLifecycleListeners:function(e,t){this[e]("set_active",this._onSetActive,this),this[e]("set_transitionMode",this._onSetTransitionMode,this),this[e]("set_hoverTint",this._onSetTransitionValue,this),this[e]("set_pressedTint",this._onSetTransitionValue,this),this[e]("set_inactiveTint",this._onSetTransitionValue,this),this[e]("set_hoverSpriteAsset",this._onSetTransitionValue,this),this[e]("set_hoverSpriteFrame",this._onSetTransitionValue,this),this[e]("set_pressedSpriteAsset",this._onSetTransitionValue,this),this[e]("set_pressedSpriteFrame",this._onSetTransitionValue,this),this[e]("set_inactiveSpriteAsset",this._onSetTransitionValue,this),this[e]("set_inactiveSpriteFrame",this._onSetTransitionValue,this),t.app.systems.element[e]("add",this._onElementComponentAdd,this),t.app.systems.element[e]("beforeremove",this._onElementComponentRemove,this)},_onSetActive:function(e,t,i){t!==i&&this._updateVisualState()},_onSetTransitionMode:function(e,t,i){t!==i&&(this._cancelTween(),this._resetToDefaultVisualState(t),this._forceReapplyVisualState())},_onSetTransitionValue:function(e,t,i){t!==i&&this._forceReapplyVisualState()},_onElementComponentRemove:function(e){this.entity===e&&this._toggleHitElementListeners("off")},_onElementComponentAdd:function(e){this.entity===e&&this._toggleHitElementListeners("on")},_onImageElementLose:function(){this._cancelTween(),this._resetToDefaultVisualState(this.transitionMode)},_onImageElementGain:function(){this._storeDefaultVisualState(),this._forceReapplyVisualState()},_toggleHitElementListeners:function(e){if(this.entity.element){var t="on"===e;if(t&&this._hasHitElementListeners)return;this.entity.element[e]("mouseenter",this._onMouseEnter,this),this.entity.element[e]("mouseleave",this._onMouseLeave,this),this.entity.element[e]("mousedown",this._onMouseDown,this),this.entity.element[e]("mouseup",this._onMouseUp,this),this.entity.element[e]("touchstart",this._onTouchStart,this),this.entity.element[e]("touchend",this._onTouchEnd,this),this.entity.element[e]("touchleave",this._onTouchLeave,this),this.entity.element[e]("touchcancel",this._onTouchCancel,this),this.entity.element[e]("selectstart",this._onSelectStart,this),this.entity.element[e]("selectend",this._onSelectEnd,this),this.entity.element[e]("selectenter",this._onSelectEnter,this),this.entity.element[e]("selectleave",this._onSelectLeave,this),this.entity.element[e]("click",this._onClick,this),this._hasHitElementListeners=t}},_storeDefaultVisualState:function(){this._imageReference.hasComponent("element")&&(this._storeDefaultColor(this._imageReference.entity.element.color),this._storeDefaultOpacity(this._imageReference.entity.element.opacity),this._storeDefaultSpriteAsset(this._imageReference.entity.element.spriteAsset),this._storeDefaultSpriteFrame(this._imageReference.entity.element.spriteFrame))},_storeDefaultColor:function(e){this._defaultTint.r=e.r,this._defaultTint.g=e.g,this._defaultTint.b=e.b},_storeDefaultOpacity:function(e){this._defaultTint.a=e},_storeDefaultSpriteAsset:function(e){this._defaultSpriteAsset=e},_storeDefaultSpriteFrame:function(e){this._defaultSpriteFrame=e},_onSetColor:function(e){this._isApplyingTint||(this._storeDefaultColor(e),this._forceReapplyVisualState())},_onSetOpacity:function(e){this._isApplyingTint||(this._storeDefaultOpacity(e),this._forceReapplyVisualState())},_onSetSpriteAsset:function(e){this._isApplyingSprite||(this._storeDefaultSpriteAsset(e),this._forceReapplyVisualState())},_onSetSpriteFrame:function(e){this._isApplyingSprite||(this._storeDefaultSpriteFrame(e),this._forceReapplyVisualState())},_onMouseEnter:function(e){this._isHovering=!0,this._updateVisualState(),this._fireIfActive("mouseenter",e)},_onMouseLeave:function(e){this._isHovering=!1,this._isPressed=!1,this._updateVisualState(),this._fireIfActive("mouseleave",e)},_onMouseDown:function(e){this._isPressed=!0,this._updateVisualState(),this._fireIfActive("mousedown",e)},_onMouseUp:function(e){this._isPressed=!1,this._updateVisualState(),this._fireIfActive("mouseup",e)},_onTouchStart:function(e){this._isPressed=!0,this._updateVisualState(),this._fireIfActive("touchstart",e)},_onTouchEnd:function(e){e.event.preventDefault(),this._isPressed=!1,this._updateVisualState(),this._fireIfActive("touchend",e)},_onTouchLeave:function(e){this._isPressed=!1,this._updateVisualState(),this._fireIfActive("touchleave",e)},_onTouchCancel:function(e){this._isPressed=!1,this._updateVisualState(),this._fireIfActive("touchcancel",e)},_onSelectStart:function(e){this._isPressed=!0,this._updateVisualState(),this._fireIfActive("selectstart",e)},_onSelectEnd:function(e){this._isPressed=!1,this._updateVisualState(),this._fireIfActive("selectend",e)},_onSelectEnter:function(e){this._hoveringCounter++,1===this._hoveringCounter&&(this._isHovering=!0,this._updateVisualState()),this._fireIfActive("selectenter",e)},_onSelectLeave:function(e){this._hoveringCounter--,0===this._hoveringCounter&&(this._isHovering=!1,this._isPressed=!1,this._updateVisualState()),this._fireIfActive("selectleave",e)},_onClick:function(e){this._fireIfActive("click",e)},_fireIfActive:function(e,t){this.data.active&&this.fire(e,t)},_updateVisualState:function(e){var t=this._visualState,i=this._determineVisualState();if((t!==i||e)&&this.enabled)switch(this._visualState=i,t===Nl&&this._fireIfActive("hoverend"),t===Bl&&this._fireIfActive("pressedend"),i===Nl&&this._fireIfActive("hoverstart"),i===Bl&&this._fireIfActive("pressedstart"),this.transitionMode){case 0:var r=this[Ul[this._visualState]];this._applyTint(r);break;case 1:var n=Vl[this._visualState],a=zl[this._visualState],s=this[n],o=this[a];this._applySprite(s,o)}},_forceReapplyVisualState:function(){this._updateVisualState(!0)},_resetToDefaultVisualState:function(e){if(this._imageReference.hasComponent("element"))switch(e){case 0:this._cancelTween(),this._applyTintImmediately(this._defaultTint);break;case 1:this._applySprite(this._defaultSpriteAsset,this._defaultSpriteFrame)}},_determineVisualState:function(){return this.active?this._isPressed?Bl:this._isHovering?Nl:Fl:Ll},_applySprite:function(e,t){t=t||0,this._imageReference.hasComponent("element")&&(this._isApplyingSprite=!0,this._imageReference.entity.element.spriteAsset=e,this._imageReference.entity.element.spriteFrame=t,this._isApplyingSprite=!1)},_applyTint:function(e){this._cancelTween(),0===this.fadeDuration?this._applyTintImmediately(e):this._applyTintWithTween(e)},_applyTintImmediately:function(e){var t;this._imageReference.hasComponent("element")&&e&&(this._isApplyingTint=!0,this._imageReference.entity.element.color=new v((t=e).r,t.g,t.b),this._imageReference.entity.element.opacity=e.a,this._isApplyingTint=!1)},_applyTintWithTween:function(e){if(this._imageReference.hasComponent("element")&&e){var t=this._imageReference.entity.element.color,i=this._imageReference.entity.element.opacity;this._tweenInfo={startTime:x(),from:new v(t.r,t.g,t.b,i),to:e.clone(),lerpColor:new v}}},_updateTintTween:function(){var e=x()-this._tweenInfo.startTime,t=0===this.fadeDuration?1:e/this.fadeDuration;if(t=A.clamp(t,0,1),Math.abs(t-1)>1e-5){var i=this._tweenInfo.lerpColor;i.lerp(this._tweenInfo.from,this._tweenInfo.to,t),this._applyTintImmediately(new v(i.r,i.g,i.b,i.a))}else this._applyTintImmediately(this._tweenInfo.to),this._cancelTween()},_cancelTween:function(){delete this._tweenInfo},onUpdate:function(){this._tweenInfo&&this._updateTintTween()},onEnable:function(){this._isHovering=!1,this._hoveringCounter=0,this._isPressed=!1,this._imageReference.onParentComponentEnable(),this._toggleHitElementListeners("on"),this._forceReapplyVisualState()},onDisable:function(){this._toggleHitElementListeners("off"),this._resetToDefaultVisualState(this.transitionMode)},onRemove:function(){this._toggleLifecycleListeners("off",this.system),this.onDisable()}});var Gl,Hl=["enabled","active",{name:"imageEntity",type:"entity"},{name:"hitPadding",type:"vec4"},"transitionMode",{name:"hoverTint",type:"rgba"},{name:"pressedTint",type:"rgba"},{name:"inactiveTint",type:"rgba"},"fadeDuration","hoverSpriteAsset","hoverSpriteFrame","pressedSpriteAsset","pressedSpriteFrame","inactiveSpriteAsset","inactiveSpriteFrame"];function Yl(e){cl.call(this,e),this.id="button",this.ComponentType=jl,this.DataType=Wl,this.schema=Hl,this.on("beforeremove",this._onRemoveComponent,this),cl.bind("update",this.onUpdate,this)}function Xl(e,t){var i=this;this.app=e,this.camera=t,this.effects=[],this.enabled=!1,this.depthTarget=null,this.renderTargetScale=1,this.resizeTimeout=null,this.resizeLast=0,this._resizeTimeoutCallback=function(){i.resizeRenderTargets()},t.on("set_rect",this.onCameraRectChanged,this),this._origOverrideClear=!1,this._origClearColorBuffer=!1,this._origDepthColorBuffer=!1,this._origStencilColorBuffer=!1}Yl.prototype=Object.create(cl.prototype),Yl.prototype.constructor=Yl,ll._buildAccessors(jl.prototype,Hl),Object.assign(Yl.prototype,{initializeComponentData:function(e,t,i){cl.prototype.initializeComponentData.call(this,e,t,Hl)},onUpdate:function(e){var t=this.store;for(var i in t){var r=t[i].entity,n=r.button;n.enabled&&r.enabled&&n.onUpdate()}},_onRemoveComponent:function(e,t){t.onRemove()}}),Object.assign(Xl.prototype,{_createOffscreenTarget:function(e,t){var i=this.camera.rect,r=Math.floor(i.z*this.app.graphicsDevice.width*this.renderTargetScale),n=Math.floor(i.w*this.app.graphicsDevice.height*this.renderTargetScale),a=this.app.graphicsDevice,s=t?a.getHdrFormat():7,o=this.app.graphicsDevice.supportsStencil,l=e?a.samples:1,c=new nt(a,{format:s,width:r,height:n});return c.name="posteffect #"+this.effects.length,c.minFilter=0,c.magFilter=0,c.addressU=1,c.addressV=1,new qu(this.app.graphicsDevice,c,{depth:e,stencil:o,samples:l})},_resizeOffscreenTarget:function(e){var t=this.camera.rect,i=Math.floor(t.z*this.app.graphicsDevice.width*this.renderTargetScale),r=Math.floor(t.w*this.app.graphicsDevice.height*this.renderTargetScale),n=this.app.graphicsDevice,a=e.colorBuffer.format;e._colorBuffer.destroy();var s=new nt(n,{format:a,width:i,height:r});s.name="posteffect",s.minFilter=0,s.magFilter=0,s.addressU=1,s.addressV=1,e._colorBuffer=s,e.destroy()},_destroyOffscreenTarget:function(e){e._colorBuffer&&e._colorBuffer.destroy(),e._depthBuffer&&e._depthBuffer.destroy(),e.destroy()},setRenderTargetScale:function(e){this.renderTargetScale=e,this.resizeRenderTargets()},addEffect:function(e){var t=0===this.effects.length,i=this.effects,r={effect:e,inputTarget:this._createOffscreenTarget(t,e.hdr),outputTarget:null};if(!this.layer){this.layer=new oi({opaqueSortMode:0,transparentSortMode:0,passThrough:!0,name:"PostEffectQueue",renderTarget:this.camera.renderTarget,clear:!1,onPostRender:function(){for(var e=0;e<this._commandList.length;e++)this._commandList[e]()}});var n,a=this.app.scene.layers.layerList,s=0,o=a.length-1;for(n=o;n>=0;n--)if(4===a[n].id){o=n-1,this._origOverrideClear=a[n].overrideClear,this._origClearColorBuffer=a[n].clearColorBuffer,this._origDepthColorBuffer=a[n].clearDepthBuffer,this._origStencilColorBuffer=a[n].clearStencilBuffer,a[n].overrideClear=!0,a[n].clearColorBuffer=!1,a[n].clearDepthBuffer=this.camera.clearDepthBuffer,a[n].clearStencilBuffer=this.camera.clearStencilBuffer;break}for(this._sourceLayers=[],n=0;n<this.camera.layers.length;n++){var l=this.camera.layers[n],c=this.app.scene.layers.getLayerById(l),f=this.app.scene.layers.layerList.indexOf(c);f<=o&&(1!=l&&(c.renderTarget=r.inputTarget,this._sourceLayers.push(c)),f>s&&(s=f))}this.app.scene.layers.insertOpaque(this.layer,s+1),this._sourceTarget=r.inputTarget,this.layer._commandList=[],this.layer.isPostEffect=!0}i.push(r);var h=i.length;h>1&&(i[h-2].outputTarget=r.inputTarget),this._newPostEffect=e,e.needsDepthBuffer&&this._requestDepthMap(),this.enable(),this._newPostEffect=void 0},removeEffect:function(e){var t,i,r=-1;for(t=0,i=this.effects.length;t<i;t++)if(this.effects[t].effect===e){r=t;break}if(r>=0){if(r>0)this.effects[r-1].outputTarget=r+1<this.effects.length?this.effects[r+1].inputTarget:null;else if(this.effects.length>1)for(this.effects[1].inputTarget._depth||(this._destroyOffscreenTarget(this.effects[1].inputTarget),this.effects[1].inputTarget=this._createOffscreenTarget(!0,this.effects[1].hdr),this._sourceTarget=this.effects[1].inputTarget),t=0;t<this._sourceLayers.length;t++)this._sourceLayers[t].renderTarget=this.effects[1].inputTarget;this._destroyOffscreenTarget(this.effects[r].inputTarget),this.effects.splice(r,1)}this.enabled&&e.needsDepthBuffer&&this._releaseDepthMap(),0===this.effects.length&&this.disable()},_requestDepthMaps:function(){for(var e=0,t=this.effects.length;e<t;e++){var i=this.effects[e].effect;this._newPostEffect!==i&&i.needsDepthBuffer&&this._requestDepthMap()}},_releaseDepthMaps:function(){for(var e=0,t=this.effects.length;e<t;e++)this.effects[e].effect.needsDepthBuffer&&this._releaseDepthMap()},_requestDepthMap:function(){Gl||(Gl=this.app.scene.layers.getLayerById(1)),Gl&&Gl.incrementCounter()},_releaseDepthMap:function(){Gl&&Gl.decrementCounter()},destroy:function(){for(var e=0,t=this.effects.length;e<t;e++)this.effects[e].inputTarget.destroy();this.effects.length=0,this.disable()},enable:function(){if(!this.enabled&&this.effects.length){this.enabled=!0;var e=this;this._requestDepthMaps(),this.app.graphicsDevice.on("resizecanvas",this._onCanvasResized,this),this.command=function(){if(e.enabled){var t=null,i=e.effects.length;if(i){e.layer.renderTarget=e.effects[0].inputTarget;for(var r=0;r<i;r++){var n=e.effects[r];r===i-1&&(t=e.camera.rect),n.effect.render(n.inputTarget,n.outputTarget,t)}}}},this.layer._commandList.push(this.command)}},disable:function(){if(this.enabled){this.enabled=!1,this.app.graphicsDevice.off("resizecanvas",this._onCanvasResized,this),this._releaseDepthMaps(),this._destroyOffscreenTarget(this._sourceTarget);var e=this.layer._commandList.indexOf(this.command);e>=0&&this.layer._commandList.splice(e,1);var t=this.app.scene.layers.layerList,i=t.length-1;for(e=0;e<=t.length;e++)if(4===t[e].id){i=e-1,t[e].overrideClear=this._origOverrideClear,t[e].clearColorBuffer=this._origClearColorBuffer,t[e].clearDepthBuffer=this._origDepthColorBuffer,t[e].clearStencilBuffer=this._origStencilColorBuffer;break}for(e=i;e>=0;e--)t[e].cameras.indexOf(this.camera)>=0&&(t[e].renderTarget=void 0);this.app.scene.layers.removeOpaque(this.layer),this.layer=null}},_onCanvasResized:function(e,t){var i=this.camera.rect,r=this.app.graphicsDevice;this.camera.camera.aspectRatio=r.width*i.z/(r.height*i.w),this.resizeTimeout||(x()-this.resizeLast>100?this.resizeRenderTargets():this.resizeTimeout=setTimeout(this._resizeTimeoutCallback,100))},resizeRenderTargets:function(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeLast=x();for(var e=this.camera.rect,t=Math.floor(e.z*this.app.graphicsDevice.width*this.renderTargetScale),i=Math.floor(e.w*this.app.graphicsDevice.height*this.renderTargetScale),r=this.effects,n=0,a=r.length;n<a;n++){var s=r[n];s.inputTarget.width===t&&s.inputTarget.height===i||this._resizeOffscreenTarget(s.inputTarget)}},onCameraRectChanged:function(e,t,i){this.enabled&&this.resizeRenderTargets()}});var Zl=function(e,t){ll.call(this,e,t),this._camera=new zt,this._camera.node=t,this._priority=0,this._postEffects=new Xl(e.app,this)};function Ql(){this.enabled=!0}(Zl.prototype=Object.create(ll.prototype)).constructor=Zl,[{name:"aspectRatio",readonly:!1},{name:"aspectRatioMode",readonly:!1},{name:"calculateProjection",readonly:!1},{name:"calculateTransform",readonly:!1},{name:"clearColor",readonly:!1},{name:"clearColorBuffer",readonly:!1},{name:"clearDepthBuffer",readonly:!1},{name:"clearStencilBuffer",readonly:!1},{name:"cullFaces",readonly:!1},{name:"farClip",readonly:!1},{name:"flipFaces",readonly:!1},{name:"fov",readonly:!1},{name:"frustum",readonly:!0},{name:"frustumCulling",readonly:!1},{name:"horizontalFov",readonly:!1},{name:"nearClip",readonly:!1},{name:"orthoHeight",readonly:!1},{name:"projection",readonly:!1},{name:"projectionMatrix",readonly:!0},{name:"rect",readonly:!1},{name:"renderTarget",readonly:!1},{name:"scissorRect",readonly:!1},{name:"viewMatrix",readonly:!0},{name:"vrDisplay",readonly:!1}].forEach((function(e){var t=e.name,i={get:function(){return this._camera[t]}};e.readonly||(i.set=function(e){this._camera[t]=e}),Object.defineProperty(Zl.prototype,t,i)})),Object.defineProperty(Zl.prototype,"camera",{get:function(){return this._camera}}),Object.defineProperty(Zl.prototype,"layers",{get:function(){return this._camera.layers},set:function(e){var t,i,r=this._camera.layers;for(t=0;t<r.length;t++)(i=this.system.app.scene.layers.getLayerById(r[t]))&&i.removeCamera(this);if(this._camera.layers=e,this.enabled&&this.entity.enabled)for(t=0;t<e.length;t++)(i=this.system.app.scene.layers.getLayerById(e[t]))&&i.addCamera(this)}}),Object.defineProperty(Zl.prototype,"postEffects",{get:function(){return this._postEffects}}),Object.defineProperty(Zl.prototype,"priority",{get:function(){return this._priority},set:function(e){this._priority=e;for(var t=this.layers,i=0;i<t.length;i++){var r=this.system.app.scene.layers.getLayerById(t[i]);r&&r._sortCameras()}}}),Object.assign(Zl.prototype,{screenToWorld:function(e,t,i,r){var n=this.system.app.graphicsDevice,a=n.clientRect.width,s=n.clientRect.height;return this._camera.screenToWorld(e,t,i,a,s,r)},worldToScreen:function(e,t){var i=this.system.app.graphicsDevice,r=i.clientRect.width,n=i.clientRect.height;return this._camera.worldToScreen(e,r,n,t)},onPrerender:function(){this._camera._viewMatDirty=!0,this._camera._viewProjMatDirty=!0},addCameraToLayers:function(){for(var e=this.layers,t=0;t<e.length;t++){var i=this.system.app.scene.layers.getLayerById(e[t]);i&&i.addCamera(this)}},removeCameraFromLayers:function(){for(var e=this.layers,t=0;t<e.length;t++){var i=this.system.app.scene.layers.getLayerById(e[t]);i&&i.removeCamera(this)}},onLayersChanged:function(e,t){this.addCameraToLayers(),e.off("add",this.onLayerAdded,this),e.off("remove",this.onLayerRemoved,this),t.on("add",this.onLayerAdded,this),t.on("remove",this.onLayerRemoved,this)},onLayerAdded:function(e){this.layers.indexOf(e.id)<0||e.addCamera(this)},onLayerRemoved:function(e){this.layers.indexOf(e.id)<0||e.removeCamera(this)},onEnable:function(){var e=this.system,t=e.app.scene,i=t.layers;e.addCamera(this),t.on("set:layers",this.onLayersChanged,this),i&&(i.on("add",this.onLayerAdded,this),i.on("remove",this.onLayerRemoved,this)),this.enabled&&this.entity.enabled&&this.addCameraToLayers(),this.postEffects.enable()},onDisable:function(){var e=this.system,t=e.app.scene,i=t.layers;this.postEffects.disable(),this.removeCameraFromLayers(),t.off("set:layers",this.onLayersChanged,this),i&&(i.off("add",this.onLayerAdded,this),i.off("remove",this.onLayerRemoved,this)),e.removeCamera(this)},onRemove:function(){this.onDisable(),this.off()},calculateAspectRatio:function(e){var t=e||this.system.app.graphicsDevice,i=this.rect;return t.width*i.z/(t.height*i.w)},frameBegin:function(e){0===this.aspectRatioMode&&(this.aspectRatio=this.calculateAspectRatio(e))},frameEnd:function(){},enterVr:function(e,t){if(e instanceof Function&&!t&&(t=e,e=null),this.system.app.vr)if(e||(e=this.system.app.vr.display),e){var i=this;e.capabilities.canPresent?e.requestPresent((function(r){r||(i.vrDisplay=e,i.vrDisplay.once("beforepresentchange",(function(e){e.presenting||(i.vrDisplay=null)}))),t(r)})):(i.vrDisplay=e,t())}else t("No pc.VrDisplay to present");else t("VrManager not created. Enable VR in project settings.")},exitVr:function(e){if(this.vrDisplay)if(this.vrDisplay.capabilities.canPresent){var t=this.vrDisplay;this.vrDisplay=null,t.exitPresent(e)}else this.vrDisplay=null,e();else e("Not presenting VR")},startXr:function(e,t,i){this.system.app.xr.start(this,e,t,i)},endXr:function(e){this._camera.xr?this._camera.xr.end(e):e&&e(new Error("Camera is not in XR"))}});var Jl=["enabled"],ql=function(e){cl.call(this,e),this.id="camera",this.ComponentType=Zl,this.DataType=Ql,this.schema=Jl,this.cameras=[],this.on("beforeremove",this.onBeforeRemove,this),this.app.on("prerender",this.onPrerender,this),cl.bind("update",this.onUpdate,this)};(ql.prototype=Object.create(cl.prototype)).constructor=ql,ll._buildAccessors(Zl.prototype,Jl),Object.assign(ql.prototype,{initializeComponentData:function(e,t,i){i=["aspectRatio","aspectRatioMode","calculateProjection","calculateTransform","clearColor","clearColorBuffer","clearDepthBuffer","clearStencilBuffer","cullFaces","farClip","flipFaces","fov","frustumCulling","horizontalFov","layers","renderTarget","nearClip","orthoHeight","projection","priority","rect","scissorRect"];for(var r=0;r<i.length;r++){var n=i[r];if(t.hasOwnProperty(n)){var a=t[n];switch(n){case"rect":case"scissorRect":Array.isArray(a)?e[n]=new D(a[0],a[1],a[2],a[3]):e[n]=a;break;case"clearColor":Array.isArray(a)?e[n]=new v(a[0],a[1],a[2],a[3]):e[n]=a;break;default:e[n]=a}}}cl.prototype.initializeComponentData.call(this,e,t,["enabled"])},cloneComponent:function(e,t){var i=e.camera;this.addComponent(t,{aspectRatio:i.aspectRatio,aspectRatioMode:i.aspectRatioMode,calculateProjection:i.calculateProjection,calculateTransform:i.calculateTransform,clearColor:i.clearColor,clearColorBuffer:i.clearColorBuffer,clearDepthBuffer:i.clearDepthBuffer,clearStencilBuffer:i.clearStencilBuffer,cullFaces:i.cullFaces,farClip:i.farClip,flipFaces:i.flipFaces,fov:i.fov,frustumCulling:i.frustumCulling,horizontalFov:i.horizontalFov,layers:i.layers,renderTarget:i.renderTarget,nearClip:i.nearClip,orthoHeight:i.orthoHeight,projection:i.projection,priority:i.priority,rect:i.rect,scissorRect:i.scissorRect})},onBeforeRemove:function(e,t){this.removeCamera(t)},onUpdate:function(e){if(this.app.vr){var t=this.store;for(var i in t){var r=t[i];if(r.enabled&&r.entity.enabled){var n=r.vrDisplay;n&&(n.setClipPlanes(r.nearClip,r.farClip),r.entity&&(r.entity.localTransform.copy(n.combinedViewInv),r.entity._dirtyLocal=!1,r.entity._dirtifyWorld()))}}}},onPrerender:function(){for(var e=0,t=this.cameras.length;e<t;e++)this.cameras[e].onPrerender()},addCamera:function(e){this.cameras.push(e),this.sortCamerasByPriority()},removeCamera:function(e){var t=this.cameras.indexOf(e);t>=0&&(this.cameras.splice(t,1),this.sortCamerasByPriority())},sortCamerasByPriority:function(){this.cameras.sort((function(e,t){return e.priority-t.priority}))}});var Kl,$l,ec,tc=function(e,t){ll.call(this,e,t),this._compoundParent=null,this.entity.on("insert",this._onInsert,this),this.on("set_type",this.onSetType,this),this.on("set_halfExtents",this.onSetHalfExtents,this),this.on("set_radius",this.onSetRadius,this),this.on("set_height",this.onSetHeight,this),this.on("set_axis",this.onSetAxis,this),this.on("set_asset",this.onSetAsset,this),this.on("set_model",this.onSetModel,this)};function ic(){this.enabled=!0,this.type="box",this.halfExtents=new I(.5,.5,.5),this.radius=.5,this.axis=1,this.height=2,this.asset=null,this.shape=null,this.model=null,this.initialized=!1}function rc(e,t,i){this.entity=t.entity,this.component=t,this.app=e,"undefined"===typeof Ammo||Kl||(Kl=new Ammo.btVector3,$l=new Ammo.btQuaternion,ec=new Ammo.btTransform),this.initialize(i)}(tc.prototype=Object.create(ll.prototype)).constructor=tc,Object.assign(tc.prototype,{onSetType:function(e,t,i){t!==i&&this.system.changeType(this,t,i)},onSetHalfExtents:function(e,t,i){var r=this.data.type;this.data.initialized&&"box"===r&&this.system.recreatePhysicalShapes(this)},onSetRadius:function(e,t,i){var r=this.data.type;!this.data.initialized||"sphere"!==r&&"capsule"!==r&&"cylinder"!==r&&"cone"!==r||this.system.recreatePhysicalShapes(this)},onSetHeight:function(e,t,i){var r=this.data.type;!this.data.initialized||"capsule"!==r&&"cylinder"!==r&&"cone"!==r||this.system.recreatePhysicalShapes(this)},onSetAxis:function(e,t,i){var r=this.data.type;!this.data.initialized||"capsule"!==r&&"cylinder"!==r&&"cone"!==r||this.system.recreatePhysicalShapes(this)},onSetAsset:function(e,t,i){var r,n=this.system.app.assets;t&&(r=n.get(t))&&r.off("remove",this.onAssetRemoved,this),i&&(i instanceof pa&&(this.data.asset=i.id),(r=n.get(this.data.asset))&&(r.off("remove",this.onAssetRemoved,this),r.on("remove",this.onAssetRemoved,this))),this.data.initialized&&"mesh"===this.data.type&&(i||(this.data.model=null),this.system.recreatePhysicalShapes(this))},onSetModel:function(e,t,i){this.data.initialized&&"mesh"===this.data.type&&this.system.implementations.mesh.doRecreatePhysicalShape(this)},onAssetRemoved:function(e){e.off("remove",this.onAssetRemoved,this),this.data.asset===e.id&&(this.asset=null)},_getCompoundChildShapeIndex:function(e){for(var t=this.data.shape,i=t.getNumChildShapes(),r=0;r<i;r++)if(t.getChildShape(r).ptr===e.ptr)return r;return null},_onInsert:function(e){if("undefined"!==typeof Ammo)if(this._compoundParent)this.system.recreatePhysicalShapes(this);else if(!this.entity.rigidbody)for(var t=this.entity.parent;t;){if(t.collision&&"compound"===t.collision.type){0===t.collision.shape.getNumChildShapes()?this.system.recreatePhysicalShapes(t.collision):this.system.recreatePhysicalShapes(this);break}t=t.parent}},_updateCompound:function(){var e=this.entity;if(e._dirtyWorld){for(var t=e._dirtyLocal,i=e;i&&!t&&(!i.collision||i.collision!==this._compoundParent);)i._dirtyLocal&&(t=!0),i=i.parent;if(t){e.forEach(this.system.implementations.compound._updateEachDescendantTransform,e);var r=this._compoundParent.entity.rigidbody;r&&r.activate()}}},onEnable:function(){if("mesh"===this.data.type&&this.data.asset&&this.data.initialized){var e=this.system.app.assets.get(this.data.asset);if(e&&(!e.resource||!this.data.shape))return void this.system.recreatePhysicalShapes(this)}if(this.entity.rigidbody)this.entity.rigidbody.enabled&&this.entity.rigidbody.enableSimulation();else if(this._compoundParent&&this!==this._compoundParent)if(0===this._compoundParent.shape.getNumChildShapes())this.system.recreatePhysicalShapes(this._compoundParent);else{var t=this.system._getNodeTransform(this.entity,this._compoundParent.entity);this._compoundParent.shape.addChildShape(t,this.data.shape),Ammo.destroy(t),this._compoundParent.entity.rigidbody&&this._compoundParent.entity.rigidbody.activate()}else this.entity.trigger&&this.entity.trigger.enable()},onDisable:function(){this.entity.rigidbody?this.entity.rigidbody.disableSimulation():this._compoundParent&&this!==this._compoundParent?this._compoundParent.entity._destroying||(this.system._removeCompoundChild(this._compoundParent,this.data.shape),this._compoundParent.entity.rigidbody&&this._compoundParent.entity.rigidbody.activate()):this.entity.trigger&&this.entity.trigger.disable()},onBeforeRemove:function(){this.entity.off("insert",this._onInsert,this)}}),Object.assign(rc.prototype,{initialize:function(e){var t=this.entity,i=e.shape;if(i&&"undefined"!==typeof Ammo){t.trigger&&t.trigger.destroy();var r=t.getPosition(),n=t.getRotation();Kl.setValue(r.x,r.y,r.z),$l.setValue(n.x,n.y,n.z,n.w),ec.setOrigin(Kl),ec.setRotation($l);var a=this.app.systems.rigidbody.createBody(1,i,ec);a.setRestitution(0),a.setFriction(0),a.setDamping(0,0),Kl.setValue(0,0,0),a.setLinearFactor(Kl),a.setAngularFactor(Kl),a.setCollisionFlags(4|a.getCollisionFlags()),a.entity=t,this.body=a,this.component.enabled&&t.enabled&&this.enable()}},destroy:function(){var e=this.body;e&&(this.disable(),this.app.systems.rigidbody.destroyBody(e))},_getEntityTransform:function(e){var t=this.entity.getPosition(),i=this.entity.getRotation();Kl.setValue(t.x,t.y,t.z),$l.setValue(i.x,i.y,i.z,i.w),e.setOrigin(Kl),e.setRotation($l)},updateTransform:function(){this._getEntityTransform(ec);var e=this.body;e.setWorldTransform(ec),e.activate()},enable:function(){var e=this.body;if(e){var t=this.app.systems;t.rigidbody.addBody(e,16,65517),t.rigidbody._triggers.push(this),e.forceActivationState(1),this.updateTransform()}},disable:function(){var e=this.body;if(e){var t=this.app.systems,i=t.rigidbody._triggers.indexOf(this);i>-1&&t.rigidbody._triggers.splice(i,1),t.rigidbody.removeBody(e),e.forceActivationState(5)}}});var nc=new N,ac=new I,sc=new B,oc=["enabled","type","halfExtents","radius","axis","height","asset","shape","model"],lc=function(e){this.system=e};Object.assign(lc.prototype,{beforeInitialize:function(e,t){t.shape=null,t.model=new Tt,t.model.graph=new ei},afterInitialize:function(e,t){this.recreatePhysicalShapes(e),e.data.initialized=!0},reset:function(e,t){this.beforeInitialize(e,t),this.afterInitialize(e,t)},recreatePhysicalShapes:function(e){var t=e.entity,i=e.data;if("undefined"!==typeof Ammo){t.trigger&&(t.trigger.destroy(),delete t.trigger),i.shape&&(e._compoundParent&&(this.system._removeCompoundChild(e._compoundParent,i.shape),e._compoundParent.entity.rigidbody&&e._compoundParent.entity.rigidbody.activate()),Ammo.destroy(i.shape),i.shape=null),i.shape=this.createPhysicalShape(e.entity,i);var r=!e._compoundParent;if("compound"!==i.type||e._compoundParent&&e!==e._compoundParent){if("compound"!==i.type&&(e._compoundParent&&e===e._compoundParent&&t.forEach(this.system.implementations.compound._updateEachDescendant,e),!e.rigidbody)){e._compoundParent=null;for(var n=t.parent;n;){if(n.collision&&"compound"===n.collision.type){e._compoundParent=n.collision;break}n=n.parent}}}else e._compoundParent=e,t.forEach(this._addEachDescendant,e);e._compoundParent&&e!==e._compoundParent&&(r&&0===e._compoundParent.shape.getNumChildShapes()?this.system.recreatePhysicalShapes(e._compoundParent):(this.system.updateCompoundChildTransform(t),e._compoundParent.entity.rigidbody&&e._compoundParent.entity.rigidbody.activate())),t.rigidbody?(t.rigidbody.disableSimulation(),t.rigidbody.createBody(),t.enabled&&t.rigidbody.enabled&&t.rigidbody.enableSimulation()):e._compoundParent||(t.trigger?t.trigger.initialize(i):t.trigger=new rc(this.system.app,e,i))}},createPhysicalShape:function(e,t){},updateTransform:function(e,t,i,r){e.entity.trigger&&e.entity.trigger.updateTransform()},beforeRemove:function(e,t){t.data.shape&&(t._compoundParent&&!t._compoundParent.entity._destroying&&(this.system._removeCompoundChild(t._compoundParent,t.data.shape),t._compoundParent.entity.rigidbody&&t._compoundParent.entity.rigidbody.activate()),t._compoundParent=null,Ammo.destroy(t.data.shape),t.data.shape=null)},remove:function(e,t){var i=this.system.app;e.rigidbody&&e.rigidbody.body&&(i.systems.rigidbody.removeBody(e.rigidbody.body),e.rigidbody.disableSimulation()),e.trigger&&(e.trigger.destroy(),delete e.trigger),i.scene.containsModel(t.model)&&(i.root.removeChild(t.model.graph),i.scene.removeModel(t.model))},clone:function(e,t){var i=this.system.store[e.getGuid()],r={enabled:i.data.enabled,type:i.data.type,halfExtents:[i.data.halfExtents.x,i.data.halfExtents.y,i.data.halfExtents.z],radius:i.data.radius,axis:i.data.axis,height:i.data.height,asset:i.data.asset,model:i.data.model};return this.system.addComponent(t,r)}});var cc=function(e){lc.call(this,e)};(cc.prototype=Object.create(lc.prototype)).constructor=cc,Object.assign(cc.prototype,{createPhysicalShape:function(e,t){if("undefined"!==typeof Ammo){var i=t.halfExtents,r=new Ammo.btVector3(i?i.x:.5,i?i.y:.5,i?i.z:.5),n=new Ammo.btBoxShape(r);return Ammo.destroy(r),n}}});var fc=function(e){lc.call(this,e)};(fc.prototype=Object.create(lc.prototype)).constructor=fc,Object.assign(fc.prototype,{createPhysicalShape:function(e,t){if("undefined"!==typeof Ammo)return new Ammo.btSphereShape(t.radius)}});var hc=function(e){lc.call(this,e)};(hc.prototype=Object.create(lc.prototype)).constructor=hc,Object.assign(hc.prototype,{createPhysicalShape:function(e,t){var i=null,r=void 0!==t.axis?t.axis:1,n=t.radius||.5,a=Math.max((t.height||2)-2*n,0);if("undefined"!==typeof Ammo)switch(r){case 0:i=new Ammo.btCapsuleShapeX(n,a);break;case 1:i=new Ammo.btCapsuleShape(n,a);break;case 2:i=new Ammo.btCapsuleShapeZ(n,a)}return i}});var uc=function(e){lc.call(this,e)};(uc.prototype=Object.create(lc.prototype)).constructor=uc,Object.assign(uc.prototype,{createPhysicalShape:function(e,t){var i=null,r=null,n=void 0!==t.axis?t.axis:1,a=void 0!==t.radius?t.radius:.5,s=void 0!==t.height?t.height:1;if("undefined"!==typeof Ammo)switch(n){case 0:i=new Ammo.btVector3(.5*s,a,a),r=new Ammo.btCylinderShapeX(i);break;case 1:i=new Ammo.btVector3(a,.5*s,a),r=new Ammo.btCylinderShape(i);break;case 2:i=new Ammo.btVector3(a,a,.5*s),r=new Ammo.btCylinderShapeZ(i)}return i&&Ammo.destroy(i),r}});var dc=function(e){lc.call(this,e)};(dc.prototype=Object.create(lc.prototype)).constructor=dc,Object.assign(dc.prototype,{createPhysicalShape:function(e,t){var i=null,r=void 0!==t.axis?t.axis:1,n=void 0!==t.radius?t.radius:.5,a=void 0!==t.height?t.height:1;if("undefined"!==typeof Ammo)switch(r){case 0:i=new Ammo.btConeShapeX(n,a);break;case 1:i=new Ammo.btConeShape(n,a);break;case 2:i=new Ammo.btConeShapeZ(n,a)}return i}});var _c=function(e){lc.call(this,e)};(_c.prototype=Object.create(lc.prototype)).constructor=_c,Object.assign(_c.prototype,{beforeInitialize:function(e,t){},createPhysicalShape:function(e,t){if("undefined"!==typeof Ammo&&t.model){var i,r,n=t.model,a=new Ammo.btCompoundShape;for(i=0;i<n.meshInstances.length;i++){var s,o=n.meshInstances[i],l=o.mesh;if(this.system._triMeshCache[l.id])s=this.system._triMeshCache[l.id];else{var c,f=l.indexBuffer[0],h=l.vertexBuffer,u=h.getFormat(),d=u.size/4;for(r=0;r<u.elements.length;r++){var p=u.elements[r];"POSITION"===p.name&&(c=new Float32Array(h.lock(),p.offset))}var _,m,b,A=new Uint16Array(f.lock()),v=l.primitive[0].count/3,y=new Ammo.btVector3,g=new Ammo.btVector3,k=new Ammo.btVector3,x=l.primitive[0].base;for(s=new Ammo.btTriangleMesh,this.system._triMeshCache[l.id]=s,r=0;r<v;r++)_=A[x+3*r]*d,m=A[x+3*r+1]*d,b=A[x+3*r+2]*d,y.setValue(c[_],c[_+1],c[_+2]),g.setValue(c[m],c[m+1],c[m+2]),k.setValue(c[b],c[b+1],c[b+2]),s.addTriangle(y,g,k,!0);Ammo.destroy(y),Ammo.destroy(g),Ammo.destroy(k)}var S=new Ammo.btBvhTriangleMeshShape(s,!0),T=this.system._getNodeScaling(o.node);S.setLocalScaling(T),Ammo.destroy(T);var w=this.system._getNodeTransform(o.node);a.addChildShape(w,S),Ammo.destroy(w)}var E=e.getWorldTransform().getScale(),M=new Ammo.btVector3(E.x,E.y,E.z);return a.setLocalScaling(M),Ammo.destroy(M),a}},recreatePhysicalShapes:function(e){null!==e.data.asset&&e.enabled&&e.entity.enabled?this.loadModelAsset(e):this.doRecreatePhysicalShape(e)},loadModelAsset:function(e){var t=this,i=e.data.asset,r=e.data,n=this.system.app.assets,a=n.get(i);a?(a.ready((function(i){r.model=i.resource,t.doRecreatePhysicalShape(e)})),n.load(a)):n.once("add:"+i,(function(i){i.ready((function(i){r.model=i.resource,t.doRecreatePhysicalShape(e)})),n.load(i)}))},doRecreatePhysicalShape:function(e){var t=e.entity,i=e.data;i.model?(this.destroyShape(i),i.shape=this.createPhysicalShape(t,i),t.rigidbody?(t.rigidbody.disableSimulation(),t.rigidbody.createBody(),t.enabled&&t.rigidbody.enabled&&t.rigidbody.enableSimulation()):t.trigger?t.trigger.initialize(i):t.trigger=new rc(this.system.app,e,i)):(this.beforeRemove(t,e),this.remove(t,i))},updateTransform:function(e,t,i,r){if(e.shape){var n=e.entity.getWorldTransform().getScale(),a=e.shape.getLocalScaling();n.x===a.x()&&n.y===a.y()&&n.z===a.z()||this.doRecreatePhysicalShape(e)}lc.prototype.updateTransform.call(this,e,t,i,r)},destroyShape:function(e){if(e.shape){for(var t=e.shape.getNumChildShapes(),i=0;i<t;i++){var r=e.shape.getChildShape(i);Ammo.destroy(r)}Ammo.destroy(e.shape),e.shape=null}},remove:function(e,t){this.destroyShape(t),lc.prototype.remove.call(this,e,t)}});var mc=function(e){lc.call(this,e)};(mc.prototype=Object.create(lc.prototype)).constructor=mc,Object.assign(mc.prototype,{createPhysicalShape:function(e,t){if("undefined"!==typeof Ammo)return new Ammo.btCompoundShape},_addEachDescendant:function(e){e.collision&&!e.rigidbody&&(e.collision._compoundParent=this,e!==this.entity&&e.collision.system.recreatePhysicalShapes(e.collision))},_updateEachDescendant:function(e){e.collision&&e.collision._compoundParent===this&&(e.collision._compoundParent=null,e===this.entity||e.rigidbody||e.collision.system.recreatePhysicalShapes(e.collision))},_updateEachDescendantTransform:function(e){e.collision&&e.collision._compoundParent===this.collision._compoundParent&&this.collision.system.updateCompoundChildTransform(e)}});var bc=function(e){cl.call(this,e),this.id="collision",this.ComponentType=tc,this.DataType=ic,this.schema=oc,this.implementations={},this._triMeshCache={},this.on("beforeremove",this.onBeforeRemove,this),this.on("remove",this.onRemove,this)};function Ac(){this.list=[]}function vc(e){this.func=void 0===e.func?7:e.func,this.ref=e.ref||0,this.readMask=void 0===e.readMask?255:e.readMask,this.writeMask=void 0===e.writeMask?255:e.writeMask,this.fail=e.fail||0,this.zfail=e.zfail||0,this.zpass=e.zpass||0}function yc(e,t,i){this._entity=e,this._element=e.element,this.model=new Tt,this.node=new ei,this.model.graph=this.node,this.mesh=t,this.meshInstance=new bt(this.node,this.mesh,i),this.meshInstance.name="ImageElement: "+e.name,this.meshInstance.castShadow=!1,this.meshInstance.receiveShadow=!1,this._meshDirty=!1,this.model.meshInstances.push(this.meshInstance),this._entity.addChild(this.model.graph),this.model._entity=this._entity,this.unmaskMeshInstance=null}function gc(e){this._element=e,this._entity=e.entity,this._system=e.system,this._textureAsset=null,this._texture=null,this._materialAsset=null,this._material=null,this._spriteAsset=null,this._sprite=null,this._spriteFrame=0,this._pixelsPerUnit=null,this._rect=new D(0,0,1,1),this._mask=!1,this._maskRef=0,this._outerScale=new O,this._outerScaleUniform=new Float32Array(2),this._innerOffset=new D,this._innerOffsetUniform=new Float32Array(4),this._atlasRect=new D,this._atlasRectUniform=new Float32Array(4),this._defaultMesh=this._createMesh(),this._renderable=new yc(this._entity,this._defaultMesh,this._material),this._color=new v(1,1,1,1),this._colorUniform=new Float32Array([1,1,1]),this._renderable.setParameter("material_emissive",this._colorUniform),this._renderable.setParameter("material_opacity",1),this._updateAabbFunc=this._updateAabb.bind(this),this._onScreenChange(this._element.screen),this._element.on("resize",this._onParentResizeOrPivotChange,this),this._element.on("set:pivot",this._onParentResizeOrPivotChange,this),this._element.on("screen:set:screenspace",this._onScreenSpaceChange,this),this._element.on("set:screen",this._onScreenChange,this),this._element.on("set:draworder",this._onDrawOrderChange,this),this._element.on("screen:set:resolution",this._onResolutionChange,this)}function kc(e){o.call(this),this._app=e,e.i18n.on("set:locale",this._onSetLocale,this),this._autoLoad=!1,this._disableLocalization=!1,this._defaultAsset=null,this._localizedAsset=null}function xc(e){this._symbols=e,this._index=0,this._last=0,this._cur=this._symbols.length>0?this._symbols[0]:null,this._buf=[],this._mode="text",this._error=null}(bc.prototype=Object.create(cl.prototype)).constructor=bc,ll._buildAccessors(tc.prototype,oc),Object.assign(bc.prototype,{initializeComponentData:function(e,t,i){for(var r,n={},a=0,s=(i=["type","halfExtents","radius","axis","height","shape","model","asset","enabled"]).length;a<s;a++){var o=i[a];n[o]=t[o]}t.hasOwnProperty("asset")?-1!==(r=i.indexOf("model"))&&i.splice(r,1):t.hasOwnProperty("model")&&-1!==(r=i.indexOf("asset"))&&i.splice(r,1),n.type||(n.type=e.data.type),e.data.type=n.type,n.halfExtents&&Array.isArray(n.halfExtents)&&(n.halfExtents=new I(n.halfExtents[0],n.halfExtents[1],n.halfExtents[2]));var l=this._createImplementation(n.type);l.beforeInitialize(e,n),cl.prototype.initializeComponentData.call(this.system,e,n,i),l.afterInitialize(e,n)},_createImplementation:function(e){if(void 0===this.implementations[e]){var t;switch(e){case"box":t=new cc(this);break;case"sphere":t=new fc(this);break;case"capsule":t=new hc(this);break;case"cylinder":t=new uc(this);break;case"cone":t=new dc(this);break;case"mesh":t=new _c(this);break;case"compound":t=new mc(this)}this.implementations[e]=t}return this.implementations[e]},_getImplementation:function(e){return this.implementations[e.collision.data.type]},cloneComponent:function(e,t){return this._getImplementation(e).clone(e,t)},onBeforeRemove:function(e,t){this.implementations[t.data.type].beforeRemove(e,t),t.onBeforeRemove()},onRemove:function(e,t){this.implementations[t.type].remove(e,t)},updateCompoundChildTransform:function(e){if(this._removeCompoundChild(e.collision._compoundParent,e.collision.data.shape),e.enabled&&e.collision.enabled){var t=this._getNodeTransform(e,e.collision._compoundParent.entity);e.collision._compoundParent.shape.addChildShape(t,e.collision.data.shape),Ammo.destroy(t)}},_removeCompoundChild:function(e,t){if(e.shape.removeChildShape)e.shape.removeChildShape(t);else{var i=e._getCompoundChildShapeIndex(t);null!==i&&e.shape.removeChildShapeByIndex(i)}},onTransformChanged:function(e,t,i,r){this.implementations[e.data.type].updateTransform(e,t,i,r)},changeType:function(e,t,i){this.implementations[t].beforeRemove(e.entity,e),this.implementations[t].remove(e.entity,e.data),this._createImplementation(i).reset(e,e.data)},recreatePhysicalShapes:function(e){this.implementations[e.data.type].recreatePhysicalShapes(e)},_calculateNodeRelativeTransform:function(e,t){if(e===t){var i=e.getWorldTransform().getScale();nc.setScale(i.x,i.y,i.z)}else this._calculateNodeRelativeTransform(e.parent,t),nc.mul(e.getLocalTransform())},_getNodeScaling:function(e){var t=e.getWorldTransform().getScale();return new Ammo.btVector3(t.x,t.y,t.z)},_getNodeTransform:function(e,t){var i,r;t?(this._calculateNodeRelativeTransform(e,t),i=ac,r=sc,nc.getTranslation(i),r.setFromMat4(nc)):(i=e.getPosition(),r=e.getRotation());var n=new Ammo.btTransform;n.setIdentity();var a=n.getOrigin();a.setValue(i.x,i.y,i.z);var s=new Ammo.btQuaternion;return s.setValue(r.x,r.y,r.z,r.w),n.setRotation(s),Ammo.destroy(s),Ammo.destroy(a),n},destroy:function(){for(var e in this._triMeshCache)Ammo.destroy(this._triMeshCache[e]);this._triMeshCache=null,cl.prototype.destroy.call(this)}}),Object.assign(Ac.prototype,{add:function(e){var t=e.id;if(this[t])throw new Error("ComponentSystem name '"+t+"' already registered or not allowed");this[t]=e,this.list.push(e)},remove:function(e){var t=e.id;if(!this[t])throw new Error("No ComponentSystem named '"+t+"' registered");delete this[t];var i=this.list.indexOf(this[t]);-1!==i&&this.list.splice(i,1)}}),vc.prototype.clone=function(){return new vc({func:this.func,ref:this.ref,readMask:this.readMask,writeMask:this.writeMask,fail:this.fail,zfail:this.zfail,zpass:this.zpass})},yc.prototype.destroy=function(){this.setMaterial(null),this._element.removeModelFromLayers(this.model),this.model.destroy(),this.model=null,this.node=null,this.mesh=null,this.meshInstance=null,this._entity=null,this._element=null},yc.prototype.setMesh=function(e){this.meshInstance&&(this.mesh=e,this.meshInstance.mesh=e,this.meshInstance.visible=!!e,this.unmaskMeshInstance&&(this.unmaskMeshInstance.mesh=e),this.forceUpdateAabb())},yc.prototype.setMask=function(e){if(this.meshInstance){if(e)for(var t in this.unmaskMeshInstance=new bt(this.node,this.mesh,this.meshInstance.material),this.unmaskMeshInstance.name="Unmask: "+this._entity.name,this.unmaskMeshInstance.castShadow=!1,this.unmaskMeshInstance.receiveShadow=!1,this.unmaskMeshInstance.pick=!1,this.model.meshInstances.push(this.unmaskMeshInstance),this.meshInstance.parameters)this.unmaskMeshInstance.setParameter(t,this.meshInstance.parameters[t].data);else{var i=this.model.meshInstances.indexOf(this.unmaskMeshInstance);i>=0&&this.model.meshInstances.splice(i,1),this.unmaskMeshInstance=null}this._entity.enabled&&this._element.enabled&&(this._element.removeModelFromLayers(this.model),this._element.addModelToLayers(this.model))}},yc.prototype.setMaterial=function(e){this.meshInstance&&(this.meshInstance.material=e,this.unmaskMeshInstance&&(this.unmaskMeshInstance.material=e))},yc.prototype.setParameter=function(e,t){this.meshInstance&&(this.meshInstance.setParameter(e,t),this.unmaskMeshInstance&&this.unmaskMeshInstance.setParameter(e,t))},yc.prototype.deleteParameter=function(e){this.meshInstance&&(this.meshInstance.deleteParameter(e),this.unmaskMeshInstance&&this.unmaskMeshInstance.deleteParameter(e))},yc.prototype.setUnmaskDrawOrder=function(){if(this.meshInstance&&this.unmaskMeshInstance){var e=function e(t){var i,r=t.children,n=r.length;if(n){for(var a=0;a<n;a++)r[a].element&&(i=r[a]);if(!i)return null;var s=e(i);return s||i}return null}(this._entity);e&&e.element?this.unmaskMeshInstance.drawOrder=e.element.drawOrder+e.element.getMaskOffset():this.unmaskMeshInstance.drawOrder=this.meshInstance.drawOrder+this._element.getMaskOffset()}},yc.prototype.setDrawOrder=function(e){this.meshInstance&&(this.meshInstance.drawOrder=e)},yc.prototype.setCull=function(e){if(this.meshInstance){var t=this._element,i=null;e&&t._isScreenCulled()&&(i=function(e){return t.isVisibleForCamera(e)}),this.meshInstance.cull=e,this.meshInstance.isVisibleFunc=i,this.unmaskMeshInstance&&(this.unmaskMeshInstance.cull=e,this.unmaskMeshInstance.isVisibleFunc=i)}},yc.prototype.setScreenSpace=function(e){this.meshInstance&&(this.meshInstance.screenSpace=e,this.unmaskMeshInstance&&(this.unmaskMeshInstance.screenSpace=e))},yc.prototype.setLayer=function(e){this.meshInstance&&(this.meshInstance.layer=e,this.unmaskMeshInstance&&(this.unmaskMeshInstance.layer=e))},yc.prototype.forceUpdateAabb=function(e){this.meshInstance&&(this.meshInstance._aabbVer=-1,this.unmaskMeshInstance&&(this.unmaskMeshInstance._aabbVer=-1))},yc.prototype.setAabbFunc=function(e){this.meshInstance&&(this.meshInstance._updateAabbFunc=e,this.unmaskMeshInstance&&(this.unmaskMeshInstance._updateAabbFunc=e))},Object.assign(gc.prototype,{destroy:function(){this.textureAsset=null,this.spriteAsset=null,this.materialAsset=null,this._renderable.setMesh(this._defaultMesh),this._renderable.destroy(),this._defaultMesh=null,this._element.off("resize",this._onParentResizeOrPivotChange,this),this._element.off("set:pivot",this._onParentResizeOrPivotChange,this),this._element.off("screen:set:screenspace",this._onScreenSpaceChange,this),this._element.off("set:screen",this._onScreenChange,this),this._element.off("set:draworder",this._onDrawOrderChange,this),this._element.off("screen:set:resolution",this._onResolutionChange,this)},_onResolutionChange:function(e){},_onParentResizeOrPivotChange:function(){this._renderable.mesh&&this._updateMesh(this._renderable.mesh)},_onScreenSpaceChange:function(e){this._updateMaterial(e)},_onScreenChange:function(e,t){e?this._updateMaterial(e.screen.screenSpace):this._updateMaterial(!1)},_onDrawOrderChange:function(e){this._renderable.setDrawOrder(e),this.mask&&this._element.screen&&this._element.screen.screen.once("syncdraworder",(function(){this._renderable.setUnmaskDrawOrder()}),this)},_hasUserMaterial:function(){return!!this._materialAsset||!!this._material&&-1===this._system.defaultImageMaterials.indexOf(this._material)},_use9Slicing:function(){return this.sprite&&(1===this.sprite.renderMode||2===this.sprite.renderMode)},_updateMaterial:function(e){var t=!!this._mask,i=!(!this.sprite||1!==this.sprite.renderMode),r=!(!this.sprite||2!==this.sprite.renderMode);this._hasUserMaterial()||(this._material=this._system.getImageElementMaterial(e,t,i,r)),this._renderable&&(this._renderable.setCull(!0),this._renderable.setMaterial(this._material),this._renderable.setScreenSpace(e),this._renderable.setLayer(e?0:15))},_createMesh:function(){var e=this._element,t=e.calculatedWidth,i=e.calculatedHeight,r=this._rect,n=new ArrayBuffer(128),a=new Float32Array(n);a[5]=1,a[6]=r.x,a[7]=r.y,a[8]=t,a[13]=1,a[14]=r.x+r.z,a[15]=r.y,a[16]=t,a[17]=i,a[21]=1,a[22]=r.x+r.z,a[23]=r.y+r.w,a[25]=i,a[29]=1,a[30]=r.x,a[31]=r.y+r.w;var s=[{semantic:"POSITION",components:3,type:6},{semantic:"NORMAL",components:3,type:6},{semantic:"TEXCOORD0",components:2,type:6}],o=this._system.app.graphicsDevice,l=new fe(o,new ue(o,s),4,0,n),c=new dt(o);return c.vertexBuffer=l,c.primitive[0].type=6,c.primitive[0].base=0,c.primitive[0].count=4,c.primitive[0].indexed=!1,c.aabb.setMinMax(I.ZERO,new I(t,i,0)),this._updateMesh(c),c},_updateMesh:function(e){var t=this._element,i=t.calculatedWidth,r=t.calculatedHeight,n=t._isScreenSpace();if(this._updateMaterial(n),this._renderable&&this._renderable.forceUpdateAabb(),!this.sprite||1!==this.sprite.renderMode&&2!==this.sprite.renderMode){var a=e.vertexBuffer,s=new Float32Array(a.lock()),o=t.pivot.x,l=t.pivot.y;s[0]=0-o*i,s[1]=0-l*r,s[8]=i-o*i,s[9]=0-l*r,s[16]=i-o*i,s[17]=r-l*r,s[24]=0-o*i,s[25]=r-l*r;var c=1,f=1,h=this._rect;if(this._sprite&&this._sprite.frameKeys[this._spriteFrame]&&this._sprite.atlas){var u=this._sprite.atlas.frames[this._sprite.frameKeys[this._spriteFrame]];u&&(h=u.rect,c=this._sprite.atlas.texture.width,f=this._sprite.atlas.texture.height)}s[6]=h.x/c,s[7]=h.y/f,s[14]=(h.x+h.z)/c,s[15]=h.y/f,s[22]=(h.x+h.z)/c,s[23]=(h.y+h.w)/f,s[30]=h.x/c,s[31]=(h.y+h.w)/f,a.unlock();var d=new I(0-o*i,0-l*r,0),p=new I(i-o*i,r-l*r,0);e.aabb.setMinMax(d,p),this._renderable&&(this._renderable.node.setLocalScale(1,1,1),this._renderable.node.setLocalPosition(0,0,0),this._renderable.setAabbFunc(null))}else{var _=this._sprite.atlas.frames[this._sprite.frameKeys[this._spriteFrame]],m=2/_.rect.z,b=2/_.rect.w;this._innerOffset.set(_.border.x*m,_.border.y*b,_.border.z*m,_.border.w*b);var v=this.sprite.atlas.texture;this._atlasRect.set(_.rect.x/v.width,_.rect.y/v.height,_.rect.z/v.width,_.rect.w/v.height);var y=null!==this._pixelsPerUnit?this._pixelsPerUnit:this.sprite.pixelsPerUnit,g=_.rect.z/y,k=_.rect.w/y;this._outerScale.set(Math.max(i,this._innerOffset.x*g),Math.max(r,this._innerOffset.y*k));var x=g,S=k;this._outerScale.x/=g,this._outerScale.y/=k,x*=A.clamp(i/(this._innerOffset.x*g),1e-4,1),S*=A.clamp(r/(this._innerOffset.y*k),1e-4,1),this._renderable&&(this._innerOffsetUniform[0]=this._innerOffset.x,this._innerOffsetUniform[1]=this._innerOffset.y,this._innerOffsetUniform[2]=this._innerOffset.z,this._innerOffsetUniform[3]=this._innerOffset.w,this._renderable.setParameter("innerOffset",this._innerOffsetUniform),this._atlasRectUniform[0]=this._atlasRect.x,this._atlasRectUniform[1]=this._atlasRect.y,this._atlasRectUniform[2]=this._atlasRect.z,this._atlasRectUniform[3]=this._atlasRect.w,this._renderable.setParameter("atlasRect",this._atlasRectUniform),this._outerScaleUniform[0]=this._outerScale.x,this._outerScaleUniform[1]=this._outerScale.y,this._renderable.setParameter("outerScale",this._outerScaleUniform),this._renderable.setAabbFunc(this._updateAabbFunc),this._renderable.node.setLocalScale(x,S,1),this._renderable.node.setLocalPosition((.5-t.pivot.x)*i,(.5-t.pivot.y)*r,0))}this._meshDirty=!1},_updateSprite:function(){var e=!1,t=null;this._sprite&&this._sprite.atlas&&(t=this._sprite.meshes[this.spriteFrame],e=1===this._sprite.renderMode||2===this._sprite.renderMode),this.mesh=e?t:this._defaultMesh,this.mesh&&(this._element._beingInitialized?this._meshDirty=!0:this._updateMesh(this.mesh))},_updateAabb:function(e){return e.center.set(0,0,0),e.halfExtents.set(.5*this._outerScale.x,.5*this._outerScale.y,.001),e.setFromTransformedAabb(e,this._renderable.node.getWorldTransform()),e},_toggleMask:function(){this._element._dirtifyMask();var e=this._element._isScreenSpace();this._updateMaterial(e),this._renderable.setMask(!!this._mask)},_onMaterialLoad:function(e){this.material=e.resource},_onMaterialAdded:function(e){this._system.app.assets.off("add:"+e.id,this._onMaterialAdded,this),this._materialAsset===e.id&&this._bindMaterialAsset(e)},_bindMaterialAsset:function(e){this._entity.enabled&&(e.on("load",this._onMaterialLoad,this),e.on("change",this._onMaterialChange,this),e.on("remove",this._onMaterialRemove,this),e.resource?this._onMaterialLoad(e):this._system.app.assets.load(e))},_unbindMaterialAsset:function(e){e.off("load",this._onMaterialLoad,this),e.off("change",this._onMaterialChange,this),e.off("remove",this._onMaterialRemove,this)},_onMaterialChange:function(){},_onMaterialRemove:function(){},_onTextureAdded:function(e){this._system.app.assets.off("add:"+e.id,this._onTextureAdded,this),this._textureAsset===e.id&&this._bindTextureAsset(e)},_bindTextureAsset:function(e){this._entity.enabled&&(e.on("load",this._onTextureLoad,this),e.on("change",this._onTextureChange,this),e.on("remove",this._onTextureRemove,this),e.resource?this._onTextureLoad(e):this._system.app.assets.load(e))},_unbindTextureAsset:function(e){e.off("load",this._onTextureLoad,this),e.off("change",this._onTextureChange,this),e.off("remove",this._onTextureRemove,this)},_onTextureLoad:function(e){this.texture=e.resource},_onTextureChange:function(e){},_onTextureRemove:function(e){},_onSpriteAssetAdded:function(e){this._system.app.assets.off("add:"+e.id,this._onSpriteAssetAdded,this),this._spriteAsset===e.id&&this._bindSpriteAsset(e)},_bindSpriteAsset:function(e){this._entity.enabled&&(e.on("load",this._onSpriteAssetLoad,this),e.on("change",this._onSpriteAssetChange,this),e.on("remove",this._onSpriteAssetRemove,this),e.resource?this._onSpriteAssetLoad(e):this._system.app.assets.load(e))},_unbindSpriteAsset:function(e){e.off("load",this._onSpriteAssetLoad,this),e.off("change",this._onSpriteAssetChange,this),e.off("remove",this._onSpriteAssetRemove,this),e.data.textureAtlasAsset&&this._system.app.assets.off("load:"+e.data.textureAtlasAsset,this._onTextureAtlasLoad,this)},_onSpriteAssetLoad:function(e){if(e&&e.resource)if(e.resource.atlas)this.sprite=e.resource;else{var t=e.data.textureAtlasAsset;if(t){var i=this._system.app.assets;i.off("load:"+t,this._onTextureAtlasLoad,this),i.once("load:"+t,this._onTextureAtlasLoad,this)}}else this.sprite=null},_onSpriteAssetChange:function(e){this._onSpriteAssetLoad(e)},_onSpriteAssetRemove:function(e){},_bindSprite:function(e){e.on("set:meshes",this._onSpriteMeshesChange,this),e.on("set:pixelsPerUnit",this._onSpritePpuChange,this),e.on("set:atlas",this._onAtlasTextureChange,this),e.atlas&&e.atlas.on("set:texture",this._onAtlasTextureChange,this)},_unbindSprite:function(e){e.off("set:meshes",this._onSpriteMeshesChange,this),e.off("set:pixelsPerUnit",this._onSpritePpuChange,this),e.off("set:atlas",this._onAtlasTextureChange,this),e.atlas&&e.atlas.off("set:texture",this._onAtlasTextureChange,this)},_onSpriteMeshesChange:function(){this._sprite&&(this._spriteFrame=A.clamp(this._spriteFrame,0,this._sprite.frameKeys.length-1)),this._updateSprite()},_onSpritePpuChange:function(){0!==this.sprite.renderMode&&null===this._pixelsPerUnit&&this._updateSprite()},_onAtlasTextureChange:function(){this.sprite&&this.sprite.atlas&&this.sprite.atlas.texture?(this._renderable.setParameter("texture_emissiveMap",this._sprite.atlas.texture),this._renderable.setParameter("texture_opacityMap",this._sprite.atlas.texture)):(this._renderable.deleteParameter("texture_emissiveMap"),this._renderable.deleteParameter("texture_opacityMap"))},_onTextureAtlasLoad:function(e){var t=this._spriteAsset;t instanceof pa?this._onSpriteAssetLoad(t):this._onSpriteAssetLoad(this._system.app.assets.get(t))},onEnable:function(){var e;this._materialAsset&&(e=this._system.app.assets.get(this._materialAsset))&&e.resource!==this._material&&this._bindMaterialAsset(e),this._textureAsset&&(e=this._system.app.assets.get(this._textureAsset))&&e.resource!==this._texture&&this._bindTextureAsset(e),this._spriteAsset&&(e=this._system.app.assets.get(this._spriteAsset))&&e.resource!==this._sprite&&this._bindSpriteAsset(e),this._element.addModelToLayers(this._renderable.model)},onDisable:function(){this._element.removeModelFromLayers(this._renderable.model)},_setStencil:function(e){this._renderable.meshInstance.stencilFront=e,this._renderable.meshInstance.stencilBack=e;var t=0;if(this._element.maskedBy&&(t=this._element.maskedBy.element._image._maskRef),this._renderable.unmaskMeshInstance){var i=new vc({ref:t+1,func:2,zpass:5});this._renderable.unmaskMeshInstance.stencilFront=i,this._renderable.unmaskMeshInstance.stencilBack=i}}}),Object.defineProperty(gc.prototype,"color",{get:function(){return this._color},set:function(e){var t=e.r,i=e.g,r=e.b;this._color.r===t&&this._color.g===i&&this._color.b===r||(this._color.r=t,this._color.g=i,this._color.b=r,this._colorUniform[0]=t,this._colorUniform[1]=i,this._colorUniform[2]=r,this._renderable.setParameter("material_emissive",this._colorUniform),this._element&&this._element.fire("set:color",this._color))}}),Object.defineProperty(gc.prototype,"opacity",{get:function(){return this._color.a},set:function(e){e!==this._color.a&&(this._color.a=e,this._renderable.setParameter("material_opacity",e),this._element&&this._element.fire("set:opacity",e))}}),Object.defineProperty(gc.prototype,"rect",{get:function(){return this._rect},set:function(e){var t,i,r,n;e instanceof D?(t=e.x,i=e.y,r=e.z,n=e.w):(t=e[0],i=e[1],r=e[2],n=e[3]),t===this._rect.x&&i===this._rect.y&&r===this._rect.z&&n===this._rect.w||(this._rect.set(t,i,r,n),this._renderable.mesh&&(this._element._beingInitialized?this._meshDirty=!0:this._updateMesh(this._renderable.mesh)))}}),Object.defineProperty(gc.prototype,"material",{get:function(){return this._material},set:function(e){if(this._material!==e){if(!e){var t=this._element._isScreenSpace();e=this.mask?t?this._system.defaultScreenSpaceImageMaskMaterial:this._system.defaultImageMaskMaterial:t?this._system.defaultScreenSpaceImageMaterial:this._system.defaultImageMaterial}this._material=e,e&&(this._renderable.setMaterial(e),this._hasUserMaterial()?(this._renderable.deleteParameter("material_opacity"),this._renderable.deleteParameter("material_emissive")):(this._colorUniform[0]=this._color.r,this._colorUniform[1]=this._color.g,this._colorUniform[2]=this._color.b,this._renderable.setParameter("material_emissive",this._colorUniform),this._renderable.setParameter("material_opacity",this._color.a)))}}}),Object.defineProperty(gc.prototype,"materialAsset",{get:function(){return this._materialAsset},set:function(e){var t=this._system.app.assets,i=e;if(e instanceof pa&&(i=e.id),this._materialAsset!==i){if(this._materialAsset){t.off("add:"+this._materialAsset,this._onMaterialAdded,this);var r=t.get(this._materialAsset);r&&(r.off("load",this._onMaterialLoad,this),r.off("change",this._onMaterialChange,this),r.off("remove",this._onMaterialRemove,this))}if(this._materialAsset=i,this._materialAsset){var n=t.get(this._materialAsset);n?this._bindMaterialAsset(n):(this.material=null,t.on("add:"+this._materialAsset,this._onMaterialAdded,this))}else this.material=null}}}),Object.defineProperty(gc.prototype,"texture",{get:function(){return this._texture},set:function(e){if(this._texture!==e){if(this._textureAsset){var t=this._system.app.assets.get(this._textureAsset);t&&t.resource!==e&&(this.textureAsset=null)}this._texture=e,e?(this._spriteAsset&&(this.spriteAsset=null),this._renderable.setParameter("texture_emissiveMap",this._texture),this._renderable.setParameter("texture_opacityMap",this._texture),this._colorUniform[0]=this._color.r,this._colorUniform[1]=this._color.g,this._colorUniform[2]=this._color.b,this._renderable.setParameter("material_emissive",this._colorUniform),this._renderable.setParameter("material_opacity",this._color.a)):(this._renderable.deleteParameter("texture_emissiveMap"),this._renderable.deleteParameter("texture_opacityMap"))}}}),Object.defineProperty(gc.prototype,"textureAsset",{get:function(){return this._textureAsset},set:function(e){var t=this._system.app.assets,i=e;if(e instanceof pa&&(i=e.id),this._textureAsset!==i){if(this._textureAsset){t.off("add:"+this._textureAsset,this._onTextureAdded,this);var r=t.get(this._textureAsset);r&&(r.off("load",this._onTextureLoad,this),r.off("change",this._onTextureChange,this),r.off("remove",this._onTextureRemove,this))}if(this._textureAsset=i,this._textureAsset){var n=t.get(this._textureAsset);n?this._bindTextureAsset(n):(this.texture=null,t.on("add:"+this._textureAsset,this._onTextureAdded,this))}else this.texture=null}}}),Object.defineProperty(gc.prototype,"spriteAsset",{get:function(){return this._spriteAsset},set:function(e){var t=this._system.app.assets,i=e;if(e instanceof pa&&(i=e.id),this._spriteAsset!==i){if(this._spriteAsset){t.off("add:"+this._spriteAsset,this._onSpriteAssetAdded,this);var r=t.get(this._spriteAsset);r&&this._unbindSpriteAsset(r)}if(this._spriteAsset=i,this._spriteAsset){var n=t.get(this._spriteAsset);n?this._bindSpriteAsset(n):(this.sprite=null,t.on("add:"+this._spriteAsset,this._onSpriteAssetAdded,this))}else this.sprite=null;this._element&&this._element.fire("set:spriteAsset",i)}}}),Object.defineProperty(gc.prototype,"sprite",{get:function(){return this._sprite},set:function(e){if(this._sprite!==e){if(this._sprite&&this._unbindSprite(this._sprite),this._spriteAsset){var t=this._system.app.assets.get(this._spriteAsset);t&&t.resource!==e&&(this.spriteAsset=null)}this._sprite=e,this._sprite&&(this._bindSprite(this._sprite),this._textureAsset&&(this.textureAsset=null)),this._sprite&&this._sprite.atlas&&this._sprite.atlas.texture?(this._renderable.setParameter("texture_emissiveMap",this._sprite.atlas.texture),this._renderable.setParameter("texture_opacityMap",this._sprite.atlas.texture)):(this._renderable.deleteParameter("texture_emissiveMap"),this._renderable.deleteParameter("texture_opacityMap")),this._sprite&&(this._spriteFrame=A.clamp(this._spriteFrame,0,this._sprite.frameKeys.length-1)),this._updateSprite()}}}),Object.defineProperty(gc.prototype,"spriteFrame",{get:function(){return this._spriteFrame},set:function(e){var t=this._spriteFrame;this._sprite?this._spriteFrame=A.clamp(e,0,this._sprite.frameKeys.length-1):this._spriteFrame=e,this._spriteFrame!==t&&(this._updateSprite(),this._element&&this._element.fire("set:spriteFrame",e))}}),Object.defineProperty(gc.prototype,"mesh",{get:function(){return this._renderable.mesh},set:function(e){this._renderable.setMesh(e),this._defaultMesh===e?this._renderable.setAabbFunc(null):this._renderable.setAabbFunc(this._updateAabbFunc)}}),Object.defineProperty(gc.prototype,"mask",{get:function(){return this._mask},set:function(e){this._mask!==e&&(this._mask=e,this._toggleMask())}}),Object.defineProperty(gc.prototype,"pixelsPerUnit",{get:function(){return this._pixelsPerUnit},set:function(e){this._pixelsPerUnit!==e&&(this._pixelsPerUnit=e,!this._sprite||1!==this._sprite.renderMode&&2!==this._sprite.renderMode||this._updateSprite())}}),Object.defineProperty(gc.prototype,"aabb",{get:function(){return this._renderable.meshInstance?this._renderable.meshInstance.aabb:null}}),kc.prototype=Object.create(o.prototype),kc.prototype.constructor=kc,kc.prototype._bindDefaultAsset=function(){var e=this._app.assets.get(this._defaultAsset);e?this._onDefaultAssetAdd(e):this._app.assets.once("add:"+this._defaultAsset,this._onDefaultAssetAdd,this)},kc.prototype._unbindDefaultAsset=function(){if(this._defaultAsset){this._app.assets.off("add:"+this._defaultAsset,this._onDefaultAssetAdd,this);var e=this._app.assets.get(this._defaultAsset);e&&(e.off("add:localized",this._onLocaleAdd,this),e.off("remove:localized",this._onLocaleRemove,this),e.off("remove",this._onDefaultAssetRemove,this))}},kc.prototype._onDefaultAssetAdd=function(e){this._defaultAsset===e.id&&(e.on("add:localized",this._onLocaleAdd,this),e.on("remove:localized",this._onLocaleRemove,this),e.once("remove",this._onDefaultAssetRemove,this))},kc.prototype._onDefaultAssetRemove=function(e){this._defaultAsset===e.id&&(e.off("add:localized",this._onLocaleAdd,this),e.off("remove:localized",this._onLocaleAdd,this),this._app.assets.once("add:"+this._defaultAsset,this._onDefaultAssetAdd,this))},kc.prototype._bindLocalizedAsset=function(){if(this._autoLoad){var e=this._app.assets.get(this._localizedAsset);e&&(e.on("load",this._onLocalizedAssetLoad,this),e.on("change",this._onLocalizedAssetChange,this),e.on("remove",this._onLocalizedAssetRemove,this),e.resource?this._onLocalizedAssetLoad(e):this._app.assets.load(e))}},kc.prototype._unbindLocalizedAsset=function(){var e=this._app.assets.get(this._localizedAsset);e&&(e.off("load",this._onLocalizedAssetLoad,this),e.off("change",this._onLocalizedAssetChange,this),e.off("remove",this._onLocalizedAssetRemove,this))},kc.prototype._onLocalizedAssetAdd=function(e){this._localizedAsset===e.id&&this._bindLocalizedAsset()},kc.prototype._onLocalizedAssetLoad=function(e){this.fire("load",e)},kc.prototype._onLocalizedAssetChange=function(e,t,i,r){this.fire("change",e,t,i,r)},kc.prototype._onLocalizedAssetRemove=function(e){this._localizedAsset===e.id&&(this.localizedAsset=this._defaultAsset),this.fire("remove",e)},kc.prototype._onLocaleAdd=function(e,t){this._app.i18n.locale===e&&this._onSetLocale(e)},kc.prototype._onLocaleRemove=function(e,t){this._app.i18n.locale===e&&this._onSetLocale(e)},kc.prototype._onSetLocale=function(e){if(this._defaultAsset){var t=this._app.assets.get(this._defaultAsset);if(t&&!this._disableLocalization){var i=t.getLocalizedAssetId(e);this.localizedAsset=i||this._defaultAsset}else this.localizedAsset=this._defaultAsset}else this.localizedAsset=null},kc.prototype.destroy=function(){this.defaultAsset=null,this._app.i18n.off("set:locale",this._onSetLocale,this),this.off()},Object.defineProperty(kc.prototype,"defaultAsset",{get:function(){return this._defaultAsset},set:function(e){var t=e instanceof pa?e.id:e;this._defaultAsset!==t&&(this._defaultAsset&&this._unbindDefaultAsset(),this._defaultAsset=t,this._defaultAsset&&this._bindDefaultAsset(),this._onSetLocale(this._app.i18n.locale))}}),Object.defineProperty(kc.prototype,"localizedAsset",{get:function(){return this._localizedAsset},set:function(e){var t=e instanceof pa?e.id:e;this._localizedAsset!==t&&(this._localizedAsset&&(this._app.assets.off("add:"+this._localizedAsset,this._onLocalizedAssetAdd,this),this._unbindLocalizedAsset(),this._localizedAsset=null),this._localizedAsset=t,this._localizedAsset&&(this._app.assets.get(this._localizedAsset)?this._bindLocalizedAsset():this._app.assets.once("add:"+this._localizedAsset,this._onLocalizedAssetAdd,this)))}}),Object.defineProperty(kc.prototype,"autoLoad",{get:function(){return this._autoLoad},set:function(e){this._autoLoad!==e&&(this._autoLoad=e,this._autoLoad&&this._localizedAsset&&(this._unbindLocalizedAsset(),this._bindLocalizedAsset()))}}),Object.defineProperty(kc.prototype,"disableLocalization",{get:function(){return this._disableLocalization},set:function(e){this._disableLocalization!==e&&(this._disableLocalization=e,this._onSetLocale(this._app.i18n.locale))}}),Object.assign(xc.prototype,{EOF_TOKEN:0,ERROR_TOKEN:1,TEXT_TOKEN:2,OPEN_BRACKET_TOKEN:3,CLOSE_BRACKET_TOKEN:4,EQUALS_TOKEN:5,STRING_TOKEN:6,IDENTIFIER_TOKEN:7,WHITESPACE_TOKEN:8,WHITESPACE_CHARS:" \t\n\r\v\f",IDENTIFIER_REGEX:/[A-Z|a-z|0-9|_|-|/]/,read:function(){for(var e=this._read();e===this.WHITESPACE_TOKEN;)e=this._read();return e!==this.EOF_TOKEN&&e!==this.ERROR_TOKEN&&(this._last=this._index),e},buf:function(){return this._buf},last:function(){return this._last},error:function(){return this._error},debugPrint:function(){for(var e=["EOF","ERROR","TEXT","OPEN_BRACKET","CLOSE_BRACKET","EQUALS","STRING","IDENTIFIER","WHITESPACE"],t=this.read(),i="";i+=(i.length>0?"\n":"")+e[t]+" '"+this.buf().join("")+"'",t!==this.EOF_TOKEN&&t!==this.ERROR_TOKEN;)t=this.read();return i},_read:function(){return this._buf=[],this._eof()?this.EOF_TOKEN:"text"===this._mode?this._text():this._tag()},_text:function(){for(;;)switch(this._cur){case null:return this._buf.length>0?this.TEXT_TOKEN:this.EOF_TOKEN;case"[":return this._mode="tag",this._buf.length>0?this.TEXT_TOKEN:this._tag();case"\\":switch(this._next(),this._cur){case"[":this._store();break;default:this._output("\\")}break;default:this._store()}},_tag:function(){for(;;)switch(this._cur){case null:return this._error="unexpected end of input reading tag",this.ERROR_TOKEN;case"[":return this._store(),this.OPEN_BRACKET_TOKEN;case"]":return this._store(),this._mode="text",this.CLOSE_BRACKET_TOKEN;case"=":return this._store(),this.EQUALS_TOKEN;case" ":case"\t":case"\n":case"\r":case"\v":case"\f":return this._whitespace();case'"':return this._string();default:return this._isIdentifierSymbol(this._cur)?this._identifier():(this._error="unrecognized character",this.ERROR_TOKEN)}},_whitespace:function(){for(this._store();-1!==this.WHITESPACE_CHARS.indexOf(this._cur);)this._store();return this.WHITESPACE_TOKEN},_string:function(){for(this._next();;)switch(this._cur){case null:return this._error="unexpected end of input reading string",this.ERROR_TOKEN;case'"':return this._next(),this.STRING_TOKEN;default:this._store()}},_identifier:function(){for(this._store();null!==this._cur&&this._isIdentifierSymbol(this._cur);)this._store();return this.IDENTIFIER_TOKEN},_isIdentifierSymbol:function(e){return 1===e.length&&null!==e.match(this.IDENTIFIER_REGEX)},_eof:function(){return null===this._cur},_next:function(){return this._eof()||(this._index++,this._cur=this._index<this._symbols.length?this._symbols[this._index]:null),this._cur},_store:function(){return this._buf.push(this._cur),this._next()},_output:function(e){this._buf.push(e)}});var Sc=function(e){this._scanner=new xc(e),this._error=null};function Tc(e,t){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];r instanceof Object?(e.hasOwnProperty(i)||(e[i]={}),Tc(e[i],t[i])):e[i]=r}}function wc(e){if(0===e.length)return null;for(var t={},i=0;i<e.length;++i){var r=e[i],n={};n[r.name]={value:r.value,attributes:r.attributes},Tc(t,n)}return t}function Ec(e){var t=new Sc(e),i=[],r=[];if(!t.parse(i,r))return console.warn(t.error()),{symbols:e,tags:null};var n=r.find((function(e){return null===e.end}));return n?(console.warn("Markup error: found unclosed tag='"+n.name+"'"),{symbols:e,tags:null}):{symbols:i,tags:function(e,t){var i;if(0===e.length)return null;var r={};for(i=0;i<e.length;++i){var n=e[i];r.hasOwnProperty(n.start)?null===r[n.start].open?r[n.start].open=[n]:r[n.start].open.push(n):r[n.start]={open:[n],close:null},r.hasOwnProperty(n.end)?null===r[n.end].close?r[n.end].close=[n]:r[n.end].close.push(n):r[n.end]={open:null,close:[n]}}var a=[];function s(e){a=a.filter((function(t){return void 0===e.find((function(e){return e===t}))}))}function o(e){for(var t=0;t<e.length;++t)a.push(e[t])}var l=Object.keys(r).sort((function(e,t){return e-t})),c=[];for(i=0;i<l.length;++i){var f=r[l[i]];null!==f.close&&s(f.close),null!==f.open&&o(f.open),c.push({start:l[i],tags:wc(a)})}var h=[],u=null;for(i=0;i<c.length;++i){for(var d=c[i];h.length<d.start;)h.push(u?u.tags:null);u=d}for(;h.length<t;)h.push(null);return h}(r,i.length)}}function Mc(){}function Pc(){this.count=0,this.quad=0,this.lines={},this.positions=[],this.normals=[],this.uvs=[],this.colors=[],this.indices=[],this.meshInstance=null}function Rc(e){this._element=e,this._system=e.system,this._entity=e.entity,this._text="",this._symbols=[],this._colorPalette=[],this._symbolColors=null,this._i18nKey=null,this._fontAsset=new kc(this._system.app),this._fontAsset.disableLocalization=!0,this._fontAsset.on("load",this._onFontLoad,this),this._fontAsset.on("change",this._onFontChange,this),this._fontAsset.on("remove",this._onFontRemove,this),this._font=null,this._color=new v(1,1,1,1),this._colorUniform=new Float32Array(3),this._spacing=1,this._fontSize=32,this._fontMinY=0,this._fontMaxY=0,this._originalFontSize=32,this._maxFontSize=32,this._minFontSize=8,this._autoFitWidth=!1,this._autoFitHeight=!1,this._maxLines=-1,this._lineHeight=32,this._scaledLineHeight=32,this._wrapLines=!1,this._drawOrder=0,this._alignment=new O(.5,.5),this._autoWidth=!0,this._autoHeight=!0,this.width=0,this.height=0,this._node=new ei,this._model=new Tt,this._model.graph=this._node,this._entity.addChild(this._node),this._meshInfo=[],this._material=null,this._aabbDirty=!0,this._aabb=new W,this._noResize=!1,this._currentMaterialType=null,this._maskedMaterialSrc=null,this._rtlReorder=!1,this._unicodeConverter=!1,this._rtl=!1,this._outlineColor=new v(0,0,0,1),this._outlineColorUniform=new Float32Array(4),this._outlineThicknessScale=.2,this._outlineThickness=0,this._shadowColor=new v(0,0,0,1),this._shadowColorUniform=new Float32Array(4),this._shadowOffsetScale=.005,this._shadowOffset=new O(0,0),this._shadowOffsetUniform=new Float32Array(2),this._enableMarkup=!1,this._onScreenChange(this._element.screen),e.on("resize",this._onParentResize,this),e.on("set:screen",this._onScreenChange,this),e.on("screen:set:screenspace",this._onScreenSpaceChange,this),e.on("set:draworder",this._onDrawOrderChange,this),e.on("set:pivot",this._onPivotChange,this),this._system.app.i18n.on("set:locale",this._onLocaleSet,this),this._system.app.i18n.on("data:add",this._onLocalizationData,this),this._system.app.i18n.on("data:remove",this._onLocalizationData,this),this._rangeStart=0,this._rangeEnd=0}Object.assign(Sc.prototype,{parse:function(e,t){for(;;)switch(this._scanner.read()){case this._scanner.EOF_TOKEN:return!0;case this._scanner.ERROR_TOKEN:return!1;case this._scanner.TEXT_TOKEN:Array.prototype.push.apply(e,this._scanner.buf());break;case this._scanner.OPEN_BRACKET_TOKEN:if(!this._parseTag(e,t))return!1;break;default:return!1}},error:function(){return"Error evaluating markup at #"+this._scanner.last().toString()+" ("+(this._scanner.error()||this._error)+")"},_parseTag:function(e,t){var i=this._scanner.read();if(i!==this._scanner.IDENTIFIER_TOKEN)return this._error="expected identifier",!1;var r=this._scanner.buf().join("");if("/"===r[0]){for(var n=t.length-1;n>=0;--n)if(r==="/"+t[n].name&&null===t[n].end)return t[n].end=e.length,(i=this._scanner.read())===this._scanner.CLOSE_BRACKET_TOKEN||(this._error="expected close bracket",!1);return this._error="failed to find matching tag",!1}var a={name:r,value:null,attributes:{},start:e.length,end:null};if((i=this._scanner.read())===this._scanner.EQUALS_TOKEN){if((i=this._scanner.read())!==this._scanner.STRING_TOKEN)return this._error="expected string",!1;a.value=this._scanner.buf().join(""),i=this._scanner.read()}for(;;){switch(i){case this._scanner.CLOSE_BRACKET_TOKEN:return t.push(a),!0;case this._scanner.IDENTIFIER_TOKEN:var s=this._scanner.buf().join("");if((i=this._scanner.read())!==this._scanner.EQUALS_TOKEN)return this._error="expected equals",!1;if((i=this._scanner.read())!==this._scanner.STRING_TOKEN)return this._error="expected string",!1;var o=this._scanner.buf().join("");a.attributes[s]=o;break;default:return this._error="expected close bracket or identifier",!1}i=this._scanner.read()}}}),Mc.evaluate=function(e){return Ec(e)};var Cc=/^[\r\n]$/,Oc=/^[ \t]$/,Ic=/^[ \t\-]$/;Object.assign(Rc.prototype,{destroy:function(){this._setMaterial(null),this._model&&(this._element.removeModelFromLayers(this._model),this._model.destroy(),this._model=null),this._fontAsset.destroy(),this.font=null,this._element.off("resize",this._onParentResize,this),this._element.off("set:screen",this._onScreenChange,this),this._element.off("screen:set:screenspace",this._onScreenSpaceChange,this),this._element.off("set:draworder",this._onDrawOrderChange,this),this._element.off("set:pivot",this._onPivotChange,this),this._system.app.i18n.off("set:locale",this._onLocaleSet,this),this._system.app.i18n.off("data:add",this._onLocalizationData,this),this._system.app.i18n.off("data:remove",this._onLocalizationData,this)},_onParentResize:function(e,t){this._noResize||this._font&&this._updateText()},_onScreenChange:function(e){e?this._updateMaterial(e.screen.screenSpace):this._updateMaterial(!1)},_onScreenSpaceChange:function(e){this._updateMaterial(e)},_onDrawOrderChange:function(e){var t,i;if(this._drawOrder=e,this._model)for(t=0,i=this._model.meshInstances.length;t<i;t++)this._model.meshInstances[t].drawOrder=e},_onPivotChange:function(e){this._font&&this._updateText()},_onLocaleSet:function(e){if(this._i18nKey){if(this.fontAsset){var t=this._system.app.assets.get(this.fontAsset);t&&t.resource&&t.resource===this._font||(this.font=null)}this._resetLocalizedText()}},_onLocalizationData:function(e,t){this._i18nKey&&t[this._i18nKey]&&this._resetLocalizedText()},_resetLocalizedText:function(){this._setText(this._system.app.i18n.getText(this._i18nKey))},_setText:function(e){if(this.unicodeConverter){var t=this._system.getUnicodeConverter();t?e=t(e):console.warn("Element created with unicodeConverter option but no unicodeConverter function registered")}this._text!==e&&(this._font&&this._updateText(e),this._text=e)},_updateText:function(e){var t,i,r,n;if(void 0===e&&(e=this._text),this._symbols=b.getSymbols(e),0===this._symbols.length&&(this._symbols=[" "]),this._enableMarkup&&(r=Mc.evaluate(this._symbols),this._symbols=r.symbols,n=r.tags),this._rtlReorder){var a=this._system.app.systems.element.getRtlReorder();a?(r=a(this._symbols),this._rtl=r.rtl,this._symbols=r.mapping.map((function(e){return this._symbols[e]}),this),n&&(n=r.mapping.map((function(e){return n[e]})))):console.warn("Element created with rtlReorder option but no rtlReorder function registered")}else this._rtl=!1;if(n){var s={};for(this._colorPalette=[Math.round(255*this._color.r),Math.round(255*this._color.g),Math.round(255*this._color.b)],this._symbolColors=[],s[this._color.toString(!1).toLowerCase()]=0,t=0,i=this._symbols.length;t<i;++t){var o=n[t],l=0;if(o&&o.color&&o.color.value){var c=o.color.value;if(7===c.length&&"#"===c[0]){var f=c.substring(1).toLowerCase();s.hasOwnProperty(f)?l=s[f]:/^([0-9a-f]{2}){3}$/.test(f)&&(l=this._colorPalette.length/3,s[f]=l,this._colorPalette.push(parseInt(f.substring(0,2),16)),this._colorPalette.push(parseInt(f.substring(2,4),16)),this._colorPalette.push(parseInt(f.substring(4,6),16)))}}this._symbolColors.push(l)}}else this._colorPalette=[],this._symbolColors=null;var h=this._calculateCharsPerTexture(),u=!1,d=this._element,p=d._isScreenSpace(),_=d._isScreenCulled(),m=function(e){return d.isVisibleForCamera(e)};for(t=0,i=this._meshInfo.length;t<i;t++){var A=h[t]||0,v=this._meshInfo[t];if(v.count!==A){if(u||(d.removeModelFromLayers(this._model),u=!0),v.count=A,v.positions.length=v.normals.length=3*A*4,v.indices.length=3*A*2,v.uvs.length=2*A*4,v.colors.length=4*A*4,v.meshInstance&&this._removeMeshInstance(v.meshInstance),0===A){v.meshInstance=null;continue}for(var y=0;y<A;y++)v.indices[3*y*2+0]=4*y,v.indices[3*y*2+1]=4*y+1,v.indices[3*y*2+2]=4*y+3,v.indices[3*y*2+3]=4*y+2,v.indices[3*y*2+4]=4*y+3,v.indices[3*y*2+5]=4*y+1,v.normals[4*y*3+0]=0,v.normals[4*y*3+1]=0,v.normals[4*y*3+2]=-1,v.normals[4*y*3+3]=0,v.normals[4*y*3+4]=0,v.normals[4*y*3+5]=-1,v.normals[4*y*3+6]=0,v.normals[4*y*3+7]=0,v.normals[4*y*3+8]=-1,v.normals[4*y*3+9]=0,v.normals[4*y*3+10]=0,v.normals[4*y*3+11]=-1;var g=gn(this._system.app.graphicsDevice,v.positions,{uvs:v.uvs,normals:v.normals,colors:v.colors,indices:v.indices}),k=new bt(this._node,g,this._material);k.name="Text Element: "+this._entity.name,k.castShadow=!1,k.receiveShadow=!1,k.cull=!p,k.screenSpace=p,k.drawOrder=this._drawOrder,_&&(k.cull=!0,k.isVisibleFunc=m),this._setTextureParams(k,this._font.textures[t]),this._symbolColors?(this._colorUniform[0]=1,this._colorUniform[1]=1,this._colorUniform[2]=1):(this._colorUniform[0]=this._color.r,this._colorUniform[1]=this._color.g,this._colorUniform[2]=this._color.b),k.setParameter("material_emissive",this._colorUniform),k.setParameter("material_opacity",this._color.a),k.setParameter("font_sdfIntensity",this._font.intensity),k.setParameter("font_pxrange",this._getPxRange(this._font)),k.setParameter("font_textureWidth",this._font.data.info.maps[t].width),this._outlineColorUniform[0]=this._outlineColor.r,this._outlineColorUniform[1]=this._outlineColor.g,this._outlineColorUniform[2]=this._outlineColor.b,this._outlineColorUniform[3]=this._outlineColor.a,k.setParameter("outline_color",this._outlineColorUniform),k.setParameter("outline_thickness",this._outlineThicknessScale*this._outlineThickness),this._shadowColorUniform[0]=this._shadowColor.r,this._shadowColorUniform[1]=this._shadowColor.g,this._shadowColorUniform[2]=this._shadowColor.b,this._shadowColorUniform[3]=this._shadowColor.a,k.setParameter("shadow_color",this._shadowColorUniform);var x=this._font.data.info.maps[t].width/this._font.data.info.maps[t].height;this._shadowOffsetUniform[0]=this._shadowOffsetScale*this._shadowOffset.x,this._shadowOffsetUniform[1]=x*this._shadowOffsetScale*this._shadowOffset.y,k.setParameter("shadow_offset",this._shadowOffsetUniform),v.meshInstance=k,this._model.meshInstances.push(k)}}this._element.maskedBy&&this._element._setMaskedBy(this._element.maskedBy),u&&this._element.enabled&&this._entity.enabled&&this._element.addModelToLayers(this._model),this._updateMeshes(),this._rangeStart=0,this._rangeEnd=this._symbols.length,this._updateRenderRange()},_removeMeshInstance:function(e){e.material=null;var t=e.mesh;t&&t.destroy();var i=this._model.meshInstances.indexOf(e);-1!==i&&this._model.meshInstances.splice(i,1)},_setMaterial:function(e){var t,i;if(this._material=e,this._model)for(t=0,i=this._model.meshInstances.length;t<i;t++)this._model.meshInstances[t].material=e},_updateMaterial:function(e){var t=this._element,i=t._isScreenCulled(),r=function(e){return t.isVisibleForCamera(e)},n=this._font&&"msdf"===this._font.type;if(this._material=this._system.getTextElementMaterial(e,n),this._model)for(var a=0,s=this._model.meshInstances.length;a<s;a++){var o=this._model.meshInstances[a];o.cull=!e,o.material=this._material,o.screenSpace=e,i?(o.cull=!0,o.isVisibleFunc=r):o.isVisibleFunc=null}},_updateMeshes:function(){var e=this._font.data,t=this,i=Math.min(this._minFontSize,this._maxFontSize),r=this._maxFontSize,n=this._shouldAutoFit();n&&(this._fontSize=this._maxFontSize);var a=this._symbols.length,s=0,o=0,l=0,c=0,f=1,h=0,u=0,d=0,p=0,_=0,m=0,v=Math.abs(this._element.anchor.x-this._element.anchor.z)>=1e-4,y=this._element.calculatedWidth;(this.autoWidth&&!v||!this._wrapLines)&&(y=Number.POSITIVE_INFINITY);var g,k,x,S,T,w=0,E=0,M=1;function P(e,i,r){t._lineWidths.push(Math.abs(r));var n=d>i?i+1:d,a=d>i?d+1:i,l=e.slice(n,a);if(m)for(var c=l.length;c--&&m>0;)Cc.test(l[c])&&(l.splice(c,1),m--);t._lineContents.push(l.join("")),s=0,o-=t._scaledLineHeight,f++,p=0,_=0,m=0,h=0,d=i}for(var R=!0;R;){for(R=!1,this._scaledLineHeight=n?this._lineHeight*this._fontSize/(this._maxFontSize||1e-4):this._lineHeight,this.width=0,this.height=0,this._lineWidths=[],this._lineContents=[],s=0,o=0,l=0,c=0,f=1,h=0,u=0,d=0,p=0,_=0,m=0,M=this._fontSize/32,w=this._fontMinY*M,E=this._fontMaxY*M,x=0;x<this._meshInfo.length;x++)this._meshInfo[x].quad=0,this._meshInfo[x].lines={};var C=255,O=255,I=255;for(x=0;x<a;x++){g=this._symbols[x];var D,F=0,N=0,B=0,L=1;if(!(k=e.chars[g]))if(e.chars[" "])k=e.chars[" "];else for(var U in e.chars){k=e.chars[U];break}if(k){var V=0;if(_>0){var z=this._font.data.kerning;if(z){var j=z[b.getCodePoint(this._symbols[x-1])||0];j&&(V=j[b.getCodePoint(this._symbols[x])||0]||0)}}D=k.scale||1,L=M*((k.width+k.height)/2)/D,B=(k.xadvance+V)*M,F=(k.xoffset-V)*M,N=k.yoffset*M}else console.error("Couldn't substitute missing character: '"+g+"'");var W=Cc.test(g);if(W)m++,(this._maxLines<0||f<this._maxLines)&&(P(this._symbols,x,c),u=x+1,d=x+1);else{var G=Oc.test(g),H=this._meshInfo[k&&k.map||0],Y=s+this._spacing*B;if(Y>y&&_>0&&!G&&(this._maxLines<0||f<this._maxLines)){if(0!==p){var X=Math.max(x-u,0);if(this._meshInfo.length<=1)H.lines[f-1]-=X,H.quad-=X;else{var Z=x;for(S=u;S<Z;S++){var Q=this._symbols[S],J=e.chars[Q],q=this._meshInfo[J&&J.map||0];q.lines[f-1]-=1,q.quad-=1}}x-=X+1,P(this._symbols,u,h);continue}u=x,P(this._symbols,x,c)}T=H.quad,H.lines[f-1]=T;var K,$=s-F,ee=$+L,te=o-N,ie=te+L;if(this._rtl){var re=L-F-this._spacing*B-F;$-=re,ee-=re}if(H.positions[4*T*3+0]=$,H.positions[4*T*3+1]=te,H.positions[4*T*3+2]=l,H.positions[4*T*3+3]=ee,H.positions[4*T*3+4]=te,H.positions[4*T*3+5]=l,H.positions[4*T*3+6]=ee,H.positions[4*T*3+7]=ie,H.positions[4*T*3+8]=l,H.positions[4*T*3+9]=$,H.positions[4*T*3+10]=ie,H.positions[4*T*3+11]=l,this.width=Math.max(this.width,Y),this._shouldAutoFitWidth()&&this.width>this._element.calculatedWidth&&(K=Math.floor(this._element.fontSize*this._element.calculatedWidth/(this.width||1e-4)),(K=A.clamp(K,i,r))!==this._element.fontSize)){this._fontSize=K,R=!0;break}if(this.height=Math.max(this.height,E-(o+w)),this._shouldAutoFitHeight()&&this.height>this._element.calculatedHeight&&(K=A.clamp(this._fontSize-1,i,r))!==this._element.fontSize){this._fontSize=K,R=!0;break}s+=this._spacing*B,G||W||(c=s),Ic.test(g)&&(p++,h=c,u=x+1),_++;var ne=this._getUv(g);if(H.uvs[4*T*2+0]=ne[0],H.uvs[4*T*2+1]=ne[1],H.uvs[4*T*2+2]=ne[2],H.uvs[4*T*2+3]=ne[1],H.uvs[4*T*2+4]=ne[2],H.uvs[4*T*2+5]=ne[3],H.uvs[4*T*2+6]=ne[0],H.uvs[4*T*2+7]=ne[3],this._symbolColors){var ae=3*this._symbolColors[x];C=this._colorPalette[ae],O=this._colorPalette[ae+1],I=this._colorPalette[ae+2]}H.colors[4*T*4+0]=C,H.colors[4*T*4+1]=O,H.colors[4*T*4+2]=I,H.colors[4*T*4+3]=255,H.colors[4*T*4+4]=C,H.colors[4*T*4+5]=O,H.colors[4*T*4+6]=I,H.colors[4*T*4+7]=255,H.colors[4*T*4+8]=C,H.colors[4*T*4+9]=O,H.colors[4*T*4+10]=I,H.colors[4*T*4+11]=255,H.colors[4*T*4+12]=C,H.colors[4*T*4+13]=O,H.colors[4*T*4+14]=I,H.colors[4*T*4+15]=255,H.quad++}}R||d<a&&P(this._symbols,a,s)}this._noResize=!0,this.autoWidth=this._autoWidth,this.autoHeight=this._autoHeight,this._noResize=!1;var se=this._element.pivot.x,oe=this._element.pivot.y,le=this._alignment.x,ce=this._alignment.y;for(x=0;x<this._meshInfo.length;x++)if(0!==this._meshInfo[x].count){var fe=0;for(var he in this._meshInfo[x].lines){var ue=this._meshInfo[x].lines[he],de=this._lineWidths[parseInt(he,10)],pe=-se*this._element.calculatedWidth+le*(this._element.calculatedWidth-de)*(this._rtl?-1:1),_e=(1-oe)*this._element.calculatedHeight-E-(1-ce)*(this._element.calculatedHeight-this.height);for(T=fe;T<=ue;T++)this._meshInfo[x].positions[4*T*3]+=pe,this._meshInfo[x].positions[4*T*3+3]+=pe,this._meshInfo[x].positions[4*T*3+6]+=pe,this._meshInfo[x].positions[4*T*3+9]+=pe,this._meshInfo[x].positions[4*T*3+1]+=_e,this._meshInfo[x].positions[4*T*3+4]+=_e,this._meshInfo[x].positions[4*T*3+7]+=_e,this._meshInfo[x].positions[4*T*3+10]+=_e;if(this._rtl)for(T=fe;T<=ue;T++){for(var me=4*T*3,be=0;be<4;++be)this._meshInfo[x].positions[me+3*be]=this._element.calculatedWidth-this._meshInfo[x].positions[me+3*be]+2*pe;var Ae=this._meshInfo[x].positions[me+3],ve=this._meshInfo[x].positions[me+6];this._meshInfo[x].positions[me+3]=this._meshInfo[x].positions[me+0],this._meshInfo[x].positions[me+6]=this._meshInfo[x].positions[me+9],this._meshInfo[x].positions[me+0]=Ae,this._meshInfo[x].positions[me+9]=ve}fe=ue+1}for(var ye=4*this._meshInfo[x].count,ge=4*this._meshInfo[x].quad,ke=new we(this._meshInfo[x].meshInstance.mesh.vertexBuffer),xe=0;xe<ye;xe++)xe>=ge?(ke.element.POSITION.set(0,0,0),ke.element.TEXCOORD0.set(0,0),ke.element.COLOR.set(0,0,0,0)):(ke.element.POSITION.set(this._meshInfo[x].positions[3*xe+0],this._meshInfo[x].positions[3*xe+1],this._meshInfo[x].positions[3*xe+2]),ke.element.TEXCOORD0.set(this._meshInfo[x].uvs[2*xe+0],this._meshInfo[x].uvs[2*xe+1]),ke.element.COLOR.set(this._meshInfo[x].colors[4*xe+0],this._meshInfo[x].colors[4*xe+1],this._meshInfo[x].colors[4*xe+2],this._meshInfo[x].colors[4*xe+3])),ke.next();ke.end(),this._meshInfo[x].meshInstance.mesh.aabb.compute(this._meshInfo[x].positions),this._meshInfo[x].meshInstance._aabbVer=-1}this._aabbDirty=!0},_onFontRender:function(){this.font=this._font},_onFontLoad:function(e){this.font!==e.resource&&(this.font=e.resource)},_onFontChange:function(e,t,i,r){if("data"===t){this._font.data=i;for(var n=this._font.data.info.maps.length,a=0;a<n;a++)if(this._meshInfo[a]){var s=this._meshInfo[a].meshInstance;s&&(s.setParameter("font_sdfIntensity",this._font.intensity),s.setParameter("font_pxrange",this._getPxRange(this._font)),s.setParameter("font_textureWidth",this._font.data.info.maps[a].width))}}},_onFontRemove:function(e){},_setTextureParams:function(e,t){this._font&&("msdf"===this._font.type?(e.deleteParameter("texture_emissiveMap"),e.deleteParameter("texture_opacityMap"),e.setParameter("texture_msdfMap",t)):"bitmap"===this._font.type&&(e.deleteParameter("texture_msdfMap"),e.setParameter("texture_emissiveMap",t),e.setParameter("texture_opacityMap",t)))},_getPxRange:function(e){for(var t=Object.keys(this._font.data.chars),i=0;i<t.length;i++){var r=this._font.data.chars[t[i]];if(r.range)return(r.scale||1)*r.range}return 2},_getUv:function(e){var t=this._font.data;if(!t.chars[e])return t.chars[" "]?this._getUv(" "):[0,0,0,0];var i=t.chars[e].map,r=t.info.maps[i].width,n=t.info.maps[i].height,a=t.chars[e].x,s=t.chars[e].y,o=a,l=s,c=a+t.chars[e].width,f=s-t.chars[e].height,h=1-t.chars[e].height/n;return[o/r,h-l/n,c/r,h-f/n]},onEnable:function(){this._fontAsset.autoLoad=!0,this._model&&this._element.addModelToLayers(this._model)},onDisable:function(){this._fontAsset.autoLoad=!1,this._model&&this._element.removeModelFromLayers(this._model)},_setStencil:function(e){if(this._model)for(var t=this._model.meshInstances,i=0;i<t.length;i++)t[i].stencilFront=e,t[i].stencilBack=e},_shouldAutoFitWidth:function(){return this._autoFitWidth&&!this._autoWidth},_shouldAutoFitHeight:function(){return this._autoFitHeight&&!this._autoHeight},_shouldAutoFit:function(){return this._autoFitWidth&&!this._autoWidth||this._autoFitHeight&&!this._autoHeight},_calculateCharsPerTexture:function(e){var t,i,r,n,a,s={};for(void 0===e&&(e=this._symbols.length),t=0,i=e;t<i;t++)r=this._symbols[t],(n=this._font.data.chars[r])||(n=this._font.data.chars[" "])||(n=this._font.data.chars[Object.keys(this._font.data.chars)[0]]),s[a=n.map]?s[a]++:s[a]=1;return s},_updateRenderRange:function(){var e,t,i=0===this._rangeStart?0:this._calculateCharsPerTexture(this._rangeStart),r=0===this._rangeEnd?0:this._calculateCharsPerTexture(this._rangeEnd);for(e=0,t=this._meshInfo.length;e<t;e++){var n=i[e]||0,a=r[e]||0,s=this._meshInfo[e].meshInstance;if(s){var o=s.mesh;o&&(o.primitive[0].base=3*n*2,o.primitive[0].count=3*(a-n)*2)}}}}),Object.defineProperty(Rc.prototype,"text",{get:function(){return this._text},set:function(e){this._i18nKey=null;var t=null!=e&&e.toString()||"";this._setText(t)}}),Object.defineProperty(Rc.prototype,"key",{get:function(){return this._i18nKey},set:function(e){var t=null!==e?e.toString():null;this._i18nKey!==t&&(this._i18nKey=t,t?(this._fontAsset.disableLocalization=!1,this._resetLocalizedText()):this._fontAsset.disableLocalization=!0)}}),Object.defineProperty(Rc.prototype,"color",{get:function(){return this._color},set:function(e){var t=e.r,i=e.g,r=e.b;if(this._color.r!==t||this._color.g!==i||this._color.b!==r)if(this._color.r=t,this._color.g=i,this._color.b=r,this._symbolColors)this._font&&this._updateText();else{this._colorUniform[0]=this._color.r,this._colorUniform[1]=this._color.g,this._colorUniform[2]=this._color.b;for(var n=0,a=this._model.meshInstances.length;n<a;n++)this._model.meshInstances[n].setParameter("material_emissive",this._colorUniform)}}}),Object.defineProperty(Rc.prototype,"opacity",{get:function(){return this._color.a},set:function(e){if(this._color.a!==e&&(this._color.a=e,this._model))for(var t=0,i=this._model.meshInstances.length;t<i;t++)this._model.meshInstances[t].setParameter("material_opacity",e)}}),Object.defineProperty(Rc.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){var t=this._lineHeight;this._lineHeight=e,this._scaledLineHeight=e,t!==e&&this._font&&this._updateText()}}),Object.defineProperty(Rc.prototype,"wrapLines",{get:function(){return this._wrapLines},set:function(e){var t=this._wrapLines;this._wrapLines=e,t!==e&&this._font&&this._updateText()}}),Object.defineProperty(Rc.prototype,"lines",{get:function(){return this._lineContents}}),Object.defineProperty(Rc.prototype,"spacing",{get:function(){return this._spacing},set:function(e){var t=this._spacing;this._spacing=e,t!==e&&this._font&&this._updateText()}}),Object.defineProperty(Rc.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){var t=this._fontSize;this._fontSize=e,this._originalFontSize=e,t!==e&&this._font&&this._updateText()}}),Object.defineProperty(Rc.prototype,"fontAsset",{get:function(){return this._fontAsset.localizedAsset},set:function(e){this._fontAsset.defaultAsset=e}}),Object.defineProperty(Rc.prototype,"font",{get:function(){return this._font},set:function(e){var t,i,r;if(this._font&&(r=this._font.type,this._font.off&&this._font.off("render",this._onFontRender,this)),this._font=e,this._fontMinY=0,this._fontMaxY=0,e){var n=this._font.data;for(var a in n.chars){var s=n.chars[a];s.bounds&&(this._fontMinY=Math.min(this._fontMinY,s.bounds[1]),this._fontMaxY=Math.max(this._fontMaxY,s.bounds[3]))}if(this._font.on&&this._font.on("render",this._onFontRender,this),this._fontAsset.localizedAsset&&this._system.app.assets.get(this._fontAsset.localizedAsset).resource!==this._font&&(this._fontAsset.defaultAsset=null),e.type!==r){var o=this._element._isScreenSpace();this._updateMaterial(o)}for(t=0,i=this._font.textures.length;t<i;t++)if(this._meshInfo[t]){var l=this._meshInfo[t].meshInstance;l&&(l.setParameter("font_sdfIntensity",this._font.intensity),l.setParameter("font_pxrange",this._getPxRange(this._font)),l.setParameter("font_textureWidth",this._font.data.info.maps[t].width),this._setTextureParams(l,this._font.textures[t]))}else this._meshInfo[t]=new Pc;var c=!1;for(t=this._font.textures.length;t<this._meshInfo.length;t++)this._meshInfo[t].meshInstance&&(c||(this._element.removeModelFromLayers(this._model),c=!0),this._removeMeshInstance(this._meshInfo[t].meshInstance));this._meshInfo.length>this._font.textures.length&&(this._meshInfo.length=this._font.textures.length),this._updateText()}}}),Object.defineProperty(Rc.prototype,"alignment",{get:function(){return this._alignment},set:function(e){e instanceof O?this._alignment.set(e.x,e.y):this._alignment.set(e[0],e[1]),this._font&&this._updateText()}}),Object.defineProperty(Rc.prototype,"autoWidth",{get:function(){return this._autoWidth},set:function(e){var t=this._autoWidth;if(this._autoWidth=e,e&&Math.abs(this._element.anchor.x-this._element.anchor.z)<1e-4&&(this._element.width=this.width),t!==e){var i=this._shouldAutoFit()?this._maxFontSize:this._originalFontSize;i!==this._fontSize&&(this._fontSize=i,this._font&&this._updateText())}}}),Object.defineProperty(Rc.prototype,"autoHeight",{get:function(){return this._autoHeight},set:function(e){var t=this._autoHeight;if(this._autoHeight=e,e&&Math.abs(this._element.anchor.y-this._element.anchor.w)<1e-4&&(this._element.height=this.height),t!==e){var i=this._shouldAutoFit()?this._maxFontSize:this._originalFontSize;i!==this._fontSize&&(this._fontSize=i,this._font&&this._updateText())}}}),Object.defineProperty(Rc.prototype,"rtlReorder",{get:function(){return this._rtlReorder},set:function(e){this._rtlReorder!==e&&(this._rtlReorder=e,this._font&&this._updateText())}}),Object.defineProperty(Rc.prototype,"unicodeConverter",{get:function(){return this._unicodeConverter},set:function(e){this._unicodeConverter!==e&&(this._unicodeConverter=e,this._setText(this._text))}}),Object.defineProperty(Rc.prototype,"aabb",{get:function(){if(this._aabbDirty){for(var e=!1,t=0;t<this._meshInfo.length;t++)this._meshInfo[t].meshInstance&&(e?this._aabb.add(this._meshInfo[t].meshInstance.aabb):(this._aabb.copy(this._meshInfo[t].meshInstance.aabb),e=!0));this._aabbDirty=!1}return this._aabb}}),Object.defineProperty(Rc.prototype,"outlineColor",{get:function(){return this._outlineColor},set:function(e){var t=e instanceof v?e.r:e[0],i=e instanceof v?e.g:e[1],r=e instanceof v?e.b:e[2],n=e instanceof v?e.a:e[3];if((this._outlineColor.r!==t||this._outlineColor.g!==i||this._outlineColor.b!==r||this._outlineColor.a!==n)&&(this._outlineColor.r=t,this._outlineColor.g=i,this._outlineColor.b=r,this._outlineColor.a=n,this._model)){this._outlineColorUniform[0]=this._outlineColor.r,this._outlineColorUniform[1]=this._outlineColor.g,this._outlineColorUniform[2]=this._outlineColor.b,this._outlineColorUniform[3]=this._outlineColor.a;for(var a=0,s=this._model.meshInstances.length;a<s;a++)this._model.meshInstances[a].setParameter("outline_color",this._outlineColorUniform)}}}),Object.defineProperty(Rc.prototype,"outlineThickness",{get:function(){return this._outlineThickness},set:function(e){var t=this._outlineThickness;if(this._outlineThickness=e,t!==e&&this._font&&this._model)for(var i=0,r=this._model.meshInstances.length;i<r;i++)this._model.meshInstances[i].setParameter("outline_thickness",this._outlineThicknessScale*this._outlineThickness)}}),Object.defineProperty(Rc.prototype,"shadowColor",{get:function(){return this._shadowColor},set:function(e){var t=e instanceof v?e.r:e[0],i=e instanceof v?e.g:e[1],r=e instanceof v?e.b:e[2],n=e instanceof v?e.a:e[3];if((this._shadowColor.r!==t||this._shadowColor.g!==i||this._shadowColor.b!==r||this._shadowColor.a!==n)&&(this._shadowColor.r=t,this._shadowColor.g=i,this._shadowColor.b=r,this._shadowColor.a=n,this._model)){this._shadowColorUniform[0]=this._shadowColor.r,this._shadowColorUniform[1]=this._shadowColor.g,this._shadowColorUniform[2]=this._shadowColor.b,this._shadowColorUniform[3]=this._shadowColor.a;for(var a=0,s=this._model.meshInstances.length;a<s;a++)this._model.meshInstances[a].setParameter("shadow_color",this._shadowColorUniform)}}}),Object.defineProperty(Rc.prototype,"shadowOffset",{get:function(){return this._shadowOffset},set:function(e){var t=e instanceof O?e.x:e[0],i=e instanceof O?e.y:e[1];if((this._shadowOffset.x!==t||this._shadowOffset.y!==i)&&(this._shadowOffset.set(t,i),this._font&&this._model))for(var r=0,n=this._model.meshInstances.length;r<n;r++){var a=this._font.data.info.maps[r].width/this._font.data.info.maps[r].height;this._shadowOffsetUniform[0]=this._shadowOffsetScale*this._shadowOffset.x,this._shadowOffsetUniform[1]=a*this._shadowOffsetScale*this._shadowOffset.y,this._model.meshInstances[r].setParameter("shadow_offset",this._shadowOffsetUniform)}}}),Object.defineProperty(Rc.prototype,"minFontSize",{get:function(){return this._minFontSize},set:function(e){this._minFontSize!==e&&(this._minFontSize=e,this.font&&this._shouldAutoFit()&&this._updateText())}}),Object.defineProperty(Rc.prototype,"maxFontSize",{get:function(){return this._maxFontSize},set:function(e){this._maxFontSize!==e&&(this._maxFontSize=e,this.font&&this._shouldAutoFit()&&this._updateText())}}),Object.defineProperty(Rc.prototype,"autoFitWidth",{get:function(){return this._autoFitWidth},set:function(e){this._autoFitWidth!==e&&(this._autoFitWidth=e,this._fontSize=this._shouldAutoFit()?this._maxFontSize:this._originalFontSize,this.font&&this._updateText())}}),Object.defineProperty(Rc.prototype,"autoFitHeight",{get:function(){return this._autoFitHeight},set:function(e){this._autoFitHeight!==e&&(this._autoFitHeight=e,this._fontSize=this._shouldAutoFit()?this._maxFontSize:this._originalFontSize,this.font&&this._updateText())}}),Object.defineProperty(Rc.prototype,"maxLines",{get:function(){return this._maxLines},set:function(e){this._maxLines!==e&&(null===e&&-1===this._maxLines||(this._maxLines=null===e?-1:e,this.font&&this._wrapLines&&this._updateText()))}}),Object.defineProperty(Rc.prototype,"enableMarkup",{get:function(){return this._enableMarkup},set:function(e){e=!!e,this._enableMarkup!==e&&(this._enableMarkup=e,this.font&&this._updateText())}}),Object.defineProperty(Rc.prototype,"symbols",{get:function(){return this._symbols}}),Object.defineProperty(Rc.prototype,"symbolColors",{get:function(){return null===this._symbolColors?null:this._symbolColors.map((function(e){return this._colorPalette.slice(3*e,3*e+3)}),this)}}),Object.defineProperty(Rc.prototype,"rtl",{get:function(){return this._rtl}}),Object.defineProperty(Rc.prototype,"rangeStart",{get:function(){return this._rangeStart},set:function(e){(e=Math.max(0,Math.min(e,this._symbols.length)))!==this._rangeStart&&(this._rangeStart=e,this._updateRenderRange())}}),Object.defineProperty(Rc.prototype,"rangeEnd",{get:function(){return this._rangeEnd},set:function(e){(e=Math.max(this._rangeStart,Math.min(e,this._symbols.length)))!==this._rangeEnd&&(this._rangeEnd=e,this._updateRenderRange())}});var Dc=new I,Fc=new I,Nc=new N,Bc=new N,Lc=new N,Uc=new N;function Vc(e,t){ll.call(this,e,t),this._beingInitialized=!1,this._anchor=new D,this._localAnchor=new D,this._pivot=new O,this._width=this._calculatedWidth=32,this._height=this._calculatedHeight=32,this._margin=new D(0,0,-32,-32),this._modelTransform=new N,this._screenToWorld=new N,this._anchorTransform=new N,this._anchorDirty=!0,this._parentWorldTransform=new N,this._screenTransform=new N,this._screenCorners=[new I,new I,new I,new I],this._canvasCorners=[new O,new O,new O,new O],this._worldCorners=[new I,new I,new I,new I],this._cornersDirty=!0,this._canvasCornersDirty=!0,this._worldCornersDirty=!0,this.entity.on("insert",this._onInsert,this),this._patch(),this.screen=null,this._type="group",this._image=null,this._text=null,this._group=null,this._drawOrder=0,this._useInput=!1,this._layers=[4],this._addedModels=[],this._batchGroupId=-1,this._offsetReadAt=0,this._maskOffset=.5,this._maskedBy=null}Vc.prototype=Object.create(ll.prototype),Vc.prototype.constructor=Vc,Object.assign(Vc.prototype,{_patch:function(){this.entity._sync=this._sync,this.entity.setPosition=this._setPosition,this.entity.setLocalPosition=this._setLocalPosition},_unpatch:function(){this.entity._sync=Un.prototype._sync,this.entity.setPosition=Un.prototype.setPosition,this.entity.setLocalPosition=Un.prototype.setLocalPosition},_setPosition:function(){var e=new I,t=new N;return function(i,r,n){if(!this.element.screen)return Un.prototype.setPosition.call(this,i,r,n);i instanceof I?e.copy(i):e.set(i,r,n),this.getWorldTransform(),t.copy(this.element._screenToWorld).invert(),t.transformPoint(e,this.localPosition),this._dirtyLocal||this._dirtifyLocal()}}(),_setLocalPosition:function(e,t,i){e instanceof I?this.localPosition.copy(e):this.localPosition.set(e,t,i);var r=this.element,n=this.localPosition,a=r._pivot;r._margin.x=n.x-r._calculatedWidth*a.x,r._margin.z=r._localAnchor.z-r._localAnchor.x-r._calculatedWidth-r._margin.x,r._margin.y=n.y-r._calculatedHeight*a.y,r._margin.w=r._localAnchor.w-r._localAnchor.y-r._calculatedHeight-r._margin.y,this._dirtyLocal||this._dirtifyLocal()},_sync:function(){var e=this.element,t=e.screen;if(t){if(e._anchorDirty){var i=0,r=0,n=0,a=1;if(this._parent&&this._parent.element)i=this._parent.element.calculatedWidth,r=this._parent.element.calculatedHeight,n=this._parent.element.pivot.x,a=this._parent.element.pivot.y;else{var s=t.screen.resolution;i=s.x/t.screen.scale,r=s.y/t.screen.scale}e._anchorTransform.setTranslate(i*(e.anchor.x-n),-r*(a-e.anchor.y),0),e._anchorDirty=!1,e._calculateLocalAnchors()}e._sizeDirty&&e._calculateSize(!1,!1)}if(this._dirtyLocal){this.localTransform.setTRS(this.localPosition,this.localRotation,this.localScale);var o=this.localPosition,l=e._pivot;e._margin.x=o.x-e._calculatedWidth*l.x,e._margin.z=e._localAnchor.z-e._localAnchor.x-e._calculatedWidth-e._margin.x,e._margin.y=o.y-e._calculatedHeight*l.y,e._margin.w=e._localAnchor.w-e._localAnchor.y-e._calculatedHeight-e._margin.y,this._dirtyLocal=!1}if(!t)return this._dirtyWorld&&(e._cornersDirty=!0,e._canvasCornersDirty=!0,e._worldCornersDirty=!0),Un.prototype._sync.call(this);if(this._dirtyWorld){if(null===this._parent)this.worldTransform.copy(this.localTransform);else if(this._parent.element?e._screenToWorld.mul2(this._parent.element._modelTransform,e._anchorTransform):e._screenToWorld.copy(e._anchorTransform),e._modelTransform.mul2(e._screenToWorld,this.localTransform),t){e._screenToWorld.mul2(t.screen._screenMatrix,e._screenToWorld),t.screen.screenSpace||e._screenToWorld.mul2(t.worldTransform,e._screenToWorld),this.worldTransform.mul2(e._screenToWorld,this.localTransform);var c=e._parentWorldTransform;c.setIdentity();var f=this._parent;f&&f.element&&f!==t&&(Nc.setTRS(I.ZERO,f.getLocalRotation(),f.getLocalScale()),c.mul2(f.element._parentWorldTransform,Nc));var h=Dc;h.set(0,0,this.localPosition.z);var u=Fc;u.set(e._absLeft+e._pivot.x*e.calculatedWidth,e._absBottom+e._pivot.y*e.calculatedHeight,0),Nc.setTranslate(-u.x,-u.y,-u.z),Bc.setTRS(h,this.getLocalRotation(),this.getLocalScale()),Lc.setTranslate(u.x,u.y,u.z),e._screenTransform.mul2(e._parentWorldTransform,Lc).mul(Bc).mul(Nc),e._cornersDirty=!0,e._canvasCornersDirty=!0,e._worldCornersDirty=!0}else this.worldTransform.copy(e._modelTransform);this._dirtyWorld=!1}},_onInsert:function(e){var t=this._parseUpToScreen();this.entity._dirtifyWorld(),this._updateScreen(t.screen),this._dirtifyMask()},_dirtifyMask:function(){for(var e=this.entity;e;){var t=e.parent;if((null===t||t.screen)&&e.element){this.system._prerender&&this.system._prerender.length||(this.system._prerender=[],this.system.app.once("prerender",this._onPrerender,this));var i=this.system._prerender.indexOf(this.entity);i>=0&&this.system._prerender.splice(i,1),this.system._prerender.indexOf(e)<0&&this.system._prerender.push(e)}e=t}},_onPrerender:function(){for(var e=0;e<this.system._prerender.length;e++){var t=this.system._prerender[e];t.element&&t.element.syncMask(1)}this.system._prerender.length=0},_bindScreen:function(e){e.on("set:resolution",this._onScreenResize,this),e.on("set:referenceresolution",this._onScreenResize,this),e.on("set:scaleblend",this._onScreenResize,this),e.on("set:screenspace",this._onScreenSpaceChange,this),e.on("remove",this._onScreenRemove,this)},_unbindScreen:function(e){e.off("set:resolution",this._onScreenResize,this),e.off("set:referenceresolution",this._onScreenResize,this),e.off("set:scaleblend",this._onScreenResize,this),e.off("set:screenspace",this._onScreenSpaceChange,this),e.off("remove",this._onScreenRemove,this)},_updateScreen:function(e){this.screen&&this.screen!==e&&this._unbindScreen(this.screen.screen);var t=this.screen;this.screen=e,this.screen&&this._bindScreen(this.screen.screen),this._calculateSize(this._hasSplitAnchorsX,this._hasSplitAnchorsY),this.fire("set:screen",this.screen,t),this._anchorDirty=!0;for(var i=this.entity.children,r=0,n=i.length;r<n;r++)i[r].element&&i[r].element._updateScreen(e);this.screen&&this.screen.screen.syncDrawOrder()},syncMask:function(e){var t=this._parseUpToScreen();this._updateMask(t.mask,e)},_setMaskedBy:function(e){var t=this._image||this._text;if(e){var i=new vc({ref:e.element._image._maskRef,func:2});t&&t._setStencil&&t._setStencil(i),this._maskedBy=e}else t&&t._setStencil&&t._setStencil(null),this._maskedBy=null},_updateMask:function(e,t){var i,r,n,a;if(e){for(this._setMaskedBy(e),this.mask&&(n=new vc({ref:e.element._image._maskRef,func:2,zpass:3}),this._image._setStencil(n),this._image._maskRef=t,t++,e=this.entity),i=0,r=(a=this.entity.children).length;i<r;i++)a[i].element&&a[i].element._updateMask(e,t);this.mask&&t--}else{for(this._setMaskedBy(null),this.mask&&(n=new vc({ref:t,func:7,zpass:2}),this._image._setStencil(n),this._image._maskRef=t,t++,e=this.entity),i=0,r=(a=this.entity.children).length;i<r;i++)a[i].element&&a[i].element._updateMask(e,t);this.mask&&t--}},_parseUpToScreen:function(){for(var e={screen:null,mask:null},t=this.entity._parent;t&&!t.screen;)t.element&&t.element.mask&&(e.mask||(e.mask=t)),t=t.parent;return t&&t.screen&&(e.screen=t),e},_onScreenResize:function(e){this._anchorDirty=!0,this._cornersDirty=!0,this._worldCornersDirty=!0,this._calculateSize(this._hasSplitAnchorsX,this._hasSplitAnchorsY),this.fire("screen:set:resolution",e)},_onScreenSpaceChange:function(){this.fire("screen:set:screenspace",this.screen.screen.screenSpace)},_onScreenRemove:function(){this.screen&&!this.screen._destroying&&this._updateScreen(null)},_calculateLocalAnchors:function(){var e=1e3,t=1e3,i=this.entity._parent;if(i&&i.element)e=i.element.calculatedWidth,t=i.element.calculatedHeight;else if(this.screen){var r=this.screen.screen.resolution,n=this.screen.screen.scale;e=r.x/n,t=r.y/n}this._localAnchor.set(this._anchor.x*e,this._anchor.y*t,this._anchor.z*e,this._anchor.w*t)},getOffsetPosition:function(e,t){var i=this.entity.getLocalPosition().clone();return i.x+=e,i.y+=t,this._screenToWorld.transformPoint(i,i),i},onLayersChanged:function(e,t){this.addModelToLayers(this._image?this._image._model:this._text._model),e.off("add",this.onLayerAdded,this),e.off("remove",this.onLayerRemoved,this),t.on("add",this.onLayerAdded,this),t.on("remove",this.onLayerRemoved,this)},onLayerAdded:function(e){this.layers.indexOf(e.id)<0||(this._image?e.addMeshInstances(this._image._model.meshInstances):this._text&&e.addMeshInstances(this._text._model.meshInstances))},onLayerRemoved:function(e){this.layers.indexOf(e.id)<0||(this._image?e.removeMeshInstances(this._image._model.meshInstances):this._text&&e.removeMeshInstances(this._text._model.meshInstances))},onEnable:function(){this._image&&this._image.onEnable(),this._text&&this._text.onEnable(),this._group&&this._group.onEnable(),this.useInput&&this.system.app.elementInput&&this.system.app.elementInput.addElement(this),this.system.app.scene.on("set:layers",this.onLayersChanged,this),this.system.app.scene.layers&&(this.system.app.scene.layers.on("add",this.onLayerAdded,this),this.system.app.scene.layers.on("remove",this.onLayerRemoved,this)),this._batchGroupId>=0&&this.system.app.batcher.insert(Et.ELEMENT,this.batchGroupId,this.entity),this.fire("enableelement")},onDisable:function(){this.system.app.scene.off("set:layers",this.onLayersChanged,this),this.system.app.scene.layers&&(this.system.app.scene.layers.off("add",this.onLayerAdded,this),this.system.app.scene.layers.off("remove",this.onLayerRemoved,this)),this._image&&this._image.onDisable(),this._text&&this._text.onDisable(),this._group&&this._group.onDisable(),this.system.app.elementInput&&this.useInput&&this.system.app.elementInput.removeElement(this),this._batchGroupId>=0&&this.system.app.batcher.remove(Et.ELEMENT,this.batchGroupId,this.entity),this.fire("disableelement")},onRemove:function(){this.entity.off("insert",this._onInsert,this),this._unpatch(),this._image&&this._image.destroy(),this._text&&this._text.destroy(),this.system.app.elementInput&&this.useInput&&this.system.app.elementInput.removeElement(this),this.screen&&this.screen.screen&&(this._unbindScreen(this.screen.screen),this.screen.screen.syncDrawOrder()),this.off()},_calculateSize:function(e,t){if(this.entity._parent||this.screen){this._calculateLocalAnchors();var i=this._absRight-this._absLeft,r=this._absTop-this._absBottom;e?this._setWidth(i):this._setCalculatedWidth(i,!1),t?this._setHeight(r):this._setCalculatedHeight(r,!1);var n=this.entity.getLocalPosition();n.x=this._margin.x+this._calculatedWidth*this._pivot.x,n.y=this._margin.y+this._calculatedHeight*this._pivot.y,this.entity.setLocalPosition(n),this._sizeDirty=!1}},_setWidth:function(e){this._width=e,this._setCalculatedWidth(e,!1),this.fire("set:width",this._width)},_setHeight:function(e){this._height=e,this._setCalculatedHeight(e,!1),this.fire("set:height",this._height)},_setCalculatedWidth:function(e,t){if(!(Math.abs(e-this._calculatedWidth)<=1e-4)){if(this._calculatedWidth=e,this.entity._dirtifyLocal(),t){var i=this.entity.getLocalPosition(),r=this._pivot;this._margin.x=i.x-this._calculatedWidth*r.x,this._margin.z=this._localAnchor.z-this._localAnchor.x-this._calculatedWidth-this._margin.x}this._flagChildrenAsDirty(),this.fire("set:calculatedWidth",this._calculatedWidth),this.fire("resize",this._calculatedWidth,this._calculatedHeight)}},_setCalculatedHeight:function(e,t){if(!(Math.abs(e-this._calculatedHeight)<=1e-4)){if(this._calculatedHeight=e,this.entity._dirtifyLocal(),t){var i=this.entity.getLocalPosition(),r=this._pivot;this._margin.y=i.y-this._calculatedHeight*r.y,this._margin.w=this._localAnchor.w-this._localAnchor.y-this._calculatedHeight-this._margin.y}this._flagChildrenAsDirty(),this.fire("set:calculatedHeight",this._calculatedHeight),this.fire("resize",this._calculatedWidth,this._calculatedHeight)}},_flagChildrenAsDirty:function(){var e,t,i=this.entity._children;for(e=0,t=i.length;e<t;e++)i[e].element&&(i[e].element._anchorDirty=!0,i[e].element._sizeDirty=!0)},addModelToLayers:function(e){var t;this._addedModels.push(e);for(var i=0;i<this.layers.length;i++)(t=this.system.app.scene.layers.getLayerById(this.layers[i]))&&t.addMeshInstances(e.meshInstances)},removeModelFromLayers:function(e){var t,i=this._addedModels.indexOf(e);i>=0&&this._addedModels.splice(i,1);for(var r=0;r<this.layers.length;r++)(t=this.system.app.scene.layers.getLayerById(this.layers[r]))&&t.removeMeshInstances(e.meshInstances)},getMaskOffset:function(){var e=this.system.app.frame;this._offsetReadAt!==e&&(this._maskOffset=.5,this._offsetReadAt=e);var t=this._maskOffset;return this._maskOffset-=.001,t},isVisibleForCamera:function(e){var t,i,r,n;if(this.maskedBy){var a=this.maskedBy.element.screenCorners;t=Math.min(Math.min(a[0].x,a[1].x),Math.min(a[2].x,a[3].x)),i=Math.max(Math.max(a[0].x,a[1].x),Math.max(a[2].x,a[3].x)),n=Math.min(Math.min(a[0].y,a[1].y),Math.min(a[2].y,a[3].y)),r=Math.max(Math.max(a[0].y,a[1].y),Math.max(a[2].y,a[3].y))}else{var s=this.system.app.graphicsDevice.width,o=this.system.app.graphicsDevice.height,l=e._rect.z*s,c=e._rect.w*o;i=(t=e._rect.x*s)+l,n=(r=(1-e._rect.y)*o)-c}var f=this.screenCorners,h=Math.min(Math.min(f[0].x,f[1].x),Math.min(f[2].x,f[3].x)),u=Math.max(Math.max(f[0].x,f[1].x),Math.max(f[2].x,f[3].x)),d=Math.min(Math.min(f[0].y,f[1].y),Math.min(f[2].y,f[3].y)),p=Math.max(Math.max(f[0].y,f[1].y),Math.max(f[2].y,f[3].y));return!(u<t||h>i||d>r||p<n)},_isScreenSpace:function(){return!(!this.screen||!this.screen.screen)&&this.screen.screen.screenSpace},_isScreenCulled:function(){return!(!this.screen||!this.screen.screen)&&this.screen.screen.cull}}),Object.defineProperty(Vc.prototype,"type",{get:function(){return this._type},set:function(e){e!==this._type&&(this._type=e,this._image&&(this._image.destroy(),this._image=null),this._text&&(this._text.destroy(),this._text=null),"image"===e?this._image=new gc(this):"text"===e&&(this._text=new Rc(this)))}}),Object.defineProperty(Vc.prototype,"layers",{get:function(){return this._layers},set:function(e){var t,i,r;if(this._addedModels.length)for(t=0;t<this._layers.length;t++)if(r=this.system.app.scene.layers.getLayerById(this._layers[t]))for(i=0;i<this._addedModels.length;i++)r.removeMeshInstances(this._addedModels[i].meshInstances);if(this._layers=e,this.enabled&&this.entity.enabled&&this._addedModels.length)for(t=0;t<this._layers.length;t++)if(r=this.system.app.scene.layers.getLayerById(this._layers[t]))for(i=0;i<this._addedModels.length;i++)r.addMeshInstances(this._addedModels[i].meshInstances)}}),Object.defineProperty(Vc.prototype,"drawOrder",{get:function(){return this._drawOrder},set:function(e){var t=0;this.screen&&(t=this.screen.screen.priority),e>16777215&&(e=16777215),this._drawOrder=(t<<24)+e,this.fire("set:draworder",this._drawOrder)}}),Object.defineProperty(Vc.prototype,"_absLeft",{get:function(){return this._localAnchor.x+this._margin.x}}),Object.defineProperty(Vc.prototype,"_absRight",{get:function(){return this._localAnchor.z-this._margin.z}}),Object.defineProperty(Vc.prototype,"_absTop",{get:function(){return this._localAnchor.w-this._margin.w}}),Object.defineProperty(Vc.prototype,"_absBottom",{get:function(){return this._localAnchor.y+this._margin.y}}),Object.defineProperty(Vc.prototype,"margin",{get:function(){return this._margin},set:function(e){this._margin.copy(e),this._calculateSize(!0,!0),this.fire("set:margin",this._margin)}}),Object.defineProperty(Vc.prototype,"left",{get:function(){return this._margin.x},set:function(e){this._margin.x=e;var t=this.entity.getLocalPosition(),i=this._absRight,r=this._localAnchor.x+e;this._setWidth(i-r),t.x=e+this._calculatedWidth*this._pivot.x,this.entity.setLocalPosition(t)}}),Object.defineProperty(Vc.prototype,"right",{get:function(){return this._margin.z},set:function(e){this._margin.z=e;var t=this.entity.getLocalPosition(),i=this._absLeft,r=this._localAnchor.z-e;this._setWidth(r-i),t.x=this._localAnchor.z-this._localAnchor.x-e-this._calculatedWidth*(1-this._pivot.x),this.entity.setLocalPosition(t)}}),Object.defineProperty(Vc.prototype,"top",{get:function(){return this._margin.w},set:function(e){this._margin.w=e;var t=this.entity.getLocalPosition(),i=this._absBottom,r=this._localAnchor.w-e;this._setHeight(r-i),t.y=this._localAnchor.w-this._localAnchor.y-e-this._calculatedHeight*(1-this._pivot.y),this.entity.setLocalPosition(t)}}),Object.defineProperty(Vc.prototype,"bottom",{get:function(){return this._margin.y},set:function(e){this._margin.y=e;var t=this.entity.getLocalPosition(),i=this._absTop,r=this._localAnchor.y+e;this._setHeight(i-r),t.y=e+this._calculatedHeight*this._pivot.y,this.entity.setLocalPosition(t)}}),Object.defineProperty(Vc.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._hasSplitAnchorsX||this._setCalculatedWidth(e,!0),this.fire("set:width",this._width)}}),Object.defineProperty(Vc.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._hasSplitAnchorsY||this._setCalculatedHeight(e,!0),this.fire("set:height",this._height)}}),Object.defineProperty(Vc.prototype,"calculatedWidth",{get:function(){return this._calculatedWidth},set:function(e){this._setCalculatedWidth(e,!0)}}),Object.defineProperty(Vc.prototype,"calculatedHeight",{get:function(){return this._calculatedHeight},set:function(e){this._setCalculatedHeight(e,!0)}}),Object.defineProperty(Vc.prototype,"pivot",{get:function(){return this._pivot},set:function(e){var t=this._pivot.x,i=this._pivot.y;e instanceof O?this._pivot.set(e.x,e.y):this._pivot.set(e[0],e[1]);var r=this._margin.x+this._margin.z,n=this._pivot.x-t;this._margin.x+=r*n,this._margin.z-=r*n;var a=this._margin.y+this._margin.w,s=this._pivot.y-i;this._margin.y+=a*s,this._margin.w-=a*s,this._anchorDirty=!0,this._cornersDirty=!0,this._worldCornersDirty=!0,this._calculateSize(!1,!1),this._flagChildrenAsDirty(),this.fire("set:pivot",this._pivot)}}),Object.defineProperty(Vc.prototype,"anchor",{get:function(){return this._anchor},set:function(e){e instanceof D?this._anchor.set(e.x,e.y,e.z,e.w):this._anchor.set(e[0],e[1],e[2],e[3]),this.entity._parent||this.screen?this._calculateSize(this._hasSplitAnchorsX,this._hasSplitAnchorsY):this._calculateLocalAnchors(),this._anchorDirty=!0,this.entity._dirtyLocal||this.entity._dirtifyLocal(),this.fire("set:anchor",this._anchor)}}),Object.defineProperty(Vc.prototype,"_hasSplitAnchorsX",{get:function(){return Math.abs(this._anchor.x-this._anchor.z)>.001}}),Object.defineProperty(Vc.prototype,"_hasSplitAnchorsY",{get:function(){return Math.abs(this._anchor.y-this._anchor.w)>.001}}),Object.defineProperty(Vc.prototype,"aabb",{get:function(){return this._image?this._image.aabb:this._text?this._text.aabb:null}}),Object.defineProperty(Vc.prototype,"screenCorners",{get:function(){if(!this._cornersDirty||!this.screen)return this._screenCorners;var e=this.entity.parent&&this.entity.parent.element&&this.entity.parent.element.screenCorners[0];this._screenCorners[0].set(this._absLeft,this._absBottom,0),this._screenCorners[1].set(this._absRight,this._absBottom,0),this._screenCorners[2].set(this._absRight,this._absTop,0),this._screenCorners[3].set(this._absLeft,this._absTop,0);for(var t=this.screen.screen.screenSpace,i=0;i<4;i++)this._screenTransform.transformPoint(this._screenCorners[i],this._screenCorners[i]),t&&this._screenCorners[i].scale(this.screen.screen.scale),e&&this._screenCorners[i].add(e);return this._cornersDirty=!1,this._canvasCornersDirty=!0,this._worldCornersDirty=!0,this._screenCorners}}),Object.defineProperty(Vc.prototype,"canvasCorners",{get:function(){if(!this._canvasCornersDirty||!this.screen||!this.screen.screen.screenSpace)return this._canvasCorners;for(var e=this.system.app.graphicsDevice,t=this.screenCorners,i=e.canvas.clientWidth/e.width,r=e.canvas.clientHeight/e.height,n=0;n<4;n++)this._canvasCorners[n].set(t[n].x*i,(e.height-t[n].y)*r);return this._canvasCornersDirty=!1,this._canvasCorners}}),Object.defineProperty(Vc.prototype,"worldCorners",{get:function(){if(!this._worldCornersDirty)return this._worldCorners;if(this.screen){var e=this.screenCorners;if(!this.screen.screen.screenSpace){Nc.copy(this.screen.screen._screenMatrix),Nc.data[13]=-Nc.data[13],Nc.mul2(this.screen.getWorldTransform(),Nc);for(var t=0;t<4;t++)Nc.transformPoint(e[t],this._worldCorners[t])}}else{var i=this.entity.getLocalPosition();Nc.setTranslate(-i.x,-i.y,-i.z),Bc.setTRS(I.ZERO,this.entity.getLocalRotation(),this.entity.getLocalScale()),Lc.setTranslate(i.x,i.y,i.z),Uc.copy(this.entity.parent.getWorldTransform()),Uc.mul(Lc).mul(Bc).mul(Nc),Dc.set(i.x-this.pivot.x*this.calculatedWidth,i.y-this.pivot.y*this.calculatedHeight,i.z),Uc.transformPoint(Dc,this._worldCorners[0]),Dc.set(i.x+(1-this.pivot.x)*this.calculatedWidth,i.y-this.pivot.y*this.calculatedHeight,i.z),Uc.transformPoint(Dc,this._worldCorners[1]),Dc.set(i.x+(1-this.pivot.x)*this.calculatedWidth,i.y+(1-this.pivot.y)*this.calculatedHeight,i.z),Uc.transformPoint(Dc,this._worldCorners[2]),Dc.set(i.x-this.pivot.x*this.calculatedWidth,i.y+(1-this.pivot.y)*this.calculatedHeight,i.z),Uc.transformPoint(Dc,this._worldCorners[3])}return this._worldCornersDirty=!1,this._worldCorners}}),Object.defineProperty(Vc.prototype,"textWidth",{get:function(){return this._text?this._text.width:0}}),Object.defineProperty(Vc.prototype,"textHeight",{get:function(){return this._text?this._text.height:0}}),Object.defineProperty(Vc.prototype,"useInput",{get:function(){return this._useInput},set:function(e){this._useInput!==e&&(this._useInput=e,this.system.app.elementInput?e?this.enabled&&this.entity.enabled&&this.system.app.elementInput.addElement(this):this.system.app.elementInput.removeElement(this):!0===this._useInput&&console.warn("Elements will not get any input events because this.system.app.elementInput is not created"),this.fire("set:useInput",e))}}),Object.defineProperty(Vc.prototype,"batchGroupId",{get:function(){return this._batchGroupId},set:function(e){this._batchGroupId!==e&&(this.entity.enabled&&this._batchGroupId>=0&&this.system.app.batcher.remove(Et.ELEMENT,this.batchGroupId,this.entity),this.entity.enabled&&e>=0&&this.system.app.batcher.insert(Et.ELEMENT,e,this.entity),e<0&&this._batchGroupId>=0&&this.enabled&&this.entity.enabled&&(this._image&&this._image._renderable.model?this.addModelToLayers(this._image._renderable.model):this._text&&this._text._model&&this.addModelToLayers(this._text._model)),this._batchGroupId=e)}}),Object.defineProperty(Vc.prototype,"maskedBy",{get:function(){return this._maskedBy}});var zc=function(e){Object.defineProperty(Vc.prototype,e,{get:function(){return this._text?this._text[e]:this._image?this._image[e]:null},set:function(t){this._text?this._text[e]=t:this._image&&(this._image[e]=t)}})};function jc(){this.enabled=!0}zc("fontSize"),zc("minFontSize"),zc("maxFontSize"),zc("maxLines"),zc("autoFitWidth"),zc("autoFitHeight"),zc("color"),zc("font"),zc("fontAsset"),zc("spacing"),zc("lineHeight"),zc("wrapLines"),zc("lines"),zc("alignment"),zc("autoWidth"),zc("autoHeight"),zc("rtlReorder"),zc("unicodeConverter"),zc("text"),zc("key"),zc("texture"),zc("textureAsset"),zc("material"),zc("materialAsset"),zc("sprite"),zc("spriteAsset"),zc("spriteFrame"),zc("pixelsPerUnit"),zc("opacity"),zc("rect"),zc("mask"),zc("outlineColor"),zc("outlineThickness"),zc("shadowColor"),zc("shadowOffset"),zc("enableMarkup"),zc("rangeStart"),zc("rangeEnd");var Wc=["enabled"];function Gc(e){cl.call(this,e),this.id="element",this.ComponentType=Vc,this.DataType=jc,this.schema=Wc,this._unicodeConverter=null,this._rtlReorder=null,this._defaultTexture=new nt(e.graphicsDevice,{width:1,height:1,format:7}),this._defaultTexture.name="element-system";var t=this._defaultTexture.lock(),i=new Uint8Array(4);i[0]=255,i[1]=255,i[2]=255,i[3]=255,t.set(i),this._defaultTexture.unlock(),this.defaultImageMaterial=null,this.defaultImage9SlicedMaterial=null,this.defaultImage9TiledMaterial=null,this.defaultImageMaskMaterial=null,this.defaultImage9SlicedMaskMaterial=null,this.defaultImage9TiledMaskMaterial=null,this.defaultScreenSpaceImageMaterial=null,this.defaultScreenSpaceImage9SlicedMaterial=null,this.defaultScreenSpaceImage9TiledMaterial=null,this.defaultScreenSpaceImageMask9SlicedMaterial=null,this.defaultScreenSpaceImageMask9TiledMaterial=null,this.defaultScreenSpaceImageMaskMaterial=null,this.defaultTextMaterial=null,this.defaultBitmapTextMaterial=null,this.defaultScreenSpaceTextMaterial=null,this.defaultScreenSpaceBitmapTextMaterial=null,this.defaultImageMaterials=[],this.on("beforeremove",this.onRemoveComponent,this)}function Hc(e,t){ll.call(this,e,t),this._minWidth=0,this._minHeight=0,this._maxWidth=null,this._maxHeight=null,this._fitWidthProportion=0,this._fitHeightProportion=0,this._excludeFromLayout=!1}function Yc(e){var t="_"+e;Object.defineProperty(Hc.prototype,e,{get:function(){return this[t]},set:function(e){this[t]!==e&&(this[t]=e,this.fire("resize"))}})}function Xc(){this.enabled=!0}Gc.prototype=Object.create(cl.prototype),Gc.prototype.constructor=Gc,ll._buildAccessors(Vc.prototype,Wc),Object.assign(Gc.prototype,{destroy:function(){this._defaultTexture.destroy()},initializeComponentData:function(e,t,i){e._beingInitialized=!0,void 0!==t.anchor&&(t.anchor instanceof D?e.anchor.copy(t.anchor):e.anchor.set(t.anchor[0],t.anchor[1],t.anchor[2],t.anchor[3])),void 0!==t.pivot&&(t.pivot instanceof O?e.pivot.copy(t.pivot):e.pivot.set(t.pivot[0],t.pivot[1]));var r,n=Math.abs(e.anchor.x-e.anchor.z)>.001,a=Math.abs(e.anchor.y-e.anchor.w)>.001,s=!1;void 0!==t.margin&&(t.margin instanceof D?e.margin.copy(t.margin):e._margin.set(t.margin[0],t.margin[1],t.margin[2],t.margin[3]),s=!0),void 0!==t.left&&(e._margin.x=t.left,s=!0),void 0!==t.bottom&&(e._margin.y=t.bottom,s=!0),void 0!==t.right&&(e._margin.z=t.right,s=!0),void 0!==t.top&&(e._margin.w=t.top,s=!0),s&&(e.margin=e._margin);var o=!1;void 0===t.width||n?n&&(o=!0):e.width=t.width,void 0===t.height||a?a&&(o=!0):e.height=t.height,o&&(e.anchor=e.anchor),void 0!==t.enabled&&(e.enabled=t.enabled),void 0!==t.useInput&&(e.useInput=t.useInput),e.batchGroupId=void 0===t.batchGroupId||null===t.batchGroupId?-1:t.batchGroupId,t.layers&&Array.isArray(t.layers)&&(e.layers=t.layers.slice(0)),e.type=t.type,"image"===e.type?(void 0!==t.rect&&(e.rect=t.rect),void 0!==t.color&&((r=t.color)instanceof v||(r=new v(t.color[0],t.color[1],t.color[2])),e.color=r),void 0!==t.opacity&&(e.opacity=t.opacity),void 0!==t.textureAsset&&(e.textureAsset=t.textureAsset),t.texture&&(e.texture=t.texture),void 0!==t.spriteAsset&&(e.spriteAsset=t.spriteAsset),t.sprite&&(e.sprite=t.sprite),void 0!==t.spriteFrame&&(e.spriteFrame=t.spriteFrame),void 0!==t.pixelsPerUnit&&null!==t.pixelsPerUnit&&(e.pixelsPerUnit=t.pixelsPerUnit),void 0!==t.materialAsset&&(e.materialAsset=t.materialAsset),t.material&&(e.material=t.material),void 0!==t.mask&&(e.mask=t.mask)):"text"===e.type&&(void 0!==t.autoWidth&&(e.autoWidth=t.autoWidth),void 0!==t.autoHeight&&(e.autoHeight=t.autoHeight),void 0!==t.rtlReorder&&(e.rtlReorder=t.rtlReorder),void 0!==t.unicodeConverter&&(e.unicodeConverter=t.unicodeConverter),null!==t.text&&void 0!==t.text?e.text=t.text:null!==t.key&&void 0!==t.key&&(e.key=t.key),void 0!==t.color&&((r=t.color)instanceof v||(r=new v(r[0],r[1],r[2])),e.color=r),void 0!==t.opacity&&(e.opacity=t.opacity),void 0!==t.spacing&&(e.spacing=t.spacing),void 0!==t.fontSize&&(e.fontSize=t.fontSize,t.lineHeight||(e.lineHeight=t.fontSize)),void 0!==t.lineHeight&&(e.lineHeight=t.lineHeight),void 0!==t.maxLines&&(e.maxLines=t.maxLines),void 0!==t.wrapLines&&(e.wrapLines=t.wrapLines),void 0!==t.minFontSize&&(e.minFontSize=t.minFontSize),void 0!==t.maxFontSize&&(e.maxFontSize=t.maxFontSize),t.autoFitWidth&&(e.autoFitWidth=t.autoFitWidth),t.autoFitHeight&&(e.autoFitHeight=t.autoFitHeight),void 0!==t.fontAsset&&(e.fontAsset=t.fontAsset),void 0!==t.font&&(e.font=t.font),void 0!==t.alignment&&(e.alignment=t.alignment),void 0!==t.outlineColor&&(e.outlineColor=t.outlineColor),void 0!==t.outlineThickness&&(e.outlineThickness=t.outlineThickness),void 0!==t.shadowColor&&(e.shadowColor=t.shadowColor),void 0!==t.shadowOffset&&(e.shadowOffset=t.shadowOffset),void 0!==t.enableMarkup&&(e.enableMarkup=t.enableMarkup));var l=e._parseUpToScreen();l.screen&&e._updateScreen(l.screen),cl.prototype.initializeComponentData.call(this,e,t,i),e._beingInitialized=!1,"image"===e.type&&e._image._meshDirty&&e._image._updateMesh(e._image.mesh)},onRemoveComponent:function(e,t){t.onRemove()},cloneComponent:function(e,t){var i=e.element,r={enabled:i.enabled,width:i.width,height:i.height,anchor:i.anchor.clone(),pivot:i.pivot.clone(),margin:i.margin.clone(),alignment:i.alignment&&i.alignment.clone()||i.alignment,autoWidth:i.autoWidth,autoHeight:i.autoHeight,type:i.type,rect:i.rect&&i.rect.clone()||i.rect,rtlReorder:i.rtlReorder,unicodeConverter:i.unicodeConverter,materialAsset:i.materialAsset,material:i.material,color:i.color&&i.color.clone()||i.color,opacity:i.opacity,textureAsset:i.textureAsset,texture:i.texture,spriteAsset:i.spriteAsset,sprite:i.sprite,spriteFrame:i.spriteFrame,pixelsPerUnit:i.pixelsPerUnit,spacing:i.spacing,lineHeight:i.lineHeight,wrapLines:i.wrapLines,layers:i.layers,fontSize:i.fontSize,minFontSize:i.minFontSize,maxFontSize:i.maxFontSize,autoFitWidth:i.autoFitWidth,autoFitHeight:i.autoFitHeight,maxLines:i.maxLines,fontAsset:i.fontAsset,font:i.font,useInput:i.useInput,batchGroupId:i.batchGroupId,mask:i.mask,outlineColor:i.outlineColor&&i.outlineColor.clone()||i.outlineColor,outlineThickness:i.outlineThickness,shadowColor:i.shadowColor&&i.shadowColor.clone()||i.shadowColor,shadowOffset:i.shadowOffset&&i.shadowOffset.clone()||i.shadowOffset,enableMarkup:i.enableMarkup};return void 0!==i.key&&null!==i.key?r.key=i.key:r.text=i.text,this.addComponent(t,r)},getTextElementMaterial:function(e,t){return e?t?(this.defaultScreenSpaceTextMaterial||(this.defaultScreenSpaceTextMaterial=new wu,this.defaultScreenSpaceTextMaterial.name="defaultScreenSpaceTextMaterial",this.defaultScreenSpaceTextMaterial.msdfMap=this._defaultTexture,this.defaultScreenSpaceTextMaterial.useLighting=!1,this.defaultScreenSpaceTextMaterial.useGammaTonemap=!1,this.defaultScreenSpaceTextMaterial.useFog=!1,this.defaultScreenSpaceTextMaterial.useSkybox=!1,this.defaultScreenSpaceTextMaterial.diffuse.set(0,0,0),this.defaultScreenSpaceTextMaterial.emissive.set(1,1,1),this.defaultScreenSpaceTextMaterial.opacity=.5,this.defaultScreenSpaceTextMaterial.blendType=4,this.defaultScreenSpaceTextMaterial.depthWrite=!1,this.defaultScreenSpaceTextMaterial.depthTest=!1,this.defaultScreenSpaceTextMaterial.emissiveVertexColor=!0,this.defaultScreenSpaceTextMaterial.update()),this.defaultScreenSpaceTextMaterial):(this.defaultScreenSpaceBitmapTextMaterial||(this.defaultScreenSpaceBitmapTextMaterial=new wu,this.defaultScreenSpaceBitmapTextMaterial.name="defaultScreenSpaceBitmapTextMaterial",this.defaultScreenSpaceBitmapTextMaterial.emissive.set(.5,.5,.5),this.defaultScreenSpaceBitmapTextMaterial.emissiveMap=this._defaultTexture,this.defaultScreenSpaceBitmapTextMaterial.emissiveTint=!0,this.defaultScreenSpaceBitmapTextMaterial.opacity=.5,this.defaultScreenSpaceBitmapTextMaterial.opacityMap=this._defaultTexture,this.defaultScreenSpaceBitmapTextMaterial.opacityMapChannel="a",this.defaultScreenSpaceBitmapTextMaterial.useLighting=!1,this.defaultScreenSpaceBitmapTextMaterial.useGammaTonemap=!1,this.defaultScreenSpaceBitmapTextMaterial.useFog=!1,this.defaultScreenSpaceBitmapTextMaterial.useSkybox=!1,this.defaultScreenSpaceBitmapTextMaterial.diffuse.set(0,0,0),this.defaultScreenSpaceBitmapTextMaterial.blendType=4,this.defaultScreenSpaceBitmapTextMaterial.depthWrite=!1,this.defaultScreenSpaceBitmapTextMaterial.depthTest=!1,this.defaultScreenSpaceBitmapTextMaterial.emissiveVertexColor=!0,this.defaultScreenSpaceBitmapTextMaterial.update()),this.defaultScreenSpaceBitmapTextMaterial):t?(this.defaultTextMaterial||(this.defaultTextMaterial=new wu,this.defaultTextMaterial.name="defaultTextMaterial",this.defaultTextMaterial.msdfMap=this._defaultTexture,this.defaultTextMaterial.useLighting=!1,this.defaultTextMaterial.useGammaTonemap=!1,this.defaultTextMaterial.useFog=!1,this.defaultTextMaterial.useSkybox=!1,this.defaultTextMaterial.diffuse.set(0,0,0),this.defaultTextMaterial.emissive.set(1,1,1),this.defaultTextMaterial.opacity=.5,this.defaultTextMaterial.blendType=4,this.defaultTextMaterial.depthWrite=!1,this.defaultTextMaterial.emissiveVertexColor=!0,this.defaultTextMaterial.update()),this.defaultTextMaterial):(this.defaultBitmapTextMaterial||(this.defaultBitmapTextMaterial=new wu,this.defaultBitmapTextMaterial.name="defaultBitmapTextMaterial",this.defaultBitmapTextMaterial.emissive.set(.5,.5,.5),this.defaultBitmapTextMaterial.emissiveTint=!0,this.defaultBitmapTextMaterial.emissiveMap=this._defaultTexture,this.defaultBitmapTextMaterial.opacity=.5,this.defaultBitmapTextMaterial.opacityMap=this._defaultTexture,this.defaultBitmapTextMaterial.opacityMapChannel="a",this.defaultBitmapTextMaterial.useLighting=!1,this.defaultBitmapTextMaterial.useGammaTonemap=!1,this.defaultBitmapTextMaterial.useFog=!1,this.defaultBitmapTextMaterial.useSkybox=!1,this.defaultBitmapTextMaterial.diffuse.set(0,0,0),this.defaultBitmapTextMaterial.blendType=4,this.defaultBitmapTextMaterial.depthWrite=!1,this.defaultBitmapTextMaterial.emissiveVertexColor=!0,this.defaultBitmapTextMaterial.update()),this.defaultBitmapTextMaterial)},_createBaseImageMaterial:function(){var e=new wu;return e.diffuse.set(0,0,0),e.emissive.set(.5,.5,.5),e.emissiveMap=this._defaultTexture,e.emissiveTint=!0,e.opacityMap=this._defaultTexture,e.opacityMapChannel="a",e.opacityTint=!0,e.opacity=0,e.useLighting=!1,e.useGammaTonemap=!1,e.useFog=!1,e.useSkybox=!1,e.blendType=4,e.depthWrite=!1,e},getImageElementMaterial:function(e,t,i,r){return e?t?i?(this.defaultScreenSpaceImageMask9SlicedMaterial||(this.defaultScreenSpaceImageMask9SlicedMaterial=this._createBaseImageMaterial(),this.defaultScreenSpaceImageMask9SlicedMaterial.name="defaultScreenSpaceImageMask9SlicedMaterial",this.defaultScreenSpaceImageMask9SlicedMaterial.nineSlicedMode=1,this.defaultScreenSpaceImageMask9SlicedMaterial.depthTest=!1,this.defaultScreenSpaceImageMask9SlicedMaterial.alphaTest=1,this.defaultScreenSpaceImageMask9SlicedMaterial.redWrite=!1,this.defaultScreenSpaceImageMask9SlicedMaterial.greenWrite=!1,this.defaultScreenSpaceImageMask9SlicedMaterial.blueWrite=!1,this.defaultScreenSpaceImageMask9SlicedMaterial.alphaWrite=!1,this.defaultScreenSpaceImageMask9SlicedMaterial.update(),this.defaultImageMaterials.push(this.defaultScreenSpaceImageMask9SlicedMaterial)),this.defaultScreenSpaceImageMask9SlicedMaterial):r?(this.defaultScreenSpaceImageMask9TiledMaterial||(this.defaultScreenSpaceImageMask9TiledMaterial=this.defaultScreenSpaceImage9TiledMaterial.clone(),this.defaultScreenSpaceImageMask9TiledMaterial.name="defaultScreenSpaceImageMask9TiledMaterial",this.defaultScreenSpaceImageMask9TiledMaterial.nineSlicedMode=2,this.defaultScreenSpaceImageMask9TiledMaterial.depthTest=!1,this.defaultScreenSpaceImageMask9TiledMaterial.alphaTest=1,this.defaultScreenSpaceImageMask9TiledMaterial.redWrite=!1,this.defaultScreenSpaceImageMask9TiledMaterial.greenWrite=!1,this.defaultScreenSpaceImageMask9TiledMaterial.blueWrite=!1,this.defaultScreenSpaceImageMask9TiledMaterial.alphaWrite=!1,this.defaultScreenSpaceImageMask9TiledMaterial.update(),this.defaultImageMaterials.push(this.defaultScreenSpaceImageMask9TiledMaterial)),this.defaultScreenSpaceImageMask9TiledMaterial):(this.defaultScreenSpaceImageMaskMaterial||(this.defaultScreenSpaceImageMaskMaterial=this._createBaseImageMaterial(),this.defaultScreenSpaceImageMaskMaterial.name="defaultScreenSpaceImageMaskMaterial",this.defaultScreenSpaceImageMaskMaterial.depthTest=!1,this.defaultScreenSpaceImageMaskMaterial.alphaTest=1,this.defaultScreenSpaceImageMaskMaterial.redWrite=!1,this.defaultScreenSpaceImageMaskMaterial.greenWrite=!1,this.defaultScreenSpaceImageMaskMaterial.blueWrite=!1,this.defaultScreenSpaceImageMaskMaterial.alphaWrite=!1,this.defaultScreenSpaceImageMaskMaterial.update(),this.defaultImageMaterials.push(this.defaultScreenSpaceImageMaskMaterial)),this.defaultScreenSpaceImageMaskMaterial):i?(this.defaultScreenSpaceImage9SlicedMaterial||(this.defaultScreenSpaceImage9SlicedMaterial=this._createBaseImageMaterial(),this.defaultScreenSpaceImage9SlicedMaterial.name="defaultScreenSpaceImage9SlicedMaterial",this.defaultScreenSpaceImage9SlicedMaterial.nineSlicedMode=1,this.defaultScreenSpaceImage9SlicedMaterial.depthTest=!1,this.defaultScreenSpaceImage9SlicedMaterial.update(),this.defaultImageMaterials.push(this.defaultScreenSpaceImage9SlicedMaterial)),this.defaultScreenSpaceImage9SlicedMaterial):r?(this.defaultScreenSpaceImage9TiledMaterial||(this.defaultScreenSpaceImage9TiledMaterial=this._createBaseImageMaterial(),this.defaultScreenSpaceImage9TiledMaterial.name="defaultScreenSpaceImage9TiledMaterial",this.defaultScreenSpaceImage9TiledMaterial.nineSlicedMode=2,this.defaultScreenSpaceImage9TiledMaterial.depthTest=!1,this.defaultScreenSpaceImage9TiledMaterial.update(),this.defaultImageMaterials.push(this.defaultScreenSpaceImage9TiledMaterial)),this.defaultScreenSpaceImage9TiledMaterial):(this.defaultScreenSpaceImageMaterial||(this.defaultScreenSpaceImageMaterial=this._createBaseImageMaterial(),this.defaultScreenSpaceImageMaterial.name="defaultScreenSpaceImageMaterial",this.defaultScreenSpaceImageMaterial.depthTest=!1,this.defaultScreenSpaceImageMaterial.update(),this.defaultImageMaterials.push(this.defaultScreenSpaceImageMaterial)),this.defaultScreenSpaceImageMaterial):t?i?(this.defaultImage9SlicedMaskMaterial||(this.defaultImage9SlicedMaskMaterial=this._createBaseImageMaterial(),this.defaultImage9SlicedMaskMaterial.name="defaultImage9SlicedMaskMaterial",this.defaultImage9SlicedMaskMaterial.nineSlicedMode=1,this.defaultImage9SlicedMaskMaterial.alphaTest=1,this.defaultImage9SlicedMaskMaterial.redWrite=!1,this.defaultImage9SlicedMaskMaterial.greenWrite=!1,this.defaultImage9SlicedMaskMaterial.blueWrite=!1,this.defaultImage9SlicedMaskMaterial.alphaWrite=!1,this.defaultImage9SlicedMaskMaterial.update(),this.defaultImageMaterials.push(this.defaultImage9SlicedMaskMaterial)),this.defaultImage9SlicedMaskMaterial):r?(this.defaultImage9TiledMaskMaterial||(this.defaultImage9TiledMaskMaterial=this._createBaseImageMaterial(),this.defaultImage9TiledMaskMaterial.name="defaultImage9TiledMaskMaterial",this.defaultImage9TiledMaskMaterial.nineSlicedMode=2,this.defaultImage9TiledMaskMaterial.alphaTest=1,this.defaultImage9TiledMaskMaterial.redWrite=!1,this.defaultImage9TiledMaskMaterial.greenWrite=!1,this.defaultImage9TiledMaskMaterial.blueWrite=!1,this.defaultImage9TiledMaskMaterial.alphaWrite=!1,this.defaultImage9TiledMaskMaterial.update(),this.defaultImageMaterials.push(this.defaultImage9TiledMaskMaterial)),this.defaultImage9TiledMaskMaterial):(this.defaultImageMaskMaterial||(this.defaultImageMaskMaterial=this._createBaseImageMaterial(),this.defaultImageMaskMaterial.name="defaultImageMaskMaterial",this.defaultImageMaskMaterial.alphaTest=1,this.defaultImageMaskMaterial.redWrite=!1,this.defaultImageMaskMaterial.greenWrite=!1,this.defaultImageMaskMaterial.blueWrite=!1,this.defaultImageMaskMaterial.alphaWrite=!1,this.defaultImageMaskMaterial.update(),this.defaultImageMaterials.push(this.defaultImageMaskMaterial)),this.defaultImageMaskMaterial):i?(this.defaultImage9SlicedMaterial||(this.defaultImage9SlicedMaterial=this._createBaseImageMaterial(),this.defaultImage9SlicedMaterial.name="defaultImage9SlicedMaterial",this.defaultImage9SlicedMaterial.nineSlicedMode=1,this.defaultImage9SlicedMaterial.update(),this.defaultImageMaterials.push(this.defaultImage9SlicedMaterial)),this.defaultImage9SlicedMaterial):r?(this.defaultImage9TiledMaterial||(this.defaultImage9TiledMaterial=this._createBaseImageMaterial(),this.defaultImage9TiledMaterial.name="defaultImage9TiledMaterial",this.defaultImage9TiledMaterial.nineSlicedMode=2,this.defaultImage9TiledMaterial.update(),this.defaultImageMaterials.push(this.defaultImage9TiledMaterial)),this.defaultImage9TiledMaterial):(this.defaultImageMaterial||(this.defaultImageMaterial=this._createBaseImageMaterial(),this.defaultImageMaterial.name="defaultImageMaterial",this.defaultImageMaterial.update(),this.defaultImageMaterials.push(this.defaultImageMaterial)),this.defaultImageMaterial)},registerUnicodeConverter:function(e){this._unicodeConverter=e},registerRtlReorder:function(e){this._rtlReorder=e},getUnicodeConverter:function(){return this._unicodeConverter},getRtlReorder:function(){return this._rtlReorder}}),Hc.prototype=Object.create(ll.prototype),Hc.prototype.constructor=Hc,Yc("minWidth"),Yc("minHeight"),Yc("maxWidth"),Yc("maxHeight"),Yc("fitWidthProportion"),Yc("fitHeightProportion"),Yc("excludeFromLayout");var Zc=["enabled"],Qc=function(e){cl.call(this,e),this.id="layoutchild",this.ComponentType=Hc,this.DataType=Xc,this.schema=Zc};function Jc(){}(Qc.prototype=Object.create(cl.prototype)).constructor=Qc,ll._buildAccessors(Hc.prototype,Zc),Object.assign(Qc.prototype,{initializeComponentData:function(e,t,i){void 0!==t.enabled&&(e.enabled=t.enabled),void 0!==t.minWidth&&(e.minWidth=t.minWidth),void 0!==t.minHeight&&(e.minHeight=t.minHeight),void 0!==t.maxWidth&&(e.maxWidth=t.maxWidth),void 0!==t.maxHeight&&(e.maxHeight=t.maxHeight),void 0!==t.fitWidthProportion&&(e.fitWidthProportion=t.fitWidthProportion),void 0!==t.fitHeightProportion&&(e.fitHeightProportion=t.fitHeightProportion),void 0!==t.excludeFromLayout&&(e.excludeFromLayout=t.excludeFromLayout),cl.prototype.initializeComponentData.call(this,e,t,i)},cloneComponent:function(e,t){var i=e.layoutchild;return this.addComponent(t,{enabled:i.enabled,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,fitWidthProportion:i.fitWidthProportion,fitHeightProportion:i.fitHeightProportion,excludeFromLayout:i.excludeFromLayout})}});var qc={0:{axis:"x",size:"width",calculatedSize:"calculatedWidth",minSize:"minWidth",maxSize:"maxWidth",fitting:"widthFitting",fittingProportion:"fitWidthProportion"},1:{axis:"y",size:"height",calculatedSize:"calculatedHeight",minSize:"minHeight",maxSize:"maxHeight",fitting:"heightFitting",fittingProportion:"fitHeightProportion"}},Kc={0:1,1:0},$c={minWidth:0,minHeight:0,maxWidth:Number.POSITIVE_INFINITY,maxHeight:Number.POSITIVE_INFINITY,width:null,height:null,fitWidthProportion:0,fitHeightProportion:0},ef="NONE",tf="APPLY_STRETCHING",rf="APPLY_SHRINKING",nf=new O;function af(e){var t,i=qc[e],r=qc[Kc[e]];function n(e,t){return-t[i.size]*e.pivot[i.axis]}function a(e,t){return-t[r.size]*e.pivot[r.axis]}function s(e,t){return t[i.size]*(1-e.pivot[i.axis])}function o(e){var t=e.entity.layoutchild;return!t||!t.enabled||!t.excludeFromLayout}function l(e,t,i){switch(e){case 0:return ef;case 1:return t<i?tf:ef;case 2:return t>=i?rf:ef;case 3:return t<i?tf:t>=i?rf:ef;default:throw new Error("Unrecognized fitting mode: "+e)}}function c(e,i){return m(e,i.size)+(e.length-1)*t.spacing[i.axis]}function f(e,t,i){for(var r=A(e,i.maxSize),n=b(e,i.fittingProportion),a=g(n,r),s=nf[i.axis]-t,o=0;o<e.length;++o){var l=r[o],c=u(l,s,n,a),f=e[l][i.size]+c,h=e[l][i.maxSize],d=Math.min(f,h);e[l][i.size]=d,s-=c-Math.max(f-d,0)}}function h(e,t,i){for(var r=A(e,i.minSize,!0),n=function(e){if(1===e.length)return[1];for(var t=[],i=e.length,r=0;r<i;++r)t.push((1-e[r])/(i-1));return t}(b(e,i.fittingProportion)),a=g(n,r),s=t-nf[i.axis],o=0;o<e.length;++o){var l=r[o],c=u(l,s,n,a),f=e[l][i.size]-c,h=e[l][i.minSize],d=Math.max(f,h);e[l][i.size]=d,s-=c-Math.max(d-f,0)}}function u(e,t,i,r){var n=i[e],a=r[e];return Math.abs(n)<1e-5&&Math.abs(a)<1e-5?t:t*n/a}function d(e){for(var t=[],i=0;i<e.length;++i){var r=e[i],n=Math.max(p(r,"minWidth"),0),a=Math.max(p(r,"minHeight"),0),s=Math.max(p(r,"maxWidth"),n),o=Math.max(p(r,"maxHeight"),a),l=_(p(r,"width"),n,s),c=_(p(r,"height"),a,o),f=p(r,"fitWidthProportion"),h=p(r,"fitHeightProportion");t.push({minWidth:n,minHeight:a,maxWidth:s,maxHeight:o,width:l,height:c,fitWidthProportion:f,fitHeightProportion:h})}return t}function p(e,t){var i=e.entity.layoutchild;return i&&i.enabled&&void 0!==i[t]&&null!==i[t]?i[t]:void 0!==e[t]?e[t]:$c[t]}function _(e,t,i){return Math.min(Math.max(e,t),i)}function m(e,t){return e.reduce((function(e,i){return e+i[t]}),0)}function b(e,t){var i,r=m(e,t),n=[],a=e.length;if(0===r)for(i=0;i<a;++i)n.push(1/a);else for(i=0;i<a;++i)n.push(e[i][t]/r);return n}function A(e,t,i){return e.forEach(v),e.slice().sort((function(e,r){return i?r[t]-e[t]:e[t]-r[t]})).map(y)}function v(e,t){e.index=t}function y(e){return e.index}function g(e,t){var i=[];i[t[e.length-1]]=e[t[e.length-1]];for(var r=e.length-2;r>=0;--r)i[t[r]]=i[t[r+1]]+e[t[r]];return i}return function(e,u){e=e.filter(o),t=u,nf.x=t.containerSize.x-t.padding.x-t.padding.z,nf.y=t.containerSize.y-t.padding.y-t.padding.w,function(e){for(var t=0;t<e.length;++t){var i=e[t],r=i.anchor;0===r.x&&0===r.y&&0===r.z&&0===r.w||(i.anchor=D.ZERO)}}(e);var p=function(e){var i=0===t.orientation&&t.reverseX||1===t.orientation&&t.reverseY,r=0===t.orientation&&t.reverseY||1===t.orientation&&t.reverseX;if(i)for(var n=0;n<e.length;++n)i&&e[n].reverse();return r&&e.reverse(),e}(function(e){if(!t.wrap)return[e];for(var r=[[]],n=d(e),a=0,s=2===t[i.fitting],o=0;o<e.length;++o){r[r.length-1].length>0&&(a+=t.spacing[i.axis]);var l=n[o][i.size];a+=l,!s&&a>nf[i.axis]&&0!==r[r.length-1].length&&(a=l,r.push([])),r[r.length-1].push(e[o]),s&&a>nf[i.axis]&&o!==e.length-1&&(a=0,r.push([]))}return r}(e)),_=function(e,i){var n,a,s,o=[],u=[];for(a=0;a<e.length;++a){for((s=e[a]).largestElement=null,s.largestSize={width:Number.NEGATIVE_INFINITY,height:Number.NEGATIVE_INFINITY},n=0;n<s.length;++n){var d=i[a][n];d[r.size]>s.largestSize[r.size]&&(s.largestElement=s[n],s.largestSize=d)}o.push(s.largestElement),u.push(s.largestSize)}var p=c(u,r),_=l(t[r.fitting],p,nf[r.axis]);for(_===tf?f(u,p,r):_===rf&&h(u,p,r),a=0;a<e.length;++a)for(s=e[a],n=0;n<s.length;++n){var m=i[a][n],b=m[r.size],A=1===e.length?nf[r.axis]:s.largestSize[r.size],v=l(t[r.fitting],b,A);v===tf?m[r.size]=Math.min(A,m[r.maxSize]):v===rf&&(m[r.size]=Math.max(A,m[r.minSize]))}return i}(p,function(e){for(var r=[],n=0;n<e.length;++n){var a=d(e[n]),s=c(a,i),o=l(t[i.fitting],s,nf[i.axis]);o===tf?f(a,s,i):o===rf&&h(a,s,i),r.push(a)}return r}(p)),m=function(e,o){var l={};l[i.axis]=0,l[r.axis]=0,e[i.size]=Number.NEGATIVE_INFINITY;for(var c=[],f=0;f<e.length;++f){var h=e[f];if(0===h.length)return;for(var u=[],d=o[f],p=0;p<h.length;++p){var _=h[p],m=d[p];l[r.axis]-=a(_,m),l[i.axis]-=n(_,m),u[p]={},u[p][i.axis]=l[i.axis],u[p][r.axis]=l[r.axis],l[r.axis]+=a(_,m),l[i.axis]+=s(_,m)+t.spacing[i.axis]}h[i.size]=l[i.axis]-t.spacing[i.axis],h[r.size]=h.largestSize[r.size],e[i.size]=Math.max(e[i.size],h[i.size]),l[i.axis]=0,l[r.axis]+=h[r.size]+t.spacing[r.axis],c.push(u)}return e[r.size]=l[r.axis]-t.spacing[r.axis],c}(p,_);return function(e,n,a){for(var s=t.alignment[i.axis],o=t.alignment[r.axis],l=t.padding[i.axis],c=t.padding[r.axis],f=0;f<e.length;++f)for(var h=e[f],u=n[f],d=a[f],p=(nf[i.axis]-h[i.size])*s+l,_=(nf[r.axis]-e[r.size])*o+c,m=0;m<h.length;++m){var b=(h[r.size]-u[m][r.size])*t.alignment[r.axis];d[m][i.axis]+=p,d[m][r.axis]+=_+b}}(p,_,m),function(e,n,a){for(var s=0;s<e.length;++s)for(var o=e[s],l=n[s],c=a[s],f=0;f<o.length;++f){var h=o[f];h[i.calculatedSize]=l[f][i.size],h[r.calculatedSize]=l[f][r.size],0===t.orientation?h.entity.setLocalPosition(c[f][i.axis],c[f][r.axis],h.entity.getLocalPosition().z):h.entity.setLocalPosition(c[f][r.axis],c[f][i.axis],h.entity.getLocalPosition().z)}}(p,_,m),function(e){var i=e.width,r=e.height,n=(nf.x-i)*t.alignment.x+t.padding.x,a=(nf.y-r)*t.alignment.y+t.padding.y;return{bounds:new D(n,a,i,r)}}(p)}}var sf={};function of(e,t){ll.call(this,e,t),this._orientation=0,this._reverseX=!1,this._reverseY=!0,this._alignment=new O(0,1),this._padding=new D,this._spacing=new O,this._widthFitting=0,this._heightFitting=0,this._wrap=!1,this._layoutCalculator=new Jc,this._listenForReflowEvents(this.entity,"on"),this.entity.children.forEach(function(e){this._listenForReflowEvents(e,"on")}.bind(this)),this.entity.on("childinsert",this._onChildInsert,this),this.entity.on("childremove",this._onChildRemove,this),e.app.systems.element.on("add",this._onElementOrLayoutComponentAdd,this),e.app.systems.element.on("beforeremove",this._onElementOrLayoutComponentRemove,this),e.app.systems.layoutchild.on("add",this._onElementOrLayoutComponentAdd,this),e.app.systems.layoutchild.on("beforeremove",this._onElementOrLayoutComponentRemove,this)}function lf(e){return e.element}function cf(e){return e.enabled&&e.element&&e.element.enabled}function ff(e){var t="_"+e;Object.defineProperty(of.prototype,e,{get:function(){return this[t]},set:function(e){this[t]!==e&&(this[t]=e,this._scheduleReflow())}})}function hf(){this.enabled=!0}sf[0]=af(0),sf[1]=af(1),Object.assign(Jc.prototype,{calculateLayout:function(e,t){var i=sf[t.orientation];if(i)return i(e,t);throw new Error("Unrecognized orientation value: "+t.orientation)}}),of.prototype=Object.create(ll.prototype),of.prototype.constructor=of,Object.assign(of.prototype,{_isSelfOrChild:function(e){return e===this.entity||-1!==this.entity.children.indexOf(e)},_listenForReflowEvents:function(e,t){e.element&&(e.element[t]("enableelement",this._scheduleReflow,this),e.element[t]("disableelement",this._scheduleReflow,this),e.element[t]("resize",this._scheduleReflow,this),e.element[t]("set:pivot",this._scheduleReflow,this)),e.layoutchild&&(e.layoutchild[t]("set_enabled",this._scheduleReflow,this),e.layoutchild[t]("resize",this._scheduleReflow,this))},_onElementOrLayoutComponentAdd:function(e){this._isSelfOrChild(e)&&(this._listenForReflowEvents(e,"on"),this._scheduleReflow())},_onElementOrLayoutComponentRemove:function(e){this._isSelfOrChild(e)&&(this._listenForReflowEvents(e,"off"),this._scheduleReflow())},_onChildInsert:function(e){this._listenForReflowEvents(e,"on"),this._scheduleReflow()},_onChildRemove:function(e){this._listenForReflowEvents(e,"off"),this._scheduleReflow()},_scheduleReflow:function(){this.enabled&&this.entity&&this.entity.enabled&&!this._isPerformingReflow&&this.system.scheduleReflow(this)},reflow:function(){var e=lf(this.entity),t=this.entity.children.filter(cf).map(lf);if(e&&0!==t.length){var i=Math.max(e.calculatedWidth,0),r=Math.max(e.calculatedHeight,0),n={orientation:this._orientation,reverseX:this._reverseX,reverseY:this._reverseY,alignment:this._alignment,padding:this._padding,spacing:this._spacing,widthFitting:this._widthFitting,heightFitting:this._heightFitting,wrap:this._wrap,containerSize:new O(i,r)};this._isPerformingReflow=!0;var a=this._layoutCalculator.calculateLayout(t,n);this._isPerformingReflow=!1,this.fire("reflow",a)}},onEnable:function(){this._scheduleReflow()},onRemove:function(){this.entity.off("childinsert",this._onChildInsert,this),this.entity.off("childremove",this._onChildRemove,this),this._listenForReflowEvents(this.entity,"off"),this.entity.children.forEach(function(e){this._listenForReflowEvents(e,"off")}.bind(this)),this.system.app.systems.element.off("add",this._onElementOrLayoutComponentAdd,this),this.system.app.systems.element.off("beforeremove",this._onElementOrLayoutComponentRemove,this),this.system.app.systems.layoutchild.off("add",this._onElementOrLayoutComponentAdd,this),this.system.app.systems.layoutchild.off("beforeremove",this._onElementOrLayoutComponentRemove,this)}}),ff("orientation"),ff("reverseX"),ff("reverseY"),ff("alignment"),ff("padding"),ff("spacing"),ff("widthFitting"),ff("heightFitting"),ff("wrap");var uf=["enabled"];function df(e){cl.call(this,e),this.id="layoutgroup",this.ComponentType=of,this.DataType=hf,this.schema=uf,this._reflowQueue=[],this.on("beforeremove",this._onRemoveComponent,this),cl.bind("postUpdate",this._onPostUpdate,this)}df.prototype=Object.create(cl.prototype),df.prototype.constructor=df,ll._buildAccessors(of.prototype,uf),Object.assign(df.prototype,{initializeComponentData:function(e,t,i){void 0!==t.enabled&&(e.enabled=t.enabled),void 0!==t.orientation&&(e.orientation=t.orientation),void 0!==t.reverseX&&(e.reverseX=t.reverseX),void 0!==t.reverseY&&(e.reverseY=t.reverseY),void 0!==t.alignment&&(t.alignment instanceof O?e.alignment.copy(t.alignment):e.alignment.set(t.alignment[0],t.alignment[1]),e.alignment=e.alignment),void 0!==t.padding&&(t.padding instanceof D?e.padding.copy(t.padding):e.padding.set(t.padding[0],t.padding[1],t.padding[2],t.padding[3]),e.padding=e.padding),void 0!==t.spacing&&(t.spacing instanceof O?e.spacing.copy(t.spacing):e.spacing.set(t.spacing[0],t.spacing[1]),e.spacing=e.spacing),void 0!==t.widthFitting&&(e.widthFitting=t.widthFitting),void 0!==t.heightFitting&&(e.heightFitting=t.heightFitting),void 0!==t.wrap&&(e.wrap=t.wrap),cl.prototype.initializeComponentData.call(this,e,t,i)},cloneComponent:function(e,t){var i=e.layoutgroup;return this.addComponent(t,{enabled:i.enabled,orientation:i.orientation,reverseX:i.reverseX,reverseY:i.reverseY,alignment:i.alignment,padding:i.padding,spacing:i.spacing,widthFitting:i.widthFitting,heightFitting:i.heightFitting,wrap:i.wrap})},scheduleReflow:function(e){-1===this._reflowQueue.indexOf(e)&&this._reflowQueue.push(e)},_onPostUpdate:function(){this._processReflowQueue()},_processReflowQueue:function(){if(0!==this._reflowQueue.length)for(var e=0;this._reflowQueue.length>0;){var t=this._reflowQueue.slice();this._reflowQueue.length=0,t.sort((function(e,t){return e.entity.graphDepth-t.entity.graphDepth}));for(var i=0;i<t.length;++i)t[i].reflow();if(++e>=100){console.warn("Max reflow iterations limit reached, bailing.");break}}},_onRemoveComponent:function(e,t){t.onRemove()}});var pf=new I,_f=new I,mf=new I,bf={r:0,g:1,b:2,a:3},Af=function(){this._type=0,this._color=new v(.8,.8,.8),this._intensity=1,this._castShadows=!1,this.enabled=!1,this.mask=1,this.isStatic=!1,this.key=0,this.bakeDir=!0,this.attenuationStart=10,this.attenuationEnd=10,this._falloffMode=0,this._shadowType=0,this._vsmBlurSize=11,this.vsmBlurMode=1,this.vsmBias=.0025,this._cookie=null,this.cookieIntensity=1,this._cookieFalloff=!0,this._cookieChannel="rgb",this._cookieTransform=null,this._cookieTransformUniform=new Float32Array(4),this._cookieOffset=null,this._cookieOffsetUniform=new Float32Array(2),this._cookieTransformSet=!1,this._cookieOffsetSet=!1,this._innerConeAngle=40,this._outerConeAngle=45,this._finalColor=new Float32Array([.8,.8,.8]);var e=Math.pow(this._finalColor[0],2.2);this._linearFinalColor=new Float32Array([e,e,e]),this._position=new I(0,0,0),this._direction=new I(0,0,0),this._innerConeAngleCos=Math.cos(this._innerConeAngle*Math.PI/180),this._outerConeAngleCos=Math.cos(this._outerConeAngle*Math.PI/180),this._shadowCamera=null,this._shadowMatrix=new N,this.shadowDistance=40,this._shadowResolution=1024,this.shadowBias=-5e-4,this._normalOffsetBias=0,this.shadowUpdateMode=2,this._scene=null,this._node=null,this._rendererParams=[],this._isVsm=!1,this._isPcf=!0,this._cacheShadowMap=!1,this._isCachedShadowMap=!1,this._visibleLength=[0],this._visibleList=[[]],this._visibleCameraSettings=[]};function vf(e,t){ll.call(this,e,t),this._cookieAsset=null,this._cookieAssetId=null,this._cookieAssetAdd=!1,this._cookieMatrix=null}Object.assign(Af.prototype,{destroy:function(){this._destroyShadowMap()},clone:function(){var e=new Af;return e.type=this._type,e.setColor(this._color),e.intensity=this._intensity,e.castShadows=this.castShadows,e.enabled=this.enabled,e.attenuationStart=this.attenuationStart,e.attenuationEnd=this.attenuationEnd,e.falloffMode=this._falloffMode,e.shadowType=this._shadowType,e.vsmBlurSize=this._vsmBlurSize,e.vsmBlurMode=this.vsmBlurMode,e.vsmBias=this.vsmBias,e.shadowUpdateMode=this.shadowUpdateMode,e.mask=this.mask,e.innerConeAngle=this._innerConeAngle,e.outerConeAngle=this._outerConeAngle,e.shadowBias=this.shadowBias,e.normalOffsetBias=this._normalOffsetBias,e.shadowResolution=this._shadowResolution,e.shadowDistance=this.shadowDistance,e},getColor:function(){return this._color},getBoundingSphere:function(e){if(2===this._type){var t=this.attenuationEnd,i=this._outerConeAngle,r=Math.cos(i*A.DEG_TO_RAD),n=this._node;pf.copy(n.up),pf.scale(.5*-t*r),pf.add(n.getPosition()),e.center=pf,_f.copy(n.up),_f.scale(-t),mf.copy(n.right),mf.scale(Math.sin(i*A.DEG_TO_RAD)*t),_f.add(mf),e.radius=.5*_f.length()}else 1===this._type&&(e.center=this._node.getPosition(),e.radius=this.attenuationEnd)},getBoundingBox:function(e){if(2===this._type){var t=this.attenuationEnd,i=this._outerConeAngle,r=this._node,n=Math.abs(Math.sin(i*A.DEG_TO_RAD)*t);e.center.set(0,.5*-t,0),e.halfExtents.set(n,.5*t,n),e.setFromTransformedAabb(e,r.getWorldTransform())}else 1===this._type&&(e.center.copy(this._node.getPosition()),e.halfExtents.set(this.attenuationEnd,this.attenuationEnd,this.attenuationEnd))},_updateFinalColor:function(){var e=this._color,t=e.r,i=e.g,r=e.b,n=this._intensity,a=this._finalColor,s=this._linearFinalColor;a[0]=t*n,a[1]=i*n,a[2]=r*n,n>=1?(s[0]=Math.pow(t,2.2)*n,s[1]=Math.pow(i,2.2)*n,s[2]=Math.pow(r,2.2)*n):(s[0]=Math.pow(a[0],2.2),s[1]=Math.pow(a[1],2.2),s[2]=Math.pow(a[2],2.2))},setColor:function(){var e,t,i;1===arguments.length?(e=arguments[0].r,t=arguments[0].g,i=arguments[0].b):3===arguments.length&&(e=arguments[0],t=arguments[1],i=arguments[2]),this._color.set(e,t,i),this._updateFinalColor()},_destroyShadowMap:function(){if(this._shadowCamera){if(!this._isCachedShadowMap){var e,t=this._shadowCamera.renderTarget;if(t)if(t.length)for(e=0;e<t.length;e++)t[e].colorBuffer&&t[e].colorBuffer.destroy(),t[e].destroy();else t.colorBuffer&&t.colorBuffer.destroy(),t.depthBuffer&&t.depthBuffer.destroy(),t.destroy()}this._shadowCamera.renderTarget=null,this._shadowCamera=null,this._shadowCubeMap=null,0===this.shadowUpdateMode&&(this.shadowUpdateMode=1)}},updateShadow:function(){2!==this.shadowUpdateMode&&(this.shadowUpdateMode=1)},updateKey:function(){var e=this._type<<29|(this._castShadows?1:0)<<28|this._shadowType<<25|this._falloffMode<<23|(0!==this._normalOffsetBias?1:0)<<22|(this._cookie?1:0)<<21|(this._cookieFalloff?1:0)<<20|bf[this._cookieChannel.charAt(0)]<<18|(this._cookieTransform?1:0)<<12;3===this._cookieChannel.length&&(e|=bf[this._cookieChannel.charAt(1)]<<16,e|=bf[this._cookieChannel.charAt(2)]<<14),e!==this.key&&null!==this._scene&&(this._scene.layers._dirtyLights=!0),this.key=e}}),Object.defineProperty(Af.prototype,"type",{get:function(){return this._type},set:function(e){if(this._type!==e){this._type=e,this._destroyShadowMap(),this.updateKey();var t=this._shadowType;this._shadowType=null,this.shadowType=t}}}),Object.defineProperty(Af.prototype,"shadowType",{get:function(){return this._shadowType},set:function(e){if(this._shadowType!==e){var t=Au.getApplication().graphicsDevice;1===this._type&&(e=0),4!==e||t.webgl2||(e=0),3!==e||t.textureFloatRenderable||(e=2),2!==e||t.textureHalfFloatRenderable||(e=1),this._isVsm=e>=1&&e<=3,this._isPcf=4===e||0===e,this._shadowType=e,this._destroyShadowMap(),this.updateKey()}}}),Object.defineProperty(Af.prototype,"castShadows",{get:function(){return this._castShadows&&4!==this.mask&&0!==this.mask},set:function(e){this._castShadows!==e&&(this._castShadows=e,this.updateKey())}}),Object.defineProperty(Af.prototype,"shadowResolution",{get:function(){return this._shadowResolution},set:function(e){if(this._shadowResolution!==e){var t=Au.getApplication().graphicsDevice;e=1===this._type?Math.min(e,t.maxCubeMapSize):Math.min(e,t.maxTextureSize),this._shadowResolution=e}}}),Object.defineProperty(Af.prototype,"vsmBlurSize",{get:function(){return this._vsmBlurSize},set:function(e){this._vsmBlurSize!==e&&(e%2===0&&e++,this._vsmBlurSize=e)}}),Object.defineProperty(Af.prototype,"normalOffsetBias",{get:function(){return this._normalOffsetBias},set:function(e){this._normalOffsetBias!==e&&((!this._normalOffsetBias&&e||this._normalOffsetBias&&!e)&&this.updateKey(),this._normalOffsetBias=e)}}),Object.defineProperty(Af.prototype,"falloffMode",{get:function(){return this._falloffMode},set:function(e){this._falloffMode!==e&&(this._falloffMode=e,this.updateKey())}}),Object.defineProperty(Af.prototype,"innerConeAngle",{get:function(){return this._innerConeAngle},set:function(e){this._innerConeAngle!==e&&(this._innerConeAngle=e,this._innerConeAngleCos=Math.cos(e*Math.PI/180))}}),Object.defineProperty(Af.prototype,"outerConeAngle",{get:function(){return this._outerConeAngle},set:function(e){this._outerConeAngle!==e&&(this._outerConeAngle=e,this._outerConeAngleCos=Math.cos(e*Math.PI/180))}}),Object.defineProperty(Af.prototype,"intensity",{get:function(){return this._intensity},set:function(e){this._intensity!==e&&(this._intensity=e,this._updateFinalColor())}}),Object.defineProperty(Af.prototype,"cookie",{get:function(){return this._cookie},set:function(e){this._cookie!==e&&(this._cookie=e,this.updateKey())}}),Object.defineProperty(Af.prototype,"cookieFalloff",{get:function(){return this._cookieFalloff},set:function(e){this._cookieFalloff!==e&&(this._cookieFalloff=e,this.updateKey())}}),Object.defineProperty(Af.prototype,"cookieChannel",{get:function(){return this._cookieChannel},set:function(e){if(this._cookieChannel!==e){if(e.length<3)for(var t=e.charAt(e.length-1),i=3-e.length,r=0;r<i;r++)e+=t;this._cookieChannel=e,this.updateKey()}}}),Object.defineProperty(Af.prototype,"cookieTransform",{get:function(){return this._cookieTransform},set:function(e){this._cookieTransform!==e&&(this._cookieTransform=e,this._cookieTransformSet=!!e,e&&!this._cookieOffset&&(this.cookieOffset=new O,this._cookieOffsetSet=!1),this.updateKey())}}),Object.defineProperty(Af.prototype,"cookieOffset",{get:function(){return this._cookieOffset},set:function(e){this._cookieOffset!==e&&((this._cookieTransformSet||e)&&!e&&this._cookieOffset?this._cookieOffset.set(0,0):this._cookieOffset=e,this._cookieOffsetSet=!!e,e&&!this._cookieTransform&&(this.cookieTransform=new D(1,1,0,0),this._cookieTransformSet=!1),this.updateKey())}}),vf.prototype=Object.create(ll.prototype),vf.prototype.constructor=vf;var yf=[],gf=[],kf=function(e,t,i,r){var n=vf.prototype;yf.push(e),gf.push(t),Object.defineProperty(n,e,{get:function(){return this.data[e]},set:function(t){var n=this.data,a=n[e];(r||a!==t)&&(n[e]=t,i&&i.call(this,t,a))},configurable:!0})};kf("enabled",!0,(function(e,t){this.onSetEnabled(null,t,e)})),kf("light",null),kf("type","directional",(function(e,t){this.system.changeType(this,t,e),this.refreshProperties()})),kf("color",new v(1,1,1),(function(e,t){this.light.setColor(e)}),!0),kf("intensity",1,(function(e,t){this.light.intensity=e})),kf("castShadows",!1,(function(e,t){this.light.castShadows=e})),kf("shadowDistance",40,(function(e,t){this.light.shadowDistance=e})),kf("shadowResolution",1024,(function(e,t){this.light.shadowResolution=e})),kf("shadowBias",.05,(function(e,t){this.light.shadowBias=-.01*e})),kf("normalOffsetBias",0,(function(e,t){this.light.normalOffsetBias=e})),kf("range",10,(function(e,t){this.light.attenuationEnd=e})),kf("innerConeAngle",40,(function(e,t){this.light.innerConeAngle=e})),kf("outerConeAngle",45,(function(e,t){this.light.outerConeAngle=e})),kf("falloffMode",0,(function(e,t){this.light.falloffMode=e})),kf("shadowType",0,(function(e,t){this.light.shadowType=e})),kf("vsmBlurSize",11,(function(e,t){this.light.vsmBlurSize=e})),kf("vsmBlurMode",1,(function(e,t){this.light.vsmBlurMode=e})),kf("vsmBias",.0025,(function(e,t){this.light.vsmBias=e})),kf("cookieAsset",null,(function(e,t){if(!this._cookieAssetId||!(e instanceof pa&&e.id===this._cookieAssetId||e===this._cookieAssetId))if(this.onCookieAssetRemove(),this._cookieAssetId=null,e instanceof pa)this.data.cookieAsset=e.id,this._cookieAssetId=e.id,this.onCookieAssetAdd(e);else if("number"===typeof e){this._cookieAssetId=e;var i=this.system.app.assets.get(e);i?this.onCookieAssetAdd(i):(this._cookieAssetAdd=!0,this.system.app.assets.on("add:"+this._cookieAssetId,this.onCookieAssetAdd,this))}})),kf("cookie",null,(function(e,t){this.light.cookie=e})),kf("cookieIntensity",1,(function(e,t){this.light.cookieIntensity=e})),kf("cookieFalloff",!0,(function(e,t){this.light.cookieFalloff=e})),kf("cookieChannel","rgb",(function(e,t){this.light.cookieChannel=e})),kf("cookieAngle",0,(function(e,t){if(0!==e||null!==this.cookieScale){this._cookieMatrix||(this._cookieMatrix=new D);var i=1,r=1;this.cookieScale&&(i=this.cookieScale.x,r=this.cookieScale.y);var n=Math.cos(e*A.DEG_TO_RAD),a=Math.sin(e*A.DEG_TO_RAD);this._cookieMatrix.set(n/i,-a/i,a/r,n/r),this.light.cookieTransform=this._cookieMatrix}else this.light.cookieTransform=null})),kf("cookieScale",null,(function(e,t){if(null!==e||0!==this.cookieAngle){this._cookieMatrix||(this._cookieMatrix=new D);var i=e.x,r=e.y,n=Math.cos(this.cookieAngle*A.DEG_TO_RAD),a=Math.sin(this.cookieAngle*A.DEG_TO_RAD);this._cookieMatrix.set(n/i,-a/i,a/r,n/r),this.light.cookieTransform=this._cookieMatrix}else this.light.cookieTransform=null}),!0),kf("cookieOffset",null,(function(e,t){this.light.cookieOffset=e}),!0),kf("shadowUpdateMode",2,(function(e,t){this.light.shadowUpdateMode=e})),kf("mask",1,(function(e,t){this.light.mask=e})),kf("affectDynamic",!0,(function(e,t){e?this.light.mask|=1:this.light.mask&=-2})),kf("affectLightmapped",!1,(function(e,t){e?(this.light.mask|=2,this.bake&&(this.light.mask&=-5)):(this.light.mask&=-3,this.bake&&(this.light.mask|=4))})),kf("bake",!1,(function(e,t){e?(this.light.mask|=4,this.affectLightmapped&&(this.light.mask&=-3)):(this.light.mask&=-5,this.affectLightmapped&&(this.light.mask|=2))})),kf("bakeDir",!0,(function(e,t){this.light.bakeDir=e})),kf("isStatic",!1,(function(e,t){this.light.isStatic=e})),kf("layers",[0],(function(e,t){var i,r;for(i=0;i<t.length;i++)(r=this.system.app.scene.layers.getLayerById(t[i]))&&r.removeLight(this);for(i=0;i<e.length;i++)(r=this.system.app.scene.layers.getLayerById(e[i]))&&this.enabled&&this.entity.enabled&&r.addLight(this)})),Object.assign(vf.prototype,{addLightToLayers:function(){for(var e,t=0;t<this.layers.length;t++)(e=this.system.app.scene.layers.getLayerById(this.layers[t]))&&e.addLight(this)},removeLightFromLayers:function(){for(var e,t=0;t<this.layers.length;t++)(e=this.system.app.scene.layers.getLayerById(this.layers[t]))&&e.removeLight(this)},onLayersChanged:function(e,t){this.enabled&&this.entity.enabled&&this.addLightToLayers(),e.off("add",this.onLayerAdded,this),e.off("remove",this.onLayerRemoved,this),t.on("add",this.onLayerAdded,this),t.on("remove",this.onLayerRemoved,this)},onLayerAdded:function(e){this.layers.indexOf(e.id)<0||this.enabled&&this.entity.enabled&&e.addLight(this)},onLayerRemoved:function(e){this.layers.indexOf(e.id)<0||e.removeLight(this)},refreshProperties:function(){for(var e,t=0;t<yf.length;t++)this[e=yf[t]]=this[e];this.enabled&&this.entity.enabled&&this.onEnable()},updateShadow:function(){this.light.updateShadow()},onCookieAssetSet:function(){var e=!1;"cubemap"!==this._cookieAsset.type||this._cookieAsset.loadFaces||(this._cookieAsset.loadFaces=!0,e=!0),this._cookieAsset.resource&&!e||this.system.app.assets.load(this._cookieAsset),this._cookieAsset.resource&&this.onCookieAssetLoad()},onCookieAssetAdd:function(e){this._cookieAssetId===e.id&&(this._cookieAsset=e,this.light.enabled&&this.onCookieAssetSet(),this._cookieAsset.on("load",this.onCookieAssetLoad,this),this._cookieAsset.on("remove",this.onCookieAssetRemove,this))},onCookieAssetLoad:function(){this._cookieAsset&&this._cookieAsset.resource&&(this.cookie=this._cookieAsset.resource)},onCookieAssetRemove:function(){this._cookieAssetId&&(this._cookieAssetAdd&&(this.system.app.assets.off("add:"+this._cookieAssetId,this.onCookieAssetAdd,this),this._cookieAssetAdd=!1),this._cookieAsset&&(this._cookieAsset.off("load",this.onCookieAssetLoad,this),this._cookieAsset.off("remove",this.onCookieAssetRemove,this),this._cookieAsset=null),this.cookie=null)},onEnable:function(){this.light.enabled=!0,this.system.app.scene.on("set:layers",this.onLayersChanged,this),this.system.app.scene.layers&&(this.system.app.scene.layers.on("add",this.onLayerAdded,this),this.system.app.scene.layers.on("remove",this.onLayerRemoved,this)),this.enabled&&this.entity.enabled&&this.addLightToLayers(),this._cookieAsset&&!this.cookie&&this.onCookieAssetSet()},onDisable:function(){this.light.enabled=!1,this.system.app.scene.off("set:layers",this.onLayersChanged,this),this.system.app.scene.layers&&(this.system.app.scene.layers.off("add",this.onLayerAdded,this),this.system.app.scene.layers.off("remove",this.onLayerRemoved,this)),this.removeLightFromLayers()},onRemove:function(){this.light.destroy(),this.cookieAsset=null}});var xf=yf,Sf=gf;function Tf(){for(var e,t=xf,i=Sf,r=0;r<t.length;r++)(e=i[r])&&e.clone?this[t[r]]=e.clone():this[t[r]]=e}var wf={directional:0,point:1,spot:2};function Ef(e){cl.call(this,e),this.id="light",this.ComponentType=vf,this.DataType=Tf,this.on("beforeremove",this._onRemoveComponent,this)}function Mf(e,t){ll.call(this,e,t),this._type="asset",this._asset=null,this._model=null,this._mapping={},this._castShadows=!0,this._receiveShadows=!0,this._materialAsset=null,this._material=e.defaultMaterial,this._castShadowsLightmap=!0,this._lightmapped=!1,this._lightmapSizeMultiplier=1,this._isStatic=!1,this._layers=[0],this._batchGroupId=-1,this._area=null,this._assetOld=0,this._materialEvents=null,this._dirtyModelAsset=!1,this._dirtyMaterialAsset=!1,this._clonedModel=!1,t.on("remove",this.onRemoveChild,this),t.on("insert",this.onInsertChild,this)}function Pf(){this.enabled=!0}Ef.prototype=Object.create(cl.prototype),Ef.prototype.constructor=Ef,Object.assign(Ef.prototype,{initializeComponentData:function(e,t){for(var i=xf,r={},n=0,a=i.length;n<a;n++){var s=i[n];r[s]=t[s]}r.type||(r.type=e.data.type),e.data.type=r.type,r.layers&&Array.isArray(r.layers)&&(r.layers=r.layers.slice(0)),r.color&&Array.isArray(r.color)&&(r.color=new v(r.color[0],r.color[1],r.color[2])),r.cookieOffset&&r.cookieOffset instanceof Array&&(r.cookieOffset=new O(r.cookieOffset[0],r.cookieOffset[1])),r.cookieScale&&r.cookieScale instanceof Array&&(r.cookieScale=new O(r.cookieScale[0],r.cookieScale[1])),r.enable&&(console.warn("WARNING: enable: Property is deprecated. Set enabled property instead."),r.enabled=r.enable);var o=new Af;o.type=wf[r.type],o._node=e.entity,o._scene=this.app.scene,e.data.light=o,cl.prototype.initializeComponentData.call(this,e,r,i)},_onRemoveComponent:function(e,t){t.onRemove()},cloneComponent:function(e,t){for(var i,r=e.light,n=[],a=xf,s=0;s<a.length;s++)"light"!==(i=a[s])&&(r[i]&&r[i].clone?n[i]=r[i].clone():n[i]=r[i]);this.addComponent(t,n)},changeType:function(e,t,i){t!==i&&(e.light.type=wf[i])}}),Mf.prototype=Object.create(ll.prototype),Mf.prototype.constructor=Mf,Object.assign(Mf.prototype,{addModelToLayers:function(){for(var e,t=this.system.app.scene.layers,i=0;i<this._layers.length;i++)(e=t.getLayerById(this._layers[i]))&&e.addMeshInstances(this.meshInstances)},removeModelFromLayers:function(){for(var e,t=this.system.app.scene.layers,i=0;i<this._layers.length;i++)(e=t.getLayerById(this._layers[i]))&&e.removeMeshInstances(this.meshInstances)},onRemoveChild:function(){this._model&&this.removeModelFromLayers()},onInsertChild:function(){this._model&&this.enabled&&this.entity.enabled&&this.addModelToLayers()},onRemove:function(){"asset"===this.type?this.asset=null:this.model=null,this.materialAsset=null,this._unsetMaterialEvents(),this.entity.off("remove",this.onRemoveChild,this),this.entity.off("insert",this.onInsertChild,this)},onLayersChanged:function(e,t){this.addModelToLayers(),e.off("add",this.onLayerAdded,this),e.off("remove",this.onLayerRemoved,this),t.on("add",this.onLayerAdded,this),t.on("remove",this.onLayerRemoved,this)},onLayerAdded:function(e){this.layers.indexOf(e.id)<0||e.addMeshInstances(this.meshInstances)},onLayerRemoved:function(e){this.layers.indexOf(e.id)<0||e.removeMeshInstances(this.meshInstances)},_setMaterialEvent:function(e,t,i,r){var n=t+":"+i;this.system.app.assets.on(n,r,this),this._materialEvents||(this._materialEvents=[]),this._materialEvents[e]||(this._materialEvents[e]={}),this._materialEvents[e][n]={id:i,handler:r}},_unsetMaterialEvents:function(){var e=this.system.app.assets,t=this._materialEvents;if(t){for(var i=0,r=t.length;i<r;i++)if(t[i]){var n=t[i];for(var a in n)e.off(a,n[a].handler,this)}this._materialEvents=null}},_getAssetByIdOrPath:function(e){var t=null;if(isNaN(parseInt(e,10))){if(this.asset){var i=this._getMaterialAssetUrl(e);i&&(t=this.system.app.assets.getByUrl(i))}}else t=this.system.app.assets.get(e);return t},_getMaterialAssetUrl:function(e){if(!this.asset)return null;var t=this.system.app.assets.get(this.asset);return t?t.getAbsoluteUrl(e):null},_loadAndSetMeshInstanceMaterial:function(e,t,i){var r=this.system.app.assets;e&&(e.resource?(t.material=e.resource,this._setMaterialEvent(i,"remove",e.id,(function(){t.material=this.system.defaultMaterial}))):(this._setMaterialEvent(i,"load",e.id,(function(r){t.material=r.resource,this._setMaterialEvent(i,"remove",e.id,(function(){t.material=this.system.defaultMaterial}))})),this.enabled&&this.entity.enabled&&r.load(e)))},onEnable:function(){var e=this.system.app,t=e.scene;t.on("set:layers",this.onLayersChanged,this),t.layers&&(t.layers.on("add",this.onLayerAdded,this),t.layers.on("remove",this.onLayerRemoved,this));var i,r="asset"===this._type;if(this._model?this.addModelToLayers():r&&this._asset&&(i=e.assets.get(this._asset))&&i.resource!==this._model&&this._bindModelAsset(i),this._materialAsset&&(i=e.assets.get(this._materialAsset))&&i.resource!==this._material&&this._bindMaterialAsset(i),r&&this._mapping)for(var n in this._mapping)this._mapping[n]&&(i=this._getAssetByIdOrPath(this._mapping[n]))&&!i.resource&&e.assets.load(i);this._batchGroupId>=0&&e.batcher.insert(Et.MODEL,this.batchGroupId,this.entity)},onDisable:function(){var e=this.system.app,t=e.scene;t.off("set:layers",this.onLayersChanged,this),t.layers&&(t.layers.off("add",this.onLayerAdded,this),t.layers.off("remove",this.onLayerRemoved,this)),this._batchGroupId>=0&&e.batcher.remove(Et.MODEL,this.batchGroupId,this.entity),this._model&&this.removeModelFromLayers()},hide:function(){if(this._model){var e,t,i=this._model.meshInstances;for(e=0,t=i.length;e<t;e++)i[e].visible=!1}},show:function(){if(this._model){var e,t,i=this._model.meshInstances;for(e=0,t=i.length;e<t;e++)i[e].visible=!0}},_bindMaterialAsset:function(e){if(e.on("load",this._onMaterialAssetLoad,this),e.on("unload",this._onMaterialAssetUnload,this),e.on("remove",this._onMaterialAssetRemove,this),e.on("change",this._onMaterialAssetChange,this),e.resource)this._onMaterialAssetLoad(e);else{if(!this.enabled||!this.entity.enabled)return;this.system.app.assets.load(e)}},_unbindMaterialAsset:function(e){e.off("load",this._onMaterialAssetLoad,this),e.off("unload",this._onMaterialAssetUnload,this),e.off("remove",this._onMaterialAssetRemove,this),e.off("change",this._onMaterialAssetChange,this)},_onMaterialAssetAdd:function(e){this.system.app.assets.off("add:"+e.id,this._onMaterialAssetAdd,this),this._materialAsset===e.id&&this._bindMaterialAsset(e)},_onMaterialAssetLoad:function(e){this._setMaterial(e.resource)},_onMaterialAssetUnload:function(e){this._setMaterial(this.system.defaultMaterial)},_onMaterialAssetRemove:function(e){this._onMaterialAssetUnload(e)},_onMaterialAssetChange:function(e){},_bindModelAsset:function(e){if(this._unbindModelAsset(e),e.on("load",this._onModelAssetLoad,this),e.on("unload",this._onModelAssetUnload,this),e.on("change",this._onModelAssetChange,this),e.on("remove",this._onModelAssetRemove,this),e.resource)this._onModelAssetLoad(e);else{if(!this.enabled||!this.entity.enabled)return;this.system.app.assets.load(e)}},_unbindModelAsset:function(e){e.off("load",this._onModelAssetLoad,this),e.off("unload",this._onModelAssetUnload,this),e.off("change",this._onModelAssetChange,this),e.off("remove",this._onModelAssetRemove,this)},_onModelAssetAdded:function(e){this.system.app.assets.off("add:"+e.id,this._onModelAssetAdd,this),e.id===this._asset&&this._bindModelAsset(e)},_onModelAssetLoad:function(e){this.model=e.resource.clone(),this._clonedModel=!0},_onModelAssetUnload:function(e){this.model=null},_onModelAssetChange:function(e,t,i,r){"data"===t&&(this.mapping=this._mapping)},_onModelAssetRemove:function(e){this.model=null},_setMaterial:function(e){if(this._material!==e){this._material=e;var t=this._model;if(t&&"asset"!==this._type)for(var i=t.meshInstances,r=0,n=i.length;r<n;r++)i[r].material=e}}}),Object.defineProperty(Mf.prototype,"meshInstances",{get:function(){return this._model?this._model.meshInstances:null},set:function(e){this._model&&(this._model.meshInstances=e)}}),Object.defineProperty(Mf.prototype,"type",{get:function(){return this._type},set:function(e){if(this._type!==e){var t=null;if(this._area=null,this._type=e,"asset"===e)null!==this._asset?this._bindModelAsset(this._asset):this.model=null;else{var i=this.system,r=i.app.graphicsDevice;switch(e){case"box":i.box||(i.box=Pn(r,{halfExtents:new I(.5,.5,.5)})),t=i.box,this._area={x:2,y:2,z:2,uv:2/3};break;case"capsule":i.capsule||(i.capsule=Tn(r,{radius:.5,height:2})),t=i.capsule,this._area={x:2*Math.PI,y:Math.PI,z:2*Math.PI,uv:1/3+1/3/3*2};break;case"cone":i.cone||(i.cone=wn(r,{baseRadius:.5,peakRadius:0,height:1})),t=i.cone,this._area={x:2.54,y:2.54,z:2.54,uv:1/3+1/3/3};break;case"cylinder":i.cylinder||(i.cylinder=Sn(r,{radius:.5,height:1})),t=i.cylinder,this._area={x:Math.PI,y:1.58,z:Math.PI,uv:1/3+1/3/3*2};break;case"plane":i.plane||(i.plane=Mn(r,{halfExtents:new O(.5,.5),widthSegments:1,lengthSegments:1})),t=i.plane,this._area={x:0,y:1,z:0,uv:1};break;case"sphere":i.sphere||(i.sphere=En(r,{radius:.5})),t=i.sphere,this._area={x:Math.PI,y:Math.PI,z:Math.PI,uv:1};break;default:throw new Error("Invalid model type: "+e)}var n=new ei,a=new Tt;a.graph=n,a.meshInstances=[new bt(n,t,this._material)],i._inTools&&a.generateWireframe(),this.model=a,this._asset=null}}}}),Object.defineProperty(Mf.prototype,"asset",{get:function(){return this._asset},set:function(e){var t=this.system.app.assets,i=e;if(e instanceof pa&&(i=e.id),this._asset!==i){if(this._asset){t.off("add:"+this._asset,this._onModelAssetAdded,this);var r=t.get(this._asset);r&&this._unbindModelAsset(r)}if(this._asset=i,this._asset){var n=t.get(this._asset);n?this._bindModelAsset(n):(this.model=null,t.on("add:"+this._asset,this._onModelAssetAdded,this))}else this.model=null}}}),Object.defineProperty(Mf.prototype,"model",{get:function(){return this._model},set:function(e){var t;if(this._model!==e&&(!e||!e._immutable)&&(this._model&&(this._model._immutable=!1,this.removeModelFromLayers(),this.entity.removeChild(this._model.getGraph()),delete this._model._entity,this._clonedModel&&(this._model.destroy(),this._clonedModel=!1)),this._model=e,this._model)){this._model._immutable=!0;var i=this._model.meshInstances;for(t=0;t<i.length;t++)i[t].castShadow=this._castShadows,i[t].receiveShadow=this._receiveShadows,i[t].isStatic=this._isStatic;this.lightmapped=this._lightmapped,this.entity.addChild(this._model.graph),this.enabled&&this.entity.enabled&&this.addModelToLayers(),this._model._entity=this.entity,this.entity.animation&&this.entity.animation.setModel(this._model),this.entity.anim&&this.entity.anim.resetStateGraph(),"asset"===this.type?this.mapping=this._mapping:this._unsetMaterialEvents()}}}),Object.defineProperty(Mf.prototype,"lightmapped",{get:function(){return this._lightmapped},set:function(e){var t,i,r;if(e!==this._lightmapped&&(this._lightmapped=e,this._model)){var n=this._model.meshInstances;if(e)for(t=0;t<n.length;t++)r=(i=n[t]).mask,i.mask=-6&(2|r);else for(t=0;t<n.length;t++)(i=n[t]).deleteParameter("texture_lightMap"),i.deleteParameter("texture_dirLightMap"),i._shaderDefs&=-65,r=i.mask,i.mask=-7&(1|r)}}}),Object.defineProperty(Mf.prototype,"castShadows",{get:function(){return this._castShadows},set:function(e){if(this._castShadows!==e){var t,i,r=this._model;if(r){var n=this.layers,a=this.system.app.scene;if(this._castShadows&&!e)for(i=0;i<n.length;i++)(t=this.system.app.scene.layers.getLayerById(this.layers[i]))&&t.removeShadowCasters(r.meshInstances);var s=r.meshInstances;for(i=0;i<s.length;i++)s[i].castShadow=e;if(!this._castShadows&&e)for(i=0;i<n.length;i++)(t=a.layers.getLayerById(n[i]))&&t.addShadowCasters(r.meshInstances)}this._castShadows=e}}}),Object.defineProperty(Mf.prototype,"receiveShadows",{get:function(){return this._receiveShadows},set:function(e){if(this._receiveShadows!==e&&(this._receiveShadows=e,this._model))for(var t=this._model.meshInstances,i=0,r=t.length;i<r;i++)t[i].receiveShadow=e}}),Object.defineProperty(Mf.prototype,"castShadowsLightmap",{get:function(){return this._castShadowsLightmap},set:function(e){this._castShadowsLightmap=e}}),Object.defineProperty(Mf.prototype,"lightmapSizeMultiplier",{get:function(){return this._lightmapSizeMultiplier},set:function(e){this._lightmapSizeMultiplier=e}}),Object.defineProperty(Mf.prototype,"isStatic",{get:function(){return this._isStatic},set:function(e){var t;if(this._isStatic!==e&&(this._isStatic=e,this._model)){var i=this._model.meshInstances;for(t=0;t<i.length;t++)i[t].isStatic=e}}}),Object.defineProperty(Mf.prototype,"layers",{get:function(){return this._layers},set:function(e){var t,i,r=this.system.app.scene.layers;if(this.meshInstances)for(t=0;t<this._layers.length;t++)(i=r.getLayerById(this._layers[t]))&&i.removeMeshInstances(this.meshInstances);for(this._layers.length=0,t=0;t<e.length;t++)this._layers[t]=e[t];if(this.enabled&&this.entity.enabled&&this.meshInstances)for(t=0;t<this._layers.length;t++)(i=r.getLayerById(this._layers[t]))&&i.addMeshInstances(this.meshInstances)}}),Object.defineProperty(Mf.prototype,"batchGroupId",{get:function(){return this._batchGroupId},set:function(e){if(this._batchGroupId!==e){var t=this.system.app.batcher;this.entity.enabled&&this._batchGroupId>=0&&t.remove(Et.MODEL,this.batchGroupId,this.entity),this.entity.enabled&&e>=0&&t.insert(Et.MODEL,e,this.entity),e<0&&this._batchGroupId>=0&&this.enabled&&this.entity.enabled&&this.addModelToLayers(),this._batchGroupId=e}}}),Object.defineProperty(Mf.prototype,"materialAsset",{get:function(){return this._materialAsset},set:function(e){var t=e;e instanceof pa&&(t=e.id);var i=this.system.app.assets;if(t!==this._materialAsset){if(this._materialAsset){i.off("add:"+this._materialAsset,this._onMaterialAssetAdd,this);var r=i.get(this._materialAsset);r&&this._unbindMaterialAsset(r)}if(this._materialAsset=t,this._materialAsset){var n=i.get(this._materialAsset);n?this._bindMaterialAsset(n):(this._setMaterial(this.system.defaultMaterial),i.on("add:"+this._materialAsset,this._onMaterialAssetAdd,this))}else this._setMaterial(this.system.defaultMaterial)}}}),Object.defineProperty(Mf.prototype,"material",{get:function(){return this._material},set:function(e){this._material!==e&&(this.materialAsset=null,this._setMaterial(e))}}),Object.defineProperty(Mf.prototype,"mapping",{get:function(){return this._mapping},set:function(e){if("asset"===this._type&&(this._unsetMaterialEvents(),e||(e={}),this._mapping=e,this._model))for(var t=this._model.meshInstances,i=this.asset?this.system.app.assets.get(this.asset):null,r=i?i.data.mapping:null,n=null,a=0,s=t.length;a<s;a++)if(void 0!==e[a])e[a]?(n=this.system.app.assets.get(e[a]),this._loadAndSetMeshInstanceMaterial(n,t[a],a)):t[a].material=this.system.defaultMaterial;else if(r)if(r[a]&&(r[a].material||r[a].path)){if(void 0!==r[a].material)n=this.system.app.assets.get(r[a].material);else if(void 0!==r[a].path){var o=this._getMaterialAssetUrl(r[a].path);o&&(n=this.system.app.assets.getByUrl(o))}this._loadAndSetMeshInstanceMaterial(n,t[a],a)}else t[a].material=this.system.defaultMaterial}});var Rf=["enabled"];function Cf(e){cl.call(this,e),this.id="model",this.ComponentType=Mf,this.DataType=Pf,this.schema=Rf,this.box=null,this.capsule=null,this.cone=null,this.cylinder=null,this.plane=null,this.sphere=null,this.defaultMaterial=e.scene.defaultMaterial,this.on("beforeremove",this.onRemove,this)}Cf.prototype=Object.create(cl.prototype),Cf.prototype.constructor=Cf,ll._buildAccessors(Mf.prototype,Rf),Object.assign(Cf.prototype,{initializeComponentData:function(e,t,i){i=["material","materialAsset","asset","castShadows","receiveShadows","castShadowsLightmap","lightmapped","lightmapSizeMultiplier","type","mapping","layers","isStatic","batchGroupId"],null!==t.batchGroupId&&void 0!==t.batchGroupId||(t.batchGroupId=-1),t.layers&&t.layers.length&&(t.layers=t.layers.slice(0));for(var r=0;r<i.length;r++)t.hasOwnProperty(i[r])&&(e[i[r]]=t[i[r]]);cl.prototype.initializeComponentData.call(this,e,t,["enabled"])},cloneComponent:function(e,t){var i={type:e.model.type,asset:e.model.asset,castShadows:e.model.castShadows,receiveShadows:e.model.receiveShadows,castShadowsLightmap:e.model.castShadowsLightmap,lightmapped:e.model.lightmapped,lightmapSizeMultiplier:e.model.lightmapSizeMultiplier,isStatic:e.model.isStatic,enabled:e.model.enabled,layers:e.model.layers,batchGroupId:e.model.batchGroupId,mapping:n({},e.model.mapping)},r=e.model.materialAsset;r instanceof pa||null==r||(r=this.app.assets.get(r));var a=e.model.material;a&&a!==this.defaultMaterial&&r&&a!==r.resource||(i.materialAsset=r);var s=this.addComponent(t,i);if(e.model.model&&"asset"===e.model.type&&!e.model.asset&&(s.model=e.model.model.clone(),s._clonedModel=!0),i.materialAsset||(s.material=a),e.model.model)for(var o=e.model.model.meshInstances,l=s.model.meshInstances,c=0;c<o.length;c++)l[c].mask=o[c].mask,l[c].material=o[c].material,l[c].layer=o[c].layer,l[c].receiveShadow=o[c].receiveShadow},onRemove:function(e,t){t.onRemove()}});var Of,If=["emitterExtents","emitterRadius","emitterExtentsInner","emitterRadiusInner","loop","initialVelocity","animSpeed","normalMap","particleNormal"],Df=["numParticles","lifetime","rate","rate2","startAngle","startAngle2","lighting","halfLambert","intensity","wrap","wrapBounds","depthWrite","noFog","sort","stretch","alignToMotion","preWarm","emitterShape","animTilesX","animTilesY","animStartFrame","animNumFrames","animNumAnimations","animIndex","randomizeAnimIndex","animLoop","colorMap","localSpace","screenSpace","orientation"],Ff=["scaleGraph","scaleGraph2","colorGraph","colorGraph2","alphaGraph","alphaGraph2","velocityGraph","velocityGraph2","localVelocityGraph","localVelocityGraph2","rotationSpeedGraph","rotationSpeedGraph2","radialSpeedGraph","radialSpeedGraph2"],Nf=["colorMapAsset","normalMapAsset","meshAsset"],Bf=function(e,t){ll.call(this,e,t),this.on("set_colorMapAsset",this.onSetColorMapAsset,this),this.on("set_normalMapAsset",this.onSetNormalMapAsset,this),this.on("set_meshAsset",this.onSetMeshAsset,this),this.on("set_mesh",this.onSetMesh,this),this.on("set_loop",this.onSetLoop,this),this.on("set_blendType",this.onSetBlendType,this),this.on("set_depthSoftening",this.onSetDepthSoftening,this),this.on("set_layers",this.onSetLayers,this),If.forEach(function(e){this.on("set_"+e,this.onSetSimpleProperty,this)}.bind(this)),Df.forEach(function(e){this.on("set_"+e,this.onSetComplexProperty,this)}.bind(this)),Ff.forEach(function(e){this.on("set_"+e,this.onSetGraphProperty,this)}.bind(this)),this._requestedDepth=!1,this._drawOrder=0};function Lf(){this.numParticles=1,this.rate=1,this.rate2=null,this.startAngle=0,this.startAngle2=null,this.lifetime=50,this.emitterExtents=new I,this.emitterExtentsInner=new I,this.emitterRadius=0,this.emitterRadiusInner=0,this.emitterShape=0,this.initialVelocity=0,this.wrapBounds=new I,this.localSpace=!1,this.screenSpace=!1,this.colorMap=null,this.colorMapAsset=null,this.normalMap=null,this.normalMapAsset=null,this.loop=!0,this.preWarm=!1,this.sort=0,this.mode=0,this.scene=null,this.lighting=!1,this.halfLambert=!1,this.intensity=1,this.stretch=0,this.alignToMotion=!1,this.depthSoftening=0,this.meshAsset=null,this.mesh=null,this.depthWrite=!1,this.noFog=!1,this.orientation=0,this.particleNormal=new I(0,1,0),this.animTilesX=1,this.animTilesY=1,this.animStartFrame=0,this.animNumFrames=1,this.animNumAnimations=1,this.animIndex=0,this.randomizeAnimIndex=!1,this.animSpeed=1,this.animLoop=!0,this.scaleGraph=null,this.scaleGraph2=null,this.colorGraph=null,this.colorGraph2=null,this.alphaGraph=null,this.alphaGraph2=null,this.localVelocityGraph=null,this.localVelocityGraph2=null,this.velocityGraph=null,this.velocityGraph2=null,this.rotationSpeedGraph=null,this.rotationSpeedGraph2=null,this.radialSpeedGraph=null,this.radialSpeedGraph2=null,this.blendType=2,this.model=null,this.enabled=!0,this.paused=!1,this.autoPlay=!0,this.layers=[0]}(Bf.prototype=Object.create(ll.prototype)).constructor=Bf,Object.defineProperties(Bf.prototype,{drawOrder:{get:function(){return this._drawOrder},set:function(e){this._drawOrder=e,this.emitter&&(this.emitter.drawOrder=e)}}}),Object.assign(Bf.prototype,{addModelToLayers:function(){if(this.data.model)for(var e,t=0;t<this.layers.length;t++)(e=this.system.app.scene.layers.getLayerById(this.layers[t]))&&(e.addMeshInstances(this.data.model.meshInstances),this.emitter._layer=e)},removeModelFromLayers:function(e){if(this.data.model)for(var t,i=0;i<this.layers.length;i++)(t=this.system.app.scene.layers.getLayerById(this.layers[i]))&&t.removeMeshInstances(this.data.model.meshInstances)},onSetLayers:function(e,t,i){if(this.data.model){var r,n;for(r=0;r<t.length;r++)(n=this.system.app.scene.layers.getLayerById(t[r]))&&n.removeMeshInstances(this.data.model.meshInstances);if(this.enabled&&this.entity.enabled)for(r=0;r<i.length;r++)(n=this.system.app.scene.layers.getLayerById(i[r]))&&n.addMeshInstances(this.data.model.meshInstances)}},onLayersChanged:function(e,t){this.addModelToLayers(),e.off("add",this.onLayerAdded,this),e.off("remove",this.onLayerRemoved,this),t.on("add",this.onLayerAdded,this),t.on("remove",this.onLayerRemoved,this)},onLayerAdded:function(e){this.data.model&&(this.layers.indexOf(e.id)<0||e.addMeshInstances(this.data.model.meshInstances))},onLayerRemoved:function(e){this.data.model&&(this.layers.indexOf(e.id)<0||e.removeMeshInstances(this.data.model.meshInstances))},_bindColorMapAsset:function(e){if(e.on("load",this._onColorMapAssetLoad,this),e.on("unload",this._onColorMapAssetUnload,this),e.on("remove",this._onColorMapAssetRemove,this),e.on("change",this._onColorMapAssetChange,this),e.resource)this._onColorMapAssetLoad(e);else{if(!this.enabled||!this.entity.enabled)return;this.system.app.assets.load(e)}},_unbindColorMapAsset:function(e){e.off("load",this._onColorMapAssetLoad,this),e.off("unload",this._onColorMapAssetUnload,this),e.off("remove",this._onColorMapAssetRemove,this),e.off("change",this._onColorMapAssetChange,this)},_onColorMapAssetLoad:function(e){this.colorMap=e.resource},_onColorMapAssetUnload:function(e){this.colorMap=null},_onColorMapAssetRemove:function(e){this._onColorMapAssetUnload(e)},_onColorMapAssetChange:function(e){},onSetColorMapAsset:function(e,t,i){var r,n=this,a=this.system.app.assets;t&&(r=a.get(t))&&this._unbindColorMapAsset(r),i?(i instanceof pa&&(this.data.colorMapAsset=i.id,i=i.id),(r=a.get(i))?n._bindColorMapAsset(r):a.once("add:"+i,(function(e){n._bindColorMapAsset(e)}))):this.colorMap=null},_bindNormalMapAsset:function(e){if(e.on("load",this._onNormalMapAssetLoad,this),e.on("unload",this._onNormalMapAssetUnload,this),e.on("remove",this._onNormalMapAssetRemove,this),e.on("change",this._onNormalMapAssetChange,this),e.resource)this._onNormalMapAssetLoad(e);else{if(!this.enabled||!this.entity.enabled)return;this.system.app.assets.load(e)}},_unbindNormalMapAsset:function(e){e.off("load",this._onNormalMapAssetLoad,this),e.off("unload",this._onNormalMapAssetUnload,this),e.off("remove",this._onNormalMapAssetRemove,this),e.off("change",this._onNormalMapAssetChange,this)},_onNormalMapAssetLoad:function(e){this.normalMap=e.resource},_onNormalMapAssetUnload:function(e){this.normalMap=null},_onNormalMapAssetRemove:function(e){this._onNormalMapAssetUnload(e)},_onNormalMapAssetChange:function(e){},onSetNormalMapAsset:function(e,t,i){var r,n=this,a=this.system.app.assets;t&&(r=a.get(t))&&this._unbindNormalMapAsset(r),i?(i instanceof pa&&(this.data.normalMapAsset=i.id,i=i.id),(r=a.get(i))?n._bindNormalMapAsset(r):a.once("add:"+i,(function(e){n._bindNormalMapAsset(e)}))):this.normalMap=null},_bindMeshAsset:function(e){if(e.on("load",this._onMeshAssetLoad,this),e.on("unload",this._onMeshAssetUnload,this),e.on("remove",this._onMeshAssetRemove,this),e.on("change",this._onMeshAssetChange,this),e.resource)this._onMeshAssetLoad(e);else{if(!this.enabled||!this.entity.enabled)return;this.system.app.assets.load(e)}},_unbindMeshAsset:function(e){e.off("load",this._onMeshAssetLoad,this),e.off("unload",this._onMeshAssetUnload,this),e.off("remove",this._onMeshAssetRemove,this),e.off("change",this._onMeshAssetChange,this)},_onMeshAssetLoad:function(e){this._onMeshChanged(e.resource)},_onMeshAssetUnload:function(e){this.mesh=null},_onMeshAssetRemove:function(e){this._onMeshAssetUnload(e)},_onMeshAssetChange:function(e){},onSetMeshAsset:function(e,t,i){var r,n=this.system.app.assets;t&&(r=n.get(t))&&this._unbindMeshAsset(r),i?(i instanceof pa&&(this.data.meshAsset=i.id,i=i.id),(r=n.get(i))&&(this._bindMeshAsset(r),r.resource?this._onMeshChanged(r.resource):n.load(r))):this._onMeshChanged(null)},onSetMesh:function(e,t,i){!i||i instanceof pa||"number"===typeof i?this.meshAsset=i:this._onMeshChanged(i)},_onMeshChanged:function(e){!e||e instanceof dt||(e=e.meshInstances[0]?e.meshInstances[0].mesh:null),this.data.mesh=e,this.emitter&&(this.emitter.mesh=e,this.emitter.resetMaterial(),this.rebuild())},onSetLoop:function(e,t,i){this.emitter&&(this.emitter[e]=i,this.emitter.resetTime())},onSetBlendType:function(e,t,i){this.emitter&&(this.emitter[e]=i,this.emitter.material.blendType=i,this.emitter.resetMaterial(),this.rebuild())},_requestDepth:function(){this._requestedDepth||(Of||(Of=this.system.app.scene.layers.getLayerById(1)),Of&&(Of.incrementCounter(),this._requestedDepth=!0))},_releaseDepth:function(){this._requestedDepth&&Of&&(Of.decrementCounter(),this._requestedDepth=!1)},onSetDepthSoftening:function(e,t,i){t!==i&&(i?(this.enabled&&this.entity.enabled&&this._requestDepth(),this.emitter&&(this.emitter[e]=i)):(this.enabled&&this.entity.enabled&&this._releaseDepth(),this.emitter&&(this.emitter[e]=i)),this.emitter&&(this.reset(),this.emitter.resetMaterial(),this.rebuild()))},onSetSimpleProperty:function(e,t,i){this.emitter&&(this.emitter[e]=i,this.emitter.resetMaterial())},onSetComplexProperty:function(e,t,i){this.emitter&&(this.emitter[e]=i,this.emitter.resetMaterial(),this.rebuild(),this.reset())},onSetGraphProperty:function(e,t,i){this.emitter&&(this.emitter[e]=i,this.emitter.rebuildGraphs(),this.emitter.resetMaterial())},onEnable:function(){for(var e=this.data,t=0,i=Nf.length;t<i;t++){var r=e[Nf[t]];if(r){if(!(r instanceof pa)){if(!(parseInt(r,10)>=0))continue;r=this.system.app.assets.get(r)}r&&!r.resource&&this.system.app.assets.load(r)}}if(!this.emitter){var n=e.mesh;n instanceof dt||(n=null),this.emitter=new mn(this.system.app.graphicsDevice,{numParticles:e.numParticles,emitterExtents:e.emitterExtents,emitterExtentsInner:e.emitterExtentsInner,emitterRadius:e.emitterRadius,emitterRadiusInner:e.emitterRadiusInner,emitterShape:e.emitterShape,initialVelocity:e.initialVelocity,wrap:e.wrap,localSpace:e.localSpace,screenSpace:e.screenSpace,wrapBounds:e.wrapBounds,lifetime:e.lifetime,rate:e.rate,rate2:e.rate2,orientation:e.orientation,particleNormal:e.particleNormal,animTilesX:e.animTilesX,animTilesY:e.animTilesY,animStartFrame:e.animStartFrame,animNumFrames:e.animNumFrames,animNumAnimations:e.animNumAnimations,animIndex:e.animIndex,randomizeAnimIndex:e.randomizeAnimIndex,animSpeed:e.animSpeed,animLoop:e.animLoop,startAngle:e.startAngle,startAngle2:e.startAngle2,scaleGraph:e.scaleGraph,scaleGraph2:e.scaleGraph2,colorGraph:e.colorGraph,colorGraph2:e.colorGraph2,alphaGraph:e.alphaGraph,alphaGraph2:e.alphaGraph2,localVelocityGraph:e.localVelocityGraph,localVelocityGraph2:e.localVelocityGraph2,velocityGraph:e.velocityGraph,velocityGraph2:e.velocityGraph2,rotationSpeedGraph:e.rotationSpeedGraph,rotationSpeedGraph2:e.rotationSpeedGraph2,radialSpeedGraph:e.radialSpeedGraph,radialSpeedGraph2:e.radialSpeedGraph2,colorMap:e.colorMap,normalMap:e.normalMap,loop:e.loop,preWarm:e.preWarm,sort:e.sort,stretch:e.stretch,alignToMotion:e.alignToMotion,lighting:e.lighting,halfLambert:e.halfLambert,intensity:e.intensity,depthSoftening:e.depthSoftening,scene:this.system.app.scene,mesh:n,depthWrite:e.depthWrite,noFog:e.noFog,node:this.entity,blendType:e.blendType}),this.emitter.meshInstance.node=this.entity,this.emitter.drawOrder=this.drawOrder,this.psys=new Tt,this.psys.graph=this.entity,this.psys.emitter=this.emitter,this.psys.meshInstances=[this.emitter.meshInstance],e.model=this.psys,this.emitter.psys=this.psys,e.autoPlay||(this.pause(),this.emitter.meshInstance.visible=!1)}e.model&&this.emitter.colorMap&&this.addModelToLayers(),this.system.app.scene.on("set:layers",this.onLayersChanged,this),this.system.app.scene.layers&&(this.system.app.scene.layers.on("add",this.onLayerAdded,this),this.system.app.scene.layers.on("remove",this.onLayerRemoved,this)),this.enabled&&this.entity.enabled&&e.depthSoftening&&this._requestDepth()},onDisable:function(){this.system.app.scene.off("set:layers",this.onLayersChanged,this),this.system.app.scene.layers&&(this.system.app.scene.layers.off("add",this.onLayerAdded,this),this.system.app.scene.layers.off("remove",this.onLayerRemoved,this)),this.data.model&&(this.removeModelFromLayers(),this.data.depthSoftening&&this._releaseDepth()),this.emitter&&(this.emitter.camera=null)},onBeforeRemove:function(){this.enabled&&(this.enabled=!1);var e=this.data;e.model&&(this.entity.removeChild(e.model.getGraph()),e.model.destroy(),e.model=null),this.emitter&&(this.emitter.destroy(),this.emitter=null);for(var t=0;t<Nf.length;t++){var i=Nf[t];e[i]&&(this[i]=null)}this.off()},reset:function(){this.emitter&&this.emitter.reset()},stop:function(){this.emitter&&(this.emitter.loop=!1,this.emitter.resetTime(),this.emitter.addTime(0,!0))},pause:function(){this.data.paused=!0},unpause:function(){this.data.paused=!1},play:function(){this.data.paused=!1,this.emitter&&(this.emitter.meshInstance.visible=!0,this.emitter.loop=this.data.loop,this.emitter.resetTime())},isPlaying:function(){return!this.data.paused&&(!(!this.emitter||!this.emitter.loop)||Date.now()<=this.emitter.endTime)},rebuild:function(){var e=this.enabled;this.enabled=!1,this.emitter&&(this.emitter.rebuild(),this.emitter.meshInstance.node=this.entity,this.data.model.meshInstances=[this.emitter.meshInstance]),this.enabled=e}});var Uf,Vf,zf,jf,Wf,Gf,Hf,Yf=["enabled","autoPlay","numParticles","lifetime","rate","rate2","startAngle","startAngle2","loop","preWarm","lighting","halfLambert","intensity","depthWrite","noFog","depthSoftening","sort","blendType","stretch","alignToMotion","emitterShape","emitterExtents","emitterExtentsInner","emitterRadius","emitterRadiusInner","initialVelocity","wrap","wrapBounds","localSpace","screenSpace","colorMapAsset","normalMapAsset","mesh","meshAsset","orientation","particleNormal","localVelocityGraph","localVelocityGraph2","velocityGraph","velocityGraph2","rotationSpeedGraph","rotationSpeedGraph2","radialSpeedGraph","radialSpeedGraph2","scaleGraph","scaleGraph2","colorGraph","colorGraph2","alphaGraph","alphaGraph2","colorMap","normalMap","animTilesX","animTilesY","animStartFrame","animNumFrames","animNumAnimations","animIndex","randomizeAnimIndex","animSpeed","animLoop","layers"];function Xf(e){cl.call(this,e),this.id="particlesystem",this.ComponentType=Bf,this.DataType=Lf,this.schema=Yf,this.propertyTypes={emitterExtents:"vec3",emitterExtentsInner:"vec3",particleNormal:"vec3",wrapBounds:"vec3",localVelocityGraph:"curveset",localVelocityGraph2:"curveset",velocityGraph:"curveset",velocityGraph2:"curveset",colorGraph:"curveset",colorGraph2:"curveset",alphaGraph:"curve",alphaGraph2:"curve",rotationSpeedGraph:"curve",rotationSpeedGraph2:"curve",radialSpeedGraph:"curve",radialSpeedGraph2:"curve",scaleGraph:"curve",scaleGraph2:"curve"},this.on("beforeremove",this.onBeforeRemove,this),cl.bind("update",this.onUpdate,this)}function Zf(e,t){this._constructor=e,this._pool=[],this._count=0,this._resize(t)}function Qf(e,t){ll.call(this,e,t),"undefined"===typeof Ammo||Uf||(Uf=new Ammo.btTransform,Vf=new Ammo.btVector3,zf=new Ammo.btVector3,jf=new Ammo.btQuaternion,Wf=new Ammo.btVector3(0,0,0)),this.on("set_mass",this.onSetMass,this),this.on("set_linearDamping",this.onSetLinearDamping,this),this.on("set_angularDamping",this.onSetAngularDamping,this),this.on("set_linearFactor",this.onSetLinearFactor,this),this.on("set_angularFactor",this.onSetAngularFactor,this),this.on("set_friction",this.onSetFriction,this),this.on("set_restitution",this.onSetRestitution,this),this.on("set_type",this.onSetType,this),this.on("set_group",this.onSetGroupOrMask,this),this.on("set_mask",this.onSetGroupOrMask,this),this.on("set_body",this.onSetBody,this),this._linearVelocity=new I(0,0,0),this._angularVelocity=new I(0,0,0)}function Jf(){this.enabled=!0,this.mass=1,this.linearDamping=0,this.angularDamping=0,this.linearFactor=new I(1,1,1),this.angularFactor=new I(1,1,1),this.friction=.5,this.restitution=0,this.type="static",this.group=2,this.mask=65533,this.body=null,this.simulationEnabled=!1}Xf.prototype=Object.create(cl.prototype),Xf.prototype.constructor=Xf,ll._buildAccessors(Bf.prototype,Yf),Object.assign(Xf.prototype,{initializeComponentData:function(e,t,i){var r={};i=[];var n,a=this.propertyTypes;for(var s in(t.mesh instanceof pa||"number"===typeof t.mesh)&&(t.meshAsset=t.mesh,delete t.mesh),t)t.hasOwnProperty(s)&&(i.push(s),r[s]=t[s]),"vec3"===a[s]?Array.isArray(r[s])&&(r[s]=new I(r[s][0],r[s][1],r[s][2])):"curve"===a[s]?r[s]instanceof P||(n=r[s].type,r[s]=new P(r[s].keys),r[s].type=n):"curveset"===a[s]&&(r[s]instanceof R||(n=r[s].type,r[s]=new R(r[s].keys),r[s].type=n)),r.layers&&Array.isArray(r.layers)&&(r.layers=r.layers.slice(0));cl.prototype.initializeComponentData.call(this,e,r,i)},cloneComponent:function(e,t){for(var i=e.particlesystem.data,r=this.schema,n={},a=0,s=r.length;a<s;a++){var o=r[a],l=i[o];l instanceof I||l instanceof P||l instanceof R?(l=l.clone(),n[o]=l):"layers"===o?n.layers=i.layers.slice(0):null!==l&&void 0!==l&&(n[o]=l)}return this.addComponent(t,n)},onUpdate:function(e){var t,i,r,n,a=this.store,s=this.app.stats.particles;for(var o in a)if(a.hasOwnProperty(o)){var l=(n=a[o]).entity,c=n.data;if(c.enabled&&l.enabled){var f=c.model.emitter;if(!f.meshInstance.visible)continue;if(f.lighting){var h,u,d=c.layers;for(i=0;i<d.length;i++)if(h=this.app.scene.layers.getLayerById(d[i])){for(h._lightCube||(h._lightCube=new Float32Array(18)),u=h._lightCube,i=0;i<6;i++)u[3*i]=this.app.scene.ambientLight.r,u[3*i+1]=this.app.scene.ambientLight.g,u[3*i+2]=this.app.scene.ambientLight.b;var p=h._sortedLights[0];for(r=0;r<p.length;r++)for(n=0;n<6;n++){var _=Math.max(f.lightCubeDir[n].dot(p[r]._direction),0)*p[r]._intensity;u[3*n]+=p[r]._color.r*_,u[3*n+1]+=p[r]._color.g*_,u[3*n+2]+=p[r]._color.b*_}}f.constantLightCube.setValue(u)}if(!c.paused){if(f.simTime+=e,f.simTime>f.fixedTimeStep&&(t=Math.floor(f.simTime/f.fixedTimeStep),f.simTime-=t*f.fixedTimeStep),t){for(t=Math.min(t,f.maxSubSteps),i=0;i<t;i++)f.addTime(f.fixedTimeStep,!1);s._updatesPerFrame+=t,s._frameTime+=f._addTimeTime,f._addTimeTime=0}f.finishFrame()}}}},onBeforeRemove:function(e,t){t.onBeforeRemove()}}),Object.assign(Zf.prototype,{_resize:function(e){if(e>this._pool.length)for(var t=this._pool.length;t<e;t++)this._pool[t]=new this._constructor},allocate:function(){return this._count>=this._pool.length&&this._resize(2*this._pool.length),this._pool[this._count++]},freeAll:function(){this._count=0}}),Qf.prototype=Object.create(ll.prototype),Qf.prototype.constructor=Qf,Object.defineProperty(Qf.prototype,"linearVelocity",{get:function(){var e=this.body;if(e&&"dynamic"===this.type){var t=e.getLinearVelocity();this._linearVelocity.set(t.x(),t.y(),t.z())}return this._linearVelocity},set:function(e){var t=this.body;t&&"dynamic"===this.type&&(t.activate(),Vf.setValue(e.x,e.y,e.z),t.setLinearVelocity(Vf),this._linearVelocity.copy(e))}}),Object.defineProperty(Qf.prototype,"angularVelocity",{get:function(){var e=this.body;if(e&&"dynamic"===this.type){var t=e.getAngularVelocity();this._angularVelocity.set(t.x(),t.y(),t.z())}return this._angularVelocity},set:function(e){var t=this.body;t&&"dynamic"===this.type&&(t.activate(),Vf.setValue(e.x,e.y,e.z),t.setAngularVelocity(Vf),this._angularVelocity.copy(e))}}),Object.assign(Qf.prototype,{createBody:function(){var e,t=this.entity;if(t.collision&&(e=t.collision.shape,t.trigger&&(t.trigger.destroy(),delete t.trigger)),e){this.body&&this.system.onRemove(this.entity,this);var i="dynamic"===this.type?this.mass:0;this._getEntityTransform(Uf);var r=this.system.createBody(i,e,Uf);if(r.setRestitution(this.restitution),r.setFriction(this.friction),r.setDamping(this.linearDamping,this.angularDamping),"dynamic"===this.type){var n=this.linearFactor;Vf.setValue(n.x,n.y,n.z),r.setLinearFactor(Vf);var a=this.angularFactor;Vf.setValue(a.x,a.y,a.z),r.setAngularFactor(Vf)}else"kinematic"===this.type&&(r.setCollisionFlags(2|r.getCollisionFlags()),r.setActivationState(4));r.entity=t,t.rigidbody.body=r,this.enabled&&this.entity.enabled&&this.enableSimulation()}},isActive:function(){var e=this.body;return!!e&&e.isActive()},activate:function(){var e=this.body;e&&e.activate()},enableSimulation:function(){if(this.entity.collision&&this.entity.collision.enabled&&!this.data.simulationEnabled){var e=this.body;if(e){switch(this.system.addBody(e,this.group,this.mask),this.type){case"dynamic":this.system._dynamic.push(this),e.forceActivationState(1),this.syncEntityToBody();break;case"kinematic":this.system._kinematic.push(this),e.forceActivationState(4);break;case"static":e.forceActivationState(1),this.syncEntityToBody()}"compound"===this.entity.collision.type&&this.system._compounds.push(this.entity.collision),e.activate(),this.data.simulationEnabled=!0}}},disableSimulation:function(){var e,t=this.body;t&&this.data.simulationEnabled&&((e=this.system._compounds.indexOf(this.entity.collision))>-1&&this.system._compounds.splice(e,1),(e=this.system._dynamic.indexOf(this))>-1&&this.system._dynamic.splice(e,1),(e=this.system._kinematic.indexOf(this))>-1&&this.system._kinematic.splice(e,1),this.system.removeBody(t),t.forceActivationState(5),this.data.simulationEnabled=!1)},applyForce:function(){var e,t,i,r,n,a;switch(arguments.length){case 1:e=arguments[0].x,t=arguments[0].y,i=arguments[0].z;break;case 2:e=arguments[0].x,t=arguments[0].y,i=arguments[0].z,r=arguments[1].x,n=arguments[1].y,a=arguments[1].z;break;case 3:e=arguments[0],t=arguments[1],i=arguments[2];break;case 6:e=arguments[0],t=arguments[1],i=arguments[2],r=arguments[3],n=arguments[4],a=arguments[5]}var s=this.body;s&&(s.activate(),Vf.setValue(e,t,i),void 0!==r?(zf.setValue(r,n,a),s.applyForce(Vf,zf)):s.applyForce(Vf,Wf))},applyTorque:function(){var e,t,i;switch(arguments.length){case 1:e=arguments[0].x,t=arguments[0].y,i=arguments[0].z;break;case 3:e=arguments[0],t=arguments[1],i=arguments[2];break;default:return}var r=this.body;r&&(r.activate(),Vf.setValue(e,t,i),r.applyTorque(Vf))},applyImpulse:function(){var e,t,i,r,n,a;switch(arguments.length){case 1:e=arguments[0].x,t=arguments[0].y,i=arguments[0].z;break;case 2:e=arguments[0].x,t=arguments[0].y,i=arguments[0].z,r=arguments[1].x,n=arguments[1].y,a=arguments[1].z;break;case 3:e=arguments[0],t=arguments[1],i=arguments[2];break;case 6:e=arguments[0],t=arguments[1],i=arguments[2],r=arguments[3],n=arguments[4],a=arguments[5];break;default:return}var s=this.body;s&&(s.activate(),Vf.setValue(e,t,i),void 0!==r?(zf.setValue(r,n,a),s.applyImpulse(Vf,zf)):s.applyImpulse(Vf,Wf))},applyTorqueImpulse:function(){var e,t,i;switch(arguments.length){case 1:e=arguments[0].x,t=arguments[0].y,i=arguments[0].z;break;case 3:e=arguments[0],t=arguments[1],i=arguments[2];break;default:return}var r=this.body;r&&(r.activate(),Vf.setValue(e,t,i),r.applyTorqueImpulse(Vf))},isStatic:function(){return"static"===this.type},isStaticOrKinematic:function(){return"static"===this.type||"kinematic"===this.type},isKinematic:function(){return"kinematic"===this.type},_getEntityTransform:function(e){var t=this.entity.getPosition(),i=this.entity.getRotation();Vf.setValue(t.x,t.y,t.z),jf.setValue(i.x,i.y,i.z,i.w),e.setOrigin(Vf),e.setRotation(jf)},syncEntityToBody:function(){var e=this.data.body;if(e){if(this._getEntityTransform(Uf),e.setWorldTransform(Uf),"kinematic"===this.type){var t=e.getMotionState();t&&t.setWorldTransform(Uf)}e.activate()}},_updateDynamic:function(){var e=this.data.body;if(e.isActive()){var t=e.getMotionState();if(t){t.getWorldTransform(Uf);var i=Uf.getOrigin(),r=Uf.getRotation();this.entity.setPosition(i.x(),i.y(),i.z()),this.entity.setRotation(r.x(),r.y(),r.z(),r.w())}}},_updateKinematic:function(){var e=this.data.body.getMotionState();e&&(this._getEntityTransform(Uf),e.setWorldTransform(Uf))},teleport:function(){arguments.length<3?(arguments[0]&&this.entity.setPosition(arguments[0]),arguments[1]&&(arguments[1]instanceof B?this.entity.setRotation(arguments[1]):this.entity.setEulerAngles(arguments[1]))):(6===arguments.length&&this.entity.setEulerAngles(arguments[3],arguments[4],arguments[5]),this.entity.setPosition(arguments[0],arguments[1],arguments[2])),this.syncEntityToBody()},onEnable:function(){this.body||this.createBody(),this.enableSimulation()},onDisable:function(){this.disableSimulation()},onSetMass:function(e,t,i){var r=this.data.body;if(r&&"dynamic"===this.type){var n=this.enabled&&this.entity.enabled;n&&this.disableSimulation(),r.getCollisionShape().calculateLocalInertia(i,Vf),r.setMassProps(i,Vf),r.updateInertiaTensor(),n&&this.enableSimulation()}},onSetLinearDamping:function(e,t,i){var r=this.data.body;r&&r.setDamping(i,this.data.angularDamping)},onSetAngularDamping:function(e,t,i){var r=this.data.body;r&&r.setDamping(this.data.linearDamping,i)},onSetLinearFactor:function(e,t,i){var r=this.data.body;r&&"dynamic"===this.type&&(Vf.setValue(i.x,i.y,i.z),r.setLinearFactor(Vf))},onSetAngularFactor:function(e,t,i){var r=this.data.body;r&&"dynamic"===this.type&&(Vf.setValue(i.x,i.y,i.z),r.setAngularFactor(Vf))},onSetFriction:function(e,t,i){var r=this.data.body;r&&r.setFriction(i)},onSetRestitution:function(e,t,i){var r=this.data.body;r&&r.setRestitution(i)},onSetType:function(e,t,i){i!==t&&(this.disableSimulation(),"dynamic"===i?(this.data.group=1,this.data.mask=65535):"kinematic"===i?(this.data.group=4,this.data.mask=65535):(this.data.group=2,this.data.mask=65533),this.createBody())},onSetGroupOrMask:function(e,t,i){i!==t&&this.enabled&&this.entity.enabled&&(this.disableSimulation(),this.enableSimulation())},onSetBody:function(e,t,i){this.body&&this.data.simulationEnabled&&this.body.activate()}});var qf={},Kf={};function $f(e,t,i){this.entity=e,this.point=t,this.normal=i}function eh(e,t,i){0===arguments.length?(this.a=null,this.b=null,this.localPointA=new I,this.localPointB=new I,this.pointA=new I,this.pointB=new I,this.normal=new I):(this.a=e,this.b=t,this.localPointA=i.localPoint,this.localPointB=i.localPointOther,this.pointA=i.point,this.pointB=i.pointOther,this.normal=i.normal)}function th(e,t,i,r,n){0===arguments.length?(this.localPoint=new I,this.localPointOther=new I,this.point=new I,this.pointOther=new I,this.normal=new I):(this.localPoint=e,this.localPointOther=t,this.point=i,this.pointOther=r,this.normal=n)}function ih(e,t){this.other=e,this.contacts=t}var rh=["enabled","type","mass","linearDamping","angularDamping","linearFactor","angularFactor","friction","restitution","group","mask","body"];function nh(e){cl.call(this,e),this.id="rigidbody",this._stats=e.stats.frame,this.ComponentType=Qf,this.DataType=Jf,this.contactPointPool=null,this.contactResultPool=null,this.singleContactResultPool=null,this.schema=rh,this.maxSubSteps=10,this.fixedTimeStep=1/60,this.gravity=new I(0,-9.81,0),this._dynamic=[],this._kinematic=[],this._triggers=[],this._compounds=[],this.on("beforeremove",this.onBeforeRemove,this),this.on("remove",this.onRemove,this)}function ah(e,t){ll.call(this,e,t),this._resolution=new O(640,320),this._referenceResolution=new O(640,320),this._scaleMode="none",this.scale=1,this._scaleBlend=.5,this._priority=0,this._screenSpace=!1,this.cull=this._screenSpace,this._screenMatrix=new N,e.app.graphicsDevice.on("resizecanvas",this._onResize,this)}nh.prototype=Object.create(cl.prototype),nh.prototype.constructor=nh,ll._buildAccessors(Qf.prototype,rh),Object.assign(nh.prototype,{onLibraryLoaded:function(){if("undefined"!==typeof Ammo){if(this.collisionConfiguration=new Ammo.btDefaultCollisionConfiguration,this.dispatcher=new Ammo.btCollisionDispatcher(this.collisionConfiguration),this.overlappingPairCache=new Ammo.btDbvtBroadphase,this.solver=new Ammo.btSequentialImpulseConstraintSolver,this.dynamicsWorld=new Ammo.btDiscreteDynamicsWorld(this.dispatcher,this.overlappingPairCache,this.solver,this.collisionConfiguration),this.dynamicsWorld.setInternalTickCallback){var e=Ammo.addFunction(this._checkForCollisions.bind(this),"vif");this.dynamicsWorld.setInternalTickCallback(e)}Gf=new Ammo.btVector3,Hf=new Ammo.btVector3,this.contactPointPool=new Zf(th,1),this.contactResultPool=new Zf(ih,1),this.singleContactResultPool=new Zf(eh,1),cl.bind("update",this.onUpdate,this)}else cl.unbind("update",this.onUpdate,this)},initializeComponentData:function(e,t,i){for(var r={},n=0,a=(i=["enabled","mass","linearDamping","angularDamping","linearFactor","angularFactor","friction","restitution","type","group","mask"]).length;n<a;n++){var s=i[n];r[s]=t[s]}t.bodyType&&(r.type=t.bodyType),r.linearFactor&&Array.isArray(r.linearFactor)&&(r.linearFactor=new I(r.linearFactor[0],r.linearFactor[1],r.linearFactor[2])),r.angularFactor&&Array.isArray(r.angularFactor)&&(r.angularFactor=new I(r.angularFactor[0],r.angularFactor[1],r.angularFactor[2])),cl.prototype.initializeComponentData.call(this,e,r,i)},cloneComponent:function(e,t){var i={enabled:e.rigidbody.enabled,mass:e.rigidbody.mass,linearDamping:e.rigidbody.linearDamping,angularDamping:e.rigidbody.angularDamping,linearFactor:[e.rigidbody.linearFactor.x,e.rigidbody.linearFactor.y,e.rigidbody.linearFactor.z],angularFactor:[e.rigidbody.angularFactor.x,e.rigidbody.angularFactor.y,e.rigidbody.angularFactor.z],friction:e.rigidbody.friction,restitution:e.rigidbody.restitution,type:e.rigidbody.type,group:e.rigidbody.group,mask:e.rigidbody.mask};this.addComponent(t,i)},onBeforeRemove:function(e,t){t.enabled&&(t.enabled=!1)},onRemove:function(e,t){var i=t.body;i&&(this.removeBody(i),this.destroyBody(i),t.body=null)},addBody:function(e,t,i){void 0!==t&&void 0!==i?this.dynamicsWorld.addRigidBody(e,t,i):this.dynamicsWorld.addRigidBody(e)},removeBody:function(e){this.dynamicsWorld.removeRigidBody(e)},createBody:function(e,t,i){var r=new Ammo.btVector3(0,0,0);0!==e&&t.calculateLocalInertia(e,r);var n=new Ammo.btDefaultMotionState(i),a=new Ammo.btRigidBodyConstructionInfo(e,n,t,r),s=new Ammo.btRigidBody(a);return Ammo.destroy(a),Ammo.destroy(r),s},destroyBody:function(e){var t=e.getMotionState();t&&Ammo.destroy(t),Ammo.destroy(e)},raycastFirst:function(e,t){var i=null;Gf.setValue(e.x,e.y,e.z),Hf.setValue(t.x,t.y,t.z);var r=new Ammo.ClosestRayResultCallback(Gf,Hf);if(this.dynamicsWorld.rayTest(Gf,Hf,r),r.hasHit()){var n=r.get_m_collisionObject(),a=Ammo.castObject(n,Ammo.btRigidBody);if(a){var s=r.get_m_hitPointWorld(),o=r.get_m_hitNormalWorld();if(i=new $f(a.entity,new I(s.x(),s.y(),s.z()),new I(o.x(),o.y(),o.z())),arguments.length>2){var l=arguments[2];l(i)}}}return Ammo.destroy(r),i},raycastAll:function(e,t){var i=[];Gf.setValue(e.x,e.y,e.z),Hf.setValue(t.x,t.y,t.z);var r=new Ammo.AllHitsRayResultCallback(Gf,Hf);if(this.dynamicsWorld.rayTest(Gf,Hf,r),r.hasHit())for(var n=r.get_m_collisionObjects(),a=r.get_m_hitPointWorld(),s=r.get_m_hitNormalWorld(),o=n.size(),l=0;l<o;l++){var c=Ammo.castObject(n.at(l),Ammo.btRigidBody);if(c){var f=a.at(l),h=s.at(l),u=new $f(c.entity,new I(f.x(),f.y(),f.z()),new I(h.x(),h.y(),h.z()));i.push(u)}}return Ammo.destroy(r),i},_storeCollision:function(e,t){var i=!1,r=e.getGuid();return qf[r]=qf[r]||{others:[],entity:e},qf[r].others.indexOf(t)<0&&(qf[r].others.push(t),i=!0),Kf[r]=Kf[r]||{others:[],entity:e},Kf[r].others.push(t),i},_createContactPointFromAmmo:function(e){var t=e.get_m_localPointA(),i=e.get_m_localPointB(),r=e.getPositionWorldOnA(),n=e.getPositionWorldOnB(),a=e.get_m_normalWorldOnB(),s=this.contactPointPool.allocate();return s.localPoint.set(t.x(),t.y(),t.z()),s.localPointOther.set(i.x(),i.y(),i.z()),s.point.set(r.x(),r.y(),r.z()),s.pointOther.set(n.x(),n.y(),n.z()),s.normal.set(a.x(),a.y(),a.z()),s},_createReverseContactPointFromAmmo:function(e){var t=e.get_m_localPointA(),i=e.get_m_localPointB(),r=e.getPositionWorldOnA(),n=e.getPositionWorldOnB(),a=e.get_m_normalWorldOnB(),s=this.contactPointPool.allocate();return s.localPointOther.set(t.x(),t.y(),t.z()),s.localPoint.set(i.x(),i.y(),i.z()),s.pointOther.set(r.x(),r.y(),r.z()),s.point.set(n.x(),n.y(),n.z()),s.normal.set(a.x(),a.y(),a.z()),s},_createSingleContactResult:function(e,t,i){var r=this.singleContactResultPool.allocate();return r.a=e,r.b=t,r.localPointA=i.localPoint,r.localPointB=i.localPointOther,r.pointA=i.point,r.pointB=i.pointOther,r.normal=i.normal,r},_createContactResult:function(e,t){var i=this.contactResultPool.allocate();return i.other=e,i.contacts=t,i},_cleanOldCollisions:function(){for(var e in qf)if(qf.hasOwnProperty(e)){for(var t=Kf[e],i=qf[e],r=i.entity,n=r.collision,a=r.rigidbody,s=i.others,o=s.length;o--;){var l=s[o];(!t||t.others.indexOf(l)<0)&&(s.splice(o,1),r.trigger?(n&&n.fire("triggerleave",l),l.rigidbody&&l.rigidbody.fire("triggerleave",r)):l.trigger||(a&&a.fire("collisionend",l),n&&n.fire("collisionend",l)))}0===s.length&&delete qf[e]}},_hasContactEvent:function(e){var t=e.collision;if(t&&(t.hasEvent("collisionstart")||t.hasEvent("collisionend")||t.hasEvent("contact")))return!0;var i=e.rigidbody;return i&&(i.hasEvent("collisionstart")||i.hasEvent("collisionend")||i.hasEvent("contact"))},_checkForCollisions:function(e,t){var i=Ammo.wrapPointer(e,Ammo.btDynamicsWorld).getDispatcher(),r=i.getNumManifolds();Kf={};for(var n=0;n<r;n++){var a=i.getManifoldByIndexInternal(n),s=a.getBody0(),o=a.getBody1(),l=Ammo.castObject(s,Ammo.btRigidBody),c=Ammo.castObject(o,Ammo.btRigidBody),f=l.entity,h=c.entity;if(f&&h){var u,d,p,_,m,b=l.getCollisionFlags(),A=c.getCollisionFlags(),v=a.getNumContacts(),y=[],g=[];if(v>0)if(4&b||4&A)d=f.collision&&(f.collision.hasEvent("triggerenter")||f.collision.hasEvent("triggerleave")),p=h.collision&&(h.collision.hasEvent("triggerenter")||h.collision.hasEvent("triggerleave")),_=f.rigidbody&&(f.rigidbody.hasEvent("triggerenter")||f.rigidbody.hasEvent("triggerleave")),m=h.rigidbody&&(h.rigidbody.hasEvent("triggerenter")||h.rigidbody.hasEvent("triggerleave")),d&&(!(u=this._storeCollision(f,h))||4&A||f.collision.fire("triggerenter",h)),p&&(!(u=this._storeCollision(h,f))||4&b||h.collision.fire("triggerenter",f)),_&&(u||(u=this._storeCollision(h,f)),u&&f.rigidbody.fire("triggerenter",h)),m&&(u||(u=this._storeCollision(f,h)),u&&h.rigidbody.fire("triggerenter",f));else{d=this._hasContactEvent(f),p=this._hasContactEvent(h);var k=this.hasEvent("contact");if(k||d||p){for(var x=0;x<v;x++){var S=a.getContactPoint(x),T=this._createContactPointFromAmmo(S),w=null;if((d||p)&&(w=this._createReverseContactPointFromAmmo(S),y.push(T),g.push(w)),k){var E=this._createSingleContactResult(f,h,T);this.fire("contact",E)}}if(d){var M=this._createContactResult(h,y);u=this._storeCollision(f,h),f.collision&&(f.collision.fire("contact",M),u&&f.collision.fire("collisionstart",M)),f.rigidbody&&(f.rigidbody.fire("contact",M),u&&f.rigidbody.fire("collisionstart",M))}if(p){var P=this._createContactResult(f,g);u=this._storeCollision(h,f),h.collision&&(h.collision.fire("contact",P),u&&h.collision.fire("collisionstart",P)),h.rigidbody&&(h.rigidbody.fire("contact",P),u&&h.rigidbody.fire("collisionstart",P))}}}}}this._cleanOldCollisions(),this.contactPointPool.freeAll(),this.contactResultPool.freeAll(),this.singleContactResultPool.freeAll()},onUpdate:function(e){var t,i,r=this.dynamicsWorld.getGravity();r.x()===this.gravity.x&&r.y()===this.gravity.y&&r.z()===this.gravity.z||(r.setValue(this.gravity.x,this.gravity.y,this.gravity.z),this.dynamicsWorld.setGravity(r));var n=this._triggers;for(t=0,i=n.length;t<i;t++)n[t].updateTransform();var a=this._compounds;for(t=0,i=a.length;t<i;t++)a[t]._updateCompound();var s=this._kinematic;for(t=0,i=s.length;t<i;t++)s[t]._updateKinematic();this.dynamicsWorld.stepSimulation(e,this.maxSubSteps,this.fixedTimeStep);var o=this._dynamic;for(t=0,i=o.length;t<i;t++)o[t]._updateDynamic();this.dynamicsWorld.setInternalTickCallback||this._checkForCollisions(Ammo.getPointer(this.dynamicsWorld),e)},destroy:function(){"undefined"!==typeof Ammo&&(Ammo.destroy(this.dynamicsWorld),Ammo.destroy(this.solver),Ammo.destroy(this.overlappingPairCache),Ammo.destroy(this.dispatcher),Ammo.destroy(this.collisionConfiguration),this.dynamicsWorld=null,this.solver=null,this.overlappingPairCache=null,this.dispatcher=null,this.collisionConfiguration=null)}}),ah.prototype=Object.create(ll.prototype),ah.prototype.constructor=ah;var sh=new N;function oh(){this.enabled=!0}Object.assign(ah.prototype,{syncDrawOrder:function(){this.system.queueDrawOrderSync(this.entity.getGuid(),this._processDrawOrderSync,this)},_recurseDrawOrderSync:function(e,t){if(!(e instanceof Un))return t;if(e.element){var i=e.element.drawOrder;e.element.drawOrder=t++,e.element._batchGroupId>=0&&i!=e.element.drawOrder&&this.system.app.batcher.markGroupDirty(e.element._batchGroupId)}e.particlesystem&&(e.particlesystem.drawOrder=t++);for(var r=e.children,n=0;n<r.length;n++)t=this._recurseDrawOrderSync(r[n],t);return t},_processDrawOrderSync:function(){this._recurseDrawOrderSync(this.entity,1),this.fire("syncdraworder")},_calcProjectionMatrix:function(){var e,t,i=this._resolution.x/this.scale,r=this._resolution.y/this.scale;e=i,t=-r,this._screenMatrix.setOrtho(0,e,t,0,1,-1),this._screenSpace||(sh.setScale(.5*i,.5*r,1),this._screenMatrix.mul2(sh,this._screenMatrix))},_updateScale:function(){this.scale=this._calcScale(this._resolution,this.referenceResolution)},_calcScale:function(e,t){var i=Math.log2(e.x/t.x),r=Math.log2(e.y/t.y);return Math.pow(2,i*(1-this._scaleBlend)+r*this._scaleBlend)},_onResize:function(e,t){this._screenSpace&&(this._resolution.set(e,t),this.resolution=this._resolution)},onRemove:function(){this.system.app.graphicsDevice.off("resizecanvas",this._onResize,this),this.fire("remove"),this.off()}}),Object.defineProperty(ah.prototype,"resolution",{set:function(e){this._screenSpace?this._resolution.set(this.system.app.graphicsDevice.width,this.system.app.graphicsDevice.height):this._resolution.set(e.x,e.y),this._updateScale(),this._calcProjectionMatrix(),this.entity._dirtyLocal||this.entity._dirtifyLocal(),this.fire("set:resolution",this._resolution)},get:function(){return this._resolution}}),Object.defineProperty(ah.prototype,"referenceResolution",{set:function(e){this._referenceResolution.set(e.x,e.y),this._updateScale(),this._calcProjectionMatrix(),this.entity._dirtyLocal||this.entity._dirtifyLocal(),this.fire("set:referenceresolution",this._resolution)},get:function(){return"none"===this._scaleMode?this._resolution:this._referenceResolution}}),Object.defineProperty(ah.prototype,"screenSpace",{set:function(e){this._screenSpace=e,this._screenSpace&&this._resolution.set(this.system.app.graphicsDevice.width,this.system.app.graphicsDevice.height),this.resolution=this._resolution,this.entity._dirtyLocal||this.entity._dirtifyLocal(),this.fire("set:screenspace",this._screenSpace)},get:function(){return this._screenSpace}}),Object.defineProperty(ah.prototype,"scaleMode",{set:function(e){"none"!==e&&"blend"!==e&&(e="none"),this._screenSpace||"none"===e||(e="none"),this._scaleMode=e,this.resolution=this._resolution,this.fire("set:scalemode",this._scaleMode)},get:function(){return this._scaleMode}}),Object.defineProperty(ah.prototype,"scaleBlend",{set:function(e){this._scaleBlend=e,this._updateScale(),this._calcProjectionMatrix(),this.entity._dirtyLocal||this.entity._dirtifyLocal(),this.fire("set:scaleblend",this._scaleBlend)},get:function(){return this._scaleBlend}}),Object.defineProperty(ah.prototype,"priority",{get:function(){return this._priority},set:function(e){e>255&&(e=255),this._priority=e}});var lh=["enabled"];function ch(e){cl.call(this,e),this.id="screen",this.ComponentType=ah,this.DataType=oh,this.schema=lh,this.windowResolution=new O,this._drawOrderSyncQueue=new y,this.app.graphicsDevice.on("resizecanvas",this._onResize,this),cl.bind("update",this._onUpdate,this),this.on("beforeremove",this.onRemoveComponent,this)}ch.prototype=Object.create(cl.prototype),ch.prototype.constructor=ch,ll._buildAccessors(ah.prototype,lh),Object.assign(ch.prototype,{initializeComponentData:function(e,t,i){void 0!==t.priority&&(e.priority=t.priority),void 0!==t.screenSpace&&(e.screenSpace=t.screenSpace),e.cull=e.screenSpace,void 0!==t.scaleMode&&(e.scaleMode=t.scaleMode),void 0!==t.scaleBlend&&(e.scaleBlend=t.scaleBlend),void 0!==t.resolution&&(t.resolution instanceof O?e._resolution.copy(t.resolution):e._resolution.set(t.resolution[0],t.resolution[1]),e.resolution=e._resolution),void 0!==t.referenceResolution&&(t.referenceResolution instanceof O?e._referenceResolution.copy(t.referenceResolution):e._referenceResolution.set(t.referenceResolution[0],t.referenceResolution[1]),e.referenceResolution=e._referenceResolution),e.syncDrawOrder(),cl.prototype.initializeComponentData.call(this,e,t,i)},destroy:function(){this.off(),this.app.graphicsDevice.off("resizecanvas",this._onResize,this)},_onUpdate:function(e){var t=this.store;for(var i in t)t[i].entity.screen.update&&t[i].entity.screen.update(e)},_onResize:function(e,t){this.windowResolution.x=e,this.windowResolution.y=t},cloneComponent:function(e,t){var i=e.screen;return this.addComponent(t,{enabled:i.enabled,screenSpace:i.screenSpace,scaleMode:i.scaleMode,resolution:i.resolution.clone(),referenceResolution:i.referenceResolution.clone()})},onRemoveComponent:function(e,t){t.onRemove()},processDrawOrderSyncQueue:function(){for(var e=this._drawOrderSyncQueue.list(),t=0;t<e.length;t++){var i=e[t];i.callback.call(i.scope)}this._drawOrderSyncQueue.clear()},queueDrawOrderSync:function(e,t,i){this._drawOrderSyncQueue.list().length||this.app.once("prerender",this.processDrawOrderSyncQueue,this),this._drawOrderSyncQueue.has(e)||this._drawOrderSyncQueue.push(e,{callback:t,scope:i})}});var fh=["x","y","z","w"],hh=[void 0,void 0,O,I,D],uh=function e(t,i,r,n){var a,s;switch(i.type){case"boolean":return!!r;case"number":if("number"===typeof r)return r;if("string"===typeof r){var o=parseInt(r,10);return isNaN(o)?null:o}return"boolean"===typeof r?0+r:null;case"json":var l={};if(Array.isArray(i.schema))for(r&&"object"===typeof r||(r={}),a=0;a<i.schema.length;a++){var c=i.schema[a];if(c.name)if(c.array){if(l[c.name]=[],Array.isArray(r[c.name]))for(s=0;s<r[c.name].length;s++)l[c.name].push(e(t,c,r[c.name][s]))}else l[c.name]=e(t,c,r[c.name])}return l;case"asset":return r instanceof pa?r:"number"===typeof r?t.assets.get(r)||null:"string"===typeof r&&t.assets.get(parseInt(r,10))||null;case"entity":return r instanceof ei?r:"string"===typeof r?t.getEntityFromIndex(r):null;case"rgb":case"rgba":if(r instanceof v)return n instanceof v?(n.copy(r),n):r.clone();if(r instanceof Array&&r.length>=3&&r.length<=4){for(a=0;a<r.length;a++)if("number"!==typeof r[a])return null;return n||(n=new v),n.r=r[0],n.g=r[1],n.b=r[2],n.a=3===r.length?1:r[3],n}return"string"===typeof r&&/#([0-9abcdef]{2}){3,4}/i.test(r)?(n||(n=new v),n.fromString(r),n):null;case"vec2":case"vec3":case"vec4":var f=parseInt(i.type.slice(3),10),h=hh[f];if(r instanceof h)return n instanceof h?(n.copy(r),n):r.clone();if(r instanceof Array&&r.length===f){for(a=0;a<r.length;a++)if("number"!==typeof r[a])return null;for(n||(n=new h),a=0;a<f;a++)n[fh[a]]=r[a];return n}return null;case"curve":var u;if(r)return r instanceof P||r instanceof R?u=r.clone():(u=new(r.keys[0]instanceof Array?R:P)(r.keys)).type=r.type,u}return r};function dh(e){this.scriptType=e,this.index={}}dh.prototype.add=function(e,t){this.index[e]||mh.reservedAttributes[e]||(this.index[e]=t,Object.defineProperty(this.scriptType.prototype,e,{get:function(){return this.__attributes[e]},set:function(i){var r,n,a=this.__attributes[e];if(t.array){if(this.__attributes[e]=[],i)for(r=0,n=i.length;r<n;r++)this.__attributes[e].push(uh(this.app,t,i[r],a?a[r]:null))}else this.__attributes[e]=uh(this.app,t,i,a);this.fire("attr",e,this.__attributes[e],a),this.fire("attr:"+e,this.__attributes[e],a)}}))},dh.prototype.remove=function(e){return!!this.index[e]&&(delete this.index[e],delete this.scriptType.prototype[e],!0)},dh.prototype.has=function(e){return!!this.index[e]},dh.prototype.get=function(e){return this.index[e]||null};var ph=new RegExp("^\\s*function(?:\\s|\\s*\\/\\*.*\\*\\/\\s*)+([^\\(\\s\\/]*)\\s*");function _h(e){o.call(this);var t=this.constructor;this.app=e.app,this.entity=e.entity,this._enabled="boolean"!==typeof e.enabled||e.enabled,this._enabledOld=this.enabled,this.__destroyed=!1,this.__attributes={},this.__attributesRaw=e.attributes||{},this.__scriptType=t,this.__executionOrder=-1}function mh(e,t){if(js.legacy)return null;if(mh.reservedScripts[e])throw new Error("script name: '"+e+"' is reserved, please change script name");var i=function(e){_h.call(this,e)};return(i.prototype=Object.create(_h.prototype)).constructor=i,i.extend=_h.extend,i.attributes=new dh(i),bh(i,e,t),i}function bh(e,t,i){if(!e.legacy){if("function"!==typeof e)throw new Error("script class: '"+e+"' must be a constructor function (i.e. class).");if(!(e.prototype instanceof _h))throw new Error("script class: '"+_h.__getScriptName(e)+"' does not extend pc.ScriptType.");if(t=t||e.__name||_h.__getScriptName(e),mh.reservedScripts[t])throw new Error("script name: '"+t+"' is reserved, please change script name");e.__name=t,(i?i.scripts:Au.getApplication().scripts).add(e),Ws._push(e)}}_h.prototype=Object.create(o.prototype),_h.prototype.constructor=_h,_h.__name=null,_h.__getScriptName=function(e){if("function"===typeof e){if("name"in Function.prototype)return e.name;if(e===Function||e===Function.prototype.constructor)return"Function";var t=(""+e).match(ph);return t?t[1]:void 0}},Object.defineProperty(_h,"scriptName",{get:function(){return this.__name}}),Object.defineProperty(_h,"attributes",{get:function(){return this.hasOwnProperty("__attributes")||(this.__attributes=new dh(this)),this.__attributes}}),_h.prototype.__initializeAttributes=function(e){if(e||this.__attributesRaw){for(var t in this.__scriptType.attributes.index)this.__attributesRaw&&this.__attributesRaw.hasOwnProperty(t)?this[t]=this.__attributesRaw[t]:this.__attributes.hasOwnProperty(t)||(this.__scriptType.attributes.index[t].hasOwnProperty("default")?this[t]=this.__scriptType.attributes.index[t].default:this[t]=null);this.__attributesRaw=null}},_h.extend=function(e){for(var t in e)e.hasOwnProperty(t)&&(this.prototype[t]=e[t])},Object.defineProperty(_h.prototype,"enabled",{get:function(){return this._enabled&&!this._destroyed&&this.entity.script.enabled&&this.entity.enabled},set:function(e){this._enabled=!!e,this.enabled!==this._enabledOld&&(this._enabledOld=this.enabled,this.fire(this.enabled?"enable":"disable"),this.fire("state",this.enabled),!this._initialized&&this.enabled&&(this._initialized=!0,this.__initializeAttributes(!0),this.initialize&&this.entity.script._scriptMethod(this,kh.scriptMethods.initialize)),this._initialized&&!this._postInitialized&&this.enabled&&!this.entity.script._beingEnabled&&(this._postInitialized=!0,this.postInitialize&&this.entity.script._scriptMethod(this,kh.scriptMethods.postInitialize)))}}),mh.reservedScripts=["system","entity","create","destroy","swap","move","scripts","_scripts","_scriptsIndex","_scriptsData","enabled","_oldState","onEnable","onDisable","onPostStateChange","_onSetEnabled","_checkState","_onBeforeRemove","_onInitializeAttributes","_onInitialize","_onPostInitialize","_onUpdate","_onPostUpdate","_callbacks","has","get","on","off","fire","once","hasEvent"];var Ah,vh={};for(Ah=0;Ah<mh.reservedScripts.length;Ah++)vh[mh.reservedScripts[Ah]]=1;mh.reservedScripts=vh,mh.reservedAttributes=["app","entity","enabled","_enabled","_enabledOld","_destroyed","__attributes","__attributesRaw","__scriptType","__executionOrder","_callbacks","has","get","on","off","fire","once","hasEvent"];var yh={};for(Ah=0;Ah<mh.reservedAttributes.length;Ah++)yh[mh.reservedAttributes[Ah]]=1;function gh(e){this._sortBy=e.sortBy,this.items=[],this.length=0,this.loopIndex=-1,this._sortHandler=this._doSort.bind(this)}function kh(e,t){ll.call(this,e,t),this._scripts=[],this._updateList=new gh({sortBy:"__executionOrder"}),this._postUpdateList=new gh({sortBy:"__executionOrder"}),this._scriptsIndex={},this._destroyedScripts=[],this._destroyed=!1,this._scriptsData=null,this._oldState=!0,this._enabled=!0,this._beingEnabled=!1,this._isLoopingThroughScripts=!1,this._executionOrder=-1,this.on("set_enabled",this._onSetEnabled,this)}function xh(){this.enabled=!0}mh.reservedAttributes=yh,gh.prototype._binarySearch=function(e){for(var t,i,r=0,n=this.items.length-1,a=e[this._sortBy];r<=n;)t=Math.floor((r+n)/2),(i=this.items[t][this._sortBy])<=a?r=t+1:i>a&&(n=t-1);return r},gh.prototype._doSort=function(e,t){var i=this._sortBy;return e[i]-t[i]},gh.prototype.insert=function(e){var t=this._binarySearch(e);this.items.splice(t,0,e),this.length++,this.loopIndex>=t&&this.loopIndex++},gh.prototype.append=function(e){this.items.push(e),this.length++},gh.prototype.remove=function(e){var t=this.items.indexOf(e);t<0||(this.items.splice(t,1),this.length--,this.loopIndex>=t&&this.loopIndex--)},gh.prototype.sort=function(){var e=this.loopIndex>=0?this.items[this.loopIndex]:null;this.items.sort(this._sortHandler),null!==e&&(this.loopIndex=this.items.indexOf(e))},kh.prototype=Object.create(ll.prototype),kh.prototype.constructor=kh,kh.scriptMethods={initialize:"initialize",postInitialize:"postInitialize",update:"update",postUpdate:"postUpdate",swap:"swap"},Object.assign(kh.prototype,{onEnable:function(){this._beingEnabled=!0,this._checkState(),this.entity._beingEnabled||this.onPostStateChange(),this._beingEnabled=!1},onDisable:function(){this._checkState()},onPostStateChange:function(){for(var e,t=this._beginLooping(),i=0,r=this.scripts.length;i<r;i++)(e=this.scripts[i])._initialized&&!e._postInitialized&&e.enabled&&(e._postInitialized=!0,e.postInitialize&&this._scriptMethod(e,kh.scriptMethods.postInitialize));this._endLooping(t)},_beginLooping:function(){var e=this._isLoopingThroughScripts;return this._isLoopingThroughScripts=!0,e},_endLooping:function(e){this._isLoopingThroughScripts=e,this._isLoopingThroughScripts||this._removeDestroyedScripts()},_onSetEnabled:function(e,t,i){this._beingEnabled=!0,this._checkState(),this._beingEnabled=!1},_checkState:function(){var e=this.enabled&&this.entity.enabled;if(e!==this._oldState){this._oldState=e,this.fire(e?"enable":"disable"),this.fire("state",e),e?this.system._addComponentToEnabled(this):this.system._removeComponentFromEnabled(this);for(var t,i=this._beginLooping(),r=0,n=this.scripts.length;r<n;r++)(t=this.scripts[r]).enabled=t._enabled;this._endLooping(i)}},_onBeforeRemove:function(){this.fire("remove");for(var e=this._beginLooping(),t=0;t<this.scripts.length;t++){var i=this.scripts[t];i&&this.destroy(i.__scriptType.__name)}this._endLooping(e)},_removeDestroyedScripts:function(){var e=this._destroyedScripts.length;if(e){var t;for(t=0;t<e;t++){var i=this._destroyedScripts[t];this._removeScriptInstance(i)}this._destroyedScripts.length=0,this._resetExecutionOrder(0,this._scripts.length)}},_onInitializeAttributes:function(){for(var e=0,t=this.scripts.length;e<t;e++)this.scripts[e].__initializeAttributes()},_scriptMethod:function(e,t,i){e[t](i)},_onInitialize:function(){for(var e,t=this._scripts,i=this._beginLooping(),r=0,n=t.length;r<n;r++)!(e=t[r])._initialized&&e.enabled&&(e._initialized=!0,e.initialize&&this._scriptMethod(e,kh.scriptMethods.initialize));this._endLooping(i)},_onPostInitialize:function(){this.onPostStateChange()},_onUpdate:function(e){var t=this._updateList;if(t.length){var i,r=this._beginLooping();for(t.loopIndex=0;t.loopIndex<t.length;t.loopIndex++)(i=t.items[t.loopIndex]).enabled&&this._scriptMethod(i,kh.scriptMethods.update,e);this._endLooping(r)}},_onPostUpdate:function(e){var t=this._postUpdateList;if(t.length){var i,r=this._beginLooping();for(t.loopIndex=0;t.loopIndex<t.length;t.loopIndex++)(i=t.items[t.loopIndex]).enabled&&this._scriptMethod(i,kh.scriptMethods.postUpdate,e);this._endLooping(r)}},_insertScriptInstance:function(e,t,i){-1===t?(this._scripts.push(e),e.__executionOrder=i,e.update&&this._updateList.append(e),e.postUpdate&&this._postUpdateList.append(e)):(this._scripts.splice(t,0,e),e.__executionOrder=t,this._resetExecutionOrder(t+1,i+1),e.update&&this._updateList.insert(e),e.postUpdate&&this._postUpdateList.insert(e))},_removeScriptInstance:function(e){var t=this._scripts.indexOf(e);return-1===t||(this._scripts.splice(t,1),e.update&&this._updateList.remove(e),e.postUpdate&&this._postUpdateList.remove(e)),t},_resetExecutionOrder:function(e,t){for(var i=e;i<t;i++)this._scripts[i].__executionOrder=i},_resolveEntityScriptAttribute:function(e,t,i,r,n,a){if(e.array){var s=i.length;if(!s)return;for(var o=i.slice(),l=0;l<s;l++){var c=o[l]instanceof Un?o[l].getGuid():o[l];a[c]&&(o[l]=r?a[c].getGuid():a[c])}n[t]=o}else{if(i instanceof Un)i=i.getGuid();else if("string"!==typeof i)return;a[i]&&(n[t]=a[i])}},has:function(e){if("string"===typeof e)return!!this._scriptsIndex[e];if(!e)return!1;var t=e,i=t.__name,r=this._scriptsIndex[i];return(r&&r.instance)instanceof t},get:function(e){if("string"===typeof e){var t=this._scriptsIndex[e];return t?t.instance:null}if(!e)return null;var i=e,r=i.__name,n=this._scriptsIndex[r],a=n&&n.instance;return a instanceof i?a:null},create:function(e,t){var i=this;t=t||{};var r=e,n=e;if("string"===typeof r?r=this.system.app.scripts.get(r):r&&(n=r.__name),r){if(!this._scriptsIndex[n]||!this._scriptsIndex[n].instance){var a=new r({app:this.system.app,entity:this.entity,enabled:!t.hasOwnProperty("enabled")||t.enabled,attributes:t.attributes}),s=this._scripts.length,o=-1;return"number"===typeof t.ind&&-1!==t.ind&&s>t.ind&&(o=t.ind),this._insertScriptInstance(a,o,s),this._scriptsIndex[n]={instance:a,onSwap:function(){i.swap(n)}},this[n]=a,t.preloading||a.__initializeAttributes(),this.fire("create",n,a),this.fire("create:"+n,a),this.system.app.scripts.on("swap:"+n,this._scriptsIndex[n].onSwap),t.preloading||(a.enabled&&!a._initialized&&(a._initialized=!0,a.initialize&&this._scriptMethod(a,kh.scriptMethods.initialize)),a.enabled&&!a._postInitialized&&(a._postInitialized=!0,a.postInitialize&&this._scriptMethod(a,kh.scriptMethods.postInitialize))),a}console.warn("script '"+n+"' is already added to entity '"+this.entity.name+"'")}else this._scriptsIndex[n]={awaiting:!0,ind:this._scripts.length},console.warn("script '"+n+"' is not found, awaiting it to be added to registry");return null},destroy:function(e){var t=e,i=e;"string"===typeof i?i=this.system.app.scripts.get(i):i&&(t=i.__name);var r=this._scriptsIndex[t];if(delete this._scriptsIndex[t],!r)return!1;var n=r.instance;if(n&&!n._destroyed)if(n.enabled=!1,n._destroyed=!0,this._isLoopingThroughScripts)this._destroyedScripts.push(n);else{var a=this._removeScriptInstance(n);a>=0&&this._resetExecutionOrder(a,this._scripts.length)}return this.system.app.scripts.off("swap:"+t,r.onSwap),delete this[t],this.fire("destroy",t,n||null),this.fire("destroy:"+t,n||null),n&&n.fire("destroy"),!0},swap:function(e){var t=e,i=e;"string"===typeof i?i=this.system.app.scripts.get(i):i&&(t=i.__name);var r=this._scriptsIndex[t];if(!r||!r.instance)return!1;var n=r.instance,a=this._scripts.indexOf(n),s=new i({app:this.system.app,entity:this.entity,enabled:n.enabled,attributes:n.__attributes});return!!s.swap&&(s.__initializeAttributes(),this._scripts[a]=s,this._scriptsIndex[t].instance=s,this[t]=s,s.__executionOrder=a,n.update&&this._updateList.remove(n),n.postUpdate&&this._postUpdateList.remove(n),s.update&&this._updateList.insert(s),s.postUpdate&&this._postUpdateList.insert(s),this._scriptMethod(s,kh.scriptMethods.swap,n),this.fire("swap",t,s),this.fire("swap:"+t,s),!0)},resolveDuplicatedEntityReferenceProperties:function(e,t){var i,r,n=this.entity.script;for(var a in e._scriptsIndex){var s=this.system.app.scripts.get(a);if(s){var o=e._scriptsIndex[a];if(o&&o.instance){var l=n[a].__attributesRaw,c=n[a].__attributes;if(l||c){var f=!!l,h=o.instance.__attributes;for(var u in h)if(h[u]){var d=s.attributes.get(u);if(d)if("entity"===d.type)this._resolveEntityScriptAttribute(d,u,h[u],f,l||c,t);else if("json"===d.type&&Array.isArray(d.schema)){var p=h[u],_=l?l[u]:c[u];for(i=0;i<d.schema.length;i++){var m=d.schema[i];if("entity"===m.type)if(d.array)for(r=0;r<p.length;r++)this._resolveEntityScriptAttribute(m,m.name,p[r][m.name],f,_[r],t);else this._resolveEntityScriptAttribute(m,m.name,p[m.name],f,_,t)}}}}}}}},move:function(e,t){var i=this._scripts.length;if(t>=i||t<0)return!1;var r=e,n=e;"string"!==typeof n?n=e.__name:r=null;var a=this._scriptsIndex[n];if(!a||!a.instance)return!1;var s=a.instance;if(r&&!(s instanceof r))return!1;var o=this._scripts.indexOf(s);return-1!==o&&o!==t&&(this._scripts.splice(t,0,this._scripts.splice(o,1)[0]),this._resetExecutionOrder(0,i),this._updateList.sort(),this._postUpdateList.sort(),this.fire("move",n,s,t,o),this.fire("move:"+n,s,t,o),!0)}}),Object.defineProperty(kh.prototype,"enabled",{get:function(){return this._enabled},set:function(e){var t=this._enabled;this._enabled=e,this.fire("set","enabled",t,e)}}),Object.defineProperty(kh.prototype,"scripts",{get:function(){return this._scripts},set:function(e){for(var t in this._scriptsData=e,e)if(e.hasOwnProperty(t)){var i=this._scriptsIndex[t];if(i){if("boolean"===typeof e[t].enabled&&(i.enabled=!!e[t].enabled),"object"===typeof e[t].attributes)for(var r in e[t].attributes)if(!mh.reservedAttributes[r]){if(!i.__attributes.hasOwnProperty(r)){var n=this.system.app.scripts.get(t);n&&n.attributes.add(r,{})}i[r]=e[t].attributes[r]}}else console.log(this.order)}}});var Sh=0;function Th(e){cl.call(this,e),this.id="script",this.ComponentType=kh,this.DataType=xh,this._components=new gh({sortBy:"_executionOrder"}),this._enabledComponents=new gh({sortBy:"_executionOrder"}),this.preloading=!0,this.on("beforeremove",this._onBeforeRemove,this),cl.bind("initialize",this._onInitialize,this),cl.bind("postInitialize",this._onPostInitialize,this),cl.bind("update",this._onUpdate,this),cl.bind("postUpdate",this._onPostUpdate,this)}function wh(e,t){ll.call(this,e,t),this.on("set_scripts",this.onSetScripts,this)}function Eh(){this.scripts=[],this.enabled=!0,this.instances={},this._instances={},this.runInTools=!1,this.attributes={},this.initialized=!1,this.postInitialized=!1,this.areScriptsLoaded=!1}Th.prototype=Object.create(cl.prototype),Th.prototype.constructor=Th,Object.assign(Th.prototype,{initializeComponentData:function(e,t){if(e._executionOrder=Sh++,this._components.append(e),Sh>Number.MAX_SAFE_INTEGER&&this._resetExecutionOrder(),e.enabled=!t.hasOwnProperty("enabled")||!!t.enabled,e.enabled&&e.entity.enabled&&this._enabledComponents.append(e),t.hasOwnProperty("order")&&t.hasOwnProperty("scripts")){e._scriptsData=t.scripts;for(var i=0;i<t.order.length;i++)e.create(t.order[i],{enabled:t.scripts[t.order[i]].enabled,attributes:t.scripts[t.order[i]].attributes,preloading:this.preloading})}},cloneComponent:function(e,t){var i,r,n=[],a={};for(i=0;i<e.script._scripts.length;i++){var s=e.script._scripts[i],o=s.__scriptType.__name;n.push(o);var l={};for(r in s.__attributes)l[r]=s.__attributes[r];a[o]={enabled:s._enabled,attributes:l}}for(r in e.script._scriptsIndex)r.awaiting&&n.splice(r.ind,0,r);var c={enabled:e.script.enabled,order:n,scripts:a};return this.addComponent(t,c)},_resetExecutionOrder:function(){Sh=0;for(var e=0,t=this._components.length;e<t;e++)this._components.items[e]._executionOrder=Sh++},_callComponentMethod:function(e,t,i){for(e.loopIndex=0;e.loopIndex<e.length;e.loopIndex++)e.items[e.loopIndex][t](i)},_onInitialize:function(){this.preloading=!1,this._callComponentMethod(this._components,"_onInitializeAttributes"),this._callComponentMethod(this._enabledComponents,"_onInitialize")},_onPostInitialize:function(){this._callComponentMethod(this._enabledComponents,"_onPostInitialize")},_onUpdate:function(e){this._callComponentMethod(this._enabledComponents,"_onUpdate",e)},_onPostUpdate:function(e){this._callComponentMethod(this._enabledComponents,"_onPostUpdate",e)},_addComponentToEnabled:function(e){this._enabledComponents.insert(e)},_removeComponentFromEnabled:function(e){this._enabledComponents.remove(e)},_onBeforeRemove:function(e,t){this._components.items.indexOf(t)>=0&&t._onBeforeRemove(),this._removeComponentFromEnabled(t),this._components.remove(t)}}),wh.prototype=Object.create(ll.prototype),wh.prototype.constructor=wh,Object.assign(wh.prototype,{send:function(e,t){var i,r=Array.prototype.slice.call(arguments,2),n=this.entity.script.instances;if(n&&n[e]&&(i=n[e].instance[t]))return i.apply(n[e].instance,r)},onEnable:function(){this.data.areScriptsLoaded&&!this.system.preloading&&(this.data.initialized?this.system._enableScriptComponent(this):this.system._initializeScriptComponent(this),this.data.postInitialized||this.system._postInitializeScriptComponent(this))},onDisable:function(){this.system._disableScriptComponent(this)},onSetScripts:function(e,t,i){if(!this.system._inTools||this.runInTools){if(this._updateScriptAttributes(t,i))return;this.enabled&&this.system._disableScriptComponent(this),this.system._destroyScriptComponent(this),this.data.areScriptsLoaded=!1;var r=i.map((function(e){return e.url}));if(this._loadFromCache(r))return;this._loadScripts(r)}},_updateScriptAttributes:function(e,t){var i=!0;if(e.length!==t.length)i=!1;else{var r,n=t.length;for(r=0;r<n;r++)if(e[r].url!==t[r].url){i=!1;break}}if(i)for(var a in this.instances)this.instances.hasOwnProperty(a)&&this.system._updateAccessors(this.entity,this.instances[a]);return i},_loadFromCache:function(e){var t,i,r=[],n=this.system.app._scriptPrefix||"",a=/^http(s)?:\/\//i;for(t=0,i=e.length;t<i;t++){var s=e[t];a.test(s)||(s=f.join(n,s));var o=this.system.app.loader.getFromCache(s,"script");if(!o)return!1;r.push(o)}for(t=0,i=r.length;t<i;t++){var l=r[t];if(!0!==l&&l&&this.entity.script&&!this.entity.script.instances[l._pcScriptName]){var c=new l(this.entity);this.system._preRegisterInstance(this.entity,e[t],l._pcScriptName,c)}}return this.data&&(this.data.areScriptsLoaded=!0),this.system.preloading||(this.system.onInitialize(this.entity),this.system.onPostInitialize(this.entity)),!0},_loadScripts:function(e){var t=e.length,i=this.system.app._scriptPrefix||"";e.forEach(function(e){var r=null,n=null;e.toLowerCase().startsWith("http://")||e.toLowerCase().startsWith("https://")?(n=e,r=e):(n=e,r=f.join(i,e)),this.system.app.loader.load(r,"script",function(e,i){if(t--,e)console.error(e);else if(i&&this.entity.script&&!this.entity.script.instances[i._pcScriptName]){var r=new i(this.entity);this.system._preRegisterInstance(this.entity,n,i._pcScriptName,r)}0===t&&(this.data.areScriptsLoaded=!0,this.system.preloading||(this.system.onInitialize(this.entity),this.system.onPostInitialize(this.entity)))}.bind(this))}.bind(this))}});var Mh=["enabled","scripts","instances","runInTools"],Ph=function(e){cl.call(this,e),this.id="script",this.ComponentType=wh,this.DataType=Eh,this.schema=Mh,this.preloading=!1,this.instancesWithUpdate=[],this.instancesWithFixedUpdate=[],this.instancesWithPostUpdate=[],this.instancesWithToolsUpdate=[],this.on("beforeremove",this.onBeforeRemove,this),cl.bind("initialize",this.onInitialize,this),cl.bind("postInitialize",this.onPostInitialize,this),cl.bind("update",this.onUpdate,this),cl.bind("fixedUpdate",this.onFixedUpdate,this),cl.bind("postUpdate",this.onPostUpdate,this),cl.bind("toolsUpdate",this.onToolsUpdate,this)};(Ph.prototype=Object.create(cl.prototype)).constructor=Ph,ll._buildAccessors(wh.prototype,Mh),Object.assign(Ph.prototype,{initializeComponentData:function(e,t,i){i=["runInTools","enabled","scripts"],t.scripts&&t.scripts.length&&t.scripts.forEach((function(e){if(e.attributes&&Array.isArray(e.attributes)){for(var t={},i=0;i<e.attributes.length;i++)t[e.attributes[i].name]=e.attributes[i];e.attributes=t}})),cl.prototype.initializeComponentData.call(this,e,t,i)},cloneComponent:function(e,t){for(var i=this.store[e.getGuid()],r={runInTools:i.data.runInTools,scripts:[],enabled:i.data.enabled},a=i.data.scripts,s=0,o=a.length;s<o;s++){var l=a[s].attributes;l&&delete a[s].attributes,r.scripts.push(n({},a[s])),l&&(r.scripts[s].attributes=this._cloneAttributes(l),a[s].attributes=l)}return this.addComponent(t,r)},onBeforeRemove:function(e,t){t.enabled&&this._disableScriptComponent(t),this._destroyScriptComponent(t)},onInitialize:function(e){if(this._registerInstances(e),e.enabled){e.script&&e.script.enabled&&this._initializeScriptComponent(e.script);var t,i=e._children,r=i.length;for(t=0;t<r;t++)i[t]instanceof Un&&this.onInitialize(i[t])}},onPostInitialize:function(e){if(e.enabled){e.script&&e.script.enabled&&this._postInitializeScriptComponent(e.script);var t,i=e._children,r=i.length;for(t=0;t<r;t++)i[t]instanceof Un&&this.onPostInitialize(i[t])}},_callInstancesMethod:function(e,t){var i=e.data.instances;for(var r in i)if(i.hasOwnProperty(r)){var n=i[r].instance;n[t]&&n[t]()}},_initializeScriptComponent:function(e){this._callInstancesMethod(e,"initialize"),e.data.initialized=!0,e.enabled&&e.entity.enabled&&this._enableScriptComponent(e)},_enableScriptComponent:function(e){this._callInstancesMethod(e,"onEnable")},_disableScriptComponent:function(e){this._callInstancesMethod(e,"onDisable")},_destroyScriptComponent:function(e){var t,i=e.data.instances;for(var r in i)if(i.hasOwnProperty(r)){var n=i[r].instance;n.destroy&&n.destroy(),n.update&&(t=this.instancesWithUpdate.indexOf(n))>=0&&this.instancesWithUpdate.splice(t,1),n.fixedUpdate&&(t=this.instancesWithFixedUpdate.indexOf(n))>=0&&this.instancesWithFixedUpdate.splice(t,1),n.postUpdate&&(t=this.instancesWithPostUpdate.indexOf(n))>=0&&this.instancesWithPostUpdate.splice(t,1),n.toolsUpdate&&(t=this.instancesWithToolsUpdate.indexOf(n))>=0&&this.instancesWithToolsUpdate.splice(t,1),e.instances[r].instance===e[r]&&delete e[r],delete e.instances[r]}},_postInitializeScriptComponent:function(e){this._callInstancesMethod(e,"postInitialize"),e.data.postInitialized=!0},_updateInstances:function(e,t,i){for(var r,n=0,a=t.length;n<a;n++)(r=t[n])&&r.entity&&r.entity.enabled&&r.entity.script.enabled&&r[e](i)},onUpdate:function(e){this._updateInstances("update",this.instancesWithUpdate,e)},onFixedUpdate:function(e){this._updateInstances("fixedUpdate",this.instancesWithFixedUpdate,e)},onPostUpdate:function(e){this._updateInstances("postUpdate",this.instancesWithPostUpdate,e)},onToolsUpdate:function(e){this._updateInstances("toolsUpdate",this.instancesWithToolsUpdate,e)},broadcast:function(e,t){var i,r,n,a=Array.prototype.slice.call(arguments,2),s=this.store;for(i in s)s.hasOwnProperty(i)&&(r=s[i].data).instances[e]&&(n=r.instances[e].instance[t])&&n.apply(r.instances[e].instance,a)},_preRegisterInstance:function(e,t,i,r){if(e.script){if(e.script.data._instances=e.script.data._instances||{},e.script.data._instances[i])throw Error("Script name collision '"+i+"'. Scripts from '"+t+"' and '"+e.script.data._instances[i].url+"' {"+e.getGuid()+"}");e.script.data._instances[i]={url:t,name:i,instance:r}}},_registerInstances:function(e){var t,i,r;if(e.script&&e.script.data._instances){for(r in e.script.instances=e.script.data._instances,e.script.instances){if(i=(t=e.script.instances[r]).instance,l.attach(i),i.update&&this.instancesWithUpdate.push(i),i.fixedUpdate&&this.instancesWithFixedUpdate.push(i),i.postUpdate&&this.instancesWithPostUpdate.push(i),i.toolsUpdate&&this.instancesWithToolsUpdate.push(i),e.script.scripts&&this._createAccessors(e,t),e.script[r])throw Error("Script with name '"+r+"' is already attached to Script Component");e.script[r]=i}delete e.script.data._instances}var n,a=e._children,s=a.length;for(n=0;n<s;n++)a[n]instanceof Un&&this._registerInstances(a[n])},_cloneAttributes:function(e){var t={};for(var i in e)if(e.hasOwnProperty(i))if("entity"!==e[i].type)t[i]=n({},e[i]);else{var r=e[i].value;delete e[i].value,t[i]=n({},e[i]),t[i].value=r,e[i].value=r}return t},_createAccessors:function(e,t){var i,r=e.script.scripts.length,n=t.url;for(i=0;i<r;i++){var a=e.script.scripts[i];if(a.url===n){var s=a.attributes;if(a.name&&s){for(var o in s)s.hasOwnProperty(o)&&this._createAccessor(s[o],t);e.script.data.attributes[a.name]=this._cloneAttributes(s)}break}}},_createAccessor:function(e,t){var i=this;e={name:e.name,value:e.value,type:e.type},i._convertAttributeValue(e),Object.defineProperty(t.instance,e.name,{get:function(){return e.value},set:function(r){var n=e.value;e.value=r,i._convertAttributeValue(e),t.instance.fire("set",e.name,n,e.value)},configurable:!0})},_updateAccessors:function(e,t){var i,r,n,a,s,o,l,c,f=e.script.scripts.length,h=t.url;for(i=0;i<f;i++)if((a=(n=e.script).scripts[i]).url===h){if(s=a.name,o=a.attributes,s){if(o)for(r in o)o.hasOwnProperty(r)&&this._createAccessor(o[r],t);if(l=n.data.attributes[s])for(r in l)c=l[r],r in o?o[r].value!==c.value&&t.instance.onAttributeChanged&&t.instance.onAttributeChanged(c.name,c.value,o[r].value):delete t.instance[c.name];o?n.data.attributes[s]=this._cloneAttributes(o):delete n.data.attributes[s]}break}},_convertAttributeValue:function(e){if("rgb"===e.type||"rgba"===e.type)Array.isArray(e.value)&&(e.value=3===e.value.length?new v(e.value[0],e.value[1],e.value[2]):new v(e.value[0],e.value[1],e.value[2],e.value[3]));else if("vec2"===e.type)Array.isArray(e.value)&&(e.value=new O(e.value[0],e.value[1]));else if("vec3"===e.type||"vector"===e.type)Array.isArray(e.value)&&(e.value=new I(e.value[0],e.value[1],e.value[2]));else if("vec4"===e.type)Array.isArray(e.value)&&(e.value=new D(e.value[0],e.value[1],e.value[2],e.value[3]));else if("entity"===e.type)null!==e.value&&"string"===typeof e.value&&(e.value=this.app.root.findByGuid(e.value));else if("curve"===e.type||"colorcurve"===e.type){var t=e.value.keys[0]instanceof Array?R:P;e.value=new t(e.value.keys),e.value.type=e.value.type}}});var Rh=new O,Ch=new I,Oh=new I,Ih=new I,Dh=new I,Fh=new I,Nh=new B,Bh={x:"y",y:"x"};function Lh(e,t){if(o.call(this),!e||!(e instanceof Vc))throw new Error("Element was null or not an ElementComponent");if(t&&"x"!==t&&"y"!==t)throw new Error("Unrecognized axis: "+t);this._element=e,this._app=e.system.app,this._axis=t||null,this._enabled=!0,this._dragScale=new I,this._dragStartMousePosition=new I,this._dragStartHandlePosition=new I,this._deltaMousePosition=new I,this._deltaHandlePosition=new I,this._isDragging=!1,this._toggleLifecycleListeners("on")}Lh.prototype=Object.create(o.prototype),Lh.prototype.constructor=Lh,Object.assign(Lh.prototype,{_toggleLifecycleListeners:function(e){this._element[e]("mousedown",this._onMouseDownOrTouchStart,this),this._element[e]("touchstart",this._onMouseDownOrTouchStart,this)},_toggleDragListeners:function(e){var t="on"===e,i=t?"addEventListener":"removeEventListener";this._hasDragListeners&&t||(this._handleMouseUpOrTouchEnd||(this._handleMouseUpOrTouchEnd=this._onMouseUpOrTouchEnd.bind(this)),this._app.mouse&&(this._app.mouse[e]("mousemove",this._onMove,this),window[i]("mouseup",this._handleMouseUpOrTouchEnd,!1)),h.touch&&(this._app.touch[e]("touchmove",this._onMove,this),window[i]("touchend",this._handleMouseUpOrTouchEnd,!1),window[i]("touchcancel",this._handleMouseUpOrTouchEnd,!1)),this._hasDragListeners=t)},_onMouseDownOrTouchStart:function(e){if(this._element&&!this._isDragging&&this.enabled){this._dragCamera=e.camera,this._calculateDragScale();var t=this._screenToLocal(e);t&&(this._toggleDragListeners("on"),this._isDragging=!0,this._dragStartMousePosition.copy(t),this._dragStartHandlePosition.copy(this._element.entity.getLocalPosition()),this.fire("drag:start"))}},_onMouseUpOrTouchEnd:function(){this._isDragging&&(this._isDragging=!1,this._toggleDragListeners("off"),this.fire("drag:end"))},_screenToLocal:function(e){this._determineInputPosition(e),this._chooseRayOriginAndDirection(),Dh.copy(this._element.entity.getPosition()),Fh.copy(this._element.entity.forward).scale(-1);var t=Fh.dot(Ih);if(Math.abs(t)>0){var i=Dh.sub(Oh).dot(Fh)/t,r=Oh.add(Ih.scale(i));return Nh.copy(this._element.entity.getRotation()).invert().transformVector(r,r),r.mul(this._dragScale),r}return null},_determineInputPosition:function(e){var t=this._app.graphicsDevice.maxPixelRatio;"undefined"!==typeof e.x&&"undefined"!==typeof e.y?(Rh.x=e.x*t,Rh.y=e.y*t):e.changedTouches?(Rh.x=e.changedTouches[0].x*t,Rh.y=e.changedTouches[0].y*t):console.warn("Could not determine position from input event")},_chooseRayOriginAndDirection:function(){this._element.screen&&this._element.screen.screen.screenSpace?(Oh.set(Rh.x,-Rh.y,0),Ih.set(0,0,-1)):(Ch.copy(this._dragCamera.screenToWorld(Rh.x,Rh.y,1)),Oh.copy(this._dragCamera.entity.getPosition()),Ih.copy(Ch).sub(Oh).normalize())},_calculateDragScale:function(){var e=this._element.entity.parent,t=this._element.screen&&this._element.screen.screen,i=t&&t.screenSpace,r=i?t.scale:1,n=this._dragScale;for(n.set(r,r,r);e&&(n.mul(e.getLocalScale()),e=e.parent,!i||!e.screen););n.x=1/n.x,n.y=1/n.y,n.z=1/n.z},_onMove:function(e){if(this._element&&this._isDragging&&this.enabled&&this._element.enabled&&this._element.entity.enabled){var t=this._screenToLocal(e);if(this._dragStartMousePosition&&t){if(this._deltaMousePosition.copy(t).sub(this._dragStartMousePosition),this._deltaHandlePosition.copy(this._dragStartHandlePosition).add(this._deltaMousePosition),this._axis){var i=this._element.entity.getLocalPosition(),r=Bh[this._axis];this._deltaHandlePosition[r]=i[r]}this._element.entity.setLocalPosition(this._deltaHandlePosition),this.fire("drag:move",this._deltaHandlePosition)}}},destroy:function(){this._toggleLifecycleListeners("off"),this._toggleDragListeners("off")}}),Object.defineProperty(Lh.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e}}),Object.defineProperty(Lh.prototype,"isDragging",{get:function(){return this._isDragging}});var Uh=new O;function Vh(e,t){ll.call(this,e,t),this._viewportReference=new Dl(this,"viewportEntity",{"element#gain":this._onViewportElementGain,"element#resize":this._onSetContentOrViewportSize}),this._contentReference=new Dl(this,"contentEntity",{"element#gain":this._onContentElementGain,"element#lose":this._onContentElementLose,"element#resize":this._onSetContentOrViewportSize}),this._scrollbarUpdateFlags={},this._scrollbarReferences={},this._scrollbarReferences[0]=new Dl(this,"horizontalScrollbarEntity",{"scrollbar#set:value":this._onSetHorizontalScrollbarValue,"scrollbar#gain":this._onHorizontalScrollbarGain}),this._scrollbarReferences[1]=new Dl(this,"verticalScrollbarEntity",{"scrollbar#set:value":this._onSetVerticalScrollbarValue,"scrollbar#gain":this._onVerticalScrollbarGain}),this._prevContentSizes={},this._prevContentSizes[0]=null,this._prevContentSizes[1]=null,this._scroll=new O,this._velocity=new I,this._dragStartPosition=new I,this._disabledContentInput=!1,this._disabledContentInputEntities=[],this._toggleLifecycleListeners("on",e),this._toggleElementListeners("on")}function zh(){this.enabled=!0}Vh.prototype=Object.create(ll.prototype),Vh.prototype.constructor=Vh,Object.assign(Vh.prototype,{_toggleLifecycleListeners:function(e,t){this[e]("set_horizontal",this._onSetHorizontalScrollingEnabled,this),this[e]("set_vertical",this._onSetVerticalScrollingEnabled,this),t.app.systems.element[e]("add",this._onElementComponentAdd,this),t.app.systems.element[e]("beforeremove",this._onElementComponentRemove,this)},_toggleElementListeners:function(e){if(this.entity.element){if("on"===e&&this._hasElementListeners)return;this.entity.element[e]("resize",this._onSetContentOrViewportSize,this),this._hasElementListeners="on"===e}},_onElementComponentAdd:function(e){this.entity===e&&this._toggleElementListeners("on")},_onElementComponentRemove:function(e){this.entity===e&&this._toggleElementListeners("off")},_onViewportElementGain:function(){this._syncAll()},_onContentElementGain:function(){this._destroyDragHelper(),this._contentDragHelper=new Lh(this._contentReference.entity.element),this._contentDragHelper.on("drag:start",this._onContentDragStart,this),this._contentDragHelper.on("drag:end",this._onContentDragEnd,this),this._contentDragHelper.on("drag:move",this._onContentDragMove,this),this._prevContentSizes[0]=null,this._prevContentSizes[1]=null,this._syncAll()},_onContentElementLose:function(){this._destroyDragHelper()},_onContentDragStart:function(){this._contentReference.entity&&this.enabled&&this.entity.enabled&&this._dragStartPosition.copy(this._contentReference.entity.getLocalPosition())},_onContentDragEnd:function(){this._prevContentDragPosition=null,this._enableContentInput()},_onContentDragMove:function(e){if(this._contentReference.entity&&this.enabled&&this.entity.enabled&&(this._wasDragged=!0,this._setScrollFromContentPosition(e),this._setVelocityFromContentPositionDelta(e),!this._disabledContentInput)){var t=e.x-this._dragStartPosition.x,i=e.y-this._dragStartPosition.y;(Math.abs(t)>this.dragThreshold||Math.abs(i)>this.dragThreshold)&&this._disableContentInput()}},_onSetContentOrViewportSize:function(){this._syncAll()},_onSetHorizontalScrollbarValue:function(e){!this._scrollbarUpdateFlags[0]&&this.enabled&&this.entity.enabled&&this._onSetScroll(e,null)},_onSetVerticalScrollbarValue:function(e){!this._scrollbarUpdateFlags[1]&&this.enabled&&this.entity.enabled&&this._onSetScroll(null,e)},_onSetHorizontalScrollingEnabled:function(){this._syncScrollbarEnabledState(0)},_onSetVerticalScrollingEnabled:function(){this._syncScrollbarEnabledState(1)},_onHorizontalScrollbarGain:function(){this._syncScrollbarEnabledState(0),this._syncScrollbarPosition(0)},_onVerticalScrollbarGain:function(){this._syncScrollbarEnabledState(1),this._syncScrollbarPosition(1)},_onSetScroll:function(e,t,i){!1!==i&&this._velocity.set(0,0,0);var r=!1;r|=this._updateAxis(e,"x",0),(r|=this._updateAxis(t,"y",1))&&this.fire("set:scroll",this._scroll)},_updateAxis:function(e,t,i){var r=null!==e&&Math.abs(e-this._scroll[t])>1e-5;return(r||this._isDragging()||0===e)&&(this._scroll[t]=this._determineNewScrollValue(e,t,i),this._syncContentPosition(i),this._syncScrollbarPosition(i)),r},_determineNewScrollValue:function(e,t,i){if(!this._getScrollingEnabled(i))return this._scroll[t];switch(this.scrollMode){case 0:return A.clamp(e,0,this._getMaxScrollValue(i));case 1:return this._setVelocityFromOvershoot(e,t,i),e;case 2:return e;default:return console.warn("Unhandled scroll mode:"+this.scrollMode),e}},_syncAll:function(){this._syncContentPosition(0),this._syncContentPosition(1),this._syncScrollbarPosition(0),this._syncScrollbarPosition(1),this._syncScrollbarEnabledState(0),this._syncScrollbarEnabledState(1)},_syncContentPosition:function(e){var t=this._getAxis(e),i=this._getSign(e),r=this._contentReference.entity;if(r){var n=this._prevContentSizes[e],a=this._getContentSize(e);if(null!==n&&Math.abs(n-a)>1e-4){var s=this._getMaxOffset(e,n),o=this._getMaxOffset(e,a);this._scroll[t]=0===o?1:A.clamp(this._scroll[t]*s/o,0,1)}var l=this._scroll[t]*this._getMaxOffset(e),c=r.getLocalPosition();c[t]=l*i,r.setLocalPosition(c),this._prevContentSizes[e]=a}},_syncScrollbarPosition:function(e){var t=this._getAxis(e),i=this._scrollbarReferences[e].entity;i&&i.scrollbar&&(this._scrollbarUpdateFlags[e]=!0,i.scrollbar.value=this._scroll[t],i.scrollbar.handleSize=this._getScrollbarHandleSize(t,e),this._scrollbarUpdateFlags[e]=!1)},_syncScrollbarEnabledState:function(e){var t=this._scrollbarReferences[e].entity;if(t){var i=this._getScrollingEnabled(e),r=this._getScrollbarVisibility(e);switch(r){case 0:return void(t.enabled=i);case 1:return void(t.enabled=i&&this._contentIsLargerThanViewport(e));default:console.warn("Unhandled scrollbar visibility:"+r),t.enabled=i}}},_contentIsLargerThanViewport:function(e){return this._getContentSize(e)>this._getViewportSize(e)},_contentPositionToScrollValue:function(e){var t=this._getMaxOffset(0),i=this._getMaxOffset(1);return Uh.x=0===t?0:e.x/t,Uh.y=0===i?0:e.y/-i,Uh},_getMaxOffset:function(e,t){t=void 0===t?this._getContentSize(e):t;var i=this._getViewportSize(e);return t<i?-this._getViewportSize(e):i-t},_getMaxScrollValue:function(e){return this._contentIsLargerThanViewport(e)?1:0},_getScrollbarHandleSize:function(e,t){var i=this._getViewportSize(t),r=this._getContentSize(t);if(Math.abs(r)<.001)return 1;var n=Math.min(i/r,1),a=this._toOvershoot(this._scroll[e],t);return 0===a?n:n/(1+Math.abs(a))},_getViewportSize:function(e){return this._getSize(e,this._viewportReference)},_getContentSize:function(e){return this._getSize(e,this._contentReference)},_getSize:function(e,t){return t.entity&&t.entity.element?t.entity.element[this._getCalculatedDimension(e)]:0},_getScrollingEnabled:function(e){return 0===e?this.horizontal:1===e?this.vertical:void console.warn("Unrecognized orientation: "+e)},_getScrollbarVisibility:function(e){return 0===e?this.horizontalScrollbarVisibility:1===e?this.verticalScrollbarVisibility:void console.warn("Unrecognized orientation: "+e)},_getSign:function(e){return 0===e?1:-1},_getAxis:function(e){return 0===e?"x":"y"},_getCalculatedDimension:function(e){return 0===e?"calculatedWidth":"calculatedHeight"},_destroyDragHelper:function(){this._contentDragHelper&&this._contentDragHelper.destroy()},onUpdate:function(){this._contentReference.entity&&(this._updateVelocity(),this._syncScrollbarEnabledState(0),this._syncScrollbarEnabledState(1))},_updateVelocity:function(){if(!this._isDragging()&&(1===this.scrollMode&&(this._hasOvershoot("x",0)&&this._setVelocityFromOvershoot(this.scroll.x,"x",0),this._hasOvershoot("y",1)&&this._setVelocityFromOvershoot(this.scroll.y,"y",1)),this._velocity.x*=1-this.friction,this._velocity.y*=1-this.friction,Math.abs(this._velocity.x)>1e-4||Math.abs(this._velocity.y)>1e-4)){var e=this._contentReference.entity.getLocalPosition();e.x+=this._velocity.x,e.y+=this._velocity.y,this._contentReference.entity.setLocalPosition(e),this._setScrollFromContentPosition(e)}},_hasOvershoot:function(e,t){return Math.abs(this._toOvershoot(this.scroll[e],t))>.001},_toOvershoot:function(e,t){var i=this._getMaxScrollValue(t);return e<0?e:e>i?e-i:0},_setVelocityFromOvershoot:function(e,t,i){var r=this._toOvershoot(e,i)*this._getMaxOffset(i)*this._getSign(i);Math.abs(r)>0&&(this._velocity[t]=-r/(50*this.bounceAmount+1))},_setVelocityFromContentPositionDelta:function(e){this._prevContentDragPosition?(this._velocity.sub2(e,this._prevContentDragPosition),this._prevContentDragPosition.copy(e)):(this._velocity.set(0,0,0),this._prevContentDragPosition=e.clone())},_setScrollFromContentPosition:function(e){var t=this._contentPositionToScrollValue(e);this._isDragging()&&(t=this._applyScrollValueTension(t)),this._onSetScroll(t.x,t.y,!1)},_applyScrollValueTension:function(e){var t,i;return t=this._getMaxScrollValue(0),(i=this._toOvershoot(e.x,0))>0?e.x=t+1*Math.log10(1+i):i<0&&(e.x=-1*Math.log10(1-i)),t=this._getMaxScrollValue(1),(i=this._toOvershoot(e.y,1))>0?e.y=t+1*Math.log10(1+i):i<0&&(e.y=-1*Math.log10(1-i)),e},_isDragging:function(){return this._contentDragHelper&&this._contentDragHelper.isDragging},_setScrollbarComponentsEnabled:function(e){this._scrollbarReferences[0].hasComponent("scrollbar")&&(this._scrollbarReferences[0].entity.scrollbar.enabled=e),this._scrollbarReferences[1].hasComponent("scrollbar")&&(this._scrollbarReferences[1].entity.scrollbar.enabled=e)},_setContentDraggingEnabled:function(e){this._contentDragHelper&&(this._contentDragHelper.enabled=e)},_enableContentInput:function(){for(;this._disabledContentInputEntities.length;){var e=this._disabledContentInputEntities.pop();e.element&&(e.element.useInput=!0)}this._disabledContentInput=!1},_disableContentInput:function(){var e=this,t=function t(i){i.element&&i.element.useInput&&(e._disabledContentInputEntities.push(i),i.element.useInput=!1);var r,n,a=i.children;for(r=0,n=a.length;r<n;r++)t(a[r])},i=this._contentReference.entity;if(i){var r,n=i.children,a=n.length;for(r=0;r<a;r++)t(n[r])}this._disabledContentInput=!0},onEnable:function(){this._viewportReference.onParentComponentEnable(),this._contentReference.onParentComponentEnable(),this._scrollbarReferences[0].onParentComponentEnable(),this._scrollbarReferences[1].onParentComponentEnable(),this._setScrollbarComponentsEnabled(!0),this._setContentDraggingEnabled(!0),this._syncAll()},onDisable:function(){this._setScrollbarComponentsEnabled(!1),this._setContentDraggingEnabled(!1)},onRemove:function(){this._toggleLifecycleListeners("off",this.system),this._toggleElementListeners("off"),this._destroyDragHelper()}}),Object.defineProperty(Vh.prototype,"scroll",{get:function(){return this._scroll},set:function(e){this._onSetScroll(e.x,e.y)}});var jh=[{name:"enabled",type:"boolean"},{name:"horizontal",type:"boolean"},{name:"vertical",type:"boolean"},{name:"scrollMode",type:"number"},{name:"bounceAmount",type:"number"},{name:"friction",type:"number"},{name:"dragThreshold",type:"number"},{name:"horizontalScrollbarVisibility",type:"number"},{name:"verticalScrollbarVisibility",type:"number"},{name:"viewportEntity",type:"entity"},{name:"contentEntity",type:"entity"},{name:"horizontalScrollbarEntity",type:"entity"},{name:"verticalScrollbarEntity",type:"entity"}],Wh=function(e){cl.call(this,e),this.id="scrollview",this.ComponentType=Vh,this.DataType=zh,this.schema=jh,this.on("beforeremove",this._onRemoveComponent,this),cl.bind("update",this.onUpdate,this)};function Gh(e,t){ll.call(this,e,t),this._app=e.app,this._handleReference=new Dl(this,"handleEntity",{"element#gain":this._onHandleElementGain,"element#lose":this._onHandleElementLose,"element#set:anchor":this._onSetHandleAlignment,"element#set:margin":this._onSetHandleAlignment,"element#set:pivot":this._onSetHandleAlignment}),this._toggleLifecycleListeners("on")}function Hh(){this.enabled=!0}(Wh.prototype=Object.create(cl.prototype)).constructor=Wh,ll._buildAccessors(Vh.prototype,jh),Object.assign(Wh.prototype,{initializeComponentData:function(e,t,i){void 0===t.dragThreshold&&(t.dragThreshold=10),cl.prototype.initializeComponentData.call(this,e,t,jh)},onUpdate:function(e){var t=this.store;for(var i in t){var r=t[i].entity,n=r.scrollview;n.enabled&&r.enabled&&n.onUpdate()}},_onRemoveComponent:function(e,t){t.onRemove()}}),Gh.prototype=Object.create(ll.prototype),Gh.prototype.constructor=Gh,Object.assign(Gh.prototype,{_toggleLifecycleListeners:function(e){this[e]("set_value",this._onSetValue,this),this[e]("set_handleSize",this._onSetHandleSize,this),this[e]("set_orientation",this._onSetOrientation,this)},_onHandleElementGain:function(){this._destroyDragHelper(),this._handleDragHelper=new Lh(this._handleReference.entity.element,this._getAxis()),this._handleDragHelper.on("drag:move",this._onHandleDrag,this),this._updateHandlePositionAndSize()},_onHandleElementLose:function(){this._destroyDragHelper()},_onHandleDrag:function(e){this._handleReference.entity&&this.enabled&&this.entity.enabled&&(this.value=this._handlePositionToScrollValue(e[this._getAxis()]))},_onSetValue:function(e,t,i){Math.abs(i-t)>1e-5&&(this.data.value=A.clamp(i,0,1),this._updateHandlePositionAndSize(),this.fire("set:value",this.data.value))},_onSetHandleSize:function(e,t,i){Math.abs(i-t)>1e-5&&(this.data.handleSize=A.clamp(i,0,1),this._updateHandlePositionAndSize())},_onSetHandleAlignment:function(){this._updateHandlePositionAndSize()},_onSetOrientation:function(e,t,i){i!==t&&this._handleReference.hasComponent("element")&&(this._handleReference.entity.element[this._getOppositeDimension()]=0)},_updateHandlePositionAndSize:function(){var e=this._handleReference.entity,t=e&&e.element;if(e){var i=e.getLocalPosition();i[this._getAxis()]=this._getHandlePosition(),this._handleReference.entity.setLocalPosition(i)}t&&(t[this._getDimension()]=this._getHandleLength())},_handlePositionToScrollValue:function(e){return e*this._getSign()/this._getUsableTrackLength()},_scrollValueToHandlePosition:function(e){return e*this._getSign()*this._getUsableTrackLength()},_getUsableTrackLength:function(){return Math.max(this._getTrackLength()-this._getHandleLength(),.001)},_getTrackLength:function(){return this.entity.element?0===this.orientation?this.entity.element.calculatedWidth:this.entity.element.calculatedHeight:0},_getHandleLength:function(){return this._getTrackLength()*this.handleSize},_getHandlePosition:function(){return this._scrollValueToHandlePosition(this.value)},_getSign:function(){return 0===this.orientation?1:-1},_getAxis:function(){return 0===this.orientation?"x":"y"},_getDimension:function(){return 0===this.orientation?"width":"height"},_getOppositeDimension:function(){return 0===this.orientation?"height":"width"},_destroyDragHelper:function(){this._handleDragHelper&&this._handleDragHelper.destroy()},_setHandleDraggingEnabled:function(e){this._handleDragHelper&&(this._handleDragHelper.enabled=e)},onEnable:function(){this._handleReference.onParentComponentEnable(),this._setHandleDraggingEnabled(!0)},onDisable:function(){this._setHandleDraggingEnabled(!1)},onRemove:function(){this._destroyDragHelper(),this._toggleLifecycleListeners("off")}});var Yh=[{name:"enabled",type:"boolean"},{name:"orientation",type:"number"},{name:"value",type:"number"},{name:"handleSize",type:"number"},{name:"handleEntity",type:"entity"}];function Xh(e){cl.call(this,e),this.id="scrollbar",this.ComponentType=Gh,this.DataType=Hh,this.schema=Yh,this.on("beforeremove",this._onRemoveComponent,this)}Xh.prototype=Object.create(cl.prototype),Xh.prototype.constructor=Xh,ll._buildAccessors(Gh.prototype,Yh),Object.assign(Xh.prototype,{initializeComponentData:function(e,t,i){cl.prototype.initializeComponentData.call(this,e,t,Yh)},_onRemoveComponent:function(e,t){t.onRemove()}});var Zh=function(e,t){return e%t||0};if(On()?(e.SoundInstance=function(e,t,i){o.call(this),i=i||{},this._volume=void 0!==i.volume?A.clamp(Number(i.volume)||0,0,1):1,this._pitch=void 0!==i.pitch?Math.max(.01,Number(i.pitch)||0):1,this._loop=!(void 0===i.loop||!i.loop),this._sound=t,this._state=2,this._suspended=!1,this._suspendEndEvent=!1,this._suspendInstanceEvents=!1,this._startTime=Math.max(0,Number(i.startTime)||0),this._duration=Math.max(0,Number(i.duration)||0),this._startedAt=0,this._startOffset=null,this._currentTime=0,this._currentOffset=0,this._playWhenLoaded=!0,this._manager=e,this._inputNode=null,this._connectorNode=null,this._firstNode=null,this._lastNode=null,this._initializeNodes(),this._onPlayCallback=i.onPlay,this._onPauseCallback=i.onPause,this._onResumeCallback=i.onResume,this._onStopCallback=i.onStop,this._onEndCallback=i.onEnd,this._endedHandler=this._onEnded.bind(this),this.source=null},e.SoundInstance.prototype=Object.create(o.prototype),e.SoundInstance.prototype.constructor=e.SoundInstance,Object.assign(e.SoundInstance.prototype,{_initializeNodes:function(){this.gain=this._manager.context.createGain(),this._inputNode=this.gain,this._connectorNode=this.gain,this._connectorNode.connect(this._manager.context.destination)},play:function(){2!==this._state&&this.stop(),this.source||this._createSource();var e=Zh(this._startOffset,this.duration);return e=Zh(this._startTime+e,this._sound.duration),this._startOffset=null,this._duration?this.source.start(0,e,this._duration):this.source.start(0,e),this._startedAt=this._manager.context.currentTime,this._currentTime=0,this._currentOffset=e,this._state=0,this._playWhenLoaded=!1,this.volume=this._volume,this.loop=this._loop,this.pitch=this._pitch,this._manager.on("volumechange",this._onManagerVolumeChange,this),this._manager.on("suspend",this._onManagerSuspend,this),this._manager.on("resume",this._onManagerResume,this),this._manager.on("destroy",this._onManagerDestroy,this),this._manager.suspended&&this._onManagerSuspend(),this._suspendInstanceEvents||this._onPlay(),!0},pause:function(){return!(0!==this._state||!this.source)&&(this._updateCurrentTime(),this._state=1,this._suspendEndEvent=!0,this.source.stop(0),this.source=null,this._playWhenLoaded=!1,this._startOffset=null,this._suspendInstanceEvents||this._onPause(),!0)},resume:function(){if(1!==this._state)return!1;this.source||this._createSource();var e=this.currentTime;return null!==this._startOffset&&(e=Zh(this._startOffset,this.duration),e=Zh(this._startTime+e,this._sound.duration),this._startOffset=null),this._duration?this.source.start(0,e,this._duration):this.source.start(0,e),this._state=0,this._startedAt=this._manager.context.currentTime,this._currentOffset=e,this.volume=this._volume,this.loop=this._loop,this.pitch=this._pitch,this._playWhenLoaded=!1,this._suspendInstanceEvents||this._onResume(),!0},stop:function(){return!(2===this._state||!this.source)&&(this._manager.off("volumechange",this._onManagerVolumeChange,this),this._manager.off("suspend",this._onManagerSuspend,this),this._manager.off("resume",this._onManagerResume,this),this._manager.off("destroy",this._onManagerDestroy,this),this._startedAt=0,this._currentTime=0,this._currentOffset=0,this._startOffset=null,this._playWhenLoaded=!1,this._suspendEndEvent=!0,0===this._state&&this.source.stop(0),this.source=null,this._state=2,this._suspendInstanceEvents||this._onStop(),!0)},setExternalNodes:function(e,t){if(e){t||(t=e);var i=this._manager.context.destination;this._firstNode!==e&&(this._firstNode?this._connectorNode.disconnect(this._firstNode):this._connectorNode.disconnect(i),this._firstNode=e,this._connectorNode.connect(e)),this._lastNode!==t&&(this._lastNode&&this._lastNode.disconnect(i),this._lastNode=t,this._lastNode.connect(i))}else console.error("The firstNode must be a valid Audio Node")},clearExternalNodes:function(){var e=this._manager.context.destination;this._firstNode&&(this._connectorNode.disconnect(this._firstNode),this._firstNode=null),this._lastNode&&(this._lastNode.disconnect(e),this._lastNode=null),this._connectorNode.connect(e)},getExternalNodes:function(){return[this._firstNode,this._lastNode]},_createSource:function(){if(!this._sound)return null;var e=this._manager.context;return this._sound.buffer&&(this.source=e.createBufferSource(),this.source.buffer=this._sound.buffer,this.source.connect(this._inputNode),this.source.onended=this._endedHandler,this.source.loopStart=Zh(this._startTime,this.source.buffer.duration),this._duration&&(this.source.loopEnd=Math.max(this.source.loopStart,Zh(this._startTime+this._duration,this.source.buffer.duration)))),this.source},_updateCurrentTime:function(){this._currentTime=Zh((this._manager.context.currentTime-this._startedAt)*this._pitch+this._currentOffset,this.duration)},_onManagerDestroy:function(){this.source&&0===this._state&&(this.source.stop(0),this.source=null)}}),Object.defineProperty(e.SoundInstance.prototype,"volume",{get:function(){return this._volume},set:function(e){e=A.clamp(e,0,1),this._volume=e,this.gain&&(this.gain.gain.value=e*this._manager.volume)}}),Object.defineProperty(e.SoundInstance.prototype,"pitch",{get:function(){return this._pitch},set:function(e){this._currentOffset=this.currentTime,this._startedAt=this._manager.context.currentTime,this._pitch=Math.max(Number(e)||0,.01),this.source&&(this.source.playbackRate.value=this._pitch)}}),Object.defineProperty(e.SoundInstance.prototype,"loop",{get:function(){return this._loop},set:function(e){this._loop=!!e,this.source&&(this.source.loop=this._loop)}}),Object.defineProperty(e.SoundInstance.prototype,"sound",{get:function(){return this._sound},set:function(e){this._sound=e,2!==this._state?this.stop():this._createSource()}}),Object.defineProperty(e.SoundInstance.prototype,"currentTime",{get:function(){return null!==this._startOffset?this._startOffset:1===this._state?this._currentTime:2!==this._state&&this.source?(this._updateCurrentTime(),this._currentTime):0},set:function(e){if(!(e<0))if(0===this._state){this.stop();var t=this._suspendInstanceEvents;this._suspendInstanceEvents=!0,this._startOffset=e,this.play(),this._suspendInstanceEvents=t}else this._startOffset=e,this._currentTime=e}})):Cn()?(e.SoundInstance=function(e,t,i){o.call(this),i=i||{},this._volume=void 0!==i.volume?A.clamp(Number(i.volume)||0,0,1):1,this._pitch=void 0!==i.pitch?Math.max(.01,Number(i.pitch)||0):1,this._loop=!(void 0===i.loop||!i.loop),this._sound=t,this._state=2,this._suspended=!1,this._suspendEndEvent=!1,this._suspendInstanceEvents=!1,this._playWhenLoaded=!0,this._startTime=Math.max(0,Number(i.startTime)||0),this._duration=Math.max(0,Number(i.duration)||0),this._startOffset=null,this._isReady=!1,this._manager=e,this._loadedMetadataHandler=this._onLoadedMetadata.bind(this),this._timeUpdateHandler=this._onTimeUpdate.bind(this),this._endedHandler=this._onEnded.bind(this),this._onPlayCallback=i.onPlay,this._onPauseCallback=i.onPause,this._onResumeCallback=i.onResume,this._onStopCallback=i.onStop,this._onEndCallback=i.onEnd,this.source=null,this._createSource()},e.SoundInstance.prototype=Object.create(o.prototype),e.SoundInstance.prototype.constructor=e.SoundInstance,Object.assign(e.SoundInstance.prototype,{play:function(){return 2!==this._state&&this.stop(),!(!this.source&&!this._createSource())&&(this.volume=this._volume,this.pitch=this._pitch,this.loop=this._loop,this.source.play(),this._state=0,this._playWhenLoaded=!1,this._manager.on("volumechange",this._onManagerVolumeChange,this),this._manager.on("suspend",this._onManagerSuspend,this),this._manager.on("resume",this._onManagerResume,this),this._manager.on("destroy",this._onManagerDestroy,this),this._manager.suspended&&this._onManagerSuspend(),this._suspendInstanceEvents||this._onPlay(),!0)},pause:function(){return!(!this.source||0!==this._state)&&(this._suspendEndEvent=!0,this.source.pause(),this._playWhenLoaded=!1,this._state=1,this._startOffset=null,this._suspendInstanceEvents||this._onPause(),!0)},resume:function(){return!(!this.source||1!==this._state)&&(this._state=0,this._playWhenLoaded=!1,this.source.paused&&(this.source.play(),this._suspendInstanceEvents||this._onResume()),!0)},stop:function(){return!(!this.source||2===this._state)&&(this._manager.off("volumechange",this._onManagerVolumeChange,this),this._manager.off("suspend",this._onManagerSuspend,this),this._manager.off("resume",this._onManagerResume,this),this._manager.off("destroy",this._onManagerDestroy,this),this._suspendEndEvent=!0,this.source.pause(),this._playWhenLoaded=!1,this._state=2,this._startOffset=null,this._suspendInstanceEvents||this._onStop(),!0)},setExternalNodes:function(){},clearExternalNodes:function(){},getExternalNodes:function(){return[null,null]},_onLoadedMetadata:function(){this.source.removeEventListener("loadedmetadata",this._loadedMetadataHandler),this._isReady=!0;var e=Zh(this._startOffset,this.duration);e=Zh(this._startTime+e,this._sound.duration),this._startOffset=null,this.source.currentTime=e},_createSource:function(){return this._sound&&this._sound.audio&&(this._isReady=!1,this.source=this._sound.audio.cloneNode(!0),this.source.addEventListener("loadedmetadata",this._loadedMetadataHandler),this.source.addEventListener("timeupdate",this._timeUpdateHandler),this.source.onended=this._endedHandler),this.source},_onTimeUpdate:function(){this._duration&&this.source.currentTime>Zh(this._startTime+this._duration,this.source.duration)&&(this.loop?this.source.currentTime=Zh(this._startTime,this.source.duration):(this.source.removeEventListener("timeupdate",this._timeUpdateHandler),this.source.pause(),this._onEnded()))},_onManagerDestroy:function(){this.source&&this.source.pause()}}),Object.defineProperty(e.SoundInstance.prototype,"volume",{get:function(){return this._volume},set:function(e){e=A.clamp(e,0,1),this._volume=e,this.source&&(this.source.volume=e*this._manager.volume)}}),Object.defineProperty(e.SoundInstance.prototype,"pitch",{get:function(){return this._pitch},set:function(e){this._pitch=Math.max(Number(e)||0,.01),this.source&&(this.source.playbackRate=this._pitch)}}),Object.defineProperty(e.SoundInstance.prototype,"loop",{get:function(){return this._loop},set:function(e){this._loop=!!e,this.source&&(this.source.loop=this._loop)}}),Object.defineProperty(e.SoundInstance.prototype,"sound",{get:function(){return this._sound},set:function(e){this.stop(),this._sound=e}}),Object.defineProperty(e.SoundInstance.prototype,"currentTime",{get:function(){return null!==this._startOffset?this._startOffset:2!==this._state&&this.source?this.source.currentTime-this._startTime:0},set:function(e){e<0||(this._startOffset=e,this.source&&this._isReady&&(this.source.currentTime=Zh(this._startTime+Zh(e,this.duration),this._sound.duration),this._startOffset=null))}})):e.SoundInstance=function(){},Object.assign(e.SoundInstance.prototype,{_onPlay:function(){this.fire("play"),this._onPlayCallback&&this._onPlayCallback(this)},_onPause:function(){this.fire("pause"),this._onPauseCallback&&this._onPauseCallback(this)},_onResume:function(){this.fire("resume"),this._onResumeCallback&&this._onResumeCallback(this)},_onStop:function(){this.fire("stop"),this._onStopCallback&&this._onStopCallback(this)},_onEnded:function(){this._suspendEndEvent?this._suspendEndEvent=!1:(this.fire("end"),this._onEndCallback&&this._onEndCallback(this),this.stop())},_onManagerVolumeChange:function(){this.volume=this._volume},_onManagerSuspend:function(){0!==this._state||this._suspended||(this._suspended=!0,this.pause())},_onManagerResume:function(){this._suspended&&(this._suspended=!1,this.resume())}}),Object.defineProperty(e.SoundInstance.prototype,"startTime",{get:function(){return this._startTime},set:function(e){this._startTime=Math.max(0,Number(e)||0);var t=0===this._state;this.stop(),t&&this.play()}}),Object.defineProperty(e.SoundInstance.prototype,"duration",{get:function(){return this._sound?this._duration?Zh(this._duration,this._sound.duration):this._sound.duration:0},set:function(e){this._duration=Math.max(0,Number(e)||0);var t=0===this._state;this.stop(),t&&this.play()}}),Object.defineProperty(e.SoundInstance.prototype,"isPlaying",{get:function(){return 0===this._state}}),Object.defineProperty(e.SoundInstance.prototype,"isPaused",{get:function(){return 1===this._state}}),Object.defineProperty(e.SoundInstance.prototype,"isStopped",{get:function(){return 2===this._state}}),Object.defineProperty(e.SoundInstance.prototype,"isSuspended",{get:function(){return this._suspended}}),On())e.SoundInstance3d=function(t,i,r){e.SoundInstance.call(this,t,i,r),r=r||{},this._position=new I,r.position&&(this.position=r.position),this._velocity=new I,r.velocity&&(this.velocity=r.velocity),this.maxDistance=void 0!==r.maxDistance?Number(r.maxDistance):1e4,this.refDistance=void 0!==r.refDistance?Number(r.refDistance):1,this.rollOffFactor=void 0!==r.rollOffFactor?Number(r.rollOffFactor):1,this.distanceModel=void 0!==r.distanceModel?r.distanceModel:"linear"},e.SoundInstance3d.prototype=Object.create(e.SoundInstance.prototype),e.SoundInstance3d.prototype.constructor=e.SoundInstance3d,Object.assign(e.SoundInstance3d.prototype,{_initializeNodes:function(){this.gain=this._manager.context.createGain(),this.panner=this._manager.context.createPanner(),this.panner.connect(this.gain),this._inputNode=this.panner,this._connectorNode=this.gain,this._connectorNode.connect(this._manager.context.destination)}}),Object.defineProperty(e.SoundInstance3d.prototype,"position",{get:function(){return this._position},set:function(e){this._position.copy(e),this.panner.setPosition(e.x,e.y,e.z)}}),Object.defineProperty(e.SoundInstance3d.prototype,"velocity",{get:function(){return this._velocity},set:function(e){this._velocity.copy(e),this.panner.setVelocity(e.x,e.y,e.z)}}),Object.defineProperty(e.SoundInstance3d.prototype,"maxDistance",{get:function(){return this.panner.maxDistance},set:function(e){this.panner.maxDistance=e}}),Object.defineProperty(e.SoundInstance3d.prototype,"refDistance",{get:function(){return this.panner.refDistance},set:function(e){this.panner.refDistance=e}}),Object.defineProperty(e.SoundInstance3d.prototype,"rollOffFactor",{get:function(){return this.panner.rolloffFactor},set:function(e){this.panner.rolloffFactor=e}}),Object.defineProperty(e.SoundInstance3d.prototype,"distanceModel",{get:function(){return this.panner.distanceModel},set:function(e){this.panner.distanceModel=e}});else if(Cn()){var Qh=new I;e.SoundInstance3d=function(t,i,r){e.SoundInstance.call(this,t,i,r),r=r||{},this._position=new I,r.position&&(this.position=r.position),this._velocity=new I,r.velocity&&(this.velocity=r.velocity),this._maxDistance=void 0!==r.maxDistance?Number(r.maxDistance):1e4,this._refDistance=void 0!==r.refDistance?Number(r.refDistance):1,this._rollOffFactor=void 0!==r.rollOffFactor?Number(r.rollOffFactor):1,this._distanceModel=void 0!==r.distanceModel?r.distanceModel:"linear"},e.SoundInstance3d.prototype=Object.create(e.SoundInstance.prototype),e.SoundInstance3d.prototype.constructor=e.SoundInstance3d,Object.defineProperty(e.SoundInstance3d.prototype,"position",{get:function(){return this._position},set:function(e){if(this._position.copy(e),this.source){var t=function(e,t,i,r,n,a){var s=(Qh=Qh.sub2(e,t)).length();if(s<i)return 1;if(s>r)return 0;var o=0;return"linear"===a?o=1-n*(s-i)/(r-i):"inverse"===a?o=i/(i+n*(s-i)):"exponential"===a&&(o=Math.pow(s/i,-n)),A.clamp(o,0,1)}(this._manager.listener.getPosition(),this._position,this.refDistance,this.maxDistance,this.rollOffFactor,this.distanceModel),i=this.volume;this.source.volume=i*t*this._manager.volume}}}),Object.defineProperty(e.SoundInstance3d.prototype,"velocity",{get:function(){return this._velocity},set:function(e){this._velocity.copy(e)}}),Object.defineProperty(e.SoundInstance3d.prototype,"maxDistance",{get:function(){return this._maxDistance},set:function(e){this._maxDistance=e}}),Object.defineProperty(e.SoundInstance3d.prototype,"refDistance",{get:function(){return this._refDistance},set:function(e){this._refDistance=e}}),Object.defineProperty(e.SoundInstance3d.prototype,"rollOffFactor",{get:function(){return this._rollOffFactor},set:function(e){this._rollOffFactor=e}}),Object.defineProperty(e.SoundInstance3d.prototype,"distanceModel",{get:function(){return this._distanceModel},set:function(e){this._distanceModel=e}})}else e.SoundInstance3d=function(){};var Jh={volume:0,pitch:0,loop:!1,startTime:0,duration:0,position:new I,maxDistance:0,refDistance:0,rollOffFactor:0,distanceModel:0,onPlay:null,onPause:null,onResume:null,onStop:null,onEnd:null};function qh(e,t,i){o.call(this),this._component=e,this._assets=e.system.app.assets,this._manager=e.system.manager,this.name=t||"Untitled",i=i||{},this._volume=void 0!==i.volume?A.clamp(Number(i.volume)||0,0,1):1,this._pitch=void 0!==i.pitch?Math.max(.01,Number(i.pitch)||0):1,this._loop=!(void 0===i.loop||!i.loop),this._duration=i.duration>0?i.duration:null,this._startTime=Math.max(0,Number(i.startTime)||0),this._overlap=!!i.overlap,this._autoPlay=!!i.autoPlay,this._firstNode=null,this._lastNode=null,this._asset=i.asset,this._asset instanceof pa&&(this._asset=this._asset.id),this._onInstancePlayHandler=this._onInstancePlay.bind(this),this._onInstancePauseHandler=this._onInstancePause.bind(this),this._onInstanceResumeHandler=this._onInstanceResume.bind(this),this._onInstanceStopHandler=this._onInstanceStop.bind(this),this._onInstanceEndHandler=this._onInstanceEnd.bind(this),this.instances=[]}function Kh(e,t){ll.call(this,e,t),this._volume=1,this._pitch=1,this._positional=!0,this._refDistance=1,this._maxDistance=1e4,this._rollOffFactor=1,this._distanceModel="linear",this._slots={},this._playingBeforeDisable={}}function $h(e,t){Object.defineProperty(Kh.prototype,e,{get:function(){return this[t]},set:function(i){this[t]=i;var r=this._slots;for(var n in r){var a=r[n];if(!a.overlap)for(var s=a.instances,o=0,l=s.length;o<l;o++)s[o][e]=i}}})}function eu(e,t){Object.defineProperty(Kh.prototype,e,{get:function(){return this[t]},set:function(i){this[t]=i;var r=this._slots;for(var n in r){var a=r[n];if(!a.overlap)for(var s=a.instances,o=0,l=s.length;o<l;o++)s[o][e]=a[e]*i}}})}function tu(){this.enabled=!0}qh.prototype=Object.create(o.prototype),qh.prototype.constructor=qh,Object.assign(qh.prototype,{play:function(){if(this.overlap||this.stop(),this.isLoaded||this._hasAsset()){var e=this._createInstance();if(this.instances.push(e),this.isLoaded)e.play();else{var t=function(t){var i=e._playWhenLoaded;e.sound=t,i&&e.play()};this.off("load",t),this.once("load",t),this.load()}return e}},pause:function(){for(var e=!1,t=this.instances,i=0,r=t.length;i<r;i++)t[i].pause()&&(e=!0);return e},resume:function(){for(var e=!1,t=this.instances,i=0,r=t.length;i<r;i++)t[i].resume()&&(e=!0);return e},stop:function(){for(var e=!1,t=this.instances,i=t.length;i--;)t[i].stop(),e=!0;return t.length=0,e},load:function(){if(this._hasAsset()){var e=this._assets.get(this._asset);if(!e)return this._assets.off("add:"+this._asset,this._onAssetAdd,this),void this._assets.once("add:"+this._asset,this._onAssetAdd,this);if(e.off("remove",this._onAssetRemoved,this),e.on("remove",this._onAssetRemoved,this),!e.resource)return e.off("load",this._onAssetLoad,this),e.once("load",this._onAssetLoad,this),void this._assets.load(e);this.fire("load",e.resource)}},setExternalNodes:function(e,t){if(e){if(t||(t=e),this._firstNode=e,this._lastNode=t,!this._overlap)for(var i=this.instances,r=0,n=i.length;r<n;r++)i[r].setExternalNodes(e,t)}else console.error("The firstNode must have a valid AudioNode")},clearExternalNodes:function(){if(this._firstNode=null,this._lastNode=null,!this._overlap)for(var e=this.instances,t=0,i=e.length;t<i;t++)e[t].clearExternalNodes()},getExternalNodes:function(){return[this._firstNode,this._lastNode]},_hasAsset:function(){return null!=this._asset},_createInstance:function(){var t=null,i=this._component,r=null;if(this._hasAsset()){var n=this._assets.get(this._asset);n&&(r=n.resource)}var a=Jh;return a.volume=this._volume*i.volume,a.pitch=this._pitch*i.pitch,a.loop=this._loop,a.startTime=this._startTime,a.duration=this._duration,a.onPlay=this._onInstancePlayHandler,a.onPause=this._onInstancePauseHandler,a.onResume=this._onInstanceResumeHandler,a.onStop=this._onInstanceStopHandler,a.onEnd=this._onInstanceEndHandler,i.positional?(a.position.copy(i.entity.getPosition()),a.maxDistance=i.maxDistance,a.refDistance=i.refDistance,a.rollOffFactor=i.rollOffFactor,a.distanceModel=i.distanceModel,t=new e.SoundInstance3d(this._manager,r,a)):t=new e.SoundInstance(this._manager,r,a),this._firstNode&&t.setExternalNodes(this._firstNode,this._lastNode),t},_onInstancePlay:function(e){this.fire("play",e),this._component.fire("play",this,e)},_onInstancePause:function(e){this.fire("pause",e),this._component.fire("pause",this,e)},_onInstanceResume:function(e){this.fire("resume",e),this._component.fire("resume",this,e)},_onInstanceStop:function(e){var t=this.instances.indexOf(e);-1!==t&&this.instances.splice(t,1),this.fire("stop",e),this._component.fire("stop",this,e)},_onInstanceEnd:function(e){var t=this.instances.indexOf(e);-1!==t&&this.instances.splice(t,1),this.fire("end",e),this._component.fire("end",this,e)},_onAssetAdd:function(e){this.load()},_onAssetLoad:function(e){this.load()},_onAssetRemoved:function(e){e.off("remove",this._onAssetRemoved,this),this._assets.off("add:"+e.id,this._onAssetAdd,this),this.stop()},updatePosition:function(e){for(var t=this.instances,i=0,r=t.length;i<r;i++)t[i].position=e}}),Object.defineProperty(qh.prototype,"volume",{get:function(){return this._volume},set:function(e){if(this._volume=A.clamp(Number(e)||0,0,1),!this._overlap)for(var t=this.instances,i=0,r=t.length;i<r;i++)t[i].volume=this._volume*this._component.volume}}),Object.defineProperty(qh.prototype,"pitch",{get:function(){return this._pitch},set:function(e){if(this._pitch=Math.max(Number(e)||0,.01),!this._overlap)for(var t=this.instances,i=0,r=t.length;i<r;i++)t[i].pitch=this.pitch*this._component.pitch}}),Object.defineProperty(qh.prototype,"loop",{get:function(){return this._loop},set:function(e){this._loop=!!e;for(var t=this.instances,i=0,r=t.length;i<r;i++)t[i].loop=this._loop}}),Object.defineProperty(qh.prototype,"autoPlay",{get:function(){return this._autoPlay},set:function(e){this._autoPlay=!!e}}),Object.defineProperty(qh.prototype,"overlap",{get:function(){return this._overlap},set:function(e){this._overlap=!!e}}),Object.defineProperty(qh.prototype,"startTime",{get:function(){return this._startTime},set:function(e){if(this._startTime=Math.max(0,Number(e)||0),!this._overlap)for(var t=this.instances,i=0,r=t.length;i<r;i++)t[i].startTime=this._startTime}}),Object.defineProperty(qh.prototype,"duration",{get:function(){var e=0;if(this._hasAsset()){var t=this._assets.get(this._asset);e=t.resource?t.resource.duration:0}return null!=this._duration?this._duration%(e||1):e},set:function(e){if(this._duration=Math.max(0,Number(e)||0)||null,!this._overlap)for(var t=this.instances,i=0,r=t.length;i<r;i++)t[i].duration=this._duration}}),Object.defineProperty(qh.prototype,"asset",{get:function(){return this._asset},set:function(e){var t=this._asset;if(t){this._assets.off("add:"+t,this._onAssetAdd,this);var i=this._assets.get(t);i&&i.off("remove",this._onAssetRemoved,this)}this._asset=e,this._asset instanceof pa&&(this._asset=this._asset.id),this._hasAsset()&&this._component.enabled&&this._component.entity.enabled&&this.load()}}),Object.defineProperty(qh.prototype,"isLoaded",{get:function(){if(this._hasAsset()){var e=this._assets.get(this._asset);if(e)return!!e.resource}return!1}}),Object.defineProperty(qh.prototype,"isPlaying",{get:function(){for(var e=this.instances,t=0,i=e.length;t<i;t++)if(e[t].isPlaying)return!0;return!1}}),Object.defineProperty(qh.prototype,"isPaused",{get:function(){var e=this.instances,t=e.length;if(0===t)return!1;for(var i=0;i<t;i++)if(!e[i].isPaused)return!1;return!0}}),Object.defineProperty(qh.prototype,"isStopped",{get:function(){for(var e=this.instances,t=0,i=e.length;t<i;t++)if(!e[t].isStopped)return!1;return!0}}),Kh.prototype=Object.create(ll.prototype),Kh.prototype.constructor=Kh,eu("pitch","_pitch"),eu("volume","_volume"),$h("refDistance","_refDistance"),$h("maxDistance","_maxDistance"),$h("rollOffFactor","_rollOffFactor"),$h("distanceModel","_distanceModel"),Object.defineProperty(Kh.prototype,"positional",{get:function(){return this._positional},set:function(e){this._positional=e;var t=this._slots;for(var i in t){var r=t[i];if(!r.overlap)for(var n=r.instances,a=0,s=n.length;a<s;a++){var o=n[a].isPlaying||n[a].isSuspended,l=n[a].currentTime;o&&n[a].stop(),n[a]=r._createInstance(),o&&(n[a].play(),n[a].currentTime=l)}}}}),Object.defineProperty(Kh.prototype,"slots",{get:function(){return this._slots},set:function(e){var t,i=this._slots;if(i)for(t in i)i[t].stop();var r={};for(t in e)e[t]instanceof qh?r[e[t].name]=e[t]:e[t].name&&(r[e[t].name]=new qh(this,e[t].name,e[t]));this._slots=r,this.enabled&&this.entity.enabled&&this.onEnable()}}),Object.assign(Kh.prototype,{onEnable:function(){if(!this.system._inTools){var e=this._slots,t=this._playingBeforeDisable;for(var i in e){var r=e[i];r.autoPlay&&r.isStopped?r.play():t[i]?r.resume():r.isLoaded||r.load()}}},onDisable:function(){var e=this._slots,t={};for(var i in e)e[i].overlap||e[i].isPlaying&&(e[i].pause(),t[i]=!0);this._playingBeforeDisable=t},onRemove:function(){this.off()},addSlot:function(e,t){var i=this._slots;if(i[e])return null;var r=new qh(this,e,t);return i[e]=r,r.autoPlay&&this.enabled&&this.entity.enabled&&r.play(),r},removeSlot:function(e){var t=this._slots;t[e]&&(t[e].stop(),delete t[e])},slot:function(e){return this._slots[e]},play:function(e){if(!this.enabled||!this.entity.enabled)return null;var t=this._slots[e];return t?t.play():null},pause:function(e){var t,i=this._slots;if(e){if(!(t=i[e]))return;t.pause()}else for(var r in i)i[r].pause()},resume:function(e){var t=this._slots;if(e){var i=t[e];if(!i)return;i.isPaused&&i.resume()}else for(var r in t)t[r].resume()},stop:function(e){var t=this._slots;if(e){var i=t[e];if(!i)return;i.stop()}else for(var r in t)t[r].stop()}});var iu=["enabled"],ru=function(e,t){cl.call(this,e),this.id="sound",this.ComponentType=Kh,this.DataType=tu,this.schema=iu,this.manager=t,cl.bind("update",this.onUpdate,this),this.on("beforeremove",this.onBeforeRemove,this)};function nu(e,t){o.call(this),this._component=e,this._frame=0,this._sprite=null,this._spriteAsset=null,this.spriteAsset=t.spriteAsset,this.name=t.name,this.fps=t.fps||0,this.loop=t.loop||!1,this._playing=!1,this._paused=!1,this._time=0}(ru.prototype=Object.create(cl.prototype)).constructor=ru,ll._buildAccessors(Kh.prototype,iu),Object.assign(ru.prototype,{initializeComponentData:function(e,t,i){i=["volume","pitch","positional","refDistance","maxDistance","rollOffFactor","distanceModel","slots"];for(var r=0;r<i.length;r++)t.hasOwnProperty(i[r])&&(e[i[r]]=t[i[r]]);cl.prototype.initializeComponentData.call(this,e,t,["enabled"])},cloneComponent:function(e,t){var i=e.sound,r=i.slots,n={};for(var a in r){var s=r[a];n[a]={name:s.name,volume:s.volume,pitch:s.pitch,loop:s.loop,duration:s.duration,startTime:s.startTime,overlap:s.overlap,autoPlay:s.autoPlay,asset:s.asset}}var o={distanceModel:i.distanceModel,enabled:i.enabled,maxDistance:i.maxDistance,pitch:i.pitch,positional:i.positional,refDistance:i.refDistance,rollOffFactor:i.rollOffFactor,slots:n,volume:i.volume};return this.addComponent(t,o)},onUpdate:function(e){var t=this.store;for(var i in t)if(t.hasOwnProperty(i)){var r=t[i].entity;if(r.enabled){var n=r.sound;if(n.enabled&&n.positional){var a=r.getPosition(),s=n.slots;for(var o in s)s[o].updatePosition(a)}}}},onBeforeRemove:function(e,t){var i=t.slots;for(var r in i)i[r].overlap||i[r].stop();t.onRemove()}}),Object.defineProperty(ru.prototype,"volume",{get:function(){return this.manager.volume},set:function(e){this.manager.volume=e}}),Object.defineProperty(ru.prototype,"context",{get:function(){return On()?this.manager.context:null}}),nu.prototype=Object.create(o.prototype),nu.prototype.constructor=nu,Object.assign(nu.prototype,{_onSpriteAssetAdded:function(e){this._component.system.app.assets.off("add:"+e.id,this._onSpriteAssetAdded,this),this._spriteAsset===e.id&&this._bindSpriteAsset(e)},_bindSpriteAsset:function(e){e.on("load",this._onSpriteAssetLoad,this),e.on("remove",this._onSpriteAssetRemove,this),e.resource?this._onSpriteAssetLoad(e):this._component.system.app.assets.load(e)},_unbindSpriteAsset:function(e){e.off("load",this._onSpriteAssetLoad,this),e.off("remove",this._onSpriteAssetRemove,this),e.resource&&e.resource.atlas&&this._component.system.app.assets.off("load:"+e.data.textureAtlasAsset,this._onTextureAtlasLoad,this)},_onSpriteAssetLoad:function(e){if(e.resource)if(e.resource.atlas)this.sprite=e.resource;else{var t=e.data.textureAtlasAsset,i=this._component.system.app.assets;i.off("load:"+t,this._onTextureAtlasLoad,this),i.once("load:"+t,this._onTextureAtlasLoad,this)}else this.sprite=null},_onTextureAtlasLoad:function(e){var t=this._spriteAsset;t instanceof pa?this._onSpriteAssetLoad(t):this._onSpriteAssetLoad(this._component.system.app.assets.get(t))},_onSpriteAssetRemove:function(e){this.sprite=null},_onSpriteMeshesChange:function(){this._component.currentClip===this&&this._component._showFrame(this.frame)},_onSpritePpuChanged:function(){this._component.currentClip===this&&0!==this.sprite.renderMode&&this._component._showFrame(this.frame)},_update:function(e){if(0!==this.fps&&this._playing&&!this._paused&&this._sprite){var t=this.fps<0?-1:1,i=this._time+e*this._component.speed*t,r=this.duration,n=i>r||i<0;this._setTime(i);var a=this.frame;(a=this._sprite?Math.floor(this._sprite.frameKeys.length*this._time/r):0)!==this._frame&&this._setFrame(a),n&&(this.loop?(this.fire("loop"),this._component.fire("loop",this)):(this._playing=!1,this._paused=!1,this.fire("end"),this._component.fire("end",this)))}},_setTime:function(e){this._time=e;var t=this.duration;this._time<0?this.loop?this._time=this._time%t+t:this._time=0:this._time>t&&(this.loop?this._time%=t:this._time=t)},_setFrame:function(e){this._sprite?this._frame=A.clamp(e,0,this._sprite.frameKeys.length-1):this._frame=e,this._component.currentClip===this&&this._component._showFrame(this._frame)},_destroy:function(){this._sprite&&(this.sprite=null),this._spriteAsset&&(this.spriteAsset=null)},play:function(){this._playing||(this._playing=!0,this._paused=!1,this.frame=0,this.fire("play"),this._component.fire("play",this))},pause:function(){this._playing&&!this._paused&&(this._paused=!0,this.fire("pause"),this._component.fire("pause",this))},resume:function(){this._paused&&(this._paused=!1,this.fire("resume"),this._component.fire("resume",this))},stop:function(){this._playing&&(this._playing=!1,this._paused=!1,this._time=0,this.frame=0,this.fire("stop"),this._component.fire("stop",this))}}),Object.defineProperty(nu.prototype,"spriteAsset",{get:function(){return this._spriteAsset},set:function(e){var t=this._component.system.app.assets,i=e;if(e instanceof pa&&(i=e.id),this._spriteAsset!==i){if(this._spriteAsset){var r=t.get(this._spriteAsset);r&&this._unbindSpriteAsset(r)}if(this._spriteAsset=i,this._spriteAsset){var n=t.get(this._spriteAsset);n?this._bindSpriteAsset(n):(this.sprite=null,t.on("add:"+this._spriteAsset,this._onSpriteAssetAdded,this))}else this.sprite=null}}}),Object.defineProperty(nu.prototype,"sprite",{get:function(){return this._sprite},set:function(e){var t;this._sprite&&(this._sprite.off("set:meshes",this._onSpriteMeshesChange,this),this._sprite.off("set:pixelsPerUnit",this._onSpritePpuChanged,this),this._sprite.off("set:atlas",this._onSpriteMeshesChange,this),this._sprite.atlas&&this._sprite.atlas.off("set:texture",this._onSpriteMeshesChange,this)),this._sprite=e,this._sprite&&(this._sprite.on("set:meshes",this._onSpriteMeshesChange,this),this._sprite.on("set:pixelsPerUnit",this._onSpritePpuChanged,this),this._sprite.on("set:atlas",this._onSpriteMeshesChange,this),this._sprite.atlas&&this._sprite.atlas.on("set:texture",this._onSpriteMeshesChange,this)),this._component.currentClip===this&&(e&&e.atlas?(e.atlas.texture&&((t=this._component._meshInstance)&&(t.setParameter("texture_emissiveMap",e.atlas.texture),t.setParameter("texture_opacityMap",e.atlas.texture)),this._component.enabled&&this._component.entity.enabled&&this._component._showModel()),this.time&&this.fps?this.time=this.time:this.frame=this.frame):((t=this._component._meshInstance)&&(t.deleteParameter("texture_emissiveMap"),t.deleteParameter("texture_opacityMap")),this._component._hideModel()))}}),Object.defineProperty(nu.prototype,"frame",{get:function(){return this._frame},set:function(e){this._setFrame(e);var t=this.fps||Number.MIN_VALUE;this._setTime(this._frame/t)}}),Object.defineProperty(nu.prototype,"isPlaying",{get:function(){return this._playing}}),Object.defineProperty(nu.prototype,"isPaused",{get:function(){return this._paused}}),Object.defineProperty(nu.prototype,"duration",{get:function(){if(this._sprite){var e=this.fps||Number.MIN_VALUE;return this._sprite.frameKeys.length/Math.abs(e)}return 0}}),Object.defineProperty(nu.prototype,"time",{get:function(){return this._time},set:function(e){this._setTime(e),this._sprite?this.frame=Math.min(this._sprite.frameKeys.length-1,Math.floor(this._time*Math.abs(this.fps))):this.frame=0}});var au=function(e,t){ll.call(this,e,t),this._type="simple",this._material=e.defaultMaterial,this._color=new v(1,1,1,1),this._colorUniform=new Float32Array(3),this._speed=1,this._flipX=!1,this._flipY=!1,this._width=1,this._height=1,this._drawOrder=0,this._layers=[0],this._outerScale=new O(1,1),this._outerScaleUniform=new Float32Array(2),this._innerOffset=new D,this._innerOffsetUniform=new Float32Array(4),this._atlasRect=new D,this._atlasRectUniform=new Float32Array(4),this._batchGroupId=-1,this._batchGroup=null,this._node=new ei,this._model=new Tt,this._model.graph=this._node,this._meshInstance=null,t.addChild(this._model.graph),this._model._entity=t,this._updateAabbFunc=this._updateAabb.bind(this),this._addedModel=!1,this._autoPlayClip=null,this._clips={},this._defaultClip=new nu(this,{name:this.entity.name,fps:0,loop:!1,spriteAsset:null}),this._currentClip=this._defaultClip};function su(){this.enabled=!0}(au.prototype=Object.create(ll.prototype)).constructor=au,Object.assign(au.prototype,{onEnable:function(){var e=this.system.app,t=e.scene;t.on("set:layers",this._onLayersChanged,this),t.layers&&(t.layers.on("add",this._onLayerAdded,this),t.layers.on("remove",this._onLayerRemoved,this)),this._showModel(),this._autoPlayClip&&this._tryAutoPlay(),this._batchGroupId>=0&&e.batcher.insert(Et.SPRITE,this._batchGroupId,this.entity)},onDisable:function(){var e=this.system.app,t=e.scene;t.off("set:layers",this._onLayersChanged,this),t.layers&&(t.layers.off("add",this._onLayerAdded,this),t.layers.off("remove",this._onLayerRemoved,this)),this.stop(),this._hideModel(),this._batchGroupId>=0&&e.batcher.remove(Et.SPRITE,this._batchGroupId,this.entity)},onDestroy:function(){for(var e in this._currentClip=null,this._defaultClip&&(this._defaultClip._destroy(),this._defaultClip=null),this._clips)this._clips[e]._destroy();this._clips=null,this._hideModel(),this._model=null,this._node&&(this._node.parent&&this._node.parent.removeChild(this._node),this._node=null),this._meshInstance&&(this._meshInstance.material=null,this._meshInstance.mesh=null,this._meshInstance=null)},_showModel:function(){if(!this._addedModel&&this._meshInstance){var e,t,i=[this._meshInstance];for(e=0,t=this._layers.length;e<t;e++){var r=this.system.app.scene.layers.getLayerById(this._layers[e]);r&&r.addMeshInstances(i)}this._addedModel=!0}},_hideModel:function(){if(this._addedModel&&this._meshInstance){var e,t,i=[this._meshInstance];for(e=0,t=this._layers.length;e<t;e++){var r=this.system.app.scene.layers.getLayerById(this._layers[e]);r&&r.removeMeshInstances(i)}this._addedModel=!1}},_showFrame:function(e){if(this.sprite){var t=this.sprite.meshes[e];if(t){var i;if(i=1===this.sprite.renderMode?this.system.default9SlicedMaterialSlicedMode:2===this.sprite.renderMode?this.system.default9SlicedMaterialTiledMode:this.system.defaultMaterial,this._meshInstance||(this._meshInstance=new bt(this._node,t,this._material),this._meshInstance.castShadow=!1,this._meshInstance.receiveShadow=!1,this._meshInstance.drawOrder=this._drawOrder,this._model.meshInstances.push(this._meshInstance),this._colorUniform[0]=this._color.r,this._colorUniform[1]=this._color.g,this._colorUniform[2]=this._color.b,this._meshInstance.setParameter("material_emissive",this._colorUniform),this._meshInstance.setParameter("material_opacity",this._color.a),this.enabled&&this.entity.enabled&&this._showModel()),this._meshInstance.material!==i&&(this._meshInstance.material=i),this._meshInstance.mesh!==t&&(this._meshInstance.mesh=t,this._meshInstance.visible=!0,this._meshInstance._aabbVer=-1),this.sprite.atlas&&this.sprite.atlas.texture?(this._meshInstance.setParameter("texture_emissiveMap",this.sprite.atlas.texture),this._meshInstance.setParameter("texture_opacityMap",this.sprite.atlas.texture)):(this._meshInstance.deleteParameter("texture_emissiveMap"),this._meshInstance.deleteParameter("texture_opacityMap")),!this.sprite.atlas||1!==this.sprite.renderMode&&2!==this.sprite.renderMode)this._meshInstance._updateAabbFunc=null;else{this._meshInstance._updateAabbFunc=this._updateAabbFunc;var r=this.sprite.atlas.frames[this.sprite.frameKeys[e]];if(r){var n=2/r.rect.z,a=2/r.rect.w;this._innerOffset.set(r.border.x*n,r.border.y*a,r.border.z*n,r.border.w*a);var s=this.sprite.atlas.texture;this._atlasRect.set(r.rect.x/s.width,r.rect.y/s.height,r.rect.z/s.width,r.rect.w/s.height)}else this._innerOffset.set(0,0,0,0);this._innerOffsetUniform[0]=this._innerOffset.x,this._innerOffsetUniform[1]=this._innerOffset.y,this._innerOffsetUniform[2]=this._innerOffset.z,this._innerOffsetUniform[3]=this._innerOffset.w,this._meshInstance.setParameter("innerOffset",this._innerOffsetUniform),this._atlasRectUniform[0]=this._atlasRect.x,this._atlasRectUniform[1]=this._atlasRect.y,this._atlasRectUniform[2]=this._atlasRect.z,this._atlasRectUniform[3]=this._atlasRect.w,this._meshInstance.setParameter("atlasRect",this._atlasRectUniform)}this._updateTransform()}else this._meshInstance&&(this._meshInstance.mesh=null,this._meshInstance.visible=!1)}},_updateTransform:function(){var e=this.flipX?-1:1,t=this.flipY?-1:1,i=0,r=0;if(this.sprite&&(1===this.sprite.renderMode||2===this.sprite.renderMode)){var n=1,a=1;if(this.sprite.atlas){var s=this.sprite.atlas.frames[this.sprite.frameKeys[this.frame]];s&&(n=s.rect.z,a=s.rect.w,i=(.5-s.pivot.x)*this._width,r=(.5-s.pivot.y)*this._height)}var o=n/this.sprite.pixelsPerUnit,l=a/this.sprite.pixelsPerUnit;this._outerScale.set(Math.max(this._width,this._innerOffset.x*o),Math.max(this._height,this._innerOffset.y*l)),e*=o,t*=l,this._outerScale.x/=o,this._outerScale.y/=l,e*=A.clamp(this._width/(this._innerOffset.x*o),1e-4,1),t*=A.clamp(this._height/(this._innerOffset.y*l),1e-4,1),this._meshInstance&&(this._outerScaleUniform[0]=this._outerScale.x,this._outerScaleUniform[1]=this._outerScale.y,this._meshInstance.setParameter("outerScale",this._outerScaleUniform))}this._node.setLocalScale(e,t,1),this._node.setLocalPosition(i,r,0)},_updateAabb:function(e){return e.center.set(0,0,0),e.halfExtents.set(.5*this._outerScale.x,.5*this._outerScale.y,.001),e.setFromTransformedAabb(e,this._node.getWorldTransform()),e},_tryAutoPlay:function(){if(this._autoPlayClip&&"animated"===this.type){var e=this._clips[this._autoPlayClip];!e||e.isPlaying||this._currentClip&&this._currentClip.isPlaying||this.enabled&&this.entity.enabled&&this.play(e.name)}},_onLayersChanged:function(e,t){e.off("add",this.onLayerAdded,this),e.off("remove",this.onLayerRemoved,this),t.on("add",this.onLayerAdded,this),t.on("remove",this.onLayerRemoved,this),this.enabled&&this.entity.enabled&&this._showModel()},_onLayerAdded:function(e){this.layers.indexOf(e.id)<0||this._addedModel&&this.enabled&&this.entity.enabled&&this._meshInstance&&e.addMeshInstances([this._meshInstance])},_onLayerRemoved:function(e){this._meshInstance&&(this.layers.indexOf(e.id)<0||e.removeMeshInstances([this._meshInstance]))},removeModelFromLayers:function(){for(var e,t=0;t<this.layers.length;t++)(e=this.system.app.scene.layers.getLayerById(this.layers[t]))&&e.removeMeshInstances([this._meshInstance])},addClip:function(e){var t=new nu(this,{name:e.name,fps:e.fps,loop:e.loop,spriteAsset:e.spriteAsset});return this._clips[e.name]=t,t.name&&t.name===this._autoPlayClip&&this._tryAutoPlay(),t},removeClip:function(e){delete this._clips[e]},clip:function(e){return this._clips[e]},play:function(e){var t=this._clips[e],i=this._currentClip;return i&&i!==t&&(i._playing=!1),this._currentClip=t,this._currentClip&&(this._currentClip=t,this._currentClip.play()),t},pause:function(){this._currentClip!==this._defaultClip&&this._currentClip.isPlaying&&this._currentClip.pause()},resume:function(){this._currentClip!==this._defaultClip&&this._currentClip.isPaused&&this._currentClip.resume()},stop:function(){this._currentClip!==this._defaultClip&&this._currentClip.stop()}}),Object.defineProperty(au.prototype,"type",{get:function(){return this._type},set:function(e){this._type!==e&&(this._type=e,"simple"===this._type?(this.stop(),this._currentClip=this._defaultClip,this.enabled&&this.entity.enabled&&(this._currentClip.frame=this.frame,this._currentClip.sprite?this._showModel():this._hideModel())):"animated"===this._type&&(this.stop(),this._autoPlayClip&&this._tryAutoPlay(),this._currentClip&&this._currentClip.isPlaying&&this.enabled&&this.entity.enabled?this._showModel():this._hideModel()))}}),Object.defineProperty(au.prototype,"frame",{get:function(){return this._currentClip.frame},set:function(e){this._currentClip.frame=e}}),Object.defineProperty(au.prototype,"spriteAsset",{get:function(){return this._defaultClip._spriteAsset},set:function(e){this._defaultClip.spriteAsset=e}}),Object.defineProperty(au.prototype,"sprite",{get:function(){return this._currentClip.sprite},set:function(e){this._currentClip.sprite=e}}),Object.defineProperty(au.prototype,"material",{get:function(){return this._material},set:function(e){this._material=e,this._meshInstance&&(this._meshInstance.material=e)}}),Object.defineProperty(au.prototype,"color",{get:function(){return this._color},set:function(e){this._color.r=e.r,this._color.g=e.g,this._color.b=e.b,this._meshInstance&&(this._colorUniform[0]=this._color.r,this._colorUniform[1]=this._color.g,this._colorUniform[2]=this._color.b,this._meshInstance.setParameter("material_emissive",this._colorUniform))}}),Object.defineProperty(au.prototype,"opacity",{get:function(){return this._color.a},set:function(e){this._color.a=e,this._meshInstance&&this._meshInstance.setParameter("material_opacity",e)}}),Object.defineProperty(au.prototype,"clips",{get:function(){return this._clips},set:function(e){var t,i;if(e){for(t in this._clips){var r=!1;for(i in e)if(e[i].name===t){r=!0,this._clips[t].fps=e[i].fps,this._clips[t].loop=e[i].loop,e[i].hasOwnProperty("sprite")?this._clips[t].sprite=e[i].sprite:e[i].hasOwnProperty("spriteAsset")&&(this._clips[t].spriteAsset=e[i].spriteAsset);break}r||this.removeClip(t)}for(i in e)this._clips[e[i].name]||this.addClip(e[i]);this._autoPlayClip&&this._tryAutoPlay(),this._currentClip&&this._currentClip.sprite||this._hideModel()}else for(t in this._clips)this.removeClip(t)}}),Object.defineProperty(au.prototype,"currentClip",{get:function(){return this._currentClip}}),Object.defineProperty(au.prototype,"speed",{get:function(){return this._speed},set:function(e){this._speed=e}}),Object.defineProperty(au.prototype,"flipX",{get:function(){return this._flipX},set:function(e){this._flipX!==e&&(this._flipX=e,this._updateTransform())}}),Object.defineProperty(au.prototype,"flipY",{get:function(){return this._flipY},set:function(e){this._flipY!==e&&(this._flipY=e,this._updateTransform())}}),Object.defineProperty(au.prototype,"width",{get:function(){return this._width},set:function(e){e!==this._width&&(this._width=e,this._outerScale.x=this._width,!this.sprite||2!==this.sprite.renderMode&&1!==this.sprite.renderMode||this._updateTransform())}}),Object.defineProperty(au.prototype,"height",{get:function(){return this._height},set:function(e){e!==this._height&&(this._height=e,this._outerScale.y=this.height,!this.sprite||2!==this.sprite.renderMode&&1!==this.sprite.renderMode||this._updateTransform())}}),Object.defineProperty(au.prototype,"batchGroupId",{get:function(){return this._batchGroupId},set:function(e){if(this._batchGroupId!==e){var t=this._batchGroupId;this._batchGroupId=e,this.entity.enabled&&t>=0&&this.system.app.batcher.remove(Et.SPRITE,t,this.entity),this.entity.enabled&&e>=0?this.system.app.batcher.insert(Et.SPRITE,e,this.entity):t>=0&&this._currentClip&&this._currentClip.sprite&&this.enabled&&this.entity.enabled&&this._showModel()}}}),Object.defineProperty(au.prototype,"autoPlayClip",{get:function(){return this._autoPlayClip},set:function(e){this._autoPlayClip=e instanceof nu?e.name:e,this._tryAutoPlay()}}),Object.defineProperty(au.prototype,"drawOrder",{get:function(){return this._drawOrder},set:function(e){this._drawOrder=e,this._meshInstance&&(this._meshInstance.drawOrder=e)}}),Object.defineProperty(au.prototype,"layers",{get:function(){return this._layers},set:function(e){this._addedModel&&this._hideModel(),this._layers=e,this._meshInstance&&this.enabled&&this.entity.enabled&&this._showModel()}}),Object.defineProperty(au.prototype,"aabb",{get:function(){return this._meshInstance?this._meshInstance.aabb:null}});var ou=["enabled"];function lu(e){cl.call(this,e),this.id="sprite",this.ComponentType=au,this.DataType=su,this.schema=ou,this._defaultTexture=null,this._defaultMaterial=null,this._default9SlicedMaterialSlicedMode=null,this._default9SlicedMaterialTiledMode=null,cl.bind("update",this.onUpdate,this),this.on("beforeremove",this.onBeforeRemove,this)}function cu(e,t){ll.call(this,e,t),this._oldState=!0,this._size=new I,this.on("set_enabled",this._onSetEnabled,this)}function fu(){this.enabled=!0}lu.prototype=Object.create(cl.prototype),lu.prototype.constructor=lu,ll._buildAccessors(au.prototype,ou),Object.defineProperties(lu.prototype,{defaultMaterial:{get:function(){if(!this._defaultMaterial){var e=new nt(this.app.graphicsDevice,{width:1,height:1,format:7}),t=new Uint8Array(e.lock());t[0]=t[1]=t[2]=t[3]=255,e.name="sprite",e.unlock();var i=new wu;i.diffuse.set(0,0,0),i.emissive.set(.5,.5,.5),i.emissiveMap=e,i.emissiveMapTint=!0,i.opacityMap=e,i.opacityMapChannel="a",i.opacityTint=!0,i.opacity=0,i.useLighting=!1,i.useGammaTonemap=!1,i.useFog=!1,i.useSkybox=!1,i.blendType=4,i.depthWrite=!1,i.pixelSnap=!1,i.cull=0,i.update(),this._defaultTexture=e,this._defaultMaterial=i}return this._defaultMaterial},set:function(e){this._defaultMaterial=e}},default9SlicedMaterialSlicedMode:{get:function(){if(!this._default9SlicedMaterialSlicedMode){var e=this.defaultMaterial.clone();e.nineSlicedMode=1,e.update(),this._default9SlicedMaterialSlicedMode=e}return this._default9SlicedMaterialSlicedMode},set:function(e){this._default9SlicedMaterialSlicedMode=e}},default9SlicedMaterialTiledMode:{get:function(){if(!this._default9SlicedMaterialTiledMode){var e=this.defaultMaterial.clone();e.nineSlicedMode=2,e.update(),this._default9SlicedMaterialTiledMode=e}return this._default9SlicedMaterialTiledMode},set:function(e){this._default9SlicedMaterialTiledMode=e}}}),Object.assign(lu.prototype,{destroy:function(){this._defaultTexture&&(this._defaultTexture.destroy(),this._defaultTexture=null)},initializeComponentData:function(e,t,i){if(void 0!==t.enabled&&(e.enabled=t.enabled),e.type=t.type,t.layers&&Array.isArray(t.layers)&&(e.layers=t.layers.slice(0)),void 0!==t.drawOrder&&(e.drawOrder=t.drawOrder),void 0!==t.color&&(t.color instanceof v?e.color.set(t.color.r,t.color.g,t.color.b,void 0!==t.opacity?t.opacity:1):e.color.set(t.color[0],t.color[1],t.color[2],void 0!==t.opacity?t.opacity:1),e.color=e.color),void 0!==t.opacity&&(e.opacity=t.opacity),void 0!==t.flipX&&(e.flipX=t.flipX),void 0!==t.flipY&&(e.flipY=t.flipY),void 0!==t.width&&(e.width=t.width),void 0!==t.height&&(e.height=t.height),void 0!==t.spriteAsset&&(e.spriteAsset=t.spriteAsset),t.sprite&&(e.sprite=t.sprite),void 0!==t.frame&&(e.frame=t.frame),t.clips)for(var r in t.clips)e.addClip(t.clips[r]);void 0!==t.speed&&(e.speed=t.speed),t.autoPlayClip&&(e.autoPlayClip=t.autoPlayClip),e.batchGroupId=void 0===t.batchGroupId||null===t.batchGroupId?-1:t.batchGroupId,cl.prototype.initializeComponentData.call(this,e,t,i)},cloneComponent:function(e,t){var i=e.sprite;return this.addComponent(t,{enabled:i.enabled,type:i.type,spriteAsset:i.spriteAsset,sprite:i.sprite,frame:i.frame,color:i.color.clone(),opacity:i.opacity,flipX:i.flipX,flipY:i.flipY,speed:i.speed,clips:i.clips,autoPlayClip:i.autoPlayClip,batchGroupId:i.batchGroupId,drawOrder:i.drawOrder,layers:i.layers.slice(0)})},onUpdate:function(e){var t=this.store;for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];if(r.data.enabled&&r.entity.enabled){var n=r.entity.sprite;n._currentClip&&n._currentClip._update(e)}}},onBeforeRemove:function(e,t){t.onDestroy()}}),cu.prototype=Object.create(ll.prototype),cu.prototype.constructor=cu,Object.assign(cu.prototype,{onEnable:function(){this._checkState()},onDisable:function(){this._checkState()},_onSetEnabled:function(e,t,i){this._checkState()},_checkState:function(){var e=this.enabled&&this.entity.enabled;e!==this._oldState&&(this._oldState=e,this.fire("enable"),this.fire("state",this.enabled))},_onBeforeRemove:function(){this.fire("remove")}}),Object.defineProperty(cu.prototype,"size",{set:function(e){e instanceof I?this._size.copy(e):e instanceof Array&&e.length>=3&&this.size.set(e[0],e[1],e[2])},get:function(){return this._size}});var hu=["enabled"],uu=function(e){cl.call(this,e),this.id="zone",this.ComponentType=cu,this.DataType=fu,this.schema=hu,this.on("beforeremove",this._onBeforeRemove,this)};function du(e){this.frame={fps:0,ms:0,dt:0,updateStart:0,updateTime:0,renderStart:0,renderTime:0,physicsStart:0,physicsTime:0,cullTime:0,sortTime:0,skinTime:0,morphTime:0,instancingTime:0,triangles:0,otherPrimitives:0,shaders:0,materials:0,cameras:0,shadowMapUpdates:0,shadowMapTime:0,depthMapTime:0,forwardTime:0,_timeToCountFrames:0,_fpsAccum:0},this.drawCalls={forward:0,depth:0,shadow:0,immediate:0,misc:0,total:0,skinned:0,instanced:0,removedByInstancing:0},this.misc={renderTargetCreationTime:0},this.particles={updatesPerFrame:0,_updatesPerFrame:0,frameTime:0,_frameTime:0},this.vram=e._vram,this.shaders=e._shaderStats,Object.defineProperty(this.vram,"totalUsed",{get:function(){return this.tex+this.vb+this.ib}}),Object.defineProperty(this.vram,"geom",{get:function(){return this.vb+this.ib}}),Object.defineProperty(this,"scene",{get:function(){return Au._currentApplication.scene._stats}}),Object.defineProperty(this,"lightmapper",{get:function(){return Au._currentApplication.lightmapper._stats}}),Object.defineProperty(this,"batcher",{get:function(){return Au._currentApplication.batcher._stats}})}function pu(e,t){this.name=e,this.url=t}function _u(e){this._app=e,this._list=[],this._index={},this._urlIndex={}}(uu.prototype=Object.create(cl.prototype)).constructor=uu,ll._buildAccessors(cu.prototype,hu),Object.assign(uu.prototype,{initializeComponentData:function(e,t,i){e.enabled=!t.hasOwnProperty("enabled")||!!t.enabled,t.size&&(t.size instanceof I?e.size.copy(t.size):t.size instanceof Array&&t.size.length>=3&&e.size.set(t.size[0],t.size[1],t.size[2]))},cloneComponent:function(e,t){var i={size:e.zone.size};return this.addComponent(t,i)},_onBeforeRemove:function(e,t){t._onBeforeRemove()}}),_u.prototype.destroy=function(){this._app=null},_u.prototype.list=function(){return this._list},_u.prototype.add=function(e,t){if(this._index.hasOwnProperty(e))return!1;var i=new pu(e,t),r=this._list.push(i);return this._index[i.name]=r-1,this._urlIndex[i.url]=r-1,!0},_u.prototype.find=function(e){return this._index.hasOwnProperty(e)?this._list[this._index[e]]:null},_u.prototype.findByUrl=function(e){return this._urlIndex.hasOwnProperty(e)?this._list[this._urlIndex[e]]:null},_u.prototype.remove=function(e){if(this._index.hasOwnProperty(e)){var t=this._index[e],i=this._list[t];for(delete this._urlIndex[i.url],delete this._index[e],this._list.splice(t,1),t=0;t<this._list.length;t++)i=this._list[t],this._index[i.name]=t,this._urlIndex[i.url]=t}},_u.prototype.loadSceneHierarchy=function(e,t){var i=this,r=this._app.loader.getHandler("hierarchy");this._app.assets&&this._app.assets.prefix&&!oa.test(e)&&(e=f.join(this._app.assets.prefix,e)),r.load(e,(function(n,a){n?t&&t(n):i._app._preloadScripts(a,(function(){i._app.systems.script.preloading=!0;var s=r.open(e,a);i._app.systems.script.preloading=!1,i._app.loader.clearCache(e,"hierarchy"),i._app.root.addChild(s),cl.initialize(s),cl.postInitialize(s),t&&t(n,s)}))}))},_u.prototype.loadSceneSettings=function(e,t){var i=this;this._app.assets&&this._app.assets.prefix&&!oa.test(e)&&(e=f.join(this._app.assets.prefix,e)),this._app.loader.load(e,"scenesettings",(function(e,r){e?t&&t(e):(i._app.applySceneSettings(r),t&&t(null))}))},_u.prototype.loadScene=function(e,t){var i=this,r=this._app.loader.getHandler("scene");this._app.assets&&this._app.assets.prefix&&!oa.test(e)&&(e=f.join(this._app.assets.prefix,e)),r.load(e,(function(n,a){n?t&&t(n):i._app._preloadScripts(a,(function(){i._app.systems.script.preloading=!0;var n=r.open(e,a);i._app.systems.script.preloading=!1,i._app.loader.clearCache(e,"scene"),i._app.loader.patch({resource:n,type:"scene"},i._app.assets),i._app.root.addChild(n.root),i._app.systems.rigidbody&&"undefined"!==typeof Ammo&&i._app.systems.rigidbody.gravity.set(n._gravity.x,n._gravity.y,n._gravity.z),t&&t(null,n)}))}))};var mu=!1,bu=new ei;function Au(t,r){o.call(this),r=r||{},console.log("Powered by PlayCanvas "+i+" 798f16872"),Au._applications[t.id]=this,Au._currentApplication=this,e.app=this,this._time=0,this.timeScale=1,this.maxDeltaTime=.1,this.frame=0,this.autoRender=!0,this.renderNextFrame=!1,this.useLegacyScriptAttributeCloning=js.legacy,this._librariesLoaded=!1,this._fillMode="KEEP_ASPECT",this._resolutionMode="FIXED",this._allowResize=!0,this.context=this,r.graphicsDeviceOptions||(r.graphicsDeviceOptions={}),r.graphicsDeviceOptions.xrCompatible=!0,this.graphicsDevice=new Qu(t,r.graphicsDeviceOptions),this.stats=new du(this.graphicsDevice),this._soundManager=new Fn(r),this.loader=new Bs(this),this._entityIndex={},this.scene=new Rn,this.root=new Un(this),this.root._enabledInHierarchy=!0,this._enableList=[],this._enableList.size=0,this.assets=new Oo(this.loader),r.assetPrefix&&(this.assets.prefix=r.assetPrefix),this.bundles=new Io(this.assets),this.enableBundles="undefined"!==typeof TextDecoder,this.scriptsOrder=r.scriptsOrder||[],this.scripts=new Do(this),this.i18n=new sa(this),this.scenes=new _u(this);var n=this;this.defaultLayerWorld=new oi({name:"World",id:0}),this.graphicsDevice.webgl2?(this.defaultLayerDepth=new oi({enabled:!1,name:"Depth",id:1,onEnable:function(){if(!this.renderTarget){var e=new nt(n.graphicsDevice,{format:17,width:n.graphicsDevice.width,height:n.graphicsDevice.height});e.name="rt-depth2",e.minFilter=0,e.magFilter=0,e.addressU=1,e.addressV=1,this.renderTarget=new qu({colorBuffer:null,depthBuffer:e,autoResolve:!1}),n.graphicsDevice.scope.resolve("uDepthMap").setValue(e)}},onDisable:function(){this.renderTarget&&(this.renderTarget._depthBuffer.destroy(),this.renderTarget.destroy(),this.renderTarget=null)},onPreRenderOpaque:function(e){var t=n.graphicsDevice.gl;this.srcFbo=t.getParameter(t.FRAMEBUFFER_BINDING),this.renderTarget&&this.renderTarget.width===n.graphicsDevice.width&&this.renderTarget.height===n.graphicsDevice.height||(this.onDisable(),this.onEnable()),this.oldClear=this.cameras[e].camera._clearOptions,this.cameras[e].camera._clearOptions=this.depthClearOptions},onPostRenderOpaque:function(e){if(this.renderTarget){this.cameras[e].camera._clearOptions=this.oldClear;var t=n.graphicsDevice.gl;n.graphicsDevice.setRenderTarget(this.renderTarget),n.graphicsDevice.updateBegin(),t.bindFramebuffer(t.READ_FRAMEBUFFER,this.srcFbo),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,this.renderTarget._glFrameBuffer),t.blitFramebuffer(0,0,this.renderTarget.width,this.renderTarget.height,0,0,this.renderTarget.width,this.renderTarget.height,t.DEPTH_BUFFER_BIT,t.NEAREST)}}}),this.defaultLayerDepth.depthClearOptions={flags:0}):(this.defaultLayerDepth=new oi({enabled:!1,name:"Depth",id:1,shaderPass:2,onEnable:function(){if(!this.renderTarget){var e=new nt(n.graphicsDevice,{format:7,width:n.graphicsDevice.width,height:n.graphicsDevice.height});e.name="rt-depth1",e.minFilter=0,e.magFilter=0,e.addressU=1,e.addressV=1,this.renderTarget=new qu(n.graphicsDevice,e,{depth:!0,stencil:n.graphicsDevice.supportsStencil}),n.graphicsDevice.scope.resolve("uDepthMap").setValue(e)}},onDisable:function(){this.renderTarget&&(this.renderTarget._colorBuffer.destroy(),this.renderTarget.destroy(),this.renderTarget=null)},onPostCull:function(e){for(var t,i,r,a,s,o,l=this.instances.visibleOpaque[e],c=l.list,f=0,h=n.scene.layers.layerList,u=n.scene.layers.subLayerEnabled,d=n.scene.layers.subLayerList,p=n.defaultLayerWorld.renderTarget,_=this.cameras[e],m=0;m<h.length&&(t=h[m])!==this;m++)if(t.renderTarget===p&&t.enabled&&u[m]&&!((a=t.cameras.indexOf(_))<0))for(s=(r=d[m]?t.instances.visibleTransparent[a]:t.instances.visibleOpaque[a]).length,r=r.list,i=0;i<s;i++)(o=r[i]).material&&o.material.depthWrite&&!o._noDepthDrawGl1&&(c[f]=o,f++);l.length=f},onPreRenderOpaque:function(e){this.renderTarget&&this.renderTarget.width===n.graphicsDevice.width&&this.renderTarget.height===n.graphicsDevice.height||(this.onDisable(),this.onEnable()),this.oldClear=this.cameras[e].camera._clearOptions,this.cameras[e].camera._clearOptions=this.rgbaDepthClearOptions},onDrawCall:function(){n.graphicsDevice.setColorWrite(!0,!0,!0,!0)},onPostRenderOpaque:function(e){this.renderTarget&&(this.cameras[e].camera._clearOptions=this.oldClear)}}),this.defaultLayerDepth.rgbaDepthClearOptions={color:[254/255,254/255,254/255,254/255],depth:1,flags:3}),this.defaultLayerSkybox=new oi({enabled:!1,name:"Skybox",id:2,opaqueSortMode:0}),this.defaultLayerUi=new oi({enabled:!0,name:"UI",id:4,transparentSortMode:1,passThrough:!1}),this.defaultLayerImmediate=new oi({enabled:!0,name:"Immediate",id:3,opaqueSortMode:0,passThrough:!0}),this.defaultLayerComposition=new hr,this.defaultLayerComposition.pushOpaque(this.defaultLayerWorld),this.defaultLayerComposition.pushOpaque(this.defaultLayerDepth),this.defaultLayerComposition.pushOpaque(this.defaultLayerSkybox),this.defaultLayerComposition.pushTransparent(this.defaultLayerWorld),this.defaultLayerComposition.pushOpaque(this.defaultLayerImmediate),this.defaultLayerComposition.pushTransparent(this.defaultLayerImmediate),this.defaultLayerComposition.pushTransparent(this.defaultLayerUi),this.scene.layers=this.defaultLayerComposition,this._immediateLayer=this.defaultLayerImmediate,this.scene.on("set:layers",(function(e,t){for(var i,r=t.layerList,a=0;a<r.length;a++)switch((i=r[a]).id){case 1:i.onEnable=n.defaultLayerDepth.onEnable,i.onDisable=n.defaultLayerDepth.onDisable,i.onPreRenderOpaque=n.defaultLayerDepth.onPreRenderOpaque,i.onPostRenderOpaque=n.defaultLayerDepth.onPostRenderOpaque,i.depthClearOptions=n.defaultLayerDepth.depthClearOptions,i.rgbaDepthClearOptions=n.defaultLayerDepth.rgbaDepthClearOptions,i.shaderPass=n.defaultLayerDepth.shaderPass,i.onPostCull=n.defaultLayerDepth.onPostCull,i.onDrawCall=n.defaultLayerDepth.onDrawCall;break;case 4:i.passThrough=n.defaultLayerUi.passThrough;break;case 3:i.passThrough=n.defaultLayerImmediate.passThrough}})),this.renderer=new ar(this.graphicsDevice),this.renderer.scene=this.scene,this.lightmapper=new xr(this.graphicsDevice,this.root,this.scene,this.renderer,this.assets),this.once("prerender",this._firstBake,this),this.batcher=new Pt(this.graphicsDevice,this.root,this.scene),this.once("prerender",this._firstBatch,this),this.keyboard=r.keyboard||null,this.mouse=r.mouse||null,this.touch=r.touch||null,this.gamepads=r.gamepads||null,this.elementInput=r.elementInput||null,this.elementInput&&(this.elementInput.app=this),this.vr=null,this.xr=new ol(this),this.elementInput&&this.elementInput.attachSelectEvents(),this._inTools=!1,this._skyboxLast=0,this._scriptPrefix=r.scriptPrefix||"",this.enableBundles&&this.loader.addHandler("bundle",new ts(this.assets)),this.loader.addHandler("animation",new ja),this.loader.addHandler("animclip",new Wa),this.loader.addHandler("animstategraph",new Ha),this.loader.addHandler("model",new Ns(this.graphicsDevice,this.scene.defaultMaterial)),this.loader.addHandler("material",new Ms(this)),this.loader.addHandler("texture",new Co(this.graphicsDevice,this.assets,this.loader)),this.loader.addHandler("text",new $s),this.loader.addHandler("json",new vs),this.loader.addHandler("audio",new Qa(this._soundManager)),this.loader.addHandler("script",new Ws(this)),this.loader.addHandler("scene",new Ls(this)),this.loader.addHandler("cubemap",new as(this.graphicsDevice,this.assets,this.loader)),this.loader.addHandler("html",new As),this.loader.addHandler("css",new ns),this.loader.addHandler("shader",new Gs),this.loader.addHandler("hierarchy",new bs(this)),this.loader.addHandler("scenesettings",new Us(this)),this.loader.addHandler("folder",new ss),this.loader.addHandler("font",new cs(this.loader)),this.loader.addHandler("binary",new Ja),this.loader.addHandler("textureatlas",new no(this.loader)),this.loader.addHandler("sprite",new Zs(this.assets,this.graphicsDevice)),this.loader.addHandler("template",new Ks(this)),this.loader.addHandler("container",new rs(this.graphicsDevice,this.scene.defaultMaterial)),this.systems=new Ac,this.systems.add(new nh(this)),this.systems.add(new bc(this)),this.systems.add(new ml(this)),this.systems.add(new Tl(this)),this.systems.add(new Cf(this)),this.systems.add(new ql(this)),this.systems.add(new Ef(this)),js.legacy?this.systems.add(new Ph(this)):this.systems.add(new Th(this)),this.systems.add(new Il(this,this._soundManager)),this.systems.add(new ru(this,this._soundManager)),this.systems.add(new Pl(this,this._soundManager)),this.systems.add(new Xf(this)),this.systems.add(new ch(this)),this.systems.add(new Gc(this)),this.systems.add(new Yl(this)),this.systems.add(new Wh(this)),this.systems.add(new Xh(this)),this.systems.add(new lu(this)),this.systems.add(new df(this)),this.systems.add(new Qc(this)),this.systems.add(new uu(this)),this._visibilityChangeHandler=this.onVisibilityChange.bind(this),"undefined"!==typeof document&&(void 0!==document.hidden?(this._hiddenAttr="hidden",document.addEventListener("visibilitychange",this._visibilityChangeHandler,!1)):void 0!==document.mozHidden?(this._hiddenAttr="mozHidden",document.addEventListener("mozvisibilitychange",this._visibilityChangeHandler,!1)):void 0!==document.msHidden?(this._hiddenAttr="msHidden",document.addEventListener("msvisibilitychange",this._visibilityChangeHandler,!1)):void 0!==document.webkitHidden&&(this._hiddenAttr="webkitHidden",document.addEventListener("webkitvisibilitychange",this._visibilityChangeHandler,!1))),this.meshInstanceArray=[],this.tick=gu(this)}e.app=null,Au.prototype=Object.create(o.prototype),Au.prototype.constructor=Au,Au._currentApplication=null,Au._applications={},Au.getApplication=function(e){return e?Au._applications[e]:Au._currentApplication};var vu=function(e){this.length=e,this.count=0,this.inc=function(){this.count++},this.done=function(){return this.count===this.length}};Object.defineProperty(Au.prototype,"fillMode",{get:function(){return this._fillMode}}),Object.defineProperty(Au.prototype,"resolutionMode",{get:function(){return this._resolutionMode}}),Object.assign(Au.prototype,{configure:function(e,t){var i=this;E.get(e,(function(e,r){if(e)t(e);else{var n=r.application_properties,a=r.scenes,s=r.assets;i._parseApplicationProperties(n,(function(e){i._parseScenes(a),i._parseAssets(s),t(e||null)}))}}))},preload:function(e){var t,i,r=this;r.fire("preload:start");var n=this.assets.list({preload:!0}),a=new vu(n.length),s=!1,o=function(){r.graphicsDevice&&!s&&a.done()&&(s=!0,r.fire("preload:end"),e())};i=n.length;var l=function(){return a.count};if(a.length){var c=function(e){a.inc(),r.fire("preload:progress",l()/i),a.done()&&o()},f=function(e,t){a.inc(),r.fire("preload:progress",l()/i),a.done()&&o()};for(t=0;t<n.length;t++)n[t].loaded?(a.inc(),r.fire("preload:progress",l()/i),a.done()&&o()):(n[t].once("load",c),n[t].once("error",f),this.assets.load(n[t]))}else o()},getSceneUrl:function(e){var t=this.scenes.find(e);return t?t.url:null},loadSceneHierarchy:function(e,t){this.scenes.loadSceneHierarchy(e,t)},loadSceneSettings:function(e,t){this.scenes.loadSceneSettings(e,t)},loadScene:function(e,t){this.scenes.loadScene(e,t)},_preloadScripts:function(e,t){if(js.legacy){var i=this;i.systems.script.preloading=!0;var r,n=this._getScriptReferences(e),a=0,s=n.length,o=new vu(s),l=/^http(s)?:\/\//;if(s){var c=function(e,r){e&&console.error(e),o.inc(),o.done()&&(i.systems.script.preloading=!1,t())};for(a=0;a<s;a++)r=n[a],!l.test(r.toLowerCase())&&i._scriptPrefix&&(r=f.join(i._scriptPrefix,n[a])),this.loader.load(r,"script",c)}else i.systems.script.preloading=!1,t()}else t()},_parseApplicationProperties:function(e,t){var i,r;if(e.useDevicePixelRatio||(e.useDevicePixelRatio=e.use_device_pixel_ratio),e.resolutionMode||(e.resolutionMode=e.resolution_mode),e.fillMode||(e.fillMode=e.fill_mode),this._width=e.width,this._height=e.height,e.useDevicePixelRatio&&(this.graphicsDevice.maxPixelRatio=window.devicePixelRatio),this.setCanvasResolution(e.resolutionMode,this._width,this._height),this.setCanvasFillMode(e.fillMode,this._width,this._height),e.layers&&e.layerOrder){var n=new hr,a={};for(var s in e.layers){var o=e.layers[s];o.id=parseInt(s,10),o.enabled=1!==o.id,a[s]=new oi(o)}for(i=0,r=e.layerOrder.length;i<r;i++){var l=e.layerOrder[i],c=a[l.layer];c&&(l.transparent?n.pushTransparent(c):n.pushOpaque(c),n.subLayerEnabled[i]=l.enabled)}this.scene.layers=n}if(e.batchGroups)for(i=0,r=e.batchGroups.length;i<r;i++){var f=e.batchGroups[i];this.batcher.addGroup(f.name,f.dynamic,f.maxAabbSize,f.id,f.layers)}e.i18nAssets&&(this.i18n.assets=e.i18nAssets),this._loadLibraries(e.libraries,t)},_loadLibraries:function(e,t){var i=e.length,r=i,n=this,a=/^http(s)?:\/\//;if(i)for(var s=function(e,i){r--,e?t(e):0===r&&(n.onLibrariesLoaded(),t(null))},o=0;o<i;++o){var l=e[o];!a.test(l.toLowerCase())&&n._scriptPrefix&&(l=f.join(n._scriptPrefix,l)),this.loader.load(l,"script",s)}else n.onLibrariesLoaded(),t(null)},_parseScenes:function(e){if(e)for(var t=0;t<e.length;t++)this.scenes.add(e[t].name,e[t].url)},_parseAssets:function(e){var t,i,r=[],n={},a={};if(js.legacy){if(this.enableBundles)for(i in e)"bundle"===e[i].type&&(a[i]=!0,r.push(e[i]));for(i in e)a[i]||r.push(e[i])}else{for(t=0;t<this.scriptsOrder.length;t++)e[i=this.scriptsOrder[t]]&&(n[i]=!0,r.push(e[i]));if(this.enableBundles)for(i in e)"bundle"===e[i].type&&(a[i]=!0,r.push(e[i]));for(i in e)n[i]||a[i]||r.push(e[i])}for(t=0;t<r.length;t++){var s=r[t],o=new pa(s.name,s.type,s.file,s.data);if(o.id=parseInt(s.id,10),o.preload=!!s.preload&&s.preload,o.loaded="script"===s.type&&s.data&&s.data.loadingType>0,o.tags.add(s.tags),s.i18n)for(var l in s.i18n)o.addLocalizedAssetId(l,s.i18n[l]);this.assets.add(o)}},_getScriptReferences:function(e){var t,i,r=[];e.settings.priority_scripts&&(r=e.settings.priority_scripts);var n=[],a={};for(t=0;t<r.length;t++)n.push(r[t]),a[r[t]]=!0;var s=e.entities;for(i in s)if(s[i].components.script){var o=s[i].components.script.scripts;for(t=0;t<o.length;t++)a[o[t].url]||(n.push(o[t].url),a[o[t].url]=!0)}return n},start:function(){this.frame=0,this.fire("start",{timestamp:x(),target:this}),this._librariesLoaded||this.onLibrariesLoaded(),cl.initialize(this.root),this.fire("initialize"),cl.postInitialize(this.root),this.fire("postinitialize"),this.tick()},update:function(e){this.frame++,this.graphicsDevice.updateClientRect(),this.vr&&this.vr.poll(),js.legacy&&cl.fixedUpdate(1/60,this._inTools),cl.update(e,this._inTools),cl.animationUpdate(e,this._inTools),cl.postUpdate(e,this._inTools),this.fire("update",e),this.controller&&this.controller.update(e),this.mouse&&this.mouse.update(e),this.keyboard&&this.keyboard.update(e),this.gamepads&&this.gamepads.update(e)},render:function(){this.fire("prerender"),this.root.syncHierarchy(),this.batcher.updateAll(),this.renderer.renderComposition(this.scene.layers),this.fire("postrender")},_fillFrameStatsBasic:function(e,t,i){var r=this.stats.frame;r.dt=t,r.ms=i,e>r._timeToCountFrames?(r.fps=r._fpsAccum,r._fpsAccum=0,r._timeToCountFrames=e+1e3):r._fpsAccum++,this.stats.drawCalls.total=this.graphicsDevice._drawCallsPerFrame,this.graphicsDevice._drawCallsPerFrame=0},_fillFrameStats:function(){var e=this.stats.frame;e.cameras=this.renderer._camerasRendered,e.materials=this.renderer._materialSwitches,e.shaders=this.graphicsDevice._shaderSwitchesPerFrame,e.shadowMapUpdates=this.renderer._shadowMapUpdates,e.shadowMapTime=this.renderer._shadowMapTime,e.depthMapTime=this.renderer._depthMapTime,e.forwardTime=this.renderer._forwardTime;var t=this.graphicsDevice._primsPerFrame;e.triangles=t[4]/3+Math.max(t[5]-2,0)+Math.max(t[6]-2,0),e.cullTime=this.renderer._cullTime,e.sortTime=this.renderer._sortTime,e.skinTime=this.renderer._skinTime,e.morphTime=this.renderer._morphTime,e.instancingTime=this.renderer._instancingTime,e.otherPrimitives=0;for(var i=0;i<t.length;i++)i<4&&(e.otherPrimitives+=t[i]),t[i]=0;this.renderer._camerasRendered=0,this.renderer._materialSwitches=0,this.renderer._shadowMapUpdates=0,this.graphicsDevice._shaderSwitchesPerFrame=0,this.renderer._cullTime=0,this.renderer._sortTime=0,this.renderer._skinTime=0,this.renderer._morphTime=0,this.renderer._instancingTime=0,this.renderer._shadowMapTime=0,this.renderer._depthMapTime=0,this.renderer._forwardTime=0,(e=this.stats.drawCalls).forward=this.renderer._forwardDrawCalls,e.culled=this.renderer._numDrawCallsCulled,e.depth=0,e.shadow=this.renderer._shadowDrawCalls,e.skinned=this.renderer._skinDrawCalls,e.immediate=0,e.instanced=0,e.removedByInstancing=0,e.misc=e.total-(e.forward+e.shadow),this.renderer._depthDrawCalls=0,this.renderer._shadowDrawCalls=0,this.renderer._forwardDrawCalls=0,this.renderer._numDrawCallsCulled=0,this.renderer._skinDrawCalls=0,this.renderer._immediateRendered=0,this.renderer._instancedDrawCalls=0,this.renderer._removedByInstancing=0,this.stats.misc.renderTargetCreationTime=this.graphicsDevice.renderTargetCreationTime,(e=this.stats.particles).updatesPerFrame=e._updatesPerFrame,e.frameTime=e._frameTime,e._updatesPerFrame=0,e._frameTime=0},setCanvasFillMode:function(e,t,i){this._fillMode=e,this.resizeCanvas(t,i)},setCanvasResolution:function(e,t,i){this._resolutionMode=e,"AUTO"===e&&void 0===t&&(t=this.graphicsDevice.canvas.clientWidth,i=this.graphicsDevice.canvas.clientHeight),this.graphicsDevice.resizeCanvas(t,i)},isHidden:function(){return document[this._hiddenAttr]},onVisibilityChange:function(){this.isHidden()?this._soundManager.suspend():this._soundManager.resume()},resizeCanvas:function(e,t){if(this._allowResize&&(!this.xr||!this.xr.session)){var i=window.innerWidth,r=window.innerHeight;if("KEEP_ASPECT"===this._fillMode){var n=this.graphicsDevice.canvas.width/this.graphicsDevice.canvas.height;n>i/r?t=(e=i)/n:e=(t=r)*n}else"FILL_WINDOW"===this._fillMode&&(e=i,t=r);return this.graphicsDevice.canvas.style.width=e+"px",this.graphicsDevice.canvas.style.height=t+"px","AUTO"===this._resolutionMode&&this.setCanvasResolution("AUTO"),{width:e,height:t}}},onLibrariesLoaded:function(){this._librariesLoaded=!0,this.systems.rigidbody.onLibraryLoaded()},applySceneSettings:function(e){var t;if(this.systems.rigidbody&&"undefined"!==typeof Ammo){var i=e.physics.gravity;this.systems.rigidbody.gravity.set(i[0],i[1],i[2])}this.scene.applySettings(e),e.render.hasOwnProperty("skybox")&&(e.render.skybox?(t=this.assets.get(e.render.skybox))?this.setSkybox(t):this.assets.once("add:"+e.render.skybox,this.setSkybox,this):this.setSkybox(null))},setSkybox:function(e){if(e){if(this._skyboxLast===e.id)return void(0!==this.scene.skyboxMip||e.loadFaces?this._onSkyboxChange(e):this._skyboxLoad(e));this._skyboxLast&&(this.assets.off("add:"+this._skyboxLast,this.setSkybox,this),this.assets.off("load:"+this._skyboxLast,this._onSkyboxChange,this),this.assets.off("remove:"+this._skyboxLast,this._skyboxRemove,this)),this._skyboxLast=e.id,this.assets.on("load:"+e.id,this._onSkyboxChange,this),this.assets.once("remove:"+e.id,this._skyboxRemove,this),e.resource&&this.scene.setSkybox(e.resources),this._skyboxLoad(e)}else{if(!this._skyboxLast)return;this._skyboxRemove({id:this._skyboxLast})}},enableVr:function(){this.vr||(this.vr=new No(this))},disableVr:function(){this.vr&&(this.vr.destroy(),this.vr=null)},_onSkyboxChange:function(e){this.scene.setSkybox(e.resources)},_skyboxLoad:function(e){0===this.scene.skyboxMip&&(e.loadFaces=!0),this.assets.load(e),this._onSkyboxChange(e)},_skyboxRemove:function(e){this._skyboxLast&&(this.assets.off("add:"+e.id,this.setSkybox,this),this.assets.off("load:"+e.id,this._onSkyboxChange,this),this.assets.off("remove:"+e.id,this._skyboxRemove,this),this.scene.setSkybox(null),this._skyboxLast=null)},_firstBake:function(){this.lightmapper.bake(null,this.scene.lightmapMode)},_firstBatch:function(){this.scene._needsStaticPrepare&&(this.renderer.prepareStaticMeshes(this.graphicsDevice,this.scene),this.scene._needsStaticPrepare=!1),this.batcher.generate()},_processTimestamp:function(e){return e},_preRenderImmediate:function(){for(var e=0;e<this._immediateData.lineBatches.length;e++)this._immediateData.lineBatches[e]&&this._immediateData.lineBatches[e].finalize(this.meshInstanceArray)},_postRenderImmediate:function(){for(var e=0;e<this._immediateData.layers.length;e++)this._immediateData.layers[e].clearMeshInstances(!0);this._immediateData.layers.length=0},_initImmediate:function(){this._immediateData||(this._immediateData=new cr(this.graphicsDevice),this.on("prerender",this._preRenderImmediate,this),this.on("postrender",this._postRenderImmediate,this))},_addLines:function(e,t,i){var r=i&&i.layer?i.layer:this.scene.layers.getLayerById(3),n=!i||void 0===i.depthTest||i.depthTest,a=i&&i.mask?i.mask:void 0;this._initImmediate(),this._immediateData.addLayer(r);var s=this._immediateData.getLayerIdx(r);if(void 0===s){var o=new fr;o.init(this.graphicsDevice,this._immediateData.lineVertexFormat,r,e.length/2),o.material.depthTest=n,a&&(o.meshInstance.mask=a),s=this._immediateData.lineBatches.push(o)-1,this._immediateData.addLayerIdx(s,r)}else this._immediateData.lineBatches[s].init(this.graphicsDevice,this._immediateData.lineVertexFormat,r,e.length/2),this._immediateData.lineBatches[s].material.depthTest=n,a&&(this._immediateData.lineBatches[s].meshInstance.mask=a);this._immediateData.lineBatches[s].addLines(e,t)},renderLine:function(e,t,i){var r,n=i,a=arguments[3],s=arguments[4];a instanceof v?(n=a,"number"===typeof s?(mu||(console.warn("lineBatch argument is deprecated for renderLine. Use options.layer instead"),mu=!0),r=1===s?{layer:this.scene.layers.getLayerById(3),depthTest:!1}:{layer:this.scene.layers.getLayerById(3),depthTest:!0}):r=s):"number"===typeof a?(mu||(console.warn("lineBatch argument is deprecated for renderLine. Use options.layer instead"),mu=!0),n=i,r=1===a?{layer:this.scene.layers.getLayerById(3),depthTest:!1}:{layer:this.scene.layers.getLayerById(3),depthTest:!0}):a&&(r=a),this._addLines([e,t],[i,n],r)},renderLines:function(e,t,i){i?"number"===typeof i&&(mu||(console.warn("lineBatch argument is deprecated for renderLine. Use options.layer instead"),mu=!0),i=1===i?{layer:this.scene.layers.getLayerById(3),depthTest:!1}:{layer:this.scene.layers.getLayerById(3),depthTest:!0}):i={layer:this.scene.layers.getLayerById(3),depthTest:!0},t.length&&e.length!==t.length?console.error("renderLines: position/color arrays have different lengths"):e.length%2===0?this._addLines(e,t,i):console.error("renderLines: array length is not divisible by 2")},renderWireCube:function(e,t,i){var r;if(this._initImmediate(),!this._immediateData.cubeLocalPos){var n=.5;this._immediateData.cubeLocalPos=[new I(-n,-n,-n),new I(-n,n,-n),new I(n,n,-n),new I(n,-n,-n),new I(-n,-n,n),new I(-n,n,n),new I(n,n,n),new I(n,-n,n)],this._immediateData.cubeWorldPos=[new I,new I,new I,new I,new I,new I,new I,new I]}var a=this._immediateData.cubeLocalPos,s=this._immediateData.cubeWorldPos;for(r=0;r<8;r++)e.transformPoint(a[r],s[r]);this.renderLines([s[0],s[1],s[1],s[2],s[2],s[3],s[3],s[0],s[4],s[5],s[5],s[6],s[6],s[7],s[7],s[4],s[0],s[4],s[1],s[5],s[2],s[6],s[3],s[7]],t,i)},renderMeshInstance:function(e,t){t||(t={layer:this.scene.layers.getLayerById(3)}),this._initImmediate(),this._immediateData.addLayer(t.layer),this.meshInstanceArray[0]=e,t.layer.addMeshInstances(this.meshInstanceArray,!0)},renderMesh:function(e,t,i,r){r||(r={layer:this.scene.layers.getLayerById(3)}),this._initImmediate(),bu.worldTransform=i,bu._dirtyWorld=bu._dirtyNormal=!1;var n=new bt(bu,e,t);n.cull=!1,r.mask&&(n.mask=r.mask),this._immediateData.addLayer(r.layer),this.meshInstanceArray[0]=n,r.layer.addMeshInstances(this.meshInstanceArray,!0)},renderQuad:function(e,t,i){if(i||(i={layer:this.scene.layers.getLayerById(3)}),this._initImmediate(),!this._immediateData.quadMesh){var r=new ue(this.graphicsDevice,[{semantic:"POSITION",components:3,type:6}]),n=new fe(this.graphicsDevice,r,4),a=new we(n);a.element.POSITION.set(-.5,-.5,0),a.next(),a.element.POSITION.set(.5,-.5,0),a.next(),a.element.POSITION.set(-.5,.5,0),a.next(),a.element.POSITION.set(.5,.5,0),a.end(),this._immediateData.quadMesh=new dt(this.graphicsDevice),this._immediateData.quadMesh.vertexBuffer=n,this._immediateData.quadMesh.primitive[0].type=5,this._immediateData.quadMesh.primitive[0].base=0,this._immediateData.quadMesh.primitive[0].count=4,this._immediateData.quadMesh.primitive[0].indexed=!1}bu.worldTransform=e,bu._dirtyWorld=bu._dirtyNormal=!1;var s=new bt(bu,this._immediateData.quadMesh,t);s.cull=!1,this.meshInstanceArray[0]=s,this._immediateData.addLayer(i.layer),i.layer.addMeshInstances(this.meshInstanceArray,!0)},destroy:function(){var e,t,i=this.graphicsDevice.canvas.id;this.off("librariesloaded"),document.removeEventListener("visibilitychange",this._visibilityChangeHandler,!1),document.removeEventListener("mozvisibilitychange",this._visibilityChangeHandler,!1),document.removeEventListener("msvisibilitychange",this._visibilityChangeHandler,!1),document.removeEventListener("webkitvisibilitychange",this._visibilityChangeHandler,!1),this._visibilityChangeHandler=null,this.onVisibilityChange=null,this.root.destroy(),this.root=null,this.mouse&&(this.mouse.off(),this.mouse.detach(),this.mouse=null),this.keyboard&&(this.keyboard.off(),this.keyboard.detach(),this.keyboard=null),this.touch&&(this.touch.off(),this.touch.detach(),this.touch=null),this.elementInput&&(this.elementInput.detach(),this.elementInput=null),this.controller&&(this.controller=null);var r=this.systems.list;for(e=0,t=r.length;e<t;e++)r[e].destroy();cl.destroy();var n=this.assets.list();for(e=0;e<n.length;e++)n[e].unload(),n[e].off();for(var a in this.assets.off(),this.bundles.destroy(),this.bundles=null,this.i18n.destroy(),this.i18n=null,this.loader.getHandler("script")._cache){var s=this.loader.getHandler("script")._cache[a],o=s.parentNode;o&&o.removeChild(s)}this.loader.getHandler("script")._cache={},this.loader.destroy(),this.loader=null,this.scene.destroy(),this.scene=null,this.systems=[],this.context=null,this.scripts.destroy(),this.scripts=null,this.scenes.destroy(),this.scenes=null,this.lightmapper.destroy(),this.lightmapper=null,this.batcher.destroyManager(),this.batcher=null,this._entityIndex={},this.defaultLayerDepth.onPreRenderOpaque=null,this.defaultLayerDepth.onPostRenderOpaque=null,this.defaultLayerDepth.onDisable=null,this.defaultLayerDepth.onEnable=null,this.defaultLayerDepth=null,this.defaultLayerWorld=null,Ee&&(Ee.destroy(),Ee=null),this.vr&&(this.vr.destroy(),this.vr=null),this.xr.end(),this.graphicsDevice.destroy(),this.graphicsDevice=null,this.renderer=null,this.tick=null,this.off(),this._soundManager&&(this._soundManager.destroy(),this._soundManager=null),js.app=null,mn.DEFAULT_PARAM_TEXTURE=null,Au._applications[i]=null,Au._currentApplication===this&&(Au._currentApplication=null)},getEntityFromIndex:function(e){return this._entityIndex[e]}});var yu={},gu=function(t){var i,r=t;return function(t,n){if(r.graphicsDevice){Au._currentApplication=r,i&&(window.cancelAnimationFrame(i),i=null),e.app=r;var a=r._processTimestamp(t)||x(),s=a-(r._time||a),o=s/1e3;o=A.clamp(o,0,r.maxDeltaTime),o*=r.timeScale,r._time=a,i=r.vr&&r.vr.display?r.vr.display.requestAnimationFrame(r.tick):r.xr.session?r.xr.session.requestAnimationFrame(r.tick):window.requestAnimationFrame(r.tick),r.graphicsDevice.contextLost||(r._fillFrameStatsBasic(a,o,s),r.fire("frameupdate",s),n?(r.xr.update(n),r.graphicsDevice.defaultFramebuffer=n.session.renderState.baseLayer.framebuffer):r.graphicsDevice.defaultFramebuffer=null,r.update(o),r.fire("framerender"),(r.autoRender||r.renderNextFrame)&&(r.render(),r.renderNextFrame=!1),yu.timestamp=x(),yu.target=r,r.fire("frameend",yu),r.fire("frameEnd",yu),r.vr&&r.vr.display&&r.vr.display.presenting&&r.vr.display.submitFrame())}}};function ku(){return Au.getApplication().scene.defaultMaterial}var xu=0;function Su(){this.name="Untitled",this.id=xu++,this._shader=null,this.variants={},this.parameters={},this.alphaTest=0,this.alphaToCoverage=!1,this.blend=!1,this.blendSrc=1,this.blendDst=0,this.blendEquation=0,this.separateAlphaBlend=!1,this.blendSrcAlpha=1,this.blendDstAlpha=0,this.blendAlphaEquation=0,this.cull=1,this.depthTest=!0,this.depthWrite=!0,this.stencilFront=null,this.stencilBack=null,this.depthBias=0,this.slopeDepthBias=0,this.redWrite=!0,this.greenWrite=!0,this.blueWrite=!0,this.alphaWrite=!0,this.meshInstances=[],this._shaderVersion=0,this._scene=null,this._dirtyBlend=!1,this.dirty=!0}function Tu(){this._mapXForms=null}function wu(){Su.call(this),this._assetReferences={},this._validator=null,this.shaderOptBuilder=new Tu,this.reset()}Object.defineProperty(Su.prototype,"shader",{get:function(){return this._shader},set:function(e){this._shader=e}}),Object.defineProperty(Su.prototype,"blendType",{get:function(){return this.blend||1!==this.blendSrc||0!==this.blendDst||0!==this.blendEquation?this.blend&&6===this.blendSrc&&8===this.blendDst&&0===this.blendEquation?2:this.blend&&1===this.blendSrc&&1===this.blendDst&&0===this.blendEquation?1:this.blend&&6===this.blendSrc&&1===this.blendDst&&0===this.blendEquation?6:this.blend&&4===this.blendSrc&&2===this.blendDst&&0===this.blendEquation?7:this.blend&&5===this.blendSrc&&1===this.blendDst&&0===this.blendEquation?8:this.blend&&1===this.blendSrc&&1===this.blendDst&&3===this.blendEquation?9:this.blend&&1===this.blendSrc&&1===this.blendDst&&4===this.blendEquation?10:this.blend&&4===this.blendSrc&&0===this.blendDst&&0===this.blendEquation?5:this.blend&&1===this.blendSrc&&8===this.blendDst&&0===this.blendEquation?4:2:3},set:function(e){var t=this.blend;switch(e){case 3:this.blend=!1,this.blendSrc=1,this.blendDst=0,this.blendEquation=0;break;case 2:this.blend=!0,this.blendSrc=6,this.blendDst=8,this.blendEquation=0;break;case 4:this.blend=!0,this.blendSrc=1,this.blendDst=8,this.blendEquation=0;break;case 1:this.blend=!0,this.blendSrc=1,this.blendDst=1,this.blendEquation=0;break;case 6:this.blend=!0,this.blendSrc=6,this.blendDst=1,this.blendEquation=0;break;case 7:this.blend=!0,this.blendSrc=4,this.blendDst=2,this.blendEquation=0;break;case 8:this.blend=!0,this.blendSrc=5,this.blendDst=1,this.blendEquation=0;break;case 5:this.blend=!0,this.blendSrc=4,this.blendDst=0,this.blendEquation=0;break;case 9:this.blend=!0,this.blendSrc=1,this.blendDst=1,this.blendEquation=3;break;case 10:this.blend=!0,this.blendSrc=1,this.blendDst=1,this.blendEquation=4}t!==this.blend&&(this._scene?this._scene.layers._dirtyBlend=!0:this._dirtyBlend=!0),this._updateMeshInstanceKeys()}}),Su.prototype._cloneInternal=function(e){e.name=this.name,e.shader=this.shader,e.alphaTest=this.alphaTest,e.alphaToCoverage=this.alphaToCoverage,e.blend=this.blend,e.blendSrc=this.blendSrc,e.blendDst=this.blendDst,e.blendEquation=this.blendEquation,e.separateAlphaBlend=this.separateAlphaBlend,e.blendSrcAlpha=this.blendSrcAlpha,e.blendDstAlpha=this.blendDstAlpha,e.blendAlphaEquation=this.blendAlphaEquation,e.cull=this.cull,e.depthTest=this.depthTest,e.depthWrite=this.depthWrite,e.depthBias=this.depthBias,e.slopeDepthBias=this.slopeDepthBias,this.stencilFront&&(e.stencilFront=this.stencilFront.clone()),this.stencilBack&&(this.stencilFront===this.stencilBack?e.stencilBack=e.stencilFront:e.stencilBack=this.stencilBack.clone()),e.redWrite=this.redWrite,e.greenWrite=this.greenWrite,e.blueWrite=this.blueWrite,e.alphaWrite=this.alphaWrite},Su.prototype.clone=function(){var e=new Su;return this._cloneInternal(e),e},Su.prototype._updateMeshInstanceKeys=function(){var e,t=this.meshInstances;for(e=0;e<t.length;e++)t[e].updateKey()},Su.prototype.updateUniforms=function(){},Su.prototype.updateShader=function(e,t,i){},Su.prototype.update=function(){this.dirty=!0,this._shader&&(this._shader.failed=!1)},Su.prototype.clearParameters=function(){this.parameters={}},Su.prototype.getParameters=function(){return this.parameters},Su.prototype.clearVariants=function(){var e,t;this.variants={};for(var i=0;i<this.meshInstances.length;i++)for(e=this.meshInstances[i],t=0;t<e._shader.length;t++)e._shader[t]=null},Su.prototype.getParameter=function(e){return this.parameters[e]},Su.prototype.setParameter=function(e,t){if(void 0===t&&"object"===typeof e){var i=e;if(i.length){for(var r=0;r<i.length;r++)this.setParameter(i[r]);return}e=i.name,t=i.value}var n=this.parameters[e];n?n.data=t:this.parameters[e]={scopeId:null,data:t}},Su.prototype.deleteParameter=function(e){this.parameters[e]&&delete this.parameters[e]},Su.prototype.setParameters=function(e,t){var i,r=this.parameters;for(var n in void 0===t&&(t=r),t)(i=r[n])&&(i.scopeId||(i.scopeId=e.scope.resolve(n)),i.scopeId.setValue(i.data))},Su.prototype.destroy=function(){var e,t;this.variants={},this.shader=null;for(var i=0;i<this.meshInstances.length;i++){for(e=this.meshInstances[i],t=0;t<e._shader.length;t++)e._shader[t]=null;e._material=null;var r=ku();this!==r&&(e.material=r)}},Tu.prototype.updateMinRef=function(e,t,i,r,n,a,s,o,l){this._updateSharedOptions(e,r,n,s),this._updateMinOptions(e,r),this._updateUVOptions(e,r,n,!0)},Tu.prototype.updateRef=function(e,t,i,r,n,a,s,o,l){this._updateSharedOptions(e,r,n,s),e.useTexCubeLod=t.useTexCubeLod,this._updateEnvOptions(e,r,i,l),this._updateMaterialOptions(e,r),1===s&&(e.gamma&&(e.gamma=3),e.toneMap=0),e.hasTangents=n&&r.normalMap&&0!==(512&n),this._updateLightOptions(e,r,n,o,a),this._updateUVOptions(e,r,n,!1),e.clearCoat=r.clearCoat,e.clearCoatGlossiness=r.clearCoatGlossiness},Tu.prototype._updateSharedOptions=function(e,t,i,r){e.pass=r,e.alphaTest=t.alphaTest>0,e.forceFragmentPrecision=t.forceFragmentPrecision||"",e.chunks=t.chunks||"",e.blendType=t.blendType,e.forceUv1=t.forceUv1,e.screenSpace=i&&0!==(256&i),e.skin=i&&0!==(2&i),e.useInstancing=i&&0!==(32&i),e.useMorphPosition=i&&0!==(1024&i),e.useMorphNormal=i&&0!==(2048&i),e.useMorphTextureBased=i&&0!==(4096&i),e.nineSlicedMode=t.nineSlicedMode||0},Tu.prototype._updateUVOptions=function(e,t,i,r){var n=!1,a=!1,s=!1;for(var o in i&&(n=0!==(4&i),a=0!==(8&i),s=0!==(16&i)),e.vertexColors=!1,this._mapXForms=[],tt)this._updateTexOptions(e,t,o,n,a,s,r);this._mapXForms=null},Tu.prototype._updateMinOptions=function(e,t){e.opacityTint=1!==t.opacity&&3!==t.blendType,e.lights=[]},Tu.prototype._updateMaterialOptions=function(e,t){var i=1===t.diffuse.r&&1===t.diffuse.g&&1===t.diffuse.b||!t.diffuseTint&&(t.diffuseMap||t.diffuseVertexColor)?0:3,r=!1,n=!!t.useMetalness||!!t.specularMap||!!t.sphereMap||!!t.cubeMap||!!t.dpAtlas;(n=(n=(n=n||!!t.useMetalness||!(0===t.specular.r&&0===t.specular.g&&0===t.specular.b))||t.enableGGXSpecular)||t.clearCoat>0)&&(!t.specularTint&&(t.specularMap||t.specularVertexColor)||t.useMetalness||(r=1!==t.specular.r||1!==t.specular.g||1!==t.specular.b));var a=t.emissiveMap?0:3;a||(a=(a=(1!==t.emissive.r||1!==t.emissive.g||1!==t.emissive.b||1!==t.emissiveIntensity)&&t.emissiveTint)?3:1!==t.emissiveIntensity?1:0);var s=!!t.normalMap&&(10===t.normalMap.format||"swizzleGGGR"===t.normalMap.type);e.opacityTint=1!==t.opacity&&3!==t.blendType?1:0,e.blendMapsWithColors=!0,e.ambientTint=t.ambientTint,e.diffuseTint=i,e.specularTint=r?3:0,e.metalnessTint=t.useMetalness&&t.metalness<1?1:0,e.glossTint=1,e.emissiveTint=a,e.alphaToCoverage=t.alphaToCoverage,e.normalizeNormalMap=t.normalizeNormalMap,e.sphereMap=!!t.sphereMap,e.cubeMap=!!t.cubeMap,e.dpAtlas=!!t.dpAtlas,e.ambientSH=!!t.ambientSH,e.useSpecular=n,e.emissiveFormat=t.emissiveMap?"rgbm"===t.emissiveMap.type?1:14===t.emissiveMap.format?2:0:null,e.lightMapFormat=t.lightMap?"rgbm"===t.lightMap.type?1:14===t.lightMap.format?2:0:null,e.specularAntialias=t.specularAntialias&&!!t.normalMap&&!!t.normalMap.mipmaps&&!s,e.conserveEnergy=t.conserveEnergy,e.occludeSpecular=t.occludeSpecular,e.occludeSpecularFloat=1!==t.occludeSpecularIntensity,e.occludeDirect=t.occludeDirect,e.shadingModel=t.shadingModel,e.fresnelModel=t.fresnelModel,e.packedNormal=s,e.fastTbn=t.fastTbn,e.cubeMapProjection=t.cubeMapProjection,e.customFragmentShader=t.customFragmentShader,e.refraction=!!t.refraction,e.useMetalness=t.useMetalness,e.enableGGXSpecular=t.enableGGXSpecular,e.msdf=!!t.msdfMap,e.twoSidedLighting=t.twoSidedLighting,e.pixelSnap=t.pixelSnap,e.aoMapUv=t.aoUvSet,e.diffuseDetail=!!t.diffuseMap,e.normalDetail=!!t.normalMap,e.diffuseDetailMode=t.diffuseDetailMode,e.detailModes=!!e.diffuseDetail,e.clearCoatTint=1!==t.clearCoat?1:0,e.clearCoatGlossTint=1!==t.clearCoatGlossiness?1:0},Tu.prototype._updateEnvOptions=function(e,t,i,r){var n,a=r&&"rgbm"===r.type||t.cubeMap&&"rgbm"===t.cubeMap.type||t.dpAtlas&&"rgbm"===t.dpAtlas.type,s=r&&("rgbm"===r.type||14===r.format)||t.cubeMap&&("rgbm"===t.cubeMap.type||14===t.cubeMap.format)||t.dpAtlas&&("rgbm"===t.dpAtlas.type||14===t.dpAtlas.format),o=r&&!t.cubeMap&&!t.sphereMap&&!t.dpAtlas&&"rgbm"===r.type||t.cubeMap&&"rgbm"===t.cubeMap.type||t.sphereMap&&"rgbm"===t.sphereMap.type||t.dpAtlas&&"rgbm"===t.dpAtlas.type,l=!(!r||t.cubeMap||t.sphereMap||t.dpAtlas)&&("rgbm"===r.type||14===r.format)||t.cubeMap&&("rgbm"===t.cubeMap.type||14===t.cubeMap.format)||t.sphereMap&&("rgbm"===t.sphereMap.type||14===t.sphereMap.format)||t.dpAtlas&&("rgbm"===t.dpAtlas.type||14===t.dpAtlas.format);t.useSkybox&&i._skyboxPrefiltered&&(n=i._skyboxPrefiltered[0]),e.fog=t.useFog?i.fog:"none",e.gamma=t.useGammaTonemap?i.gammaCorrection:0,e.toneMap=t.useGammaTonemap?i.toneMapping:-1,e.rgbmAmbient=a,e.hdrAmbient=s,e.rgbmReflection=o,e.hdrReflection=l,e.useRgbm=o||a||t.emissiveMap&&"rgbm"===t.emissiveMap.type||t.lightMap&&"rgbm"===t.lightMap.type,e.fixSeams=r?r.fixCubemapSeams:!!t.cubeMap&&t.cubeMap.fixCubemapSeams,e.prefilteredCubemap=!!r,e.skyboxIntensity=r&&n&&r===n&&1!==i.skyboxIntensity},Tu.prototype._updateLightOptions=function(e,t,i,r,n){if(e.lightMap=!1,e.lightMapChannel="",e.lightMapUv=0,e.lightMapTransform=0,e.lightMapWithoutAmbient=!1,e.dirLightMap=!1,i&&(e.noShadow=0!==(1&i),0!==(64&i)&&(e.lightMapFormat=1,e.lightMap=!0,e.lightMapChannel="rgb",e.lightMapUv=1,e.lightMapTransform=0,e.lightMapWithoutAmbient=!t.lightMap,e.useRgbm=!0,0!==(128&i)&&(e.dirLightMap=!0))),t.useLighting){var a=[],s=i?i>>16:1;r&&(this._collectLights(0,r[0],a,s),this._collectLights(1,r[1],a,s,n),this._collectLights(2,r[2],a,s,n)),e.lights=a}else e.lights=[];0===e.lights.length&&(e.noShadow=!0)},Tu.prototype._updateTexOptions=function(e,t,i,r,n,a,s){var o=i+"Map",l=i+"VertexColor",c=i+"VertexColorChannel",f=o+"Channel",h=o+"Transform",u=o+"Uv";"light"!==i&&(e[o]=!1,e[f]="",e[h]=0,e[u]=0),e[l]=!1,e[c]="";var d="opacity"===i;if(d&&3===t.blendType&&0===t.alphaTest&&!t.alphaToCoverage)return e;if((!s||d)&&("height"!==i&&t[l]&&a&&(e[l]=t[l],e[c]=t[c],e.vertexColors=!0),t[o])){var p=!0;0!==t[u]||r||(p=!1),1!==t[u]||n||(p=!1),p&&(e[o]=!!t[o],e[h]=this._getMapTransformID(t[h],t[u]),e[f]=t[f],e[u]=t[u])}},Tu.prototype._collectLights=function(e,t,i,r,n){var a,s;for(s=0;s<t.length;s++)if((a=t[s]).enabled&&a.mask&r){if(0!==e&&a.isStatic)continue;i.push(a)}if(n)for(s=0;s<n.length;s++)(a=n[s])._type===e&&i.push(a)},Tu.prototype._getMapTransformID=function(e,t){if(!e)return 0;var i,r;for(this._mapXForms[t]||(this._mapXForms[t]=[]),i=0;i<this._mapXForms[t].length;i++){if(r=!0,this._mapXForms[t][i][0]!=e.x){r=!1;break}if(this._mapXForms[t][i][1]!=e.y){r=!1;break}if(this._mapXForms[t][i][2]!=e.z){r=!1;break}if(this._mapXForms[t][i][3]!=e.w){r=!1;break}if(r)return i+1}var n=this._mapXForms[t].length;return this._mapXForms[t][n]=[],this._mapXForms[t][n][0]=e.x,this._mapXForms[t][n][1]=e.y,this._mapXForms[t][n][2]=e.z,this._mapXForms[t][n][3]=e.w,n+1},wu.prototype=Object.create(Su.prototype),wu.prototype.constructor=wu,wu.TEXTURE_PARAMETERS=ks,wu.CUBEMAP_PARAMETERS=xs;var Eu=[],Mu=[],Pu=[],Ru=[],Cu={},Ou=function(e,t,i,r,n,a,s){var o="_"+t+"Map",l=o+"Tiling",c=o+"Offset",f=o.substring(1)+"Transform",h=f+"Uniform",u=o+"Uv",d=o+"Channel",p="_"+t+"VertexColor",_="_"+t+"VertexColorChannel",m="_"+t+"Mode";if(e[o]=null,e[l]=new O(1,1),e[c]=new O(0,0),e[f]=null,e[h]=null,e[u]=i,r>0){var b=n||(r>1?"rgb":"g");e[d]=b,a&&(e[_]=b)}a&&(e[p]=!1),s&&(e[m]="mul"),tt[t]=r,Object.defineProperty(wu.prototype,o.substring(1),{get:function(){return this[o]},set:function(e){var t=this[o];!!t^!!e&&(this.dirtyShader=!0),t&&e&&(t.type===e.type&&t.fixCubemapSeams===e.fixCubemapSeams&&t.format===e.format||(this.dirtyShader=!0)),this[o]=e}});var A=l.substring(1),v=c.substring(1);Object.defineProperty(wu.prototype,A,{get:function(){return this[l]},set:function(e){this.dirtyShader=!0,this[l]=e}}),Cu[A]=function(e,t,i){var r=e._updateMapTransform(i?e[f]:null,t,e[c]);return{name:"texture_"+f,value:r.data}},Object.defineProperty(wu.prototype,v,{get:function(){return this[c]},set:function(e){this.dirtyShader=!0,this[c]=e}}),Cu[v]=function(e,t,i){var r=e._updateMapTransform(i?e[f]:null,e[l],t);return{name:"texture_"+f,value:r.data}},Object.defineProperty(wu.prototype,u.substring(1),{get:function(){return this[u]},set:function(e){this[u]!==e&&(this.dirtyShader=!0),this[u]=e}}),Object.defineProperty(wu.prototype,d.substring(1),{get:function(){return this[d]},set:function(e){this[d]!==e&&(this.dirtyShader=!0),this[d]=e}}),a&&(Object.defineProperty(wu.prototype,p.substring(1),{get:function(){return this[p]},set:function(e){this.dirtyShader=!0,this[p]=e}}),Object.defineProperty(wu.prototype,_.substring(1),{get:function(){return this[_]},set:function(e){this[_]!==e&&(this.dirtyShader=!0),this[_]=e}})),s&&Object.defineProperty(wu.prototype,m.substring(1),{get:function(){return this[m]},set:function(e){this.dirtyShader=!0,this[m]=e}}),Eu.push(o.substring(1)),Eu.push(l.substring(1)),Eu.push(c.substring(1)),Eu.push(u.substring(1)),Eu.push(d.substring(1)),a&&(Eu.push(p.substring(1)),Eu.push(_.substring(1))),s&&Eu.push(m.substring(1)),Pu.push(f)},Iu=[],Du=function(e,t,i,r){var n="_"+t,a=t+"Uniform",s=t+"Intensity",o="_"+s;e[n]=i,e[a]=new Float32Array(3),Object.defineProperty(wu.prototype,t,{get:function(){return this.dirtyColor=!0,this.dirtyShader=!0,this[n]},set:function(e){var t=this[n];(0===t.r&&0===t.g&&0===t.b||1===t.r&&1===t.g&&1===t.b)^(0===e.r&&0===e.g&&0===e.b||1===e.r&&1===e.g&&1===e.b)&&(this.dirtyShader=!0),this.dirtyColor=!0,this[n]=e}}),Eu.push(t),Ru.push(a),Iu.push(t),Cu[t]=function(e,i,n){var s=n?e[a]:new Float32Array(3),l=!1;e.useGammaTonemap&&(l=(e._scene||Au.getApplication().scene).gammaCorrection);for(var c=0;c<3;c++)s[c]=l?Math.pow(i.data[c],2.2):i.data[c],r&&(s[c]*=e[o]);return{name:"material_"+t,value:s}},r&&(e[o]=1,Object.defineProperty(wu.prototype,s,{get:function(){return this[o]},set:function(e){var t=this[o];(0===t||1===t)^(0===e||1===e)&&(this.dirtyShader=!0),this.dirtyColor=!0,this[o]=e}}),Eu.push(s),Cu[s]=function(e,i,r){var s=r?e[a]:new Float32Array(3),l=!1;e.useGammaTonemap&&(l=(e._scene||Au.getApplication().scene).gammaCorrection);for(var c=0;c<3;c++)s[c]=l?Math.pow(e[n].data[c],2.2):e[n].data[c],s[c]*=e[o];return{name:"material_"+t,value:s}})},Fu=function(e,t,i,r){var n="_"+t;e[n]=i,Object.defineProperty(wu.prototype,t,{get:function(){return this[n]},set:function(e){var t=this[n];t!==e&&(this[n]=e,(0===t||1===t||0===e||1===e)&&(this.dirtyShader=!0))}}),Eu.push(t),Cu[t]=void 0!==r?r:function(e,i,r){return{name:"material_"+t,value:i}}},Nu=function(e,t,i){var r="_"+t;e[r]=null,Object.defineProperty(wu.prototype,t,{get:function(){return this[r]},set:function(e){!!this[r]^!!e&&(this.dirtyShader=!0),this[r]=e}}),Eu.push(t),Cu[t]=i},Bu=function(e,t,i){Object.defineProperty(wu.prototype,i,{get:function(){return this[t]},set:function(e){this[t]=e}})},Lu=function(e,t,i){var r="_"+t;e[r]=i,Object.defineProperty(wu.prototype,t,{get:function(){return this[r]},set:function(e){this[r]!==e&&(this.dirtyShader=!0),this[r]=e}}),Eu.push(t)},Uu=function(){};function Vu(e){this._device=e,this._cache={},this._generators={},this._isClearingCache=!1,this._precached=!1,this._programsCollection=[],this._defaultStdMatOption={},this._defaultStdMatOptionMin={};var t=new wu;t.shaderOptBuilder.updateRef(this._defaultStdMatOption,e,{},t,null,[],0,null,null),t.shaderOptBuilder.updateMinRef(this._defaultStdMatOptionMin,e,{},t,null,[],3,null,null)}function zu(){this.globalId=0,this.revision=0}Uu.prototype.copy=function(e){for(var t in e)e.hasOwnProperty(t)&&"copy"!==t&&(this[t]=e[t])},Object.assign(wu.prototype,{reset:function(){var e;for(e=0;e<Eu.length;e++){var t=Mu[e];this[Eu[e]]=t&&t.clone?t.clone():t}for(e=0;e<Pu.length;e++)this[Pu[e]]=null;for(e=0;e<Ru.length;e++)this[Ru[e]]=new Float32Array(3);this._chunks=new Uu,this.cubeMapMinUniform=new Float32Array(3),this.cubeMapMaxUniform=new Float32Array(3)},clone:function(){var e,t=new wu;Su.prototype._cloneInternal.call(this,t);for(var i=0;i<Eu.length;i++)void 0!==this[e=Eu[i]]&&(this[e]&&this[e].copy?t[e]?t[e].copy(this[e]):t[e]=this[e].clone():t[e]=this[e]);return t},_updateMapTransform:function(e,t,i){return 1===t.x&&1===t.y&&0===i.x&&0===i.y?null:((e=e||new D).set(t.x,t.y,i.x,i.y),e)},_setParameter:function(e,t){this.parameters[e]||this._propsSet.push(e),this.setParameter(e,t)},_clearParameters:function(){for(var e=this._propsSet,t=0;t<e.length;t++)delete this.parameters[e[t]];this._propsSet=[]},_updateMap:function(e){var t=e+"Map",i=this[t];if(i){this._setParameter("texture_"+t,i);var r=t+"Transform";this[r]=this._updateMapTransform(this[r],this[t+"Tiling"],this[t+"Offset"]);var n=this[r];if(n){var a=t+"TransformUniform",s=this[a];s||(s=new Float32Array(4),this[a]=s),s[0]=n.x,s[1]=n.y,s[2]=n.z,s[3]=n.w,this._setParameter("texture_"+r,s)}}},getUniform:function(e,t,i){var r=Cu[e];return r?r(this,t,i):null},updateUniforms:function(){var e;for(var t in this._clearParameters(),this._setParameter("material_ambient",this.ambientUniform),this.diffuseMap&&!this.diffuseTint||this._setParameter("material_diffuse",this.diffuseUniform),this.useMetalness?((!this.metalnessMap||this.metalness<1)&&this._setParameter("material_metalness",this.metalness),this.enableGGXSpecular&&this._setParameter("material_anisotropy",this.anisotropy)):this.specularMap&&!this.specularTint||this._setParameter("material_specular",this.specularUniform),this.clearCoat>0&&(this._setParameter("material_clearCoat",this.clearCoat),this._setParameter("material_clearCoatGlossiness",this.clearCoatGlossiness),this._setParameter("material_clearCoatReflectivity",this.clearCoat),this._setParameter("material_clearCoatBumpiness",this.clearCoatBumpiness)),e=this.getUniform("shininess",this.shininess,!0),this._setParameter(e.name,e.value),this.emissiveMap&&!this.emissiveTint||this._setParameter("material_emissive",this.emissiveUniform),this.emissiveMap&&this._setParameter("material_emissiveIntensity",this.emissiveIntensity),this.refraction>0&&(this._setParameter("material_refraction",this.refraction),this._setParameter("material_refractionIndex",this.refractionIndex)),this._setParameter("material_opacity",this.opacity),this.occludeSpecular&&this._setParameter("material_occludeSpecularIntensity",this.occludeSpecularIntensity),1===this.cubeMapProjection&&this._setParameter(this.getUniform("cubeMapProjectionBox",this.cubeMapProjectionBox,!0)),tt)this._updateMap(t);this.ambientSH&&this._setParameter("ambientSH[0]",this.ambientSH),this.normalMap&&this._setParameter("material_bumpiness",this.bumpiness),this.normalMap&&this.normalDetailMap&&this._setParameter("material_normalDetailMapBumpiness",this.normalDetailMapBumpiness),this.heightMap&&(e=this.getUniform("heightMapFactor",this.heightMapFactor,!0),this._setParameter(e.name,e.value)),this.cubeMap&&this._setParameter("texture_cubeMap",this.cubeMap),this.prefilteredCubeMap128?this._setParameter("texture_prefilteredCubeMap128",this.prefilteredCubeMap128):this._scene&&this._scene._skyboxPrefiltered[0]&&this._setParameter("texture_prefilteredCubeMap128",this._scene._skyboxPrefiltered[0]),this.prefilteredCubeMap64?this._setParameter("texture_prefilteredCubeMap64",this.prefilteredCubeMap64):this._scene&&this._scene._skyboxPrefiltered[1]&&this._setParameter("texture_prefilteredCubeMap64",this._scene._skyboxPrefiltered[1]),this.prefilteredCubeMap32?this._setParameter("texture_prefilteredCubeMap32",this.prefilteredCubeMap32):this._scene&&this._scene._skyboxPrefiltered[2]&&this._setParameter("texture_prefilteredCubeMap32",this._scene._skyboxPrefiltered[2]),this.prefilteredCubeMap16?this._setParameter("texture_prefilteredCubeMap16",this.prefilteredCubeMap16):this._scene&&this._scene._skyboxPrefiltered[3]&&this._setParameter("texture_prefilteredCubeMap16",this._scene._skyboxPrefiltered[3]),this.prefilteredCubeMap8?this._setParameter("texture_prefilteredCubeMap8",this.prefilteredCubeMap8):this._scene&&this._scene._skyboxPrefiltered[4]&&this._setParameter("texture_prefilteredCubeMap8",this._scene._skyboxPrefiltered[4]),this.prefilteredCubeMap4?this._setParameter("texture_prefilteredCubeMap4",this.prefilteredCubeMap4):this._scene&&this._scene._skyboxPrefiltered[5]&&this._setParameter("texture_prefilteredCubeMap4",this._scene._skyboxPrefiltered[5]),this.sphereMap&&this._setParameter("texture_sphereMap",this.sphereMap),this.dpAtlas&&this._setParameter("texture_sphereMap",this.dpAtlas),this._setParameter("material_reflectivity",this.reflectivity),!this.dirtyShader&&this._scene||(this.shader=null,this.clearVariants()),this._processColor()},_processColor:function(){var e,t;if(this.dirtyColor&&(this._scene||!this.useGammaTonemap)){var i=!1;for(this.useGammaTonemap&&(i=this._scene.gammaCorrection),t=0;t<Iu.length;t++){var r=this["_"+Iu[t]],n=this[Iu[t]+"Uniform"];i?(n[0]=Math.pow(r.r,2.2),n[1]=Math.pow(r.g,2.2),n[2]=Math.pow(r.b,2.2)):(n[0]=r.r,n[1]=r.g,n[2]=r.b)}for(e=0;e<3;e++)this.emissiveUniform[e]*=this.emissiveIntensity;this.dirtyColor=!1}},updateShader:function(e,t,i,r,n,a){!this._colorProcessed&&this._scene&&(this._colorProcessed=!0,this._processColor());var s,o,l,c,f,h,u=e.useTexCubeLod,d=!e.extTextureLod;this.useSkybox&&(s=t._skyboxPrefiltered[0],o=t._skyboxPrefiltered[1],l=t._skyboxPrefiltered[2],c=t._skyboxPrefiltered[3],f=t._skyboxPrefiltered[4],h=t._skyboxPrefiltered[5]);var p=this.prefilteredCubeMap128||s,_=this.prefilteredCubeMap64||o,m=this.prefilteredCubeMap32||l,b=this.prefilteredCubeMap16||c,A=this.prefilteredCubeMap8||f,v=this.prefilteredCubeMap4||h;if(p){var y=p&&_&&m&&b&&A&&v;if(d&&y){if(!p.dpAtlas){var g=[p,_,m,b,A,v];p.dpAtlas=function(e,t,i){var r,n;n=new D;var a=new D,s=2*t[0].width*2,o=We(e,Ce.fullscreenQuadVS,Ce.dpAtlasQuadPS,"dpAtlasQuad"),l=e.scope.resolve("source"),c=e.scope.resolve("params"),f=new nt(e,{type:t[0].type,format:t[0].format,width:s,height:s,mipmaps:!1});f.name="paraboloid";for(var h,u=new qu(e,f,{depth:!1}),d=(s+2)/s-1,p=0;p<6;p++)r=ot(e,t[p],p,i),l.setValue(r),h=lt(n,p),a.x=h*d,a.y=2*a.x,a.x+=1,a.y+=1,c.setValue(a.data),n.x*=s,n.y*=s,n.z*=s,n.w*=s,Pe(e,u,o,n);return f}(e,g),p.sh=td(b)}this.dpAtlas=p.dpAtlas,this.ambientSH=p.sh,this._setParameter("ambientSH[0]",this.ambientSH),this._setParameter("texture_sphereMap",this.dpAtlas)}else u?p._levels.length<6?y?this._setParameter("texture_prefilteredCubeMap128",p):console.log("Can't use prefiltered cubemap: "+y+", "+u+", "+p._levels):this._setParameter("texture_prefilteredCubeMap128",p):y?(this._setParameter("texture_prefilteredCubeMap128",p),this._setParameter("texture_prefilteredCubeMap64",_),this._setParameter("texture_prefilteredCubeMap32",m),this._setParameter("texture_prefilteredCubeMap16",b),this._setParameter("texture_prefilteredCubeMap8",A),this._setParameter("texture_prefilteredCubeMap4",v)):console.log("Can't use prefiltered cubemap: "+y+", "+u+", "+p._levels)}var k=n>1&&n<=18,x=k?it.optionsContextMin:it.optionsContext;k?this.shaderOptBuilder.updateMinRef(x,e,t,this,i,r,n,a,p):this.shaderOptBuilder.updateRef(x,e,t,this,i,r,n,a,p),this.onUpdateShader&&(x=this.onUpdateShader(x));var S=e.getProgramLibrary();this.shader=S.getProgram("standard",x),i||(this.clearVariants(),this.variants[0]=this.shader),this.dirtyShader=!1}}),function(e){e.dirtyShader=!0,e.dirtyColor=!0,e._scene=null,e._colorProcessed=!1,Du(e,"ambient",new v(.7,.7,.7)),Du(e,"diffuse",new v(1,1,1)),Du(e,"specular",new v(0,0,0)),Du(e,"emissive",new v(0,0,0),!0),Fu(e,"shininess",25,(function(e,t){return{name:"material_shininess",value:0===e.shadingModel?Math.pow(2,.01*t*11):.01*t}})),Fu(e,"heightMapFactor",1,(function(e,t){return{name:"material_heightMapFactor",value:.025*t}})),Fu(e,"opacity",1),Fu(e,"alphaTest",0),Fu(e,"bumpiness",1),Fu(e,"normalDetailMapBumpiness",1),Fu(e,"reflectivity",1),Fu(e,"occludeSpecularIntensity",1),Fu(e,"refraction",0),Fu(e,"refractionIndex",1/1.5),Fu(e,"metalness",1),Fu(e,"anisotropy",0),Fu(e,"clearCoat",0),Fu(e,"clearCoatGlossiness",1),Fu(e,"clearCoatBumpiness",1),Fu(e,"aoUvSet",0,null),Nu(e,"ambientSH",(function(e,t,i){return{name:"ambientSH[0]",value:t}})),Nu(e,"cubeMapProjectionBox",(function(e,t,i){var r=i?e.cubeMapMinUniform:new Float32Array(3),n=i?e.cubeMapMaxUniform:new Float32Array(3);return r[0]=t.center.x-t.halfExtents.x,r[1]=t.center.y-t.halfExtents.y,r[2]=t.center.z-t.halfExtents.z,n[0]=t.center.x+t.halfExtents.x,n[1]=t.center.y+t.halfExtents.y,n[2]=t.center.z+t.halfExtents.z,[{name:"envBoxMin",value:r},{name:"envBoxMax",value:n}]})),Object.defineProperty(wu.prototype,"chunks",{get:function(){return this.dirtyShader=!0,this._chunks},set:function(e){this.dirtyShader=!0,this._chunks=e}}),Eu.push("chunks"),Lu(e,"ambientTint",!1),Lu(e,"diffuseTint",!1),Lu(e,"specularTint",!1),Lu(e,"emissiveTint",!1),Lu(e,"fastTbn",!1),Lu(e,"specularAntialias",!1),Lu(e,"useMetalness",!1),Lu(e,"enableGGXSpecular",!1),Lu(e,"occludeDirect",!1),Lu(e,"normalizeNormalMap",!0),Lu(e,"conserveEnergy",!0),Lu(e,"occludeSpecular",1),Lu(e,"shadingModel",1),Lu(e,"fresnelModel",0),Lu(e,"cubeMapProjection",0),Lu(e,"customFragmentShader",null),Lu(e,"forceFragmentPrecision",null),Lu(e,"useFog",!0),Lu(e,"useLighting",!0),Lu(e,"useGammaTonemap",!0),Lu(e,"useSkybox",!0),Lu(e,"forceUv1",!1),Lu(e,"pixelSnap",!1),Lu(e,"twoSidedLighting",!1),Lu(e,"nineSlicedMode",void 0),Ou(e,"diffuse",0,3,"",!0),Ou(e,"specular",0,3,"",!0),Ou(e,"emissive",0,3,"",!0),Ou(e,"normal",0,-1,"",!1),Ou(e,"metalness",0,1,"",!0),Ou(e,"gloss",0,1,"",!0),Ou(e,"opacity",0,1,"a",!0),Ou(e,"height",0,1,"",!1),Ou(e,"ao",0,1,"",!0),Ou(e,"light",1,3,"",!0),Ou(e,"msdf",0,3,"",!1),Ou(e,"diffuseDetail",0,3,"",!1,!0),Ou(e,"normalDetail",0,-1,"",!1),Ou(e,"clearCoat",0,1,"",!0),Ou(e,"clearCoatGloss",0,1,"",!0),Ou(e,"clearCoatNormal",0,-1,"",!1),Nu(e,"cubeMap"),Nu(e,"sphereMap"),Nu(e,"dpAtlas"),Nu(e,"prefilteredCubeMap128"),Nu(e,"prefilteredCubeMap64"),Nu(e,"prefilteredCubeMap32"),Nu(e,"prefilteredCubeMap16"),Nu(e,"prefilteredCubeMap8"),Nu(e,"prefilteredCubeMap4"),Bu(0,"diffuseTint","diffuseMapTint"),Bu(0,"specularTint","specularMapTint"),Bu(0,"emissiveTint","emissiveMapTint"),Bu(0,"aoVertexColor","aoMapVertexColor"),Bu(0,"diffuseVertexColor","diffuseMapVertexColor"),Bu(0,"specularVertexColor","specularMapVertexColor"),Bu(0,"emissiveVertexColor","emissiveMapVertexColor"),Bu(0,"metalnessVertexColor","metalnessMapVertexColor"),Bu(0,"glossVertexColor","glossMapVertexColor"),Bu(0,"opacityVertexColor","opacityMapVertexColor"),Bu(0,"lightVertexColor","lightMapVertexColor");for(var t=0;t<Eu.length;t++)Mu[t]=e[Eu[t]];e._propsSet=[]}(wu.prototype),Vu.prototype.register=function(e,t){this.isRegistered(e)||(this._generators[e]=t)},Vu.prototype.unregister=function(e){this.isRegistered(e)&&delete this._generators[e]},Vu.prototype.isRegistered=function(e){return void 0!==this._generators[e]},Vu.prototype.getProgram=function(e,t){var i=this._generators[e];if(void 0===i)return null;var r=this._device,n=i.generateKey(t),a=this._cache[n];if(!a){var s;t.lights&&(s=t.lights,t.lights=s.map((function(e){var t=e.clone?e.clone():e;return t.key=e.key,t}))),this.storeNewProgram(e,t),t.lights&&(t.lights=s),this._precached&&console.warn("ProgramLibrary#getProgram: Cache miss for shader",e,"key",n,"after shaders precaching");var o=i.createShaderDefinition(r,t);a=this._cache[n]=new Re(r,o)}return a},Vu.prototype.storeNewProgram=function(e,t){var i={};if("standard"===e){var r=this._getDefaultStdMatOptions(t.pass);for(var n in t)(t.hasOwnProperty(n)&&r[n]!==t[n]||"pass"===n)&&(i[n]=t[n])}else i=t;this._programsCollection.push(JSON.stringify({name:e,options:i}))},Vu.prototype.dumpPrograms=function(){var e="var device = pc.app ? pc.app.graphicsDevice : pc.Application.getApplication().graphicsDevice;\n";e+="var shaders = [",this._programsCollection[0]&&(e+="\n\t"+this._programsCollection[0]);for(var t=1;t<this._programsCollection.length;++t)e+=",\n\t"+this._programsCollection[t];e+="\n];\n",e+="device.programLib.precompile(shaders);\n",e+='if (pc.version != "'+i+'" || pc.revision != "798f16872")\n',e+='\tconsole.warn("precompile-shaders.js: engine version mismatch, rebuild shaders lib with current engine");';var r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),r.setAttribute("download","precompile-shaders.js"),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)},Vu.prototype.clearCache=function(){var e=this._cache;for(var t in this._isClearingCache=!0,e)e.hasOwnProperty(t)&&e[t].destroy();this._cache={},this._isClearingCache=!1},Vu.prototype.removeFromCache=function(e){if(!this._isClearingCache){var t=this._cache;for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e){delete t[i];break}}},Vu.prototype._getDefaultStdMatOptions=function(e){return e>1&&e<=18?this._defaultStdMatOptionMin:this._defaultStdMatOption},Vu.prototype.precompile=function(e){if(e)for(var t=new Array(e.length),i=0;i<e.length;i++){if("standard"===e[i].name){var r=e[i].options,n=this._getDefaultStdMatOptions(r.pass);for(var a in n)n.hasOwnProperty(a)&&void 0===r[a]&&(r[a]=n[a]);r.useTexCubeLod=this._device.useTexCubeLod}t[i]=this.getProgram(e[i].name,e[i].options)}this._precached=!0},Object.assign(zu.prototype,{equals:function(e){return this.globalId===e.globalId&&this.revision===e.revision},notequals:function(e){return this.globalId!==e.globalId||this.revision!==e.revision},copy:function(e){this.globalId=e.globalId,this.revision=e.revision},reset:function(){this.globalId=0,this.revision=0}});var ju=0;function Wu(){ju++,this.version=new zu,this.version.globalId=ju}function Gu(e){this.name=e,this.value=null,this.versionObject=new Wu}function Hu(e){this.name=e,this.variables={},this.namespaces={}}function Yu(e,t,i,r){if(this.locationId=r,this.scopeId=e.scope.resolve(t),this.version=new zu,"[0]"===t.substr(t.length-3))switch(i){case 2:i=17;break;case 3:i=21;break;case 4:i=22;break;case 5:i=23}this.dataType=i,this.value=[null,null,null,null],this.array=[]}Object.assign(Wu.prototype,{increment:function(){this.version.revision++}}),Object.assign(Gu.prototype,{setValue:function(e){this.value=e,this.versionObject.increment()},getValue:function(){return this.value}}),Object.assign(Hu.prototype,{resolve:function(e){return this.variables.hasOwnProperty(e)||(this.variables[e]=new Gu(e)),this.variables[e]},getSubSpace:function(e){return this.namespaces.hasOwnProperty(e)||(this.namespaces[e]=new Hu(e)),this.namespaces[e]}});var Xu=function(e,t){var i=e.width,r=e.height;if(i>t||r>t){var n=t/Math.max(i,r),a=Math.floor(i*n),s=Math.floor(r*n);console.warn("Image dimensions larger than max supported texture size of "+t+". Resizing from "+i+", "+r+" to "+a+", "+s+".");var o=document.createElement("canvas");return o.width=a,o.height=s,o.getContext("2d").drawImage(e,0,0,i,r,0,0,a,s),o}return e};function Zu(e,t){var i=!0,r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,2,2,0,e.RGBA,t,null);var n=e.createFramebuffer();return e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.checkFramebufferStatus(e.FRAMEBUFFER)!==e.FRAMEBUFFER_COMPLETE&&(i=!1),e.bindTexture(e.TEXTURE_2D,null),e.deleteTexture(r),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(n),i}var Qu=function(e,t){var i;o.call(this),this.canvas=e,this.shader=null,this.indexBuffer=null,this.vertexBuffers=[],this._enableAutoInstancing=!1,this.autoInstancingMaxObjects=16384,this.defaultFramebuffer=null,this.boundVao=null,this.transformFeedbackBuffer=null,this.activeFramebuffer=null,this.textureUnit=0,this.textureUnits=[],this._maxPixelRatio=1,this.renderTarget=null,this.feedback=null,this._tempEnableSafariTextureUnitWorkaround=!!window.safari,this._width=0,this._height=0,this.updateClientRect(),this.vertexShaderCache={},this.fragmentShaderCache={},this.shaders=[],this.buffers=[],this.textures=[],this.targets=[],this._vaoMap=new Map,this.contextLost=!1,this._contextLostHandler=function(e){e.preventDefault(),this.contextLost=!0,this.fire("devicelost")}.bind(this),this._contextRestoredHandler=function(){this.initializeContext(),this.contextLost=!1,this.fire("devicerestored")}.bind(this);var r,n,a,s,l,c=!t||void 0===t.preferWebGl2||t.preferWebGl2,f=c?["webgl2","experimental-webgl2","webgl","experimental-webgl"]:["webgl","experimental-webgl"],h=null;for((t=t||{}).stencil=!0,i=0;i<f.length;i++){try{h=e.getContext(f[i],t)}catch(Zp){}if(h){this.webgl2=c&&i<2;break}}if(!h)throw new Error("WebGL not supported");for(this.gl=h,window.setupVertexArrayObject(h),e.addEventListener("webglcontextlost",this._contextLostHandler,!1),e.addEventListener("webglcontextrestored",this._contextRestoredHandler,!1),this.initializeExtensions(),this.initializeCapabilities(),this.initializeRenderState(),i=0;i<this.maxCombinedTextures;i++)this.textureUnits.push([null,null,null]);for(var u in this.defaultClearOptions={color:[0,0,0,1],depth:1,stencil:0,flags:3},this.glAddress=[h.REPEAT,h.CLAMP_TO_EDGE,h.MIRRORED_REPEAT],this.glBlendEquation=[h.FUNC_ADD,h.FUNC_SUBTRACT,h.FUNC_REVERSE_SUBTRACT,this.webgl2?h.MIN:this.extBlendMinmax?this.extBlendMinmax.MIN_EXT:h.FUNC_ADD,this.webgl2?h.MAX:this.extBlendMinmax?this.extBlendMinmax.MAX_EXT:h.FUNC_ADD],this.glBlendFunction=[h.ZERO,h.ONE,h.SRC_COLOR,h.ONE_MINUS_SRC_COLOR,h.DST_COLOR,h.ONE_MINUS_DST_COLOR,h.SRC_ALPHA,h.SRC_ALPHA_SATURATE,h.ONE_MINUS_SRC_ALPHA,h.DST_ALPHA,h.ONE_MINUS_DST_ALPHA],this.glComparison=[h.NEVER,h.LESS,h.EQUAL,h.LEQUAL,h.GREATER,h.NOTEQUAL,h.GEQUAL,h.ALWAYS],this.glStencilOp=[h.KEEP,h.ZERO,h.REPLACE,h.INCR,h.INCR_WRAP,h.DECR,h.DECR_WRAP,h.INVERT],this.glClearFlag=[0,h.COLOR_BUFFER_BIT,h.DEPTH_BUFFER_BIT,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT,h.STENCIL_BUFFER_BIT,h.STENCIL_BUFFER_BIT|h.COLOR_BUFFER_BIT,h.STENCIL_BUFFER_BIT|h.DEPTH_BUFFER_BIT,h.STENCIL_BUFFER_BIT|h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT],this.glCull=[0,h.BACK,h.FRONT,h.FRONT_AND_BACK],this.glFilter=[h.NEAREST,h.LINEAR,h.NEAREST_MIPMAP_NEAREST,h.NEAREST_MIPMAP_LINEAR,h.LINEAR_MIPMAP_NEAREST,h.LINEAR_MIPMAP_LINEAR],this.glPrimitive=[h.POINTS,h.LINES,h.LINE_LOOP,h.LINE_STRIP,h.TRIANGLES,h.TRIANGLE_STRIP,h.TRIANGLE_FAN],this.glType=[h.BYTE,h.UNSIGNED_BYTE,h.SHORT,h.UNSIGNED_SHORT,h.INT,h.UNSIGNED_INT,h.FLOAT],this.pcUniformType={},this.pcUniformType[h.BOOL]=0,this.pcUniformType[h.INT]=1,this.pcUniformType[h.FLOAT]=2,this.pcUniformType[h.FLOAT_VEC2]=3,this.pcUniformType[h.FLOAT_VEC3]=4,this.pcUniformType[h.FLOAT_VEC4]=5,this.pcUniformType[h.INT_VEC2]=6,this.pcUniformType[h.INT_VEC3]=7,this.pcUniformType[h.INT_VEC4]=8,this.pcUniformType[h.BOOL_VEC2]=9,this.pcUniformType[h.BOOL_VEC3]=10,this.pcUniformType[h.BOOL_VEC4]=11,this.pcUniformType[h.FLOAT_MAT2]=12,this.pcUniformType[h.FLOAT_MAT3]=13,this.pcUniformType[h.FLOAT_MAT4]=14,this.pcUniformType[h.SAMPLER_2D]=15,this.pcUniformType[h.SAMPLER_CUBE]=16,this.webgl2&&(this.pcUniformType[h.SAMPLER_2D_SHADOW]=18,this.pcUniformType[h.SAMPLER_CUBE_SHADOW]=19,this.pcUniformType[h.SAMPLER_3D]=20),this.targetToSlot={},this.targetToSlot[h.TEXTURE_2D]=0,this.targetToSlot[h.TEXTURE_CUBE_MAP]=1,this.targetToSlot[h.TEXTURE_3D]=2,this.commitFunction=[],this.commitFunction[0]=function(e,t){e.value!==t&&(h.uniform1i(e.locationId,t),e.value=t)},this.commitFunction[1]=this.commitFunction[0],this.commitFunction[2]=function(e,t){e.value!==t&&(h.uniform1f(e.locationId,t),e.value=t)},this.commitFunction[3]=function(e,t){l=e.value,r=t[0],n=t[1],l[0]===r&&l[1]===n||(h.uniform2fv(e.locationId,t),l[0]=r,l[1]=n)},this.commitFunction[4]=function(e,t){l=e.value,r=t[0],n=t[1],a=t[2],l[0]===r&&l[1]===n&&l[2]===a||(h.uniform3fv(e.locationId,t),l[0]=r,l[1]=n,l[2]=a)},this.commitFunction[5]=function(e,t){l=e.value,r=t[0],n=t[1],a=t[2],s=t[3],l[0]===r&&l[1]===n&&l[2]===a&&l[3]===s||(h.uniform4fv(e.locationId,t),l[0]=r,l[1]=n,l[2]=a,l[3]=s)},this.commitFunction[6]=function(e,t){l=e.value,r=t[0],n=t[1],l[0]===r&&l[1]===n||(h.uniform2iv(e.locationId,t),l[0]=r,l[1]=n)},this.commitFunction[9]=this.commitFunction[6],this.commitFunction[7]=function(e,t){l=e.value,r=t[0],n=t[1],a=t[2],l[0]===r&&l[1]===n&&l[2]===a||(h.uniform3iv(e.locationId,t),l[0]=r,l[1]=n,l[2]=a)},this.commitFunction[10]=this.commitFunction[7],this.commitFunction[8]=function(e,t){l=e.value,r=t[0],n=t[1],a=t[2],s=t[3],l[0]===r&&l[1]===n&&l[2]===a&&l[3]===s||(h.uniform4iv(e.locationId,t),l[0]=r,l[1]=n,l[2]=a,l[3]=s)},this.commitFunction[11]=this.commitFunction[8],this.commitFunction[12]=function(e,t){h.uniformMatrix2fv(e.locationId,!1,t)},this.commitFunction[13]=function(e,t){h.uniformMatrix3fv(e.locationId,!1,t)},this.commitFunction[14]=function(e,t){h.uniformMatrix4fv(e.locationId,!1,t)},this.commitFunction[17]=function(e,t){h.uniform1fv(e.locationId,t)},this.commitFunction[21]=function(e,t){h.uniform2fv(e.locationId,t)},this.commitFunction[22]=function(e,t){h.uniform3fv(e.locationId,t)},this.commitFunction[23]=function(e,t){h.uniform4fv(e.locationId,t)},this.scope=new Hu("Device"),this.programLib=new Vu(this),rt)this.programLib.register(u,rt[u]);this.supportsBoneTextures=this.extTextureFloat&&this.maxVertexTextures>0,this.useTexCubeLod=this.extTextureLod&&this.maxTextures<16;var d=this.vertexUniformsCount;for(d-=16,d-=8,d-=1,d-=16,this.boneLimit=Math.floor(d/3),this.boneLimit=Math.min(this.boneLimit,128),"Mali-450 MP"===this.unmaskedRenderer&&(this.boneLimit=34),this._drawCallsPerFrame=0,this._shaderSwitchesPerFrame=0,this._primsPerFrame=[],i=0;i<=6;i++)this._primsPerFrame[i]=0;this._renderTargetCreationTime=0,this._vram={tex:0,vb:0,ib:0},this._shaderStats={vsCompiled:0,fsCompiled:0,linked:0,materialShaders:0,compileTime:0},this.constantTexSource=this.scope.resolve("source"),this.extTextureFloat?this.webgl2?this.textureFloatRenderable=!!this.extColorBufferFloat:this.textureFloatRenderable=Zu(h,h.FLOAT):this.textureFloatRenderable=!1,this.extTextureHalfFloat?this.webgl2?this.textureHalfFloatRenderable=!!this.extColorBufferFloat:this.textureHalfFloatRenderable=Zu(h,this.extTextureHalfFloat.HALF_FLOAT_OES):this.textureHalfFloatRenderable=!1,this.supportsMorphTargetTexturesCore="highp"===this.maxPrecision&&this.maxVertexTextures>=2,this._textureFloatHighPrecision=void 0,this._textureHalfFloatUpdatable=void 0,this.createGrabPass(),ue.init(this)};Qu.prototype=Object.create(o.prototype),Qu.prototype.constructor=Qu,Object.assign(Qu.prototype,{getPrecision:function(){var e=this.gl,t="highp";if(e.getShaderPrecisionFormat){var i=e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT),r=e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT),n=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT),a=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT),s=i.precision>0&&n.precision>0,o=r.precision>0&&a.precision>0;s||(t=o?"mediump":"lowp")}return t},initializeExtensions:function(){var e,t=this.gl,i=t.getSupportedExtensions(),r=function(){for(var e=0;e<arguments.length;e++)if(-1!==i.indexOf(arguments[e]))return t.getExtension(arguments[e]);return null};this.webgl2?(this.extBlendMinmax=!0,this.extDrawBuffers=!0,this.extInstancing=!0,this.extStandardDerivatives=!0,this.extTextureFloat=!0,this.extTextureHalfFloat=!0,this.extTextureHalfFloatLinear=!0,this.extTextureLod=!0,this.extUintElement=!0,this.extVertexArrayObject=!0,this.extColorBufferFloat=r("EXT_color_buffer_float"),this.extDisjointTimerQuery=r("EXT_disjoint_timer_query_webgl2","EXT_disjoint_timer_query")):(this.extBlendMinmax=r("EXT_blend_minmax"),this.extDrawBuffers=r("EXT_draw_buffers"),this.extInstancing=r("ANGLE_instanced_arrays"),this.extInstancing&&(e=this.extInstancing,t.drawArraysInstanced=e.drawArraysInstancedANGLE.bind(e),t.drawElementsInstanced=e.drawElementsInstancedANGLE.bind(e),t.vertexAttribDivisor=e.vertexAttribDivisorANGLE.bind(e)),this.extStandardDerivatives=r("OES_standard_derivatives"),this.extTextureFloat=r("OES_texture_float"),this.extTextureHalfFloat=r("OES_texture_half_float"),this.extTextureHalfFloatLinear=r("OES_texture_half_float_linear"),this.extTextureLod=r("EXT_shader_texture_lod"),this.extUintElement=r("OES_element_index_uint"),this.extVertexArrayObject=r("OES_vertex_array_object"),this.extVertexArrayObject&&(e=this.extVertexArrayObject,t.createVertexArray=e.createVertexArrayOES.bind(e),t.deleteVertexArray=e.deleteVertexArrayOES.bind(e),t.isVertexArray=e.isVertexArrayOES.bind(e),t.bindVertexArray=e.bindVertexArrayOES.bind(e)),this.extColorBufferFloat=null,this.extDisjointTimerQuery=null),this.extDebugRendererInfo=r("WEBGL_debug_renderer_info"),this.extTextureFloatLinear=r("OES_texture_float_linear"),this.extFloatBlend=r("EXT_float_blend"),this.extTextureFilterAnisotropic=r("EXT_texture_filter_anisotropic","WEBKIT_EXT_texture_filter_anisotropic"),this.extCompressedTextureETC1=r("WEBGL_compressed_texture_etc1"),this.extCompressedTextureETC=r("WEBGL_compressed_texture_etc"),this.extCompressedTexturePVRTC=r("WEBGL_compressed_texture_pvrtc","WEBKIT_WEBGL_compressed_texture_pvrtc"),this.extCompressedTextureS3TC=r("WEBGL_compressed_texture_s3tc","WEBKIT_WEBGL_compressed_texture_s3tc"),this.extCompressedTextureATC=r("WEBGL_compressed_texture_atc"),this.extCompressedTextureASTC=r("WEBGL_compressed_texture_astc"),this.extParallelShaderCompile=r("KHR_parallel_shader_compile"),this.supportsInstancing=!!this.extInstancing},initializeCapabilities:function(){var e,t=this.gl;this.maxPrecision=this.precision=this.getPrecision();var i=t.getContextAttributes();this.supportsMsaa=i.antialias,this.supportsStencil=i.stencil,this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),this.maxCubeMapSize=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),this.maxRenderBufferSize=t.getParameter(t.MAX_RENDERBUFFER_SIZE),this.maxTextures=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),this.maxCombinedTextures=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.maxVertexTextures=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),this.vertexUniformsCount=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),this.fragmentUniformsCount=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),this.webgl2?(this.maxDrawBuffers=t.getParameter(t.MAX_DRAW_BUFFERS),this.maxColorAttachments=t.getParameter(t.MAX_COLOR_ATTACHMENTS),this.maxVolumeSize=t.getParameter(t.MAX_3D_TEXTURE_SIZE)):(e=this.extDrawBuffers,this.maxDrawBuffers=e?t.getParameter(e.MAX_DRAW_BUFFERS_EXT):1,this.maxColorAttachments=e?t.getParameter(e.MAX_COLOR_ATTACHMENTS_EXT):1,this.maxVolumeSize=1),e=this.extDebugRendererInfo,this.unmaskedRenderer=e?t.getParameter(e.UNMASKED_RENDERER_WEBGL):"",this.unmaskedVendor=e?t.getParameter(e.UNMASKED_VENDOR_WEBGL):"",e=this.extTextureFilterAnisotropic,this.maxAnisotropy=e?t.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1,this.samples=t.getParameter(t.SAMPLES)},initializeRenderState:function(){var e=this.gl;this.blending=!1,e.disable(e.BLEND),this.blendSrc=1,this.blendDst=0,this.blendSrcAlpha=1,this.blendDstAlpha=0,this.separateAlphaBlend=!1,this.blendEquation=0,this.blendAlphaEquation=0,this.separateAlphaEquation=!1,e.blendFunc(e.ONE,e.ZERO),e.blendEquation(e.FUNC_ADD),this.writeRed=!0,this.writeGreen=!0,this.writeBlue=!0,this.writeAlpha=!0,e.colorMask(!0,!0,!0,!0),this.cullMode=1,e.enable(e.CULL_FACE),e.cullFace(e.BACK),this.depthTest=!0,e.enable(e.DEPTH_TEST),this.depthFunc=3,e.depthFunc(e.LEQUAL),this.depthWrite=!0,e.depthMask(!0),this.stencil=!1,e.disable(e.STENCIL_TEST),this.stencilFuncFront=this.stencilFuncBack=7,this.stencilRefFront=this.stencilRefBack=0,this.stencilMaskFront=this.stencilMaskBack=255,e.stencilFunc(e.ALWAYS,0,255),this.stencilFailFront=this.stencilFailBack=0,this.stencilZfailFront=this.stencilZfailBack=0,this.stencilZpassFront=this.stencilZpassBack=0,this.stencilWriteMaskFront=255,this.stencilWriteMaskBack=255,e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.stencilMask(255),this.alphaToCoverage=!1,this.raster=!0,this.webgl2&&(e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.disable(e.RASTERIZER_DISCARD)),this.depthBiasEnabled=!1,e.disable(e.POLYGON_OFFSET_FILL),this.clearDepth=1,e.clearDepth(1),this.clearRed=0,this.clearBlue=0,this.clearGreen=0,this.clearAlpha=0,e.clearColor(0,0,0,0),this.clearStencil=0,e.clearStencil(0),this.vx=this.vy=this.vw=this.vh=0,this.sx=this.sy=this.sw=this.sh=0,this.webgl2?e.hint(e.FRAGMENT_SHADER_DERIVATIVE_HINT,e.NICEST):this.extStandardDerivatives&&e.hint(this.extStandardDerivatives.FRAGMENT_SHADER_DERIVATIVE_HINT_OES,e.NICEST),e.enable(e.SCISSOR_TEST),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),this.unpackFlipY=!1,e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),this.unpackPremultiplyAlpha=!1,e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1)},initializeContext:function(){var e,t;for(this.initializeExtensions(),this.initializeCapabilities(),this.initializeRenderState(),e=0,t=this.shaders.length;e<t;e++)this.compileAndLinkShader(this.shaders[e]);for(this.shader=null,e=0,t=this.buffers.length;e<t;e++)this.buffers[e].bufferId=void 0,this.buffers[e].unlock();for(this.boundVao=null,this.indexBuffer=null,this.vertexBuffers=[],e=0,t=this.textures.length;e<t;e++){var i=this.textures[e];this.destroyTexture(i),i.dirtyAll()}for(this.textureUnit=0,this.textureUnits.length=0,e=0;e<this.maxCombinedTextures;e++)this.textureUnits.push([null,null,null]);for(e=0,t=this.targets.length;e<t;e++)this.targets[e]._glFrameBuffer=void 0,this.targets[e]._glDepthBuffer=void 0,this.targets[e]._glResolveFrameBuffer=void 0,this.targets[e]._glMsaaColorBuffer=void 0,this.targets[e]._glMsaaDepthBuffer=void 0;this.renderTarget=null,this.activeFramebuffer=null,this.feedback=null,this.transformFeedbackBuffer=null},createGrabPass:function(){if(!this.grabPassTexture){var e=new nt(this,{format:7,minFilter:1,magFilter:1,addressU:1,addressV:1,mipmaps:!1});e.name="texture_grabPass";var t=this.scope.resolve(e.name);t.setValue(e);var i=new qu({colorBuffer:e,depth:!1});this.grabPassRenderTarget=i,this.grabPassTextureId=t,this.grabPassTexture=e}},updateGrabPass:function(){var e=this.gl,t=this.renderTarget,i=t&&t._glResolveFrameBuffer,r=this.grabPassTexture,n=this.width,a=this.height;if(this.webgl2&&n===r._width&&a===r._height){i&&t.resolve(!0);var s=t?t._glFrameBuffer:null,o=t?t._glResolveFrameBuffer||t._glFrameBuffer:null;this.initRenderTarget(this.grabPassRenderTarget);var l=this.grabPassRenderTarget._glFrameBuffer;e.bindFramebuffer(e.READ_FRAMEBUFFER,o),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,l),e.blitFramebuffer(0,0,n,a,0,0,n,a,e.COLOR_BUFFER_BIT,e.NEAREST),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,s)}else{i&&(t.resolve(!0),e.bindFramebuffer(e.FRAMEBUFFER,t._glResolveFrameBuffer));var c=r._glFormat;e.copyTexImage2D(e.TEXTURE_2D,0,c,0,0,n,a,0),r._width=n,r._height=a,i&&e.bindFramebuffer(e.FRAMEBUFFER,t._glFrameBuffer)}},destroyGrabPass:function(){this.grabPassRenderTarget.destroy(),this.grabPassRenderTarget=null,this.grabPassTextureId=null,this.grabPassTexture.destroy(),this.grabPassTexture=null},updateClientRect:function(){this.clientRect=this.canvas.getBoundingClientRect()},setViewport:function(e,t,i,r){this.vx===e&&this.vy===t&&this.vw===i&&this.vh===r||(this.gl.viewport(e,t,i,r),this.vx=e,this.vy=t,this.vw=i,this.vh=r)},setScissor:function(e,t,i,r){this.sx===e&&this.sy===t&&this.sw===i&&this.sh===r||(this.gl.scissor(e,t,i,r),this.sx=e,this.sy=t,this.sw=i,this.sh=r)},getProgramLibrary:function(){return this.programLib},setProgramLibrary:function(e){this.programLib=e},setFramebuffer:function(e){this.activeFramebuffer!==e&&(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,e),this.activeFramebuffer=e)},_checkFbo:function(){var e=this.gl;switch(e.checkFramebufferStatus(e.FRAMEBUFFER)){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:console.error("ERROR: FRAMEBUFFER_INCOMPLETE_ATTACHMENT");break;case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:console.error("ERROR: FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT");break;case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:console.error("ERROR: FRAMEBUFFER_INCOMPLETE_DIMENSIONS");break;case e.FRAMEBUFFER_UNSUPPORTED:console.error("ERROR: FRAMEBUFFER_UNSUPPORTED");break;case e.FRAMEBUFFER_COMPLETE:}},copyRenderTarget:function(e,t,i,r){var n=this.gl;if(!this.webgl2&&r)return!1;if(i)if(t){if(!e._colorBuffer||!t._colorBuffer)return!1;if(e._colorBuffer._format!==t._colorBuffer._format)return!1}else if(!e._colorBuffer)return!1;if(r){if(!e._depthBuffer||!t._depthBuffer)return!1;if(e._depthBuffer._format!==t._depthBuffer._format)return!1}if(this.webgl2&&t){var a=this.renderTarget;this.renderTarget=t,this.updateBegin(),n.bindFramebuffer(n.READ_FRAMEBUFFER,e?e._glFrameBuffer:null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,t._glFrameBuffer);var s=e?e.width:t.width,o=e?e.height:t.height;n.blitFramebuffer(0,0,s,o,0,0,s,o,(i?n.COLOR_BUFFER_BIT:0)|(r?n.DEPTH_BUFFER_BIT:0),n.NEAREST),this.renderTarget=a,n.bindFramebuffer(n.FRAMEBUFFER,a?a._glFrameBuffer:null)}else{var l=this.getCopyShader();this.constantTexSource.setValue(e._colorBuffer),Pe(this,t,l)}return!0},initRenderTarget:function(e){if(!e._glFrameBuffer){e._device=this;var t=this.gl;e._glFrameBuffer=t.createFramebuffer(),this.setFramebuffer(e._glFrameBuffer);var i=e._colorBuffer;i&&(i._glTexture||(i._width=Math.min(i.width,this.maxRenderBufferSize),i._height=Math.min(i.height,this.maxRenderBufferSize),this.setTexture(i,0)),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,i._cubemap?t.TEXTURE_CUBE_MAP_POSITIVE_X+e._face:t.TEXTURE_2D,i._glTexture,0));var r=e._depthBuffer;r&&this.webgl2?(r._glTexture||(r._width=Math.min(r.width,this.maxRenderBufferSize),r._height=Math.min(r.height,this.maxRenderBufferSize),this.setTexture(r,0)),e._stencil?t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,r._cubemap?t.TEXTURE_CUBE_MAP_POSITIVE_X+e._face:t.TEXTURE_2D,e._depthBuffer._glTexture,0):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,r._cubemap?t.TEXTURE_CUBE_MAP_POSITIVE_X+e._face:t.TEXTURE_2D,e._depthBuffer._glTexture,0)):e._depth&&(e._samples>1&&this.webgl2||(e._glDepthBuffer||(e._glDepthBuffer=t.createRenderbuffer()),t.bindRenderbuffer(t.RENDERBUFFER,e._glDepthBuffer),e._stencil?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e._glDepthBuffer)):(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e._glDepthBuffer)),t.bindRenderbuffer(t.RENDERBUFFER,null))),this.webgl2&&e._samples>1&&(e._glResolveFrameBuffer=e._glFrameBuffer,e._glFrameBuffer=t.createFramebuffer(),this.setFramebuffer(e._glFrameBuffer),i&&(e._glMsaaColorBuffer||(e._glMsaaColorBuffer=t.createRenderbuffer()),t.bindRenderbuffer(t.RENDERBUFFER,e._glMsaaColorBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,e._samples,i._glInternalFormat,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,e._glMsaaColorBuffer)),e._depth&&(e._glMsaaDepthBuffer||(e._glMsaaDepthBuffer=t.createRenderbuffer()),t.bindRenderbuffer(t.RENDERBUFFER,e._glMsaaDepthBuffer),e._stencil?(t.renderbufferStorageMultisample(t.RENDERBUFFER,e._samples,t.DEPTH24_STENCIL8,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e._glMsaaDepthBuffer)):(t.renderbufferStorageMultisample(t.RENDERBUFFER,e._samples,t.DEPTH_COMPONENT32F,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e._glMsaaDepthBuffer)))),this.targets.push(e)}},getCopyShader:function(){return this._copyShader||(this._copyShader=We(this,Ce.fullscreenQuadVS,Ce.outputTex2DPS,"outputTex2D")),this._copyShader},updateBegin:function(){if(this.boundVao=null,this._tempEnableSafariTextureUnitWorkaround)for(var e=0;e<this.textureUnits.length;++e)for(var t=0;t<3;++t)this.textureUnits[e][t]=null;var i=this.renderTarget;i?i._glFrameBuffer?this.setFramebuffer(i._glFrameBuffer):this.initRenderTarget(i):this.setFramebuffer(this.defaultFramebuffer)},updateEnd:function(){var e=this.gl;this.boundVao=null,this.gl.bindVertexArray(null);var t=this.renderTarget;if(t){var i=t._colorBuffer;i&&i._glTexture&&i.mipmaps&&i.pot&&(this.activeTexture(this.maxCombinedTextures-1),this.bindTexture(i),e.generateMipmap(i._glTarget)),this.webgl2&&t._samples>1&&t.autoResolve&&t.resolve()}},initializeTexture:function(e){var t,i=this.gl;switch(e._glTexture=i.createTexture(),e._glTarget=e._cubemap?i.TEXTURE_CUBE_MAP:e._volume?i.TEXTURE_3D:i.TEXTURE_2D,e._format){case 0:e._glFormat=i.ALPHA,e._glInternalFormat=i.ALPHA,e._glPixelType=i.UNSIGNED_BYTE;break;case 1:e._glFormat=i.LUMINANCE,e._glInternalFormat=i.LUMINANCE,e._glPixelType=i.UNSIGNED_BYTE;break;case 2:e._glFormat=i.LUMINANCE_ALPHA,e._glInternalFormat=i.LUMINANCE_ALPHA,e._glPixelType=i.UNSIGNED_BYTE;break;case 3:e._glFormat=i.RGB,e._glInternalFormat=i.RGB,e._glPixelType=i.UNSIGNED_SHORT_5_6_5;break;case 4:e._glFormat=i.RGBA,e._glInternalFormat=i.RGBA,e._glPixelType=i.UNSIGNED_SHORT_5_5_5_1;break;case 5:e._glFormat=i.RGBA,e._glInternalFormat=i.RGBA,e._glPixelType=i.UNSIGNED_SHORT_4_4_4_4;break;case 6:e._glFormat=i.RGB,e._glInternalFormat=this.webgl2?i.RGB8:i.RGB,e._glPixelType=i.UNSIGNED_BYTE;break;case 7:e._glFormat=i.RGBA,e._glInternalFormat=this.webgl2?i.RGBA8:i.RGBA,e._glPixelType=i.UNSIGNED_BYTE;break;case 8:t=this.extCompressedTextureS3TC,e._glFormat=i.RGB,e._glInternalFormat=t.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case 9:t=this.extCompressedTextureS3TC,e._glFormat=i.RGBA,e._glInternalFormat=t.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case 10:t=this.extCompressedTextureS3TC,e._glFormat=i.RGBA,e._glInternalFormat=t.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;case 21:t=this.extCompressedTextureETC1,e._glFormat=i.RGB,e._glInternalFormat=t.COMPRESSED_RGB_ETC1_WEBGL;break;case 24:t=this.extCompressedTexturePVRTC,e._glFormat=i.RGB,e._glInternalFormat=t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;break;case 25:t=this.extCompressedTexturePVRTC,e._glFormat=i.RGBA,e._glInternalFormat=t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;break;case 26:t=this.extCompressedTexturePVRTC,e._glFormat=i.RGB,e._glInternalFormat=t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;break;case 27:t=this.extCompressedTexturePVRTC,e._glFormat=i.RGBA,e._glInternalFormat=t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;break;case 22:t=this.extCompressedTextureETC,e._glFormat=i.RGB,e._glInternalFormat=t.COMPRESSED_RGB8_ETC2;break;case 23:t=this.extCompressedTextureETC,e._glFormat=i.RGBA,e._glInternalFormat=t.COMPRESSED_RGBA8_ETC2_EAC;break;case 28:t=this.extCompressedTextureASTC,e._glFormat=i.RGBA,e._glInternalFormat=t.COMPRESSED_RGBA_ASTC_4x4_KHR;break;case 29:t=this.extCompressedTextureATC,e._glFormat=i.RGB,e._glInternalFormat=t.COMPRESSED_RGB_ATC_WEBGL;break;case 30:t=this.extCompressedTextureATC,e._glFormat=i.RGBA,e._glInternalFormat=t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL;break;case 11:t=this.extTextureHalfFloat,e._glFormat=i.RGB,this.webgl2?(e._glInternalFormat=i.RGB16F,e._glPixelType=i.HALF_FLOAT):(e._glInternalFormat=i.RGB,e._glPixelType=t.HALF_FLOAT_OES);break;case 12:t=this.extTextureHalfFloat,e._glFormat=i.RGBA,this.webgl2?(e._glInternalFormat=i.RGBA16F,e._glPixelType=i.HALF_FLOAT):(e._glInternalFormat=i.RGBA,e._glPixelType=t.HALF_FLOAT_OES);break;case 13:e._glFormat=i.RGB,this.webgl2?e._glInternalFormat=i.RGB32F:e._glInternalFormat=i.RGB,e._glPixelType=i.FLOAT;break;case 14:e._glFormat=i.RGBA,this.webgl2?e._glInternalFormat=i.RGBA32F:e._glInternalFormat=i.RGBA,e._glPixelType=i.FLOAT;break;case 15:e._glFormat=i.RED,e._glInternalFormat=i.R32F,e._glPixelType=i.FLOAT;break;case 16:this.webgl2?(e._glFormat=i.DEPTH_COMPONENT,e._glInternalFormat=i.DEPTH_COMPONENT32F,e._glPixelType=i.FLOAT):(e._glFormat=i.DEPTH_COMPONENT,e._glInternalFormat=i.DEPTH_COMPONENT,e._glPixelType=i.UNSIGNED_SHORT);break;case 17:e._glFormat=i.DEPTH_STENCIL,e._glInternalFormat=i.DEPTH24_STENCIL8,e._glPixelType=i.UNSIGNED_INT_24_8;break;case 18:e._glFormat=i.RGB,e._glInternalFormat=i.R11F_G11F_B10F,e._glPixelType=i.FLOAT;break;case 19:e._glFormat=i.RGB,e._glInternalFormat=i.SRGB8,e._glPixelType=i.UNSIGNED_BYTE;break;case 20:e._glFormat=i.RGBA,e._glInternalFormat=i.SRGB8_ALPHA8,e._glPixelType=i.UNSIGNED_BYTE}this.textures.push(e)},destroyTexture:function(e){if(e._glTexture){var t=this.textures.indexOf(e);for(var i in-1!==t&&this.textures.splice(t,1),this.scope.variables){var r=this.scope.variables[i];r.value===e&&(r.value=null)}for(var n=0;n<this.textureUnits.length;n++)for(var a=this.textureUnits[n],s=0;s<a.length;s++)a[s]===e._glTexture&&(a[s]=null);this.gl.deleteTexture(e._glTexture),delete e._glTexture,delete e._glTarget,delete e._glFormat,delete e._glInternalFormat,delete e._glPixelType,this._vram.tex-=e._gpuSize}},setUnpackFlipY:function(e){if(this.unpackFlipY!==e){this.unpackFlipY=e;var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e)}},setUnpackPremultiplyAlpha:function(e){if(this.unpackPremultiplyAlpha!==e){this.unpackPremultiplyAlpha=e;var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e)}},_isBrowserInterface:function(e){return"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap},uploadTexture:function(e){var t=this.gl;if(e._needsUpload||!(e._needsMipmapsUpload&&e._mipmapsUploaded||!e.pot)){for(var i,r,n=0,a=Math.log2(Math.max(e._width,e._height))+1;e._levels[n]||0===n;)if(e._needsUpload||0!==n){if(n&&(!e._needsMipmapsUpload||!e._mipmaps))break;var s;if(i=e._levels[n],1==n&&!e._compressed&&e._levels.length<a&&(t.generateMipmap(e._glTarget),e._mipmapsUploaded=!0),e._cubemap){if(this._isBrowserInterface(i[0])){for(s=0;s<6;s++)if(e._levelsUpdated[0][s]){var o=i[s];o instanceof HTMLImageElement&&(o.width>this.maxCubeMapSize||o.height>this.maxCubeMapSize)&&(o=Xu(o,this.maxCubeMapSize),0===n&&(e._width=o.width,e._height=o.height)),this.setUnpackFlipY(!1),this.setUnpackPremultiplyAlpha(e._premultiplyAlpha),t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,n,e._glInternalFormat,e._glFormat,e._glPixelType,o)}}else for(r=1/Math.pow(2,n),s=0;s<6;s++)if(e._levelsUpdated[0][s]){var l=i[s];e._compressed?t.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,n,e._glInternalFormat,Math.max(e._width*r,1),Math.max(e._height*r,1),0,l):(this.setUnpackFlipY(!1),this.setUnpackPremultiplyAlpha(e._premultiplyAlpha),t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,n,e._glInternalFormat,Math.max(e._width*r,1),Math.max(e._height*r,1),0,e._glFormat,e._glPixelType,l))}}else e._volume?(r=1/Math.pow(2,n),e._compressed?t.compressedTexImage3D(t.TEXTURE_3D,n,e._glInternalFormat,Math.max(e._width*r,1),Math.max(e._height*r,1),Math.max(e._depth*r,1),0,i):(this.setUnpackFlipY(!1),this.setUnpackPremultiplyAlpha(e._premultiplyAlpha),t.texImage3D(t.TEXTURE_3D,n,e._glInternalFormat,Math.max(e._width*r,1),Math.max(e._height*r,1),Math.max(e._depth*r,1),0,e._glFormat,e._glPixelType,i))):(this._isBrowserInterface(i)?(i instanceof HTMLImageElement&&(i.width>this.maxTextureSize||i.height>this.maxTextureSize)&&(i=Xu(i,this.maxTextureSize),0===n&&(e._width=i.width,e._height=i.height)),this.setUnpackFlipY(e._flipY),this.setUnpackPremultiplyAlpha(e._premultiplyAlpha),t.texImage2D(t.TEXTURE_2D,n,e._glInternalFormat,e._glFormat,e._glPixelType,i)):(r=1/Math.pow(2,n),e._compressed?t.compressedTexImage2D(t.TEXTURE_2D,n,e._glInternalFormat,Math.max(e._width*r,1),Math.max(e._height*r,1),0,i):(this.setUnpackFlipY(!1),this.setUnpackPremultiplyAlpha(e._premultiplyAlpha),t.texImage2D(t.TEXTURE_2D,n,e._glInternalFormat,Math.max(e._width*r,1),Math.max(e._height*r,1),0,e._glFormat,e._glPixelType,i))),e._mipmapsUploaded=0!==n);n++}else n++;if(e._needsUpload)if(e._cubemap)for(var c=0;c<6;c++)e._levelsUpdated[0][c]=!1;else e._levelsUpdated[0]=!1;!e._compressed&&e._mipmaps&&e._needsMipmapsUpload&&e.pot&&1===e._levels.length&&(t.generateMipmap(e._glTarget),e._mipmapsUploaded=!0),e._gpuSize&&(this._vram.tex-=e._gpuSize),e._gpuSize=e.gpuSize,this._vram.tex+=e._gpuSize}},activeTexture:function(e){this.textureUnit!==e&&(this.gl.activeTexture(this.gl.TEXTURE0+e),this.textureUnit=e)},bindTexture:function(e){var t=e._glTarget,i=e._glTexture,r=this.textureUnit,n=this.targetToSlot[t];this.textureUnits[r][n]!==i&&(this.gl.bindTexture(t,i),this.textureUnits[r][n]=i)},bindTextureOnUnit:function(e,t){var i=e._glTarget,r=e._glTexture,n=this.targetToSlot[i];this.textureUnits[t][n]!==r&&(this.activeTexture(t),this.gl.bindTexture(i,r),this.textureUnits[t][n]=r)},setTextureParameters:function(e){var t=this.gl,i=e._parameterFlags,r=e._glTarget;if(1&i){var n=e._minFilter;(!e.pot||!e._mipmaps||e._compressed&&1===e._levels.length)&&(2===n||3===n?n=0:4!==n&&5!==n||(n=1)),t.texParameteri(r,t.TEXTURE_MIN_FILTER,this.glFilter[n])}if(2&i&&t.texParameteri(r,t.TEXTURE_MAG_FILTER,this.glFilter[e._magFilter]),4&i&&(this.webgl2?t.texParameteri(r,t.TEXTURE_WRAP_S,this.glAddress[e._addressU]):t.texParameteri(r,t.TEXTURE_WRAP_S,this.glAddress[e.pot?e._addressU:1])),8&i&&(this.webgl2?t.texParameteri(r,t.TEXTURE_WRAP_T,this.glAddress[e._addressV]):t.texParameteri(r,t.TEXTURE_WRAP_T,this.glAddress[e.pot?e._addressV:1])),16&i&&this.webgl2&&t.texParameteri(r,t.TEXTURE_WRAP_R,this.glAddress[e._addressW]),32&i&&this.webgl2&&t.texParameteri(r,t.TEXTURE_COMPARE_MODE,e._compareOnRead?t.COMPARE_REF_TO_TEXTURE:t.NONE),64&i&&this.webgl2&&t.texParameteri(r,t.TEXTURE_COMPARE_FUNC,this.glComparison[e._compareFunc]),128&i){var a=this.extTextureFilterAnisotropic;a&&t.texParameterf(r,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.max(1,Math.min(Math.round(e._anisotropy),this.maxAnisotropy)))}},setTexture:function(e,t){e._glTexture||this.initializeTexture(e),e._parameterFlags>0||e._needsUpload||e._needsMipmapsUpload||e===this.grabPassTexture?(this.activeTexture(t),this.bindTexture(e),e._parameterFlags&&(this.setTextureParameters(e),e._parameterFlags=0),e===this.grabPassTexture?this.updateGrabPass():(e._needsUpload||e._needsMipmapsUpload)&&(this.uploadTexture(e),e._needsUpload=!1,e._needsMipmapsUpload=!1)):this.bindTextureOnUnit(e,t)},createVertexArray:function(e){var t,i,r,n,a=e.length>1;if(a){for(r="",t=0;t<e.length;t++)r+=(i=e[t]).id+i.format.renderingingHash;n=this._vaoMap.get(r)}if(!n){var s,o,l=this.gl;for(n=l.createVertexArray(),l.bindVertexArray(n),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,null),t=0;t<e.length;t++){i=e[t],l.bindBuffer(l.ARRAY_BUFFER,i.bufferId),o=i.format.elements;for(var c=0;c<o.length;c++){s=o[c];var f=le[s.name];l.vertexAttribPointer(f,s.numComponents,this.glType[s.dataType],s.normalize,s.stride,s.offset),l.enableVertexAttribArray(f),i.instancing&&l.vertexAttribDivisor(f,1)}}l.bindVertexArray(null),l.bindBuffer(l.ARRAY_BUFFER,null),a&&this._vaoMap.set(r,n)}return n},setBuffers:function(){var e,t,i=this.gl;1===this.vertexBuffers.length?((e=this.vertexBuffers[0])._vao||(e._vao=this.createVertexArray(this.vertexBuffers)),t=e._vao):t=this.createVertexArray(this.vertexBuffers),this.boundVao!==t&&(this.boundVao=t,i.bindVertexArray(t)),this.vertexBuffers.length=0;var r=this.indexBuffer?this.indexBuffer.bufferId:null;i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,r)},draw:function(e,t,i){var r,n,a,s,o,l,c,f,h,u,d,p=this.gl,_=this.shader,m=_.samplers,b=_.uniforms;i||this.setBuffers();var A=0;for(r=0,a=m.length;r<a;r++)if(o=(s=m[r]).scopeId.value)if(o instanceof nt)l=o,this.setTexture(l,A),s.slot!==A&&(p.uniform1i(s.locationId,A),s.slot=A),A++;else{for(s.array.length=0,c=o.length,n=0;n<c;n++)l=o[n],this.setTexture(l,A),s.array[n]=A,A++;p.uniform1iv(s.locationId,s.array)}for(r=0,a=b.length;r<a;r++)h=(f=b[r]).scopeId,u=f.version,d=h.versionObject.version,u.globalId===d.globalId&&u.revision===d.revision||(u.globalId=d.globalId,u.revision=d.revision,null!==h.value&&this.commitFunction[f.dataType](f,h.value));this.webgl2&&this.transformFeedbackBuffer&&(p.bindBufferBase(p.TRANSFORM_FEEDBACK_BUFFER,0,this.transformFeedbackBuffer.bufferId),p.beginTransformFeedback(p.POINTS));var v=this.glPrimitive[e.type],y=e.count;if(e.indexed){var g=this.indexBuffer,k=g.glFormat,x=e.base*g.bytesPerIndex;t>0?p.drawElementsInstanced(v,y,k,x,t):p.drawElements(v,y,k,x)}else{var S=e.base;t>0?p.drawArraysInstanced(v,S,y,t):p.drawArrays(v,S,y)}this.webgl2&&this.transformFeedbackBuffer&&(p.endTransformFeedback(),p.bindBufferBase(p.TRANSFORM_FEEDBACK_BUFFER,0,null)),this._drawCallsPerFrame++},clear:function(e){var t=this.defaultClearOptions,i=void 0==(e=e||t).flags?t.flags:e.flags;if(0!==i){var r=this.gl;if(1&i){var n=void 0==e.color?t.color:e.color;this.setClearColor(n[0],n[1],n[2],n[3])}if(2&i){var a=void 0==e.depth?t.depth:e.depth;this.setClearDepth(a),this.depthWrite||r.depthMask(!0)}if(4&i){var s=void 0==e.stencil?t.stencil:e.stencil;this.setClearStencil(s)}r.clear(this.glClearFlag[i]),2&i&&(this.depthWrite||r.depthMask(!1))}},readPixels:function(e,t,i,r,n){var a=this.gl;a.readPixels(e,t,i,r,a.RGBA,a.UNSIGNED_BYTE,n)},setClearDepth:function(e){e!==this.clearDepth&&(this.gl.clearDepth(e),this.clearDepth=e)},setClearColor:function(e,t,i,r){e===this.clearRed&&t===this.clearGreen&&i===this.clearBlue&&r===this.clearAlpha||(this.gl.clearColor(e,t,i,r),this.clearRed=e,this.clearGreen=t,this.clearBlue=i,this.clearAlpha=r)},setClearStencil:function(e){e!==this.clearStencil&&(this.gl.clearStencil(e),this.clearStencil=e)},setRenderTarget:function(e){this.renderTarget=e},getRenderTarget:function(){return this.renderTarget},getDepthTest:function(){return this.depthTest},setDepthTest:function(e){if(this.depthTest!==e){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.depthTest=e}},setDepthFunc:function(e){this.depthFunc!==e&&(this.gl.depthFunc(this.glComparison[e]),this.depthFunc=e)},getDepthWrite:function(){return this.depthWrite},setDepthWrite:function(e){this.depthWrite!==e&&(this.gl.depthMask(e),this.depthWrite=e)},setColorWrite:function(e,t,i,r){this.writeRed===e&&this.writeGreen===t&&this.writeBlue===i&&this.writeAlpha===r||(this.gl.colorMask(e,t,i,r),this.writeRed=e,this.writeGreen=t,this.writeBlue=i,this.writeAlpha=r)},setAlphaToCoverage:function(e){this.webgl2&&this.alphaToCoverage!==e&&(this.alphaToCoverage=e,e?this.gl.enable(this.gl.SAMPLE_ALPHA_TO_COVERAGE):this.gl.disable(this.gl.SAMPLE_ALPHA_TO_COVERAGE))},setTransformFeedbackBuffer:function(e){if(this.transformFeedbackBuffer!==e&&(this.transformFeedbackBuffer=e,this.webgl2)){var t=this.gl;e?(this.feedback||(this.feedback=t.createTransformFeedback()),t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,this.feedback)):t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null)}},setRaster:function(e){this.raster!==e&&(this.raster=e,this.webgl2&&(e?this.gl.disable(this.gl.RASTERIZER_DISCARD):this.gl.enable(this.gl.RASTERIZER_DISCARD)))},setDepthBias:function(e){this.depthBiasEnabled!==e&&(this.depthBiasEnabled=e,e?this.gl.enable(this.gl.POLYGON_OFFSET_FILL):this.gl.disable(this.gl.POLYGON_OFFSET_FILL))},setDepthBiasValues:function(e,t){this.gl.polygonOffset(t,e)},getBlending:function(){return this.blending},setBlending:function(e){if(this.blending!==e){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.blending=e}},setStencilTest:function(e){if(this.stencil!==e){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.stencil=e}},setStencilFunc:function(e,t,i){this.stencilFuncFront===e&&this.stencilRefFront===t&&this.stencilMaskFront===i&&this.stencilFuncBack===e&&this.stencilRefBack===t&&this.stencilMaskBack===i||(this.gl.stencilFunc(this.glComparison[e],t,i),this.stencilFuncFront=this.stencilFuncBack=e,this.stencilRefFront=this.stencilRefBack=t,this.stencilMaskFront=this.stencilMaskBack=i)},setStencilFuncFront:function(e,t,i){if(this.stencilFuncFront!==e||this.stencilRefFront!==t||this.stencilMaskFront!==i){var r=this.gl;r.stencilFuncSeparate(r.FRONT,this.glComparison[e],t,i),this.stencilFuncFront=e,this.stencilRefFront=t,this.stencilMaskFront=i}},setStencilFuncBack:function(e,t,i){if(this.stencilFuncBack!==e||this.stencilRefBack!==t||this.stencilMaskBack!==i){var r=this.gl;r.stencilFuncSeparate(r.BACK,this.glComparison[e],t,i),this.stencilFuncBack=e,this.stencilRefBack=t,this.stencilMaskBack=i}},setStencilOperation:function(e,t,i,r){this.stencilFailFront===e&&this.stencilZfailFront===t&&this.stencilZpassFront===i&&this.stencilFailBack===e&&this.stencilZfailBack===t&&this.stencilZpassBack===i||(this.gl.stencilOp(this.glStencilOp[e],this.glStencilOp[t],this.glStencilOp[i]),this.stencilFailFront=this.stencilFailBack=e,this.stencilZfailFront=this.stencilZfailBack=t,this.stencilZpassFront=this.stencilZpassBack=i),this.stencilWriteMaskFront===r&&this.stencilWriteMaskBack===r||(this.gl.stencilMask(r),this.stencilWriteMaskFront=r,this.stencilWriteMaskBack=r)},setStencilOperationFront:function(e,t,i,r){this.stencilFailFront===e&&this.stencilZfailFront===t&&this.stencilZpassFront===i||(this.gl.stencilOpSeparate(this.gl.FRONT,this.glStencilOp[e],this.glStencilOp[t],this.glStencilOp[i]),this.stencilFailFront=e,this.stencilZfailFront=t,this.stencilZpassFront=i),this.stencilWriteMaskFront!==r&&(this.gl.stencilMaskSeparate(this.gl.FRONT,r),this.stencilWriteMaskFront=r)},setStencilOperationBack:function(e,t,i,r){this.stencilFailBack===e&&this.stencilZfailBack===t&&this.stencilZpassBack===i||(this.gl.stencilOpSeparate(this.gl.BACK,this.glStencilOp[e],this.glStencilOp[t],this.glStencilOp[i]),this.stencilFailBack=e,this.stencilZfailBack=t,this.stencilZpassBack=i),this.stencilWriteMaskBack!==r&&(this.gl.stencilMaskSeparate(this.gl.BACK,r),this.stencilWriteMaskBack=r)},setBlendFunction:function(e,t){(this.blendSrc!==e||this.blendDst!==t||this.separateAlphaBlend)&&(this.gl.blendFunc(this.glBlendFunction[e],this.glBlendFunction[t]),this.blendSrc=e,this.blendDst=t,this.separateAlphaBlend=!1)},setBlendFunctionSeparate:function(e,t,i,r){this.blendSrc===e&&this.blendDst===t&&this.blendSrcAlpha===i&&this.blendDstAlpha===r&&this.separateAlphaBlend||(this.gl.blendFuncSeparate(this.glBlendFunction[e],this.glBlendFunction[t],this.glBlendFunction[i],this.glBlendFunction[r]),this.blendSrc=e,this.blendDst=t,this.blendSrcAlpha=i,this.blendDstAlpha=r,this.separateAlphaBlend=!0)},setBlendEquation:function(e){(this.blendEquation!==e||this.separateAlphaEquation)&&(this.gl.blendEquation(this.glBlendEquation[e]),this.blendEquation=e,this.separateAlphaEquation=!1)},setBlendEquationSeparate:function(e,t){this.blendEquation===e&&this.blendAlphaEquation===t&&this.separateAlphaEquation||(this.gl.blendEquationSeparate(this.glBlendEquation[e],this.glBlendEquation[t]),this.blendEquation=e,this.blendAlphaEquation=t,this.separateAlphaEquation=!0)},setCullMode:function(e){if(this.cullMode!==e){if(0===e)this.gl.disable(this.gl.CULL_FACE);else{0===this.cullMode&&this.gl.enable(this.gl.CULL_FACE);var t=this.glCull[e];this.cullFace!==t&&(this.gl.cullFace(t),this.cullFace=t)}this.cullMode=e}},getCullMode:function(){return this.cullMode},setIndexBuffer:function(e){this.indexBuffer=e},setVertexBuffer:function(e){e&&this.vertexBuffers.push(e)},compileShaderSource:function(e,t){var i=this.gl,r=t?this.vertexShaderCache[e]:this.fragmentShaderCache[e];return r||(r=i.createShader(t?i.VERTEX_SHADER:i.FRAGMENT_SHADER),i.shaderSource(r,e),i.compileShader(r),t?this.vertexShaderCache[e]=r:this.fragmentShaderCache[e]=r),r},compileAndLinkShader:function(e){var t,i=this.gl,r=e.definition,n=r.attributes,a=this.compileShaderSource(r.vshader,!0),s=this.compileShaderSource(r.fshader,!1),o=i.createProgram();if(i.attachShader(o,a),i.attachShader(o,s),this.webgl2&&r.useTransformFeedback){var l=[];for(t in n)n.hasOwnProperty(t)&&l.push("out_"+t);i.transformFeedbackVaryings(o,l,i.INTERLEAVED_ATTRIBS)}var c={};for(t in n)if(n.hasOwnProperty(t)){var f=n[t],h=le[f];c.hasOwnProperty(h),c[h]=t,i.bindAttribLocation(o,h,t)}i.linkProgram(o),e._glVertexShader=a,e._glFragmentShader=s,e._glProgram=o},createShader:function(e){this.compileAndLinkShader(e),this.shaders.push(e)},destroyShader:function(e){var t=this.shaders.indexOf(e);-1!==t&&this.shaders.splice(t,1),e._glProgram&&(this.gl.deleteProgram(e._glProgram),e._glProgram=null,this.removeShaderFromCache(e))},_addLineNumbers:function(e){for(var t=e.split("\n"),i=0,r=t.length;i<r;i++)t[i]=i+1+":\t"+t[i];return t.join("\n")},postLink:function(e){var t,i,r,n,a=this.gl,s=e._glVertexShader,o=e._glFragmentShader,l=e._glProgram,c=e.definition;if(!a.getShaderParameter(s,a.COMPILE_STATUS))return console.error("Failed to compile vertex shader:\n\n"+this._addLineNumbers(c.vshader)+"\n\n"+a.getShaderInfoLog(s)),!1;if(!a.getShaderParameter(o,a.COMPILE_STATUS))return console.error("Failed to compile fragment shader:\n\n"+this._addLineNumbers(c.fshader)+"\n\n"+a.getShaderInfoLog(o)),!1;if(!a.getProgramParameter(l,a.LINK_STATUS))return console.error("Failed to link shader program. Error: "+a.getProgramInfoLog(l)),!1;t=0;for(var f=a.getProgramParameter(l,a.ACTIVE_ATTRIBUTES);t<f;)i=a.getActiveAttrib(l,t++),r=a.getAttribLocation(l,i.name),void 0===c.attributes[i.name]&&console.error('Vertex shader attribute "'+i.name+'" is not mapped to a semantic in shader definition.'),n=new Yu(this,c.attributes[i.name],this.pcUniformType[i.type],r),e.attributes.push(n);t=0;for(var h=a.getProgramParameter(l,a.ACTIVE_UNIFORMS);t<h;)i=a.getActiveUniform(l,t++),r=a.getUniformLocation(l,i.name),n=new Yu(this,i.name,this.pcUniformType[i.type],r),i.type===a.SAMPLER_2D||i.type===a.SAMPLER_CUBE||this.webgl2&&(i.type===a.SAMPLER_2D_SHADOW||i.type===a.SAMPLER_CUBE_SHADOW||i.type===a.SAMPLER_3D)?e.samplers.push(n):e.uniforms.push(n);return e.ready=!0,!0},setShader:function(e){if(e!==this.shader){if(!e.ready&&!this.postLink(e))return!1;this.shader=e,this.gl.useProgram(e._glProgram),this.attributesInvalidated=!0}return!0},getHdrFormat:function(){return this.textureHalfFloatRenderable?11:this.textureFloatRenderable?13:7},getBoneLimit:function(){return this.boneLimit},setBoneLimit:function(e){this.boneLimit=e},resizeCanvas:function(e,t){this._width=e,this._height=t;var i=Math.min(this._maxPixelRatio,window.devicePixelRatio);e*=i,t*=i,this.canvas.width===e&&this.canvas.height===t||(this.canvas.width=e,this.canvas.height=t,this.fire("resizecanvas",e,t))},setResolution:function(e,t){this._width=e,this._height=t,this.canvas.width=e,this.canvas.height=t,this.fire("resizecanvas",e,t)},clearShaderCache:function(){var e,t=this.gl;for(e in this.fragmentShaderCache)t.deleteShader(this.fragmentShaderCache[e]),delete this.fragmentShaderCache[e];for(e in this.vertexShaderCache)t.deleteShader(this.vertexShaderCache[e]),delete this.vertexShaderCache[e];this.programLib.clearCache()},clearVertexArrayObjectCache:function(){var e=this.gl;this._vaoMap.forEach((function(t,i,r){e.deleteVertexArray(t)})),this._vaoMap.clear()},removeShaderFromCache:function(e){this.programLib.removeFromCache(e)},destroy:function(){var e=this.gl;this.destroyGrabPass(),this.webgl2&&this.feedback&&e.deleteTransformFeedback(this.feedback),this.clearShaderCache(),this.clearVertexArrayObjectCache(),this.canvas.removeEventListener("webglcontextlost",this._contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this._contextRestoredHandler,!1),this._contextLostHandler=null,this._contextRestoredHandler=null,this.canvas=null,this.gl=null}}),Object.defineProperty(Qu.prototype,"width",{get:function(){return this.gl.drawingBufferWidth||this.canvas.width}}),Object.defineProperty(Qu.prototype,"height",{get:function(){return this.gl.drawingBufferHeight||this.canvas.height}}),Object.defineProperty(Qu.prototype,"fullscreen",{get:function(){return!!document.fullscreenElement},set:function(e){e?this.gl.canvas.requestFullscreen():document.exitFullscreen()}}),Object.defineProperty(Qu.prototype,"enableAutoInstancing",{get:function(){return this._enableAutoInstancing},set:function(e){this._enableAutoInstancing=e&&this.extInstancing}}),Object.defineProperty(Qu.prototype,"maxPixelRatio",{get:function(){return this._maxPixelRatio},set:function(e){this._maxPixelRatio=e,this.resizeCanvas(this._width,this._height)}}),Object.defineProperty(Qu.prototype,"textureFloatHighPrecision",{get:function(){return void 0===this._textureFloatHighPrecision&&(this._textureFloatHighPrecision=function(e){if(!e.textureFloatRenderable)return!1;var t=We(e,Ce.fullscreenQuadVS,Ce.precisionTestPS,"ptest1"),i=We(e,Ce.fullscreenQuadVS,Ce.precisionTest2PS,"ptest2"),r={format:14,width:1,height:1,mipmaps:!1,minFilter:0,magFilter:0},n=new nt(e,r);n.name="testFHP";var a=new qu(e,n,{depth:!1});Pe(e,a,t),r.format=7;var s=new nt(e,r);s.name="testFHP";var o=new qu(e,s,{depth:!1});e.constantTexSource.setValue(n),Pe(e,o,i);var l=e.activeFramebuffer;e.setFramebuffer(o._glFrameBuffer);var c=new Uint8Array(4);e.readPixels(0,0,1,1,c),e.setFramebuffer(l);var f=c[0]/255/16777216+c[1]/255/65536+c[2]/255/256+c[3]/255;return n.destroy(),a.destroy(),s.destroy(),o.destroy(),0===f}(this)),this._textureFloatHighPrecision}}),Object.defineProperties(Qu.prototype,{textureHalfFloatUpdatable:{get:function(){return void 0===this._textureHalfFloatUpdatable&&(this.webgl2?this._textureHalfFloatUpdatable=!0:this._textureHalfFloatUpdatable=function(e,t){var i=!0,r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);var n=new Uint16Array(16);return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,2,2,0,e.RGBA,t,n),e.getError()!==e.NO_ERROR&&(i=!1,console.log("Above error related to HALF_FLOAT_OES can be ignored, it was triggered by testing half float texture support")),e.bindTexture(e.TEXTURE_2D,null),e.deleteTexture(r),i}(this.gl,this.extTextureHalfFloat.HALF_FLOAT_OES)),this._textureHalfFloatUpdatable}}});var Ju={depth:!0,face:0},qu=function(e){var t=arguments[1],i=arguments[2];if(e instanceof Qu?(this._colorBuffer=t,e=i):this._colorBuffer=e.colorBuffer,this._glFrameBuffer=null,this._glDepthBuffer=null,e=void 0!==e?e:Ju,this._depthBuffer=e.depthBuffer,this._face=void 0!==e.face?e.face:0,this._depthBuffer){var r=this._depthBuffer._format;16===r?(this._depth=!0,this._stencil=!1):17===r?(this._depth=!0,this._stencil=!0):(this._depth=!1,this._stencil=!1)}else this._depth=void 0===e.depth||e.depth,this._stencil=void 0!==e.stencil&&e.stencil;this._samples=void 0!==e.samples?e.samples:1,this.autoResolve=void 0===e.autoResolve||e.autoResolve,this._glResolveFrameBuffer=null,this._glMsaaColorBuffer=null,this._glMsaaDepthBuffer=null};function Ku(e,t,i){var r=t._colorBuffer;if(7==r.format){var n=new Uint8Array(r.width*r.height*4),a=e.gl;e.setFramebuffer(t._glFrameBuffer),a.readPixels(0,0,r.width,r.height,a.RGBA,a.UNSIGNED_BYTE,n),r._levels||(r._levels=[]),r._levels[0]||(r._levels[0]=[]),r._levels[0][i]=n}}function $u(e,t){return Math.atan2(e*t,Math.sqrt(e*e+t*t+1))}function ed(e,t,i){var r=2*(e+.5)/i-1,n=2*(t+.5)/i-1,a=1/i,s=(r*=1-1/i)-a,o=(n*=1-1/i)-a,l=r+a,c=n+a,f=$u(s,o)-$u(s,c)-$u(l,o)+$u(l,c);return 0===e&&0===t||e===i-1&&0===t||0===e&&t===i-1||e===i-1&&t===i-1?f/=3:0!==e&&0!==t&&e!==i-1&&t!==i-1||(f*=.5),f}function td(e,t){var i,r,n,a=e.width;if(7==e.format){if(e._levels[0]){if(!e._levels[0][0].length){if(!(e._levels[0][0]instanceof HTMLImageElement))return void console.error("ERROR: SH: cubemap must be composed of arrays or images");var s=Au.getApplication().graphicsDevice,o=s.gl,l=We(s,Ce.fullscreenQuadVS,Ce.fullscreenQuadPS,"fsQuadSimple"),c=s.scope.resolve("source");for(i=0;i<6;i++){var f=e._levels[0][i],h=new nt(s,{cubemap:!1,type:"default",format:e.format,width:a,height:a,mipmaps:!1});h.name="prefiltered-cube",h._levels[0]=f,h.upload();var u=new nt(s,{cubemap:!1,type:"default",format:e.format,width:a,height:a,mipmaps:!1});u.name="prefiltered-cube";var d=new qu(s,u,{depth:!1});c.setValue(h),Pe(s,d,l);var p=new Uint8Array(a*a*4);o.bindFramebuffer(o.FRAMEBUFFER,d._glFrameBuffer),o.readPixels(0,0,h.width,h.height,o.RGBA,o.UNSIGNED_BYTE,p),e._levels[0][i]=p}}var _=[];for(n=0;n<a;n++)for(r=0;r<a;r++){var m=r/(a-1)*2-1,b=n/(a-1)*2-1;_[n*a+r]=new I(m,b,1).normalize()}var A,v,y,g,k,x,S,T,w,E,M,P,R,C,O=new Float32Array(27),D=0;for(i=0;i<6;i++)for(n=0;n<a;n++)for(r=0;r<a;r++)for(A=n*a+r,E=4*(k=ed(r,n,a))/17,M=8*k/17,P=15*k/17,R=5*k/68,C=15*k/68,x=_[A],0==i?(S=x.z,T=-x.y,w=-x.x):1==i?(S=-x.z,T=-x.y,w=x.x):2==i?(S=x.x,T=x.z,w=x.y):3==i?(S=x.x,T=-x.z,w=-x.y):4==i?(S=x.x,T=-x.y,w=x.z):5==i&&(S=-x.x,T=-x.y,w=-x.z),t||(S=-S),y=e._levels[0][i][4*A+3]/255,v=0;v<3;v++)g=e._levels[0][i][4*A+v]/255,"rgbm"===e.type?(g*=8*y,g*=g):g=Math.pow(g,2.2),O[0+v]+=g*E,O[3+v]+=g*M*S,O[6+v]+=g*M*T,O[9+v]+=g*M*w,O[12+v]+=g*P*S*w,O[15+v]+=g*P*w*T,O[18+v]+=g*P*T*S,O[21+v]+=g*R*(3*w*w-1),O[24+v]+=g*C*(S*S-T*T),D+=k;for(v=0;v<O.length;v++)O[v]*=4*Math.PI/D;return O}console.error("ERROR: SH: cubemap must be synced to CPU")}else console.error("ERROR: SH: cubemap must be RGBA8")}Object.assign(qu.prototype,{destroy:function(){if(this._device){var e=this._device,t=e.targets.indexOf(this);-1!==t&&e.targets.splice(t,1);var i=e.gl;this._glFrameBuffer&&(i.deleteFramebuffer(this._glFrameBuffer),this._glFrameBuffer=null),this._glDepthBuffer&&(i.deleteRenderbuffer(this._glDepthBuffer),this._glDepthBuffer=null),this._glResolveFrameBuffer&&(i.deleteFramebuffer(this._glResolveFrameBuffer),this._glResolveFrameBuffer=null),this._glMsaaColorBuffer&&(i.deleteRenderbuffer(this._glMsaaColorBuffer),this._glMsaaColorBuffer=null),this._glMsaaDepthBuffer&&(i.deleteRenderbuffer(this._glMsaaDepthBuffer),this._glMsaaDepthBuffer=null)}},resolve:function(e,t){if(this._device&&this._device.webgl2){var i=this._device.gl;void 0===e&&(e=!0),void 0===t&&this._depthBuffer&&(t=!0),i.bindFramebuffer(i.READ_FRAMEBUFFER,this._glFrameBuffer),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,this._glResolveFrameBuffer),i.blitFramebuffer(0,0,this.width,this.height,0,0,this.width,this.height,(e?i.COLOR_BUFFER_BIT:0)|(t?i.DEPTH_BUFFER_BIT:0),i.NEAREST),i.bindFramebuffer(i.FRAMEBUFFER,this._glFrameBuffer)}},copy:function(e,t,i){if(!this._device){if(!e._device)return!1;this._device=e._device}return this._device.copyRenderTarget(e,this,t,i)}}),Object.defineProperty(qu.prototype,"colorBuffer",{get:function(){return this._colorBuffer}}),Object.defineProperty(qu.prototype,"depthBuffer",{get:function(){return this._depthBuffer}}),Object.defineProperty(qu.prototype,"face",{get:function(){return this._face}}),Object.defineProperty(qu.prototype,"width",{get:function(){return this._colorBuffer?this._colorBuffer.width:this._depthBuffer.width}}),Object.defineProperty(qu.prototype,"height",{get:function(){return this._colorBuffer?this._colorBuffer.height:this._depthBuffer.height}});var id=function(e){switch(e.type){case"rgbm":return"RGBM";case"rgbe":return"RGBE";default:switch(e.format){case 11:case 13:case 12:case 14:return"Linear";default:return"Gamma"}}},rd={type:5,base:0,count:4,indexed:!1};function nd(e){this.device=e,this.shader=null,this.depthMap=null,this.vertexBuffer=ad(e),this.needsDepthBuffer=!1}function ad(e){var t=new fe(e,new ue(e,[{semantic:"POSITION",components:2,type:6}]),4),i=new we(t);return i.element.POSITION.set(-1,-1),i.next(),i.element.POSITION.set(1,-1),i.next(),i.element.POSITION.set(-1,1),i.next(),i.element.POSITION.set(1,1),i.end(),t}function sd(e,t,i,r,n){var a=e.getRenderTarget();e.setRenderTarget(t),e.updateBegin();var s=null!==t?t.width:e.width,o=null!==t?t.height:e.height,l=0,c=0;n&&(l=n.x*s,c=n.y*o,s*=n.z,o*=n.w);var f=e.vx,h=e.vy,u=e.vw,d=e.vh;e.setViewport(l,c,s,o);var p=e.sx,_=e.sy,m=e.sw,b=e.sh;e.setScissor(l,c,s,o);var A=e.getBlending(),v=e.getDepthTest(),y=e.getDepthWrite(),g=e.getCullMode(),k=e.writeRed,x=e.writeGreen,S=e.writeBlue,T=e.writeAlpha;e.setBlending(!1),e.setDepthTest(!1),e.setDepthWrite(!1),e.setCullMode(0),e.setColorWrite(!0,!0,!0,!0),e.setVertexBuffer(i,0),e.setShader(r),e.draw(rd),e.setBlending(A),e.setDepthTest(v),e.setDepthWrite(y),e.setCullMode(g),e.setColorWrite(k,x,S,T),e.updateEnd(),e.setRenderTarget(a),e.updateBegin(),e.setViewport(f,h,u,d),e.setScissor(p,_,m,b)}function od(e,t){t=t||3,this.device=e.device;var i=this.device.gl;this._inputBuffer=e,3===t&&e.usage!==t&&(i.bindBuffer(i.ARRAY_BUFFER,e.bufferId),i.bufferData(i.ARRAY_BUFFER,e.storage,i.DYNAMIC_COPY)),this._outputBuffer=new fe(e.device,e.format,e.numVertices,t,e.storage)}function ld(){Su.call(this)}function cd(e,t,i){e instanceof Qu&&(e=Au.getApplication()),this.app=e,this.device=e.graphicsDevice;var r=this.device;this.library=r.getProgramLibrary(),this.pickColor=new Float32Array(4),this.pickColor[3]=1,this.scene=null,this.drawCalls=[],this.layer=null,this.layerComp=null,this.clearOptions={color:[1,1,1,1],depth:1,flags:3};var n=this;this._clearDepthOptions={depth:1,flags:2},this.clearDepthCommand=new At(0,0,(function(){r.clear(n._clearDepthOptions)})),this.resize(t,i),this._ignoreOpacityFor=null}function fd(){}function hd(e,t){t?(this.key=t.keyCode,this.element=t.target,this.event=t):(this.key=null,this.element=null,this.event=null)}Object.assign(nd.prototype,{render:function(e,t,i){}}),od.createShader=function(e,t,i){return We(e,t,null,i,!0)},Object.assign(od.prototype,{destroy:function(){this._outputBuffer.destroy()},process:function(e,t){void 0===t&&(t=!0);var i=this.device;if(i.setRenderTarget(null),i.updateBegin(),i.setVertexBuffer(this._inputBuffer,0),i.setRaster(!1),i.setTransformFeedbackBuffer(this._outputBuffer),i.setShader(e),i.draw({type:0,base:0,count:this._inputBuffer.numVertices,indexed:!1}),i.setTransformFeedbackBuffer(null),i.setRaster(!0),i.updateEnd(),t){var r=this._inputBuffer.bufferId;this._inputBuffer.bufferId=this._outputBuffer.bufferId,this._outputBuffer.bufferId=r,r=this._inputBuffer._vao,this._inputBuffer._vao=this._outputBuffer._vao,this._outputBuffer._vao=r}}}),Object.defineProperty(od.prototype,"inputBuffer",{get:function(){return this._inputBuffer}}),Object.defineProperty(od.prototype,"outputBuffer",{get:function(){return this._outputBuffer}}),ld.prototype=Object.create(Su.prototype),ld.prototype.constructor=ld,Object.assign(ld.prototype,{clone:function(){var e=new ld;return Su.prototype._cloneInternal.call(this,e),e},updateShader:function(e){var t={skin:!!this.meshInstances[0].skinInstance},i=e.getProgramLibrary();this.shader=i.getProgram("depth",t)}}),cd.prototype.getSelection=function(e,t,i,r){var n=this.device;if("object"===typeof e){var a=e;e=a.x,t=a.y,i=a.width,r=a.height}else t=this.layer.renderTarget.height-(t+(r||1));i=i||1,r=r||1;var s=n.renderTarget;n.setRenderTarget(this.layer.renderTarget),n.updateBegin();var o=new Uint8Array(4*i*r);n.readPixels(e,t,i,r,o),n.updateEnd(),n.setRenderTarget(s);for(var l,c=[],f=this.layer.instances.visibleOpaque[0].list,h=0;h<i*r;h++)if(16777215!==(l=o[4*h+0]<<16|o[4*h+1]<<8|o[4*h+2])){var u=f[l];-1===c.indexOf(u)&&c.push(u)}return c},cd.prototype.prepare=function(e,t,i){var r,n,a=this.device,s=this;e instanceof zt&&(e=e.node.camera),this.scene=t;var o,l,c,f=null,h=null;if(i instanceof oi?f=i:h=i,!this.layer){var u=a.scope.resolve("uColor");this.layer=new oi({name:"Picker",shaderPass:18,opaqueSortMode:0,onEnable:function(){if(!this.renderTarget){var e=new nt(a,{format:7,width:s.width,height:s.height});e.name="pick",e.minFilter=0,e.magFilter=0,e.addressU=1,e.addressV=1,this.renderTarget=new qu(a,e,{depth:!0})}},onDisable:function(){this.renderTarget&&(this.renderTarget._colorBuffer.destroy(),this.renderTarget.destroy(),this.renderTarget=null)},onDrawCall:function(e,t){s.pickColor[0]=(t>>16&255)/255,s.pickColor[1]=(t>>8&255)/255,s.pickColor[2]=(255&t)/255,u.setValue(s.pickColor),a.setBlending(!1)}}),this.layerComp=new hr,this.layerComp.pushOpaque(this.layer),this.meshInstances=this.layer.opaqueMeshInstances,this._instancesVersion=-1}if(f){if(this._instancesVersion!==f._version){for(this.layer.clearMeshInstances(),l=(o=f.instances.opaqueMeshInstances).length,n=0;n<l;n++)(c=o[n]).pick&&this.meshInstances.push(c);for(l=(o=f.instances.transparentMeshInstances).length,n=0;n<l;n++)(c=o[n]).pick&&this.meshInstances.push(c);this._instancesVersion=f._version}}else{this.layer.clearMeshInstances();var d,p=t.layers.layerList,_=t.layers.subLayerEnabled,m=t.layers.subLayerList;for(r=0;r<p.length;r++)p[r].overrideClear&&p[r]._clearDepthBuffer&&(p[r]._pickerCleared=!1);for(r=0;r<p.length;r++)if((d=p[r]).renderTarget===h&&d.enabled&&_[r]&&!(d.cameras.indexOf(e)<0))for(d.overrideClear&&d._clearDepthBuffer&&!d._pickerCleared&&(this.meshInstances.push(this.clearDepthCommand),d._pickerCleared=!0),l=(o=m[r]?d.instances.transparentMeshInstances:d.instances.opaqueMeshInstances).length,n=0;n<l;n++)(c=o[n]).pick&&this.meshInstances.push(c)}this.layer.cameras[0]!==e&&(this.layer.clearCameras(),this.layer.addCamera(e)),this.onLayerPreRender(this.layer,f,h),this.app.renderer.renderComposition(this.layerComp),this.onLayerPostRender(this.layer)},cd.prototype.onLayerPreRender=function(e,t,i){this.width===e.renderTarget.width&&this.height===e.renderTarget.height||(e.onDisable(),e.onEnable()),e.oldClear=e.cameras[0].camera._clearOptions,e.oldAspectMode=e.cameras[0].aspectRatioMode,e.oldAspect=e.cameras[0].aspectRatio,e.cameras[0].camera._clearOptions=this.clearOptions,e.cameras[0].aspectRatioMode=1;var r=i||(t?t.renderTarget:null);e.cameras[0].aspectRatio=e.cameras[0].calculateAspectRatio(r),this.app.renderer.updateCameraFrustum(e.cameras[0].camera)},cd.prototype.onLayerPostRender=function(e){e.cameras[0].camera._clearOptions=e.oldClear,e.cameras[0].aspectRatioMode=e.oldAspectMode,e.cameras[0].aspectRatio=e.oldAspect},cd.prototype.resize=function(e,t){this.width=e,this.height=t},Object.defineProperty(cd.prototype,"renderTarget",{get:function(){return this.layer.renderTarget}}),Object.assign(fd.prototype,{load:function(e,t,i){throw new Error("not implemented")},open:function(e,t,i){throw new Error("not implemented")},patch:function(e,t){}});var ud=new hd;function dd(e){return ud.key=e.keyCode,ud.element=e.target,ud.event=e,ud}function pd(e){return"string"===typeof e?e.toUpperCase().charCodeAt(0):e}var _d,md,bd={9:"Tab",13:"Enter",16:"Shift",17:"Control",18:"Alt",27:"Escape",37:"Left",38:"Up",39:"Right",40:"Down",46:"Delete",91:"Win"};function Ad(e,t){o.call(this),t=t||{},this._element=null,this._keyDownHandler=this._handleKeyDown.bind(this),this._keyUpHandler=this._handleKeyUp.bind(this),this._keyPressHandler=this._handleKeyPress.bind(this),this._keymap={},this._lastmap={},e&&this.attach(e),this.preventDefault=t.preventDefault||!1,this.stopPropagation=t.stopPropagation||!1}function vd(e,t){var i={x:0,y:0};if(t){if(t instanceof vd)throw Error("Expected MouseEvent");i=e._getTargetCoords(t)}else t={};if(i)this.x=i.x,this.y=i.y;else{if(!yd.isPointerLocked())return;this.x=0,this.y=0}this.wheelDelta=0,"wheel"===t.type&&(t.deltaY>0?this.wheelDelta=1:t.deltaY<0&&(this.wheelDelta=-1)),yd.isPointerLocked()?(this.dx=t.movementX||t.webkitMovementX||t.mozMovementX||0,this.dy=t.movementY||t.webkitMovementY||t.mozMovementY||0):(this.dx=this.x-e._lastX,this.dy=this.y-e._lastY),"mousedown"===t.type||"mouseup"===t.type?this.button=t.button:this.button=-1,this.buttons=e._buttons.slice(0),this.element=t.target,this.ctrlKey=t.ctrlKey||!1,this.altKey=t.altKey||!1,this.shiftKey=t.shiftKey||!1,this.metaKey=t.metaKey||!1,this.event=t}function yd(e){o.call(this),this._lastX=0,this._lastY=0,this._buttons=[!1,!1,!1],this._lastbuttons=[!1,!1,!1],this._upHandler=this._handleUp.bind(this),this._downHandler=this._handleDown.bind(this),this._moveHandler=this._handleMove.bind(this),this._wheelHandler=this._handleWheel.bind(this),this._contextMenuHandler=function(e){e.preventDefault()},this._target=null,this._attached=!1,this.attach(e)}function gd(e,t){t=t||{},this._keyboard=t.keyboard||null,this._mouse=t.mouse||null,this._gamepads=t.gamepads||null,this._element=null,this._actions={},this._axes={},this._axesValues={},e&&this.attach(e)}Ad.prototype=Object.create(o.prototype),Ad.prototype.constructor=Ad,Ad.prototype.attach=function(e){this._element&&this.detach(),this._element=e,this._element.addEventListener("keydown",this._keyDownHandler,!1),this._element.addEventListener("keypress",this._keyPressHandler,!1),this._element.addEventListener("keyup",this._keyUpHandler,!1)},Ad.prototype.detach=function(){this._element.removeEventListener("keydown",this._keyDownHandler),this._element.removeEventListener("keypress",this._keyPressHandler),this._element.removeEventListener("keyup",this._keyUpHandler),this._element=null},Ad.prototype.toKeyIdentifier=function(e){var t,i,r;e=pd(e);var n=bd[e.toString()];if(n)return n;for(r=(i=e.toString(16).toUpperCase()).length,t=0;t<4-r;t++)i="0"+i;return"U+"+i},Ad.prototype._handleKeyDown=function(e){var t=e.keyCode||e.charCode;if(void 0!==t){var i=this.toKeyIdentifier(t);this._keymap[i]=!0,this.fire("keydown",dd(e)),this.preventDefault&&e.preventDefault(),this.stopPropagation&&e.stopPropagation()}},Ad.prototype._handleKeyUp=function(e){var t=e.keyCode||e.charCode;if(void 0!==t){var i=this.toKeyIdentifier(t);delete this._keymap[i],this.fire("keyup",dd(e)),this.preventDefault&&e.preventDefault(),this.stopPropagation&&e.stopPropagation()}},Ad.prototype._handleKeyPress=function(e){this.fire("keypress",dd(e)),this.preventDefault&&e.preventDefault(),this.stopPropagation&&e.stopPropagation()},Ad.prototype.update=function(){var e;for(e in this._lastmap)delete this._lastmap[e];for(e in this._keymap)this._keymap.hasOwnProperty(e)&&(this._lastmap[e]=this._keymap[e])},Ad.prototype.isPressed=function(e){var t=pd(e),i=this.toKeyIdentifier(t);return!!this._keymap[i]},Ad.prototype.wasPressed=function(e){var t=pd(e),i=this.toKeyIdentifier(t);return!!this._keymap[i]&&!this._lastmap[i]},Ad.prototype.wasReleased=function(e){var t=pd(e),i=this.toKeyIdentifier(t);return!this._keymap[i]&&!!this._lastmap[i]},yd.prototype=Object.create(o.prototype),yd.prototype.constructor=yd,yd.isPointerLocked=function(){return!!(document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement)},Object.assign(yd.prototype,{attach:function(e){if(this._target=e,!this._attached){this._attached=!0;var t=!!h.passiveEvents&&{passive:!1};window.addEventListener("mouseup",this._upHandler,t),window.addEventListener("mousedown",this._downHandler,t),window.addEventListener("mousemove",this._moveHandler,t),window.addEventListener("wheel",this._wheelHandler,t)}},detach:function(){if(this._attached){this._attached=!1,this._target=null;var e=!!h.passiveEvents&&{passive:!1};window.removeEventListener("mouseup",this._upHandler,e),window.removeEventListener("mousedown",this._downHandler,e),window.removeEventListener("mousemove",this._moveHandler,e),window.removeEventListener("wheel",this._wheelHandler,e)}},disableContextMenu:function(){this._target&&this._target.addEventListener("contextmenu",this._contextMenuHandler)},enableContextMenu:function(){this._target&&this._target.removeEventListener("contextmenu",this._contextMenuHandler)},enablePointerLock:function(e,t){document.body.requestPointerLock?(e&&document.addEventListener("pointerlockchange",(function t(){e(),document.removeEventListener("pointerlockchange",t)}),!1),t&&document.addEventListener("pointerlockerror",(function e(){t(),document.removeEventListener("pointerlockerror",e)}),!1),document.body.requestPointerLock()):t&&t()},disablePointerLock:function(e){document.exitPointerLock&&(e&&document.addEventListener("pointerlockchange",(function t(){e(),document.removeEventListener("pointerlockchange",t)}),!1),document.exitPointerLock())},update:function(){this._lastbuttons[0]=this._buttons[0],this._lastbuttons[1]=this._buttons[1],this._lastbuttons[2]=this._buttons[2]},isPressed:function(e){return this._buttons[e]},wasPressed:function(e){return this._buttons[e]&&!this._lastbuttons[e]},wasReleased:function(e){return!this._buttons[e]&&this._lastbuttons[e]},_handleUp:function(e){this._buttons[e.button]=!1;var t=new vd(this,e);t.event&&this.fire("mouseup",t)},_handleDown:function(e){this._buttons[e.button]=!0;var t=new vd(this,e);t.event&&this.fire("mousedown",t)},_handleMove:function(e){var t=new vd(this,e);t.event&&(this.fire("mousemove",t),this._lastX=t.x,this._lastY=t.y)},_handleWheel:function(e){var t=new vd(this,e);t.event&&this.fire("mousewheel",t)},_getTargetCoords:function(e){var t=this._target.getBoundingClientRect(),i=Math.floor(t.left),r=Math.floor(t.top);return e.clientX<i||e.clientX>=i+this._target.clientWidth||e.clientY<r||e.clientY>=r+this._target.clientHeight?null:{x:e.clientX-i,y:e.clientY-r}}}),gd.prototype.attach=function(e){this._element=e,this._keyboard&&this._keyboard.attach(e),this._mouse&&this._mouse.attach(e)},gd.prototype.detach=function(){this._keyboard&&this._keyboard.detach(),this._mouse&&this._mouse.detach(),this._element=null},gd.prototype.disableContextMenu=function(){this._mouse||this._enableMouse(),this._mouse.disableContextMenu()},gd.prototype.enableContextMenu=function(){this._mouse||this._enableMouse(),this._mouse.enableContextMenu()},gd.prototype.update=function(e){for(var t in this._keyboard&&this._keyboard.update(e),this._mouse&&this._mouse.update(e),this._gamepads&&this._gamepads.update(e),this._axesValues={},this._axes)this._axesValues[t]=[]},gd.prototype.registerKeys=function(e,t){if(this._keyboard||this._enableKeyboard(),this._actions[e])throw new Error("Action: "+e+" already registered");if(void 0===t)throw new Error("Invalid button");t.length||(t=[t]),this._actions[e]?this._actions[e].push({type:"keyboard",keys:t}):this._actions[e]=[{type:"keyboard",keys:t}]},gd.prototype.registerMouse=function(e,t){if(this._mouse||this._enableMouse(),void 0===t)throw new Error("Invalid button");this._actions[e]?this._actions[e].push({type:"mouse",button:t}):this._actions[e]=[{type:"mouse",button:-t}]},gd.prototype.registerPadButton=function(e,t,i){if(void 0===i)throw new Error("Invalid button");this._actions[e]?this._actions[e].push({type:"gamepad",button:i,pad:t}):this._actions[e]=[{type:"gamepad",button:i,pad:t}]},gd.prototype.registerAxis=function(e){var t=e.name;this._axes[t]||(this._axes[t]=[]);var i=this._axes[t].push(t);(e=e||{}).pad=e.pad||0;var r=function(r,n,a,s){switch(n){case"mousex":r._mouse.on("mousemove",(function(e){r._axesValues[t][i]=e.dx/10}));break;case"mousey":r._mouse.on("mousemove",(function(e){r._axesValues[t][i]=e.dy/10}));break;case"key":r._axes[t].push((function(){return r._keyboard.isPressed(s)?a:0}));break;case"padrx":r._axes[t].push((function(){return r._gamepads.getAxis(e.pad,2)}));break;case"padry":r._axes[t].push((function(){return r._gamepads.getAxis(e.pad,3)}));break;case"padlx":r._axes[t].push((function(){return r._gamepads.getAxis(e.pad,0)}));break;case"padly":r._axes[t].push((function(){return r._gamepads.getAxis(e.pad,1)}));break;default:throw new Error("Unknown axis")}};r(this,e.positive,1,e.positiveKey),(e.negativeKey||e.negative!==e.positive)&&r(this,e.negative,-1,e.negativeKey)},gd.prototype.isPressed=function(e){if(!this._actions[e])return!1;var t,i=0,r=this._actions[e].length;for(i=0;i<r;++i)switch((t=this._actions[e][i]).type){case"keyboard":if(this._keyboard){var n,a=t.keys.length;for(n=0;n<a;n++)if(this._keyboard.isPressed(t.keys[n]))return!0}break;case"mouse":if(this._mouse&&this._mouse.isPressed(t.button))return!0;break;case"gamepad":if(this._gamepads&&this._gamepads.isPressed(t.pad,t.button))return!0}return!1},gd.prototype.wasPressed=function(e){if(!this._actions[e])return!1;var t=0,i=this._actions[e].length;for(t=0;t<i;++t){var r=this._actions[e][t];switch(r.type){case"keyboard":if(this._keyboard){var n,a=r.keys.length;for(n=0;n<a;n++)if(this._keyboard.wasPressed(r.keys[n]))return!0}break;case"mouse":if(this._mouse&&this._mouse.wasPressed(r.button))return!0;break;case"gamepad":if(this._gamepads&&this._gamepads.wasPressed(r.pad,r.button))return!0}}return!1},gd.prototype.getAxis=function(e){var t=0;if(this._axes[e]){var i,n=this._axes[e].length;for(i=0;i<n;i++)if("function"===r(this._axes[e][i])){var a=this._axes[e][i]();Math.abs(a)>Math.abs(t)&&(t=a)}else this._axesValues[e]&&Math.abs(this._axesValues[e][i])>Math.abs(t)&&(t=this._axesValues[e][i])}return t},gd.prototype._enableMouse=function(){if(this._mouse=new yd,!this._element)throw new Error("Controller must be attached to an Element");this._mouse.attach(this._element)},gd.prototype._enableKeyboard=function(){if(this._keyboard=new Ad,!this._element)throw new Error("Controller must be attached to an Element");this._keyboard.attach(this._element)};var kd=new I,xd=new I,Sd=new J,Td=new J,wd=new J;Sd.end=new I,Td.end=new I,wd.end=new I;var Ed=new I,Md=new I,Pd=new I,Rd=new I,Cd=new I,Od=new I,Id=new I,Dd=new O,Fd=new I,Nd=new I,Bd=new I,Ld=new I,Ud=new I,Vd=new I,zd=new I,jd=new I,Wd=new D;function Gd(e,t,i){return Id.cross(e,t).dot(i)}function Hd(e,t,i){this.event=e,this.element=t,this.camera=i,this._stopPropagation=!1}function Yd(e,t,i,r,n,a,s){Hd.call(this,e,t,i),this.x=r,this.y=n,this.ctrlKey=e.ctrlKey||!1,this.altKey=e.altKey||!1,this.shiftKey=e.shiftKey||!1,this.metaKey=e.metaKey||!1,this.button=e.button,yd.isPointerLocked()?(this.dx=e.movementX||e.webkitMovementX||e.mozMovementX||0,this.dy=e.movementY||e.webkitMovementY||e.mozMovementY||0):(this.dx=r-a,this.dy=n-s),this.wheelDelta=0,"wheel"===e.type&&(e.deltaY>0?this.wheelDelta=1:e.deltaY<0&&(this.wheelDelta=-1))}function Xd(e,t,i,r,n,a){Hd.call(this,e,t,i),this.touches=e.touches,this.changedTouches=e.changedTouches,this.x=r,this.y=n,this.touch=a}function Zd(e,t,i,r){Hd.call(this,e,t,i),this.inputSource=r}function Qd(e,t){this._app=null,this._attached=!1,this._target=null,this._enabled=!0,this._lastX=0,this._lastY=0,this._upHandler=this._handleUp.bind(this),this._downHandler=this._handleDown.bind(this),this._moveHandler=this._handleMove.bind(this),this._wheelHandler=this._handleWheel.bind(this),this._touchstartHandler=this._handleTouchStart.bind(this),this._touchendHandler=this._handleTouchEnd.bind(this),this._touchcancelHandler=this._touchendHandler,this._touchmoveHandler=this._handleTouchMove.bind(this),this._sortHandler=this._sortElements.bind(this),this._elements=[],this._hoveredElement=null,this._pressedElement=null,this._touchedElements={},this._touchesForWhichTouchLeaveHasFired={},this._selectedElements={},this._selectedPressedElements={},this._useMouse=!t||!1!==t.useMouse,this._useTouch=!t||!1!==t.useTouch,this._useXr=!t||!1!==t.useXr,this._selectEventsAttached=!1,h.touch&&(this._clickedEntities={}),this.attach(e)}function Jd(){this.gamepadsSupported=!!navigator.getGamepads||!!navigator.webkitGetGamepads,this.current=[],this.previous=[],this.deadZone=.25}Object.assign(Hd.prototype,{stopPropagation:function(){this._stopPropagation=!0,this.event&&(this.event.stopImmediatePropagation(),this.event.stopPropagation())}}),Yd.prototype=Object.create(Hd.prototype),Yd.prototype.constructor=Yd,Xd.prototype=Object.create(Hd.prototype),Xd.prototype.constructor=Xd,Zd.prototype=Object.create(Hd.prototype),Zd.prototype.constructor=Zd,Object.assign(Qd.prototype,{attach:function(e){this._attached&&(this._attached=!1,this.detach()),this._target=e,this._attached=!0;var t=!!h.passiveEvents&&{passive:!0};this._useMouse&&(window.addEventListener("mouseup",this._upHandler,t),window.addEventListener("mousedown",this._downHandler,t),window.addEventListener("mousemove",this._moveHandler,t),window.addEventListener("wheel",this._wheelHandler,t)),this._useTouch&&h.touch&&(this._target.addEventListener("touchstart",this._touchstartHandler,t),this._target.addEventListener("touchend",this._touchendHandler,!1),this._target.addEventListener("touchmove",this._touchmoveHandler,!1),this._target.addEventListener("touchcancel",this._touchcancelHandler,!1)),this.attachSelectEvents()},attachSelectEvents:function(){!this._selectEventsAttached&&this._useXr&&this.app&&this.app.xr&&this.app.xr.supported&&(this._clickedEntities||(this._clickedEntities={}),this._selectEventsAttached=!0,this.app.xr.on("start",this._onXrStart,this))},detach:function(){if(this._attached){this._attached=!1;var e=!!h.passiveEvents&&{passive:!0};this._useMouse&&(window.removeEventListener("mouseup",this._upHandler,e),window.removeEventListener("mousedown",this._downHandler,e),window.removeEventListener("mousemove",this._moveHandler,e),window.removeEventListener("wheel",this._wheelHandler,e)),this._useTouch&&(this._target.removeEventListener("touchstart",this._touchstartHandler,e),this._target.removeEventListener("touchend",this._touchendHandler,!1),this._target.removeEventListener("touchmove",this._touchmoveHandler,!1),this._target.removeEventListener("touchcancel",this._touchcancelHandler,!1)),this._selectEventsAttached&&(this._selectEventsAttached=!1,this.app.xr.off("start",this._onXrStart,this),this.app.xr.off("end",this._onXrEnd,this),this.app.xr.off("update",this._onXrUpdate,this),this.app.xr.input.off("selectstart",this._onSelectStart,this),this.app.xr.input.off("selectend",this._onSelectEnd,this),this.app.xr.input.off("remove",this._onXrInputRemove,this)),this._target=null}},addElement:function(e){-1===this._elements.indexOf(e)&&this._elements.push(e)},removeElement:function(e){var t=this._elements.indexOf(e);-1!==t&&this._elements.splice(t,1)},_handleUp:function(e){this._enabled&&(yd.isPointerLocked()||(this._calcMouseCoords(e),null!==_d&&this._onElementMouseEvent("mouseup",e)))},_handleDown:function(e){this._enabled&&(yd.isPointerLocked()||(this._calcMouseCoords(e),null!==_d&&this._onElementMouseEvent("mousedown",e)))},_handleMove:function(e){this._enabled&&(this._calcMouseCoords(e),null!==_d&&(this._onElementMouseEvent("mousemove",e),this._lastX=_d,this._lastY=md))},_handleWheel:function(e){this._enabled&&(this._calcMouseCoords(e),null!==_d&&this._onElementMouseEvent("mousewheel",e))},_determineTouchedElements:function(e){var t,i,r,n={},a=this.app.systems.camera.cameras;for(t=a.length-1;t>=0;t--){var s=a[t],o=0;for(i=0,r=e.changedTouches.length;i<r;i++)if(n[e.changedTouches[i].identifier])o++;else{var l=this._calcTouchCoords(e.changedTouches[i]),c=this._getTargetElement(s,l.x,l.y);c&&(o++,n[e.changedTouches[i].identifier]={element:c,camera:s,x:l.x,y:l.y})}if(o===r)break}return n},_handleTouchStart:function(e){if(this._enabled){for(var t=this._determineTouchedElements(e),i=0,r=e.changedTouches.length;i<r;i++){var n=e.changedTouches[i],a=t[n.identifier],s=this._touchedElements[n.identifier];!a||s&&a.element===s.element||(this._fireEvent(e.type,new Xd(e,a.element,a.camera,a.x,a.y,n)),this._touchesForWhichTouchLeaveHasFired[n.identifier]=!1)}for(var o in t)this._touchedElements[o]=t[o]}},_handleTouchEnd:function(e){if(this._enabled){var t=this.app.systems.camera.cameras;for(var i in this._clickedEntities)delete this._clickedEntities[i];for(var r=0,n=e.changedTouches.length;r<n;r++){var a=e.changedTouches[r],s=this._touchedElements[a.identifier];if(s){var o=s.element,l=s.camera,c=s.x,f=s.y;if(delete this._touchedElements[a.identifier],delete this._touchesForWhichTouchLeaveHasFired[a.identifier],this._fireEvent(e.type,new Xd(e,o,l,c,f,a)),0===e.touches.length)for(var h=this._calcTouchCoords(a),u=t.length-1;u>=0;u--)this._getTargetElement(t[u],h.x,h.y)===o&&(this._clickedEntities[o.entity.getGuid()]||(this._fireEvent("click",new Xd(e,o,l,c,f,a)),this._clickedEntities[o.entity.getGuid()]=!0))}}}},_handleTouchMove:function(e){if(e.preventDefault(),this._enabled)for(var t=this._determineTouchedElements(e),i=0,r=e.changedTouches.length;i<r;i++){var n=e.changedTouches[i],a=t[n.identifier],s=this._touchedElements[n.identifier];if(s){var o=this._calcTouchCoords(n);a&&a.element===s.element||this._touchesForWhichTouchLeaveHasFired[n.identifier]||(this._fireEvent("touchleave",new Xd(e,s.element,s.camera,o.x,o.y,n)),this._touchesForWhichTouchLeaveHasFired[n.identifier]=!0),this._fireEvent("touchmove",new Xd(e,s.element,s.camera,o.x,o.y,n))}}},_onElementMouseEvent:function(e,t){var i,r=this._hoveredElement;this._hoveredElement=null;for(var n,a=this.app.systems.camera.cameras,s=a.length-1;s>=0&&(n=a[s],!(i=this._getTargetElement(n,_d,md)));s--);i&&(this._fireEvent(e,new Yd(t,i,n,_d,md,this._lastX,this._lastY)),this._hoveredElement=i,"mousedown"===e&&(this._pressedElement=i)),r!==this._hoveredElement&&(r&&this._fireEvent("mouseleave",new Yd(t,r,n,_d,md,this._lastX,this._lastY)),this._hoveredElement&&this._fireEvent("mouseenter",new Yd(t,this._hoveredElement,n,_d,md,this._lastX,this._lastY))),"mouseup"===e&&this._pressedElement&&(this._pressedElement===this._hoveredElement?(this._pressedElement=null,this._clickedEntities&&this._clickedEntities[this._hoveredElement.entity.getGuid()]||this._fireEvent("click",new Yd(t,this._hoveredElement,n,_d,md,this._lastX,this._lastY))):this._pressedElement=null)},_onXrStart:function(){this.app.xr.on("end",this._onXrEnd,this),this.app.xr.on("update",this._onXrUpdate,this),this.app.xr.input.on("selectstart",this._onSelectStart,this),this.app.xr.input.on("selectend",this._onSelectEnd,this),this.app.xr.input.on("remove",this._onXrInputRemove,this)},_onXrEnd:function(){this.app.xr.off("update",this._onXrUpdate,this),this.app.xr.input.off("selectstart",this._onSelectStart,this),this.app.xr.input.off("selectend",this._onSelectEnd,this),this.app.xr.input.off("remove",this._onXrInputRemove,this)},_onXrUpdate:function(){if(this._enabled)for(var e=this.app.xr.input.inputSources,t=0;t<e.length;t++)this._onElementSelectEvent("selectmove",e[t],null)},_onXrInputRemove:function(e){var t=this._selectedElements[e.id];t&&(e._elementEntity=null,this._fireEvent("selectleave",new Zd(null,t,null,e))),delete this._selectedElements[e.id],delete this._selectedPressedElements[e.id]},_onSelectStart:function(e,t){this._enabled&&this._onElementSelectEvent("selectstart",e,t)},_onSelectEnd:function(e,t){this._enabled&&this._onElementSelectEvent("selectend",e,t)},_onElementSelectEvent:function(e,t,i){var r,n,a,s=this._selectedElements[t.id],o=this.app.systems.camera.cameras;if(t.elementInput){wd.set(t.getOrigin(),t.getDirection());for(var l=o.length-1;l>=0&&(a=o[l],!(r=this._getTargetElementByRay(wd,a)));l--);}t._elementEntity=r||null,r?(this._selectedElements[t.id]=r,n=r):delete this._selectedElements[t.id],s!==n&&(s&&this._fireEvent("selectleave",new Zd(i,s,a,t)),n&&this._fireEvent("selectenter",new Zd(i,n,a,t))),"selectstart"===e&&(this._selectedPressedElements[t.id]=n,n&&this._fireEvent("selectstart",new Zd(i,n,a,t)));var c=this._selectedPressedElements[t.id];!t.elementInput&&c&&(delete this._selectedPressedElements[t.id],s&&this._fireEvent("selectend",new Zd(i,s,a,t))),"selectend"===e&&t.elementInput&&(delete this._selectedPressedElements[t.id],s&&this._fireEvent("selectend",new Zd(i,s,a,t)),c&&c===s&&this._fireEvent("click",new Zd(i,c,a,t)))},_fireEvent:function(e,t){for(var i=t.element;i.fire(e,t),!t._stopPropagation&&i.entity.parent&&(i=i.entity.parent.element););},_calcMouseCoords:function(e){var t=this._target.getBoundingClientRect(),i=Math.floor(t.left),r=Math.floor(t.top);e.clientX<i||e.clientX>=i+this._target.clientWidth||e.clientY<r||e.clientY>=r+this._target.clientHeight?(_d=null,md=null):(_d=e.clientX-i,md=e.clientY-r)},_calcTouchCoords:function(e){for(var t=0,i=0,r=e.target;!(r instanceof HTMLElement);)r=r.parentNode;var n=r;do{t+=n.offsetLeft-n.scrollLeft,i+=n.offsetTop-n.scrollTop,n=n.offsetParent}while(n);return{x:e.pageX-t,y:e.pageY-i}},_sortElements:function(e,t){var i=this.app.scene.layers.sortTransparentLayers(e.layers,t.layers);return 0!==i?i:e.screen&&!t.screen?-1:!e.screen&&t.screen?1:e.screen||t.screen?e.screen.screen.screenSpace&&!t.screen.screen.screenSpace?-1:t.screen.screen.screenSpace&&!e.screen.screen.screenSpace?1:t.drawOrder-e.drawOrder:0},_getTargetElement:function(e,t,i){var r,n,a=null;this._elements.sort(this._sortHandler);for(var s=0,o=this._elements.length;s<o;s++){var l,c=this._elements[s],f=!1;if(c.screen&&c.screen.screen.screenSpace?(void 0===r&&(r=Sd,!1===this._calculateRayScreen(t,i,e,r)&&(r=null)),l=r,f=!0):(void 0===n&&(n=Td,!1===this._calculateRay3d(t,i,e,n)&&(n=null)),l=n),l&&this._checkElement(l,c,f)){a=c;break}}return a},_getTargetElementByRay:function(e,t){var i=null;Sd.origin.copy(e.origin),Sd.direction.copy(e.direction),Sd.end.copy(Sd.direction).scale(2*t.farClip).add(Sd.origin),this._elements.sort(this._sortHandler);for(var r=0,n=this._elements.length;r<n;r++){var a=this._elements[r];if((!a.screen||!a.screen.screen.screenSpace)&&this._checkElement(Sd,a,!1)){i=a;break}}return i},_buildHitCorners:function(e,t,i,r){var n=t;if(e.entity&&e.entity.button){var a=e.entity.button.hitPadding||Wd;Fd.copy(e.entity.up),Nd.copy(Fd).scale(-1),Ld.copy(e.entity.right),Bd.copy(Ld).scale(-1),Fd.scale(a.w*r),Nd.scale(a.y*r),Ld.scale(a.z*i),Bd.scale(a.x*i),Ud.copy(n[0]).add(Nd).add(Bd),Vd.copy(n[1]).add(Nd).add(Ld),zd.copy(n[2]).add(Fd).add(Ld),jd.copy(n[3]).add(Fd).add(Bd),n=[Ud,Vd,zd,jd]}return n},_calculateScaleToScreen:function(e){var t=e.entity,i=e.screen.screen.scale;for(Dd.set(i,i);t&&!t.screen;)Dd.mul(t.getLocalScale()),t=t.parent;return Dd},_calculateRayScreen:function(e,t,i,r){var n=this.app.graphicsDevice.width,a=this.app.graphicsDevice.height,s=i.rect.z*n,o=i.rect.w*a,l=i.rect.x*n,c=l+s,f=(1-i.rect.y)*a,h=f-o,u=e*n/this._target.clientWidth,d=t*a/this._target.clientHeight;return u>=l&&u<=c&&d<=f&&d>=h&&(u=n*(u-l)/s,d=a-(d=a*(d-h)/o),r.origin.set(u,d,1),r.direction.set(0,0,-1),r.end.copy(r.direction).scale(2).add(r.origin),!0)},_calculateRay3d:function(e,t,i,r){var n=this._target.clientWidth,a=this._target.clientHeight,s=i.rect.z*n,o=i.rect.w*a,l=i.rect.x*n,c=l+s,f=(1-i.rect.y)*a,h=f-o,u=e,d=t;return e>=l&&e<=c&&t<=f&&d>=h&&(u=n*(u-l)/s,d=a*(d-h)/o,i.screenToWorld(u,d,i.nearClip,kd),i.screenToWorld(u,d,i.farClip,xd),r.origin.copy(kd),r.direction.set(0,0,-1),r.end.copy(xd),!0)},_checkElement:function(e,t,i){var r;if(t.maskedBy&&!this._checkElement(e,t.maskedBy.element,i))return!1;r=i?this._calculateScaleToScreen(t):t.entity.getWorldTransform().getScale();var n=this._buildHitCorners(t,i?t.screenCorners:t.worldCorners,r.x,r.y);return!!function(e,t,i){if(Ed.sub2(t,e),Md.sub2(i[0],e),Pd.sub2(i[1],e),Rd.sub2(i[2],e),Od.cross(Rd,Ed),Md.dot(Od)>=0){if(-Pd.dot(Od)<0)return!1;if(Gd(Ed,Pd,Md)<0)return!1}else{if(Cd.sub2(i[3],e),Cd.dot(Od)<0)return!1;if(Gd(Ed,Md,Cd)<0)return!1}return!(Ed.sub2(i[0],i[2]).lengthSq()<1e-8)&&!(Ed.sub2(i[1],i[3]).lengthSq()<1e-8)}(e.origin,e.end,n)}}),Object.defineProperty(Qd.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e}}),Object.defineProperty(Qd.prototype,"app",{get:function(){return this._app||Au.getApplication()},set:function(e){this._app=e}});var qd={DEFAULT:{buttons:["PAD_FACE_1","PAD_FACE_2","PAD_FACE_3","PAD_FACE_4","PAD_L_SHOULDER_1","PAD_R_SHOULDER_1","PAD_L_SHOULDER_2","PAD_R_SHOULDER_2","PAD_SELECT","PAD_START","PAD_L_STICK_BUTTON","PAD_R_STICK_BUTTON","PAD_UP","PAD_DOWN","PAD_LEFT","PAD_RIGHT","PAD_VENDOR"],axes:["PAD_L_STICK_X","PAD_L_STICK_Y","PAD_R_STICK_X","PAD_R_STICK_Y"]},PS3:{buttons:["PAD_FACE_1","PAD_FACE_2","PAD_FACE_4","PAD_FACE_3","PAD_L_SHOULDER_1","PAD_R_SHOULDER_1","PAD_L_SHOULDER_2","PAD_R_SHOULDER_2","PAD_SELECT","PAD_START","PAD_L_STICK_BUTTON","PAD_R_STICK_BUTTON","PAD_UP","PAD_DOWN","PAD_LEFT","PAD_RIGHT","PAD_VENDOR"],axes:["PAD_L_STICK_X","PAD_L_STICK_Y","PAD_R_STICK_X","PAD_R_STICK_Y"]}},Kd={"Product: 0268":"PS3"};function $d(e){var t=ip(e);this.id=e.identifier,this.x=t.x,this.y=t.y,this.target=e.target,this.touch=e}function ep(e,t){if(this.element=t.target,this.event=t,this.touches=[],this.changedTouches=[],t){var i,r=t.touches.length;for(i=0;i<r;i++)this.touches.push(new $d(t.touches[i]));for(r=t.changedTouches.length,i=0;i<r;i++)this.changedTouches.push(new $d(t.changedTouches[i]))}}function tp(e){o.call(this),this._element=null,this._startHandler=this._handleTouchStart.bind(this),this._endHandler=this._handleTouchEnd.bind(this),this._moveHandler=this._handleTouchMove.bind(this),this._cancelHandler=this._handleTouchCancel.bind(this),this.attach(e)}function ip(e){for(var t=0,i=0,r=e.target;!(r instanceof HTMLElement);)r=r.parentNode;var n=r;do{t+=n.offsetLeft-n.scrollLeft,i+=n.offsetTop-n.scrollTop,n=n.offsetParent}while(n);return{x:e.pageX-t,y:e.pageY-i}}function rp(e,t){o.call(this),this.type="bitmap",this.app=e,this.intensity=0,t=t||{},this.fontWeight=t.fontWeight||"normal",this.fontSize=parseInt(t.fontSize,10),this.glyphSize=this.fontSize,this.fontName=t.fontName||"Arial",this.color=t.color||new v(1,1,1),this.padding=t.padding||0;var i=t.width>4096?4096:t.width||512,r=t.height>4096?4096:t.height||512,n=document.createElement("canvas");n.height=r,n.width=i;var a=new nt(this.app.graphicsDevice,{format:7,autoMipmap:!0});a.name="font",a.setSource(n),a.minFilter=5,a.magFilter=1,a.addressU=1,a.addressV=1,this.textures=[a],this.chars="",this.data={}}function np(){}Object.assign(Jd.prototype,{update:function(){var e,t,i,r,n;for(e=0,i=this.current.length;e<i;e++)for(n=(r=this.current[e].pad.buttons).length,t=0;t<n;t++)void 0===this.previous[e]&&(this.previous[e]=[]),this.previous[e][t]=r[t].pressed;var a=this.poll();for(e=0,i=a.length;e<i;e++)this.current[e]=a[e]},poll:function(){var e=[];if(this.gamepadsSupported){var t,i=navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads(),r=i.length;for(t=0;t<r;t++)i[t]&&e.push({map:this.getMap(i[t]),pad:i[t]})}return e},getMap:function(e){for(var t in Kd)if(e.id.indexOf(t)>=0)return qd[Kd[t]];return qd.DEFAULT},isPressed:function(e,t){if(!this.current[e])return!1;var i=this.current[e].map.buttons[t];return this.current[e].pad.buttons[pc[i]].pressed},wasPressed:function(e,t){if(!this.current[e])return!1;var i=this.current[e].map.buttons[t],r=pc[i];return this.current[e].pad.buttons[r].pressed&&!this.previous[e][r]},getAxis:function(e,t){if(!this.current[e])return!1;var i=this.current[e].map.axes[t],r=this.current[e].pad.axes[pc[i]];return Math.abs(r)<this.deadZone&&(r=0),r}}),Object.assign(ep.prototype,{getTouchById:function(e,t){var i,r=t.length;for(i=0;i<r;i++)if(t[i].id===e)return t[i];return null}}),tp.prototype=Object.create(o.prototype),tp.prototype.constructor=tp,Object.assign(tp.prototype,{attach:function(e){this._element&&this.detach(),this._element=e,this._element.addEventListener("touchstart",this._startHandler,!1),this._element.addEventListener("touchend",this._endHandler,!1),this._element.addEventListener("touchmove",this._moveHandler,!1),this._element.addEventListener("touchcancel",this._cancelHandler,!1)},detach:function(){this._element&&(this._element.removeEventListener("touchstart",this._startHandler,!1),this._element.removeEventListener("touchend",this._endHandler,!1),this._element.removeEventListener("touchmove",this._moveHandler,!1),this._element.removeEventListener("touchcancel",this._cancelHandler,!1)),this._element=null},_handleTouchStart:function(e){this.fire("touchstart",new ep(this,e))},_handleTouchEnd:function(e){this.fire("touchend",new ep(this,e))},_handleTouchMove:function(e){e.preventDefault(),this.fire("touchmove",new ep(this,e))},_handleTouchCancel:function(e){this.fire("touchcancel",new ep(this,e))}}),rp.prototype=Object.create(o.prototype),rp.prototype.constructor=rp,rp.prototype.createTextures=function(e){var t=this._normalizeCharsSet(e);if(t.length===this.chars.length){for(var i=0;i<t.length;i++)if(t[i]!==this.chars[i])return void this._renderAtlas(t)}else this._renderAtlas(t)},rp.prototype.updateTextures=function(e){for(var t=this._normalizeCharsSet(e),i=[],r=0;r<t.length;r++){var n=t[r];this.data.chars[n]||i.push(n)}i.length>0&&this._renderAtlas(this.chars.concat(i))},rp.prototype.destroy=function(){for(var e=0;e<this.textures.length;e++)this.textures[e].destroy();this.chars=null,this.color=null,this.data=null,this.fontName=null,this.fontSize=null,this.glyphSize=null,this.intensity=null,this.textures=null,this.type=null,this.fontWeight=null},rp.prototype._getAndClearContext=function(e,t){var i=e.width,r=e.height,n=e.getContext("2d",{alpha:!0});return n.clearRect(0,0,i,r),n.fillStyle=t,n.fillRect(0,0,i,r),n},rp.prototype._colorToRgbString=function(e,t){var i=Math.round(255*e.r),r=Math.round(255*e.g),n=Math.round(255*e.b);return t?"rgba("+i+", "+r+", "+n+", "+e.a+")":"rgb("+i+", "+r+", "+n+")"},rp.prototype.renderCharacter=function(e,t,i,r,n){e.fillStyle=n,e.fillText(t,i,r)},rp.prototype._renderAtlas=function(e){this.chars=e;var t=1,i=this.textures[t-1].getSource(),r=i.width,n=i.height,a=this._colorToRgbString(this.color,!1),s=this.color.a;this.color.a=1/255;var o=this._colorToRgbString(this.color,!0);this.color.a=s;var l=this._getAndClearContext(i,o);l.font=this.fontWeight+" "+this.fontSize.toString()+"px "+this.fontName,l.textAlign="center",l.textBaseline="alphabetic",this.data=this._createJson(this.chars,this.fontName,r,n);var c,f,h=b.getSymbols(this.chars.join("")),u=this.textures.length,d=0,p=0,_={};for(c=0;c<h.length;c++)_[f=h[c]]=this._getTextMetrics(f),d=Math.max(d,_[f].height),p=Math.max(p,_[f].descent);this.glyphSize=Math.max(this.glyphSize,d);var m=this.glyphSize+2*this.padding,A=this.glyphSize+2*this.padding,v=this.glyphSize/2+this.padding,y=A-p-this.padding,g=0,k=0;for(c=0;c<h.length;c++){f=h[c];var x=b.getCodePoint(h[c]),S=this.fontSize;l.font=this.fontWeight+" "+S.toString()+"px "+this.fontName,l.textAlign="center",l.textBaseline="alphabetic";var T=l.measureText(f).width;T>S&&(S=this.fontSize*this.fontSize/T,l.font=this.fontWeight+" "+S.toString()+"px "+this.fontName,T=this.fontSize),this.renderCharacter(l,f,g+v,k+y,a);var w=this.padding+(this.glyphSize-T)/2,E=-this.padding+_[f].descent-p,M=T;if(this._addChar(this.data,f,x,g,k,m,A,w,E,M,t-1,r,n),(g+=m)+m>r&&(g=0,(k+=A)+A>n))if(this.textures[t-1].upload(),k=0,++t>u){(i=document.createElement("canvas")).height=n,i.width=r,l=this._getAndClearContext(i,o);var P=new nt(this.app.graphicsDevice,{format:7,autoMipmap:!0});P.name="font-atlas",P.setSource(i),P.minFilter=5,P.magFilter=1,P.addressU=1,P.addressV=1,this.textures.push(P)}else i=this.textures[t-1].getSource(),l=this._getAndClearContext(i,o)}if(this.textures[t-1].upload(),t<u){for(c=t;c<u;c++)this.textures[c].destroy();this.textures.splice(t)}this.fire("render")},rp.prototype._createJson=function(e,t,i,r){return{version:3,intensity:this.intensity,info:{face:t,width:i,height:r,maps:[{width:i,height:r}]},chars:{}}},rp.prototype._addChar=function(e,t,i,r,n,a,s,o,l,c,f,h,u){e.info.maps.length<f+1&&e.info.maps.push({width:h,height:u});var d=this.fontSize/32;e.chars[t]={id:i,letter:t,x:r,y:n,width:a,height:s,xadvance:c/d,xoffset:o/d,yoffset:(l+this.padding)/d,scale:d,range:1,map:f,bounds:[0,0,a/d,s/d]}},rp.prototype._normalizeCharsSet=function(e){var t=this.app.systems.element.getUnicodeConverter();t&&(e=t(e));var i,r={},n=b.getSymbols(e);for(i=0;i<n.length;i++){var a=n[i];r[a]||(r[a]=a)}return Object.keys(r).sort()},rp.prototype._getTextMetrics=function(e){var t=document.createElement("span");t.id="content-span",t.innerHTML=e;var i=document.createElement("div");i.id="content-block",i.style.display="inline-block",i.style.width="1px",i.style.height="0px";var r=document.createElement("div");r.appendChild(t),r.appendChild(i),r.style.font=this.fontName,r.style.fontSize=this.fontSize+"px",document.body.appendChild(r);var n=-1,a=-1,s=-1;try{i.style["vertical-align"]="baseline",n=i.offsetTop-t.offsetTop,i.style["vertical-align"]="bottom",a=(s=i.offsetTop-t.offsetTop)-n}finally{document.body.removeChild(r)}return{ascent:n,descent:a,height:s}};var ap,sp=[null,null],op=null,lp=new D,cp=new Float32Array(4),fp=[],hp=!1,up=!1,dp=!1,pp=/uniform[ \t\n\r]+\S+[ \t\n\r]+\S+[ \t\n\r]*\;/g,_p=/\S+[ \t\n\r]*\;/,mp=/[ \t\n\r]*\;/,bp=/(float|int|bool|vec2|vec3|vec4|struct)([ \t\n\r]+[^\;]+[ \t\n\r]*\,*)+\;/g,Ap=/(float|int|bool|vec2|vec3|vec4|struct|\,|\;|\{|\})/g,vp=/(uniform|varying|in|out)[ \t\n\r]+(float|int|bool|vec2|vec3|vec4|struct)([ \t\n\r]+[^\;]+[ \t\n\r]*\,*)+\;/g,yp=/(float|int|bool|vec2|vec3|vec4|struct|uniform|varying|in|out|\,|\;|\{|\})/g,gp=/#version/g,kp=/out highp vec4 pc_fragColor;/g,xp=/#define gl_FragColor/g,Sp=/gl_FragColor/g,Tp=/uniform[ \t\n\r]+sampler2D[ \t\n\r]+uColorBuffer;/g,wp=/(varying|in)[ \t\n\r]+vec2[ \t\n\r]+vUv0;/g,Ep=/(texture2D|texture)[ \t\n\r]*\([ \t\n\r]*uColorBuffer/g,Mp=/void[ \t\n\r]+main/g;function Pp(e,t,i){var r=new nt(t,{format:i,width:t.width,height:t.height});r.name="posteffect-pass",r.minFilter=0,r.magFilter=0,r.addressU=1,r.addressV=1,sp[e]._colorBuffer=r}function Rp(e){sp[e].colorBuffer.destroy(),sp[e].destroy()}function Cp(e){for(var t,i,r,n=e.match(pp)||[],a=[],s=0;s<n.length;s++)t=n[s].search(_p),i=n[s].search(mp),"uColorBuffer"!==(r=n[s].substr(t,i-t))&&a.push(r);return a}function Op(e,t,i,r){var n,a,s,o,l,c=Cp(r.definition.fshader);if(0===c.length)return!1;for(n=0;n<i;n++)for(a=0;a<c.length;a++)for(l=c[a],o=Cp(e[t[n]].shader.definition.fshader),s=0;s<o.length;s++)if(o[s]===l)return!0;return!1}function Ip(e,t){var i,r,n,a=e.length,s=0,o=0,l=0,c=0,f="";for(r=0;r<a;r++)"{"===(i=e.charAt(r))?(0===l&&(s=r),l++):"}"===i&&(1===l&&(o=r,f+=e.substr(c,s-c+1),c=o),l--);var h,u,d=null,p=(f+=e.substr(c,e.length-c+1)).match(bp)||[];for(r=0;r<p.length;r++)for(h=p[r].split(","),n=0;n<h.length;n++)u=h[n].replace(Ap,"").trim(),t.indexOf(u)>=0?(d||(d=[]),d.push(u)):t.push(u);var _,m=f.match(vp)||[];for(r=0;r<m.length;r++)for(h=m[r].split(","),n=0;n<h.length;n++)u=h[n].replace(yp,"").trim(),(_=t.indexOf(u))>=0&&t.splice(_,1);return d}function Dp(e,t){this.app=e,this.srcRenderTarget=t.srcRenderTarget,this.hdr=t.hdr,this.blending=t.blending,this.shader=t.shader,this.setup=t.setup;var i=this,r=e.graphicsDevice;if(this.layer=new oi({opaqueSortMode:0,transparentSortMode:0,passThrough:!0,name:t.name,onPostRender:function(){if(i.srcRenderTarget?(lp.x=i.srcRenderTarget.width,lp.y=i.srcRenderTarget.height,lp.z=1/i.srcRenderTarget.width,lp.w=1/i.srcRenderTarget.height):(lp.x=r.width,lp.y=r.height,lp.z=1/r.width,lp.w=1/r.height),cp[0]=lp.x,cp[1]=lp.y,cp[2]=lp.z,cp[3]=lp.w,ap.setValue(cp),this._postEffectCombined&&this._postEffectCombined<0)i.setup&&i.setup(r,i,lp,null,this.renderTarget);else{var t;(t=this._postEffectCombinedSrc?this._postEffectCombinedSrc:i.srcRenderTarget?i.srcRenderTarget:sp[this._backbufferRtId])._samples>1&&t.resolve(!0,!1);var n=t._colorBuffer;n.magFilter=(this._postEffectCombinedShader?this._postEffectCombinedBilinear:this.postEffectBilinear)?1:0,op.setValue(n),i.setup&&i.setup(r,i,lp,t,this.renderTarget);var a=this._postEffectCombinedShader?this._postEffectCombinedShader:this.shader;if(a&&Pe(r,this.renderTarget,a,null,null,i.blending),!i.srcRenderTarget)for(var s=e.scene.layers.layerList,o=0;o<s.length&&s[o]!==i.layer;o++)s[o].renderTarget!==sp[0]&&s[o].renderTarget!==sp[1]||(s[o].renderTarget=null)}}}),this.layer._generateCameraHash(),this.layer.isPostEffect=!0,this.layer.unmodifiedUvs=t.unmodifiedUvs,this.layer.postEffectBilinear=t.bilinear,this.layer.postEffect=this,this.layer.shader=t.shader,this.layer.renderTarget=t.destRenderTarget,!op){op=r.scope.resolve("uColorBuffer"),ap=r.scope.resolve("uScreenSize");for(var n=r.supportsMsaa?4:1,a=0;a<2;a++)sp[a]=new qu({depth:!0,stencil:r.supportsStencil,samples:n,autoResolve:!1}),sp[a].name="backbuffer"+a;e.on("prerender",(function(){var t,i,n=e.scene.layers.layerList,a=0,s=0;hp=!1,up=!1,dp=!1;var o=7;if(e.scene.layers._dirty){var l,c,f=0,h=!1;for(t=0;t<n.length;t++)if(h=!1,n[t].isPostEffect&&(0===f||n[t].unmodifiedUvs&&n[t].shader&&!Op(n,fp,f,n[t].shader))?(fp[f]=t,f++,t===n.length-1&&(h=!0)):f>0&&(h=!0),h){if(f>1){var u,d="post_";for(i=0;i<f;i++)d+=(u=n[fp[i]]).name?u.name:u.id,i<f-1&&(d+="_");var p=r.programLib._cache[d];if(!p){var _,m="vec4 shaderOutput;\n",b="void main() {\n",A=[];for(i=0;i<f;i++){if(_=(_=n[fp[i]].shader.definition.fshader+"\n").replace(gp,"//").replace(kp,"//").replace(xp,"//").replace(Sp,"shaderOutput"),i>0&&(_=_.replace(Tp,"//").replace(wp,"//").replace(Ep,"shaderOutput;//")),l=Ip(_=_.replace(Mp,"void main"+i),A))for(c=0;c<l.length;c++)_=_.replace(new RegExp("\\b"+l[c]+"\\b","g"),l[c]+"NNNN"+i);m+=_,b+="main"+i+"();\n"}b+="gl_FragColor = shaderOutput;\n}\n",p=We(r,Ce.fullscreenQuadVS,m+b,d)}for(i=0;i<f;i++)n[fp[i]]._postEffectCombined=i===f-1?1:-1;n[fp[f-1]]._postEffectCombinedShader=p,n[fp[f-1]]._postEffectCombinedBilinear=n[fp[0]].postEffectBilinear,n[fp[f-1]]._postEffectCombinedSrc=n[fp[0]].postEffect.srcRenderTarget}fp[0]=t,f=1}}for(t=0;t<n.length;t++){if(n[t].isPostEffect&&(!n[t].postEffect.srcRenderTarget&&!n[t]._postEffectCombined||!n[t].postEffect._postEffectCombinedSrc&&n[t]._postEffectCombined>=0)){for(i=t-1;i>=a;i--)n[i].renderTarget||(n[i].renderTarget=sp[s]);n[t]._backbufferRtId=s,a=t,hp=!0,1===s&&(up=!0),n[t].postEffect.hdr&&(o=r.webgl2&&r.textureFloatRenderable?18:r.extTextureHalfFloatLinear&&r.textureHalfFloatRenderable?12:7),n[t].postEffect.shader&&!n[t].renderTarget&&(s=1-s)}else n[t].isPostEffect||n[t].renderTarget||!hp||(n[t].renderTarget=sp[s]);n[t].isPostEffect&&!n[t].renderTarget&&(dp=!0)}hp&&(sp[0].colorBuffer?sp[0].width===r.width&&sp[0].height===r.height&&sp[0]._colorBuffer._format===o||(Rp(0),Pp(0,r,o)):Pp(0,r,o)),up&&(sp[1].colorBuffer?sp[1].width===r.width&&sp[1].height===r.height&&sp[1]._colorBuffer._format===o||(Rp(1),Pp(1,r,o)):Pp(1,r,o))}),this),e.on("postrender",(function(){var t=e.graphicsDevice;if(hp&&!dp){for(var i,r=e.scene.layers.layerList,n=r.length-1;n>=0&&(i=r[n].renderTarget)!==sp[0]&&i!==sp[1];n--);i&&(i._samples>1&&i.resolve(!0,!1),t.copyRenderTarget(i,null,!0,!1))}}),this)}}Dp.prototype.addToComposition=function(e){this.app.scene.layers.insertTransparent(this.layer,e)};var Fp={write:function(e){console.log(e)},open:function(){Fp.write("Powered by PlayCanvas "+i+" 798f16872")},info:function(e){console.info("INFO:\t"+e)},debug:function(e){console.debug("DEBUG:   "+e)},error:function(e){console.error("ERROR:   "+e)},warning:function(e){console.warn("WARNING: "+e)},alert:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){Fp.write("ALERT:   "+e),alert(e)})),assert:function(e,t){!1===e&&Fp.write("ASSERT:  "+t)}};b.endsWith=function(e,t){return e.endsWith(t)},b.startsWith=function(e,t){return e.startsWith(t)};var Np={now:x,Timer:S};Object.defineProperty(v.prototype,"data",{get:function(){return this._data||(this._data=new Float32Array(4)),this._data[0]=this.r,this._data[1]=this.g,this._data[2]=this.b,this._data[3]=this.a,this._data}}),Object.defineProperty(v.prototype,"data3",{get:function(){return this._data3||(this._data3=new Float32Array(3)),this._data3[0]=this.r,this._data3[1]=this.g,this._data3[2]=this.b,this._data3}}),A.INV_LOG2=Math.LOG2E,A.intToBytes=A.intToBytes32,A.bytesToInt=A.bytesToInt32,Object.defineProperty(O.prototype,"data",{get:function(){return this._data||(this._data=new Float32Array(2)),this._data[0]=this.x,this._data[1]=this.y,this._data}}),Object.defineProperty(I.prototype,"data",{get:function(){return this._data||(this._data=new Float32Array(3)),this._data[0]=this.x,this._data[1]=this.y,this._data[2]=this.z,this._data}}),Object.defineProperty(D.prototype,"data",{get:function(){return this._data||(this._data=new Float32Array(4)),this._data[0]=this.x,this._data[1]=this.y,this._data[2]=this.z,this._data[3]=this.w,this._data}});var Bp={Aabb:W,Sphere:Z,Plane:re};function Lp(e){this.name="UnsupportedBrowserError",this.message=e||""}function Up(e){this.name="ContextCreationError",this.message=e||""}Z.prototype.intersectRay=Z.prototype.intersectsRay,Q.prototype.update=function(e,t){var i=new N;i.mul2(e,t),this.setFromMat4(i)},Lp.prototype=Error.prototype,Up.prototype=Error.prototype;var Vp={ADDRESS_CLAMP_TO_EDGE:1,ADDRESS_MIRRORED_REPEAT:2,ADDRESS_REPEAT:0,BLENDMODE_ZERO:0,BLENDMODE_ONE:1,BLENDMODE_SRC_COLOR:2,BLENDMODE_ONE_MINUS_SRC_COLOR:3,BLENDMODE_DST_COLOR:4,BLENDMODE_ONE_MINUS_DST_COLOR:5,BLENDMODE_SRC_ALPHA:6,BLENDMODE_SRC_ALPHA_SATURATE:7,BLENDMODE_ONE_MINUS_SRC_ALPHA:8,BLENDMODE_DST_ALPHA:9,BLENDMODE_ONE_MINUS_DST_ALPHA:10,BUFFER_STATIC:0,BUFFER_DYNAMIC:1,BUFFER_STREAM:2,CULLFACE_NONE:0,CULLFACE_BACK:1,CULLFACE_FRONT:2,CULLFACE_FRONTANDBACK:3,ELEMENTTYPE_INT8:0,ELEMENTTYPE_UINT8:1,ELEMENTTYPE_INT16:2,ELEMENTTYPE_UINT16:3,ELEMENTTYPE_INT32:4,ELEMENTTYPE_UINT32:5,ELEMENTTYPE_FLOAT32:6,FILTER_NEAREST:0,FILTER_LINEAR:1,FILTER_NEAREST_MIPMAP_NEAREST:2,FILTER_NEAREST_MIPMAP_LINEAR:3,FILTER_LINEAR_MIPMAP_NEAREST:4,FILTER_LINEAR_MIPMAP_LINEAR:5,INDEXFORMAT_UINT8:0,INDEXFORMAT_UINT16:1,INDEXFORMAT_UINT32:2,PIXELFORMAT_R5_G6_B5:3,PIXELFORMAT_R8_G8_B8:6,PIXELFORMAT_R8_G8_B8_A8:7,PRIMITIVE_POINTS:0,PRIMITIVE_LINES:1,PRIMITIVE_LINELOOP:2,PRIMITIVE_LINESTRIP:3,PRIMITIVE_TRIANGLES:4,PRIMITIVE_TRISTRIP:5,PRIMITIVE_TRIFAN:6,SEMANTIC_POSITION:"POSITION",SEMANTIC_NORMAL:"NORMAL",SEMANTIC_COLOR:"COLOR",SEMANTIC_TEXCOORD:"TEXCOORD",SEMANTIC_TEXCOORD0:"TEXCOORD0",SEMANTIC_TEXCOORD1:"TEXCOORD1",SEMANTIC_ATTR0:"ATTR0",SEMANTIC_ATTR1:"ATTR1",SEMANTIC_ATTR2:"ATTR2",SEMANTIC_ATTR3:"ATTR3",TEXTURELOCK_READ:1,TEXTURELOCK_WRITE:2,drawQuadWithShader:Pe,programlib:rt,shaderChunks:Ce,ContextCreationError:Up,Device:Qu,IndexBuffer:ct,ProgramLibrary:Vu,RenderTarget:qu,ScopeId:Gu,Shader:Re,ShaderInput:Yu,Texture:nt,UnsupportedBrowserError:Lp,VertexBuffer:fe,VertexFormat:ue,VertexIterator:we},zp={createFullscreenQuad:ad,drawFullscreenQuad:sd,PostEffect:nd,PostEffectQueue:Xl};Object.defineProperty(Ce,"transformSkinnedVS",{get:function(){return"#define SKIN\n"+Ce.transformVS}}),Object.defineProperties(nt.prototype,{rgbm:{get:function(){return"rgbm"===this.type},set:function(e){this.type=e?"rgbm":"default"}},swizzleGGGR:{get:function(){return"swizzleGGGR"===this.type},set:function(e){this.type=e?"swizzleGGGR":"default"}}});var jp=wu,Wp={partitionSkin:Os,procedural:{calculateTangents:yn,createMesh:gn,createTorus:kn,createCylinder:Sn,createCapsule:Tn,createCone:wn,createSphere:En,createPlane:Mn,createBox:Pn},BasicMaterial:or,Command:At,DepthMaterial:ld,ForwardRenderer:ar,GraphNode:ei,Material:Su,Mesh:dt,MeshInstance:bt,Model:Tt,ParticleEmitter:mn,PhongMaterial:wu,Picker:cd,Projection:{ORTHOGRAPHIC:1,PERSPECTIVE:0},Scene:Rn,Skin:zn,SkinInstance:St};ei.prototype._dirtify=function(e){e?this._dirtifyLocal():this._dirtifyWorld()},ei.prototype.addLabel=function(e){this._labels[e]=!0},ei.prototype.getLabels=function(){return Object.keys(this._labels)},ei.prototype.hasLabel=function(e){return!!this._labels[e]},ei.prototype.removeLabel=function(e){delete this._labels[e]},ei.prototype.findByLabel=function(e,t){var i,r=this._children.length;for(t=t||[],this.hasLabel(e)&&t.push(this),i=0;i<r;++i)t=this._children[i].findByLabel(e,t);return t},ei.prototype.getChildren=function(){return this.children},ei.prototype.getName=function(){return this.name},ei.prototype.getPath=function(){return this.path},ei.prototype.getRoot=function(){return this.root},ei.prototype.getParent=function(){return this.parent},ei.prototype.setName=function(e){this.name=e},Su.prototype.getName=function(){return this.name},Su.prototype.setName=function(e){this.name=e},Su.prototype.getShader=function(){return this.shader},Su.prototype.setShader=function(e){this.shader=e};var Gp={Animation:Ln,Key:Nn,Node:Bn,Skeleton:ul},Hp={AudioManager:Fn,Channel:pn,Channel3d:_n,Listener:Dn,Sound:Ya};Fn.prototype.getListener=function(){return this.listener},Fn.prototype.getVolume=function(){return this.volume},Fn.prototype.setVolume=function(e){this.volume=e},Oo.prototype.getAssetById=function(e){return this.get(e)},Object.defineProperty(el.prototype,"ray",{get:function(){return this._rayLocal}}),Object.defineProperty(el.prototype,"position",{get:function(){return this._localPosition}}),Object.defineProperty(el.prototype,"rotation",{get:function(){return this._localRotation}});var Yp={getTouchTargetCoords:ip,Controller:gd,GamePads:Jd,Keyboard:Ad,KeyboardEvent:hd,Mouse:yd,MouseEvent:vd,Touch:$d,TouchDevice:tp,TouchEvent:ep};Object.defineProperty(Qd.prototype,"wheel",{get:function(){return-2*this.wheelDelta}}),Object.defineProperty(vd.prototype,"wheel",{get:function(){return-2*this.wheelDelta}});var Xp={Application:Au,Component:ll,ComponentData:np,ComponentSystem:cl,Entity:Un,FillMode:{NONE:"NONE",FILL_WINDOW:"FILL_WINDOW",KEEP_ASPECT:"KEEP_ASPECT"},ResolutionMode:{AUTO:"AUTO",FIXED:"FIXED"}};Au.prototype.isFullscreen=function(){return!!document.fullscreenElement},Au.prototype.enableFullscreen=function(e,t,i){e=e||this.graphicsDevice.canvas,t&&document.addEventListener("fullscreenchange",(function e(){t(),document.removeEventListener("fullscreenchange",e)}),!1),i&&document.addEventListener("fullscreenerror",(function e(){i(),document.removeEventListener("fullscreenerror",e)}),!1),e.requestFullscreen?e.requestFullscreen(Element.ALLOW_KEYBOARD_INPUT):i()},Au.prototype.disableFullscreen=function(e){e&&document.addEventListener("fullscreenchange",(function t(){e(),document.removeEventListener("fullscreenchange",t)}),!1),document.exitFullscreen()},Object.defineProperty(Zl.prototype,"node",{get:function(){return this.entity}}),Object.defineProperty(vf.prototype,"enable",{get:function(){return this.enabled},set:function(e){this.enabled=e}}),Mf.prototype.setVisible=function(e){this.enabled=e},Object.defineProperty(Qf.prototype,"bodyType",{get:function(){return this.type},set:function(e){this.type=e}}),Qf.prototype.syncBodyToEntity=function(){this._updateDynamic()},nh.prototype.setGravity=function(){1===arguments.length?this.gravity.copy(arguments[0]):this.gravity.set(arguments[0],arguments[1],arguments[2])},e.ABSOLUTE_URL=oa,e.ACTION_GAMEPAD="gamepad",e.ACTION_KEYBOARD="keyboard",e.ACTION_MOUSE="mouse",e.ADDRESS_CLAMP_TO_EDGE=1,e.ADDRESS_MIRRORED_REPEAT=2,e.ADDRESS_REPEAT=0,e.ANIM_EQUAL_TO="EQUAL_TO",e.ANIM_GREATER_THAN="GREATER_THAN",e.ANIM_GREATER_THAN_EQUAL_TO="GREATER_THAN_EQUAL_TO",e.ANIM_INTERRUPTION_NEXT="NEXT_STATE",e.ANIM_INTERRUPTION_NEXT_PREV="NEXT_STATE_PREV_STATE",e.ANIM_INTERRUPTION_NONE="NONE",e.ANIM_INTERRUPTION_PREV="PREV_STATE",e.ANIM_INTERRUPTION_PREV_NEXT="PREV_STATE_NEXT_STATE",e.ANIM_LESS_THAN="LESS_THAN",e.ANIM_LESS_THAN_EQUAL_TO="LESS_THAN_EQUAL_TO",e.ANIM_NOT_EQUAL_TO="NOT_EQUAL_TO",e.ANIM_PARAMETER_BOOLEAN="BOOLEAN",e.ANIM_PARAMETER_FLOAT="FLOAT",e.ANIM_PARAMETER_INTEGER="INTEGER",e.ANIM_PARAMETER_TRIGGER="TRIGGER",e.ANIM_STATE_ANY="ANY",e.ANIM_STATE_END="END",e.ANIM_STATE_START="START",e.ASPECT_AUTO=0,e.ASPECT_MANUAL=1,e.ASSET_ANIMATION="animation",e.ASSET_AUDIO="audio",e.ASSET_CONTAINER="container",e.ASSET_CSS="css",e.ASSET_CUBEMAP="cubemap",e.ASSET_HTML="html",e.ASSET_IMAGE="image",e.ASSET_JSON="json",e.ASSET_MATERIAL="material",e.ASSET_MODEL="model",e.ASSET_SCRIPT="script",e.ASSET_SHADER="shader",e.ASSET_TEXT="text",e.ASSET_TEXTURE="texture",e.AXIS_KEY="key",e.AXIS_MOUSE_X="mousex",e.AXIS_MOUSE_Y="mousey",e.AXIS_PAD_L_X="padlx",e.AXIS_PAD_L_Y="padly",e.AXIS_PAD_R_X="padrx",e.AXIS_PAD_R_Y="padry",e.AnimBinder=Jn,e.AnimClip=Zn,e.AnimClipHandler=Wa,e.AnimComponent=kl,e.AnimComponentLayer=Al,e.AnimComponentSystem=Tl,e.AnimController=gl,e.AnimCurve=Hn,e.AnimData=Wn,e.AnimEvaluator=Kn,e.AnimPropertyLocator=jn,e.AnimSnapshot=Xn,e.AnimStateGraph=Ga,e.AnimStateGraphHandler=Ha,e.AnimTarget=Qn,e.AnimTrack=Yn,e.Animation=Ln,e.AnimationComponent=dl,e.AnimationComponentSystem=ml,e.AnimationHandler=ja,e.Application=Au,e.Asset=pa,e.AssetListLoader=fs,e.AssetReference=Ss,e.AssetRegistry=Oo,e.AudioHandler=Qa,e.AudioListenerComponent=wl,e.AudioListenerComponentSystem=Pl,e.AudioSourceComponent=Rl,e.AudioSourceComponentSystem=Il,e.BAKE_COLOR=0,e.BAKE_COLORDIR=1,e.BLENDEQUATION_ADD=0,e.BLENDEQUATION_MAX=4,e.BLENDEQUATION_MIN=3,e.BLENDEQUATION_REVERSE_SUBTRACT=2,e.BLENDEQUATION_SUBTRACT=1,e.BLENDMODE_DST_ALPHA=9,e.BLENDMODE_DST_COLOR=4,e.BLENDMODE_ONE=1,e.BLENDMODE_ONE_MINUS_DST_ALPHA=10,e.BLENDMODE_ONE_MINUS_DST_COLOR=5,e.BLENDMODE_ONE_MINUS_SRC_ALPHA=8,e.BLENDMODE_ONE_MINUS_SRC_COLOR=3,e.BLENDMODE_SRC_ALPHA=6,e.BLENDMODE_SRC_ALPHA_SATURATE=7,e.BLENDMODE_SRC_COLOR=2,e.BLENDMODE_ZERO=0,e.BLEND_ADDITIVE=1,e.BLEND_ADDITIVEALPHA=6,e.BLEND_MAX=10,e.BLEND_MIN=9,e.BLEND_MULTIPLICATIVE=5,e.BLEND_MULTIPLICATIVE2X=7,e.BLEND_NONE=3,e.BLEND_NORMAL=2,e.BLEND_PREMULTIPLIED=4,e.BLEND_SCREEN=8,e.BLEND_SUBTRACTIVE=0,e.BLUR_BOX=0,e.BLUR_GAUSSIAN=1,e.BODYFLAG_KINEMATIC_OBJECT=2,e.BODYFLAG_NORESPONSE_OBJECT=4,e.BODYFLAG_STATIC_OBJECT=1,e.BODYGROUP_DEFAULT=1,e.BODYGROUP_DYNAMIC=1,e.BODYGROUP_ENGINE_1=8,e.BODYGROUP_ENGINE_2=32,e.BODYGROUP_ENGINE_3=64,e.BODYGROUP_KINEMATIC=4,e.BODYGROUP_NONE=0,e.BODYGROUP_STATIC=2,e.BODYGROUP_TRIGGER=16,e.BODYGROUP_USER_1=128,e.BODYGROUP_USER_2=256,e.BODYGROUP_USER_3=512,e.BODYGROUP_USER_4=1024,e.BODYGROUP_USER_5=2048,e.BODYGROUP_USER_6=4096,e.BODYGROUP_USER_7=8192,e.BODYGROUP_USER_8=16384,e.BODYMASK_ALL=65535,e.BODYMASK_NONE=0,e.BODYMASK_NOT_STATIC=65533,e.BODYMASK_NOT_STATIC_KINEMATIC=65529,e.BODYMASK_STATIC=2,e.BODYSTATE_ACTIVE_TAG=1,e.BODYSTATE_DISABLE_DEACTIVATION=4,e.BODYSTATE_DISABLE_SIMULATION=5,e.BODYSTATE_ISLAND_SLEEPING=2,e.BODYSTATE_WANTS_DEACTIVATION=3,e.BODYTYPE_DYNAMIC="dynamic",e.BODYTYPE_KINEMATIC="kinematic",e.BODYTYPE_STATIC="static",e.BUFFER_DYNAMIC=1,e.BUFFER_GPUDYNAMIC=3,e.BUFFER_STATIC=0,e.BUFFER_STREAM=2,e.BUTTON_TRANSITION_MODE_SPRITE_CHANGE=1,e.BUTTON_TRANSITION_MODE_TINT=0,e.BasicMaterial=or,e.BasisParser=go,e.Batch=wt,e.BatchGroup=Et,e.BatchManager=Pt,e.BinaryHandler=Ja,e.BoundingBox=W,e.BoundingSphere=Z,e.Bundle=qa,e.BundleHandler=ts,e.BundleRegistry=Io,e.ButtonComponent=jl,e.ButtonComponentSystem=Yl,e.CLEARFLAG_COLOR=1,e.CLEARFLAG_DEPTH=2,e.CLEARFLAG_STENCIL=4,e.COMPUPDATED_BLEND=8,e.COMPUPDATED_CAMERAS=4,e.COMPUPDATED_INSTANCES=1,e.COMPUPDATED_LIGHTS=2,e.CUBEFACE_NEGX=1,e.CUBEFACE_NEGY=3,e.CUBEFACE_NEGZ=5,e.CUBEFACE_POSX=0,e.CUBEFACE_POSY=2,e.CUBEFACE_POSZ=4,e.CUBEPROJ_BOX=1,e.CUBEPROJ_NONE=0,e.CULLFACE_BACK=1,e.CULLFACE_FRONT=2,e.CULLFACE_FRONTANDBACK=3,e.CULLFACE_NONE=0,e.CURVE_CARDINAL=3,e.CURVE_CATMULL=2,e.CURVE_LINEAR=0,e.CURVE_SMOOTHSTEP=1,e.CURVE_SPLINE=4,e.CURVE_STEP=5,e.Camera=zt,e.CameraComponent=Zl,e.CameraComponentSystem=ql,e.CanvasFont=rp,e.CollisionComponent=tc,e.CollisionComponentSystem=bc,e.Color=v,e.Command=At,e.Component=ll,e.ComponentData=np,e.ComponentSystem=cl,e.ComponentSystemRegistry=Ac,e.ContactPoint=th,e.ContactResult=ih,e.ContainerHandler=rs,e.ContainerResource=is,e.ContextCreationError=Up,e.Controller=gd,e.CssHandler=ns,e.CubemapHandler=as,e.Curve=P,e.CurveSet=R,e.DETAILMODE_ADD="add",e.DETAILMODE_MAX="max",e.DETAILMODE_MIN="min",e.DETAILMODE_MUL="mul",e.DETAILMODE_OVERLAY="overlay",e.DETAILMODE_SCREEN="screen",e.DISTANCE_EXPONENTIAL="exponential",e.DISTANCE_INVERSE="inverse",e.DISTANCE_LINEAR="linear",e.DefaultAnimBinder=qn,e.DepthMaterial=ld,e.ELEMENTTYPE_FLOAT32=6,e.ELEMENTTYPE_GROUP="group",e.ELEMENTTYPE_IMAGE="image",e.ELEMENTTYPE_INT16=2,e.ELEMENTTYPE_INT32=4,e.ELEMENTTYPE_INT8=0,e.ELEMENTTYPE_TEXT="text",e.ELEMENTTYPE_UINT16=3,e.ELEMENTTYPE_UINT32=5,e.ELEMENTTYPE_UINT8=1,e.EMITTERSHAPE_BOX=0,e.EMITTERSHAPE_SPHERE=1,e.EVENT_KEYDOWN="keydown",e.EVENT_KEYUP="keyup",e.EVENT_MOUSEDOWN="mousedown",e.EVENT_MOUSEMOVE="mousemove",e.EVENT_MOUSEUP="mouseup",e.EVENT_MOUSEWHEEL="mousewheel",e.EVENT_SELECT="select",e.EVENT_SELECTEND="selectend",e.EVENT_SELECTSTART="selectstart",e.EVENT_TOUCHCANCEL="touchcancel",e.EVENT_TOUCHEND="touchend",e.EVENT_TOUCHMOVE="touchmove",e.EVENT_TOUCHSTART="touchstart",e.ElementComponent=Vc,e.ElementComponentSystem=Gc,e.ElementDragHelper=Lh,e.ElementInput=Qd,e.ElementInputEvent=Hd,e.ElementMouseEvent=Yd,e.ElementSelectEvent=Zd,e.ElementTouchEvent=Xd,e.Entity=Un,e.EntityReference=Dl,e.EventHandler=o,e.FILLMODE_FILL_WINDOW="FILL_WINDOW",e.FILLMODE_KEEP_ASPECT="KEEP_ASPECT",e.FILLMODE_NONE="NONE",e.FILTER_LINEAR=1,e.FILTER_LINEAR_MIPMAP_LINEAR=5,e.FILTER_LINEAR_MIPMAP_NEAREST=4,e.FILTER_NEAREST=0,e.FILTER_NEAREST_MIPMAP_LINEAR=3,e.FILTER_NEAREST_MIPMAP_NEAREST=2,e.FITTING_BOTH=3,e.FITTING_NONE=0,e.FITTING_SHRINK=2,e.FITTING_STRETCH=1,e.FOG_EXP="exp",e.FOG_EXP2="exp2",e.FOG_LINEAR="linear",e.FOG_NONE="none",e.FONT_BITMAP="bitmap",e.FONT_MSDF="msdf",e.FRESNEL_NONE=0,e.FRESNEL_SCHLICK=2,e.FUNC_ALWAYS=7,e.FUNC_EQUAL=2,e.FUNC_GREATER=4,e.FUNC_GREATEREQUAL=6,e.FUNC_LESS=1,e.FUNC_LESSEQUAL=3,e.FUNC_NEVER=0,e.FUNC_NOTEQUAL=5,e.FolderHandler=ss,e.Font=os,e.FontHandler=cs,e.ForwardRenderer=ar,e.Frustum=Q,e.GAMMA_NONE=0,e.GAMMA_SRGB=1,e.GAMMA_SRGBFAST=2,e.GAMMA_SRGBHDR=3,e.GamePads=Jd,e.GraphNode=ei,e.GraphicsDevice=Qu,e.HierarchyHandler=bs,e.HtmlHandler=As,e.Http=w,e.I18n=sa,e.INDEXFORMAT_UINT16=1,e.INDEXFORMAT_UINT32=2,e.INDEXFORMAT_UINT8=0,e.INTERPOLATION_CUBIC=2,e.INTERPOLATION_LINEAR=1,e.INTERPOLATION_STEP=0,e.ImageElement=gc,e.ImgParser=ko,e.IndexBuffer=ct,e.IndexedList=y,e.JsonHandler=vs,e.JsonStandardMaterialParser=ws,e.KEY_0=48,e.KEY_1=49,e.KEY_2=50,e.KEY_3=51,e.KEY_4=52,e.KEY_5=53,e.KEY_6=54,e.KEY_7=55,e.KEY_8=56,e.KEY_9=57,e.KEY_A=65,e.KEY_ADD=107,e.KEY_ALT=18,e.KEY_B=66,e.KEY_BACKSPACE=8,e.KEY_BACK_SLASH=220,e.KEY_C=67,e.KEY_CAPS_LOCK=20,e.KEY_CLOSE_BRACKET=221,e.KEY_COMMA=188,e.KEY_CONTEXT_MENU=93,e.KEY_CONTROL=17,e.KEY_D=68,e.KEY_DECIMAL=110,e.KEY_DELETE=46,e.KEY_DIVIDE=111,e.KEY_DOWN=40,e.KEY_E=69,e.KEY_END=35,e.KEY_ENTER=13,e.KEY_EQUAL=61,e.KEY_ESCAPE=27,e.KEY_F=70,e.KEY_F1=112,e.KEY_F10=121,e.KEY_F11=122,e.KEY_F12=123,e.KEY_F2=113,e.KEY_F3=114,e.KEY_F4=115,e.KEY_F5=116,e.KEY_F6=117,e.KEY_F7=118,e.KEY_F8=119,e.KEY_F9=120,e.KEY_G=71,e.KEY_H=72,e.KEY_HOME=36,e.KEY_I=73,e.KEY_INSERT=45,e.KEY_J=74,e.KEY_K=75,e.KEY_L=76,e.KEY_LEFT=37,e.KEY_M=77,e.KEY_META=224,e.KEY_MULTIPLY=106,e.KEY_N=78,e.KEY_NUMPAD_0=96,e.KEY_NUMPAD_1=97,e.KEY_NUMPAD_2=98,e.KEY_NUMPAD_3=99,e.KEY_NUMPAD_4=100,e.KEY_NUMPAD_5=101,e.KEY_NUMPAD_6=102,e.KEY_NUMPAD_7=103,e.KEY_NUMPAD_8=104,e.KEY_NUMPAD_9=105,e.KEY_O=79,e.KEY_OPEN_BRACKET=219,e.KEY_P=80,e.KEY_PAGE_DOWN=34,e.KEY_PAGE_UP=33,e.KEY_PAUSE=19,e.KEY_PERIOD=190,e.KEY_PRINT_SCREEN=44,e.KEY_Q=81,e.KEY_R=82,e.KEY_RETURN=13,e.KEY_RIGHT=39,e.KEY_S=83,e.KEY_SEMICOLON=59,e.KEY_SEPARATOR=108,e.KEY_SHIFT=16,e.KEY_SLASH=191,e.KEY_SPACE=32,e.KEY_SUBTRACT=109,e.KEY_T=84,e.KEY_TAB=9,e.KEY_U=85,e.KEY_UP=38,e.KEY_V=86,e.KEY_W=87,e.KEY_WINDOWS=91,e.KEY_X=88,e.KEY_Y=89,e.KEY_Z=90,e.Key=Nn,e.Keyboard=Ad,e.KeyboardEvent=hd,e.KtxParser=To,e.LAYERID_DEPTH=1,e.LAYERID_IMMEDIATE=3,e.LAYERID_SKYBOX=2,e.LAYERID_UI=4,e.LAYERID_WORLD=0,e.LAYER_FX=2,e.LAYER_GIZMO=1,e.LAYER_HUD=0,e.LAYER_WORLD=15,e.LIGHTFALLOFF_INVERSESQUARED=1,e.LIGHTFALLOFF_LINEAR=0,e.LIGHTTYPE_DIRECTIONAL=0,e.LIGHTTYPE_POINT=1,e.LIGHTTYPE_SPOT=2,e.LINEBATCH_GIZMO=2,e.LINEBATCH_OVERLAY=1,e.LINEBATCH_WORLD=0,e.Layer=oi,e.LayerComposition=hr,e.LayoutCalculator=Jc,e.LayoutChildComponent=Hc,e.LayoutChildComponentSystem=Qc,e.LayoutGroupComponent=of,e.LayoutGroupComponentSystem=df,e.LegacyDdsParser=wo,e.Light=Af,e.LightComponent=vf,e.LightComponentSystem=Ef,e.Lightmapper=xr,e.LocalizedAsset=kc,e.MASK_BAKED=2,e.MASK_DYNAMIC=1,e.MASK_LIGHTMAP=4,e.MOUSEBUTTON_LEFT=0,e.MOUSEBUTTON_MIDDLE=1,e.MOUSEBUTTON_NONE=-1,e.MOUSEBUTTON_RIGHT=2,e.Mat3=C,e.Mat4=N,e.Material=Su,e.MaterialHandler=Ms,e.Mesh=dt,e.MeshInstance=bt,e.Model=Tt,e.ModelComponent=Mf,e.ModelComponentSystem=Cf,e.ModelHandler=Ns,e.Morph=gt,e.MorphInstance=kt,e.MorphTarget=Vn,e.Mouse=yd,e.MouseEvent=vd,e.Node=Bn,e.ORIENTATION_HORIZONTAL=0,e.ORIENTATION_VERTICAL=1,e.OrientedBox=te,e.PAD_1=0,e.PAD_2=1,e.PAD_3=2,e.PAD_4=3,e.PAD_DOWN=13,e.PAD_FACE_1=0,e.PAD_FACE_2=1,e.PAD_FACE_3=2,e.PAD_FACE_4=3,e.PAD_LEFT=14,e.PAD_L_SHOULDER_1=4,e.PAD_L_SHOULDER_2=6,e.PAD_L_STICK_BUTTON=10,e.PAD_L_STICK_X=0,e.PAD_L_STICK_Y=1,e.PAD_RIGHT=15,e.PAD_R_SHOULDER_1=5,e.PAD_R_SHOULDER_2=7,e.PAD_R_STICK_BUTTON=11,e.PAD_R_STICK_X=2,e.PAD_R_STICK_Y=3,e.PAD_SELECT=8,e.PAD_START=9,e.PAD_UP=12,e.PAD_VENDOR=16,e.PARTICLEMODE_CPU=1,e.PARTICLEMODE_GPU=0,e.PARTICLEORIENTATION_EMITTER=2,e.PARTICLEORIENTATION_SCREEN=0,e.PARTICLEORIENTATION_WORLD=1,e.PARTICLESORT_DISTANCE=1,e.PARTICLESORT_NEWER_FIRST=2,e.PARTICLESORT_NONE=0,e.PARTICLESORT_OLDER_FIRST=3,e.PIXELFORMAT_111110F=18,e.PIXELFORMAT_A8=0,e.PIXELFORMAT_ASTC_4x4=28,e.PIXELFORMAT_ATC_RGB=29,e.PIXELFORMAT_ATC_RGBA=30,e.PIXELFORMAT_DEPTH=16,e.PIXELFORMAT_DEPTHSTENCIL=17,e.PIXELFORMAT_DXT1=8,e.PIXELFORMAT_DXT3=9,e.PIXELFORMAT_DXT5=10,e.PIXELFORMAT_ETC1=21,e.PIXELFORMAT_ETC2_RGB=22,e.PIXELFORMAT_ETC2_RGBA=23,e.PIXELFORMAT_L8=1,e.PIXELFORMAT_L8_A8=2,e.PIXELFORMAT_PVRTC_2BPP_RGBA_1=25,e.PIXELFORMAT_PVRTC_2BPP_RGB_1=24,e.PIXELFORMAT_PVRTC_4BPP_RGBA_1=27,e.PIXELFORMAT_PVRTC_4BPP_RGB_1=26,e.PIXELFORMAT_R32F=15,e.PIXELFORMAT_R4_G4_B4_A4=5,e.PIXELFORMAT_R5_G5_B5_A1=4,e.PIXELFORMAT_R5_G6_B5=3,e.PIXELFORMAT_R8_G8_B8=6,e.PIXELFORMAT_R8_G8_B8_A8=7,e.PIXELFORMAT_RGB16F=11,e.PIXELFORMAT_RGB32F=13,e.PIXELFORMAT_RGBA16F=12,e.PIXELFORMAT_RGBA32F=14,e.PIXELFORMAT_SRGB=19,e.PIXELFORMAT_SRGBA=20,e.PRIMITIVE_LINELOOP=2,e.PRIMITIVE_LINES=1,e.PRIMITIVE_LINESTRIP=3,e.PRIMITIVE_POINTS=0,e.PRIMITIVE_TRIANGLES=4,e.PRIMITIVE_TRIFAN=6,e.PRIMITIVE_TRISTRIP=5,e.PROJECTION_ORTHOGRAPHIC=1,e.PROJECTION_PERSPECTIVE=0,e.ParticleEmitter=mn,e.ParticleSystemComponent=Bf,e.ParticleSystemComponentSystem=Xf,e.PhongMaterial=jp,e.Picker=cd,e.Plane=re,e.PostEffect=nd,e.PostEffectPass=Dp,e.PostEffectQueue=Xl,e.ProgramLibrary=Vu,e.Quat=B,e.RENDERSTYLE_POINTS=2,e.RENDERSTYLE_SOLID=0,e.RENDERSTYLE_WIREFRAME=1,e.RESOLUTION_AUTO="AUTO",e.RESOLUTION_FIXED="FIXED",e.RIGIDBODY_ACTIVE_TAG=1,e.RIGIDBODY_CF_KINEMATIC_OBJECT=2,e.RIGIDBODY_CF_NORESPONSE_OBJECT=4,e.RIGIDBODY_CF_STATIC_OBJECT=1,e.RIGIDBODY_DISABLE_DEACTIVATION=4,e.RIGIDBODY_DISABLE_SIMULATION=5,e.RIGIDBODY_ISLAND_SLEEPING=2,e.RIGIDBODY_TYPE_DYNAMIC="dynamic",e.RIGIDBODY_TYPE_KINEMATIC="kinematic",e.RIGIDBODY_TYPE_STATIC="static",e.RIGIDBODY_WANTS_DEACTIVATION=3,e.Ray=J,e.RaycastResult=$f,e.RenderTarget=qu,e.ResourceHandler=fd,e.ResourceLoader=Bs,e.RigidBodyComponent=Qf,e.RigidBodyComponentSystem=nh,e.SCALEMODE_BLEND="blend",e.SCALEMODE_NONE="none",e.SCROLLBAR_VISIBILITY_SHOW_ALWAYS=0,e.SCROLLBAR_VISIBILITY_SHOW_WHEN_REQUIRED=1,e.SCROLL_MODE_BOUNCE=1,e.SCROLL_MODE_CLAMP=0,e.SCROLL_MODE_INFINITE=2,e.SEMANTIC_ATTR="ATTR",e.SEMANTIC_ATTR0="ATTR0",e.SEMANTIC_ATTR1="ATTR1",e.SEMANTIC_ATTR10="ATTR10",e.SEMANTIC_ATTR11="ATTR11",e.SEMANTIC_ATTR12="ATTR12",e.SEMANTIC_ATTR13="ATTR13",e.SEMANTIC_ATTR14="ATTR14",e.SEMANTIC_ATTR15="ATTR15",e.SEMANTIC_ATTR2="ATTR2",e.SEMANTIC_ATTR3="ATTR3",e.SEMANTIC_ATTR4="ATTR4",e.SEMANTIC_ATTR5="ATTR5",e.SEMANTIC_ATTR6="ATTR6",e.SEMANTIC_ATTR7="ATTR7",e.SEMANTIC_ATTR8="ATTR8",e.SEMANTIC_ATTR9="ATTR9",e.SEMANTIC_BLENDINDICES="BLENDINDICES",e.SEMANTIC_BLENDWEIGHT="BLENDWEIGHT",e.SEMANTIC_COLOR="COLOR",e.SEMANTIC_NORMAL="NORMAL",e.SEMANTIC_POSITION="POSITION",e.SEMANTIC_TANGENT="TANGENT",e.SEMANTIC_TEXCOORD="TEXCOORD",e.SEMANTIC_TEXCOORD0="TEXCOORD0",e.SEMANTIC_TEXCOORD1="TEXCOORD1",e.SEMANTIC_TEXCOORD2="TEXCOORD2",e.SEMANTIC_TEXCOORD3="TEXCOORD3",e.SEMANTIC_TEXCOORD4="TEXCOORD4",e.SEMANTIC_TEXCOORD5="TEXCOORD5",e.SEMANTIC_TEXCOORD6="TEXCOORD6",e.SEMANTIC_TEXCOORD7="TEXCOORD7",e.SHADERDEF_DIRLM=128,e.SHADERDEF_INSTANCING=32,e.SHADERDEF_LM=64,e.SHADERDEF_MORPH_NORMAL=2048,e.SHADERDEF_MORPH_POSITION=1024,e.SHADERDEF_MORPH_TEXTURE_BASED=4096,e.SHADERDEF_NOSHADOW=1,e.SHADERDEF_SCREENSPACE=256,e.SHADERDEF_SKIN=2,e.SHADERDEF_TANGENTS=512,e.SHADERDEF_UV0=4,e.SHADERDEF_UV1=8,e.SHADERDEF_VCOLOR=16,e.SHADERTAG_MATERIAL=1,e.SHADER_DEPTH=2,e.SHADER_FORWARD=0,e.SHADER_FORWARDHDR=1,e.SHADER_PICK=18,e.SHADER_SHADOW=3,e.SHADOWUPDATE_NONE=0,e.SHADOWUPDATE_REALTIME=2,e.SHADOWUPDATE_THISFRAME=1,e.SHADOW_DEPTH=0,e.SHADOW_PCF3=0,e.SHADOW_PCF5=4,e.SHADOW_VSM16=2,e.SHADOW_VSM32=3,e.SHADOW_VSM8=1,e.SORTKEY_DEPTH=1,e.SORTKEY_FORWARD=0,e.SORTMODE_BACK2FRONT=3,e.SORTMODE_CUSTOM=5,e.SORTMODE_FRONT2BACK=4,e.SORTMODE_MANUAL=1,e.SORTMODE_MATERIALMESH=2,e.SORTMODE_NONE=0,e.SPECOCC_AO=1,e.SPECOCC_GLOSSDEPENDENT=2,e.SPECOCC_NONE=0,e.SPECULAR_BLINN=1,e.SPECULAR_PHONG=0,e.SPRITETYPE_ANIMATED="animated",e.SPRITETYPE_SIMPLE="simple",e.SPRITE_RENDERMODE_SIMPLE=0,e.SPRITE_RENDERMODE_SLICED=1,e.SPRITE_RENDERMODE_TILED=2,e.STENCILOP_DECREMENT=5,e.STENCILOP_DECREMENTWRAP=6,e.STENCILOP_INCREMENT=3,e.STENCILOP_INCREMENTWRAP=4,e.STENCILOP_INVERT=7,e.STENCILOP_KEEP=0,e.STENCILOP_REPLACE=2,e.STENCILOP_ZERO=1,e.Scene=Rn,e.SceneHandler=Ls,e.SceneRegistry=_u,e.SceneRegistryItem=pu,e.SceneSettingsHandler=Us,e.ScopeId=Gu,e.ScopeSpace=Hu,e.ScreenComponent=ah,e.ScreenComponentSystem=ch,e.ScriptAttributes=dh,e.ScriptComponent=kh,e.ScriptComponentSystem=Th,e.ScriptHandler=Ws,e.ScriptLegacyComponent=wh,e.ScriptLegacyComponentSystem=Ph,e.ScriptRegistry=Do,e.ScriptType=_h,e.ScrollViewComponent=Vh,e.ScrollViewComponentSystem=Wh,e.ScrollbarComponent=Gh,e.ScrollbarComponentSystem=Xh,e.Shader=Re,e.ShaderHandler=Gs,e.SingleContactResult=eh,e.Skeleton=ul,e.Skin=zn,e.SkinInstance=St,e.SortedLoopArray=gh,e.Sound=Ya,e.SoundComponent=Kh,e.SoundComponentSystem=ru,e.SoundManager=Fn,e.SoundSlot=qh,e.Sprite=Xs,e.SpriteAnimationClip=nu,e.SpriteComponent=au,e.SpriteComponentSystem=lu,e.SpriteHandler=Zs,e.StandardMaterial=wu,e.StencilParameters=vc,e.TEXHINT_ASSET=2,e.TEXHINT_LIGHTMAP=3,e.TEXHINT_NONE=0,e.TEXHINT_SHADOWMAP=1,e.TEXTURELOCK_READ=1,e.TEXTURELOCK_WRITE=2,e.TEXTURETYPE_DEFAULT="default",e.TEXTURETYPE_RGBE="rgbe",e.TEXTURETYPE_RGBM="rgbm",e.TEXTURETYPE_SWIZZLEGGGR="swizzleGGGR",e.TONEMAP_ACES=3,e.TONEMAP_ACES2=4,e.TONEMAP_FILMIC=1,e.TONEMAP_HEJL=2,e.TONEMAP_LINEAR=0,e.TYPE_FLOAT32=6,e.TYPE_INT16=2,e.TYPE_INT32=4,e.TYPE_INT8=0,e.TYPE_UINT16=3,e.TYPE_UINT32=5,e.TYPE_UINT8=1,e.Tags=k,e.Template=qs,e.TemplateHandler=Ks,e.TemplateUtils=hs,e.TextElement=Rc,e.TextHandler=$s,e.Texture=nt,e.TextureAtlas=eo,e.TextureAtlasHandler=no,e.TextureHandler=Co,e.TextureParser=Ro,e.Timer=S,e.Touch=$d,e.TouchDevice=tp,e.TouchEvent=ep,e.TransformFeedback=od,e.UNIFORMTYPE_BOOL=0,e.UNIFORMTYPE_BVEC2=9,e.UNIFORMTYPE_BVEC3=10,e.UNIFORMTYPE_BVEC4=11,e.UNIFORMTYPE_FLOAT=2,e.UNIFORMTYPE_FLOATARRAY=17,e.UNIFORMTYPE_INT=1,e.UNIFORMTYPE_IVEC2=6,e.UNIFORMTYPE_IVEC3=7,e.UNIFORMTYPE_IVEC4=8,e.UNIFORMTYPE_MAT2=12,e.UNIFORMTYPE_MAT3=13,e.UNIFORMTYPE_MAT4=14,e.UNIFORMTYPE_TEXTURE2D=15,e.UNIFORMTYPE_TEXTURE2D_SHADOW=18,e.UNIFORMTYPE_TEXTURE3D=20,e.UNIFORMTYPE_TEXTURECUBE=16,e.UNIFORMTYPE_TEXTURECUBE_SHADOW=19,e.UNIFORMTYPE_VEC2=3,e.UNIFORMTYPE_VEC2ARRAY=21,e.UNIFORMTYPE_VEC3=4,e.UNIFORMTYPE_VEC3ARRAY=22,e.UNIFORMTYPE_VEC4=5,e.UNIFORMTYPE_VEC4ARRAY=23,e.URI=T,e.UnsupportedBrowserError=Lp,e.VIEW_CENTER=0,e.VIEW_LEFT=1,e.VIEW_RIGHT=2,e.Vec2=O,e.Vec3=I,e.Vec4=D,e.VertexBuffer=fe,e.VertexFormat=ue,e.VertexIterator=we,e.VrDisplay=Fo,e.VrManager=No,e.XRHAND_LEFT="left",e.XRHAND_NONE="none",e.XRHAND_RIGHT="right",e.XRSPACE_BOUNDEDFLOOR="bounded-floor",e.XRSPACE_LOCAL="local",e.XRSPACE_LOCALFLOOR="local-floor";e.XRSPACE_UNBOUNDED="unbounded",e.XRSPACE_VIEWER="viewer",e.XRTARGETRAY_GAZE="gaze",e.XRTARGETRAY_POINTER="tracked-pointer",e.XRTARGETRAY_SCREEN="screen",e.XRTRACKABLE_MESH="mesh",e.XRTRACKABLE_PLANE="plane",e.XRTRACKABLE_POINT="point",e.XRTYPE_AR=Bo,e.XRTYPE_INLINE="inline",e.XRTYPE_VR="immersive-vr",e.XrHitTest=zo,e.XrHitTestSource=Vo,e.XrInput=tl,e.XrInputSource=el,e.XrLightEstimation=sl,e.XrManager=ol,e.ZoneComponent=cu,e.ZoneComponentSystem=uu,e.anim=Gp,e.apps={},e.asset={ASSET_ANIMATION:"animation",ASSET_AUDIO:"audio",ASSET_IMAGE:"image",ASSET_JSON:"json",ASSET_MODEL:"model",ASSET_MATERIAL:"material",ASSET_TEXT:"text",ASSET_TEXTURE:"texture",ASSET_CUBEMAP:"cubemap",ASSET_SCRIPT:"script"},e.audio=Hp,e.basisDownload=Ao,e.basisDownloadFromConfig=vo,e.basisInitialize=bo,e.basisSetDownloadConfig=function(e,t,i){uo={glueUrl:e,wasmUrl:t,fallbackUrl:i}},e.basisTargetFormat=po,e.basisTranscode=yo,e.calculateNormals=vn,e.calculateTangents=yn,e.common={},e.config={},e.createBox=Pn,e.createCapsule=Tn,e.createCone=wn,e.createCylinder=Sn,e.createMesh=gn,e.createPlane=Mn,e.createScript=mh,e.createSphere=En,e.createStyle=function(e){var t=document.createElement("style");return t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),t},e.createTorus=kn,e.createURI=function(e){var t="";if((e.authority||e.scheme)&&(e.host||e.hostpath))throw new Error("Can't have 'scheme' or 'authority' and 'host' or 'hostpath' option");if(e.host&&e.hostpath)throw new Error("Can't have 'host' and 'hostpath' option");if(e.path&&e.hostpath)throw new Error("Can't have 'path' and 'hostpath' option");return e.scheme&&(t+=e.scheme+":"),e.authority&&(t+="//"+e.authority),e.host&&(t+=e.host),e.path&&(t+=e.path),e.hostpath&&(t+=e.hostpath),e.query&&(t+="?"+e.query),e.fragment&&(t+="#"+e.fragment),t},e.data={},e.debug=s,e.drawFullscreenQuad=sd,e.drawQuadWithShader=Pe,e.drawTexture=function(e,t,i,r,n,a,s){r=r||e.getCopyShader(),e.constantTexSource.setValue(t),Pe(e,i,r,n,a,s)},e.events=l,e.extend=n,e.fw=Xp,e.getTouchTargetCoords=ip,e.gfx=Vp,e.guid=c,e.http=E,e.inherits=function(e,t){var i=function(){},r=function(i,r,n,a,s,o,l,c){t.call(this,i,r,n,a,s,o,l,c),e.call(this,i,r,n,a,s,o,l,c)};return r._super=t.prototype,i.prototype=t.prototype,r.prototype=new i,r},e.input=Yp,e.isDefined=a,e.log=Fp,e.makeArray=function(e){return Array.prototype.slice.call(e)},e.math=A,e.now=x,e.path=f,e.platform=h,e.posteffect=zp,e.prefilterCubemap=function(e){var t=e.device,i=e.sourceCubemap,r=e.method,n=e.samples,a=e.cpuSync;if(!a||i._levels[0]){var s,o,l,c,f,h,u=i.type,d="rgbm"===u,p=We(t,Ce.fullscreenQuadVS,Ce.rgbmPS+Ce.prefilterCubemapPS.replace(/\$METHOD/g,0===r?"cos":"phong").replace(/\$NUMSAMPLES/g,n).replace(/\$textureCube/g,d?"textureCubeRGBM":"textureCube"),"prefilter"+r+n+d),_=We(t,Ce.fullscreenQuadVS,Ce.outputCubemapPS,"outputCubemap"),m=t.scope.resolve("source"),b=t.scope.resolve("params"),A=new D,v=i.width,y=i.format,g=[[],e.filteredFixed,e.filteredRgbm,e.filteredFixedRgbm],k=0===r?[.9,.85,.7,.4,.25,.15,.1]:[512,128,32,8,2,1,1],x=[64,32,16,8,4,2,1],S=6===y,T=!1;if(a&&(T=i._levels[0][0]instanceof HTMLImageElement),(S||T)&&a){for((f=new nt(t,{cubemap:!0,type:u,format:y=7,width:v,height:v,mipmaps:!1})).name="prefiltered-cube",l=0;l<6;l++)s=new qu(t,f,{face:l,depth:!1}),A.x=l,A.y=0,m.setValue(i),b.setValue(A.data),Pe(t,s,_),Ku(t,s,l);i=f}if(v>128){var w=Math.round(Math.log2(128)),E=Math.round(Math.log2(v))-w;for(o=0;o<E;o++){v=.5*i.width;var M=0===r?1:Math.pow(2,Math.round(Math.log2(k[0])+2*(E-o)));for((f=new nt(t,{cubemap:!0,type:u,format:y,width:v,height:v,mipmaps:!1})).name="prefiltered-cube",l=0;l<6;l++)s=new qu(t,f,{face:l,depth:!1}),A.x=l,A.y=M,A.z=v,A.w=d?3:0,m.setValue(i),b.setValue(A.data),Pe(t,s,_),o===E-1&&a&&Ku(t,s,l);i=f}}e.sourceCubemap=i;var P=null;if(!d&&e.filteredFixedRgbm){for((f=new nt(t,{cubemap:!0,type:"rgbm",format:7,width:v,height:v,mipmaps:!1})).name="prefiltered-cube",l=0;l<6;l++)s=new qu(t,f,{face:l,depth:!1}),A.x=l,A.w=2,m.setValue(i),b.setValue(A.data),Pe(t,s,_),Ku(t,s,l);P=f}var R,C=0===r?1:2048,O=0===r?0:-1;for(g[O]=[],o=0;o<7;o++)for(c=O;c<g.length;c++)null!=g[c]&&(g[c][o]=new nt(t,{cubemap:!0,type:c<2?u:"rgbm",format:c<2?y:7,fixCubemapSeams:1===c||3===c,width:x[o],height:x[o],mipmaps:!1}),g[c][o].name="prefiltered-cube");for(c=O;c<g.length;c++)if(null!=g[c]){if(c>1&&d){g[c]=g[c-2];continue}for(o=0;o<7;o++)for(l=0;l<6;l++)s=new qu(t,g[c][o],{face:l,depth:!1}),A.x=l,A.y=c<0?C:k[o],A.z=x[o],A.w=d?3:c,m.setValue(0===o?i:0===r?g[0][o-1]:g[-1][o-1]),b.setValue(A.data),Pe(t,s,p),a&&Ku(t,s,l)}if(e.filtered=g[0],a&&e.singleFilteredFixed){for(R=[i].concat(e.filteredFixed),(h=new nt(t,{cubemap:!0,type:u,fixCubemapSeams:!0,format:y,width:128,height:128,addressU:1,addressV:1})).name="prefiltered-cube",o=0;o<R.length;o++)h._levels[o]=R[o]._levels[0];h.upload(),h._prefilteredMips=!0,e.singleFilteredFixed=h}if(a&&e.singleFilteredFixedRgbm&&e.filteredFixedRgbm){for(R=[P].concat(e.filteredFixedRgbm),(h=new nt(t,{cubemap:!0,type:"rgbm",fixCubemapSeams:!0,format:7,width:128,height:128,addressU:1,addressV:1})).name="prefiltered-cube",o=0;o<R.length;o++)h._levels[o]=R[o]._levels[0];h.upload(),h._prefilteredMips=!0,e.singleFilteredFixedRgbm=h}}else console.error("ERROR: prefilter: cubemap must have _levels")},e.programlib=rt,e.registerScript=bh,e.reprojectTexture=function(e,t,i,r){var n="decode"+id(t),a="encode"+id(i),s=t.cubemap?"sampleCubemap":"sampleEquirect",o=i.cubemap?"getDirectionCubemap":"getDirectionEquirect",l=We(e,Ce.fullscreenQuadVS,"#define DECODE_FUNC "+n+"\n#define ENCODE_FUNC "+a+"\n#define SOURCE_FUNC "+s+"\n#define TARGET_FUNC "+o+"\n#define NUM_SAMPLES 1024\n\n"+Ce.reprojectPS,"reproject"+n+a+s+o,null,e.webgl2?"":"#extension GL_OES_standard_derivatives: enable\n");e.scope.resolve(t.cubemap?"sourceCube":"sourceTex").setValue(t);var c=e.scope.resolve("params"),f=new D;f.y=void 0!==r?r:1,f.z=void 0!==r?1:0;for(var h=0;h<(i.cubemap?6:1);h++){var u=new qu(e,i,{face:h,depth:!1});f.x=h,c.setValue(f.data),Pe(e,u,l)}},e.revision="798f16872",e.scene=Wp,e.script=js,e.semanticToLocation=le,e.shFromCubemap=td,e.shaderChunks=Ce,e.shape=Bp,e.string=b,e.time=Np,e.type=r,e.typedArrayIndexFormats=oe,e.typedArrayIndexFormatsByteSize=[1,2,4],e.typedArrayToType=se,e.typedArrayTypes=ne,e.typedArrayTypesByteSize=ae,e.version=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},,function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(38);function n(e,t){if(null==e)return{};var i,n,a=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}},function(e,t,i){"use strict";function r(e){var t,i,n="";if(e)if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(i=r(e[t]))&&(n&&(n+=" "),n+=i);else for(t in e)e[t]&&(i=r(t))&&(n&&(n+=" "),n+=i);else"boolean"===typeof e||e.call||(n&&(n+=" "),n+=e);return n}t.a=function(){for(var e,t=0,i="";t<arguments.length;)(e=r(arguments[t++]))&&(i&&(i+=" "),i+=e);return i}},function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}i.d(t,"a",(function(){return n}))},,function(e,t,i){e.exports=i(105)},function(e,t,i){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var i=[],r=!0,n=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);r=!0);}catch(l){n=!0,a=l}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return i}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e,t,i,r,n){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";var r=i(1),n=i(4),a=i(0),s=i.n(a),o=(i(3),i(61)),l=i.n(o),c=i(114),f=i(141),h=i(95),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(i){var a=t.defaultTheme,o=t.withTheme,u=void 0!==o&&o,d=t.name,p=Object(n.a)(t,["defaultTheme","withTheme","name"]);var _=d,m=Object(c.a)(e,Object(r.a)({defaultTheme:a,Component:i,name:d||i.displayName,classNamePrefix:_},p)),b=s.a.forwardRef((function(e,t){e.classes;var o,l=e.innerRef,c=Object(n.a)(e,["classes","innerRef"]),p=m(Object(r.a)({},i.defaultProps,{},e)),_=c;return("string"===typeof d||u)&&(o=Object(h.a)()||a,d&&(_=Object(f.a)({theme:o,name:d,props:c})),u&&!_.theme&&(_.theme=o)),s.a.createElement(i,Object(r.a)({ref:l||t,classes:p},_))}));return l()(b,i),b}},d=i(46);t.a=function(e,t){return u(e,Object(r.a)({defaultTheme:d.a},t))}},function(e,t,i){"use strict";function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,"a",(function(){return r}))},,function(e,t,i){(function(r){t.log=function(){var e;return"object"===typeof console&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(n=r))})),t.splice(n,0,i)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(i){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(i){}!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=i(106)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,i(54))},function(e,t,i){"use strict";function r(e,t,i,r,n,a,s){try{var o=e[a](s),l=o.value}catch(c){return void i(c)}o.done?t(l):Promise.resolve(l).then(r,n)}function n(e){return function(){var t=this,i=arguments;return new Promise((function(n,a){var s=e.apply(t,i);function o(e){r(s,n,a,o,l,"next",e)}function l(e){r(s,n,a,o,l,"throw",e)}o(void 0)}))}}i.d(t,"a",(function(){return n}))},,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(0),n=i(49);function a(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(i){Object(n.a)(e,i),Object(n.a)(t,i)}}),[e,t])}},function(e,t,i){"use strict";function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}i.d(t,"a",(function(){return r}))},,function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(13);function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){Object(r.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}},,,function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(95),n=i(46);function a(){return Object(r.a)()||n.a}},function(e,t,i){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"b",(function(){return a}));var r=i(4),n={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function s(e){return"".concat(Math.round(e),"ms")}t.a={easing:n,duration:a,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.duration,o=void 0===i?a.standard:i,l=t.easing,c=void 0===l?n.easeInOut:l,f=t.delay,h=void 0===f?0:f;Object(r.a)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:s(o)," ").concat(c," ").concat("string"===typeof h?h:s(h))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},,function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return s}));var r=i(1),n=i(4),a=["xs","sm","md","lg","xl"];function s(e){var t=e.values,i=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,s=e.unit,o=void 0===s?"px":s,l=e.step,c=void 0===l?5:l,f=Object(n.a)(e,["values","unit","step"]);function h(e){var t="number"===typeof i[e]?i[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function u(e,t){var r=a.indexOf(t);return r===a.length-1?h(e):"@media (min-width:".concat("number"===typeof i[e]?i[e]:e).concat(o,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof i[a[r+1]]?i[a[r+1]]:t)-c/100).concat(o,")")}return Object(r.a)({keys:a,values:i,up:h,down:function(e){var t=a.indexOf(e)+1,r=i[a[t]];return t===a.length?h("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-c/100).concat(o,")")},between:u,only:function(e){return u(e,e)},width:function(e){return i[e]}},f)}},function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var r=i(8),n=i(0);if(!n.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!r.spy)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var a=!1;function s(){return a}var o=function(){return(o=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function l(e,t){var i="function"===typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,n,a=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(o){n={error:o}}finally{try{r&&!r.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return s}function c(e){return e.current?Object(r.getDependencyTree)(e.current):"<unknown>"}var f=[];function h(){var e=l(Object(n.useState)(0),2)[1];return Object(n.useCallback)((function(){e((function(e){return e+1}))}),[])}var u={};function d(e,t,i){if(void 0===t&&(t="observed"),void 0===i&&(i=u),s())return e();var a=(i.useForceUpdate||h)(),o=Object(n.useRef)(null);o.current||(o.current=new r.Reaction("observer("+t+")",(function(){a()})));var l,d,p=function(){o.current&&!o.current.isDisposed&&(o.current.dispose(),o.current=null)};if(Object(n.useDebugValue)(o,c),function(e){Object(n.useEffect)((function(){return e}),f)}((function(){p()})),o.current.track((function(){try{l=e()}catch(t){d=t}})),d)throw p(),d;return l}function p(e,t){if(s())return e;var i,r,a,l=o({forwardRef:!1},t),c=e.displayName||e.name,f=function(t,i){return d((function(){return e(t,i)}),c)};return f.displayName=c,i=l.forwardRef?Object(n.memo)(Object(n.forwardRef)(f)):Object(n.memo)(f),r=e,a=i,Object.keys(r).forEach((function(e){r.hasOwnProperty(e)&&!_[e]&&Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(r,e))})),i.displayName=c,i}var _={$$typeof:!0,render:!0,compare:!0,type:!0};function m(e){var t=e.children,i=e.render,r=t||i;return"function"!==typeof r?null:d(r)}function b(e,t,i,r,n){var a="children"===t?"render":"children",s="function"===typeof e[t],o="function"===typeof e[a];return s&&o?new Error("MobX Observer: Do not use children and render in the same time in`"+i):s||o?null:new Error("Invalid prop `"+n+"` of type `"+typeof e[t]+"` supplied to `"+i+"`, expected `function`.")}m.propTypes={children:b,render:b},m.displayName="Observer"},function(e,t,i){"use strict";var r=i(85);function n(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),i)}function n(e){if(e.type)return e;if("#"===e.charAt(0))return n(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length/3,"}"),"g"),i=e.match(t);return i&&1===i[0].length&&(i=i.map((function(e){return e+e}))),i?"rgb(".concat(i.map((function(e){return parseInt(e,16)})).join(", "),")"):""}(e));var t=e.indexOf("("),i=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(i))throw new Error(["Material-UI: unsupported `".concat(e,"` color."),"We support the following formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()."].join("\n"));var r=e.substring(t+1,e.length-1).split(",");return{type:i,values:r=r.map((function(e){return parseFloat(e)}))}}function a(e){var t=e.type,i=e.values;return-1!==t.indexOf("rgb")?i=i.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(i[1]="".concat(i[1],"%"),i[2]="".concat(i[2],"%")),"".concat(t,"(").concat(i.join(", "),")")}function s(e,t){var i=o(e),r=o(t);return(Math.max(i,r)+.05)/(Math.min(i,r)+.05)}function o(e){var t="hsl"===(e=n(e)).type?n(function(e){var t=(e=n(e)).values,i=t[0],r=t[1]/100,s=t[2]/100,o=r*Math.min(s,1-s),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+i/30)%12;return s-o*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",f=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(c+="a",f.push(t[3])),a({type:c,values:f})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function l(e,t){return e=n(e),t=r(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,a(e)}function c(e,t){if(e=n(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var i=0;i<3;i+=1)e.values[i]*=1-t;return a(e)}function f(e,t){if(e=n(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var i=0;i<3;i+=1)e.values[i]+=(255-e.values[i])*t;return a(e)}i.d(t,"c",(function(){return s})),i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return c})),i.d(t,"d",(function(){return f}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(0),n="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function a(e){var t=r.useRef(e);return n((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},function(e,t,i){"use strict";function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,"a",(function(){return r}))},,function(e,t,i){"use strict";function r(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=i(50);function a(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?Object(n.a)(e):t}i.d(t,"a",(function(){return a}))},function(e,t,i){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function n(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return n}));var r=function(e){return e.scrollTop};function n(e,t){var i=e.timeout,r=e.style,n=void 0===r?{}:r;return{duration:n.transitionDuration||"number"===typeof i?i:i[t.mode]||0,delay:n.transitionDelay}}},function(e,t,i){(function(e){function i(e,t){for(var i=0,r=e.length-1;r>=0;r--){var n=e[r];"."===n?e.splice(r,1):".."===n?(e.splice(r,1),i++):i&&(e.splice(r,1),i--)}if(t)for(;i--;i)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var i=[],r=0;r<e.length;r++)t(e[r],r,e)&&i.push(e[r]);return i}t.resolve=function(){for(var t="",n=!1,a=arguments.length-1;a>=-1&&!n;a--){var s=a>=0?arguments[a]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,n="/"===s.charAt(0))}return(n?"/":"")+(t=i(r(t.split("/"),(function(e){return!!e})),!n).join("/"))||"."},t.normalize=function(e){var a=t.isAbsolute(e),s="/"===n(e,-1);return(e=i(r(e.split("/"),(function(e){return!!e})),!a).join("/"))||a||(e="."),e&&s&&(e+="/"),(a?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,i){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;i>=0&&""===e[i];i--);return t>i?[]:e.slice(t,i-t+1)}e=t.resolve(e).substr(1),i=t.resolve(i).substr(1);for(var n=r(e.split("/")),a=r(i.split("/")),s=Math.min(n.length,a.length),o=s,l=0;l<s;l++)if(n[l]!==a[l]){o=l;break}var c=[];for(l=o;l<n.length;l++)c.push("..");return(c=c.concat(a.slice(o))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),i=47===t,r=-1,n=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!n){r=a;break}}else n=!1;return-1===r?i?"/":".":i&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var i=function(e){"string"!==typeof e&&(e+="");var t,i=0,r=-1,n=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!n){i=t+1;break}}else-1===r&&(n=!1,r=t+1);return-1===r?"":e.slice(i,r)}(e);return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,i=0,r=-1,n=!0,a=0,s=e.length-1;s>=0;--s){var o=e.charCodeAt(s);if(47!==o)-1===r&&(n=!1,r=s+1),46===o?-1===t?t=s:1!==a&&(a=1):-1!==t&&(a=-1);else if(!n){i=s+1;break}}return-1===t||-1===r||0===a||1===a&&t===r-1&&t===i+1?"":e.slice(t,r)};var n="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return t<0&&(t=e.length+t),e.substr(t,i)}}).call(this,i(54))},function(e,t,i){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";var r=i(0),n=i.n(r);t.a=n.a.createContext(null)},function(e,t,i){"use strict";var r=i(93),n=Object(r.a)();t.a=n},function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}i.d(t,"a",(function(){return r}))},function(e,t,i){var r;!function(n,a,s,o){"use strict";var l,c=["","webkit","Moz","MS","ms","o"],f=a.createElement("div"),h=Math.round,u=Math.abs,d=Date.now;function p(e,t,i){return setTimeout(g(e,i),t)}function _(e,t,i){return!!Array.isArray(e)&&(m(e,i[t],i),!0)}function m(e,t,i){var r;if(e)if(e.forEach)e.forEach(t,i);else if(void 0!==e.length)for(r=0;r<e.length;)t.call(i,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(i,e[r],r,e)}function b(e,t,i){var r="DEPRECATED METHOD: "+t+"\n"+i+" AT \n";return function(){var t=new Error("get-stack-trace"),i=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=n.console&&(n.console.warn||n.console.log);return a&&a.call(n.console,r,i),e.apply(this,arguments)}}l="function"!==typeof Object.assign?function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(void 0!==r&&null!==r)for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])}return t}:Object.assign;var A=b((function(e,t,i){for(var r=Object.keys(t),n=0;n<r.length;)(!i||i&&void 0===e[r[n]])&&(e[r[n]]=t[r[n]]),n++;return e}),"extend","Use `assign`."),v=b((function(e,t){return A(e,t,!0)}),"merge","Use `assign`.");function y(e,t,i){var r,n=t.prototype;(r=e.prototype=Object.create(n)).constructor=e,r._super=n,i&&l(r,i)}function g(e,t){return function(){return e.apply(t,arguments)}}function k(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function x(e,t){return void 0===e?t:e}function S(e,t,i){m(M(t),(function(t){e.addEventListener(t,i,!1)}))}function T(e,t,i){m(M(t),(function(t){e.removeEventListener(t,i,!1)}))}function w(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function E(e,t){return e.indexOf(t)>-1}function M(e){return e.trim().split(/\s+/g)}function P(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var r=0;r<e.length;){if(i&&e[r][i]==t||!i&&e[r]===t)return r;r++}return-1}function R(e){return Array.prototype.slice.call(e,0)}function C(e,t,i){for(var r=[],n=[],a=0;a<e.length;){var s=t?e[a][t]:e[a];P(n,s)<0&&r.push(e[a]),n[a]=s,a++}return i&&(r=t?r.sort((function(e,i){return e[t]>i[t]})):r.sort()),r}function O(e,t){for(var i,r,n=t[0].toUpperCase()+t.slice(1),a=0;a<c.length;){if((r=(i=c[a])?i+n:t)in e)return r;a++}}var I=1;function D(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||n}var F="ontouchstart"in n,N=void 0!==O(n,"PointerEvent"),B=F&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),L=["x","y"],U=["clientX","clientY"];function V(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){k(e.options.enable,[e])&&i.handler(t)},this.init()}function z(e,t,i){var r=i.pointers.length,n=i.changedPointers.length,a=1&t&&r-n===0,s=12&t&&r-n===0;i.isFirst=!!a,i.isFinal=!!s,a&&(e.session={}),i.eventType=t,function(e,t){var i=e.session,r=t.pointers,n=r.length;i.firstInput||(i.firstInput=j(t));n>1&&!i.firstMultiple?i.firstMultiple=j(t):1===n&&(i.firstMultiple=!1);var a=i.firstInput,s=i.firstMultiple,o=s?s.center:a.center,l=t.center=W(r);t.timeStamp=d(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=X(o,l),t.distance=Y(o,l),function(e,t){var i=t.center,r=e.offsetDelta||{},n=e.prevDelta||{},a=e.prevInput||{};1!==t.eventType&&4!==a.eventType||(n=e.prevDelta={x:a.deltaX||0,y:a.deltaY||0},r=e.offsetDelta={x:i.x,y:i.y});t.deltaX=n.x+(i.x-r.x),t.deltaY=n.y+(i.y-r.y)}(i,t),t.offsetDirection=H(t.deltaX,t.deltaY);var c=G(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=u(c.x)>u(c.y)?c.x:c.y,t.scale=s?(f=s.pointers,h=r,Y(h[0],h[1],U)/Y(f[0],f[1],U)):1,t.rotation=s?function(e,t){return X(t[1],t[0],U)+X(e[1],e[0],U)}(s.pointers,r):0,t.maxPointers=i.prevInput?t.pointers.length>i.prevInput.maxPointers?t.pointers.length:i.prevInput.maxPointers:t.pointers.length,function(e,t){var i,r,n,a,s=e.lastInterval||t,o=t.timeStamp-s.timeStamp;if(8!=t.eventType&&(o>25||void 0===s.velocity)){var l=t.deltaX-s.deltaX,c=t.deltaY-s.deltaY,f=G(o,l,c);r=f.x,n=f.y,i=u(f.x)>u(f.y)?f.x:f.y,a=H(l,c),e.lastInterval=t}else i=s.velocity,r=s.velocityX,n=s.velocityY,a=s.direction;t.velocity=i,t.velocityX=r,t.velocityY=n,t.direction=a}(i,t);var f,h;var p=e.element;w(t.srcEvent.target,p)&&(p=t.srcEvent.target);t.target=p}(e,i),e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function j(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:h(e.pointers[i].clientX),clientY:h(e.pointers[i].clientY)},i++;return{timeStamp:d(),pointers:t,center:W(t),deltaX:e.deltaX,deltaY:e.deltaY}}function W(e){var t=e.length;if(1===t)return{x:h(e[0].clientX),y:h(e[0].clientY)};for(var i=0,r=0,n=0;n<t;)i+=e[n].clientX,r+=e[n].clientY,n++;return{x:h(i/t),y:h(r/t)}}function G(e,t,i){return{x:t/e||0,y:i/e||0}}function H(e,t){return e===t?1:u(e)>=u(t)?e<0?2:4:t<0?8:16}function Y(e,t,i){i||(i=L);var r=t[i[0]]-e[i[0]],n=t[i[1]]-e[i[1]];return Math.sqrt(r*r+n*n)}function X(e,t,i){i||(i=L);var r=t[i[0]]-e[i[0]],n=t[i[1]]-e[i[1]];return 180*Math.atan2(n,r)/Math.PI}V.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(D(this.element),this.evWin,this.domHandler)}};var Z={mousedown:1,mousemove:2,mouseup:4};function Q(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,V.apply(this,arguments)}y(Q,V,{handler:function(e){var t=Z[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var J={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},q={2:"touch",3:"pen",4:"mouse",5:"kinect"},K="pointerdown",$="pointermove pointerup pointercancel";function ee(){this.evEl=K,this.evWin=$,V.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}n.MSPointerEvent&&!n.PointerEvent&&(K="MSPointerDown",$="MSPointerMove MSPointerUp MSPointerCancel"),y(ee,V,{handler:function(e){var t=this.store,i=!1,r=e.type.toLowerCase().replace("ms",""),n=J[r],a=q[e.pointerType]||e.pointerType,s="touch"==a,o=P(t,e.pointerId,"pointerId");1&n&&(0===e.button||s)?o<0&&(t.push(e),o=t.length-1):12&n&&(i=!0),o<0||(t[o]=e,this.callback(this.manager,n,{pointers:t,changedPointers:[e],pointerType:a,srcEvent:e}),i&&t.splice(o,1))}});var te={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ie(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,V.apply(this,arguments)}function re(e,t){var i=R(e.touches),r=R(e.changedTouches);return 12&t&&(i=C(i.concat(r),"identifier",!0)),[i,r]}y(ie,V,{handler:function(e){var t=te[e.type];if(1===t&&(this.started=!0),this.started){var i=re.call(this,e,t);12&t&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:e})}}});var ne={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ae(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},V.apply(this,arguments)}function se(e,t){var i=R(e.touches),r=this.targetIds;if(3&t&&1===i.length)return r[i[0].identifier]=!0,[i,i];var n,a,s=R(e.changedTouches),o=[],l=this.target;if(a=i.filter((function(e){return w(e.target,l)})),1===t)for(n=0;n<a.length;)r[a[n].identifier]=!0,n++;for(n=0;n<s.length;)r[s[n].identifier]&&o.push(s[n]),12&t&&delete r[s[n].identifier],n++;return o.length?[C(a.concat(o),"identifier",!0),o]:void 0}y(ae,V,{handler:function(e){var t=ne[e.type],i=se.call(this,e,t);i&&this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:e})}});function oe(){V.apply(this,arguments);var e=g(this.handler,this);this.touch=new ae(this.manager,e),this.mouse=new Q(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function le(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ce.call(this,t)):12&e&&ce.call(this,t)}function ce(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var i={x:t.clientX,y:t.clientY};this.lastTouches.push(i);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(i);e>-1&&r.splice(e,1)}),2500)}}function fe(e){for(var t=e.srcEvent.clientX,i=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var n=this.lastTouches[r],a=Math.abs(t-n.x),s=Math.abs(i-n.y);if(a<=25&&s<=25)return!0}return!1}y(oe,V,{handler:function(e,t,i){var r="touch"==i.pointerType,n="mouse"==i.pointerType;if(!(n&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(r)le.call(this,t,i);else if(n&&fe.call(this,i))return;this.callback(e,t,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var he=O(f.style,"touchAction"),ue=void 0!==he,de=function(){if(!ue)return!1;var e={},t=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(i){e[i]=!t||n.CSS.supports("touch-action",i)})),e}();function pe(e,t){this.manager=e,this.set(t)}pe.prototype={set:function(e){"compute"==e&&(e=this.compute()),ue&&this.manager.element.style&&de[e]&&(this.manager.element.style[he]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return m(this.manager.recognizers,(function(t){k(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(E(e,"none"))return"none";var t=E(e,"pan-x"),i=E(e,"pan-y");if(t&&i)return"none";if(t||i)return t?"pan-x":"pan-y";if(E(e,"manipulation"))return"manipulation";return"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,i=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,n=E(r,"none")&&!de.none,a=E(r,"pan-y")&&!de["pan-y"],s=E(r,"pan-x")&&!de["pan-x"];if(n){var o=1===e.pointers.length,l=e.distance<2,c=e.deltaTime<250;if(o&&l&&c)return}if(!s||!a)return n||a&&6&i||s&&24&i?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};function _e(e){this.options=l({},this.defaults,e||{}),this.id=I++,this.manager=null,this.options.enable=x(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function me(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function be(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function Ae(e,t){var i=t.manager;return i?i.get(e):e}function ve(){_e.apply(this,arguments)}function ye(){ve.apply(this,arguments),this.pX=null,this.pY=null}function ge(){ve.apply(this,arguments)}function ke(){_e.apply(this,arguments),this._timer=null,this._input=null}function xe(){ve.apply(this,arguments)}function Se(){ve.apply(this,arguments)}function Te(){_e.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function we(e,t){return(t=t||{}).recognizers=x(t.recognizers,we.defaults.preset),new Ee(e,t)}_e.prototype={defaults:{},set:function(e){return l(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(_(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Ae(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return _(e,"dropRecognizeWith",this)||(e=Ae(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(_(e,"requireFailure",this))return this;var t=this.requireFail;return-1===P(t,e=Ae(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(_(e,"dropRequireFailure",this))return this;e=Ae(e,this);var t=P(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,i=this.state;function r(i){t.manager.emit(i,e)}i<8&&r(t.options.event+me(i)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),i>=8&&r(t.options.event+me(i))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=l({},e);if(!k(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},y(ve,_e,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,r=6&t,n=this.attrTest(e);return r&&(8&i||!n)?16|t:r||n?4&i?8|t:2&t?4|t:2:32}}),y(ye,ve,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,i=!0,r=e.distance,n=e.direction,a=e.deltaX,s=e.deltaY;return n&t.direction||(6&t.direction?(n=0===a?1:a<0?2:4,i=a!=this.pX,r=Math.abs(e.deltaX)):(n=0===s?1:s<0?8:16,i=s!=this.pY,r=Math.abs(e.deltaY))),e.direction=n,i&&r>t.threshold&&n&t.direction},attrTest:function(e){return ve.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=be(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),y(ge,ve,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),y(ke,_e,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,r=e.distance<t.threshold,n=e.deltaTime>t.time;if(this._input=e,!r||!i||12&e.eventType&&!n)this.reset();else if(1&e.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),y(xe,ve,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),y(Se,ve,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return ye.prototype.getTouchAction.call(this)},attrTest:function(e){var t,i=this.options.direction;return 30&i?t=e.overallVelocity:6&i?t=e.overallVelocityX:24&i&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&u(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=be(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),y(Te,_e,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,r=e.distance<t.threshold,n=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&n&&i){if(4!=e.eventType)return this.failTimeout();var a=!this.pTime||e.timeStamp-this.pTime<t.interval,s=!this.pCenter||Y(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,s&&a?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),we.VERSION="2.0.7",we.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[xe,{enable:!1}],[ge,{enable:!1},["rotate"]],[Se,{direction:6}],[ye,{direction:6},["swipe"]],[Te],[Te,{event:"doubletap",taps:2},["tap"]],[ke]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Ee(e,t){this.options=l({},we.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){var t=e.options.inputClass;return new(t||(N?ee:B?ae:F?oe:Q))(e,z)}(this),this.touchAction=new pe(this,this.options.touchAction),Me(this,!0),m(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Me(e,t){var i,r=e.element;r.style&&(m(e.options.cssProps,(function(n,a){i=O(r.style,a),t?(e.oldCssProps[i]=r.style[i],r.style[i]=n):r.style[i]=e.oldCssProps[i]||""})),t||(e.oldCssProps={}))}Ee.prototype={set:function(e){return l(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var i;this.touchAction.preventDefaults(e);var r=this.recognizers,n=t.curRecognizer;(!n||n&&8&n.state)&&(n=t.curRecognizer=null);for(var a=0;a<r.length;)i=r[a],2===t.stopped||n&&i!=n&&!i.canRecognizeWith(n)?i.reset():i.recognize(e),!n&&14&i.state&&(n=t.curRecognizer=i),a++}},get:function(e){if(e instanceof _e)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(_(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(_(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,i=P(t,e);-1!==i&&(t.splice(i,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var i=this.handlers;return m(M(e),(function(e){i[e]=i[e]||[],i[e].push(t)})),this}},off:function(e,t){if(void 0!==e){var i=this.handlers;return m(M(e),(function(e){t?i[e]&&i[e].splice(P(i[e],t),1):delete i[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var i=a.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=t,t.target.dispatchEvent(i)}(e,t);var i=this.handlers[e]&&this.handlers[e].slice();if(i&&i.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<i.length;)i[r](t),r++}},destroy:function(){this.element&&Me(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(we,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Ee,Input:V,TouchAction:pe,TouchInput:ae,MouseInput:Q,PointerEventInput:ee,TouchMouseInput:oe,SingleTouchInput:ie,Recognizer:_e,AttrRecognizer:ve,Tap:Te,Pan:ye,Swipe:Se,Pinch:ge,Rotate:xe,Press:ke,on:S,off:T,each:m,merge:v,extend:A,assign:l,inherit:y,bindFn:g,prefixed:O}),("undefined"!==typeof n?n:"undefined"!==typeof self?self:{}).Hammer=we,void 0===(r=function(){return we}.call(t,i,t,e))||(e.exports=r)}(window,document)},,function(e,t,i){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i.d(t,"a",(function(){return r}))},function(e,t){var i,r,n=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"===typeof setTimeout?setTimeout:a}catch(e){i=a}try{r="function"===typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,c=[],f=!1,h=-1;function u(){f&&l&&(f=!1,l.length?c=l.concat(c):h=-1,c.length&&d())}function d(){if(!f){var e=o(u);f=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function _(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];c.push(new p(e,t)),1!==c.length||f||o(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=_,n.addListener=_,n.once=_,n.off=_,n.removeListener=_,n.removeAllListeners=_,n.emit=_,n.prependListener=_,n.prependOnceListener=_,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,i){"use strict"},,function(e,t,i){"use strict";var r=i(0),n=i.n(r).a.createContext(null);t.a=n},function(e,t,i){"use strict";var r="function"===typeof Symbol&&Symbol.for;t.a=r?Symbol.for("mui.nested"):"__THEME_NESTED__"},function(e,t,i){"use strict";t.a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(e,t,i){"use strict";var r=i(0),n=r.createContext();t.a=n},function(e,t,i){"use strict";var r=i(103),n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return r.isMemo(e)?s:o[e.$$typeof]||n}o[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[r.Memo]=s;var c=Object.defineProperty,f=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,i,r){if("string"!==typeof i){if(p){var n=d(i);n&&n!==p&&e(t,n,r)}var s=f(i);h&&(s=s.concat(h(i)));for(var o=l(t),_=l(i),m=0;m<s.length;++m){var b=s[m];if(!a[b]&&(!r||!r[b])&&(!_||!_[b])&&(!o||!o[b])){var A=u(i,b);try{c(t,b,A)}catch(v){}}}}return t}},,function(e,t,i){"use strict";var r=i(86);var n=i(87);function a(e,t){return Object(r.a)(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var i=[],r=!0,n=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);r=!0);}catch(l){n=!0,a=l}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return i}}(e,t)||Object(n.a)()}i.d(t,"a",(function(){return a}))},function(e,t,i){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),i)}function n(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length/3,"}"),"g"),i=e.match(t);return i&&1===i[0].length&&(i=i.map((function(e){return e+e}))),i?"rgb(".concat(i.map((function(e){return parseInt(e,16)})).join(", "),")"):""}function a(e){var t=(e=s(e)).values,i=t[0],r=t[1]/100,n=t[2]/100,a=r*Math.min(n,1-n),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+i/30)%12;return n-a*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",f=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(c+="a",f.push(t[3])),o({type:c,values:f})}function s(e){if(e.type)return e;if("#"===e.charAt(0))return s(n(e));var t=e.indexOf("("),i=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(i))throw new Error(["Material-UI: unsupported `".concat(e,"` color."),"We support the following formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()."].join("\n"));var r=e.substring(t+1,e.length-1).split(",");return{type:i,values:r=r.map((function(e){return parseFloat(e)}))}}function o(e){var t=e.type,i=e.values;return-1!==t.indexOf("rgb")?i=i.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(i[1]="".concat(i[1],"%"),i[2]="".concat(i[2],"%")),"".concat(t,"(").concat(i.join(", "),")")}function l(e){var t="hsl"===(e=s(e)).type?s(a(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function c(e,t){if(e=s(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var i=0;i<3;i+=1)e.values[i]*=1-t;return o(e)}function f(e,t){if(e=s(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var i=0;i<3;i+=1)e.values[i]+=(255-e.values[i])*t;return o(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.hexToRgb=n,t.rgbToHex=function(e){if(0===e.indexOf("#"))return e;var t=s(e).values;return"#".concat(t.map((function(e){return function(e){var t=e.toString(16);return 1===t.length?"0".concat(t):t}(e)})).join(""))},t.hslToRgb=a,t.decomposeColor=s,t.recomposeColor=o,t.getContrastRatio=function(e,t){var i=l(e),r=l(t);return(Math.max(i,r)+.05)/(Math.min(i,r)+.05)},t.getLuminance=l,t.emphasize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return l(e)>.5?c(e,t):f(e,t)},t.fade=function(e,t){e=s(e),t=r(t),("rgb"===e.type||"hsl"===e.type)&&(e.type+="a");return e.values[3]=t,o(e)},t.darken=c,t.lighten=f},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(r){"object"===typeof window&&(i=window)}e.exports=i},,,function(e,t,i){"use strict";(function(e){var r=i(99),n=i(100),a=i(101);function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,i){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(e,t,i);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,i)}function c(e,t,i,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,i,r){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===i&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,i):new Uint8Array(t,i,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=u(e,t);return e}(e,t,i,r):"string"===typeof t?function(e,t,i){"string"===typeof i&&""!==i||(i="utf8");if(!l.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,i),n=(e=o(e,r)).write(t,i);n!==r&&(e=e.slice(0,n));return e}(e,t,i):function(e,t){if(l.isBuffer(t)){var i=0|d(t.length);return 0===(e=o(e,i)).length||t.copy(e,0,0,i),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?o(e,0):u(e,t);if("Buffer"===t.type&&a(t.data))return u(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(f(t),e=o(e,t<0?0:0|d(t)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function u(e,t){var i=t.length<0?0:0|d(t.length);e=o(e,i);for(var r=0;r<i;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return z(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function _(e,t,i){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,i);case"utf8":case"utf-8":return w(this,t,i);case"ascii":return E(this,t,i);case"latin1":case"binary":return M(this,t,i);case"base64":return T(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,i);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function b(e,t,i,r,n){if(0===e.length)return-1;if("string"===typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=n?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(n)return-1;i=e.length-1}else if(i<0){if(!n)return-1;i=0}if("string"===typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:A(e,t,i,r,n);if("number"===typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):A(e,[t],i,r,n);throw new TypeError("val must be string, number or Buffer")}function A(e,t,i,r,n){var a,s=1,o=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,o/=2,l/=2,i/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(n){var f=-1;for(a=i;a<o;a++)if(c(e,a)===c(t,-1===f?0:a-f)){if(-1===f&&(f=a),a-f+1===l)return f*s}else-1!==f&&(a-=a-f),f=-1}else for(i+l>o&&(i=o-l),a=i;a>=0;a--){for(var h=!0,u=0;u<l;u++)if(c(e,a+u)!==c(t,u)){h=!1;break}if(h)return a}return-1}function v(e,t,i,r){i=Number(i)||0;var n=e.length-i;r?(r=Number(r))>n&&(r=n):r=n;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var s=0;s<r;++s){var o=parseInt(t.substr(2*s,2),16);if(isNaN(o))return s;e[i+s]=o}return s}function y(e,t,i,r){return j(V(t,e.length-i),e,i,r)}function g(e,t,i,r){return j(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,r)}function k(e,t,i,r){return g(e,t,i,r)}function x(e,t,i,r){return j(z(t),e,i,r)}function S(e,t,i,r){return j(function(e,t){for(var i,r,n,a=[],s=0;s<e.length&&!((t-=2)<0);++s)i=e.charCodeAt(s),r=i>>8,n=i%256,a.push(n),a.push(r);return a}(t,e.length-i),e,i,r)}function T(e,t,i){return 0===t&&i===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,i))}function w(e,t,i){i=Math.min(e.length,i);for(var r=[],n=t;n<i;){var a,s,o,l,c=e[n],f=null,h=c>239?4:c>223?3:c>191?2:1;if(n+h<=i)switch(h){case 1:c<128&&(f=c);break;case 2:128===(192&(a=e[n+1]))&&(l=(31&c)<<6|63&a)>127&&(f=l);break;case 3:a=e[n+1],s=e[n+2],128===(192&a)&&128===(192&s)&&(l=(15&c)<<12|(63&a)<<6|63&s)>2047&&(l<55296||l>57343)&&(f=l);break;case 4:a=e[n+1],s=e[n+2],o=e[n+3],128===(192&a)&&128===(192&s)&&128===(192&o)&&(l=(15&c)<<18|(63&a)<<12|(63&s)<<6|63&o)>65535&&l<1114112&&(f=l)}null===f?(f=65533,h=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),n+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var i="",r=0;for(;r<t;)i+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return i}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=s(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,i){return c(null,e,t,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,i){return function(e,t,i,r){return f(t),t<=0?o(e,t):void 0!==i?"string"===typeof r?o(e,t).fill(i,r):o(e,t).fill(i):o(e,t)}(null,e,t,i)},l.allocUnsafe=function(e){return h(null,e)},l.allocUnsafeSlow=function(e){return h(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,r=t.length,n=0,a=Math.min(i,r);n<a;++n)if(e[n]!==t[n]){i=e[n],r=t[n];break}return i<r?-1:r<i?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var r=l.allocUnsafe(t),n=0;for(i=0;i<e.length;++i){var s=e[i];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,n),n+=s.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?w(this,0,e):_.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,i,r,n){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),t<0||i>e.length||r<0||n>this.length)throw new RangeError("out of range index");if(r>=n&&t>=i)return 0;if(r>=n)return-1;if(t>=i)return 1;if(this===e)return 0;for(var a=(n>>>=0)-(r>>>=0),s=(i>>>=0)-(t>>>=0),o=Math.min(a,s),c=this.slice(r,n),f=e.slice(t,i),h=0;h<o;++h)if(c[h]!==f[h]){a=c[h],s=f[h];break}return a<s?-1:s<a?1:0},l.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},l.prototype.indexOf=function(e,t,i){return b(this,e,t,i,!0)},l.prototype.lastIndexOf=function(e,t,i){return b(this,e,t,i,!1)},l.prototype.write=function(e,t,i,r){if(void 0===t)r="utf8",i=this.length,t=0;else if(void 0===i&&"string"===typeof t)r=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var n=this.length-t;if((void 0===i||i>n)&&(i=n),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return v(this,e,t,i);case"utf8":case"utf-8":return y(this,e,t,i);case"ascii":return g(this,e,t,i);case"latin1":case"binary":return k(this,e,t,i);case"base64":return x(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,i);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(127&e[n]);return r}function M(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(e[n]);return r}function P(e,t,i){var r=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>r)&&(i=r);for(var n="",a=t;a<i;++a)n+=U(e[a]);return n}function R(e,t,i){for(var r=e.slice(t,i),n="",a=0;a<r.length;a+=2)n+=String.fromCharCode(r[a]+256*r[a+1]);return n}function C(e,t,i){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,i,r,n,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<a)throw new RangeError('"value" argument is out of bounds');if(i+r>e.length)throw new RangeError("Index out of range")}function I(e,t,i,r){t<0&&(t=65535+t+1);for(var n=0,a=Math.min(e.length-i,2);n<a;++n)e[i+n]=(t&255<<8*(r?n:1-n))>>>8*(r?n:1-n)}function D(e,t,i,r){t<0&&(t=4294967295+t+1);for(var n=0,a=Math.min(e.length-i,4);n<a;++n)e[i+n]=t>>>8*(r?n:3-n)&255}function F(e,t,i,r,n,a){if(i+r>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function N(e,t,i,r,a){return a||F(e,0,i,4),n.write(e,t,i,r,23,4),i+4}function B(e,t,i,r,a){return a||F(e,0,i,8),n.write(e,t,i,r,52,8),i+8}l.prototype.slice=function(e,t){var i,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=l.prototype;else{var n=t-e;i=new l(n,void 0);for(var a=0;a<n;++a)i[a]=this[a+e]}return i},l.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||C(e,t,this.length);for(var r=this[e],n=1,a=0;++a<t&&(n*=256);)r+=this[e+a]*n;return r},l.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||C(e,t,this.length);for(var r=this[e+--t],n=1;t>0&&(n*=256);)r+=this[e+--t]*n;return r},l.prototype.readUInt8=function(e,t){return t||C(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||C(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||C(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||C(e,t,this.length);for(var r=this[e],n=1,a=0;++a<t&&(n*=256);)r+=this[e+a]*n;return r>=(n*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||C(e,t,this.length);for(var r=t,n=1,a=this[e+--r];r>0&&(n*=256);)a+=this[e+--r]*n;return a>=(n*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||C(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(e,t){t||C(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(e,t){return t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||C(e,4,this.length),n.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||C(e,4,this.length),n.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||C(e,8,this.length),n.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||C(e,8,this.length),n.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,i,r){(e=+e,t|=0,i|=0,r)||O(this,e,t,i,Math.pow(2,8*i)-1,0);var n=1,a=0;for(this[t]=255&e;++a<i&&(n*=256);)this[t+a]=e/n&255;return t+i},l.prototype.writeUIntBE=function(e,t,i,r){(e=+e,t|=0,i|=0,r)||O(this,e,t,i,Math.pow(2,8*i)-1,0);var n=i-1,a=1;for(this[t+n]=255&e;--n>=0&&(a*=256);)this[t+n]=e/a&255;return t+i},l.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);O(this,e,t,i,n-1,-n)}var a=0,s=1,o=0;for(this[t]=255&e;++a<i&&(s*=256);)e<0&&0===o&&0!==this[t+a-1]&&(o=1),this[t+a]=(e/s>>0)-o&255;return t+i},l.prototype.writeIntBE=function(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);O(this,e,t,i,n-1,-n)}var a=i-1,s=1,o=0;for(this[t+a]=255&e;--a>=0&&(s*=256);)e<0&&0===o&&0!==this[t+a+1]&&(o=1),this[t+a]=(e/s>>0)-o&255;return t+i},l.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,i){return N(this,e,t,!0,i)},l.prototype.writeFloatBE=function(e,t,i){return N(this,e,t,!1,i)},l.prototype.writeDoubleLE=function(e,t,i){return B(this,e,t,!0,i)},l.prototype.writeDoubleBE=function(e,t,i){return B(this,e,t,!1,i)},l.prototype.copy=function(e,t,i,r){if(i||(i=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<i&&(r=i),r===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);var n,a=r-i;if(this===e&&i<t&&t<r)for(n=a-1;n>=0;--n)e[n+t]=this[n+i];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(n=0;n<a;++n)e[n+t]=this[n+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+a),t);return a},l.prototype.fill=function(e,t,i,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,i=this.length):"string"===typeof i&&(r=i,i=this.length),1===e.length){var n=e.charCodeAt(0);n<256&&(e=n)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var a;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"===typeof e)for(a=t;a<i;++a)this[a]=e;else{var s=l.isBuffer(e)?e:V(new l(e,r).toString()),o=s.length;for(a=0;a<i-t;++a)this[a+t]=s[a%o]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var i;t=t||1/0;for(var r=e.length,n=null,a=[],s=0;s<r;++s){if((i=e.charCodeAt(s))>55295&&i<57344){if(!n){if(i>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&a.push(239,191,189);continue}n=i;continue}if(i<56320){(t-=3)>-1&&a.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(t-=3)>-1&&a.push(239,191,189);if(n=null,i<128){if((t-=1)<0)break;a.push(i)}else if(i<2048){if((t-=2)<0)break;a.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;a.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return a}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function j(e,t,i,r){for(var n=0;n<r&&!(n+i>=t.length||n>=e.length);++n)t[n+i]=e[n];return n}}).call(this,i(65))},function(e,t){},,,,,,,,,,,,,,,function(e,t,i){var r=i(98),n=i(102);e.exports={createEncoderModule:r,createDecoderModule:n}},function(e,t,i){"use strict";function r(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){if(Array.isArray(e))return e}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}i.d(t,"a",(function(){return r}))},function(e,t){e.exports=function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var i=Array.isArray(t)?t:t.split(","),r=e.name||"",n=e.type||"",a=n.replace(/\/.*$/,"");return i.some((function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):t.endsWith("/*")?a===t.replace(/\/.*$/,""):n===t}))}return!0}}])},,,function(e,t,i){(function(t){var i=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,o="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,c=o||l||Function("return this")(),f=Object.prototype.toString,h=Math.max,u=Math.min,d=function(){return c.Date.now()};function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function _(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(p(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=p(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var o=n.test(e);return o||a.test(e)?s(e.slice(2),o?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,i){var r,n,a,s,o,l,c=0,f=!1,m=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function A(t){var i=r,a=n;return r=n=void 0,c=t,s=e.apply(a,i)}function v(e){return c=e,o=setTimeout(g,t),f?A(e):s}function y(e){var i=e-l;return void 0===l||i>=t||i<0||m&&e-c>=a}function g(){var e=d();if(y(e))return k(e);o=setTimeout(g,function(e){var i=t-(e-l);return m?u(i,a-(e-c)):i}(e))}function k(e){return o=void 0,b&&r?A(e):(r=n=void 0,s)}function x(){var e=d(),i=y(e);if(r=arguments,n=this,l=e,i){if(void 0===o)return v(l);if(m)return o=setTimeout(g,t),A(l)}return void 0===o&&(o=setTimeout(g,t)),s}return t=_(t)||0,p(i)&&(f=!!i.leading,a=(m="maxWait"in i)?h(_(i.maxWait)||0,t):a,b="trailing"in i?!!i.trailing:b),x.cancel=function(){void 0!==o&&clearTimeout(o),c=0,r=l=n=o=void 0},x.flush=function(){return void 0===o?s:k(d())},x}}).call(this,i(65))},function(e,t,i){"use strict";(function(e){var i=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var i=-1;return e.some((function(e,r){return e[0]===t&&(i=r,!0)})),i}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var i=e(this.__entries__,t),r=this.__entries__[i];return r&&r[1]},t.prototype.set=function(t,i){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=i:this.__entries__.push([t,i])},t.prototype.delete=function(t){var i=this.__entries__,r=e(i,t);~r&&i.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var i=0,r=this.__entries__;i<r.length;i++){var n=r[i];e.call(t,n[1],n[0])}},t}()}(),r="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,n="undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),a="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(n):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],o="undefined"!==typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var i=!1,r=!1,n=0;function s(){i&&(i=!1,e()),r&&l()}function o(){a(s)}function l(){var e=Date.now();if(i){if(e-n<2)return;r=!0}else i=!0,r=!1,setTimeout(o,t);n=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),o?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=void 0===t?"":t;s.some((function(e){return!!~i.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var i=0,r=Object.keys(t);i<r.length;i++){var n=r[i];Object.defineProperty(e,n,{value:t[n],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||n},h=b(0,0,0,0);function u(e){return parseFloat(e)||0}function d(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return t.reduce((function(t,i){return t+u(e["border-"+i+"-width"])}),0)}function p(e){var t=e.clientWidth,i=e.clientHeight;if(!t&&!i)return h;var r=f(e).getComputedStyle(e),n=function(e){for(var t={},i=0,r=["top","right","bottom","left"];i<r.length;i++){var n=r[i],a=e["padding-"+n];t[n]=u(a)}return t}(r),a=n.left+n.right,s=n.top+n.bottom,o=u(r.width),l=u(r.height);if("border-box"===r.boxSizing&&(Math.round(o+a)!==t&&(o-=d(r,"left","right")+a),Math.round(l+s)!==i&&(l-=d(r,"top","bottom")+s)),!function(e){return e===f(e).document.documentElement}(e)){var c=Math.round(o+a)-t,p=Math.round(l+s)-i;1!==Math.abs(c)&&(o-=c),1!==Math.abs(p)&&(l-=p)}return b(n.left,n.top,o,l)}var _="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"===typeof e.getBBox};function m(e){return r?_(e)?function(e){var t=e.getBBox();return b(0,0,t.width,t.height)}(e):p(e):h}function b(e,t,i,r){return{x:e,y:t,width:i,height:r}}var A=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=b(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=m(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),v=function(e,t){var i=function(e){var t=e.x,i=e.y,r=e.width,n=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(a.prototype);return c(s,{x:t,y:i,width:r,height:n,top:i,right:t+r,bottom:n+i,left:t}),s}(t);c(this,{target:e,contentRect:i})},y=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new i,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new A(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new v(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),g="undefined"!==typeof WeakMap?new WeakMap:new i,k=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=l.getInstance(),r=new y(t,i,this);g.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){k.prototype[e]=function(){var t;return(t=g.get(this))[e].apply(t,arguments)}}));var x="undefined"!==typeof n.ResizeObserver?n.ResizeObserver:k;t.a=x}).call(this,i(65))},function(e,t,i){"use strict";var r=i(36),n=i(4),a=i(138),s=i(31),o=i(1);function l(e,t,i){var n;return Object(o.a)({gutters:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o.a)({paddingLeft:t(2),paddingRight:t(2)},i,Object(r.a)({},e.up("sm"),Object(o.a)({paddingLeft:t(3),paddingRight:t(3)},i[e.up("sm")])))},toolbar:(n={minHeight:56},Object(r.a)(n,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(r.a)(n,e.up("sm"),{minHeight:64}),n)},i)}var c={black:"#000",white:"#fff"},f={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},h={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},u={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},d={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},p={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},_={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},m={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=i(34),A={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:c.white,default:f[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},v={text:{primary:c.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:f[800],default:"#303030"},action:{active:c.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function y(e,t,i,r){e[t]||(e.hasOwnProperty(i)?e[t]=e[i]:"light"===t?e.light=Object(b.d)(e.main,r):"dark"===t&&(e.dark=Object(b.a)(e.main,1.5*r)))}function g(e){var t=e.primary,i=void 0===t?{light:h[300],main:h[500],dark:h[700]}:t,r=e.secondary,s=void 0===r?{light:u.A200,main:u.A400,dark:u.A700}:r,l=e.error,g=void 0===l?{light:d[300],main:d[500],dark:d[700]}:l,k=e.warning,x=void 0===k?{light:p[300],main:p[500],dark:p[700]}:k,S=e.info,T=void 0===S?{light:_[300],main:_[500],dark:_[700]}:S,w=e.success,E=void 0===w?{light:m[300],main:m[500],dark:m[700]}:w,M=e.type,P=void 0===M?"light":M,R=e.contrastThreshold,C=void 0===R?3:R,O=e.tonalOffset,I=void 0===O?.2:O,D=Object(n.a)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function F(e){if(!e)throw new TypeError("Material-UI: missing background argument in getContrastText(".concat(e,")."));return Object(b.c)(e,v.text.primary)>=C?v.text.primary:A.text.primary}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;return!(e=Object(o.a)({},e)).main&&e[t]&&(e.main=e[t]),y(e,"light",i,I),y(e,"dark",r,I),e.contrastText||(e.contrastText=F(e.main)),e}var B={dark:v,light:A};return Object(a.a)(Object(o.a)({common:c,type:P,primary:N(i),secondary:N(s,"A400","A200","A700"),error:N(g),warning:N(x),info:N(T),success:N(E),grey:f,contrastThreshold:C,getContrastText:F,augmentColor:N,tonalOffset:I},B[P]),D)}function k(e){return Math.round(1e5*e)/1e5}var x={textTransform:"uppercase"};function S(e,t){var i="function"===typeof t?t(e):t,r=i.fontFamily,s=void 0===r?'"Roboto", "Helvetica", "Arial", sans-serif':r,l=i.fontSize,c=void 0===l?14:l,f=i.fontWeightLight,h=void 0===f?300:f,u=i.fontWeightRegular,d=void 0===u?400:u,p=i.fontWeightMedium,_=void 0===p?500:p,m=i.fontWeightBold,b=void 0===m?700:m,A=i.htmlFontSize,v=void 0===A?16:A,y=i.allVariants,g=i.pxToRem,S=Object(n.a)(i,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var T=c/14,w=g||function(e){return"".concat(e/v*T,"rem")},E=function(e,t,i,r,n){return Object(o.a)({fontFamily:s,fontWeight:e,fontSize:w(t),lineHeight:i},'"Roboto", "Helvetica", "Arial", sans-serif'===s?{letterSpacing:"".concat(k(r/t),"em")}:{},{},n,{},y)},M={h1:E(h,96,1.167,-1.5),h2:E(h,60,1.2,-.5),h3:E(d,48,1.167,0),h4:E(d,34,1.235,.25),h5:E(d,24,1.334,0),h6:E(_,20,1.6,.15),subtitle1:E(d,16,1.75,.15),subtitle2:E(_,14,1.57,.1),body1:E(d,16,1.5,.15),body2:E(d,14,1.43,.15),button:E(_,14,1.75,.4,x),caption:E(d,12,1.66,.4),overline:E(d,12,2.66,1,x)};return Object(a.a)(Object(o.a)({htmlFontSize:v,pxToRem:w,round:k,fontFamily:s,fontSize:c,fontWeightLight:h,fontWeightRegular:d,fontWeightMedium:_,fontWeightBold:b},M),S,{clone:!1})}function T(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var w=["none",T(0,2,1,-1,0,1,1,0,0,1,3,0),T(0,3,1,-2,0,2,2,0,0,1,5,0),T(0,3,3,-2,0,3,4,0,0,1,8,0),T(0,2,4,-1,0,4,5,0,0,1,10,0),T(0,3,5,-1,0,5,8,0,0,1,14,0),T(0,3,5,-1,0,6,10,0,0,1,18,0),T(0,4,5,-2,0,7,10,1,0,2,16,1),T(0,5,5,-3,0,8,10,1,0,3,14,2),T(0,5,6,-3,0,9,12,1,0,3,16,2),T(0,6,6,-3,0,10,14,1,0,4,18,3),T(0,6,7,-4,0,11,15,1,0,4,20,3),T(0,7,8,-4,0,12,17,2,0,5,22,4),T(0,7,8,-4,0,13,19,2,0,5,24,4),T(0,7,9,-4,0,14,21,2,0,5,26,4),T(0,8,9,-5,0,15,22,2,0,6,28,5),T(0,8,10,-5,0,16,24,2,0,6,30,5),T(0,8,11,-5,0,17,26,2,0,6,32,5),T(0,9,11,-5,0,18,28,2,0,7,34,6),T(0,9,12,-6,0,19,29,2,0,7,36,6),T(0,10,13,-6,0,20,31,3,0,8,38,7),T(0,10,13,-6,0,21,33,3,0,8,40,7),T(0,10,14,-6,0,22,35,3,0,8,42,7),T(0,11,14,-7,0,23,36,3,0,9,44,8),T(0,11,15,-7,0,24,38,3,0,9,46,8)],E={borderRadius:4},M=i(63),P=(i(33),i(53));i(3);var R=function(e,t){return t?Object(a.a)(e,t,{clone:!1}):e},C={xs:0,sm:600,md:960,lg:1280,xl:1920},O={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(C[e],"px)")}};var I={m:"margin",p:"padding"},D={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},F={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},N=function(e){var t={};return function(i){return void 0===t[i]&&(t[i]=e(i)),t[i]}}((function(e){if(e.length>2){if(!F[e])return[e];e=F[e]}var t=e.split(""),i=Object(M.a)(t,2),r=i[0],n=i[1],a=I[r],s=D[n]||"";return Array.isArray(s)?s.map((function(e){return a+e})):[a+s]})),B=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function L(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function U(e,t){return function(i){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t)return t;var i=e(Math.abs(t));return t>=0?i:"number"===typeof i?-i:"-".concat(i)}(t,i),e}),{})}}function V(e){var t=L(e.theme);return Object.keys(e).map((function(i){if(-1===B.indexOf(i))return null;var r=U(N(i),t),n=e[i];return function(e,t,i){if(Array.isArray(t)){var r=e.theme.breakpoints||O;return t.reduce((function(e,n,a){return e[r.up(r.keys[a])]=i(t[a]),e}),{})}if("object"===Object(P.a)(t)){var n=e.theme.breakpoints||O;return Object.keys(t).reduce((function(e,r){return e[n.up(r)]=i(t[r]),e}),{})}return i(t)}(e,n,r)})).reduce(R,{})}V.propTypes={},V.filterProps=B;function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=L({spacing:e}),i=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return 0===i.length?t(1):1===i.length?t(i[0]):i.map((function(e){var i=t(e);return"number"===typeof i?"".concat(i,"px"):i})).join(" ")};return Object.defineProperty(i,"unit",{get:function(){return e}}),i.mui=!0,i}var j=i(29),W=i(59);t.a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,i=void 0===t?{}:t,r=e.mixins,o=void 0===r?{}:r,c=e.palette,f=void 0===c?{}:c,h=e.spacing,u=e.typography,d=void 0===u?{}:u,p=Object(n.a)(e,["breakpoints","mixins","palette","spacing","typography"]),_=g(f),m=Object(s.a)(i),b=z(h),A=Object(a.a)({breakpoints:m,direction:"ltr",mixins:l(m,b,o),overrides:{},palette:_,props:{},shadows:w,typography:S(_,d),spacing:b,shape:E,transitions:j.a,zIndex:W.a},p),v=arguments.length,y=new Array(v>1?v-1:0),k=1;k<v;k++)y[k-1]=arguments[k];return A=y.reduce((function(e,t){return Object(a.a)(e,t)}),A)}},function(e,t,i){"use strict";var r=i(0),n=i.n(r),a=i(3),s=i.n(a);function o(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))}function l(e,t){var i,r,n,a,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,r&&(n=2&a[0]?r.return:a[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,a[1])).done)return n;switch(r=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){s.label=a[1];break}if(6===a[0]&&s.label<n[1]){s.label=n[1],n=a;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(a);break}n[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(o){a=[6,o],r=0}finally{i=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}function c(e,t){var i="function"===typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,n,a=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(o){n={error:o}}finally{try{r&&!r.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return s}var f=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function h(e,t){var i=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var i=t.split(".").pop().toLowerCase(),r=f.get(i);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof i.path){var r=e.webkitRelativePath;Object.defineProperty(i,"path",{value:"string"===typeof t?t:"string"===typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return i}var u=[".DS_Store","Thumbs.db"];function d(e){return o(this,void 0,void 0,(function(){return l(this,(function(t){return[2,(i=e,i.dataTransfer&&e.dataTransfer?_(e.dataTransfer,e.type):p(e))];var i}))}))}function p(e){return(null!==e.target&&e.target.files?b(e.target.files):[]).map((function(e){return h(e)}))}function _(e,t){return o(this,void 0,void 0,(function(){var i;return l(this,(function(r){switch(r.label){case 0:return e.items?(i=b(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,i]:[4,Promise.all(i.map(A))]):[3,2];case 1:return[2,m(v(r.sent()))];case 2:return[2,m(b(e.files).map((function(e){return h(e)})))]}}))}))}function m(e){return e.filter((function(e){return-1===u.indexOf(e.name)}))}function b(e){for(var t=[],i=0;i<e.length;i++){var r=e[i];t.push(r)}return t}function A(e){if("function"!==typeof e.webkitGetAsEntry)return y(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?k(t):y(e)}function v(e){return e.reduce((function(e,t){return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}(e,Array.isArray(t)?v(t):[t])}),[])}function y(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var i=h(t);return Promise.resolve(i)}function g(e){return o(this,void 0,void 0,(function(){return l(this,(function(t){return[2,e.isDirectory?k(e):x(e)]}))}))}function k(e){var t=e.createReader();return new Promise((function(e,i){var r=[];!function n(){var a=this;t.readEntries((function(t){return o(a,void 0,void 0,(function(){var a,s,o;return l(this,(function(l){switch(l.label){case 0:if(t.length)return[3,5];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return a=l.sent(),e(a),[3,4];case 3:return s=l.sent(),i(s),[3,4];case 4:return[3,6];case 5:o=Promise.all(t.map(g)),r.push(o),n(),l.label=6;case 6:return[2]}}))}))}),(function(e){i(e)}))}()}))}function x(e){return o(this,void 0,void 0,(function(){return l(this,(function(t){return[2,new Promise((function(t,i){e.file((function(i){var r=h(i,e.fullPath);t(r)}),(function(e){i(e)}))}))]}))}))}var S=i(88),T=i.n(S);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var i=[],r=!0,n=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);r=!0);}catch(l){n=!0,a=l}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var E=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(t)}},M=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," bytes")}},P=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," bytes")}},R={code:"too-many-files",message:"Too many files"};function C(e,t){var i="application/x-moz-file"===e.type||T()(e,t);return[i,i?null:E(t)]}function O(e,t,i){if(I(e.size))if(I(t)&&I(i)){if(e.size>i)return[!1,M(i)];if(e.size<t)return[!1,P(t)]}else{if(I(t)&&e.size<t)return[!1,P(t)];if(I(i)&&e.size>i)return[!1,M(i)]}return[!0,null]}function I(e){return void 0!==e&&null!==e}function D(e){var t=e.files,i=e.accept,r=e.minSize,n=e.maxSize;return!(!e.multiple&&t.length>1)&&t.every((function(e){var t=w(C(e,i),1)[0],a=w(O(e,r,n),1)[0];return t&&a}))}function F(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function N(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function B(e){e.preventDefault()}function L(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function U(e){return-1!==e.indexOf("Edge/")}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return L(e)||U(e)}function z(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];return t.some((function(t){return!F(e)&&t&&t.apply(void 0,[e].concat(r)),F(e)}))}}function j(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var i=[],r=!0,n=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);r=!0);}catch(l){n=!0,a=l}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function G(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function H(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?G(i,!0).forEach((function(t){Y(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):G(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function X(e,t){if(null==e)return{};var i,r,n=function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}i.d(t,"a",(function(){return J}));var Z=Object(r.forwardRef)((function(e,t){var i=e.children,a=J(X(e,["children"])),s=a.open,o=X(a,["open"]);return Object(r.useImperativeHandle)(t,(function(){return{open:s}}),[s]),n.a.createElement(r.Fragment,null,i(H({},o,{open:s})))}));Z.displayName="Dropzone",Z.propTypes={children:s.a.func,accept:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),multiple:s.a.bool,preventDropOnDocument:s.a.bool,noClick:s.a.bool,noKeyboard:s.a.bool,noDrag:s.a.bool,noDragEventsBubbling:s.a.bool,minSize:s.a.number,maxSize:s.a.number,disabled:s.a.bool,getFilesFromEvent:s.a.func,onFileDialogCancel:s.a.func,onDragEnter:s.a.func,onDragLeave:s.a.func,onDragOver:s.a.func,onDrop:s.a.func,onDropAccepted:s.a.func,onDropRejected:s.a.func};var Q={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.accept,i=e.disabled,n=void 0!==i&&i,a=e.getFilesFromEvent,s=void 0===a?d:a,o=e.maxSize,l=void 0===o?1/0:o,c=e.minSize,f=void 0===c?0:c,h=e.multiple,u=void 0===h||h,p=e.onDragEnter,_=e.onDragLeave,m=e.onDragOver,b=e.onDrop,A=e.onDropAccepted,v=e.onDropRejected,y=e.onFileDialogCancel,g=e.preventDropOnDocument,k=void 0===g||g,x=e.noClick,S=void 0!==x&&x,T=e.noKeyboard,w=void 0!==T&&T,E=e.noDrag,M=void 0!==E&&E,P=e.noDragEventsBubbling,I=void 0!==P&&P,L=Object(r.useRef)(null),U=Object(r.useRef)(null),G=Object(r.useReducer)(q,Q),Z=W(G,2),J=Z[0],K=Z[1],$=J.isFocused,ee=J.isFileDialogActive,te=J.draggedFiles,ie=Object(r.useCallback)((function(){U.current&&(K({type:"openDialog"}),U.current.value=null,U.current.click())}),[K]),re=function(){ee&&setTimeout((function(){U.current&&(U.current.files.length||(K({type:"closeDialog"}),"function"===typeof y&&y()))}),300)};Object(r.useEffect)((function(){return window.addEventListener("focus",re,!1),function(){window.removeEventListener("focus",re,!1)}}),[U,ee,y]);var ne=Object(r.useCallback)((function(e){L.current&&L.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),ie()))}),[L,U]),ae=Object(r.useCallback)((function(){K({type:"focus"})}),[]),se=Object(r.useCallback)((function(){K({type:"blur"})}),[]),oe=Object(r.useCallback)((function(){S||(V()?setTimeout(ie,0):ie())}),[U,S]),le=Object(r.useRef)([]),ce=function(e){L.current&&L.current.contains(e.target)||(e.preventDefault(),le.current=[])};Object(r.useEffect)((function(){return k&&(document.addEventListener("dragover",B,!1),document.addEventListener("drop",ce,!1)),function(){k&&(document.removeEventListener("dragover",B),document.removeEventListener("drop",ce))}}),[L,k]);var fe=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),be(e),le.current=[].concat(j(le.current),[e.target]),N(e)&&Promise.resolve(s(e)).then((function(t){F(e)&&!I||(K({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),p&&p(e))}))}),[s,p,I]),he=Object(r.useCallback)((function(e){if(e.preventDefault(),e.persist(),be(e),e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(t){}return N(e)&&m&&m(e),!1}),[m,I]),ue=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),be(e);var t=le.current.filter((function(e){return L.current&&L.current.contains(e)})),i=t.indexOf(e.target);-1!==i&&t.splice(i,1),le.current=t,t.length>0||(K({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),N(e)&&_&&_(e))}),[L,_,I]),de=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),be(e),le.current=[],N(e)&&Promise.resolve(s(e)).then((function(i){if(!F(e)||I){var r=[],n=[];i.forEach((function(e){var i=W(C(e,t),2),a=i[0],s=i[1],o=W(O(e,f,l),2),c=o[0],h=o[1];if(a&&c)r.push(e);else{var u=[s,h].filter((function(e){return e}));n.push({file:e,errors:u})}})),!u&&r.length>1&&(r.forEach((function(e){n.push({file:e,errors:[R]})})),r.splice(0)),K({acceptedFiles:r,fileRejections:n,type:"setFiles"}),b&&b(r,n,e),n.length>0&&v&&v(n,e),r.length>0&&A&&A(r,e)}})),K({type:"reset"})}),[u,t,f,l,s,b,A,v,I]),pe=function(e){return n?null:e},_e=function(e){return w?null:pe(e)},me=function(e){return M?null:pe(e)},be=function(e){I&&e.stopPropagation()},Ae=Object(r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,i=void 0===t?"ref":t,r=e.onKeyDown,a=e.onFocus,s=e.onBlur,o=e.onClick,l=e.onDragEnter,c=e.onDragOver,f=e.onDragLeave,h=e.onDrop,u=X(e,["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return H(Y({onKeyDown:_e(z(r,ne)),onFocus:_e(z(a,ae)),onBlur:_e(z(s,se)),onClick:pe(z(o,oe)),onDragEnter:me(z(l,fe)),onDragOver:me(z(c,he)),onDragLeave:me(z(f,ue)),onDrop:me(z(h,de))},i,L),n||w?{}:{tabIndex:0},{},u)}}),[L,ne,ae,se,oe,fe,he,ue,de,w,M,n]),ve=Object(r.useCallback)((function(e){e.stopPropagation()}),[]),ye=Object(r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.refKey,r=void 0===i?"ref":i,n=e.onChange,a=e.onClick,s=X(e,["refKey","onChange","onClick"]),o=Y({accept:t,multiple:u,type:"file",style:{display:"none"},onChange:pe(z(n,de)),onClick:pe(z(a,ve)),autoComplete:"off",tabIndex:-1},r,U);return H({},o,{},s)}}),[U,t,u,de,n]),ge=te.length,ke=ge>0&&D({files:te,accept:t,minSize:f,maxSize:l,multiple:u}),xe=ge>0&&!ke;return H({},J,{isDragAccept:ke,isDragReject:xe,isFocused:$&&!n,getRootProps:Ae,getInputProps:ye,rootRef:L,inputRef:U,open:pe(ie)})}function q(e,t){switch(t.type){case"focus":return H({},e,{isFocused:!0});case"blur":return H({},e,{isFocused:!1});case"openDialog":return H({},e,{isFileDialogActive:!0});case"closeDialog":return H({},e,{isFileDialogActive:!1});case"setDraggedFiles":var i=t.isDragActive;return H({},e,{draggedFiles:t.draggedFiles,isDragActive:i});case"setFiles":return H({},e,{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return H({},e,{isFileDialogActive:!1,isDragActive:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]});default:return e}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var r=i(0),n=i.n(r),a=i(57);function s(){return n.a.useContext(a.a)}},,,function(e,t,i){(function(t,r,n,a){var s=function(){var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return e=e||t,function(t){var s="undefined"!==typeof(t=t||{})?t:{},o=!1,l=!1;function c(e){if("string"!==typeof e)return!1;var t=e.split(".");return!(t.length<2||t.length>3)&&(1==t[0]&&t[1]>=0&&t[1]<=3||!(0!=t[0]||t[1]>10))}s.onRuntimeInitialized=function(){o=!0,l&&"function"===typeof s.onModuleLoaded&&s.onModuleLoaded(s)},s.onModuleParsed=function(){l=!0,o&&"function"===typeof s.onModuleLoaded&&s.onModuleLoaded(s)},s.isVersionSupported=c;var f,h={};for(f in s)s.hasOwnProperty(f)&&(h[f]=s[f]);var u=[],d="./this.program",p=!1,_=!1,m=!1,b=!1,A=!1;p="object"===typeof window,_="function"===typeof importScripts,b="object"===typeof r&&"object"===typeof r.versions&&"string"===typeof r.versions.node,m=b&&!p&&!_,A=!p&&!m&&!_;var v,y,g,k,x="";function S(e){return s.locateFile?s.locateFile(e,x):x+e}m?(x=n+"/",v=function(e,t){var r=Xe(e);return r?t?r:r.toString():(g||(g=i(69)),k||(k=i(43)),e=k.normalize(e),g.readFileSync(e,t?null:"utf8"))},y=function(e){var t=v(e,!0);return t.buffer||(t=new Uint8Array(t)),F(t.buffer),t},r.argv.length>1&&(d=r.argv[1].replace(/\\/g,"/")),u=r.argv.slice(2),r.on("uncaughtException",(function(e){if(!(e instanceof Ui))throw e})),r.on("unhandledRejection",Ae),function(e){r.exit(e)},s.inspect=function(){return"[Emscripten Module object]"}):A?("undefined"!=typeof read&&(v=function(e){var t=Xe(e);return t?Ge(t):read(e)}),y=function(e){var t;return(t=Xe(e))?t:"function"===typeof readbuffer?new Uint8Array(readbuffer(e)):(F("object"===typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?u=scriptArgs:"undefined"!=typeof arguments&&(u=arguments),"function"===typeof quit&&function(e){quit(e)},"undefined"!==typeof print&&("undefined"===typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!==typeof printErr?printErr:print)):(p||_)&&(_?x=self.location.href:document.currentScript&&(x=document.currentScript.src),e&&(x=e),x=0!==x.indexOf("blob:")?x.substr(0,x.lastIndexOf("/")+1):"",v=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText}catch(w){var i=Xe(e);if(i)return Ge(i);throw w}},_&&(y=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}catch(w){var i=Xe(e);if(i)return i;throw w}}),function(e,t,i){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){if(200==r.status||0==r.status&&r.response)t(r.response);else{var n=Xe(e);n?t(n.buffer):i()}},r.onerror=i,r.send(null)});var T=s.print||console.log.bind(console),w=s.printErr||console.warn.bind(console);for(f in h)h.hasOwnProperty(f)&&(s[f]=h[f]);h=null,s.arguments&&(u=s.arguments),s.thisProgram&&(d=s.thisProgram),s.quit&&s.quit;var E,M=0,P=function(e){M=e},R=function(){return M};s.wasmBinary&&(E=s.wasmBinary),s.noExitRuntime&&s.noExitRuntime;var C,O={Memory:function(e){return{buffer:new ArrayBuffer(65536*e.initial),grow:function(e){return Li(e)}}},Table:function(e){var t=new Array(e.initial);return t.grow=function(e){t.length>=380&&Ae("Unable to grow wasm table. Use a higher value for RESERVED_FUNCTION_POINTERS or set ALLOW_TABLE_GROWTH."),t.push(null)},t.set=function(e,i){t[e]=i},t.get=function(e){return t[e]},t},Module:function(e){return{}},Instance:function(e,t){var i="function"===typeof r?r:function(e){var t,i,r,n,a,s,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",c=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=o.indexOf(e.charAt(c++))<<2|(n=o.indexOf(e.charAt(c++)))>>4,i=(15&n)<<4|(a=o.indexOf(e.charAt(c++)))>>2,r=(3&a)<<6|(s=o.indexOf(e.charAt(c++))),l+=String.fromCharCode(t),64!==a&&(l+=String.fromCharCode(i)),64!==s&&(l+=String.fromCharCode(r))}while(c<e.length);return l};var r=i;return{exports:function(e,t,i){var n=new ArrayBuffer(8),s=new Int32Array(n),o=new Float32Array(n),l=new Float64Array(n);function c(e){return s[e]}function f(e,t){s[e]=t}function h(){return l[0]}function u(e){l[0]=e}var d=function(e){var t=new Uint8Array(e);return function(e,i){var n,s;if("undefined"===typeof a)for(n=r(i),s=0;s<n.length;s++)t[e+s]=n.charCodeAt(s);else for(n=a.from(i,"base64"),s=0;s<n.length;s++)t[e+s]=n[s]}}(t.buffer);return d(1028,"YAQAAAEAAAACAAAATjVkcmFjbzExRW5jb2RlckJhc2VJTlNfMThFbmNvZGVyT3B0aW9uc0Jhc2VJTlNfMTdHZW9tZXRyeUF0dHJpYnV0ZTRUeXBlRUVFRUUAAAAcRwAAEAQAAGFsbG9jYXRvcjxUPjo6YWxsb2NhdGUoc2l6ZV90IG4pICduJyBleGNlZWRzIG1heGltdW0gc3VwcG9ydGVkIHNpemUAc3RvcmVfbnVtYmVyX29mX2VuY29kZWRfcG9pbnRzAHN0b3JlX251bWJlcl9vZl9lbmNvZGVkX2ZhY2Vz"),d(1264,"VAUAAAQAAAAFAAAABgAAAAcAAAAIAAAATjVkcmFjbzI4QXR0cmlidXRlT2N0YWhlZHJvblRyYW5zZm9ybUUATjVkcmFjbzE4QXR0cmlidXRlVHJhbnNmb3JtRQAcRwAALwUAAERHAAAIBQAATAUAAAAAAACoBQAACQAAAAoAAAALAAAADAAAAA0AAABONWRyYWNvMzBBdHRyaWJ1dGVRdWFudGl6YXRpb25UcmFuc2Zvcm1FAAAAAERHAAB8BQAATAUAAGFsbG9jYXRvcjxUPjo6YWxsb2NhdGUoc2l6ZV90IG4pICduJyBleGNlZWRzIG1heGltdW0gc3VwcG9ydGVkIHNpemUA/////2FsbG9jYXRvcjxUPjo6YWxsb2NhdGUoc2l6ZV90IG4pICduJyBleGNlZWRzIG1heGltdW0gc3VwcG9ydGVkIHNpemUAYWxsb2NhdG9yPFQ+OjphbGxvY2F0ZShzaXplX3QgbikgJ24nIGV4Y2VlZHMgbWF4aW11bSBzdXBwb3J0ZWQgc2l6ZQD/////AAAAAOAGAAAOAAAADwAAABAAAAARAAAAEgAAABMAAAAUAAAAFQAAABYAAAAXAAAAGAAAABIAAAAZAAAATjVkcmFjbzE3QXR0cmlidXRlc0VuY29kZXJFABxHAADEBgAAYWxsb2NhdG9yPFQ+OjphbGxvY2F0ZShzaXplX3QgbikgJ24nIGV4Y2VlZHMgbWF4aW11bSBzdXBwb3J0ZWQgc2l6ZQAAAAAAxAcAABoAAAAbAAAAEAAAABEAAAAcAAAAEwAAABQAAAAVAAAAFgAAABcAAAAdAAAAHgAAAB8AAABxdWFudGl6YXRpb25fYml0cwBxdWFudGl6YXRpb25fb3JpZ2luAHF1YW50aXphdGlvbl9yYW5nZQBONWRyYWNvMjNLZFRyZWVBdHRyaWJ1dGVzRW5jb2RlckUAAERHAAChBwAA4AYAAGFsbG9jYXRvcjxUPjo6YWxsb2NhdGUoc2l6ZV90IG4pICduJyBleGNlZWRzIG1heGltdW0gc3VwcG9ydGVkIHNpemUAZW5jb2Rpbmdfc3BlZWQAZGVjb2Rpbmdfc3BlZWQAAAAAAAAAlAgAACAAAAAhAAAAIgAAACMAAAAkAAAAJQAAACYAAAAnAAAAKAAAACkAAAAqAAAAKwAAAE41ZHJhY28yNlNlcXVlbnRpYWxBdHRyaWJ1dGVFbmNvZGVyRQAAAAAcRwAAbAgAAAAAAAAkCQAALAAAAC0AAAAuAAAALwAAADAAAAAxAAAAMgAAADMAAAA0AAAANQAAADYAAAA3AAAAOAAAADkAAAA6AAAAcXVhbnRpemF0aW9uX2JpdHMATjVkcmFjbzM3U2VxdWVudGlhbEF0dHJpYnV0ZUVuY29kZXJzQ29udHJvbGxlckUAAABERwAA8ggAAOAGAABhbGxvY2F0b3I8VD46OmFsbG9jYXRlKHNpemVfdCBuKSAnbicgZXhjZWVkcyBtYXhpbXVtIHN1cHBvcnRlZCBzaXplAAAAAAAECgAAOwAAADwAAAA9AAAAIwAAAD4AAAAlAAAAJgAAACcAAAA/AAAAKQAAACoAAABAAAAAQQAAAEIAAAB1c2VfYnVpbHRfaW5fYXR0cmlidXRlX2NvbXByZXNzaW9uAE41ZHJhY28zM1NlcXVlbnRpYWxJbnRlZ2VyQXR0cmlidXRlRW5jb2RlckUAAERHAADXCQAAlAgAAGFsbG9jYXRvcjxUPjo6YWxsb2NhdGUoc2l6ZV90IG4pICduJyBleGNlZWRzIG1heGltdW0gc3VwcG9ydGVkIHNpemUA/////wAAAADYDAAAQwAAAEQAAABFAAAARgAAAEcAAABIAAAASQAAAEoAAABLAAAATAAAAE0AAABOAAAATjVkcmFjbzQwTWVzaFByZWRpY3Rpb25TY2hlbWVQYXJhbGxlbG9ncmFtRW5jb2RlcklpTlNfMzdQcmVkaWN0aW9uU2NoZW1lV3JhcEVuY29kaW5nVHJhbnNmb3JtSWlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18yNE1lc2hBdHRyaWJ1dGVDb3JuZXJUYWJsZUVFRUVFAE41ZHJhY28yN01lc2hQcmVkaWN0aW9uU2NoZW1lRW5jb2RlcklpTlNfMzdQcmVkaWN0aW9uU2NoZW1lV3JhcEVuY29kaW5nVHJhbnNmb3JtSWlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18yNE1lc2hBdHRyaWJ1dGVDb3JuZXJUYWJsZUVFRUVFAE41ZHJhY28yM1ByZWRpY3Rpb25TY2hlbWVFbmNvZGVySWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRW5jb2RpbmdUcmFuc2Zvcm1JaWlFRUVFAE41ZHJhY28zN1ByZWRpY3Rpb25TY2hlbWVUeXBlZEVuY29kZXJJbnRlcmZhY2VJaWlFRQBONWRyYWNvMzJQcmVkaWN0aW9uU2NoZW1lRW5jb2RlckludGVyZmFjZUUATjVkcmFjbzI1UHJlZGljdGlvblNjaGVtZUludGVyZmFjZUUAHEcAAHwMAABERwAAUQwAAKAMAABERwAAHQwAAKgMAABERwAAyQsAALQMAABERwAAMwsAAMAMAABERwAAkAoAAMwMAAAAAAAAzAwAAEMAAABPAAAAEgAAAEYAAAASAAAASAAAAEkAAABKAAAASwAAAEwAAABNAAAAEgAAAAAAAADADAAAQwAAAFAAAAASAAAARgAAABIAAABIAAAASQAAAEoAAABLAAAATAAAAE0AAAASAAAAAAAAAEAOAABRAAAAUgAAAFMAAABGAAAAVAAAAEgAAABJAAAASgAAAEsAAABMAAAAVQAAAFYAAABONWRyYWNvNTZNZXNoUHJlZGljdGlvblNjaGVtZUNvbnN0cmFpbmVkTXVsdGlQYXJhbGxlbG9ncmFtRW5jb2RlcklpTlNfMzdQcmVkaWN0aW9uU2NoZW1lV3JhcEVuY29kaW5nVHJhbnNmb3JtSWlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18yNE1lc2hBdHRyaWJ1dGVDb3JuZXJUYWJsZUVFRUVFAABERwAAjA0AAMwMAAAAAAAALA8AAFcAAABYAAAAWQAAAEYAAABaAAAAWwAAAFwAAABdAAAASwAAAEwAAABeAAAAXwAAAE41ZHJhY280NE1lc2hQcmVkaWN0aW9uU2NoZW1lVGV4Q29vcmRzUG9ydGFibGVFbmNvZGVySWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRW5jb2RpbmdUcmFuc2Zvcm1JaWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUAAERHAACEDgAAzAwAAAAAAAAYEAAAYAAAAGEAAABiAAAARgAAAGMAAABkAAAAZQAAAGYAAABLAAAATAAAAGcAAABoAAAATjVkcmFjbzQyTWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxFbmNvZGVySWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRW5jb2RpbmdUcmFuc2Zvcm1JaWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUAAAAAREcAAHAPAADMDAAAAAAAAKARAABpAAAAagAAAGsAAABsAAAAbQAAAE41ZHJhY280OE1lc2hQcmVkaWN0aW9uU2NoZW1lR2VvbWV0cmljTm9ybWFsUHJlZGljdG9yQXJlYUlpTlNfMzdQcmVkaWN0aW9uU2NoZW1lV3JhcEVuY29kaW5nVHJhbnNmb3JtSWlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18yNE1lc2hBdHRyaWJ1dGVDb3JuZXJUYWJsZUVFRUVFAE41ZHJhY280OE1lc2hQcmVkaWN0aW9uU2NoZW1lR2VvbWV0cmljTm9ybWFsUHJlZGljdG9yQmFzZUlpTlNfMzdQcmVkaWN0aW9uU2NoZW1lV3JhcEVuY29kaW5nVHJhbnNmb3JtSWlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18yNE1lc2hBdHRyaWJ1dGVDb3JuZXJUYWJsZUVFRUVFAAAAHEcAAOsQAABERwAAQBAAAJgRAAAAAAAAEBMAAEMAAABuAAAAbwAAAEYAAABwAAAASAAAAEkAAABKAAAASwAAAEwAAABNAAAAcQAAAE41ZHJhY280ME1lc2hQcmVkaWN0aW9uU2NoZW1lUGFyYWxsZWxvZ3JhbUVuY29kZXJJaU5TXzM3UHJlZGljdGlvblNjaGVtZVdyYXBFbmNvZGluZ1RyYW5zZm9ybUlpaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMTFDb3JuZXJUYWJsZUVFRUVFAE41ZHJhY28yN01lc2hQcmVkaWN0aW9uU2NoZW1lRW5jb2RlcklpTlNfMzdQcmVkaWN0aW9uU2NoZW1lV3JhcEVuY29kaW5nVHJhbnNmb3JtSWlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUAAERHAAB6EgAAwAwAAERHAADkEQAABBMAAAAAAAAEEwAAQwAAAHIAAAASAAAARgAAABIAAABIAAAASQAAAEoAAABLAAAATAAAAE0AAAASAAAAAAAAADQUAABzAAAAdAAAAHUAAABGAAAAdgAAAEgAAABJAAAASgAAAEsAAABMAAAAdwAAAHgAAABONWRyYWNvNTZNZXNoUHJlZGljdGlvblNjaGVtZUNvbnN0cmFpbmVkTXVsdGlQYXJhbGxlbG9ncmFtRW5jb2RlcklpTlNfMzdQcmVkaWN0aW9uU2NoZW1lV3JhcEVuY29kaW5nVHJhbnNmb3JtSWlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUAAABERwAAjBMAAAQTAAAAAAAAFBUAAHkAAAB6AAAAewAAAEYAAAB8AAAAfQAAAH4AAAB/AAAASwAAAEwAAACAAAAAgQAAAE41ZHJhY280NE1lc2hQcmVkaWN0aW9uU2NoZW1lVGV4Q29vcmRzUG9ydGFibGVFbmNvZGVySWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRW5jb2RpbmdUcmFuc2Zvcm1JaWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzExQ29ybmVyVGFibGVFRUVFRQAAAERHAAB4FAAABBMAAAAAAADwFQAAggAAAIMAAACEAAAARgAAAIUAAACGAAAAhwAAAIgAAABLAAAATAAAAIkAAACKAAAATjVkcmFjbzQyTWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxFbmNvZGVySWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRW5jb2RpbmdUcmFuc2Zvcm1JaWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzExQ29ybmVyVGFibGVFRUVFRQBERwAAWBUAAAQTAAAAAAAAXBcAAIsAAACMAAAAjQAAAI4AAACPAAAATjVkcmFjbzQ4TWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxQcmVkaWN0b3JBcmVhSWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRW5jb2RpbmdUcmFuc2Zvcm1JaWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzExQ29ybmVyVGFibGVFRUVFRQBONWRyYWNvNDhNZXNoUHJlZGljdGlvblNjaGVtZUdlb21ldHJpY05vcm1hbFByZWRpY3RvckJhc2VJaU5TXzM3UHJlZGljdGlvblNjaGVtZVdyYXBFbmNvZGluZ1RyYW5zZm9ybUlpaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMTFDb3JuZXJUYWJsZUVFRUVFABxHAAC2FgAAREcAABgWAABUFwAAAAAAAPwXAABDAAAAkAAAAJEAAABGAAAAkgAAAEgAAABJAAAASgAAAEsAAABMAAAATQAAAJMAAABONWRyYWNvMjhQcmVkaWN0aW9uU2NoZW1lRGVsdGFFbmNvZGVySWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRW5jb2RpbmdUcmFuc2Zvcm1JaWlFRUVFAAAAAERHAACgFwAAwAwAAHF1YW50aXphdGlvbl9iaXRzAAAAAAAAAIgYAACUAAAAlQAAAJYAAAAjAAAAPgAAACUAAACXAAAAmAAAAJkAAAApAAAAKgAAAEAAAACaAAAAmwAAAE41ZHJhY28zMlNlcXVlbnRpYWxOb3JtYWxBdHRyaWJ1dGVFbmNvZGVyRQAAREcAAFwYAAAECgAAcHJlZGljdGlvbl9zY2hlbWUAAAAAAAAA0BoAAJwAAACdAAAAngAAAJ8AAACgAAAAoQAAAKIAAACjAAAApAAAAKUAAACmAAAApwAAAE41ZHJhY280ME1lc2hQcmVkaWN0aW9uU2NoZW1lUGFyYWxsZWxvZ3JhbUVuY29kZXJJaU5TXzYyUHJlZGljdGlvblNjaGVtZU5vcm1hbE9jdGFoZWRyb25DYW5vbmljYWxpemVkRW5jb2RpbmdUcmFuc2Zvcm1JaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFRUVFRQBONWRyYWNvMjdNZXNoUHJlZGljdGlvblNjaGVtZUVuY29kZXJJaU5TXzYyUHJlZGljdGlvblNjaGVtZU5vcm1hbE9jdGFoZWRyb25DYW5vbmljYWxpemVkRW5jb2RpbmdUcmFuc2Zvcm1JaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFRUVFRQBONWRyYWNvMjNQcmVkaWN0aW9uU2NoZW1lRW5jb2RlcklpTlNfNjJQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkNhbm9uaWNhbGl6ZWRFbmNvZGluZ1RyYW5zZm9ybUlpRUVFRQAAAABERwAASRoAALQMAABERwAAmxkAALgaAABERwAA4BgAAMQaAAAAAAAAxBoAAJwAAACoAAAAEgAAAJ8AAAASAAAAoQAAAKIAAACjAAAApAAAAKUAAACmAAAAEgAAAAAAAAC4GgAAnAAAAKkAAAASAAAAnwAAABIAAAChAAAAogAAAKMAAACkAAAApQAAAKYAAAASAAAAAAAAAFAcAACqAAAAqwAAAKwAAACfAAAArQAAAKEAAACiAAAAowAAAKQAAAClAAAArgAAAK8AAABONWRyYWNvNTZNZXNoUHJlZGljdGlvblNjaGVtZUNvbnN0cmFpbmVkTXVsdGlQYXJhbGxlbG9ncmFtRW5jb2RlcklpTlNfNjJQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkNhbm9uaWNhbGl6ZWRFbmNvZGluZ1RyYW5zZm9ybUlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18yNE1lc2hBdHRyaWJ1dGVDb3JuZXJUYWJsZUVFRUVFAABERwAAhBsAAMQaAAAAAAAAVB0AALAAAACxAAAAsgAAAJ8AAACzAAAAtAAAALUAAAC2AAAApAAAAKUAAAC3AAAAuAAAAE41ZHJhY280NE1lc2hQcmVkaWN0aW9uU2NoZW1lVGV4Q29vcmRzUG9ydGFibGVFbmNvZGVySWlOU182MlByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uQ2Fub25pY2FsaXplZEVuY29kaW5nVHJhbnNmb3JtSWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUAAERHAACUHAAAxBoAAAAAAABYHgAAuQAAALoAAAC7AAAAnwAAALwAAAC9AAAAvgAAAL8AAACkAAAApQAAAMAAAADBAAAATjVkcmFjbzQyTWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxFbmNvZGVySWlOU182MlByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uQ2Fub25pY2FsaXplZEVuY29kaW5nVHJhbnNmb3JtSWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUAAAAAREcAAJgdAADEGgAAAAAAABAgAADCAAAAwwAAAMQAAADFAAAAxgAAAE41ZHJhY280OE1lc2hQcmVkaWN0aW9uU2NoZW1lR2VvbWV0cmljTm9ybWFsUHJlZGljdG9yQXJlYUlpTlNfNjJQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkNhbm9uaWNhbGl6ZWRFbmNvZGluZ1RyYW5zZm9ybUlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18yNE1lc2hBdHRyaWJ1dGVDb3JuZXJUYWJsZUVFRUVFAE41ZHJhY280OE1lc2hQcmVkaWN0aW9uU2NoZW1lR2VvbWV0cmljTm9ybWFsUHJlZGljdG9yQmFzZUlpTlNfNjJQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkNhbm9uaWNhbGl6ZWRFbmNvZGluZ1RyYW5zZm9ybUlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18yNE1lc2hBdHRyaWJ1dGVDb3JuZXJUYWJsZUVFRUVFAAAAHEcAAEMfAABERwAAgB4AAAggAAAAAAAAsCEAAJwAAADHAAAAyAAAAJ8AAADJAAAAoQAAAKIAAACjAAAApAAAAKUAAACmAAAAygAAAE41ZHJhY280ME1lc2hQcmVkaWN0aW9uU2NoZW1lUGFyYWxsZWxvZ3JhbUVuY29kZXJJaU5TXzYyUHJlZGljdGlvblNjaGVtZU5vcm1hbE9jdGFoZWRyb25DYW5vbmljYWxpemVkRW5jb2RpbmdUcmFuc2Zvcm1JaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMTFDb3JuZXJUYWJsZUVFRUVFAE41ZHJhY28yN01lc2hQcmVkaWN0aW9uU2NoZW1lRW5jb2RlcklpTlNfNjJQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkNhbm9uaWNhbGl6ZWRFbmNvZGluZ1RyYW5zZm9ybUlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUAAERHAAACIQAAuBoAAERHAABUIAAApCEAAAAAAACkIQAAnAAAAMsAAAASAAAAnwAAABIAAAChAAAAogAAAKMAAACkAAAApQAAAKYAAAASAAAAAAAAAOwiAADMAAAAzQAAAM4AAACfAAAAzwAAAKEAAACiAAAAowAAAKQAAAClAAAA0AAAANEAAABONWRyYWNvNTZNZXNoUHJlZGljdGlvblNjaGVtZUNvbnN0cmFpbmVkTXVsdGlQYXJhbGxlbG9ncmFtRW5jb2RlcklpTlNfNjJQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkNhbm9uaWNhbGl6ZWRFbmNvZGluZ1RyYW5zZm9ybUlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUAAABERwAALCIAAKQhAAAAAAAA5CMAANIAAADTAAAA1AAAAJ8AAADVAAAA1gAAANcAAADYAAAApAAAAKUAAADZAAAA2gAAAE41ZHJhY280NE1lc2hQcmVkaWN0aW9uU2NoZW1lVGV4Q29vcmRzUG9ydGFibGVFbmNvZGVySWlOU182MlByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uQ2Fub25pY2FsaXplZEVuY29kaW5nVHJhbnNmb3JtSWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzExQ29ybmVyVGFibGVFRUVFRQAAAERHAAAwIwAApCEAAAAAAADYJAAA2wAAANwAAADdAAAAnwAAAN4AAADfAAAA4AAAAOEAAACkAAAApQAAAOIAAADjAAAATjVkcmFjbzQyTWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxFbmNvZGVySWlOU182MlByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uQ2Fub25pY2FsaXplZEVuY29kaW5nVHJhbnNmb3JtSWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzExQ29ybmVyVGFibGVFRUVFRQBERwAAKCQAAKQhAAAAAAAAdCYAAOQAAADlAAAA5gAAAOcAAADoAAAATjVkcmFjbzQ4TWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxQcmVkaWN0b3JBcmVhSWlOU182MlByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uQ2Fub25pY2FsaXplZEVuY29kaW5nVHJhbnNmb3JtSWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzExQ29ybmVyVGFibGVFRUVFRQBONWRyYWNvNDhNZXNoUHJlZGljdGlvblNjaGVtZUdlb21ldHJpY05vcm1hbFByZWRpY3RvckJhc2VJaU5TXzYyUHJlZGljdGlvblNjaGVtZU5vcm1hbE9jdGFoZWRyb25DYW5vbmljYWxpemVkRW5jb2RpbmdUcmFuc2Zvcm1JaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMTFDb3JuZXJUYWJsZUVFRUVFABxHAAC2JQAAREcAAAAlAABsJgAAAAAAACwnAACcAAAA6QAAAOoAAACfAAAA6wAAAKEAAACiAAAAowAAAKQAAAClAAAApgAAAOwAAABONWRyYWNvMjhQcmVkaWN0aW9uU2NoZW1lRGVsdGFFbmNvZGVySWlOU182MlByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uQ2Fub25pY2FsaXplZEVuY29kaW5nVHJhbnNmb3JtSWlFRUVFAAAAAERHAAC4JgAAuBoAAAAAAADkJwAA7QAAAO4AAADvAAAAIwAAAD4AAAAlAAAA8AAAAPEAAADyAAAAKQAAACoAAABAAAAAQQAAAPMAAABxdWFudGl6YXRpb25fYml0cwBxdWFudGl6YXRpb25fb3JpZ2luAHF1YW50aXphdGlvbl9yYW5nZQBONWRyYWNvMzhTZXF1ZW50aWFsUXVhbnRpemF0aW9uQXR0cmlidXRlRW5jb2RlckUAAABERwAAsScAAAQKAABwcmVkaWN0aW9uX3NjaGVtZQAAAAAAAABoKAAAAQAAAPQAAAD1AAAA9gAAAHF1YW50aXphdGlvbl9iaXRzAHF1YW50aXphdGlvbl9vcmlnaW4AcXVhbnRpemF0aW9uX3JhbmdlAE41ZHJhY283RW5jb2RlckUAAABERwAAVSgAAGAEAAAAAAAAuCgAAPcAAAD4AAAATjVkcmFjbzExRW5jb2RlckJhc2VJTlNfMThFbmNvZGVyT3B0aW9uc0Jhc2VJaUVFRUUAABxHAACEKAAAc3RhbmRhcmRfZWRnZWJyZWFrZXIAcHJlZGljdGl2ZV9lZGdlYnJlYWtlcgBlbmNvZGluZ19zcGVlZABkZWNvZGluZ19zcGVlZAAgAABlbmNvZGluZ19tZXRob2Q="),d(10532,"xCkAAPcAAAD5AAAASW52YWxpZCBpbnB1dCBnZW9tZXRyeS4AZW5jb2RpbmdfbWV0aG9kAHF1YW50aXphdGlvbl9iaXRzAEludmFsaWQgZW5jb2RpbmcgbWV0aG9kLgBxdWFudGl6YXRpb25fb3JpZ2luAHF1YW50aXphdGlvbl9yYW5nZQBONWRyYWNvMTNFeHBlcnRFbmNvZGVyRQAAAERHAACqKQAAuCgAAHN0YW5kYXJkX2VkZ2VicmVha2VyAHByZWRpY3RpdmVfZWRnZWJyZWFrZXIAZW5jb2Rpbmdfc3BlZWQAZGVjb2Rpbmdfc3BlZWQAYWxsb2NhdG9yPFQ+OjphbGxvY2F0ZShzaXplX3QgbikgJ24nIGV4Y2VlZHMgbWF4aW11bSBzdXBwb3J0ZWQgc2l6ZQBzeW1ib2xfZW5jb2RpbmdfbWV0aG9kAHN5bWJvbF9lbmNvZGluZ19jb21wcmVzc2lvbl9sZXZlbABhbGxvY2F0b3I8VD46OmFsbG9jYXRlKHNpemVfdCBuKSAnbicgZXhjZWVkcyBtYXhpbXVtIHN1cHBvcnRlZCBzaXplAAAAAAAAjCsAAPoAAAD7AAAA/AAAAP0AAAD+AAAA/wAAAAABAAABAQAAAgEAAAMBAAAEAQAABQEAAAYBAAAHAQAACAEAAAkBAAAKAQAACwEAAHN0YW5kYXJkX2VkZ2VicmVha2VyAHByZWRpY3RpdmVfZWRnZWJyZWFrZXIAZWRnZWJyZWFrZXJfbWV0aG9kAE41ZHJhY28yMk1lc2hFZGdlYnJlYWtlckVuY29kZXJFAERHAABrKwAAsDMAAGFsbG9jYXRvcjxUPjo6YWxsb2NhdGUoc2l6ZV90IG4pICduJyBleGNlZWRzIG1heGltdW0gc3VwcG9ydGVkIHNpemUAAAAAAHwtAAAMAQAADQEAAA4BAAAPAQAAEAEAABEBAAASAQAAEwEAABQBAAAVAQAAFgEAAHNwbGl0X21lc2hfb25fc2VhbXMAQWxsIHRyaWFuZ2xlcyBhcmUgZGVnZW5lcmF0ZS4ARmFpbGVkIHRvIHByb2Nlc3MgbWVzaCBob2xlcy4ARmFpbGVkIHRvIGluaXRpYWxpemUgYXR0cmlidXRlIGRhdGEuAEZhaWxlZCB0byBlbmNvZGUgbWVzaCBjb21wb25lbnQuAEZhaWxlZCB0byBlbmNvZGUgc3BsaXQgZGF0YS4AAAAAAADcLQAAFwEAABgBAAAZAQAAGgEAABsBAAAcAQAAHQEAAB4BAAAfAQAAIAEAACEBAABONWRyYWNvMjZNZXNoRWRnZWJyZWFrZXJFbmNvZGVySW1wbElOU18zMU1lc2hFZGdlYnJlYWtlclRyYXZlcnNhbEVuY29kZXJFRUUATjVkcmFjbzM1TWVzaEVkZ2VicmVha2VyRW5jb2RlckltcGxJbnRlcmZhY2VFAAAAHEcAAEQtAABERwAA+CwAAHQtAABONWRyYWNvMjZNZXNoRWRnZWJyZWFrZXJFbmNvZGVySW1wbElOU18zOE1lc2hFZGdlYnJlYWtlclRyYXZlcnNhbFZhbGVuY2VFbmNvZGVyRUVFAABERwAAiC0AAHQtAABhbGxvY2F0b3I8VD46OmFsbG9jYXRlKHNpemVfdCBuKSAnbicgZXhjZWVkcyBtYXhpbXVtIHN1cHBvcnRlZCBzaXplAAAAAAAcLwAAIgEAACMBAAAkAQAATjVkcmFjbzE5RGVwdGhGaXJzdFRyYXZlcnNlcklOU18yNE1lc2hBdHRyaWJ1dGVDb3JuZXJUYWJsZUVOU18zNk1lc2hBdHRyaWJ1dGVJbmRpY2VzRW5jb2RpbmdPYnNlcnZlcklTMV9FRUVFAE41ZHJhY28xM1RyYXZlcnNlckJhc2VJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFTlNfMzZNZXNoQXR0cmlidXRlSW5kaWNlc0VuY29kaW5nT2JzZXJ2ZXJJUzFfRUVFRQAcRwAArS4AAERHAABALgAAFC8AAAAAAAAULwAAJQEAACYBAAAkAQAAAAAAAAEAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAEAAAAFAAAAAgAAAAUAAAADAAAABQAAAAQAAAAAAAAARDAAACcBAAAoAQAAKQEAACoBAABONWRyYWNvMjJNZXNoVHJhdmVyc2FsU2VxdWVuY2VySU5TXzI4TWF4UHJlZGljdGlvbkRlZ3JlZVRyYXZlcnNlcklOU18xMUNvcm5lclRhYmxlRU5TXzM2TWVzaEF0dHJpYnV0ZUluZGljZXNFbmNvZGluZ09ic2VydmVySVMyX0VFRUVFRQBONWRyYWNvMTVQb2ludHNTZXF1ZW5jZXJFAAAAABxHAAAfMAAAREcAAJgvAAA8MAAA/////wAAAAA0MQAAKwEAACwBAAAtAQAATjVkcmFjbzI4TWF4UHJlZGljdGlvbkRlZ3JlZVRyYXZlcnNlcklOU18xMUNvcm5lclRhYmxlRU5TXzM2TWVzaEF0dHJpYnV0ZUluZGljZXNFbmNvZGluZ09ic2VydmVySVMxX0VFRUUATjVkcmFjbzEzVHJhdmVyc2VyQmFzZUlOU18xMUNvcm5lclRhYmxlRU5TXzM2TWVzaEF0dHJpYnV0ZUluZGljZXNFbmNvZGluZ09ic2VydmVySVMxX0VFRUUAABxHAADRMAAAREcAAGgwAAAsMQAAAAAAACwxAAAuAQAALwEAAC0BAAAAAAAA7DEAADABAAAxAQAAMgEAADMBAABONWRyYWNvMjJNZXNoVHJhdmVyc2FsU2VxdWVuY2VySU5TXzE5RGVwdGhGaXJzdFRyYXZlcnNlcklOU18xMUNvcm5lclRhYmxlRU5TXzM2TWVzaEF0dHJpYnV0ZUluZGljZXNFbmNvZGluZ09ic2VydmVySVMyX0VFRUVFRQAAAERHAABsMQAAPDAAAAAAAABsMgAANAEAADUBAAAtAQAATjVkcmFjbzE5RGVwdGhGaXJzdFRyYXZlcnNlcklOU18xMUNvcm5lclRhYmxlRU5TXzM2TWVzaEF0dHJpYnV0ZUluZGljZXNFbmNvZGluZ09ic2VydmVySVMxX0VFRUUAREcAAAwyAAAsMQAAAAAAABwzAAA2AQAANwEAADgBAAA5AQAATjVkcmFjbzIyTWVzaFRyYXZlcnNhbFNlcXVlbmNlcklOU18xOURlcHRoRmlyc3RUcmF2ZXJzZXJJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFTlNfMzZNZXNoQXR0cmlidXRlSW5kaWNlc0VuY29kaW5nT2JzZXJ2ZXJJUzJfRUVFRUVFAABERwAAkDIAADww"),d(13104,"sDMAADoBAAA7AQAA/AAAABIAAAA8AQAA/wAAAAABAAABAQAAAgEAABIAAAA9AQAABQEAABIAAAA+AQAAPwEAAEABAAASAAAAEgAAAHN0b3JlX251bWJlcl9vZl9lbmNvZGVkX2ZhY2VzAE41ZHJhY28xMU1lc2hFbmNvZGVyRQBERwAAmjMAAOg1AAAAAAAARDQAADoBAABBAQAA/AAAAEIBAAA8AQAA/wAAAAABAAABAQAAAgEAAEMBAAA9AQAABQEAAEQBAAA+AQAAPwEAAEABAABFAQAARgEAAGNvbXByZXNzX2Nvbm5lY3Rpdml0eQBONWRyYWNvMjFNZXNoU2VxdWVudGlhbEVuY29kZXJFAAAAREcAACI0AACwMwAAYWxsb2NhdG9yPFQ+OjphbGxvY2F0ZShzaXplX3QgbikgJ24nIGV4Y2VlZHMgbWF4aW11bSBzdXBwb3J0ZWQgc2l6ZQAAAAAAyDQAAEcBAABIAQAASQEAAEoBAABONWRyYWNvMTVMaW5lYXJTZXF1ZW5jZXJFAAAAREcAAKw0AAA8MAAAAAAAAOg1AAA6AQAASwEAAEwBAAASAAAAPAEAAP8AAABNAQAAAQEAAAIBAAASAAAAPQEAAAUBAAASAAAASW52YWxpZCBpbnB1dCBnZW9tZXRyeS4ARmFpbGVkIHRvIGluaXRpYWxpemUgZW5jb2Rlci4ARmFpbGVkIHRvIGVuY29kZSBpbnRlcm5hbCBkYXRhLgBGYWlsZWQgdG8gZW5jb2RlIHBvaW50IGF0dHJpYnV0ZXMuAHN0b3JlX251bWJlcl9vZl9lbmNvZGVkX3BvaW50cwBEUkFDTwBGYWlsZWQgdG8gZW5jb2RlIG1ldGFkYXRhLgBONWRyYWNvMTdQb2ludENsb3VkRW5jb2RlckUAAAAAHEcAAMk1AAAAAAAAUDYAADoBAABOAQAATAEAAE8BAAA8AQAA/wAAAFABAAABAQAAAgEAAFEBAAA9AQAABQEAAFIBAABONWRyYWNvMjNQb2ludENsb3VkS2RUcmVlRW5jb2RlckUAAABERwAALDYAAOg1AAAAAAAAwDYAADoBAABTAQAATAEAAFQBAAA8AQAA/wAAAFUBAAABAQAAAgEAAFYBAAA9AQAABQEAAFcBAABONWRyYWNvMjdQb2ludENsb3VkU2VxdWVudGlhbEVuY29kZXJFAAAAREcAAJg2AADoNQ=="),d(14052,"AQAAAFZVVVUCAAAAAAAAAAIAAACamZmZAwAAAFZVVVUDAAAAJUmSJAMAAAAAAAAAAwAAAMhxHMcEAAAAmpmZmQQAAABGF110BAAAAFZVVVUEAAAAPLETOwQAAAAlSZIkBAAAABIREREEAAAAAAAAAAQAAADi4eHhBQAAAMhxHMcFAAAAy2sorwUAAACamZmZBQAAAIdhGIYFAAAARhdddAUAAACRhSxkBQAAAFZVVVUFAAAAexSuRwUAAAA8sRM7BQAAANtLaC8FAAAAJUmSJAUAAAASlnsaBQAAABIREREFAAAAhRBCCAUAAAAAAAAABQAAAAgffPAGAAAA4uHh4QYAAADVQR3UBgAAAMhxHMcGAAAATZHPugYAAADLayivBgAAAKVBGqQGAAAAmpmZmQYAAAD6GJyPBgAAAIdhGIYGAAAAGPQFfQYAAABGF110BgAAAG3BFmwGAAAAkYUsZAYAAAC6gphcBgAAAFZVVVUGAAAAcwpeTgYAAAB7FK5HBgAAAEJBQUEGAAAAPLETOwYAAACzzyE1BgAAANtLaC8GAAAAnxLkKQYAAAAlSZIkBgAAAN1HcB8GAAAAEpZ7GgYAAAD45bEVBgAAABIREREGAAAA/BSXDAYAAACFEEIIBgAAAAVBEAQGAAAAAAAAAAYAAAD5gR/4BwAAAAgffPAHAAAAwBoT6QcAAADi4eHhBwAAAGwH5toHAAAA1UEd1AcAAACRaIXNBwAAAMhxHMcHAAAAOXDgwAcAAABNkc+6BwAAAE8b6LQHAAAAy2sorwcAAAAH9o6pBwAAAKVBGqQHAAAAUunIngcAAACamZmZBwAAAM4Pi5QHAAAA+hicjwcAAAD3kMuKBwAAAIdhGIYHAAAAgoGBgQcAAAAY9AV9BwAAABjIpHgHAAAARhdddAcAAADBBS5wBwAAAG3BFmwHAAAAaYEWaAcAAACRhSxkBwAAAAYWWGAHAAAAuoKYXAcAAAAJI+1YBwAAAFZVVVUHAAAAr37QUQcAAABzCl5OBwAAAAZq/UoHAAAAexSuRwcAAABXhm9EBwAAAEJBQUEHAAAAz8siPgcAAAA8sRM7BwAAADmBEzgHAAAAs88hNQcAAACjND4yBwAAANtLaC8HAAAA2bSfLAcAAACfEuQpBwAAAIkLNScHAAAAJUmSJAcAAAATePshBwAAAN1HcB8HAAAA22rwHAcAAAASlnsaBwAAABmBERgHAAAA+OWxFQcAAAAUgVwTBwAAABIREREHAAAAv1bPDgcAAAD8FJcMBwAAAKcQaAoHAAAAhRBCCAcAAAAw3SQGBwAAAAVBEAQHAAAAEQgEAgcAAAAAAAAABwAAACDwB/wIAAAA+YEf+AgAAADlWUb0CAAAAAgffPAIAAAAMXvA7AgAAADAGhPpCAAAAJGsc+UIAAAA4uHh4QgAAABAbl3eCAAAAGwH5toIAAAATGV71wgAAADVQR3UCAAAAPdYy9AIAAAAkWiFzQgAAABWMEvKCAAAAMhxHMcIAAAAHfD4wwgAAAA5cODACAAAAJq40r0IAAAATZHPuggAAADew9a3CAAAAE8b6LQIAAAAB2QDsggAAADLayivCAAAAK0BV6wIAAAAB/aOqQgAAABuGtCmCAAAAKVBGqQIAAAAmD9toQgAAABS6cieCAAAAO8ULZwIAAAAmpmZmQgAAACBTw6XCAAAAM4Pi5QIAAAAnrQPkggAAAD6GJyPCAAAANQYMI0IAAAA95DLiggAAAALX26ICAAAAIdhGIYIAAAArHfJgwgAAACCgYGBCAAAANFfQH8IAAAAGPQFfQgAAACPINJ6CAAAABjIpHgIAAAARM59dggAAABGF110CAAAAPWHQnIIAAAAwQUucAgAAAC1dh9uCAAAAG3BFmwIAAAAFs0TaggAAABpgRZoCAAAAKbGHmYIAAAAkYUsZAgAAABxpz9iCAAAAAYWWGAIAAAAjrt1XggAAAC6gphcCAAAALFWwFoIAAAACSPtWAgAAADG0x5XCAAAAFZVVVUIAAAAkJSQUwgAAACvftBRCAAAAFEBFVAIAAAAcwpeTggAAABziKtMCAAAAAZq/UoIAAAAPJ5TSQgAAAB7FK5HCAAAAIC8DEYIAAAAV4ZvRAgAAABeYtZCCAAAAEJBQUEIAAAA/BOwPwgAAADPyyI+CAAAAEhamTwIAAAAPLETOwgAAADCwpE5CAAAADmBEzgIAAAAPt+YNggAAACzzyE1CAAAALZFrjMIAAAAozQ+MggAAAAUkNEwCAAAANtLaC8IAAAABVwCLggAAADZtJ8sCAAAANFKQCsIAAAAnxLkKQgAAAApAYsoCAAAAIkLNScIAAAACSfiJQgAAAAlSZIkCAAAAIpnRSMIAAAAE3j7IQgAAADHcLQgCAAAAN1HcB8IAAAAtPMuHggAAADbavAcCAAAAAWktBsIAAAAEpZ7GggAAAAJOEUZCAAAABmBERgIAAAAlWjgFggAAAD45bEVCAAAAOHwhRQIAAAAFIFcEwgAAAB2jjUSCAAAABIREREIAAAAEAHvDwgAAAC/Vs8OCAAAAIkKsg0IAAAA/BSXDAgAAADDbn4LCAAAAKcQaAoIAAAAkfNTCQgAAACFEEIICAAAAKVgMgcIAAAAMN0kBggAAAB+fxkFCAAAAAVBEAQIAAAAUhsJAwgAAAARCAQCCAAAAAIBAQEIAAAAAQAAAAEAAAACAAAAAgAAAAQAAAAEAAAACAAAAAgAAAAEAAAACAAAAAEAAAAAAAAA/////2FsbG9jYXRvcjxUPjo6YWxsb2NhdGUoc2l6ZV90IG4pICduJyBleGNlZWRzIG1heGltdW0gc3VwcG9ydGVkIHNpemUAAAAAAHw/AABYAQAAWQEAAFoBAABbAQAAXAEAAF0BAABeAQAATjVkcmFjbzRNZXNoRQAAAERHAABsPwAAmEAAAGFsbG9jYXRvcjxUPjo6YWxsb2NhdGUoc2l6ZV90IG4pICduJyBleGNlZWRzIG1heGltdW0gc3VwcG9ydGVkIHNpemUA/////2FsbG9jYXRvcjxUPjo6YWxsb2NhdGUoc2l6ZV90IG4pICduJyBleGNlZWRzIG1heGltdW0gc3VwcG9ydGVkIHNpemUAYWxsb2NhdG9yPFQ+OjphbGxvY2F0ZShzaXplX3QgbikgJ24nIGV4Y2VlZHMgbWF4aW11bSBzdXBwb3J0ZWQgc2l6ZQ=="),d(16480,"mEAAAF8BAABgAQAAYQEAAGIBAABcAQAAXQEAAGMBAABONWRyYWNvMTBQb2ludENsb3VkRQAAAAAcRwAAgEAAAP////9hbGxvY2F0b3I8VD46OmFsbG9jYXRlKHNpemVfdCBuKSAnbicgZXhjZWVkcyBtYXhpbXVtIHN1cHBvcnRlZCBzaXplAC0rICAgMFgweAAobnVsbCk="),d(16640,"EQAKABEREQAAAAAFAAAAAAAACQAAAAAL"),d(16672,"EQAPChEREQMKBwABEwkLCwAACQYLAAALAAYRAAAAERER"),d(16721,"Cw=="),d(16730,"EQAKChEREQAKAAACAAkLAAAACQALAAAL"),d(16779,"DA=="),d(16791,"DAAAAAAMAAAAAAkMAAAAAAAMAAAM"),d(16837,"Dg=="),d(16849,"DQAAAAQNAAAAAAkOAAAAAAAOAAAO"),d(16895,"EA=="),d(16907,"DwAAAAAPAAAAAAkQAAAAAAAQAAAQAAASAAAAEhIS"),d(16962,"EgAAABISEgAAAAAAAAk="),d(17011,"Cw=="),d(17023,"CgAAAAAKAAAAAAkLAAAAAAALAAAL"),d(17069,"DA=="),d(17081,"DAAAAAAMAAAAAAkMAAAAAAAMAAAMAAAwMTIzNDU2Nzg5QUJDREVGLTBYKzBYIDBYLTB4KzB4IDB4AGluZgBJTkYAbmFuAE5BTgAuAAAAAJhHAABpbmZpbml0eQBuYW4="),d(17184,"0XSeAFedvSqAcFIP//8+JwoAAABkAAAA6AMAABAnAACghgEAQEIPAICWmAAA4fUFGAAAADUAAABxAAAAa////877//+Sv///"),d(17268,"AgAAAAMAAAAFAAAABwAAAAsAAAANAAAAEQAAABMAAAAXAAAAHQAAAB8AAAAlAAAAKQAAACsAAAAvAAAANQAAADsAAAA9AAAAQwAAAEcAAABJAAAATwAAAFMAAABZAAAAYQAAAGUAAABnAAAAawAAAG0AAABxAAAAfwAAAIMAAACJAAAAiwAAAJUAAACXAAAAnQAAAKMAAACnAAAArQAAALMAAAC1AAAAvwAAAMEAAADFAAAAxwAAANMAAAABAAAACwAAAA0AAAARAAAAEwAAABcAAAAdAAAAHwAAACUAAAApAAAAKwAAAC8AAAA1AAAAOwAAAD0AAABDAAAARwAAAEkAAABPAAAAUwAAAFkAAABhAAAAZQAAAGcAAABrAAAAbQAAAHEAAAB5AAAAfwAAAIMAAACJAAAAiwAAAI8AAACVAAAAlwAAAJ0AAACjAAAApwAAAKkAAACtAAAAswAAALUAAAC7AAAAvwAAAMEAAADFAAAAxwAAANE="),d(17684,"aQE="),d(17723,"//////8="),d(17792,"YWxsb2NhdG9yPFQ+OjphbGxvY2F0ZShzaXplX3QgbikgJ24nIGV4Y2VlZHMgbWF4aW11bSBzdXBwb3J0ZWQgc2l6ZQBiYXNpY19zdHJpbmcAJWQAJWYAdmVjdG9yAFB1cmUgdmlydHVhbCBmdW5jdGlvbiBjYWxsZWQhAHN0ZDo6ZXhjZXB0aW9uAAAAAAAAMEYAAGoBAABrAQAAbAEAAFN0OWV4Y2VwdGlvbgAAAAAcRwAAIEYAAAAAAABcRgAAAwAAAG0BAABuAQAAU3QxMWxvZ2ljX2Vycm9yAERHAABMRgAAMEYAAAAAAACQRgAAAwAAAG8BAABuAQAAU3QxMmxlbmd0aF9lcnJvcgAAAABERwAAfEYAAFxGAABTdDl0eXBlX2luZm8AAAAAHEcAAJxGAABOMTBfX2N4eGFiaXYxMTZfX3NoaW1fdHlwZV9pbmZvRQAAAABERwAAtEYAAKxGAABOMTBfX2N4eGFiaXYxMTdfX2NsYXNzX3R5cGVfaW5mb0UAAABERwAA5EYAANhGAAAAAAAACEcAAHABAABxAQAAcgEAAHMBAAB0AQAAdQEAAHYBAAB3AQAAAAAAAIxHAABwAQAAeAEAAHIBAABzAQAAdAEAAHkBAAB6AQAAewEAAE4xMF9fY3h4YWJpdjEyMF9fc2lfY2xhc3NfdHlwZV9pbmZvRQAAAABERwAAZEcAAAhH"),d(18328,"BQ=="),d(18340,"ZgE="),d(18364,"ZwEAAGgBAAAkSQ=="),d(18388,"Ag=="),d(18403,"//////8="),d(18660,"UEk="),function(e,t,r){var n=t.memory,a=i,l=new e.Int8Array(r),d=new e.Int16Array(r),p=new e.Int32Array(r),_=new e.Uint8Array(r),m=new e.Uint16Array(r),b=new e.Uint32Array(r),A=new e.Float32Array(r),v=new e.Float64Array(r),y=e.Math.imul,g=e.Math.fround,k=e.Math.abs,x=e.Math.clz32,S=e.Math.min,T=(e.Math.max,e.Math.floor),w=e.Math.ceil,E=(e.Math.sqrt,t.abort),M=(e.NaN,e.Infinity),P=t.__cxa_allocate_exception,R=t.__cxa_throw,C=t.fd_write,O=t.fd_close,I=t.environ_sizes_get,D=t.environ_get,F=t.abort,N=t.emscripten_resize_heap,B=t.emscripten_memcpy_big,L=t.setTempRet0,U=t.fd_seek,V=5262192,z=0;function j(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=0,b=0,A=0,v=0,y=0,g=0,k=0,x=0,S=0,T=0,w=0,M=0,P=0,R=0,C=0,O=0,I=0,D=0,F=0,N=0,B=0,L=0;V=n=V-80|0,c=-1,s=-1,-1!=(0|t)&&(c=((s=t+1|0)>>>0)%3|0?s:t+-2|0,s=t+-1|0,(t>>>0)%3||(s=t+2|0)),a=p[e+36>>2],t=p[a>>2];e:{t:{i:{r:{n:{if(a=p[a+4>>2]-t>>2,o=c<<2,c=p[p[e+32>>2]+28>>2],!(a>>>0<=(o=p[o+c>>2])>>>0)&&!(a>>>0<=(s=p[c+(s<<2)>>2])>>>0)){if(!(b=(0|(c=p[t+(o<<2)>>2]))>=(0|r))&&!((0|(o=p[t+(s<<2)>>2]))>=(0|r))){if(u=p[(4|(s=o<<3))+i>>2],t=p[(4|(a=c<<3))+i>>2],!((0|(R=p[i+s>>2]))!=(0|(m=p[i+a>>2]))|(0|t)!=(0|u))){p[e+8>>2]=m,p[e+12>>2]=t;break t}if(s=p[p[e+4>>2]+(r<<2)>>2],p[n+72>>2]=0,p[n+76>>2]=0,p[(a=n- -64|0)>>2]=0,p[a+4>>2]=0,p[n+56>>2]=0,p[n+60>>2]=0,a=p[e>>2],_[a+84|0]||(s=p[p[a+68>>2]+(s<<2)>>2]),W(a,s,l[a+24|0],n+56|0),s=p[p[e+4>>2]+(c<<2)>>2],p[n+48>>2]=0,p[n+52>>2]=0,p[n+40>>2]=0,p[n+44>>2]=0,p[n+32>>2]=0,p[n+36>>2]=0,a=p[e>>2],_[a+84|0]||(s=p[p[a+68>>2]+(s<<2)>>2]),W(a,s,l[a+24|0],n+32|0),s=p[p[e+4>>2]+(o<<2)>>2],p[n+24>>2]=0,p[n+28>>2]=0,p[n+16>>2]=0,p[n+20>>2]=0,p[n+8>>2]=0,p[n+12>>2]=0,a=p[e>>2],_[a+84|0]||(s=p[p[a+68>>2]+(s<<2)>>2]),W(a,s,l[a+24|0],n+8|0),g=p[n+44>>2],s=Bo(T=(s=p[n+16>>2])-(a=o=p[n+40>>2])|0,h=p[n+20>>2]-(g+(s>>>0<a>>>0)|0)|0,T,h),a=z,A=s,x=p[n+36>>2],d=Bo(S=(s=p[n+8>>2])-(f=p[n+32>>2])|0,y=p[n+12>>2]-(x+(s>>>0<f>>>0)|0)|0,S,y),a=z+a|0,a=(s=A+d|0)>>>0<d>>>0?a+1|0:a,v=s,A=p[n+52>>2],d=Bo(P=(s=p[n+24>>2])-(d=M=p[n+48>>2])|0,k=p[n+28>>2]-(A+(s>>>0<d>>>0)|0)|0,P,k),a=z+a|0,v=s=v+d|0,s|(d=s>>>0<d>>>0?a+1|0:a)){if(c=1,s=0,a=Bo(b=(a=p[n+64>>2])-o|0,C=p[n+68>>2]-((a>>>0<o>>>0)+g|0)|0,T,h),w=z,o=a,f=Bo(g=(a=p[n+56>>2])-f|0,I=p[n+60>>2]-((a>>>0<f>>>0)+x|0)|0,S,y),a=z+w|0,a=(o=o+f|0)>>>0<f>>>0?a+1|0:a,O=o,f=Bo(x=(o=p[n+72>>2])-M|0,w=p[n+76>>2]-((o>>>0<M>>>0)+A|0)|0,P,k),a=z+a|0,A=o=O+f|0,o=o>>>0<f>>>0?a+1|0:a,f=t,a=Bo(A,o,O=(a=u)-t|0,D=(a>>31)-((t>>=31)+(a>>>0<f>>>0)|0)|0),u=z,t=(f=Bo(v,d,f,t))+a|0,a=z+u|0,a=t>>>0<f>>>0?a+1|0:a,f=t,M=a,t=Bo(A,o,F=(t=R)-(a=m)|0,N=(t>>31)-((m=a>>31)+(t>>>0<a>>>0)|0)|0),u=z,a=(m=Bo(v,d,a,m))+t|0,t=z+u|0,t=a>>>0<m>>>0?t+1|0:t,m=a,R=t,t=Lo(Bo(T,h,A,o),z,v,d),a=C-(z+(b>>>0<t>>>0)|0)|0,t=Bo(t=b-t|0,a,t,a),u=z,b=t,t=Lo(Bo(S,y,A,o),z,v,d),a=I-(z+(g>>>0<t>>>0)|0)|0,h=Bo(t=g-t|0,a,t,a),a=z+u|0,a=(t=b+h|0)>>>0<h>>>0?a+1|0:a,h=t,t=Lo(Bo(A,o,P,k),z,v,d),o=w-(z+(x>>>0<t>>>0)|0)|0,u=Bo(t=x-t|0,o,t,o),t=z+a|0,o=Bo(o=h+u|0,o>>>0<u>>>0?t+1|0:t,v,d),u=t=z,!t&o>>>0<=1|t>>>0<0)break n;for(h=o,a=u;t=s<<1|c>>>31,c<<=1,s=t,y=!a&h>>>0>7|a>>>0>0,h=(3&a)<<30|h>>>2,a>>>=2,y;);break r}}if(a=e,b){if((0|r)<=0){p[e+8>>2]=0,p[e+12>>2]=0;break t}t=(r<<1)-2|0}else t=c<<1;t=(t<<2)+i|0,p[a+8>>2]=p[t>>2],p[e+12>>2]=p[t+4>>2];break t}vo(),E()}if(c=o,s=u,o-1)break i}for(;t=Uo(o,u,c,s)+c|0,a=s+z|0,t=Bo(c=(1&(a=t>>>0<c>>>0?a+1|0:a))<<31|t>>>1,s=a>>>1,c,s),(0|u)==(0|(a=z))&t>>>0>o>>>0|a>>>0>u>>>0;);}if(o=e+16|0,x=(g=p[e+24>>2])<<5,t=p[e+20>>2],u=a=p[(4|(b=r<<3))+i>>2],r=Lo(f-(h=A=Bo(c,s,F,N))|0,M-((T=z)+(f>>>0<h>>>0)|0)|0,v,d),k=(y=a>>31)-(z+(a>>>0<(h=r)>>>0)|0)|0,S=Bo(a=a-h|0,k,a,k),P=z,k=a=p[i+b>>2],h=a,b=i=a>>31,C=i,s=Bo(c,s,O,D),a=R+(w=z)|0,(c=(i=m)+s|0)>>>0<i>>>0&&(a=a+1|0),c=Lo(c,a,v,d),a=C-(z+(h>>>0<(i=c)>>>0)|0)|0,h=Bo(i=h-i|0,a,i,a),a=z+P|0,S=i=h+S|0,h=i>>>0<h>>>0?a+1|0:a,a=T+M|0,(i=f+A|0)>>>0<f>>>0&&(a=a+1|0),i=Lo(i,a,v,d),f=y-(z+(u>>>0<(a=i)>>>0)|0)|0,a=Bo(a=u-a|0,f,a,f),y=z,s=Lo(m-s|0,R-((m>>>0<s>>>0)+w|0)|0,v,d),u=a,f=b-(z+(k>>>0<(a=s)>>>0)|0)|0,m=Bo(a=k-a|0,f,a,f),a=z+y|0,(0|(a=(f=u+m|0)>>>0<m>>>0?a+1|0:a))==(0|h)&S>>>0<f>>>0|h>>>0<a>>>0){if((0|t)==(0|x)){if((t+1|0)<=-1)break e;Lr(o,t=t>>>0<=1073741822?(i=g<<6)>>>0<(t=t+32&-32)>>>0?t:i:2147483647),t=p[e+20>>2]}p[e+20>>2]=t+1,i=p[e+16>>2]+(t>>>3&536870908)|0,p[i>>2]=p[i>>2]|1<<(31&t)}else{if((0|t)==(0|x)){if((t+1|0)<=-1)break e;Lr(o,t=t>>>0<=1073741822?(r=g<<6)>>>0<(t=t+32&-32)>>>0?t:r:2147483647),t=p[e+20>>2]}p[e+20>>2]=t+1,r=p[e+16>>2]+(t>>>3&536870908)|0,c=p[r>>2],B=r,L=zo(-2,t)&c,p[B>>2]=L,r=i,c=s}p[e+8>>2]=c,p[e+12>>2]=r}return void(V=n+80|0)}Ao(),E()}function W(e,t,i,r){var n=0,a=0,s=0,o=0,c=g(0),f=0,h=0;e:{t:if(r&&!((n=p[e+28>>2]+-1|0)>>>0>10)){i:{r:{n:switch(n-1|0){default:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(s=p[p[e>>2]>>2])+(n=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;n=(a<<3)+r|0,o=l[0|t],p[n>>2]=o,p[n+4>>2]=o>>31,t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 0:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(s=p[p[e>>2]>>2])+(n=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;p[(n=(a<<3)+r|0)>>2]=_[0|t],p[n+4>>2]=0,t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 1:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(s=p[p[e>>2]>>2])+(n=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;n=(a<<3)+r|0,o=d[t>>1],p[n>>2]=o,p[n+4>>2]=o>>31,t=t+2|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 2:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(s=p[p[e>>2]>>2])+(n=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;p[(n=(a<<3)+r|0)>>2]=m[t>>1],p[n+4>>2]=0,t=t+2|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 3:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(s=p[p[e>>2]>>2])+(n=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;n=(a<<3)+r|0,o=p[t>>2],p[n>>2]=o,p[n+4>>2]=o>>31,t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 4:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(s=p[p[e>>2]>>2])+(n=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;p[(n=(a<<3)+r|0)>>2]=p[t>>2],p[n+4>>2]=0,t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 5:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(s=p[p[e>>2]>>2])+(n=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;o=p[t+4>>2],p[(n=(a<<3)+r|0)>>2]=p[t>>2],p[n+4>>2]=o,t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 6:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(s=p[p[e>>2]>>2])+(n=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;o=p[t+4>>2],p[(n=(a<<3)+r|0)>>2]=p[t>>2],p[n+4>>2]=o,t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 7:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24<1)break i;for(t=(s=p[p[e>>2]>>2])+(n=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;s=n=(a<<3)+r|0,c=A[t>>2],g(k(c))<g(0x8000000000000000)?(o=g(k(c))>=g(1)?c>g(0)?~~g(S(g(T(g(c/g(4294967296)))),g(4294967296)))>>>0:~~g(w(g(g(c-g(~~c>>>0>>>0))/g(4294967296))))>>>0:0,h=~~c>>>0):(o=-2147483648,h=0),p[s>>2]=h,p[n+4>>2]=o,t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);break i;case 8:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24<1)break r;for(t=(s=p[p[e>>2]>>2])+(n=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;s=n=(a<<3)+r|0,f=v[t>>3],k(f)<0x8000000000000000?(o=k(f)>=1?f>0?~~S(T(f/4294967296),4294967295)>>>0:~~w((f-+(~~f>>>0>>>0))/4294967296)>>>0:0,h=~~f>>>0):(o=-2147483648,h=0),p[s>>2]=h,p[n+4>>2]=o,t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);break r;case 9:break n}if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(s=p[p[e>>2]>>2])+(n=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;p[(n=(a<<3)+r|0)>>2]=_[0|t],p[n+4>>2]=0,t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;Do((n<<3)+r|0,0,i-n<<3);break t}if((0|n)>=(0|i))break t;break e}(0|n)>=(0|i)||Do((n<<3)+r|0,0,i-n<<3)}return}Do((n<<3)+r|0,0,i-n<<3)}function G(e){return 0,6}function H(e){return!p[(e|=0)- -64>>2]|!p[e+68>>2]|!p[e+44>>2]|!p[e+48>>2]||!p[e+52>>2]?0:0!=p[e+56>>2]|0}function Y(e,t){e|=0;var i=0;return p[(t|=0)+56>>2]|3!=_[t+24|0]||(p[e- -64>>2]=t,i=1),0|i}function X(e,t){e|=0,t|=0;var i,r,n=0,a=0;return V=i=V-16|0,p[i+12>>2]=p[e+12>>2],n=r=p[t+20>>2],a=p[t+16>>2],((0|r)<0||(0|r)<=0&&!(a>>>0>0))&&(Yt(t,p[t+4>>2],i+12|0,i+16|0),a=p[t+16>>2],n=p[t+20>>2]),p[i+8>>2]=p[e+16>>2],((0|n)<0||(0|n)<=0&&!(a>>>0>0))&&Yt(t,p[t+4>>2],i+8|0,i+12|0),ke(e+108|0,t),V=i+16|0,1}function Z(e,t,i){t|=0,i|=0;var r,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=0,b=0,A=0,v=0,y=0,g=0,k=0,x=0,S=0,T=0,w=0,M=0,P=0,R=0,C=0,O=0;V=r=V-96|0,n=p[(e|=0)+16>>2],l[r+92|0]=1,p[r+88>>2]=t,p[r+84>>2]=t,p[r+80>>2]=n,s=p[e+20>>2],a=p[s>>2];e:{t:{i:{r:{if(n=p[p[n+28>>2]+(t<<2)>>2],p[s+4>>2]-a>>2>>>0>n>>>0){if(n=p[p[e+8>>2]+(p[a+(n<<2)>>2]<<2)>>2],a=p[e+4>>2],_[a+84|0]||(n=p[p[a+68>>2]+(n<<2)>>2]),p[r+72>>2]=0,p[r+76>>2]=0,p[(s=r- -64|0)>>2]=0,p[s+4>>2]=0,p[r+56>>2]=0,p[r+60>>2]=0,W(a,n,l[a+24|0],r+56|0),-1==(0|t))break e;for(s=((n=t+1|0)>>>0)%3|0?n:t+-2|0,v=((t>>>0)%3|0?-1:2)+t|0,o=!p[(w=e+28|0)>>2],M=e+20|0,P=e+16|0,R=e+8|0;;){if(a=s,n=v,o||(a=((n=t+1|0)>>>0)%3|0?n:t+-2|0,n=t+-1|0,(t>>>0)%3||(n=t+2|0)),o=p[M>>2],t=p[o>>2],a=p[p[p[P>>2]+28>>2]+(a<<2)>>2],p[o+4>>2]-t>>2>>>0<=a>>>0)break r;if(a=p[p[R>>2]+(p[t+(a<<2)>>2]<<2)>>2],t=p[(o=e+4|0)>>2],_[t+84|0]||(a=p[p[t+68>>2]+(a<<2)>>2]),p[r+48>>2]=0,p[r+52>>2]=0,p[r+40>>2]=0,p[r+44>>2]=0,p[r+32>>2]=0,p[r+36>>2]=0,W(t,a,l[t+24|0],r+32|0),a=p[M>>2],t=p[a>>2],n=p[p[p[P>>2]+28>>2]+(n<<2)>>2],p[a+4>>2]-t>>2>>>0<=n>>>0)break i;if(a=p[p[R>>2]+(p[t+(n<<2)>>2]<<2)>>2],t=p[o>>2],_[t+84|0]||(a=p[p[t+68>>2]+(a<<2)>>2]),p[(n=o=r+24|0)>>2]=0,p[n+4>>2]=0,p[(n=h=r+16|0)>>2]=0,p[n+4>>2]=0,p[r+8>>2]=0,p[r+12>>2]=0,W(t,a,l[t+24|0],r+8|0),y=(n=p[r+8>>2])-(t=p[r+56>>2])|0,g=p[r+60>>2],a=p[r+12>>2]-(g+(n>>>0<t>>>0)|0)|0,C=(k=p[r+40>>2])-(n=p[r+64>>2])|0,x=p[r+68>>2],T=c-(S=Bo(y,a,C,k=p[r+44>>2]-(x+(k>>>0<n>>>0)|0)|0))|0,u=u-(z+(c>>>0<S>>>0)|0)|0,n=Bo(S=(c=p[h>>2])-n|0,h=p[h+4>>2]-((c>>>0<n>>>0)+x|0)|0,x=(c=p[r+32>>2])-t|0,g=p[r+36>>2]-((c>>>0<t>>>0)+g|0)|0),t=z+u|0,u=t=(c=n+T|0)>>>0<n>>>0?t+1|0:t,n=f,m=y,O=a,a=(f=p[r+48>>2])-(t=p[r+72>>2])|0,y=p[r+76>>2],f=n+(m=Bo(m,O,a,T=p[r+52>>2]-(y+(f>>>0<t>>>0)|0)|0))|0,n=z+b|0,n=f>>>0<m>>>0?n+1|0:n,f=(b=f)-(o=Bo(m=(f=p[o>>2])-t|0,t=p[o+4>>2]-((f>>>0<t>>>0)+y|0)|0,x,g))|0,b=n-(z+(b>>>0<o>>>0)|0)|0,a=d-(n=Bo(S,h,a,T))|0,A=A-(z+(d>>>0<n>>>0)|0)|0,n=Bo(m,t,C,k),t=z+A|0,A=t=(d=n+a|0)>>>0<n>>>0?t+1|0:t,J(r+80|0),o=!(h=p[w>>2]),-1==(0|(t=p[r+88>>2])))break}n=(t=b)>>31,t=(e=t>>31)+t|0,(s=n+f|0)>>>0<n>>>0&&(t=t+1|0),n^=s,o=e^t,s=e=(t=A)>>31,v=A+e|0,(a=(t>>=31)+d|0)>>>0<t>>>0&&(v=v+1|0),e=t^a,a=s^v;n:{if((0|u)<-1||(0|u)<=-1&&!(c>>>0>4294967295)){if(s=e+(n-(t=c)|0)|0,t=a+(o-((n>>>0<t>>>0)+u|0)|0)|0,e=(n=s)>>>0<e>>>0?t+1|0:t,!h)break n;break t}if(t=o+u|0,(s=(s=n)+(n=c)|0)>>>0<n>>>0&&(t=t+1|0),n=e,e=t+a|0,e=(s=n+s|0)>>>0<n>>>0?e+1|0:e,n=s,h)break t}if((0|n)<536870913)break e;c=Lo(c,u,e=7&((536870911&e)<<3|n>>>29),t=0),f=Lo(f,b,e,t),d=Lo(d,A,e,t);break e}vo(),E()}vo(),E()}vo(),E()}(0|e)<0||(0|e)<=0&&!(n>>>0>=536870913)||(t=e>>>29,c=Lo(c,u,e=(536870911&e)<<3|n>>>29,t),f=Lo(f,b,e,t),d=Lo(d,A,e,t))}p[i+8>>2]=c,p[i+4>>2]=f,p[i>>2]=d,V=r+96|0}function Q(e,t){return e|=0,(t|=0)>>>0<=1?(p[e+28>>2]=t,e=1):e=0,0|e}function J(e){var t=0,i=0,r=0;t=p[e+8>>2],r=p[e>>2];e:{if(_[e+12|0]){t:{if(-1==(0|t)||-1==(0|(t=((i=t+1|0)>>>0)%3|0?i:t+-2|0))|p[p[r>>2]+(t>>>3&536870908)>>2]>>>(31&t)&1||-1==(0|(t=p[p[p[r+64>>2]+12>>2]+(t<<2)>>2])))p[e+8>>2]=-1;else if(t=((i=t+1|0)>>>0)%3|0?i:t+-2|0,p[e+8>>2]=t,-1!=(0|t))break t;return t=-1,-1!=(0|(i=p[e+4>>2]))&&(-1==(0|(i=i+((i>>>0)%3|0?-1:2)|0))|p[p[r>>2]+(i>>>3&536870908)>>2]>>>(31&i)&1||-1!=(0|(r=p[p[p[r+64>>2]+12>>2]+(i<<2)>>2]))&&(t=(r>>>0)%3?r+-1|0:r+2|0)),l[e+12|0]=0,void(p[e+8>>2]=t)}if((0|t)!=p[e+4>>2])break e;return void(p[e+8>>2]=-1)}i=-1,-1!=(0|t)&&(-1==(0|(t=t+((t>>>0)%3|0?-1:2)|0))|p[p[r>>2]+(t>>>3&536870908)>>2]>>>(31&t)&1||-1!=(0|(t=p[p[p[r+64>>2]+12>>2]+(t<<2)>>2]))&&(i=(t>>>0)%3?t+-1|0:t+2|0)),p[e+8>>2]=i}}function q(e){var t=0;return p[(e|=0)>>2]=4956,(t=p[e+152>>2])&&(p[e+156>>2]=t,Mo(t)),(t=p[e+112>>2])&&(p[e+116>>2]=t,Mo(t)),(t=p[e+96>>2])&&Mo(t),(t=p[e+84>>2])&&Mo(t),(t=p[e+72>>2])&&Mo(t),(t=p[e+60>>2])&&Mo(t),p[e>>2]=3364,(t=p[e+32>>2])&&(p[e+36>>2]=t,Mo(t)),0|e}function K(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=0,b=0,A=0,v=0,y=0,g=0,k=0,x=0,S=0,T=0,w=0,M=0,P=0,R=0,C=0,O=0,I=0,D=0,F=0,N=0,B=0,L=0;V=n=V-80|0,o=-1,s=-1,-1!=(0|t)&&(a=((t>>>0)%3|0?-1:2)+t|0,c=p[e+32>>2],-1!=(0|(t=((u=t+1|0)>>>0)%3|0?u:t+-2|0))&&(o=p[p[c>>2]+(t<<2)>>2]),-1!=(0|a)&&(s=p[p[c>>2]+(a<<2)>>2])),a=p[e+36>>2],t=p[a>>2];e:{t:{i:{r:{n:{if(!((a=p[a+4>>2]-t>>2)>>>0<=o>>>0|a>>>0<=s>>>0)){if(!(k=(0|(m=p[t+(o<<2)>>2]))>=(0|r))&&!((0|(a=p[t+(s<<2)>>2]))>=(0|r))){if(u=p[(4|(o=a<<3))+i>>2],t=p[(4|(s=m<<3))+i>>2],!((0|(R=p[i+o>>2]))!=(0|(d=p[i+s>>2]))|(0|t)!=(0|u))){p[e+8>>2]=d,p[e+12>>2]=t;break t}if(o=p[p[e+4>>2]+(r<<2)>>2],p[n+72>>2]=0,p[n+76>>2]=0,p[(s=n- -64|0)>>2]=0,p[s+4>>2]=0,p[n+56>>2]=0,p[n+60>>2]=0,s=p[e>>2],_[s+84|0]||(o=p[p[s+68>>2]+(o<<2)>>2]),W(s,o,l[s+24|0],n+56|0),o=p[p[e+4>>2]+(m<<2)>>2],p[n+48>>2]=0,p[n+52>>2]=0,p[n+40>>2]=0,p[n+44>>2]=0,p[n+32>>2]=0,p[n+36>>2]=0,s=p[e>>2],_[s+84|0]||(o=p[p[s+68>>2]+(o<<2)>>2]),W(s,o,l[s+24|0],n+32|0),o=p[p[e+4>>2]+(a<<2)>>2],p[n+24>>2]=0,p[n+28>>2]=0,p[n+16>>2]=0,p[n+20>>2]=0,p[n+8>>2]=0,p[n+12>>2]=0,s=p[e>>2],_[s+84|0]||(o=p[p[s+68>>2]+(o<<2)>>2]),W(s,o,l[s+24|0],n+8|0),y=p[n+44>>2],o=Bo(w=(o=p[n+16>>2])-(s=c=p[n+40>>2])|0,h=p[n+20>>2]-(y+(o>>>0<s>>>0)|0)|0,w,h),s=z,S=o,A=p[n+36>>2],b=Bo(T=(o=p[n+8>>2])-(a=f=p[n+32>>2])|0,g=p[n+12>>2]-(A+(o>>>0<a>>>0)|0)|0,T,g),a=z+s|0,a=(o=S+b|0)>>>0<b>>>0?a+1|0:a,v=o,M=p[n+52>>2],s=Bo(P=(o=p[n+24>>2])-(s=S=p[n+48>>2])|0,x=p[n+28>>2]-(M+(o>>>0<s>>>0)|0)|0,P,x),a=z+a|0,v=o=v+s|0,o|(b=o>>>0<s>>>0?a+1|0:a)){if(s=1,o=0,a=Bo(m=(a=p[n+64>>2])-c|0,C=p[n+68>>2]-((a>>>0<c>>>0)+y|0)|0,w,h),y=z,c=a,f=Bo(k=(a=p[n+56>>2])-f|0,O=p[n+60>>2]-((a>>>0<f>>>0)+A|0)|0,T,g),a=z+y|0,a=(c=c+f|0)>>>0<f>>>0?a+1|0:a,A=c,f=Bo(y=(c=p[n+72>>2])-S|0,M=p[n+76>>2]-((c>>>0<S>>>0)+M|0)|0,P,x),a=z+a|0,A=c=A+f|0,c=c>>>0<f>>>0?a+1|0:a,f=t,a=Bo(A,c,I=(a=u)-t|0,D=(a>>31)-((t>>=31)+(a>>>0<f>>>0)|0)|0),u=z,t=(f=Bo(v,b,f,t))+a|0,a=z+u|0,a=t>>>0<f>>>0?a+1|0:a,f=t,S=a,t=Bo(A,c,F=(t=R)-(a=d)|0,N=(t>>31)-((d=a>>31)+(t>>>0<a>>>0)|0)|0),u=z,a=(d=Bo(v,b,a,d))+t|0,t=z+u|0,t=a>>>0<d>>>0?t+1|0:t,d=a,R=t,t=Lo(Bo(w,h,A,c),z,v,b),a=C-(z+(m>>>0<t>>>0)|0)|0,t=Bo(t=m-t|0,a,t,a),u=z,m=t,t=Lo(Bo(T,g,A,c),z,v,b),a=O-(z+(k>>>0<t>>>0)|0)|0,h=Bo(t=k-t|0,a,t,a),a=z+u|0,a=(t=m+h|0)>>>0<h>>>0?a+1|0:a,h=t,t=Lo(Bo(A,c,P,x),z,v,b),c=M-(z+(y>>>0<t>>>0)|0)|0,u=Bo(t=y-t|0,c,t,c),t=z+a|0,c=Bo(c=h+u|0,c>>>0<u>>>0?t+1|0:t,v,b),u=t=z,!t&c>>>0<=1|t>>>0<0)break n;for(h=c,a=u;t=o<<1|s>>>31,s<<=1,o=t,g=!a&h>>>0>7|a>>>0>0,h=(3&a)<<30|h>>>2,a>>>=2,g;);break r}}if(a=e,k){if((0|r)<=0){p[e+8>>2]=0,p[e+12>>2]=0;break t}t=(r<<1)-2|0}else t=m<<1;t=(t<<2)+i|0,p[a+8>>2]=p[t>>2],p[e+12>>2]=p[t+4>>2];break t}vo(),E()}if(o=u,(s=c)-1)break i}for(;t=Uo(c,u,s,o)+s|0,a=o+z|0,t=Bo(s=(1&(a=t>>>0<s>>>0?a+1|0:a))<<31|t>>>1,o=a>>>1,s,o),(0|u)==(0|(a=z))&t>>>0>c>>>0|a>>>0>u>>>0;);}if(c=e+16|0,y=(k=p[e+24>>2])<<5,t=p[e+20>>2],u=a=p[(4|(m=r<<3))+i>>2],r=Lo(f-(h=A=Bo(s,o,F,N))|0,S-((w=z)+(f>>>0<h>>>0)|0)|0,v,b),x=(g=a>>31)-(z+(a>>>0<(h=r)>>>0)|0)|0,T=Bo(a=a-h|0,x,a,x),P=z,x=a=p[i+m>>2],h=a,m=i=a>>31,M=i,o=Bo(s,o,I,D),a=R+(C=z)|0,(s=(i=d)+o|0)>>>0<i>>>0&&(a=a+1|0),h=Bo(i=h-(s=Lo(s,a,v,b))|0,a=M-(z+(h>>>0<s>>>0)|0)|0,i,a),a=z+P|0,T=i=h+T|0,h=i>>>0<h>>>0?a+1|0:a,a=w+S|0,(i=f+A|0)>>>0<f>>>0&&(a=a+1|0),i=Lo(i,a,v,b),f=g-(z+(u>>>0<(a=i)>>>0)|0)|0,a=Bo(a=u-a|0,f,a,f),g=z,o=Lo(d-o|0,R-((d>>>0<o>>>0)+C|0)|0,v,b),u=a,f=m-(z+(x>>>0<(a=o)>>>0)|0)|0,d=Bo(a=x-a|0,f,a,f),a=z+g|0,(0|(a=(f=u+d|0)>>>0<d>>>0?a+1|0:a))==(0|h)&T>>>0<f>>>0|h>>>0<a>>>0){if((0|t)==(0|y)){if((t+1|0)<=-1)break e;Lr(c,t=t>>>0<=1073741822?(i=k<<6)>>>0<(t=t+32&-32)>>>0?t:i:2147483647),t=p[e+20>>2]}p[e+20>>2]=t+1,i=p[e+16>>2]+(t>>>3&536870908)|0,p[i>>2]=p[i>>2]|1<<(31&t)}else{if((0|t)==(0|y)){if((t+1|0)<=-1)break e;Lr(c,t=t>>>0<=1073741822?(r=k<<6)>>>0<(t=t+32&-32)>>>0?t:r:2147483647),t=p[e+20>>2]}p[e+20>>2]=t+1,r=p[e+16>>2]+(t>>>3&536870908)|0,s=p[r>>2],B=r,L=zo(-2,t)&s,p[B>>2]=L,r=i,s=o}p[e+8>>2]=s,p[e+12>>2]=r}return void(V=n+80|0)}Ao(),E()}function $(e,t,i){t|=0,i|=0;var r,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=0,b=0,A=0,v=0,y=0,g=0,k=0,x=0,S=0,T=0,w=0,M=0,P=0,R=0,C=0,O=0;V=r=V-96|0,a=p[(e|=0)+16>>2],l[r+92|0]=1,p[r+88>>2]=t,p[r+84>>2]=t,p[r+80>>2]=a,n=-1,n=-1!=(0|t)?p[p[a>>2]+(t<<2)>>2]:n,s=p[e+20>>2],a=p[s>>2];e:{t:{i:{r:{if(p[s+4>>2]-a>>2>>>0>n>>>0){if(a=p[p[e+8>>2]+(p[a+(n<<2)>>2]<<2)>>2],n=p[e+4>>2],_[n+84|0]||(a=p[p[n+68>>2]+(a<<2)>>2]),p[r+72>>2]=0,p[r+76>>2]=0,p[(s=r- -64|0)>>2]=0,p[s+4>>2]=0,p[r+56>>2]=0,p[r+60>>2]=0,W(n,a,l[n+24|0],r+56|0),-1==(0|t))break e;for(s=((n=t+1|0)>>>0)%3|0?n:t+-2|0,v=((t>>>0)%3|0?-1:2)+t|0,o=!p[(w=e+28|0)>>2],M=e+20|0,P=e+8|0,R=r+48|0;;){if(a=s,n=v,o||(a=((n=t+1|0)>>>0)%3|0?n:t+-2|0,n=t+-1|0,(t>>>0)%3||(n=t+2|0)),t=-1,t=-1!=(0|a)?p[p[p[e+16>>2]>>2]+(a<<2)>>2]:t,o=p[M>>2],a=p[o>>2],p[o+4>>2]-a>>2>>>0<=t>>>0)break r;if(a=p[p[P>>2]+(p[a+(t<<2)>>2]<<2)>>2],t=p[(o=e+4|0)>>2],_[t+84|0]||(a=p[p[t+68>>2]+(a<<2)>>2]),p[R>>2]=0,p[R+4>>2]=0,p[r+40>>2]=0,p[r+44>>2]=0,p[r+32>>2]=0,p[r+36>>2]=0,W(t,a,l[t+24|0],r+32|0),t=-1,t=-1!=(0|n)?p[p[p[e+16>>2]>>2]+(n<<2)>>2]:t,a=p[M>>2],n=p[a>>2],p[a+4>>2]-n>>2>>>0<=t>>>0)break i;if(n=p[p[P>>2]+(p[n+(t<<2)>>2]<<2)>>2],t=p[o>>2],_[t+84|0]||(n=p[p[t+68>>2]+(n<<2)>>2]),p[(a=r+24|0)>>2]=0,p[a+4>>2]=0,p[(o=r+16|0)>>2]=0,p[o+4>>2]=0,p[r+8>>2]=0,p[r+12>>2]=0,W(t,n,l[t+24|0],r+8|0),y=(n=p[r+8>>2])-(t=p[r+56>>2])|0,g=p[r+60>>2],h=p[r+12>>2]-(g+(n>>>0<t>>>0)|0)|0,C=(k=p[r+40>>2])-(n=p[r+64>>2])|0,x=p[r+68>>2],T=c-(S=Bo(y,h,C,k=p[r+44>>2]-(x+(k>>>0<n>>>0)|0)|0))|0,u=u-(z+(c>>>0<S>>>0)|0)|0,n=Bo(S=(c=p[o>>2])-n|0,o=p[o+4>>2]-((c>>>0<n>>>0)+x|0)|0,x=(c=p[r+32>>2])-t|0,g=p[r+36>>2]-((c>>>0<t>>>0)+g|0)|0),t=z+u|0,u=t=(c=n+T|0)>>>0<n>>>0?t+1|0:t,n=f,m=y,O=h,h=(f=p[r+48>>2])-(t=p[r+72>>2])|0,y=p[r+76>>2],f=n+(m=Bo(m,O,h,T=p[r+52>>2]-(y+(f>>>0<t>>>0)|0)|0))|0,n=z+b|0,n=f>>>0<m>>>0?n+1|0:n,f=(b=f)-(a=Bo(m=(f=p[a>>2])-t|0,t=p[a+4>>2]-((f>>>0<t>>>0)+y|0)|0,x,g))|0,b=n-(z+(b>>>0<a>>>0)|0)|0,a=d-(n=Bo(S,o,h,T))|0,A=A-(z+(d>>>0<n>>>0)|0)|0,n=Bo(m,t,C,k),t=z+A|0,A=t=(d=n+a|0)>>>0<n>>>0?t+1|0:t,ee(r+80|0),o=!(h=p[w>>2]),-1==(0|(t=p[r+88>>2])))break}n=(t=b)>>31,t=(e=t>>31)+t|0,(s=n+f|0)>>>0<n>>>0&&(t=t+1|0),n^=s,o=e^t,s=e=(t=A)>>31,v=A+e|0,(a=(t>>=31)+d|0)>>>0<t>>>0&&(v=v+1|0),e=t^a,a=s^v;n:{if((0|u)<-1||(0|u)<=-1&&!(c>>>0>4294967295)){if(s=e+(n-(t=c)|0)|0,t=a+(o-((n>>>0<t>>>0)+u|0)|0)|0,e=(n=s)>>>0<e>>>0?t+1|0:t,!h)break n;break t}if(t=o+u|0,(s=(s=n)+(n=c)|0)>>>0<n>>>0&&(t=t+1|0),n=e,e=t+a|0,e=(s=n+s|0)>>>0<n>>>0?e+1|0:e,n=s,h)break t}if((0|n)<536870913)break e;c=Lo(c,u,e=7&((536870911&e)<<3|n>>>29),t=0),f=Lo(f,b,e,t),d=Lo(d,A,e,t);break e}vo(),E()}vo(),E()}vo(),E()}(0|e)<0||(0|e)<=0&&!(n>>>0>=536870913)||(t=e>>>29,c=Lo(c,u,e=(536870911&e)<<3|n>>>29,t),f=Lo(f,b,e,t),d=Lo(d,A,e,t))}p[i+8>>2]=c,p[i+4>>2]=f,p[i>>2]=d,V=r+96|0}function ee(e){var t,i=0,r=0;i=p[e+8>>2],t=p[e>>2];e:{if(_[e+12|0]){t:{if(-1!=(0|i)&&-1!=(0|(i=((r=i+1|0)>>>0)%3|0?r:i+-2|0))&&-1!=(0|(i=p[p[t+12>>2]+(i<<2)>>2]))){if(i=((r=i+1|0)>>>0)%3|0?r:i+-2|0,p[e+8>>2]=i,-1!=(0|i))break t}else p[e+8>>2]=-1;return i=-1,-1!=(0|(r=p[e+4>>2]))&&(i=-1,-1!=(0|(r=r+((r>>>0)%3|0?-1:2)|0))&&(i=-1,-1!=(0|(r=p[p[t+12>>2]+(r<<2)>>2]))&&(i=r+-1|0,(r>>>0)%3||(i=r+2|0)))),l[e+12|0]=0,void(p[e+8>>2]=i)}if((0|i)!=p[e+4>>2])break e;return void(p[e+8>>2]=-1)}r=-1,-1!=(0|i)&&(r=-1,-1!=(0|(i=i+((i>>>0)%3|0?-1:2)|0))&&(r=-1,-1!=(0|(i=p[p[t+12>>2]+(i<<2)>>2]))&&(r=i+-1|0,(i>>>0)%3||(r=i+2|0)))),p[e+8>>2]=r}}function te(e){return 0,3}function ie(e){var t=0;return!p[(e|=0)+32>>2]|!p[e+24>>2]|!p[e+28>>2]||(t=0!=p[e+36>>2]),0|t}function re(e,t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0;if(n=p[(l=t+12|0)>>2],a=p[i+4>>2]-n|0,p[i>>2]=p[i>>2]-n,p[i+4>>2]=a,a=s=p[r+4>>2]-n|0,n=p[r>>2]-n|0,p[r>>2]=n,p[r+4>>2]=a,((o=(a>>=31)+s^a)+((a=n>>31)+n^a)|0)>(0|(l=p[l>>2]))){n=p[i+4>>2];e:{t:{if((0|(c=p[i>>2]))>=0){if(s=1,a=1,(0|n)>-1)break e;if(o=1,s=-1,a=-1,(0|c)>=1)break t;break e}if(o=-1,s=-1,a=-1,(0|n)<1)break e}s=(0|n)<1?-1:1,a=o}n=(n<<1)-(f=y(s,l))|0,p[i+4>>2]=n,o=(c<<1)-(l=y(a,l))|0,p[i>>2]=o,(0|y(a,s))>=0?(n=0-n|0,p[i>>2]=n,o=0-o|0):p[i>>2]=n,p[i+4>>2]=(o+f|0)/2,p[i>>2]=(n+l|0)/2,n=p[r+4>>2];e:{t:{if((0|(l=p[r>>2]))>=0){if(s=1,o=1,(0|n)>-1)break e;if(a=1,s=-1,o=-1,(0|l)>=1)break t;break e}if(a=-1,s=-1,o=-1,(0|n)<1)break e}s=(0|n)<1?-1:1,o=a}a=p[t+12>>2],n=(n<<1)-(c=y(a,s))|0,p[r+4>>2]=n,a=(f=l<<1)-(l=y(a,o))|0,p[r>>2]=a,(0|y(s,o))>=0?(n=0-n|0,p[r>>2]=n,a=0-a|0):p[r>>2]=n,s=(a+c|0)/2|0,p[r+4>>2]=s,n=(n+l|0)/2|0,p[r>>2]=n}o=r;e:{t:{i:{r:{n:{a:{s:{if(!n){if(!s)break e;if((0|s)<1)break s;break r}if((0|s)<1&&(0|n)<=-1)break e;if((0|n)<1)break n;if((0|s)>-1)break a}a=0-p[i>>2]|0,p[i>>2]=p[i+4>>2],p[i+4>>2]=a,n=p[r+4>>2],s=0-p[r>>2]|0;break t}s=0-p[i+4>>2]|0,p[i>>2]=0-p[i>>2],p[i+4>>2]=s,n=0-p[r>>2]|0,s=0-p[r+4>>2]|0;break t}if((0|s)<=0)break i}a=p[i>>2],p[i>>2]=0-p[i+4>>2],p[i+4>>2]=a,n=0-p[r+4>>2]|0,s=p[r>>2];break t}n=p[r>>2],s=p[r+4>>2]}p[o>>2]=n,p[o+4>>2]=s}r=p[i>>2]-n|0,p[e>>2]=r,i=p[i+4>>2]-s|0,p[e+4>>2]=i,a=e,(0|r)<=-1&&(r=r+p[t+4>>2]|0),p[a>>2]=r,(0|i)<=-1&&(i=i+p[t+4>>2]|0),p[e+4>>2]=i}function ne(e,t){e|=0,t|=0;var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0;for(V=i=V-32|0,o=1;;){if(s=y(r,12)+e|0,Ki(p[(n=s+44|0)>>2],t),r=r+1|0,p[n>>2]){if(ve(a=me(i)),(0|(n=p[n>>2]-r|0))>=0)for(c=s+40|0;;){for(s=0;l=n+s|0,ye(a,p[p[c>>2]+(l>>>3&536870908)>>2]>>>(31&l)&1),(0|o)!=(0|(s=s+1|0)););if(!((0|(n=n-r|0))>=0))break}ke(a,t),be(a)}if(o=o+1|0,4==(0|r))break}return p[i>>2]=p[e+12>>2],r=o=p[t+20>>2],a=p[t+16>>2],((0|r)<0||(0|r)<=0&&!(a>>>0>0))&&(Yt(t,p[t+4>>2],i,i+4|0),a=p[t+16>>2],r=p[t+20>>2]),p[i>>2]=p[e+20>>2],((0|r)<0||(0|r)<=0&&!(a>>>0>0))&&Yt(t,p[t+4>>2],i,i+4|0),V=i+32|0,1}function ae(e){return!p[(e|=0)+40>>2]|!p[e+24>>2]|!p[e+28>>2]|!p[e+32>>2]?0:0!=p[e+36>>2]|0}function se(e,t){e|=0;var i=0;return p[(t|=0)+56>>2]|3!=_[t+24|0]||(p[e+40>>2]=t,i=1),0|i}function oe(e,t){e|=0,t|=0;var i,r=0,n=0,a=0;if(V=i=V-48|0,p[i+40>>2]=p[e+60>>2],((0|(a=p[t+20>>2]))<0||(0|a)<=0&&!(b[t+16>>2]>0))&&Yt(t,p[t+4>>2],i+40|0,i+44|0),ve(a=me(i+8|0)),p[i+40>>2]>=1)for(r=1;ye(a,1&(r^(r=p[p[e+56>>2]+(n>>>3&536870908)>>2]>>>(31&n))^-1)),r&=1,(0|(n=n+1|0))<p[i+40>>2];);return ke(a,t),p[i+44>>2]=p[e+12>>2],n=r=p[t+20>>2],r=p[t+16>>2],((0|n)<0||(0|n)<=0&&!(r>>>0>0))&&(Yt(t,p[t+4>>2],i+44|0,i+48|0),r=p[t+16>>2],n=p[t+20>>2]),p[i+44>>2]=p[e+20>>2],((0|n)<0||(0|n)<=0&&!(r>>>0>0))&&Yt(t,p[t+4>>2],i+44|0,i+48|0),be(a),V=i+48|0,1}function le(e){return!p[(e|=0)+44>>2]|!p[e+48>>2]|!p[e+24>>2]|!p[e+28>>2]||!p[e+32>>2]?0:0!=p[e+36>>2]|0}function ce(e,t){e|=0;var i=0;return p[(t|=0)+56>>2]|3!=_[t+24|0]||(p[e+44>>2]=t,i=1),0|i}function fe(e,t){e|=0,t|=0;var i,r,n=0,a=0;return V=i=V-16|0,p[i+12>>2]=p[e+12>>2],n=r=p[t+20>>2],a=p[t+16>>2],((0|r)<0||(0|r)<=0&&!(a>>>0>0))&&(Yt(t,p[t+4>>2],i+12|0,i+16|0),a=p[t+16>>2],n=p[t+20>>2]),p[i+8>>2]=p[e+20>>2],((0|n)<0||(0|n)<=0&&!(a>>>0>0))&&Yt(t,p[t+4>>2],i+8|0,i+12|0),ke(e+88|0,t),V=i+16|0,1}function he(e,t){var i=0;e:if(!((0|or(p[t+48>>2]))>9)&&1==(0|a[p[p[t>>2]+8>>2]](t))){if(e=p[p[p[t+4>>2]+8>>2]+(e<<2)>>2],3==(0|(i=p[e+56>>2]))){if(i=5,(0|or(p[t+48>>2]))<4)break e;i=p[e+56>>2]}if(e=or(p[t+48>>2]),1!=(0|i)){if(i=0,!((0|e)>7)&&(i=1,!((0|or(p[t+48>>2]))>1)))return b[p[t+4>>2]+80>>2]<40?1:4}else i=(0|e)<4?6:0}return i}function ue(e){p[e>>2]=0,p[e+4>>2]=0,p[e+16>>2]=0,p[e+8>>2]=0,p[e+12>>2]=0}function de(e){var t;p[e+12>>2]=0,p[e+16>>2]=0,t=e+4|0,e=p[e>>2],p[t>>2]=e,e&&(p[t>>2]=e,Mo(e))}function pe(e){p[e+12>>2]=0,p[e+16>>2]=0,p[e+4>>2]=p[e>>2]}function _e(e,t){var i,r=0,n=0,a=0;V=i=V-16|0,(0|(n=p[(r=e+4|0)>>2]))==p[e+8>>2]?(Er(e,e+12|0),r=p[r>>2]):(p[n>>2]=p[e+12>>2],a=r,r=n+4|0,p[a>>2]=r),a=r,r=p[e>>2],p[i+12>>2]=a-r,(0|(n=p[t+20>>2]))>0||(0|n)>=0&&!(b[t+16>>2]<=0)||(Yt(t,p[(n=t+4|0)>>2],i+12|0,i+16|0),r=p[e>>2],(0|(a=p[t+20>>2]))>0||(0|a)>=0&&!(b[t+16>>2]<=0)||(Yt(t,p[n>>2],r,p[i+12>>2]+r|0),r=p[e>>2])),p[e+12>>2]=0,p[e+16>>2]=0,p[e+4>>2]=r,V=i+16|0}function me(e){return p[e>>2]=0,p[e+4>>2]=0,p[e+24>>2]=0,p[e+28>>2]=0,p[e+16>>2]=0,p[e+20>>2]=0,p[e+8>>2]=0,p[e+12>>2]=0,e}function be(e){var t,i,r=0;return V=t=V-16|0,p[t+8>>2]=0,p[t+12>>2]=0,Ae(e,t+8|0),p[e+24>>2]=0,p[e+28>>2]=0,i=e+16|0,r=p[e+12>>2],p[i>>2]=r,r&&(p[i>>2]=r,Mo(r)),(r=p[e>>2])&&(p[e+4>>2]=r,Mo(r)),V=t+16|0,e}function Ae(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;if(n=2,(i=p[e+8>>2])-(r=p[e>>2])>>3>>>0>=2){if(n=(s=(a=p[e+4>>2])-r>>3)>>>0<2?s:2)for(i=r;o=p[t+4>>2],p[i>>2]=p[t>>2],p[i+4>>2]=o,i=i+8|0,n=n+-1|0;);if(s>>>0<2){for(i=2-s|0;r=p[t+4>>2],p[a>>2]=p[t>>2],p[a+4>>2]=r,a=a+8|0,i=i+-1|0;);return void(p[e+4>>2]=a)}p[e+4>>2]=r+16}else if(r&&(p[e+4>>2]=r,Mo(r),p[e+8>>2]=0,p[e>>2]=0,p[e+4>>2]=0,i=0),r=i>>2,(r=i>>3>>>0<268435455?r>>>0<2?2:r:536870911)>>>0<536870912){for(i=oo(r<<=3),p[e>>2]=i,p[e+4>>2]=i,p[e+8>>2]=i+r;r=p[t+4>>2],p[i>>2]=p[t>>2],p[i+4>>2]=r,i=i+8|0,n=n+-1|0;);p[e+4>>2]=i}else Ao(),E()}function ve(e){var t;V=t=V-16|0,p[t+8>>2]=0,p[t+12>>2]=0,Ae(e,t+8|0),p[e+24>>2]=0,p[e+28>>2]=0,p[e+16>>2]=p[e+12>>2],V=t+16|0}function ye(e,t){var i=0,r=0,n=0;i=p[e>>2],t?(t=i,n=i,r=p[i+12>>2],(i=p[i+8>>2]+1|0)>>>0<1&&(r=r+1|0),p[n+8>>2]=i,p[t+12>>2]=r,t=p[e+28>>2],p[e+24>>2]=p[e+24>>2]|1<<t):(t=i,n=i,r=p[i+4>>2],(i=p[i>>2]+1|0)>>>0<1&&(r=r+1|0),p[n>>2]=i,p[t+4>>2]=r,t=p[e+28>>2]),t=t+1|0,p[e+28>>2]=t,32==(0|t)&&((0|(t=p[(i=e+16|0)>>2]))==p[e+20>>2]?Er(e+12|0,e+24|0):(p[t>>2]=p[e+24>>2],p[i>>2]=t+4),p[e+24>>2]=0,p[e+28>>2]=0)}function ge(e,t,i){var r,n,a,s=0,o=0,l=0,c=0,f=0;l=o=p[e>>2],a=o,s=p[o+12>>2],f=p[o+8>>2],r=32-t|0,c=zo((i=(i=(i=i>>>1&1431655765|i<<1&-1431655766)>>>2&858993459|i<<2&-858993460)>>>4&252645135|i<<4&-252645136)>>>8&16711935|i<<8&-16711936,16)>>>r,(f=f+(i=n=y(((i=((i=c-(c>>>1&1431655765)|0)>>>2&858993459)+(858993459&i)|0)>>>4)+i&252645135,16843009)>>>24)|0)>>>0<i>>>0&&(s=s+1|0),p[a+8>>2]=f,p[l+12>>2]=s,s=(l=t-n|0)+p[(i=o)>>2]|0,o=p[i+4>>2]+(l>>31)|0,p[i>>2]=s,p[i+4>>2]=s>>>0<l>>>0?o+1|0:o,o=e+24|0;e:{if((0|(s=32-(i=p[e+28>>2])|0))>=(0|t)){if(t=t+i|0,p[e+28>>2]=t,s=-1>>>r<<i,i=p[e+24>>2]&(-1^s)|s&c<<i,p[e+24>>2]=i,32!=(0|t))break e;(0|(t=p[(c=e+16|0)>>2]))==p[e+20>>2]?Er(e+12|0,o):(p[t>>2]=i,p[c>>2]=t+4),t=0,i=0}else l=p[e+24>>2]&(-1<<i^-1)|c<<i,p[e+24>>2]=l,(0|(i=p[e+16>>2]))==p[e+20>>2]?Er(e+12|0,o):(p[i>>2]=l,p[e+16>>2]=i+4),i=-1>>>32-(t=t-s|0)&c>>>s;p[e+28>>2]=t,p[e+24>>2]=i}}function ke(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=0;V=i=V-32|0,c=i,n=p[e>>2],f=+((s=p[n>>2])>>>0)+4294967296*+((r=p[n+4>>2])>>>0),r=p[n+12>>2]+r|0,(s=(n=p[n+8>>2])+s|0)>>>0<n>>>0&&(r=r+1|0),a=!(255&(a=(r=(f=f/(+(((n=!(r|s))?1:s)>>>0)+4294967296*+((n?0:r)>>>0))*256+.5)<4294967296&f>=0?~~f>>>0:0)>>>0<255?r:255))+a|0,l[c+23|0]=a,r=p[e+16>>2],n=p[e+12>>2],p[i+16>>2]=0,p[i+8>>2]=0,p[i+12>>2]=0;e:{t:{if(n=(r-n<<1)- -64|0){if((0|n)<=-1)break t;for(r=oo(n),p[i+8>>2]=r,p[i+12>>2]=r,p[i+16>>2]=n+r;l[0|r]=0,r=p[i+12>>2]+1|0,p[i+12>>2]=r,n=n+-1|0;);h=p[i+8>>2]}if((0|(r=p[e+28>>2]+-1|0))<0){n=4096;break e}for(n=4096;;){if(s=0-a|0,n>>>0>=(a=255&((u=p[e+24>>2]&1<<r)?s:a))<<12>>>0&&(l[o+h|0]=n,o=o+1|0,n>>>=8),c=256-a|0,Bo(p[(a<<=3)+14032>>2],0,n,0),n=((u?0:255&s)+n|0)+y(c,z+n>>>p[a+14036>>2])|0,(0|(r=r+-1|0))<0)break e;a=_[i+23|0]}}Ao(),E()}if((0|(s=p[e+16>>2]))!=p[e+12>>2])for(;;){for(u=p[(s=s+-4|0)>>2],a=31;d=0-(r=_[i+23|0])|0,c=r,n>>>0>=(a=255&((m=1<<(r=a)&u)?d:c))<<12>>>0&&(l[o+h|0]=n,o=o+1|0,n>>>=8),c=256-a|0,Bo(p[(a<<=3)+14032>>2],0,n,0),n=((m?0:255&d)+n|0)+y(c,z+n>>>p[a+14036>>2])|0,a=r+-1|0,r;);if(p[e+12>>2]==(0|s))break}e:{if((r=n+-4096|0)>>>0<=63)n=o+h|0,a=1;else if(r>>>0<=16383)r=n+12288|0,l[0|(a=o+h|0)]=r,n=a+1|0,r>>>=8,a=2;else{if(r>>>0>4194303)break e;r=n+8384512|0,l[0|(a=o+h|0)]=r,l[a+1|0]=r>>>8,n=a+2|0,r>>>=16,a=3}l[0|n]=r,o=a+o|0}((0|(a=p[t+20>>2]))<0||(0|a)<=0&&!(b[t+16>>2]>0))&&Yt(t,p[t+4>>2],i+23|0,i+24|0),Ki(o,t),((0|(a=p[t+20>>2]))<0||(0|a)<=0&&!(b[t+16>>2]>0))&&Yt(r=t,a=p[t+4>>2],t=p[i+8>>2],t+o|0),p[i+24>>2]=0,p[i+28>>2]=0,Ae(e,i+24|0),p[e+24>>2]=0,p[e+28>>2]=0,p[e+16>>2]=p[e+12>>2],(e=p[i+8>>2])&&(p[i+12>>2]=e,Mo(e)),V=i+32|0}function xe(e,t,i,r){e|=0,t|=0,r|=0;var n,a;V=n=V-96|0,a=Be(n+40|0,i|=0),Se(n,t,i),ze(a,n),_t(n+24|0,p[n+28>>2]),Te(n+12|0,p[n+16>>2]),_t(n,p[n+4>>2]),Ve(e,a,r),p[a>>2]=10364,_t(a+28|0,p[a+32>>2]),Te(a+16|0,p[a+20>>2]),_t(a+4|0,p[a+8>>2]),V=n+96|0}function Se(e,t,i){var r,n,a=0,s=0,o=0,l=0;if(V=r=V-16|0,s=ha(e),p[(a=e+16|0)>>2]=0,p[a+4>>2]=0,p[e+12>>2]=a,a=ha(e+24|0),(0|(o=s))!=(0|(s=t+4|0))&&we(e,p[s>>2],t+8|0),(0|(s=t+28|0))!=(0|a)&&we(a,p[s>>2],t+32|0),a=0,p[r+12>>2]=0,n=i+12|0,o=p[i+8>>2],(p[n>>2]-o|0)>=1)for(s=t+20|0;;){if(t=p[s>>2]){for(l=p[p[(a<<2)+o>>2]+56>>2],a=s;a=(o=p[t+16>>2]<(0|l))?a:t,t=p[(o<<2)+t>>2];);(0|a)==(0|s)|(0|l)<p[a+16>>2]||(0|(t=Ee(e,r+12|0)))!=(a+20|0)&&we(t,p[a+20>>2],a+24|0)}if(a=p[r+12>>2]+1|0,p[r+12>>2]=a,o=p[i+8>>2],!((0|a)<p[n>>2]-o>>2))break}V=r+16|0}function Te(e,t){t&&(Te(e,p[t>>2]),Te(e,p[t+4>>2]),_t(t+20|0,p[t+24>>2]),Mo(t))}function we(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0;if(p[e+8>>2]&&(n=p[e>>2],o=e+4|0,p[e>>2]=o,p[p[o>>2]+8>>2]=0,p[o>>2]=0,p[o+4>>2]=0,n=(r=p[n+4>>2])||n))for(h=e+8|0;;){a=n,l=t;e:{if((0|t)!=(0|i)){uo(r=a+16|0,l+16|0),uo(a+28|0,l+28|0);t:if(n=p[a+8>>2])if((0|a)!=(0|(t=p[n>>2]))){if(p[n+4>>2]=0,t)for(;n=t,(t=p[t>>2])||(t=p[n+4>>2]););}else{if(p[n>>2]=0,!(t=p[n+4>>2]))break t;for(;n=t,(t=p[t>>2])||(t=p[n+4>>2]););}else n=0;if(!(t=p[o>>2])){r=t=o;break e}for(f=p[r>>2],s=r,f=(c=(r=_[a+27|0])<<24>>24<0)?f:s,c=c?p[a+20>>2]:r;;){t:{i:{r:{if(!((u=(s=(r=(s=_[t+27|0])<<24>>24<0)?p[t+20>>2]:s)>>>0<c>>>0?s:c)&&(d=t+16|0,r=bs(f,r?p[d>>2]:d,u)))){if(c>>>0<s>>>0)break r;break i}if((0|r)>-1)break i}if(r=p[t>>2])break t;r=t;break e}if(!(r=p[t+4>>2])){r=t+4|0;break e}}t=r}}for(;t=p[a+8>>2];)a=t;return void _t(e,a)}p[a+8>>2]=t,p[a>>2]=0,p[a+4>>2]=0,p[r>>2]=a,(t=p[p[e>>2]>>2])&&(p[e>>2]=t,a=p[r>>2]),Ce(p[o>>2],a),p[h>>2]=p[h>>2]+1;e:if(r=p[l+4>>2])for(;r=p[(t=r)>>2];);else{if(t=p[l+8>>2],p[t>>2]==(0|l))break e;for(r=l+8|0;r=(a=p[r>>2])+8|0,t=p[a+8>>2],(0|a)!=p[t>>2];);}if(!n)break}if((0|t)!=(0|i))for(;;){n=t,Oe(e,t+16|0);e:if(r=p[t+4>>2])for(;r=p[(t=r)>>2];);else{if(t=p[n+8>>2],(0|n)==p[t>>2])break e;for(r=n+8|0;r=(n=p[r>>2])+8|0,t=p[n+8>>2],(0|n)!=p[t>>2];);}if((0|t)==(0|i))break}}function Ee(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0;V=i=V-32|0;e:{if(n=p[(a=e+16|0)>>2]){for(o=p[t>>2],r=a;r=(s=p[n+16>>2]<(0|o))?r:n,n=p[(s<<2)+n>>2];);if((0|r)!=(0|a)&&(0|o)>=p[r+16>>2])break e}if(o=ha(i+16|0),t=p[t>>2],p[(s=i+8|0)>>2]=0,p[s+4>>2]=0,p[i>>2]=t,p[i+4>>2]=s,(0|(r=p[o>>2]))!=(0|(l=o+4|0)))for(c=4|i;;){t=r,Ie(c,s,n=r+16|0,n);t:if(n=p[r+4>>2])for(;n=p[(r=n)>>2];);else{if(r=p[t+8>>2],(0|t)==p[r>>2])break t;for(t=t+8|0;t=(n=p[t>>2])+8|0,r=p[n+8>>2],(0|n)!=p[r>>2];);}if((0|r)==(0|l))break}t:{if(n=p[(t=e+16|0)>>2])for(a=p[i>>2];;){i:{if((0|a)<(0|(r=p[n+16>>2]))){if(r=p[n>>2])break i;t=n;break t}if((0|r)>=(0|a))break t;if(t=n+4|0,!(r=p[n+4>>2]))break t;n=t}t=n,n=r}t=n=a}(r=p[t>>2])||(r=oo(32),p[r+16>>2]=p[i>>2],p[r+20>>2]=p[i+4>>2],a=r+24|0,l=p[i+8>>2],p[a>>2]=l,c=p[i+12>>2],p[r+28>>2]=c,c?(p[l+8>>2]=a,p[i+8>>2]=0,p[i+12>>2]=0,p[i+4>>2]=s):p[r+20>>2]=a,p[r+8>>2]=n,p[r>>2]=0,p[r+4>>2]=0,p[t>>2]=r,n=r,(a=p[p[e+12>>2]>>2])&&(p[e+12>>2]=a,n=p[t>>2]),Ce(p[e+16>>2],n),p[(e=e+20|0)>>2]=p[e>>2]+1),_t(4|i,p[i+8>>2]),_t(o,p[o+4>>2])}return V=i+32|0,r+20|0}function Me(e,t,i,r){e|=0,t|=0,r|=0;var n,a;V=n=V-96|0,a=Ue(n+40|0,i|=0),Se(n,t,i),ze(a,n),_t(n+24|0,p[n+28>>2]),Te(n+12|0,p[n+16>>2]),_t(n,p[n+4>>2]),Ve(e,a,r),p[e>>2]||(l[e+15|0]<=-1&&Mo(p[e+4>>2]),p[t+40>>2]=p[a+40>>2],p[t+44>>2]=p[a+44>>2],p[e+8>>2]=0,p[e+12>>2]=0,p[e>>2]=0,p[e+4>>2]=0),p[a>>2]=10364,_t(a+28|0,p[a+32>>2]),Te(a+16|0,p[a+20>>2]),_t(a+4|0,p[a+8>>2]),V=n+96|0}function Pe(e,t,i,r){var n,a=0,s=0,o=0;if(V=n=V-48|0,p[n+24>>2]=0,p[n+16>>2]=0,p[n+20>>2]=0,(0|r)>=1)for(;a&&_o(n+16|0,10506,As(10506)),bo(n,A[(a<<2)+i>>2]),_o(n+16|0,(o=(s=_[n+11|0])<<24>>24<0)?p[n>>2]:n,o?p[n+4>>2]:s),l[n+11|0]<=-1&&Mo(p[n>>2]),(0|(a=a+1|0))!=(0|r););p[n+40>>2]=t,Ne(n,e,t,n+40|0),uo(p[n>>2]+28|0,n+16|0),l[n+27|0]<0&&Mo(p[n+16>>2]),V=n+48|0}function Re(e){p[(e|=0)>>2]=10364,_t(e+28|0,p[e+32>>2]),Te(e+16|0,p[e+20>>2]),_t(e+4|0,p[e+8>>2]),Mo(e)}function Ce(e,t){var i=0,r=0,n=0;i=(0|e)==(0|t),l[t+12|0]=i;e:if(!i)for(;;){if(r=p[t+8>>2],_[r+12|0])break e;t:{if(i=p[r+8>>2],(0|(n=p[i>>2]))==(0|r)){if(!(!(n=p[i+4>>2])|_[n+12|0]))break t;return p[r>>2]!=(0|t)?(t=p[r+4>>2],n=p[t>>2],p[r+4>>2]=n,e=t,n&&(p[n+8>>2]=r,i=p[r+8>>2]),p[e+8>>2]=i,e=p[r+8>>2],p[((0|r)==p[e>>2]?e:e+4|0)>>2]=t,p[t>>2]=r,p[r+8>>2]=t,i=p[t+8>>2]):t=r,l[t+12|0]=1,l[i+12|0]=0,e=p[i>>2],t=p[e+4>>2],p[i>>2]=t,t&&(p[t+8>>2]=i),p[e+8>>2]=p[i+8>>2],t=p[i+8>>2],p[(p[t>>2]==(0|i)?t:t+4|0)>>2]=e,p[e+4>>2]=i,void(p[i+8>>2]=e)}if(_[n+12|0]|!n){p[r>>2]==(0|t)?(n=p[t+4>>2],p[r>>2]=n,e=t,n&&(p[n+8>>2]=r,i=p[r+8>>2]),p[e+8>>2]=i,e=p[r+8>>2],p[((0|r)==p[e>>2]?e:e+4|0)>>2]=t,p[t+4>>2]=r,p[r+8>>2]=t,i=p[t+8>>2]):t=r,l[t+12|0]=1,l[i+12|0]=0,e=p[i+4>>2],t=p[e>>2],p[i+4>>2]=t,t&&(p[t+8>>2]=i),p[e+8>>2]=p[i+8>>2],t=p[i+8>>2],p[(p[t>>2]==(0|i)?t:t+4|0)>>2]=e,p[e>>2]=i,p[i+8>>2]=e;break e}}if(t=n+12|0,l[r+12|0]=1,l[i+12|0]=(0|e)==(0|i),l[0|t]=1,(0|(t=i))==(0|e))break}}function Oe(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0;fo(n=(r=oo(40))+16|0,t),fo(r+28|0,t+12|0);e:{if(t=p[(i=e+4|0)>>2])for(a=(i=(a=_[r+27|0])<<24>>24<0)?p[r+20>>2]:a,l=i?p[r+16>>2]:n;;){t:{i:{r:{if(!((s=(n=(i=(n=_[t+27|0])<<24>>24<0)?p[t+20>>2]:n)>>>0<a>>>0?n:a)&&(o=t+16|0,i=bs(l,i?p[o>>2]:o,s)))){if(a>>>0<n>>>0)break r;break i}if((0|i)>-1)break i}if(i=p[t>>2])break t;i=t;break e}if(!(i=p[t+4>>2])){i=t+4|0;break e}}t=i}t=i}p[r+8>>2]=t,p[r>>2]=0,p[r+4>>2]=0,p[i>>2]=r,(t=p[p[e>>2]>>2])&&(p[e>>2]=t,r=p[i>>2]),Ce(p[e+4>>2],r),p[(e=e+8|0)>>2]=p[e>>2]+1}function Ie(e,t,i,r){var n;V=n=V-16|0,i=De(e,t,n+12|0,n+8|0,i),p[i>>2]||(fo((t=oo(40))+16|0,r),fo(t+28|0,r+12|0),p[t+8>>2]=p[n+12>>2],p[t>>2]=0,p[t+4>>2]=0,p[i>>2]=t,r=t,(t=p[p[e>>2]>>2])&&(p[e>>2]=t,r=p[i>>2]),Ce(p[e+4>>2],r),p[(e=e+8|0)>>2]=p[e>>2]+1),V=n+16|0}function De(e,t,i,r,n){var a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,m=0,b=0;e:{t:{i:{r:{n:{a:if((0|(d=e+4|0))!=(0|t)){if(a=t+16|0,s=(0|(m=(o=_[t+27|0])<<24>>24))<0,f=(0|(c=(l=_[n+11|0])<<24>>24))<0,!(o=(u=(h=s?p[t+20>>2]:o)>>>0<(l=f?p[n+4>>2]:l)>>>0)?h:l)||!(b=bs(f=f?p[n>>2]:n,s=s?p[a>>2]:a,o))){if(l>>>0<h>>>0)break a;if(!o)break r;f=(0|c)<0?p[n>>2]:n,s=(0|m)<0?p[a>>2]:a;break n}if((0|b)>-1)break n}o=p[t>>2];a:{s:if(p[e>>2]!=(0|t)){if(o)for(r=o;r=p[(a=r)+4>>2];);else for(r=t;a=p[r+8>>2],l=p[a>>2]==(0|r),r=a,l;);if(r=(s=_[n+11|0])<<24>>24<0,l=(c=_[a+27|0])<<24>>24<0,!((f=(s=r?p[n+4>>2]:s)>>>0<(c=l?p[a+20>>2]:c)>>>0?s:c)&&(h=a+16|0,r=bs(l?p[h>>2]:h,r?p[n>>2]:n,f)))){if(c>>>0<s>>>0)break s;break a}if((0|r)>-1)break a}else a=t;return o?(p[i>>2]=a,a+4|0):(p[i>>2]=t,t)}return Fe(e,i,n)}if(a=bs(s,f,o))break i}if(u)break t;break e}if((0|a)>-1)break e}if(o=p[(f=t+4|0)>>2])for(a=o;r=a,a=p[a>>2];);else if(r=p[t+8>>2],p[r>>2]!=(0|t))for(a=t+8|0;a=(s=p[a>>2])+8|0,r=p[s+8>>2],(0|s)!=p[r>>2];);t:{i:if((0|r)!=(0|d)){if(!((h=(s=(a=(s=_[r+27|0])<<24>>24<0)?p[r+20>>2]:s)>>>0<l>>>0?s:l)&&(u=(0|c)<0?p[n>>2]:n,c=r+16|0,a=bs(u,a?p[c>>2]:c,h)))){if(l>>>0<s>>>0)break i;break t}if((0|a)>-1)break t}return o?(p[i>>2]=r,r):(p[i>>2]=t,f)}return Fe(e,i,n)}return p[i>>2]=t,p[r>>2]=t,r}function Fe(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0;e:{if(e=p[(r=e+4|0)>>2])for(a=(s=(a=_[i+11|0])<<24>>24<0)?p[i+4>>2]:a,c=s?p[i>>2]:i;;){i=e+16|0;t:{i:{r:{n:{a:{s:{if(!(n=(f=(o=(s=(n=_[e+27|0])<<24>>24<0)?p[e+20>>2]:n)>>>0<a>>>0)?o:a)||!(h=bs(c,l=s?p[i>>2]:i,n))){if(a>>>0<o>>>0)break s;if(!n)break n;l=s?p[i>>2]:i;break a}if((0|h)>-1)break a}if(i=p[e>>2])break t;return p[t>>2]=e,e}if(i=bs(l,c,n))break r}if(f)break i;break e}if((0|i)>-1)break e}if(r=e+4|0,!(i=p[e+4>>2]))break e;e=r}r=e,e=i}return p[t>>2]=r,r}return p[t>>2]=e,r}function Ne(e,t,i,r){var n,a,s,o=0;V=n=V-16|0,s=e,a=Fe(t,n+12|0,i),(i=p[a>>2])?t=0:(fo((i=oo(40))+16|0,p[r>>2]),p[i+36>>2]=0,p[i+28>>2]=0,p[i+32>>2]=0,p[i+8>>2]=p[n+12>>2],p[i>>2]=0,p[i+4>>2]=0,p[a>>2]=i,r=i,(o=p[p[t>>2]>>2])&&(p[t>>2]=o,r=p[a>>2]),Ce(p[t+4>>2],r),p[(t=t+8|0)>>2]=p[t>>2]+1,t=1),l[s+4|0]=t,p[e>>2]=i,V=n+16|0}function Be(e,t){return p[e>>2]=10364,Le(e+4|0),p[e+40>>2]=0,p[e+44>>2]=0,p[e+52>>2]=0,p[e+48>>2]=t,p[e>>2]=10536,e}function Le(e){var t,i,r,n=0,a=0;V=t=V-16|0,ha(e),p[(n=e+16|0)>>2]=0,p[n+4>>2]=0,p[e+12>>2]=n,i=ha(e+24|0),p[(r=t+8|0)>>2]=0,p[t>>2]=0,p[t+4>>2]=0,e=oo(32),p[t>>2]=e,p[t+4>>2]=20,p[t+8>>2]=-2147483616,l[e+20|0]=0,n=_[10720]|_[10721]<<8|_[10722]<<16|_[10723]<<24,l[e+16|0]=n,l[e+17|0]=n>>>8,l[e+18|0]=n>>>16,l[e+19|0]=n>>>24,n=_[10716]|_[10717]<<8|_[10718]<<16|_[10719]<<24,a=_[10712]|_[10713]<<8|_[10714]<<16|_[10715]<<24,l[e+8|0]=a,l[e+9|0]=a>>>8,l[e+10|0]=a>>>16,l[e+11|0]=a>>>24,l[e+12|0]=n,l[e+13|0]=n>>>8,l[e+14|0]=n>>>16,l[e+15|0]=n>>>24,n=_[10708]|_[10709]<<8|_[10710]<<16|_[10711]<<24,a=_[10704]|_[10705]<<8|_[10706]<<16|_[10707]<<24,l[0|e]=a,l[e+1|0]=a>>>8,l[e+2|0]=a>>>16,l[e+3|0]=a>>>24,l[e+4|0]=n,l[e+5|0]=n>>>8,l[e+6|0]=n>>>16,l[e+7|0]=n>>>24,ua(i,t,1),l[t+11|0]<=-1&&Mo(p[t>>2]),p[r>>2]=0,p[t>>2]=0,p[t+4>>2]=0,e=oo(32),p[t>>2]=e,p[t+4>>2]=22,p[t+8>>2]=-2147483616,l[e+22|0]=0,n=_[10743]|_[10744]<<8|_[10745]<<16|_[10746]<<24,a=_[10739]|_[10740]<<8|_[10741]<<16|_[10742]<<24,l[e+14|0]=a,l[e+15|0]=a>>>8,l[e+16|0]=a>>>16,l[e+17|0]=a>>>24,l[e+18|0]=n,l[e+19|0]=n>>>8,l[e+20|0]=n>>>16,l[e+21|0]=n>>>24,n=_[10737]|_[10738]<<8|_[10739]<<16|_[10740]<<24,a=_[10733]|_[10734]<<8|_[10735]<<16|_[10736]<<24,l[e+8|0]=a,l[e+9|0]=a>>>8,l[e+10|0]=a>>>16,l[e+11|0]=a>>>24,l[e+12|0]=n,l[e+13|0]=n>>>8,l[e+14|0]=n>>>16,l[e+15|0]=n>>>24,n=_[10729]|_[10730]<<8|_[10731]<<16|_[10732]<<24,a=_[10725]|_[10726]<<8|_[10727]<<16|_[10728]<<24,l[0|e]=a,l[e+1|0]=a>>>8,l[e+2|0]=a>>>16,l[e+3|0]=a>>>24,l[e+4|0]=n,l[e+5|0]=n>>>8,l[e+6|0]=n>>>16,l[e+7|0]=n>>>24,ua(i,t,1),l[t+11|0]<=-1&&Mo(p[t>>2]),V=t+16|0}function Ue(e,t){return p[e>>2]=10364,Le(e+4|0),p[e+40>>2]=0,p[e+44>>2]=0,p[e+52>>2]=t,p[e+48>>2]=t,p[e>>2]=10536,e}function Ve(e,t,i){var r,n=0,s=0;V=r=V-16|0;e:if(n=p[t+48>>2])(s=p[t+52>>2])?function(e,t,i,r){var n,s=0,o=0,c=0;V=n=V-16|0,p[n+8>>2]=0,p[n>>2]=0,p[n+4>>2]=0,s=oo(16),p[n>>2]=s,p[n+4>>2]=15,p[n+8>>2]=-2147483632,l[s+15|0]=0,o=_[10579]|_[10580]<<8|_[10581]<<16|_[10582]<<24,c=_[10575]|_[10576]<<8|_[10577]<<16|_[10578]<<24,l[s+7|0]=c,l[s+8|0]=c>>>8,l[s+9|0]=c>>>16,l[s+10|0]=c>>>24,l[s+11|0]=o,l[s+12|0]=o>>>8,l[s+13|0]=o>>>16,l[s+14|0]=o>>>24,o=_[10572]|_[10573]<<8|_[10574]<<16|_[10575]<<24,c=_[10568]|_[10569]<<8|_[10570]<<16|_[10571]<<24,l[0|s]=c,l[s+1|0]=c>>>8,l[s+2|0]=c>>>16,l[s+3|0]=c>>>24,l[s+4|0]=o,l[s+5|0]=o>>>8,l[s+6|0]=o>>>16,l[s+7|0]=o>>>24,s=_a(o=t+4|0,n,-1),l[n+11|0]<=-1&&Mo(p[n>>2]);t:{i:if(!((s=s+1|0)>>>0>2)){r:switch(s-1|0){default:if(10==(0|or(o)))break i;break;case 0:break i;case 1:break r}Yn(s=oo(68)),p[s+64>>2]=0,p[s>>2]=10980;break t}Yn(s=oo(64)),p[s>>2]=13252}p[s+56>>2]=i,Gt(s,i),Jn(e,s,o,r),p[e>>2]||(l[e+15|0]<=-1&&Mo(p[e+4>>2]),p[t+40>>2]=p[s+52>>2],p[t+44>>2]=p[s+60>>2],p[e+8>>2]=0,p[e+12>>2]=0,p[e>>2]=0,p[e+4>>2]=0);a[p[p[s>>2]+4>>2]](s),V=n+16|0}(e,t,s,i):function(e,t,i,r){var n,s,o,c=0,f=0,h=0,u=0,d=0,m=0;V=n=V-16|0,p[n+8>>2]=0,p[n>>2]=0,p[n+4>>2]=0,c=oo(16),p[n>>2]=c,p[n+4>>2]=15,p[n+8>>2]=-2147483632,l[c+15|0]=0,h=_[10579]|_[10580]<<8|_[10581]<<16|_[10582]<<24,f=_[10575]|_[10576]<<8|_[10577]<<16|_[10578]<<24,l[c+7|0]=f,l[c+8|0]=f>>>8,l[c+9|0]=f>>>16,l[c+10|0]=f>>>24,l[c+11|0]=h,l[c+12|0]=h>>>8,l[c+13|0]=h>>>16,l[c+14|0]=h>>>24,h=_[10572]|_[10573]<<8|_[10574]<<16|_[10575]<<24,f=_[10568]|_[10569]<<8|_[10570]<<16|_[10571]<<24,l[0|c]=f,l[c+1|0]=f>>>8,l[c+2|0]=f>>>16,l[c+3|0]=f>>>24,l[c+4|0]=h,l[c+5|0]=h>>>8,l[c+6|0]=h>>>16,l[c+7|0]=h>>>24,o=_a(s=t+4|0,n,-1),l[n+11|0]<=-1&&Mo(p[n>>2]);t:{i:{r:{if(!((c=o+1|0)>>>0>1)){if(!(c-1))break r;if(10==(0|or(s)))break r}n:{if(c=p[(m=i+12|0)>>2],f=p[i+8>>2],(c-f|0)>=1)for(h=t+20|0;;){if((u=p[p[(d<<2)+f>>2]+28>>2])+-1>>>0>=6){if(9!=(0|u))break n;p[n+8>>2]=0,p[n>>2]=0,p[n+4>>2]=0,c=oo(32),p[n>>2]=c,p[n+4>>2]=17,p[n+8>>2]=-2147483616,l[c+17|0]=0,l[c+16|0]=_[10600],f=_[10596]|_[10597]<<8|_[10598]<<16|_[10599]<<24,u=_[10592]|_[10593]<<8|_[10594]<<16|_[10595]<<24,l[c+8|0]=u,l[c+9|0]=u>>>8,l[c+10|0]=u>>>16,l[c+11|0]=u>>>24,l[c+12|0]=f,l[c+13|0]=f>>>8,l[c+14|0]=f>>>16,l[c+15|0]=f>>>24,f=_[10588]|_[10589]<<8|_[10590]<<16|_[10591]<<24,u=_[10584]|_[10585]<<8|_[10586]<<16|_[10587]<<24,l[0|c]=u,l[c+1|0]=u>>>8,l[c+2|0]=u>>>16,l[c+3|0]=u>>>24,l[c+4|0]=f,l[c+5|0]=f>>>8,l[c+6|0]=f>>>16,l[c+7|0]=f>>>24;a:{if(f=p[(c=h)>>2]){for(;u=p[f+16>>2],c=(0|u)<0?c:f,f=p[(u>>>29&4)+f>>2];);if(!((0|c)==(0|h)|p[c+16>>2]>0)&&ir(c=c+20|0,n)){c=_a(c,n,-1);break a}}c=_a(s,n,-1)}if(l[n+11|0]<=-1&&Mo(p[n>>2]),(0|c)<1)break n;f=p[i+8>>2],c=p[m>>2]}if(!((0|(d=d+1|0))<c-f>>2))break}f=oo(56),p[(c=f)>>2]=0,p[c+4>>2]=0,p[c+48>>2]=0,p[c+52>>2]=0,p[c+40>>2]=0,p[c+44>>2]=0,p[c+32>>2]=0,p[c+36>>2]=0,p[c+24>>2]=0,p[c+28>>2]=0,p[c+16>>2]=0,p[c+20>>2]=0,p[c+8>>2]=0,p[c+12>>2]=0,h=13816,c=Qn(c);break i}if(1==(0|o)){if(p[n+8>>2]=0,p[n>>2]=0,p[n+4>>2]=0,t=oo(32),p[n>>2]=t,p[n+4>>2]=24,p[n+8>>2]=-2147483616,l[t+24|0]=0,i=_[10622]|_[10623]<<8|_[10624]<<16|_[10625]<<24,r=_[10618]|_[10619]<<8|_[10620]<<16|_[10621]<<24,l[t+16|0]=r,l[t+17|0]=r>>>8,l[t+18|0]=r>>>16,l[t+19|0]=r>>>24,l[t+20|0]=i,l[t+21|0]=i>>>8,l[t+22|0]=i>>>16,l[t+23|0]=i>>>24,i=_[10614]|_[10615]<<8|_[10616]<<16|_[10617]<<24,r=_[10610]|_[10611]<<8|_[10612]<<16|_[10613]<<24,l[t+8|0]=r,l[t+9|0]=r>>>8,l[t+10|0]=r>>>16,l[t+11|0]=r>>>24,l[t+12|0]=i,l[t+13|0]=i>>>8,l[t+14|0]=i>>>16,l[t+15|0]=i>>>24,i=_[10606]|_[10607]<<8|_[10608]<<16|_[10609]<<24,r=_[10602]|_[10603]<<8|_[10604]<<16|_[10605]<<24,l[0|t]=r,l[t+1|0]=r>>>8,l[t+2|0]=r>>>16,l[t+3|0]=r>>>24,l[t+4|0]=i,l[t+5|0]=i>>>8,l[t+6|0]=i>>>16,l[t+7|0]=i>>>24,p[e>>2]=-1,fo(e+4|0,n),l[n+11|0]>-1)break t;Mo(p[n>>2]);break t}}f=oo(56),p[(c=f)>>2]=0,p[c+4>>2]=0,p[c+48>>2]=0,p[c+52>>2]=0,p[c+40>>2]=0,p[c+44>>2]=0,p[c+32>>2]=0,p[c+36>>2]=0,p[c+24>>2]=0,p[c+28>>2]=0,p[c+16>>2]=0,p[c+20>>2]=0,p[c+8>>2]=0,p[c+12>>2]=0,h=13924,c=Qn(c)}p[f>>2]=h,Gt(c,i),Jn(e,c,s,r),p[e>>2]||(l[e+15|0]<=-1&&Mo(p[e+4>>2]),i=p[f+52>>2],p[t+44>>2]=0,p[t+40>>2]=i,p[e+8>>2]=0,p[e+12>>2]=0,p[e>>2]=0,p[e+4>>2]=0),a[p[p[f>>2]+4>>2]](c)}V=n+16|0}(e,t,n,i);else{if(t=oo(32),p[r>>2]=t,p[r+4>>2]=23,p[r+8>>2]=-2147483616,l[t+23|0]=0,i=_[10563]|_[10564]<<8|_[10565]<<16|_[10566]<<24,n=_[10559]|_[10560]<<8|_[10561]<<16|_[10562]<<24,l[t+15|0]=n,l[t+16|0]=n>>>8,l[t+17|0]=n>>>16,l[t+18|0]=n>>>24,l[t+19|0]=i,l[t+20|0]=i>>>8,l[t+21|0]=i>>>16,l[t+22|0]=i>>>24,i=_[10556]|_[10557]<<8|_[10558]<<16|_[10559]<<24,n=_[10552]|_[10553]<<8|_[10554]<<16|_[10555]<<24,l[t+8|0]=n,l[t+9|0]=n>>>8,l[t+10|0]=n>>>16,l[t+11|0]=n>>>24,l[t+12|0]=i,l[t+13|0]=i>>>8,l[t+14|0]=i>>>16,l[t+15|0]=i>>>24,i=_[10548]|_[10549]<<8|_[10550]<<16|_[10551]<<24,n=_[10544]|_[10545]<<8|_[10546]<<16|_[10547]<<24,l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=i,l[t+5|0]=i>>>8,l[t+6|0]=i>>>16,l[t+7|0]=i>>>24,p[e>>2]=-1,fo(e+4|0,r),l[r+11|0]>-1)break e;Mo(p[r>>2])}V=r+16|0}function ze(e,t){var i;(0|(i=e+4|0))!=(0|t)&&(we(i,p[t>>2],t+4|0),function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0;V=r=V-16|0;e:{if(p[e+8>>2]&&(n=p[e>>2],l=e+4|0,p[e>>2]=l,p[p[l>>2]+8>>2]=0,p[l>>2]=0,p[l+4>>2]=0,a=p[n+4>>2],n=a||n))for(c=e+8|0;;){o=n,s=t;t:{if((0|t)!=(0|i)){p[o+16>>2]=p[s+16>>2],(0|s)!=(0|o)&&we(o+20|0,p[s+20>>2],s+24|0);i:if(n=p[o+8>>2])if(t=p[n>>2],(0|o)!=(0|t)){if(p[n+4>>2]=0,t)for(;n=t,(t=p[t>>2])||(t=p[n+4>>2]););}else{if(p[n>>2]=0,!(t=p[n+4>>2]))break i;for(;n=t,(t=p[t>>2])||(t=p[n+4>>2]););}else n=0;if(!(t=p[l>>2])){a=t=l;break t}for(f=p[o+16>>2];;){i:{if((0|f)<p[t+16>>2]){if(a=p[t>>2])break i;a=t;break t}if(!(a=p[t+4>>2])){a=t+4|0;break t}}t=a}}for(;t=p[o+8>>2];)o=t;Te(e,o);break e}p[o+8>>2]=t,p[o>>2]=0,p[o+4>>2]=0,p[a>>2]=o,(t=p[p[e>>2]>>2])&&(p[e>>2]=t,o=p[a>>2]),Ce(p[e+4>>2],o),p[c>>2]=p[c>>2]+1;t:if(a=p[s+4>>2])for(;a=p[(t=a)>>2];);else{if(t=p[s+8>>2],(0|s)==p[t>>2])break t;for(s=s+8|0;a=p[s>>2],s=a+8|0,t=p[a+8>>2],(0|a)!=p[t>>2];);}if(!n)break}if((0|t)!=(0|i))for(o=e+4|0,l=e+8|0;;){a=t,je(r,e,t+16|0),s=p[r>>2];t:if(t=p[o>>2])for(c=p[s+16>>2];;){i:{if((0|c)<p[t+16>>2]){if(n=p[t>>2])break i;n=t;break t}if(!(n=p[t+4>>2])){n=t+4|0;break t}}t=n}else n=t=o;p[s+8>>2]=t,p[s>>2]=0,p[s+4>>2]=0,p[n>>2]=s,(t=p[p[e>>2]>>2])&&(p[e>>2]=t,s=p[n>>2]),Ce(p[e+4>>2],s),p[l>>2]=p[l>>2]+1;t:if(n=p[a+4>>2])for(;n=p[(t=n)>>2];);else{if(t=p[a+8>>2],(0|a)==p[t>>2])break t;for(a=a+8|0;n=p[a>>2],a=n+8|0,t=p[n+8>>2],(0|n)!=p[t>>2];);}if((0|t)==(0|i))break}}V=r+16|0}(e+16|0,p[t+12>>2],t+16|0),we(e+28|0,p[t+24>>2],t+28|0))}function je(e,t,i){var r,n,a=0,s=0;if(a=oo(32),l[e+8|0]=0,p[e+4>>2]=t+4,p[e>>2]=a,t=p[i>>2],p[(r=a+24|0)>>2]=0,p[r+4>>2]=0,p[a+16>>2]=t,p[a+20>>2]=r,(0|(t=p[i+4>>2]))!=(0|(n=i+8|0)))for(s=a+20|0;;){i=t,Ie(s,r,t=t+16|0,t);e:if(a=p[i+4>>2])for(;t=a,a=p[a>>2];);else{if(t=p[i+8>>2],(0|i)==p[t>>2])break e;for(i=i+8|0;i=(a=p[i>>2])+8|0,t=p[a+8>>2],(0|a)!=p[t>>2];);}if((0|t)==(0|n))break}l[e+8|0]=1}function We(e,t,i,r){var n,a=0,s=0,o=0,l=0,c=0,f=0,h=0;V=n=V-16|0,p[n+8>>2]=0,p[n>>2]=0,p[n+4>>2]=0;e:{t:{if((c=i+1|0)>>>0>=i>>>0){if(c>>>0>=1073741824)break t;for(f=oo(s=c<<2),p[n>>2]=f,p[n+4>>2]=f,p[n+8>>2]=s+f,o=s=Do(f,0,4+(i<<2)|0);o=o+4|0,c=c+-1|0;);p[n+4>>2]=o,o=s}if((0|t)>0)for(;s=(p[(l<<2)+e>>2]<<2)+o|0,p[s>>2]=p[s>>2]+1,(0|(l=l+1|0))!=(0|t););if(l=0,(0|i)<0){t=0;break e}for(h=+(0|t),t=0;(0|(e=p[(l<<2)+o>>2]))>=1&&(a=a+Co((a=+(0|e))/h)*a,t=t+1|0),e=(0|i)==(0|l),l=l+1|0,!e;);break e}Ao(),E()}return r&&(p[r>>2]=t),k(a=-a)<0x8000000000000000?(t=~~a>>>0,e=k(a)>=1?a>0?~~S(T(a/4294967296),4294967295)>>>0:~~w((a-+(~~a>>>0>>>0))/4294967296)>>>0:0):(t=0,e=-2147483648),o&&(p[n+4>>2]=o,Mo(f)),V=n+16|0,z=e,t}function Ge(e,t){var i=0;return!e|!t|(0|e)==(0|t)||(i=-((i=+(t>>>0)/+(e>>>0))*Co(i)+(i=1-i)*Co(i))),i}function He(e){p[e+16>>2]=0,p[e+20>>2]=0,p[e>>2]=0,p[e+4>>2]=0,p[e+8>>2]=0,p[e+24>>2]=0,p[e+28>>2]=0,p[e+32>>2]=0}function Ye(e,t,i,r){Xe(e,t,i,r,0)}function Xe(e,t,i,r,n){var a,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0;if(V=a=V-16|0,l=p[t+28>>2],s=e+8|0,o=p[t+24>>2],p[s>>2]=o,p[s+4>>2]=l,c=p[t+20>>2],p[e>>2]=p[t+16>>2],p[e+4>>2]=c,c=p[t+36>>2],p[e+16>>2]=p[t+32>>2],p[e+20>>2]=c,p[s>>2]=r+o,(0|r)>=1)for(c=p[t>>2],u=t+4|0,s=0;(o=p[u>>2]-c>>2)>>>0>(l=p[(s<<2)+i>>2])>>>0||(p[a+12>>2]=0,(f=l+1|0)>>>0>o>>>0?(Qi(t,f-o|0,a+12|0),c=p[t>>2]):f>>>0>=o>>>0||(p[u>>2]=(f<<2)+c)),(0|(o=p[(f=(l<<2)+c|0)>>2]))>=2?h=Co(h=+(0|o))*h:(h=0,o||(p[e+16>>2]=p[e+16>>2]+1,l>>>0<=b[e+12>>2]||(p[e+12>>2]=l))),l=o+1|0,p[f>>2]=l,_=e,m=Co(d=+(0|l))*d-h+v[e>>3],v[_>>3]=m,(0|(s=s+1|0))!=(0|r););e:if(n)r=p[e+4>>2],p[(t=t+16|0)>>2]=p[e>>2],p[t+4>>2]=r,p[t+16>>2]=p[e+16>>2],i=p[e+12>>2],p[t+8>>2]=p[e+8>>2],p[t+12>>2]=i;else{if((0|r)<1)break e;for(e=p[t>>2],s=0;t=e+(p[(s<<2)+i>>2]<<2)|0,p[t>>2]=p[t>>2]+-1,(0|(s=s+1|0))!=(0|r););}V=a+16|0}function Ze(e,t,i,r){Xe(e,t,i,r,1)}function Qe(e){var t,i=0;if((0|(t=p[e+8>>2]))>=2){if(i=w(Co(i=+(0|t))*i-v[e>>3]),k(i)<0x8000000000000000)return z=k(i)>=1?i>0?~~S(T(i/4294967296),4294967295)>>>0:~~w((i-+(~~i>>>0>>>0))/4294967296)>>>0:0,~~i>>>0;e=-2147483648}else e=0;return z=e,0}function Je(e){var t,i,r=0;return t=((1+((r=p[e+12>>2])-(e=p[e+16>>2])|0)|0)/64|0)+e<<3,i=e<<=3,r=(r=t)+e|0,e=(t>>31)+(e>>31)|0,z=e=r>>>0<i>>>0?e+1|0:e,r}function qe(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0;e:{t:{i:{if((n=p[e+8>>2])-(r=p[(i=e+4|0)>>2])>>3>>>0>=t>>>0)for(;;)if(p[r>>2]=0,p[r+4>>2]=0,r=p[i>>2]+8|0,p[i>>2]=r,!(t=t+-1|0))break i;if((r=(i=(s=r-(a=p[e>>2])|0)>>3)+t|0)>>>0>=536870912)break t;if(l=i<<3,i=(n=n-a|0)>>2,n=n>>3>>>0<268435455?i>>>0<r>>>0?r:i:536870911,i=0,n){if(n>>>0>=536870912)break e;i=o=oo(n<<3)}for(Do(r=l+i|0,0,t<<3),n=i+(n<<3)|0;r=r+8|0,t=t+-1|0;);(0|s)>=1&&Io(o,a,s),p[e>>2]=i,p[e+8>>2]=n,p[e+4>>2]=r,a&&Mo(a)}return}Ao(),E()}Wt(10778),E()}function Ke(e,t,i,r,n){var a,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=0,A=0,v=0,g=0,M=0,P=0;V=a=V-48|0;e:{t:{if(!((0|t)<0))if(t){if(p[a+40>>2]=0,p[a+32>>2]=0,p[a+36>>2]=0,t>>>0>=1073741824)break e;for(v=(0|i)>1?i:1,o=oo(s=t<<2),p[a+36>>2]=o,p[a+32>>2]=o,p[a+40>>2]=s+o;;){if(o=1,s=p[(h<<2)+e>>2],(0|i)>1)for(;s=s>>>0<(f=p[(o+h<<2)+e>>2])>>>0?f:s,(0|v)!=(0|(o=o+1|0)););if(f=s?1+(31^x(s))|0:1,p[a>>2]=f,o=s>>>0>A>>>0,(m=p[a+36>>2])>>>0<b[a+40>>2]?(p[m>>2]=f,p[a+36>>2]=m+4):$e(a+32|0,a),A=o?s:A,!((0|(h=h+v|0))<(0|t)))break}if(s=0,p[a+24>>2]=0,p[a+16>>2]=0,p[a+20>>2]=0,o=0,h=0,f=p[a+32>>2],m=p[a+36>>2]-f|0){if((i=m>>2)>>>0>=1073741824)break t;o=oo(m),p[a+16>>2]=o,p[a+20>>2]=o,p[a+24>>2]=(i<<2)+o,(0|m)<1?h=o:(h=Io(o,f,m)+m|0,p[a+20>>2]=h)}if(f=(i=h-o|0)>>2,i)for(;(i=(h=p[(s<<2)+o>>2])+g|0)>>>0<h>>>0&&(c=c+1|0),g=i,(s=s+1|0)>>>0<f>>>0;);M=We(o,f,32,a),o=z,s=p[a>>2],(i=p[a+16>>2])&&(p[a+20>>2]=i,Mo(i)),m=We(e,t,A,a),f=z,h=(A-(P=p[a>>2])|0)/64|0;i:if(r&&(p[a+8>>2]=0,p[a>>2]=0,p[a+4>>2]=0,i=oo(32),p[a>>2]=i,p[a+4>>2]=22,p[a+8>>2]=-2147483616,l[i+22|0]=0,u=_[10864]|_[10865]<<8|_[10866]<<16|_[10867]<<24,d=_[10860]|_[10861]<<8|_[10862]<<16|_[10863]<<24,l[i+14|0]=d,l[i+15|0]=d>>>8,l[i+16|0]=d>>>16,l[i+17|0]=d>>>24,l[i+18|0]=u,l[i+19|0]=u>>>8,l[i+20|0]=u>>>16,l[i+21|0]=u>>>24,u=_[10858]|_[10859]<<8|_[10860]<<16|_[10861]<<24,d=_[10854]|_[10855]<<8|_[10856]<<16|_[10857]<<24,l[i+8|0]=d,l[i+9|0]=d>>>8,l[i+10|0]=d>>>16,l[i+11|0]=d>>>24,l[i+12|0]=u,l[i+13|0]=u>>>8,l[i+14|0]=u>>>16,l[i+15|0]=u>>>24,u=_[10850]|_[10851]<<8|_[10852]<<16|_[10853]<<24,d=_[10846]|_[10847]<<8|_[10848]<<16|_[10849]<<24,l[0|i]=d,l[i+1|0]=d>>>8,l[i+2|0]=d>>>16,l[i+3|0]=d>>>24,l[i+4|0]=u,l[i+5|0]=u>>>8,l[i+6|0]=u>>>16,l[i+7|0]=u>>>24,i=ir(r,a),l[a+11|0]<=-1&&Mo(p[a>>2]),i)){if(p[a+8>>2]=0,p[a>>2]=0,p[a+4>>2]=0,i=oo(32),p[a>>2]=i,p[a+4>>2]=22,p[a+8>>2]=-2147483616,l[i+22|0]=0,s=_[10864]|_[10865]<<8|_[10866]<<16|_[10867]<<24,c=_[10860]|_[10861]<<8|_[10862]<<16|_[10863]<<24,l[i+14|0]=c,l[i+15|0]=c>>>8,l[i+16|0]=c>>>16,l[i+17|0]=c>>>24,l[i+18|0]=s,l[i+19|0]=s>>>8,l[i+20|0]=s>>>16,l[i+21|0]=s>>>24,s=_[10858]|_[10859]<<8|_[10860]<<16|_[10861]<<24,c=_[10854]|_[10855]<<8|_[10856]<<16|_[10857]<<24,l[i+8|0]=c,l[i+9|0]=c>>>8,l[i+10|0]=c>>>16,l[i+11|0]=c>>>24,l[i+12|0]=s,l[i+13|0]=s>>>8,l[i+14|0]=s>>>16,l[i+15|0]=s>>>24,s=_[10850]|_[10851]<<8|_[10852]<<16|_[10853]<<24,c=_[10846]|_[10847]<<8|_[10848]<<16|_[10849]<<24,l[0|i]=c,l[i+1|0]=c>>>8,l[i+2|0]=c>>>16,l[i+3|0]=c>>>24,l[i+4|0]=s,l[i+5|0]=s>>>8,l[i+6|0]=s>>>16,l[i+7|0]=s>>>24,s=pa(r,a),l[a+11|0]>-1)break i;Mo(p[a>>2])}else(30^x(A>>>0>1?A:1))>>>0<18?(c=Bo(g,c,v,0),i=z+o|0,o=s<<=3,i=(i=(M=c+M|0)>>>0<c>>>0?i+1|0:i)+(s=(c=s>>31)<<1|s>>>31)|0,i=(o=(c=o<<1)+M|0)>>>0<c>>>0?i+1|0:i,h=(s=h+P<<3)>>31,g=o,c=s,f=((s=P<<3)>>31)+f|0,f=(o=s+m|0)>>>0<s>>>0?f+1|0:f,o=c+(s=o)|0,c=f+h|0,s=(0|i)>(0|(c=o>>>0<s>>>0?c+1|0:c))?1:(0|i)>=(0|c)?g>>>0<o>>>0?0:1:0):s=0;l[0|a]=s,((0|(i=p[n+20>>2]))<0||(0|i)<=0&&!(b[n+16>>2]>0))&&Yt(n,p[n+4>>2],a,a+1|0),i=0,s>>>0>1||(i=s-1?function(e,t,i,r,n){var a,s,o=0,c=0,f=0,h=0,u=0,d=0,m=0,A=0,v=0,g=0,k=0,x=0,S=0,T=0,w=0;if(V=a=V-336|0,Do(a+80|0,0,256),c=p[r+4>>2],u=p[r>>2],(0|c)!=(0|u))for(d=c-u>>2;c=(a+80|0)+(p[u+(h<<2)>>2]<<3)|0,A=o=c,f=p[o+4>>2],(c=p[o>>2]+1|0)>>>0<1&&(f=f+1|0),p[A>>2]=c,p[o+4>>2]=f,(h=h+1|0)>>>0<d>>>0;);s=oa(a+48|0),p[a+8>>2]=0,p[a+12>>2]=0,p[(o=a+16|0)>>2]=0,p[o+4>>2]=0,p[(c=u=a+24|0)>>2]=0,p[c+4>>2]=0,p[a+32>>2]=0,p[a>>2]=0,p[a+4>>2]=0,p[a+40>>2]=0,p[a+44>>2]=0,et(a,a+80|0,32,n),f=p[o>>2],c=p[o+4>>2],o=p[n+4>>2]-p[n>>2]|0,p[a+40>>2]=o,p[a+44>>2]=0,d=f,f=c<<1|f>>>31,(c=39+(d<<1)|0)>>>0<39&&(f=f+1|0);d=c,c=f>>>3,(f=o+((7&f)<<29|d>>>3)|0)>>>0<o>>>0&&(c=c+1|0);if(la(A=n,o=f+8|0),c=p[n>>2],p[a+28>>2]=0,p[a+32>>2]=16384,p[u>>2]=c+p[a+40>>2],ca(s,(o=t)<<5,o>>31<<5|o>>>27,0),(0|(t=o-i|0))>=0)for(S=(0|i)<1,c=t;;){if(h=p[a+32>>2],m=p[r>>2],d=p[a>>2]+(p[m+((0|c)/(0|i)<<2)>>2]<<3)|0,u=p[d>>2],h>>>0>=(f=u<<10)>>>0){for(;o=p[a+28>>2],p[a+28>>2]=o+1,l[o+p[a+24>>2]|0]=h,h=p[a+32>>2]>>>8,p[a+32>>2]=h,h>>>0>=f>>>0;);m=p[r>>2]}if(o=(h>>>0)/(u>>>0)|0,p[a+32>>2]=p[d+4>>2]+((o<<12)+(h-y(o,u)|0)|0),o=(0|(h=t-c|0))/(0|i)|0,!S)for(x=p[(o<<2)+m>>2],g=0;;){if(o=p[s+20>>2],!((0|x)<1|((0|o)<0?1:(0|o)<=0?b[s+16>>2]>=1?0:1:0)))for(u=p[(h+g<<2)+e>>2],v=p[s+12>>2],m=p[v+4>>2],k=0;f=(d=m>>>3)+p[v>>2]|0,o=_[0|f],T=A=f,w=zo(-2,f=7&m)&o,l[0|T]=w,o=d+p[v>>2]|0,l[0|o]=_[0|o]|(u>>>k&1)<<f,m=p[v+4>>2]+1|0,p[v+4>>2]=m,(0|x)!=(0|(k=k+1|0)););if((0|(g=g+1|0))==(0|i))break}if(!((0|(c=c-i|0))>-1))break}tt(a,n),fa(s),((0|(e=p[n+20>>2]))<0?1:(0|e)<=0?b[n+16>>2]>0?0:1:0)&&Yt(n,p[n+4>>2],p[s>>2],p[s+4>>2]);(e=p[a>>2])&&(p[a+4>>2]=e,Mo(e));e=p[s+12>>2],p[s+12>>2]=0,e&&Mo(e);(e=p[s>>2])&&(p[s+4>>2]=e,Mo(e));return V=a+336|0,1}(e,t,v,a+32|0,n):function(e,t,i,r,n,a){var s,o=0,c=0,f=0;V=s=V-16|0;i:{if((0|r)<=0)r=1,p[s+12>>2]=1;else if(c=31^x(r),r=c+1|0,p[s+12>>2]=r,c>>>0>17)break i;r:if(n&&(o=oo(48),p[s>>2]=o,p[s+4>>2]=33,p[s+8>>2]=-2147483600,l[o+33|0]=0,l[o+32|0]=_[10901],c=_[10897]|_[10898]<<8|_[10899]<<16|_[10900]<<24,f=_[10893]|_[10894]<<8|_[10895]<<16|_[10896]<<24,l[o+24|0]=f,l[o+25|0]=f>>>8,l[o+26|0]=f>>>16,l[o+27|0]=f>>>24,l[o+28|0]=c,l[o+29|0]=c>>>8,l[o+30|0]=c>>>16,l[o+31|0]=c>>>24,c=_[10889]|_[10890]<<8|_[10891]<<16|_[10892]<<24,f=_[10885]|_[10886]<<8|_[10887]<<16|_[10888]<<24,l[o+16|0]=f,l[o+17|0]=f>>>8,l[o+18|0]=f>>>16,l[o+19|0]=f>>>24,l[o+20|0]=c,l[o+21|0]=c>>>8,l[o+22|0]=c>>>16,l[o+23|0]=c>>>24,c=_[10881]|_[10882]<<8|_[10883]<<16|_[10884]<<24,f=_[10877]|_[10878]<<8|_[10879]<<16|_[10880]<<24,l[o+8|0]=f,l[o+9|0]=f>>>8,l[o+10|0]=f>>>16,l[o+11|0]=f>>>24,l[o+12|0]=c,l[o+13|0]=c>>>8,l[o+14|0]=c>>>16,l[o+15|0]=c>>>24,c=_[10873]|_[10874]<<8|_[10875]<<16|_[10876]<<24,f=_[10869]|_[10870]<<8|_[10871]<<16|_[10872]<<24,l[0|o]=f,l[o+1|0]=f>>>8,l[o+2|0]=f>>>16,l[o+3|0]=f>>>24,l[o+4|0]=c,l[o+5|0]=c>>>8,l[o+6|0]=c>>>16,l[o+7|0]=c>>>24,o=ir(n,s),l[s+11|0]<=-1&&Mo(p[s>>2]),o)){if(o=oo(48),p[s>>2]=o,p[s+4>>2]=33,p[s+8>>2]=-2147483600,l[o+33|0]=0,l[o+32|0]=_[10901],c=_[10897]|_[10898]<<8|_[10899]<<16|_[10900]<<24,f=_[10893]|_[10894]<<8|_[10895]<<16|_[10896]<<24,l[o+24|0]=f,l[o+25|0]=f>>>8,l[o+26|0]=f>>>16,l[o+27|0]=f>>>24,l[o+28|0]=c,l[o+29|0]=c>>>8,l[o+30|0]=c>>>16,l[o+31|0]=c>>>24,c=_[10889]|_[10890]<<8|_[10891]<<16|_[10892]<<24,f=_[10885]|_[10886]<<8|_[10887]<<16|_[10888]<<24,l[o+16|0]=f,l[o+17|0]=f>>>8,l[o+18|0]=f>>>16,l[o+19|0]=f>>>24,l[o+20|0]=c,l[o+21|0]=c>>>8,l[o+22|0]=c>>>16,l[o+23|0]=c>>>24,c=_[10881]|_[10882]<<8|_[10883]<<16|_[10884]<<24,f=_[10877]|_[10878]<<8|_[10879]<<16|_[10880]<<24,l[o+8|0]=f,l[o+9|0]=f>>>8,l[o+10|0]=f>>>16,l[o+11|0]=f>>>24,l[o+12|0]=c,l[o+13|0]=c>>>8,l[o+14|0]=c>>>16,l[o+15|0]=c>>>24,c=_[10873]|_[10874]<<8|_[10875]<<16|_[10876]<<24,f=_[10869]|_[10870]<<8|_[10871]<<16|_[10872]<<24,l[0|o]=f,l[o+1|0]=f>>>8,l[o+2|0]=f>>>16,l[o+3|0]=f>>>24,l[o+4|0]=c,l[o+5|0]=c>>>8,l[o+6|0]=c>>>16,l[o+7|0]=c>>>24,c=pa(n,s),l[s+11|0]<=-1&&Mo(p[s>>2]),n=s,o=r+-2|0,!((0|c)<=3)&&(o=r+-1|0,!((0|c)<=5)&&(o=r+2|0,!((0|c)>=10)))){if((0|c)<8)break r;o=r+1|0}r=o,p[n+12>>2]=r}if(r=(0|(r=(0|r)>1?r:1))<18?r:18,p[s+12>>2]=r,l[0|s]=r,((0|(n=p[a+20>>2]))<0||(0|n)<=0&&!(b[a+16>>2]>0))&&Yt(a,p[a+4>>2],s,s+1|0),r>>>0>18)o=0;else{r:switch(r-2|0){default:o=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0;V=n=V+-64|0,p[n+56>>2]=0,p[n+48>>2]=0,p[n+52>>2]=0;n:{if((a=i+1|0)>>>0>=i>>>0){if(a>>>0>=536870912)break n;for(h=oo(s=a<<3),p[n+48>>2]=h,p[n+52>>2]=h,p[n+56>>2]=s+h,c=Do(h,0,8+(i<<3)|0);c=c+8|0,a=a+-1|0;);p[n+52>>2]=c}if((0|t)>=1)for(;i=(p[(o<<2)+e>>2]<<3)+h|0,s=i,f=i,a=p[i+4>>2],(i=p[i>>2]+1|0)>>>0<1&&(a=a+1|0),p[f>>2]=i,p[s+4>>2]=a,(0|(o=o+1|0))!=(0|t););if(p[n+8>>2]=0,p[n+12>>2]=0,p[(i=s=n+16|0)>>2]=0,p[i+4>>2]=0,p[(i=f=n+24|0)>>2]=0,p[i+4>>2]=0,p[n+32>>2]=0,p[n>>2]=0,p[n+4>>2]=0,p[n+40>>2]=0,p[n+44>>2]=0,function(e,t,i,r){var n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,A=0,v=0,y=0,g=0;if(V=n=V-32|0,(0|i)>0)for(;m=l,f=p[(l=(a<<3)+t|0)+4>>2],o=p[l>>2],l=f|o?a:m,s=s+f|0,(f=o+h|0)>>>0<o>>>0&&(s=s+1|0),h=f,(0|(a=a+1|0))!=(0|i););f=l+1|0,p[e+12>>2]=f,o=p[e>>2],i=p[e+4>>2]-o>>3;f>>>0>i>>>0?qe(e,f-i|0):f>>>0>=i>>>0||(p[e+4>>2]=o+(f<<3));a:{s:{o:{l:{if((0|l)>=0){for(_=+(h>>>0)+4294967296*+(s>>>0),s=p[e>>2],a=0;i=p[(h=(o=a<<3)+t|0)+4>>2],h=p[h>>2],A=0!=(0|h)|0!=(0|i),i=(c=(+(h>>>0)+4294967296*+(i>>>0))/_*4096+.5)<4294967296&c>=0?~~c>>>0:0,i=A?i||1:i,p[(o=s+o|0)>>2]=i,u=i+u|0,i=(0|a)==(0|l),a=a+1|0,!i;);if(4096==(0|u))break l}if(p[n+16>>2]=0,p[n+8>>2]=0,p[n+12>>2]=0,o=0,f){if(f>>>0>=1073741824)break a;o=oo(i=f<<2),p[n+8>>2]=o,d=i+o|0,p[n+16>>2]=d,Do(o,0,i),p[n+12>>2]=d}if((0|l)>-1)for(a=0;p[(a<<2)+o>>2]=a,i=(0|a)==(0|l),a=a+1|0,!i;);p[n+24>>2]=e,function e(t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0;c:{f:for(;;){u=i+-4|0;h:for(;;){s=t;u:for(;;){d:{p:{_:{m:{if((t=(n=i-s|0)>>2)>>>0<=5){b:switch(t-2|0){case 0:if(r=p[r>>2],t=p[r>>2],r=p[r+4>>2]-t>>3,i=p[(n=i+-4|0)>>2],r>>>0<=i>>>0)break m;if(u=r,r=p[s>>2],u>>>0<=r>>>0)break m;if(b[t+(i<<3)>>2]>=b[t+(r<<3)>>2])break c;return p[s>>2]=i,void(p[n>>2]=r);case 2:return void nt(s,s+4|0,s+8|0,i+-4|0,r);case 3:break b;case 1:break _;default:break c}return void at(s,s+4|0,s+8|0,s+12|0,i+-4|0,r)}if((0|n)<=123)return void st(s,i,r);if(c=((0|t)/2<<2)+s|0,h=(0|n)>=3997?at(s,(t=(0|t)/4<<2)+s|0,c,t+c|0,u,r):ot(s,c,u,r),t=p[r>>2],l=p[t>>2],o=p[t+4>>2]-l>>3,t=p[s>>2],o>>>0<=t>>>0)break d;if(n=p[c>>2],o>>>0<=n>>>0)break d;if(a=u,f=p[l+(t<<3)>>2],d=p[l+(n<<3)>>2],f>>>0>=d>>>0){for(;;){if((0|(a=a+-4|0))==(0|s)){if(t=p[u>>2],o>>>0<=t>>>0)break d;if(n=s+4|0,f>>>0<b[l+(t<<3)>>2])break p;if((0|n)==(0|u))break c;for(;;){if(a=p[n>>2],o>>>0<=a>>>0)break d;if(f>>>0<b[l+(a<<3)>>2]){p[n>>2]=t,p[u>>2]=a,n=n+4|0;break p}if((0|u)==(0|(n=n+4|0)))break}break c}if(n=p[a>>2],o>>>0<=n>>>0)break d;if(!(b[l+(n<<3)>>2]>=d>>>0))break}p[s>>2]=n,p[a>>2]=t,h=h+1|0}b:if(!((n=s+4|0)>>>0>=a>>>0)){if(t=p[n>>2],o>>>0<=t>>>0)break d;for(;;){for(f=p[c>>2],d=l+(f<<3)|0;;){if(o>>>0<=f>>>0)break d;if(_=p[d>>2],b[l+(t<<3)>>2]<_>>>0){if(t=p[n+4>>2],n=n+4|0,o>>>0>t>>>0)continue;break d}break}for(;;){if(f=p[(a=a+-4|0)>>2],o>>>0<=f>>>0)break d;if(!(b[l+(f<<3)>>2]>=_>>>0))break}if(n>>>0>a>>>0)break b;if(p[n>>2]=f,p[a>>2]=t,c=(0|n)==(0|c)?a:c,h=h+1|0,t=p[n+4>>2],n=n+4|0,!(o>>>0>t>>>0))break}break d}if((0|n)!=(0|c)){if(t=p[c>>2],o>>>0<=t>>>0)break d;if(a=p[n>>2],o>>>0<=a>>>0)break d;b[l+(t<<3)>>2]>=b[l+(a<<3)>>2]||(p[n>>2]=t,p[c>>2]=a,h=h+1|0)}if(!h){if(a=lt(s,n,r),lt(t=n+4|0,i,r)){if(i=n,t=s,!a)continue f;break c}if(a)continue h}if((n-s|0)<(i-n|0)){e(s,n,r),t=n+4|0;continue h}e(n+4|0,i,r),i=n,t=s;continue f}vo(),E()}ot(s,s+4|0,i+-4|0,r);break c}if((0|n)==(0|u))break c;if(t=u,a=p[s>>2],!(o>>>0<=a>>>0))for(;;){for(c=l+(a<<3)|0;;){if(h=p[n>>2],o>>>0<=h>>>0)break d;if((f=p[c>>2])>>>0>=b[l+(h<<3)>>2]){if(n=n+4|0,o>>>0>a>>>0)continue;break d}break}for(;;){if(a=p[(t=t+-4|0)>>2],o>>>0<=a>>>0)break d;if(!(f>>>0<b[l+(a<<3)>>2]))break}if(n>>>0>=t>>>0){s=n;continue u}if(p[n>>2]=a,p[t>>2]=h,n=n+4|0,a=p[s>>2],!(o>>>0>a>>>0))break}}break}break}break}vo(),E()}}(o,d,n+24|0);c:if((0|u)<4096)i=p[e>>2]+(p[p[n+12>>2]+-4>>2]<<3)|0,p[i>>2]=4096+(p[i>>2]-u|0),a=0;else for(i=u+-4096|0,f=p[n+8>>2],h=(0|l)<1;;){f:if(!h)for(c=4096/+(0|u),d=p[e>>2],o=l;;){if(a=d+(p[(o<<2)+f>>2]<<3)|0,(s=p[a>>2])>>>0<=1){if((0|o)!=(0|l))break f;a=1;break c}if(A=s+-1|0,m=a,y=s,g=i,a=s,_=T(c*+(s>>>0)),v=k(_)<2147483648?~~_:-2147483648,s=(0|(s=(0|(a=(a=a-v|0)||1))<(0|s)?a:A))>(0|i)?g:s,p[m>>2]=y-s,i=i-s|0,4096==(0|(u=u-s|0))){u=4096;break f}if(s=(0|o)>1,o=o+-1|0,!s)break}if(a=0,!((0|i)>0))break}if((i=p[n+8>>2])&&(p[n+12>>2]=i,Mo(i)),a)break s;if((0|l)>=0)break o;break s}if((0|l)<0)break s}for(s=p[e>>2],a=0,i=0;p[(o=s+(a<<3)|0)+4>>2]=i,i=p[o>>2]+i|0,o=(0|a)==(0|l),a=a+1|0,!o;);if(4096==(0|i)){if(a=0,c=0,(0|l)>=0)for(i=p[e>>2];(o=p[(s=a<<3)+i>>2])&&(s=t+s|0,c+=Co(.000244140625*+(o>>>0))*(+b[s>>2]+4294967296*+b[s+4>>2])),s=(0|a)==(0|l),a=a+1|0,!s;);t=e,i=e,(c=w(-c))<0x10000000000000000&c>=0?(s=k(c)>=1?c>0?~~S(T(c/4294967296),4294967295)>>>0:~~w((c-+(~~c>>>0>>>0))/4294967296)>>>0:0,l=~~c>>>0):(s=0,l=0),p[i+16>>2]=l,p[t+20>>2]=s,it(e,r)}}return void(V=n+32|0)}Ao(),E()}(n,h,c-h>>3,r),a=p[s>>2],i=p[s+4>>2],s=p[r+4>>2]-p[r>>2]|0,p[n+40>>2]=s,p[n+44>>2]=0,c=a,a=i<<1|a>>>31,(i=39+(c<<1)|0)>>>0<39&&(a=a+1|0),c=i,i=a>>>3,(a=s+((7&a)<<29|c>>>3)|0)>>>0<s>>>0&&(i=i+1|0),la(o=r,s=a+8|0),i=p[r>>2],p[n+28>>2]=0,p[n+32>>2]=16384,p[f>>2]=i+p[n+40>>2],(0|t)>=1)for(o=16384;;){if(i=t+-1|0,c=p[n>>2]+(p[(i<<2)+e>>2]<<3)|0,f=p[c>>2],o>>>0>=(a=f<<10)>>>0)for(;s=p[n+28>>2],p[n+28>>2]=s+1,l[s+p[n+24>>2]|0]=o,o=p[n+32>>2]>>>8,p[n+32>>2]=o,o>>>0>=a>>>0;);if(s=(o>>>0)/(f>>>0)|0,o=p[c+4>>2]+((s<<12)+(o-y(s,f)|0)|0)|0,p[n+32>>2]=o,s=(0|t)>1,t=i,!s)break}return tt(n,r),(e=p[n>>2])&&(p[n+4>>2]=e,Mo(e)),(e=p[n+48>>2])&&(p[n+52>>2]=e,Mo(e)),V=n- -64|0,1}Ao(),E()}(e,t,i,a);break i;case 0:o=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0;V=n=V+-64|0,p[n+56>>2]=0,p[n+48>>2]=0,p[n+52>>2]=0;n:{if((a=i+1|0)>>>0>=i>>>0){if(a>>>0>=536870912)break n;for(h=oo(s=a<<3),p[n+48>>2]=h,p[n+52>>2]=h,p[n+56>>2]=s+h,c=Do(h,0,8+(i<<3)|0);c=c+8|0,a=a+-1|0;);p[n+52>>2]=c}if((0|t)>=1)for(;i=(p[(o<<2)+e>>2]<<3)+h|0,s=i,f=i,a=p[i+4>>2],(i=p[i>>2]+1|0)>>>0<1&&(a=a+1|0),p[f>>2]=i,p[s+4>>2]=a,(0|(o=o+1|0))!=(0|t););if(p[n+8>>2]=0,p[n+12>>2]=0,p[(i=s=n+16|0)>>2]=0,p[i+4>>2]=0,p[(i=f=n+24|0)>>2]=0,p[i+4>>2]=0,p[n+32>>2]=0,p[n>>2]=0,p[n+4>>2]=0,p[n+40>>2]=0,p[n+44>>2]=0,function(e,t,i,r){var n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,A=0,v=0,y=0,g=0;if(V=n=V-32|0,(0|i)>0)for(;m=l,f=p[(l=(a<<3)+t|0)+4>>2],o=p[l>>2],l=f|o?a:m,s=s+f|0,(f=o+h|0)>>>0<o>>>0&&(s=s+1|0),h=f,(0|(a=a+1|0))!=(0|i););f=l+1|0,p[e+12>>2]=f,o=p[e>>2],i=p[e+4>>2]-o>>3;f>>>0>i>>>0?qe(e,f-i|0):f>>>0>=i>>>0||(p[e+4>>2]=o+(f<<3));a:{s:{o:{l:{if((0|l)>=0){for(_=+(h>>>0)+4294967296*+(s>>>0),s=p[e>>2],a=0;i=p[(h=(o=a<<3)+t|0)+4>>2],h=p[h>>2],A=0!=(0|h)|0!=(0|i),i=(c=(+(h>>>0)+4294967296*+(i>>>0))/_*4096+.5)<4294967296&c>=0?~~c>>>0:0,i=A?i||1:i,p[(o=s+o|0)>>2]=i,u=i+u|0,i=(0|a)==(0|l),a=a+1|0,!i;);if(4096==(0|u))break l}if(p[n+16>>2]=0,p[n+8>>2]=0,p[n+12>>2]=0,o=0,f){if(f>>>0>=1073741824)break a;o=oo(i=f<<2),p[n+8>>2]=o,d=i+o|0,p[n+16>>2]=d,Do(o,0,i),p[n+12>>2]=d}if((0|l)>-1)for(a=0;p[(a<<2)+o>>2]=a,i=(0|a)==(0|l),a=a+1|0,!i;);p[n+24>>2]=e,function e(t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0;c:{f:for(;;){u=i+-4|0;h:for(;;){s=t;u:for(;;){d:{p:{_:{m:{if((t=(n=i-s|0)>>2)>>>0<=5){b:switch(t-2|0){case 0:if(r=p[r>>2],t=p[r>>2],r=p[r+4>>2]-t>>3,i=p[(n=i+-4|0)>>2],r>>>0<=i>>>0)break m;if(u=r,r=p[s>>2],u>>>0<=r>>>0)break m;if(b[t+(i<<3)>>2]>=b[t+(r<<3)>>2])break c;return p[s>>2]=i,void(p[n>>2]=r);case 2:return void nt(s,s+4|0,s+8|0,i+-4|0,r);case 3:break b;case 1:break _;default:break c}return void at(s,s+4|0,s+8|0,s+12|0,i+-4|0,r)}if((0|n)<=123)return void st(s,i,r);if(c=((0|t)/2<<2)+s|0,h=(0|n)>=3997?at(s,(t=(0|t)/4<<2)+s|0,c,t+c|0,u,r):ot(s,c,u,r),t=p[r>>2],l=p[t>>2],o=p[t+4>>2]-l>>3,t=p[s>>2],o>>>0<=t>>>0)break d;if(n=p[c>>2],o>>>0<=n>>>0)break d;if(a=u,f=p[l+(t<<3)>>2],d=p[l+(n<<3)>>2],f>>>0>=d>>>0){for(;;){if((0|(a=a+-4|0))==(0|s)){if(t=p[u>>2],o>>>0<=t>>>0)break d;if(n=s+4|0,f>>>0<b[l+(t<<3)>>2])break p;if((0|n)==(0|u))break c;for(;;){if(a=p[n>>2],o>>>0<=a>>>0)break d;if(f>>>0<b[l+(a<<3)>>2]){p[n>>2]=t,p[u>>2]=a,n=n+4|0;break p}if((0|u)==(0|(n=n+4|0)))break}break c}if(n=p[a>>2],o>>>0<=n>>>0)break d;if(!(b[l+(n<<3)>>2]>=d>>>0))break}p[s>>2]=n,p[a>>2]=t,h=h+1|0}b:if(!((n=s+4|0)>>>0>=a>>>0)){if(t=p[n>>2],o>>>0<=t>>>0)break d;for(;;){for(f=p[c>>2],d=l+(f<<3)|0;;){if(o>>>0<=f>>>0)break d;if(_=p[d>>2],b[l+(t<<3)>>2]<_>>>0){if(t=p[n+4>>2],n=n+4|0,o>>>0>t>>>0)continue;break d}break}for(;;){if(f=p[(a=a+-4|0)>>2],o>>>0<=f>>>0)break d;if(!(b[l+(f<<3)>>2]>=_>>>0))break}if(n>>>0>a>>>0)break b;if(p[n>>2]=f,p[a>>2]=t,c=(0|n)==(0|c)?a:c,h=h+1|0,t=p[n+4>>2],n=n+4|0,!(o>>>0>t>>>0))break}break d}if((0|n)!=(0|c)){if(t=p[c>>2],o>>>0<=t>>>0)break d;if(a=p[n>>2],o>>>0<=a>>>0)break d;b[l+(t<<3)>>2]>=b[l+(a<<3)>>2]||(p[n>>2]=t,p[c>>2]=a,h=h+1|0)}if(!h){if(a=lt(s,n,r),lt(t=n+4|0,i,r)){if(i=n,t=s,!a)continue f;break c}if(a)continue h}if((n-s|0)<(i-n|0)){e(s,n,r),t=n+4|0;continue h}e(n+4|0,i,r),i=n,t=s;continue f}vo(),E()}ot(s,s+4|0,i+-4|0,r);break c}if((0|n)==(0|u))break c;if(t=u,a=p[s>>2],!(o>>>0<=a>>>0))for(;;){for(c=l+(a<<3)|0;;){if(h=p[n>>2],o>>>0<=h>>>0)break d;if((f=p[c>>2])>>>0>=b[l+(h<<3)>>2]){if(n=n+4|0,o>>>0>a>>>0)continue;break d}break}for(;;){if(a=p[(t=t+-4|0)>>2],o>>>0<=a>>>0)break d;if(!(f>>>0<b[l+(a<<3)>>2]))break}if(n>>>0>=t>>>0){s=n;continue u}if(p[n>>2]=a,p[t>>2]=h,n=n+4|0,a=p[s>>2],!(o>>>0>a>>>0))break}}break}break}break}vo(),E()}}(o,d,n+24|0);c:if((0|u)<4096)i=p[e>>2]+(p[p[n+12>>2]+-4>>2]<<3)|0,p[i>>2]=4096+(p[i>>2]-u|0),a=0;else for(i=u+-4096|0,f=p[n+8>>2],h=(0|l)<1;;){f:if(!h)for(c=4096/+(0|u),d=p[e>>2],o=l;;){if(a=d+(p[(o<<2)+f>>2]<<3)|0,(s=p[a>>2])>>>0<=1){if((0|o)!=(0|l))break f;a=1;break c}if(A=s+-1|0,m=a,y=s,g=i,a=s,_=T(c*+(s>>>0)),v=k(_)<2147483648?~~_:-2147483648,s=(0|(s=(0|(a=(a=a-v|0)||1))<(0|s)?a:A))>(0|i)?g:s,p[m>>2]=y-s,i=i-s|0,4096==(0|(u=u-s|0))){u=4096;break f}if(s=(0|o)>1,o=o+-1|0,!s)break}if(a=0,!((0|i)>0))break}if((i=p[n+8>>2])&&(p[n+12>>2]=i,Mo(i)),a)break s;if((0|l)>=0)break o;break s}if((0|l)<0)break s}for(s=p[e>>2],a=0,i=0;p[(o=s+(a<<3)|0)+4>>2]=i,i=p[o>>2]+i|0,o=(0|a)==(0|l),a=a+1|0,!o;);if(4096==(0|i)){if(a=0,c=0,(0|l)>=0)for(i=p[e>>2];(o=p[(s=a<<3)+i>>2])&&(s=t+s|0,c+=Co(.000244140625*+(o>>>0))*(+b[s>>2]+4294967296*+b[s+4>>2])),s=(0|a)==(0|l),a=a+1|0,!s;);t=e,i=e,(c=w(-c))<0x10000000000000000&c>=0?(s=k(c)>=1?c>0?~~S(T(c/4294967296),4294967295)>>>0:~~w((c-+(~~c>>>0>>>0))/4294967296)>>>0:0,l=~~c>>>0):(s=0,l=0),p[i+16>>2]=l,p[t+20>>2]=s,it(e,r)}}return void(V=n+32|0)}Ao(),E()}(n,h,c-h>>3,r),a=p[s>>2],i=p[s+4>>2],s=p[r+4>>2]-p[r>>2]|0,p[n+40>>2]=s,p[n+44>>2]=0,c=a,a=i<<1|a>>>31,(i=39+(c<<1)|0)>>>0<39&&(a=a+1|0),c=i,i=a>>>3,(a=s+((7&a)<<29|c>>>3)|0)>>>0<s>>>0&&(i=i+1|0),la(o=r,s=a+8|0),i=p[r>>2],p[n+28>>2]=0,p[n+32>>2]=16384,p[f>>2]=i+p[n+40>>2],(0|t)>=1)for(o=16384;;){if(i=t+-1|0,c=p[n>>2]+(p[(i<<2)+e>>2]<<3)|0,f=p[c>>2],o>>>0>=(a=f<<10)>>>0)for(;s=p[n+28>>2],p[n+28>>2]=s+1,l[s+p[n+24>>2]|0]=o,o=p[n+32>>2]>>>8,p[n+32>>2]=o,o>>>0>=a>>>0;);if(s=(o>>>0)/(f>>>0)|0,o=p[c+4>>2]+((s<<12)+(o-y(s,f)|0)|0)|0,p[n+32>>2]=o,s=(0|t)>1,t=i,!s)break}return tt(n,r),(e=p[n>>2])&&(p[n+4>>2]=e,Mo(e)),(e=p[n+48>>2])&&(p[n+52>>2]=e,Mo(e)),V=n- -64|0,1}Ao(),E()}(e,t,i,a);break i;case 1:o=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0;V=n=V+-64|0,p[n+56>>2]=0,p[n+48>>2]=0,p[n+52>>2]=0;n:{if((a=i+1|0)>>>0>=i>>>0){if(a>>>0>=536870912)break n;for(h=oo(s=a<<3),p[n+48>>2]=h,p[n+52>>2]=h,p[n+56>>2]=s+h,c=Do(h,0,8+(i<<3)|0);c=c+8|0,a=a+-1|0;);p[n+52>>2]=c}if((0|t)>=1)for(;i=(p[(o<<2)+e>>2]<<3)+h|0,s=i,f=i,a=p[i+4>>2],(i=p[i>>2]+1|0)>>>0<1&&(a=a+1|0),p[f>>2]=i,p[s+4>>2]=a,(0|(o=o+1|0))!=(0|t););if(p[n+8>>2]=0,p[n+12>>2]=0,p[(i=s=n+16|0)>>2]=0,p[i+4>>2]=0,p[(i=f=n+24|0)>>2]=0,p[i+4>>2]=0,p[n+32>>2]=0,p[n>>2]=0,p[n+4>>2]=0,p[n+40>>2]=0,p[n+44>>2]=0,function(e,t,i,r){var n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,A=0,v=0,y=0,g=0;if(V=n=V-32|0,(0|i)>0)for(;m=l,f=p[(l=(a<<3)+t|0)+4>>2],o=p[l>>2],l=f|o?a:m,s=s+f|0,(f=o+h|0)>>>0<o>>>0&&(s=s+1|0),h=f,(0|(a=a+1|0))!=(0|i););f=l+1|0,p[e+12>>2]=f,o=p[e>>2],i=p[e+4>>2]-o>>3;f>>>0>i>>>0?qe(e,f-i|0):f>>>0>=i>>>0||(p[e+4>>2]=o+(f<<3));a:{s:{o:{l:{if((0|l)>=0){for(_=+(h>>>0)+4294967296*+(s>>>0),s=p[e>>2],a=0;i=p[(h=(o=a<<3)+t|0)+4>>2],h=p[h>>2],A=0!=(0|h)|0!=(0|i),i=(c=(+(h>>>0)+4294967296*+(i>>>0))/_*4096+.5)<4294967296&c>=0?~~c>>>0:0,i=A?i||1:i,p[(o=s+o|0)>>2]=i,u=i+u|0,i=(0|a)==(0|l),a=a+1|0,!i;);if(4096==(0|u))break l}if(p[n+16>>2]=0,p[n+8>>2]=0,p[n+12>>2]=0,o=0,f){if(f>>>0>=1073741824)break a;o=oo(i=f<<2),p[n+8>>2]=o,d=i+o|0,p[n+16>>2]=d,Do(o,0,i),p[n+12>>2]=d}if((0|l)>-1)for(a=0;p[(a<<2)+o>>2]=a,i=(0|a)==(0|l),a=a+1|0,!i;);p[n+24>>2]=e,function e(t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0;c:{f:for(;;){u=i+-4|0;h:for(;;){s=t;u:for(;;){d:{p:{_:{m:{if((t=(n=i-s|0)>>2)>>>0<=5){b:switch(t-2|0){case 0:if(r=p[r>>2],t=p[r>>2],r=p[r+4>>2]-t>>3,i=p[(n=i+-4|0)>>2],r>>>0<=i>>>0)break m;if(u=r,r=p[s>>2],u>>>0<=r>>>0)break m;if(b[t+(i<<3)>>2]>=b[t+(r<<3)>>2])break c;return p[s>>2]=i,void(p[n>>2]=r);case 2:return void nt(s,s+4|0,s+8|0,i+-4|0,r);case 3:break b;case 1:break _;default:break c}return void at(s,s+4|0,s+8|0,s+12|0,i+-4|0,r)}if((0|n)<=123)return void st(s,i,r);if(c=((0|t)/2<<2)+s|0,h=(0|n)>=3997?at(s,(t=(0|t)/4<<2)+s|0,c,t+c|0,u,r):ot(s,c,u,r),t=p[r>>2],l=p[t>>2],o=p[t+4>>2]-l>>3,t=p[s>>2],o>>>0<=t>>>0)break d;if(n=p[c>>2],o>>>0<=n>>>0)break d;if(a=u,f=p[l+(t<<3)>>2],d=p[l+(n<<3)>>2],f>>>0>=d>>>0){for(;;){if((0|(a=a+-4|0))==(0|s)){if(t=p[u>>2],o>>>0<=t>>>0)break d;if(n=s+4|0,f>>>0<b[l+(t<<3)>>2])break p;if((0|n)==(0|u))break c;for(;;){if(a=p[n>>2],o>>>0<=a>>>0)break d;if(f>>>0<b[l+(a<<3)>>2]){p[n>>2]=t,p[u>>2]=a,n=n+4|0;break p}if((0|u)==(0|(n=n+4|0)))break}break c}if(n=p[a>>2],o>>>0<=n>>>0)break d;if(!(b[l+(n<<3)>>2]>=d>>>0))break}p[s>>2]=n,p[a>>2]=t,h=h+1|0}b:if(!((n=s+4|0)>>>0>=a>>>0)){if(t=p[n>>2],o>>>0<=t>>>0)break d;for(;;){for(f=p[c>>2],d=l+(f<<3)|0;;){if(o>>>0<=f>>>0)break d;if(_=p[d>>2],b[l+(t<<3)>>2]<_>>>0){if(t=p[n+4>>2],n=n+4|0,o>>>0>t>>>0)continue;break d}break}for(;;){if(f=p[(a=a+-4|0)>>2],o>>>0<=f>>>0)break d;if(!(b[l+(f<<3)>>2]>=_>>>0))break}if(n>>>0>a>>>0)break b;if(p[n>>2]=f,p[a>>2]=t,c=(0|n)==(0|c)?a:c,h=h+1|0,t=p[n+4>>2],n=n+4|0,!(o>>>0>t>>>0))break}break d}if((0|n)!=(0|c)){if(t=p[c>>2],o>>>0<=t>>>0)break d;if(a=p[n>>2],o>>>0<=a>>>0)break d;b[l+(t<<3)>>2]>=b[l+(a<<3)>>2]||(p[n>>2]=t,p[c>>2]=a,h=h+1|0)}if(!h){if(a=lt(s,n,r),lt(t=n+4|0,i,r)){if(i=n,t=s,!a)continue f;break c}if(a)continue h}if((n-s|0)<(i-n|0)){e(s,n,r),t=n+4|0;continue h}e(n+4|0,i,r),i=n,t=s;continue f}vo(),E()}ot(s,s+4|0,i+-4|0,r);break c}if((0|n)==(0|u))break c;if(t=u,a=p[s>>2],!(o>>>0<=a>>>0))for(;;){for(c=l+(a<<3)|0;;){if(h=p[n>>2],o>>>0<=h>>>0)break d;if((f=p[c>>2])>>>0>=b[l+(h<<3)>>2]){if(n=n+4|0,o>>>0>a>>>0)continue;break d}break}for(;;){if(a=p[(t=t+-4|0)>>2],o>>>0<=a>>>0)break d;if(!(f>>>0<b[l+(a<<3)>>2]))break}if(n>>>0>=t>>>0){s=n;continue u}if(p[n>>2]=a,p[t>>2]=h,n=n+4|0,a=p[s>>2],!(o>>>0>a>>>0))break}}break}break}break}vo(),E()}}(o,d,n+24|0);c:if((0|u)<4096)i=p[e>>2]+(p[p[n+12>>2]+-4>>2]<<3)|0,p[i>>2]=4096+(p[i>>2]-u|0),a=0;else for(i=u+-4096|0,f=p[n+8>>2],h=(0|l)<1;;){f:if(!h)for(c=4096/+(0|u),d=p[e>>2],o=l;;){if(a=d+(p[(o<<2)+f>>2]<<3)|0,(s=p[a>>2])>>>0<=1){if((0|o)!=(0|l))break f;a=1;break c}if(A=s+-1|0,m=a,y=s,g=i,a=s,_=T(c*+(s>>>0)),v=k(_)<2147483648?~~_:-2147483648,s=(0|(s=(0|(a=(a=a-v|0)||1))<(0|s)?a:A))>(0|i)?g:s,p[m>>2]=y-s,i=i-s|0,4096==(0|(u=u-s|0))){u=4096;break f}if(s=(0|o)>1,o=o+-1|0,!s)break}if(a=0,!((0|i)>0))break}if((i=p[n+8>>2])&&(p[n+12>>2]=i,Mo(i)),a)break s;if((0|l)>=0)break o;break s}if((0|l)<0)break s}for(s=p[e>>2],a=0,i=0;p[(o=s+(a<<3)|0)+4>>2]=i,i=p[o>>2]+i|0,o=(0|a)==(0|l),a=a+1|0,!o;);if(4096==(0|i)){if(a=0,c=0,(0|l)>=0)for(i=p[e>>2];(o=p[(s=a<<3)+i>>2])&&(s=t+s|0,c+=Co(.000244140625*+(o>>>0))*(+b[s>>2]+4294967296*+b[s+4>>2])),s=(0|a)==(0|l),a=a+1|0,!s;);t=e,i=e,(c=w(-c))<0x10000000000000000&c>=0?(s=k(c)>=1?c>0?~~S(T(c/4294967296),4294967295)>>>0:~~w((c-+(~~c>>>0>>>0))/4294967296)>>>0:0,l=~~c>>>0):(s=0,l=0),p[i+16>>2]=l,p[t+20>>2]=s,it(e,r)}}return void(V=n+32|0)}Ao(),E()}(n,h,c-h>>3,r),a=p[s>>2],i=p[s+4>>2],s=p[r+4>>2]-p[r>>2]|0,p[n+40>>2]=s,p[n+44>>2]=0,c=a,a=i<<1|a>>>31,(i=39+(c<<1)|0)>>>0<39&&(a=a+1|0),c=i,i=a>>>3,(a=s+((7&a)<<29|c>>>3)|0)>>>0<s>>>0&&(i=i+1|0),la(o=r,s=a+8|0),i=p[r>>2],p[n+28>>2]=0,p[n+32>>2]=16384,p[f>>2]=i+p[n+40>>2],(0|t)>=1)for(o=16384;;){if(i=t+-1|0,c=p[n>>2]+(p[(i<<2)+e>>2]<<3)|0,f=p[c>>2],o>>>0>=(a=f<<10)>>>0)for(;s=p[n+28>>2],p[n+28>>2]=s+1,l[s+p[n+24>>2]|0]=o,o=p[n+32>>2]>>>8,p[n+32>>2]=o,o>>>0>=a>>>0;);if(s=(o>>>0)/(f>>>0)|0,o=p[c+4>>2]+((s<<12)+(o-y(s,f)|0)|0)|0,p[n+32>>2]=o,s=(0|t)>1,t=i,!s)break}return tt(n,r),(e=p[n>>2])&&(p[n+4>>2]=e,Mo(e)),(e=p[n+48>>2])&&(p[n+52>>2]=e,Mo(e)),V=n- -64|0,1}Ao(),E()}(e,t,i,a);break i;case 2:o=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0;V=n=V+-64|0,p[n+56>>2]=0,p[n+48>>2]=0,p[n+52>>2]=0;n:{if((a=i+1|0)>>>0>=i>>>0){if(a>>>0>=536870912)break n;for(h=oo(s=a<<3),p[n+48>>2]=h,p[n+52>>2]=h,p[n+56>>2]=s+h,c=Do(h,0,8+(i<<3)|0);c=c+8|0,a=a+-1|0;);p[n+52>>2]=c}if((0|t)>=1)for(;i=(p[(o<<2)+e>>2]<<3)+h|0,s=i,f=i,a=p[i+4>>2],(i=p[i>>2]+1|0)>>>0<1&&(a=a+1|0),p[f>>2]=i,p[s+4>>2]=a,(0|(o=o+1|0))!=(0|t););if(p[n+8>>2]=0,p[n+12>>2]=0,p[(i=s=n+16|0)>>2]=0,p[i+4>>2]=0,p[(i=f=n+24|0)>>2]=0,p[i+4>>2]=0,p[n+32>>2]=0,p[n>>2]=0,p[n+4>>2]=0,p[n+40>>2]=0,p[n+44>>2]=0,function(e,t,i,r){var n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,A=0,v=0,y=0,g=0;if(V=n=V-32|0,(0|i)>0)for(;m=l,f=p[(l=(a<<3)+t|0)+4>>2],o=p[l>>2],l=f|o?a:m,s=s+f|0,(f=o+h|0)>>>0<o>>>0&&(s=s+1|0),h=f,(0|(a=a+1|0))!=(0|i););f=l+1|0,p[e+12>>2]=f,o=p[e>>2],i=p[e+4>>2]-o>>3;f>>>0>i>>>0?qe(e,f-i|0):f>>>0>=i>>>0||(p[e+4>>2]=o+(f<<3));a:{s:{o:{l:{if((0|l)>=0){for(_=+(h>>>0)+4294967296*+(s>>>0),s=p[e>>2],a=0;i=p[(h=(o=a<<3)+t|0)+4>>2],h=p[h>>2],A=0!=(0|h)|0!=(0|i),i=(c=(+(h>>>0)+4294967296*+(i>>>0))/_*4096+.5)<4294967296&c>=0?~~c>>>0:0,i=A?i||1:i,p[(o=s+o|0)>>2]=i,u=i+u|0,i=(0|a)==(0|l),a=a+1|0,!i;);if(4096==(0|u))break l}if(p[n+16>>2]=0,p[n+8>>2]=0,p[n+12>>2]=0,o=0,f){if(f>>>0>=1073741824)break a;o=oo(i=f<<2),p[n+8>>2]=o,d=i+o|0,p[n+16>>2]=d,Do(o,0,i),p[n+12>>2]=d}if((0|l)>-1)for(a=0;p[(a<<2)+o>>2]=a,i=(0|a)==(0|l),a=a+1|0,!i;);p[n+24>>2]=e,function e(t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0;c:{f:for(;;){u=i+-4|0;h:for(;;){s=t;u:for(;;){d:{p:{_:{m:{if((t=(n=i-s|0)>>2)>>>0<=5){b:switch(t-2|0){case 0:if(r=p[r>>2],t=p[r>>2],r=p[r+4>>2]-t>>3,i=p[(n=i+-4|0)>>2],r>>>0<=i>>>0)break m;if(u=r,r=p[s>>2],u>>>0<=r>>>0)break m;if(b[t+(i<<3)>>2]>=b[t+(r<<3)>>2])break c;return p[s>>2]=i,void(p[n>>2]=r);case 2:return void nt(s,s+4|0,s+8|0,i+-4|0,r);case 3:break b;case 1:break _;default:break c}return void at(s,s+4|0,s+8|0,s+12|0,i+-4|0,r)}if((0|n)<=123)return void st(s,i,r);if(c=((0|t)/2<<2)+s|0,h=(0|n)>=3997?at(s,(t=(0|t)/4<<2)+s|0,c,t+c|0,u,r):ot(s,c,u,r),t=p[r>>2],l=p[t>>2],o=p[t+4>>2]-l>>3,t=p[s>>2],o>>>0<=t>>>0)break d;if(n=p[c>>2],o>>>0<=n>>>0)break d;if(a=u,f=p[l+(t<<3)>>2],d=p[l+(n<<3)>>2],f>>>0>=d>>>0){for(;;){if((0|(a=a+-4|0))==(0|s)){if(t=p[u>>2],o>>>0<=t>>>0)break d;if(n=s+4|0,f>>>0<b[l+(t<<3)>>2])break p;if((0|n)==(0|u))break c;for(;;){if(a=p[n>>2],o>>>0<=a>>>0)break d;if(f>>>0<b[l+(a<<3)>>2]){p[n>>2]=t,p[u>>2]=a,n=n+4|0;break p}if((0|u)==(0|(n=n+4|0)))break}break c}if(n=p[a>>2],o>>>0<=n>>>0)break d;if(!(b[l+(n<<3)>>2]>=d>>>0))break}p[s>>2]=n,p[a>>2]=t,h=h+1|0}b:if(!((n=s+4|0)>>>0>=a>>>0)){if(t=p[n>>2],o>>>0<=t>>>0)break d;for(;;){for(f=p[c>>2],d=l+(f<<3)|0;;){if(o>>>0<=f>>>0)break d;if(_=p[d>>2],b[l+(t<<3)>>2]<_>>>0){if(t=p[n+4>>2],n=n+4|0,o>>>0>t>>>0)continue;break d}break}for(;;){if(f=p[(a=a+-4|0)>>2],o>>>0<=f>>>0)break d;if(!(b[l+(f<<3)>>2]>=_>>>0))break}if(n>>>0>a>>>0)break b;if(p[n>>2]=f,p[a>>2]=t,c=(0|n)==(0|c)?a:c,h=h+1|0,t=p[n+4>>2],n=n+4|0,!(o>>>0>t>>>0))break}break d}if((0|n)!=(0|c)){if(t=p[c>>2],o>>>0<=t>>>0)break d;if(a=p[n>>2],o>>>0<=a>>>0)break d;b[l+(t<<3)>>2]>=b[l+(a<<3)>>2]||(p[n>>2]=t,p[c>>2]=a,h=h+1|0)}if(!h){if(a=lt(s,n,r),lt(t=n+4|0,i,r)){if(i=n,t=s,!a)continue f;break c}if(a)continue h}if((n-s|0)<(i-n|0)){e(s,n,r),t=n+4|0;continue h}e(n+4|0,i,r),i=n,t=s;continue f}vo(),E()}ot(s,s+4|0,i+-4|0,r);break c}if((0|n)==(0|u))break c;if(t=u,a=p[s>>2],!(o>>>0<=a>>>0))for(;;){for(c=l+(a<<3)|0;;){if(h=p[n>>2],o>>>0<=h>>>0)break d;if((f=p[c>>2])>>>0>=b[l+(h<<3)>>2]){if(n=n+4|0,o>>>0>a>>>0)continue;break d}break}for(;;){if(a=p[(t=t+-4|0)>>2],o>>>0<=a>>>0)break d;if(!(f>>>0<b[l+(a<<3)>>2]))break}if(n>>>0>=t>>>0){s=n;continue u}if(p[n>>2]=a,p[t>>2]=h,n=n+4|0,a=p[s>>2],!(o>>>0>a>>>0))break}}break}break}break}vo(),E()}}(o,d,n+24|0);c:if((0|u)<4096)i=p[e>>2]+(p[p[n+12>>2]+-4>>2]<<3)|0,p[i>>2]=4096+(p[i>>2]-u|0),a=0;else for(i=u+-4096|0,f=p[n+8>>2],h=(0|l)<1;;){f:if(!h)for(c=4096/+(0|u),d=p[e>>2],o=l;;){if(a=d+(p[(o<<2)+f>>2]<<3)|0,(s=p[a>>2])>>>0<=1){if((0|o)!=(0|l))break f;a=1;break c}if(A=s+-1|0,m=a,y=s,g=i,a=s,_=T(c*+(s>>>0)),v=k(_)<2147483648?~~_:-2147483648,s=(0|(s=(0|(a=(a=a-v|0)||1))<(0|s)?a:A))>(0|i)?g:s,p[m>>2]=y-s,i=i-s|0,4096==(0|(u=u-s|0))){u=4096;break f}if(s=(0|o)>1,o=o+-1|0,!s)break}if(a=0,!((0|i)>0))break}if((i=p[n+8>>2])&&(p[n+12>>2]=i,Mo(i)),a)break s;if((0|l)>=0)break o;break s}if((0|l)<0)break s}for(s=p[e>>2],a=0,i=0;p[(o=s+(a<<3)|0)+4>>2]=i,i=p[o>>2]+i|0,o=(0|a)==(0|l),a=a+1|0,!o;);if(4096==(0|i)){if(a=0,c=0,(0|l)>=0)for(i=p[e>>2];(o=p[(s=a<<3)+i>>2])&&(s=t+s|0,c+=Co(.000244140625*+(o>>>0))*(+b[s>>2]+4294967296*+b[s+4>>2])),s=(0|a)==(0|l),a=a+1|0,!s;);t=e,i=e,(c=w(-c))<0x10000000000000000&c>=0?(s=k(c)>=1?c>0?~~S(T(c/4294967296),4294967295)>>>0:~~w((c-+(~~c>>>0>>>0))/4294967296)>>>0:0,l=~~c>>>0):(s=0,l=0),p[i+16>>2]=l,p[t+20>>2]=s,it(e,r)}}return void(V=n+32|0)}Ao(),E()}(n,h,c-h>>3,r),a=p[s>>2],i=p[s+4>>2],s=p[r+4>>2]-p[r>>2]|0,p[n+40>>2]=s,p[n+44>>2]=0,c=a,a=i<<1|a>>>31,(i=39+(c<<1)|0)>>>0<39&&(a=a+1|0),c=i,i=a>>>3,(a=s+((7&a)<<29|c>>>3)|0)>>>0<s>>>0&&(i=i+1|0),la(o=r,s=a+8|0),i=p[r>>2],p[n+28>>2]=0,p[n+32>>2]=16384,p[f>>2]=i+p[n+40>>2],(0|t)>=1)for(o=16384;;){if(i=t+-1|0,c=p[n>>2]+(p[(i<<2)+e>>2]<<3)|0,f=p[c>>2],o>>>0>=(a=f<<10)>>>0)for(;s=p[n+28>>2],p[n+28>>2]=s+1,l[s+p[n+24>>2]|0]=o,o=p[n+32>>2]>>>8,p[n+32>>2]=o,o>>>0>=a>>>0;);if(s=(o>>>0)/(f>>>0)|0,o=p[c+4>>2]+((s<<12)+(o-y(s,f)|0)|0)|0,p[n+32>>2]=o,s=(0|t)>1,t=i,!s)break}return tt(n,r),(e=p[n>>2])&&(p[n+4>>2]=e,Mo(e)),(e=p[n+48>>2])&&(p[n+52>>2]=e,Mo(e)),V=n- -64|0,1}Ao(),E()}(e,t,i,a);break i;case 3:o=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0;V=n=V+-64|0,p[n+56>>2]=0,p[n+48>>2]=0,p[n+52>>2]=0;n:{if((a=i+1|0)>>>0>=i>>>0){if(a>>>0>=536870912)break n;for(h=oo(s=a<<3),p[n+48>>2]=h,p[n+52>>2]=h,p[n+56>>2]=s+h,c=Do(h,0,8+(i<<3)|0);c=c+8|0,a=a+-1|0;);p[n+52>>2]=c}if((0|t)>=1)for(;i=(p[(o<<2)+e>>2]<<3)+h|0,s=i,f=i,a=p[i+4>>2],(i=p[i>>2]+1|0)>>>0<1&&(a=a+1|0),p[f>>2]=i,p[s+4>>2]=a,(0|(o=o+1|0))!=(0|t););if(p[n+8>>2]=0,p[n+12>>2]=0,p[(i=s=n+16|0)>>2]=0,p[i+4>>2]=0,p[(i=f=n+24|0)>>2]=0,p[i+4>>2]=0,p[n+32>>2]=0,p[n>>2]=0,p[n+4>>2]=0,p[n+40>>2]=0,p[n+44>>2]=0,et(n,h,c-h>>3,r),a=p[s>>2],i=p[s+4>>2],s=p[r+4>>2]-p[r>>2]|0,p[n+40>>2]=s,p[n+44>>2]=0,c=a,a=i<<1|a>>>31,(i=39+(c<<1)|0)>>>0<39&&(a=a+1|0),c=i,i=a>>>3,(a=s+((7&a)<<29|c>>>3)|0)>>>0<s>>>0&&(i=i+1|0),la(o=r,s=a+8|0),i=p[r>>2],p[n+28>>2]=0,p[n+32>>2]=16384,p[f>>2]=i+p[n+40>>2],(0|t)>=1)for(o=16384;;){if(i=t+-1|0,c=p[n>>2]+(p[(i<<2)+e>>2]<<3)|0,f=p[c>>2],o>>>0>=(a=f<<10)>>>0)for(;s=p[n+28>>2],p[n+28>>2]=s+1,l[s+p[n+24>>2]|0]=o,o=p[n+32>>2]>>>8,p[n+32>>2]=o,o>>>0>=a>>>0;);if(s=(o>>>0)/(f>>>0)|0,o=p[c+4>>2]+((s<<12)+(o-y(s,f)|0)|0)|0,p[n+32>>2]=o,s=(0|t)>1,t=i,!s)break}return tt(n,r),(e=p[n>>2])&&(p[n+4>>2]=e,Mo(e)),(e=p[n+48>>2])&&(p[n+52>>2]=e,Mo(e)),V=n- -64|0,1}Ao(),E()}(e,t,i,a);break i;case 4:o=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0;V=n=V+-64|0,p[n+56>>2]=0,p[n+48>>2]=0,p[n+52>>2]=0;n:{if((a=i+1|0)>>>0>=i>>>0){if(a>>>0>=536870912)break n;for(h=oo(s=a<<3),p[n+48>>2]=h,p[n+52>>2]=h,p[n+56>>2]=s+h,c=Do(h,0,8+(i<<3)|0);c=c+8|0,a=a+-1|0;);p[n+52>>2]=c}if((0|t)>=1)for(;i=(p[(o<<2)+e>>2]<<3)+h|0,s=i,f=i,a=p[i+4>>2],(i=p[i>>2]+1|0)>>>0<1&&(a=a+1|0),p[f>>2]=i,p[s+4>>2]=a,(0|(o=o+1|0))!=(0|t););if(p[n+8>>2]=0,p[n+12>>2]=0,p[(i=s=n+16|0)>>2]=0,p[i+4>>2]=0,p[(i=f=n+24|0)>>2]=0,p[i+4>>2]=0,p[n+32>>2]=0,p[n>>2]=0,p[n+4>>2]=0,p[n+40>>2]=0,p[n+44>>2]=0,function(e,t,i,r){var n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,A=0,v=0,y=0,g=0;if(V=n=V-32|0,(0|i)>0)for(;m=l,f=p[(l=(a<<3)+t|0)+4>>2],o=p[l>>2],l=f|o?a:m,s=s+f|0,(f=o+h|0)>>>0<o>>>0&&(s=s+1|0),h=f,(0|(a=a+1|0))!=(0|i););f=l+1|0,p[e+12>>2]=f,o=p[e>>2],i=p[e+4>>2]-o>>3;f>>>0>i>>>0?qe(e,f-i|0):f>>>0>=i>>>0||(p[e+4>>2]=o+(f<<3));a:{s:{o:{l:{if((0|l)>=0){for(_=+(h>>>0)+4294967296*+(s>>>0),s=p[e>>2],a=0;i=p[(h=(o=a<<3)+t|0)+4>>2],h=p[h>>2],A=0!=(0|h)|0!=(0|i),i=(c=(+(h>>>0)+4294967296*+(i>>>0))/_*4096+.5)<4294967296&c>=0?~~c>>>0:0,i=A?i||1:i,p[(o=s+o|0)>>2]=i,u=i+u|0,i=(0|a)==(0|l),a=a+1|0,!i;);if(4096==(0|u))break l}if(p[n+16>>2]=0,p[n+8>>2]=0,p[n+12>>2]=0,o=0,f){if(f>>>0>=1073741824)break a;o=oo(i=f<<2),p[n+8>>2]=o,d=i+o|0,p[n+16>>2]=d,Do(o,0,i),p[n+12>>2]=d}if((0|l)>-1)for(a=0;p[(a<<2)+o>>2]=a,i=(0|a)==(0|l),a=a+1|0,!i;);p[n+24>>2]=e,function e(t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0;c:{f:for(;;){u=i+-4|0;h:for(;;){s=t;u:for(;;){d:{p:{_:{m:{if((t=(n=i-s|0)>>2)>>>0<=5){b:switch(t-2|0){case 0:if(r=p[r>>2],t=p[r>>2],r=p[r+4>>2]-t>>3,i=p[(n=i+-4|0)>>2],r>>>0<=i>>>0)break m;if(u=r,r=p[s>>2],u>>>0<=r>>>0)break m;if(b[t+(i<<3)>>2]>=b[t+(r<<3)>>2])break c;return p[s>>2]=i,void(p[n>>2]=r);case 2:return void nt(s,s+4|0,s+8|0,i+-4|0,r);case 3:break b;case 1:break _;default:break c}return void at(s,s+4|0,s+8|0,s+12|0,i+-4|0,r)}if((0|n)<=123)return void st(s,i,r);if(c=((0|t)/2<<2)+s|0,h=(0|n)>=3997?at(s,(t=(0|t)/4<<2)+s|0,c,t+c|0,u,r):ot(s,c,u,r),t=p[r>>2],l=p[t>>2],o=p[t+4>>2]-l>>3,t=p[s>>2],o>>>0<=t>>>0)break d;if(n=p[c>>2],o>>>0<=n>>>0)break d;if(a=u,f=p[l+(t<<3)>>2],d=p[l+(n<<3)>>2],f>>>0>=d>>>0){for(;;){if((0|(a=a+-4|0))==(0|s)){if(t=p[u>>2],o>>>0<=t>>>0)break d;if(n=s+4|0,f>>>0<b[l+(t<<3)>>2])break p;if((0|n)==(0|u))break c;for(;;){if(a=p[n>>2],o>>>0<=a>>>0)break d;if(f>>>0<b[l+(a<<3)>>2]){p[n>>2]=t,p[u>>2]=a,n=n+4|0;break p}if((0|u)==(0|(n=n+4|0)))break}break c}if(n=p[a>>2],o>>>0<=n>>>0)break d;if(!(b[l+(n<<3)>>2]>=d>>>0))break}p[s>>2]=n,p[a>>2]=t,h=h+1|0}b:if(!((n=s+4|0)>>>0>=a>>>0)){if(t=p[n>>2],o>>>0<=t>>>0)break d;for(;;){for(f=p[c>>2],d=l+(f<<3)|0;;){if(o>>>0<=f>>>0)break d;if(_=p[d>>2],b[l+(t<<3)>>2]<_>>>0){if(t=p[n+4>>2],n=n+4|0,o>>>0>t>>>0)continue;break d}break}for(;;){if(f=p[(a=a+-4|0)>>2],o>>>0<=f>>>0)break d;if(!(b[l+(f<<3)>>2]>=_>>>0))break}if(n>>>0>a>>>0)break b;if(p[n>>2]=f,p[a>>2]=t,c=(0|n)==(0|c)?a:c,h=h+1|0,t=p[n+4>>2],n=n+4|0,!(o>>>0>t>>>0))break}break d}if((0|n)!=(0|c)){if(t=p[c>>2],o>>>0<=t>>>0)break d;if(a=p[n>>2],o>>>0<=a>>>0)break d;b[l+(t<<3)>>2]>=b[l+(a<<3)>>2]||(p[n>>2]=t,p[c>>2]=a,h=h+1|0)}if(!h){if(a=lt(s,n,r),lt(t=n+4|0,i,r)){if(i=n,t=s,!a)continue f;break c}if(a)continue h}if((n-s|0)<(i-n|0)){e(s,n,r),t=n+4|0;continue h}e(n+4|0,i,r),i=n,t=s;continue f}vo(),E()}ot(s,s+4|0,i+-4|0,r);break c}if((0|n)==(0|u))break c;if(t=u,a=p[s>>2],!(o>>>0<=a>>>0))for(;;){for(c=l+(a<<3)|0;;){if(h=p[n>>2],o>>>0<=h>>>0)break d;if((f=p[c>>2])>>>0>=b[l+(h<<3)>>2]){if(n=n+4|0,o>>>0>a>>>0)continue;break d}break}for(;;){if(a=p[(t=t+-4|0)>>2],o>>>0<=a>>>0)break d;if(!(f>>>0<b[l+(a<<3)>>2]))break}if(n>>>0>=t>>>0){s=n;continue u}if(p[n>>2]=a,p[t>>2]=h,n=n+4|0,a=p[s>>2],!(o>>>0>a>>>0))break}}break}break}break}vo(),E()}}(o,d,n+24|0);c:if((0|u)<4096)i=p[e>>2]+(p[p[n+12>>2]+-4>>2]<<3)|0,p[i>>2]=4096+(p[i>>2]-u|0),a=0;else for(i=u+-4096|0,f=p[n+8>>2],h=(0|l)<1;;){f:if(!h)for(c=4096/+(0|u),d=p[e>>2],o=l;;){if(a=d+(p[(o<<2)+f>>2]<<3)|0,(s=p[a>>2])>>>0<=1){if((0|o)!=(0|l))break f;a=1;break c}if(A=s+-1|0,m=a,y=s,g=i,a=s,_=T(c*+(s>>>0)),v=k(_)<2147483648?~~_:-2147483648,s=(0|(s=(0|(a=(a=a-v|0)||1))<(0|s)?a:A))>(0|i)?g:s,p[m>>2]=y-s,i=i-s|0,4096==(0|(u=u-s|0))){u=4096;break f}if(s=(0|o)>1,o=o+-1|0,!s)break}if(a=0,!((0|i)>0))break}if((i=p[n+8>>2])&&(p[n+12>>2]=i,Mo(i)),a)break s;if((0|l)>=0)break o;break s}if((0|l)<0)break s}for(s=p[e>>2],a=0,i=0;p[(o=s+(a<<3)|0)+4>>2]=i,i=p[o>>2]+i|0,o=(0|a)==(0|l),a=a+1|0,!o;);if(4096==(0|i)){if(a=0,c=0,(0|l)>=0)for(i=p[e>>2];(o=p[(s=a<<3)+i>>2])&&(s=t+s|0,c+=Co(.000244140625*+(o>>>0))*(+b[s>>2]+4294967296*+b[s+4>>2])),s=(0|a)==(0|l),a=a+1|0,!s;);t=e,i=e,(c=w(-c))<0x10000000000000000&c>=0?(s=k(c)>=1?c>0?~~S(T(c/4294967296),4294967295)>>>0:~~w((c-+(~~c>>>0>>>0))/4294967296)>>>0:0,l=~~c>>>0):(s=0,l=0),p[i+16>>2]=l,p[t+20>>2]=s,it(e,r)}}return void(V=n+32|0)}Ao(),E()}(n,h,c-h>>3,r),a=p[s>>2],i=p[s+4>>2],s=p[r+4>>2]-p[r>>2]|0,p[n+40>>2]=s,p[n+44>>2]=0,c=a,a=i<<1|a>>>31,(i=39+(c<<1)|0)>>>0<39&&(a=a+1|0),c=i,i=a>>>3,(a=s+((7&a)<<29|c>>>3)|0)>>>0<s>>>0&&(i=i+1|0),la(o=r,s=a+8|0),i=p[r>>2],p[n+28>>2]=0,p[n+32>>2]=16384,p[f>>2]=i+p[n+40>>2],(0|t)>=1)for(o=16384;;){if(i=t+-1|0,c=p[n>>2]+(p[(i<<2)+e>>2]<<3)|0,f=p[c>>2],o>>>0>=(a=f<<10)>>>0)for(;s=p[n+28>>2],p[n+28>>2]=s+1,l[s+p[n+24>>2]|0]=o,o=p[n+32>>2]>>>8,p[n+32>>2]=o,o>>>0>=a>>>0;);if(s=(o>>>0)/(f>>>0)|0,o=p[c+4>>2]+((s<<12)+(o-y(s,f)|0)|0)|0,p[n+32>>2]=o,s=(0|t)>1,t=i,!s)break}return tt(n,r),(e=p[n>>2])&&(p[n+4>>2]=e,Mo(e)),(e=p[n+48>>2])&&(p[n+52>>2]=e,Mo(e)),V=n- -64|0,1}Ao(),E()}(e,t,i,a);break i;case 5:o=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0;V=n=V+-64|0,p[n+56>>2]=0,p[n+48>>2]=0,p[n+52>>2]=0;n:{if((a=i+1|0)>>>0>=i>>>0){if(a>>>0>=536870912)break n;for(h=oo(s=a<<3),p[n+48>>2]=h,p[n+52>>2]=h,p[n+56>>2]=s+h,c=Do(h,0,8+(i<<3)|0);c=c+8|0,a=a+-1|0;);p[n+52>>2]=c}if((0|t)>=1)for(;i=(p[(o<<2)+e>>2]<<3)+h|0,s=i,f=i,a=p[i+4>>2],(i=p[i>>2]+1|0)>>>0<1&&(a=a+1|0),p[f>>2]=i,p[s+4>>2]=a,(0|(o=o+1|0))!=(0|t););if(p[n+8>>2]=0,p[n+12>>2]=0,p[(i=s=n+16|0)>>2]=0,p[i+4>>2]=0,p[(i=f=n+24|0)>>2]=0,p[i+4>>2]=0,p[n+32>>2]=0,p[n>>2]=0,p[n+4>>2]=0,p[n+40>>2]=0,p[n+44>>2]=0,function(e,t,i,r){var n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,A=0,v=0,y=0,g=0;if(V=n=V-32|0,(0|i)>0)for(;m=l,f=p[(l=(a<<3)+t|0)+4>>2],o=p[l>>2],l=f|o?a:m,s=s+f|0,(f=o+h|0)>>>0<o>>>0&&(s=s+1|0),h=f,(0|(a=a+1|0))!=(0|i););f=l+1|0,p[e+12>>2]=f,o=p[e>>2],i=p[e+4>>2]-o>>3;f>>>0>i>>>0?qe(e,f-i|0):f>>>0>=i>>>0||(p[e+4>>2]=o+(f<<3));a:{s:{o:{l:{if((0|l)>=0){for(_=+(h>>>0)+4294967296*+(s>>>0),s=p[e>>2],a=0;i=p[(h=(o=a<<3)+t|0)+4>>2],h=p[h>>2],A=0!=(0|h)|0!=(0|i),i=(c=(+(h>>>0)+4294967296*+(i>>>0))/_*4096+.5)<4294967296&c>=0?~~c>>>0:0,i=A?i||1:i,p[(o=s+o|0)>>2]=i,u=i+u|0,i=(0|a)==(0|l),a=a+1|0,!i;);if(4096==(0|u))break l}if(p[n+16>>2]=0,p[n+8>>2]=0,p[n+12>>2]=0,o=0,f){if(f>>>0>=1073741824)break a;o=oo(i=f<<2),p[n+8>>2]=o,d=i+o|0,p[n+16>>2]=d,Do(o,0,i),p[n+12>>2]=d}if((0|l)>-1)for(a=0;p[(a<<2)+o>>2]=a,i=(0|a)==(0|l),a=a+1|0,!i;);p[n+24>>2]=e,function e(t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0;c:{f:for(;;){u=i+-4|0;h:for(;;){s=t;u:for(;;){d:{p:{_:{m:{if((t=(n=i-s|0)>>2)>>>0<=5){b:switch(t-2|0){case 0:if(r=p[r>>2],t=p[r>>2],r=p[r+4>>2]-t>>3,i=p[(n=i+-4|0)>>2],r>>>0<=i>>>0)break m;if(u=r,r=p[s>>2],u>>>0<=r>>>0)break m;if(b[t+(i<<3)>>2]>=b[t+(r<<3)>>2])break c;return p[s>>2]=i,void(p[n>>2]=r);case 2:return void nt(s,s+4|0,s+8|0,i+-4|0,r);case 3:break b;case 1:break _;default:break c}return void at(s,s+4|0,s+8|0,s+12|0,i+-4|0,r)}if((0|n)<=123)return void st(s,i,r);if(c=((0|t)/2<<2)+s|0,h=(0|n)>=3997?at(s,(t=(0|t)/4<<2)+s|0,c,t+c|0,u,r):ot(s,c,u,r),t=p[r>>2],l=p[t>>2],o=p[t+4>>2]-l>>3,t=p[s>>2],o>>>0<=t>>>0)break d;if(n=p[c>>2],o>>>0<=n>>>0)break d;if(a=u,f=p[l+(t<<3)>>2],d=p[l+(n<<3)>>2],f>>>0>=d>>>0){for(;;){if((0|(a=a+-4|0))==(0|s)){if(t=p[u>>2],o>>>0<=t>>>0)break d;if(n=s+4|0,f>>>0<b[l+(t<<3)>>2])break p;if((0|n)==(0|u))break c;for(;;){if(a=p[n>>2],o>>>0<=a>>>0)break d;if(f>>>0<b[l+(a<<3)>>2]){p[n>>2]=t,p[u>>2]=a,n=n+4|0;break p}if((0|u)==(0|(n=n+4|0)))break}break c}if(n=p[a>>2],o>>>0<=n>>>0)break d;if(!(b[l+(n<<3)>>2]>=d>>>0))break}p[s>>2]=n,p[a>>2]=t,h=h+1|0}b:if(!((n=s+4|0)>>>0>=a>>>0)){if(t=p[n>>2],o>>>0<=t>>>0)break d;for(;;){for(f=p[c>>2],d=l+(f<<3)|0;;){if(o>>>0<=f>>>0)break d;if(_=p[d>>2],b[l+(t<<3)>>2]<_>>>0){if(t=p[n+4>>2],n=n+4|0,o>>>0>t>>>0)continue;break d}break}for(;;){if(f=p[(a=a+-4|0)>>2],o>>>0<=f>>>0)break d;if(!(b[l+(f<<3)>>2]>=_>>>0))break}if(n>>>0>a>>>0)break b;if(p[n>>2]=f,p[a>>2]=t,c=(0|n)==(0|c)?a:c,h=h+1|0,t=p[n+4>>2],n=n+4|0,!(o>>>0>t>>>0))break}break d}if((0|n)!=(0|c)){if(t=p[c>>2],o>>>0<=t>>>0)break d;if(a=p[n>>2],o>>>0<=a>>>0)break d;b[l+(t<<3)>>2]>=b[l+(a<<3)>>2]||(p[n>>2]=t,p[c>>2]=a,h=h+1|0)}if(!h){if(a=lt(s,n,r),lt(t=n+4|0,i,r)){if(i=n,t=s,!a)continue f;break c}if(a)continue h}if((n-s|0)<(i-n|0)){e(s,n,r),t=n+4|0;continue h}e(n+4|0,i,r),i=n,t=s;continue f}vo(),E()}ot(s,s+4|0,i+-4|0,r);break c}if((0|n)==(0|u))break c;if(t=u,a=p[s>>2],!(o>>>0<=a>>>0))for(;;){for(c=l+(a<<3)|0;;){if(h=p[n>>2],o>>>0<=h>>>0)break d;if((f=p[c>>2])>>>0>=b[l+(h<<3)>>2]){if(n=n+4|0,o>>>0>a>>>0)continue;break d}break}for(;;){if(a=p[(t=t+-4|0)>>2],o>>>0<=a>>>0)break d;if(!(f>>>0<b[l+(a<<3)>>2]))break}if(n>>>0>=t>>>0){s=n;continue u}if(p[n>>2]=a,p[t>>2]=h,n=n+4|0,a=p[s>>2],!(o>>>0>a>>>0))break}}break}break}break}vo(),E()}}(o,d,n+24|0);c:if((0|u)<4096)i=p[e>>2]+(p[p[n+12>>2]+-4>>2]<<3)|0,p[i>>2]=4096+(p[i>>2]-u|0),a=0;else for(i=u+-4096|0,f=p[n+8>>2],h=(0|l)<1;;){f:if(!h)for(c=4096/+(0|u),d=p[e>>2],o=l;;){if(a=d+(p[(o<<2)+f>>2]<<3)|0,(s=p[a>>2])>>>0<=1){if((0|o)!=(0|l))break f;a=1;break c}if(A=s+-1|0,m=a,y=s,g=i,a=s,_=T(c*+(s>>>0)),v=k(_)<2147483648?~~_:-2147483648,s=(0|(s=(0|(a=(a=a-v|0)||1))<(0|s)?a:A))>(0|i)?g:s,p[m>>2]=y-s,i=i-s|0,4096==(0|(u=u-s|0))){u=4096;break f}if(s=(0|o)>1,o=o+-1|0,!s)break}if(a=0,!((0|i)>0))break}if((i=p[n+8>>2])&&(p[n+12>>2]=i,Mo(i)),a)break s;if((0|l)>=0)break o;break s}if((0|l)<0)break s}for(s=p[e>>2],a=0,i=0;p[(o=s+(a<<3)|0)+4>>2]=i,i=p[o>>2]+i|0,o=(0|a)==(0|l),a=a+1|0,!o;);if(4096==(0|i)){if(a=0,c=0,(0|l)>=0)for(i=p[e>>2];(o=p[(s=a<<3)+i>>2])&&(s=t+s|0,c+=Co(.000244140625*+(o>>>0))*(+b[s>>2]+4294967296*+b[s+4>>2])),s=(0|a)==(0|l),a=a+1|0,!s;);t=e,i=e,(c=w(-c))<0x10000000000000000&c>=0?(s=k(c)>=1?c>0?~~S(T(c/4294967296),4294967295)>>>0:~~w((c-+(~~c>>>0>>>0))/4294967296)>>>0:0,l=~~c>>>0):(s=0,l=0),p[i+16>>2]=l,p[t+20>>2]=s,it(e,r)}}return void(V=n+32|0)}Ao(),E()}(n,h,c-h>>3,r),a=p[s>>2],i=p[s+4>>2],s=p[r+4>>2]-p[r>>2]|0,p[n+40>>2]=s,p[n+44>>2]=0,c=a,a=i<<1|a>>>31,(i=39+(c<<1)|0)>>>0<39&&(a=a+1|0),c=i,i=a>>>3,(a=s+((7&a)<<29|c>>>3)|0)>>>0<s>>>0&&(i=i+1|0),la(o=r,s=a+8|0),i=p[r>>2],p[n+28>>2]=0,p[n+32>>2]=16384,p[f>>2]=i+p[n+40>>2],(0|t)>=1)for(o=16384;;){if(i=t+-1|0,c=p[n>>2]+(p[(i<<2)+e>>2]<<3)|0,f=p[c>>2],o>>>0>=(a=f<<10)>>>0)for(;s=p[n+28>>2],p[n+28>>2]=s+1,l[s+p[n+24>>2]|0]=o,o=p[n+32>>2]>>>8,p[n+32>>2]=o,o>>>0>=a>>>0;);if(s=(o>>>0)/(f>>>0)|0,o=p[c+4>>2]+((s<<12)+(o-y(s,f)|0)|0)|0,p[n+32>>2]=o,s=(0|t)>1,t=i,!s)break}return tt(n,r),(e=p[n>>2])&&(p[n+4>>2]=e,Mo(e)),(e=p[n+48>>2])&&(p[n+52>>2]=e,Mo(e)),V=n- -64|0,1}Ao(),E()}(e,t,i,a);break i;case 6:o=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0;V=n=V+-64|0,p[n+56>>2]=0,p[n+48>>2]=0,p[n+52>>2]=0;n:{if((a=i+1|0)>>>0>=i>>>0){if(a>>>0>=536870912)break n;for(h=oo(s=a<<3),p[n+48>>2]=h,p[n+52>>2]=h,p[n+56>>2]=s+h,c=Do(h,0,8+(i<<3)|0);c=c+8|0,a=a+-1|0;);p[n+52>>2]=c}if((0|t)>=1)for(;i=(p[(o<<2)+e>>2]<<3)+h|0,s=i,f=i,a=p[i+4>>2],(i=p[i>>2]+1|0)>>>0<1&&(a=a+1|0),p[f>>2]=i,p[s+4>>2]=a,(0|(o=o+1|0))!=(0|t););if(p[n+8>>2]=0,p[n+12>>2]=0,p[(i=s=n+16|0)>>2]=0,p[i+4>>2]=0,p[(i=f=n+24|0)>>2]=0,p[i+4>>2]=0,p[n+32>>2]=0,p[n>>2]=0,p[n+4>>2]=0,p[n+40>>2]=0,p[n+44>>2]=0,function(e,t,i,r){var n,a=0,s=0,o=0,l=0,c=0,h=0,u=0,d=0,_=0,m=0,A=0,v=0,y=0,g=0,x=0;if(V=n=V-32|0,(0|i)>0)for(;A=l,h=p[(l=(a<<3)+t|0)+4>>2],o=p[l>>2],l=h|o?a:A,s=s+h|0,(h=o+u|0)>>>0<o>>>0&&(s=s+1|0),u=h,(0|(a=a+1|0))!=(0|i););h=l+1|0,p[e+12>>2]=h,o=p[e>>2],i=p[e+4>>2]-o>>3;h>>>0>i>>>0?qe(e,h-i|0):h>>>0>=i>>>0||(p[e+4>>2]=o+(h<<3));a:{s:{o:{l:{if((0|l)>=0){for(m=+(u>>>0)+4294967296*+(s>>>0),s=p[e>>2],a=0;i=p[(u=(o=a<<3)+t|0)+4>>2],u=p[u>>2],v=0!=(0|u)|0!=(0|i),i=(c=(+(u>>>0)+4294967296*+(i>>>0))/m*4096+.5)<4294967296&c>=0?~~c>>>0:0,i=v?i||1:i,p[(o=s+o|0)>>2]=i,d=i+d|0,i=(0|a)==(0|l),a=a+1|0,!i;);if(4096==(0|d))break l}if(p[n+16>>2]=0,p[n+8>>2]=0,p[n+12>>2]=0,o=0,h){if(h>>>0>=1073741824)break a;o=oo(i=h<<2),p[n+8>>2]=o,_=i+o|0,p[n+16>>2]=_,Do(o,0,i),p[n+12>>2]=_}if((0|l)>-1)for(a=0;p[(a<<2)+o>>2]=a,i=(0|a)==(0|l),a=a+1|0,!i;);p[n+24>>2]=e,function e(t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,h=0,u=0,d=0,_=0,m=0;c:{f:for(;;){d=i+-4|0;h:for(;;){s=t;u:for(;;){d:{p:{_:{m:{if((t=(n=i-s|0)>>2)>>>0<=5){b:switch(t-2|0){case 0:if(r=p[r>>2],t=p[r>>2],r=p[r+4>>2]-t>>3,i=p[(n=i+-4|0)>>2],r>>>0<=i>>>0)break m;if(d=r,r=p[s>>2],d>>>0<=r>>>0)break m;if(b[t+(i<<3)>>2]>=b[t+(r<<3)>>2])break c;return p[s>>2]=i,void(p[n>>2]=r);case 2:return void nt(s,s+4|0,s+8|0,i+-4|0,r);case 3:break b;case 1:break _;default:break c}return void at(s,s+4|0,s+8|0,s+12|0,i+-4|0,r)}if((0|n)<=123)return void st(s,i,r);if(c=((0|t)/2<<2)+s|0,u=(0|n)>=3997?at(s,(t=(0|t)/4<<2)+s|0,c,t+c|0,d,r):ot(s,c,d,r),t=p[r>>2],l=p[t>>2],o=p[t+4>>2]-l>>3,t=p[s>>2],o>>>0<=t>>>0)break d;if(n=p[c>>2],o>>>0<=n>>>0)break d;if(a=d,h=p[l+(t<<3)>>2],_=p[l+(n<<3)>>2],h>>>0>=_>>>0){for(;;){if((0|(a=a+-4|0))==(0|s)){if(t=p[d>>2],o>>>0<=t>>>0)break d;if(n=s+4|0,h>>>0<b[l+(t<<3)>>2])break p;if((0|n)==(0|d))break c;for(;;){if(a=p[n>>2],o>>>0<=a>>>0)break d;if(h>>>0<b[l+(a<<3)>>2]){p[n>>2]=t,p[d>>2]=a,n=n+4|0;break p}if((0|d)==(0|(n=n+4|0)))break}break c}if(n=p[a>>2],o>>>0<=n>>>0)break d;if(!(b[l+(n<<3)>>2]>=_>>>0))break}p[s>>2]=n,p[a>>2]=t,u=u+1|0}b:if(!((n=s+4|0)>>>0>=a>>>0)){if(t=p[n>>2],o>>>0<=t>>>0)break d;for(;;){for(h=p[c>>2],_=l+(h<<3)|0;;){if(o>>>0<=h>>>0)break d;if(m=p[_>>2],b[l+(t<<3)>>2]<m>>>0){if(t=p[n+4>>2],n=n+4|0,o>>>0>t>>>0)continue;break d}break}for(;;){if(h=p[(a=a+-4|0)>>2],o>>>0<=h>>>0)break d;if(!(b[l+(h<<3)>>2]>=m>>>0))break}if(n>>>0>a>>>0)break b;if(p[n>>2]=h,p[a>>2]=t,c=(0|n)==(0|c)?a:c,u=u+1|0,t=p[n+4>>2],n=n+4|0,!(o>>>0>t>>>0))break}break d}if((0|n)!=(0|c)){if(t=p[c>>2],o>>>0<=t>>>0)break d;if(a=p[n>>2],o>>>0<=a>>>0)break d;b[l+(t<<3)>>2]>=b[l+(a<<3)>>2]||(p[n>>2]=t,p[c>>2]=a,u=u+1|0)}if(!u){if(a=lt(s,n,r),lt(t=n+4|0,i,r)){if(i=n,t=s,!a)continue f;break c}if(a)continue h}if((n-s|0)<(i-n|0)){e(s,n,r),t=n+4|0;continue h}e(n+4|0,i,r),i=n,t=s;continue f}f(),E()}ot(s,s+4|0,i+-4|0,r);break c}if((0|n)==(0|d))break c;if(t=d,a=p[s>>2],!(o>>>0<=a>>>0))for(;;){for(c=l+(a<<3)|0;;){if(u=p[n>>2],o>>>0<=u>>>0)break d;if((h=p[c>>2])>>>0>=b[l+(u<<3)>>2]){if(n=n+4|0,o>>>0>a>>>0)continue;break d}break}for(;;){if(a=p[(t=t+-4|0)>>2],o>>>0<=a>>>0)break d;if(!(h>>>0<b[l+(a<<3)>>2]))break}if(n>>>0>=t>>>0){s=n;continue u}if(p[n>>2]=a,p[t>>2]=u,n=n+4|0,a=p[s>>2],!(o>>>0>a>>>0))break}}break}break}break}f(),E()}}(o,_,n+24|0);c:if((0|d)<4096)i=p[e>>2]+(p[p[n+12>>2]+-4>>2]<<3)|0,p[i>>2]=4096+(p[i>>2]-d|0),a=0;else for(i=d+-4096|0,h=p[n+8>>2],u=(0|l)<1;;){f:if(!u)for(c=4096/+(0|d),_=p[e>>2],o=l;;){if(a=_+(p[(o<<2)+h>>2]<<3)|0,(s=p[a>>2])>>>0<=1){if((0|o)!=(0|l))break f;a=1;break c}if(v=s+-1|0,A=a,g=s,x=i,a=s,m=T(c*+(s>>>0)),y=k(m)<2147483648?~~m:-2147483648,s=(0|(s=(0|(a=(a=a-y|0)||1))<(0|s)?a:v))>(0|i)?x:s,p[A>>2]=g-s,i=i-s|0,4096==(0|(d=d-s|0))){d=4096;break f}if(s=(0|o)>1,o=o+-1|0,!s)break}if(a=0,!((0|i)>0))break}if((i=p[n+8>>2])&&(p[n+12>>2]=i,Mo(i)),a)break s;if((0|l)>=0)break o;break s}if((0|l)<0)break s}for(s=p[e>>2],a=0,i=0;p[(o=s+(a<<3)|0)+4>>2]=i,i=p[o>>2]+i|0,o=(0|a)==(0|l),a=a+1|0,!o;);if(4096==(0|i)){if(a=0,c=0,(0|l)>=0)for(i=p[e>>2];(o=p[(s=a<<3)+i>>2])&&(s=t+s|0,c+=Co(.000244140625*+(o>>>0))*(+b[s>>2]+4294967296*+b[s+4>>2])),s=(0|a)==(0|l),a=a+1|0,!s;);t=e,i=e,(c=w(-c))<0x10000000000000000&c>=0?(s=k(c)>=1?c>0?~~S(T(c/4294967296),4294967295)>>>0:~~w((c-+(~~c>>>0>>>0))/4294967296)>>>0:0,l=~~c>>>0):(s=0,l=0),p[i+16>>2]=l,p[t+20>>2]=s,it(e,r)}}return void(V=n+32|0)}Ao(),E()}(n,h,c-h>>3,r),a=p[s>>2],i=p[s+4>>2],s=p[r+4>>2]-p[r>>2]|0,p[n+40>>2]=s,p[n+44>>2]=0,c=a,a=i<<1|a>>>31,(i=39+(c<<1)|0)>>>0<39&&(a=a+1|0),c=i,i=a>>>3,(a=s+((7&a)<<29|c>>>3)|0)>>>0<s>>>0&&(i=i+1|0),la(o=r,s=a+8|0),i=p[r>>2],p[n+28>>2]=0,p[n+32>>2]=16384,p[f>>2]=i+p[n+40>>2],(0|t)>=1)for(o=16384;;){if(i=t+-1|0,c=p[n>>2]+(p[(i<<2)+e>>2]<<3)|0,f=p[c>>2],o>>>0>=(a=f<<10)>>>0)for(;s=p[n+28>>2],p[n+28>>2]=s+1,l[s+p[n+24>>2]|0]=o,o=p[n+32>>2]>>>8,p[n+32>>2]=o,o>>>0>=a>>>0;);if(s=(o>>>0)/(f>>>0)|0,o=p[c+4>>2]+((s<<12)+(o-y(s,f)|0)|0)|0,p[n+32>>2]=o,s=(0|t)>1,t=i,!s)break}return tt(n,r),(e=p[n>>2])&&(p[n+4>>2]=e,Mo(e)),(e=p[n+48>>2])&&(p[n+52>>2]=e,Mo(e)),V=n- -64|0,1}Ao(),E()}(e,t,i,a);break i;case 7:o=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0;V=n=V+-64|0,p[n+56>>2]=0,p[n+48>>2]=0,p[n+52>>2]=0;n:{if((a=i+1|0)>>>0>=i>>>0){if(a>>>0>=536870912)break n;for(h=oo(s=a<<3),p[n+48>>2]=h,p[n+52>>2]=h,p[n+56>>2]=s+h,c=Do(h,0,8+(i<<3)|0);c=c+8|0,a=a+-1|0;);p[n+52>>2]=c}if((0|t)>=1)for(;i=(p[(o<<2)+e>>2]<<3)+h|0,s=i,f=i,a=p[i+4>>2],(i=p[i>>2]+1|0)>>>0<1&&(a=a+1|0),p[f>>2]=i,p[s+4>>2]=a,(0|(o=o+1|0))!=(0|t););if(p[n+8>>2]=0,p[n+12>>2]=0,p[(i=s=n+16|0)>>2]=0,p[i+4>>2]=0,p[(i=f=n+24|0)>>2]=0,p[i+4>>2]=0,p[n+32>>2]=0,p[n>>2]=0,p[n+4>>2]=0,p[n+40>>2]=0,p[n+44>>2]=0,function(e,t,i,r){var n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,A=0,v=0,y=0,g=0;if(V=n=V-32|0,(0|i)>0)for(;m=l,f=p[(l=(a<<3)+t|0)+4>>2],o=p[l>>2],l=f|o?a:m,s=s+f|0,(f=o+h|0)>>>0<o>>>0&&(s=s+1|0),h=f,(0|(a=a+1|0))!=(0|i););f=l+1|0,p[e+12>>2]=f,o=p[e>>2],i=p[e+4>>2]-o>>3;f>>>0>i>>>0?qe(e,f-i|0):f>>>0>=i>>>0||(p[e+4>>2]=o+(f<<3));a:{s:{o:{l:{if((0|l)>=0){for(_=+(h>>>0)+4294967296*+(s>>>0),s=p[e>>2],a=0;i=p[(h=(o=a<<3)+t|0)+4>>2],h=p[h>>2],A=0!=(0|h)|0!=(0|i),i=(c=(+(h>>>0)+4294967296*+(i>>>0))/_*8192+.5)<4294967296&c>=0?~~c>>>0:0,i=A?i||1:i,p[(o=s+o|0)>>2]=i,u=i+u|0,i=(0|a)==(0|l),a=a+1|0,!i;);if(8192==(0|u))break l}if(p[n+16>>2]=0,p[n+8>>2]=0,p[n+12>>2]=0,o=0,f){if(f>>>0>=1073741824)break a;o=oo(i=f<<2),p[n+8>>2]=o,d=i+o|0,p[n+16>>2]=d,Do(o,0,i),p[n+12>>2]=d}if((0|l)>-1)for(a=0;p[(a<<2)+o>>2]=a,i=(0|a)==(0|l),a=a+1|0,!i;);p[n+24>>2]=e,function e(t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0;c:{f:for(;;){u=i+-4|0;h:for(;;){s=t;u:for(;;){d:{p:{_:{m:{if((t=(n=i-s|0)>>2)>>>0<=5){b:switch(t-2|0){case 0:if(r=p[r>>2],t=p[r>>2],r=p[r+4>>2]-t>>3,i=p[(n=i+-4|0)>>2],r>>>0<=i>>>0)break m;if(u=r,r=p[s>>2],u>>>0<=r>>>0)break m;if(b[t+(i<<3)>>2]>=b[t+(r<<3)>>2])break c;return p[s>>2]=i,void(p[n>>2]=r);case 2:return void nt(s,s+4|0,s+8|0,i+-4|0,r);case 3:break b;case 1:break _;default:break c}return void at(s,s+4|0,s+8|0,s+12|0,i+-4|0,r)}if((0|n)<=123)return void st(s,i,r);if(c=((0|t)/2<<2)+s|0,h=(0|n)>=3997?at(s,(t=(0|t)/4<<2)+s|0,c,t+c|0,u,r):ot(s,c,u,r),t=p[r>>2],l=p[t>>2],o=p[t+4>>2]-l>>3,t=p[s>>2],o>>>0<=t>>>0)break d;if(n=p[c>>2],o>>>0<=n>>>0)break d;if(a=u,f=p[l+(t<<3)>>2],d=p[l+(n<<3)>>2],f>>>0>=d>>>0){for(;;){if((0|(a=a+-4|0))==(0|s)){if(t=p[u>>2],o>>>0<=t>>>0)break d;if(n=s+4|0,f>>>0<b[l+(t<<3)>>2])break p;if((0|n)==(0|u))break c;for(;;){if(a=p[n>>2],o>>>0<=a>>>0)break d;if(f>>>0<b[l+(a<<3)>>2]){p[n>>2]=t,p[u>>2]=a,n=n+4|0;break p}if((0|u)==(0|(n=n+4|0)))break}break c}if(n=p[a>>2],o>>>0<=n>>>0)break d;if(!(b[l+(n<<3)>>2]>=d>>>0))break}p[s>>2]=n,p[a>>2]=t,h=h+1|0}b:if(!((n=s+4|0)>>>0>=a>>>0)){if(t=p[n>>2],o>>>0<=t>>>0)break d;for(;;){for(f=p[c>>2],d=l+(f<<3)|0;;){if(o>>>0<=f>>>0)break d;if(_=p[d>>2],b[l+(t<<3)>>2]<_>>>0){if(t=p[n+4>>2],n=n+4|0,o>>>0>t>>>0)continue;break d}break}for(;;){if(f=p[(a=a+-4|0)>>2],o>>>0<=f>>>0)break d;if(!(b[l+(f<<3)>>2]>=_>>>0))break}if(n>>>0>a>>>0)break b;if(p[n>>2]=f,p[a>>2]=t,c=(0|n)==(0|c)?a:c,h=h+1|0,t=p[n+4>>2],n=n+4|0,!(o>>>0>t>>>0))break}break d}if((0|n)!=(0|c)){if(t=p[c>>2],o>>>0<=t>>>0)break d;if(a=p[n>>2],o>>>0<=a>>>0)break d;b[l+(t<<3)>>2]>=b[l+(a<<3)>>2]||(p[n>>2]=t,p[c>>2]=a,h=h+1|0)}if(!h){if(a=lt(s,n,r),lt(t=n+4|0,i,r)){if(i=n,t=s,!a)continue f;break c}if(a)continue h}if((n-s|0)<(i-n|0)){e(s,n,r),t=n+4|0;continue h}e(n+4|0,i,r),i=n,t=s;continue f}vo(),E()}ot(s,s+4|0,i+-4|0,r);break c}if((0|n)==(0|u))break c;if(t=u,a=p[s>>2],!(o>>>0<=a>>>0))for(;;){for(c=l+(a<<3)|0;;){if(h=p[n>>2],o>>>0<=h>>>0)break d;if((f=p[c>>2])>>>0>=b[l+(h<<3)>>2]){if(n=n+4|0,o>>>0>a>>>0)continue;break d}break}for(;;){if(a=p[(t=t+-4|0)>>2],o>>>0<=a>>>0)break d;if(!(f>>>0<b[l+(a<<3)>>2]))break}if(n>>>0>=t>>>0){s=n;continue u}if(p[n>>2]=a,p[t>>2]=h,n=n+4|0,a=p[s>>2],!(o>>>0>a>>>0))break}}break}break}break}vo(),E()}}(o,d,n+24|0);c:if((0|u)<8192)i=p[e>>2]+(p[p[n+12>>2]+-4>>2]<<3)|0,p[i>>2]=(p[i>>2]-u|0)- -8192,a=0;else for(i=u+-8192|0,f=p[n+8>>2],h=(0|l)<1;;){f:if(!h)for(c=8192/+(0|u),d=p[e>>2],o=l;;){if(a=d+(p[(o<<2)+f>>2]<<3)|0,(s=p[a>>2])>>>0<=1){if((0|o)!=(0|l))break f;a=1;break c}if(A=s+-1|0,m=a,y=s,g=i,a=s,_=T(c*+(s>>>0)),v=k(_)<2147483648?~~_:-2147483648,s=(0|(s=(0|(a=(a=a-v|0)||1))<(0|s)?a:A))>(0|i)?g:s,p[m>>2]=y-s,i=i-s|0,8192==(0|(u=u-s|0))){u=8192;break f}if(s=(0|o)>1,o=o+-1|0,!s)break}if(a=0,!((0|i)>0))break}if((i=p[n+8>>2])&&(p[n+12>>2]=i,Mo(i)),a)break s;if((0|l)>=0)break o;break s}if((0|l)<0)break s}for(s=p[e>>2],a=0,i=0;p[(o=s+(a<<3)|0)+4>>2]=i,i=p[o>>2]+i|0,o=(0|a)==(0|l),a=a+1|0,!o;);if(8192==(0|i)){if(a=0,c=0,(0|l)>=0)for(i=p[e>>2];(o=p[(s=a<<3)+i>>2])&&(s=t+s|0,c+=Co(.0001220703125*+(o>>>0))*(+b[s>>2]+4294967296*+b[s+4>>2])),s=(0|a)==(0|l),a=a+1|0,!s;);t=e,i=e,(c=w(-c))<0x10000000000000000&c>=0?(s=k(c)>=1?c>0?~~S(T(c/4294967296),4294967295)>>>0:~~w((c-+(~~c>>>0>>>0))/4294967296)>>>0:0,l=~~c>>>0):(s=0,l=0),p[i+16>>2]=l,p[t+20>>2]=s,it(e,r)}}return void(V=n+32|0)}Ao(),E()}(n,h,c-h>>3,r),a=p[s>>2],i=p[s+4>>2],s=p[r+4>>2]-p[r>>2]|0,p[n+40>>2]=s,p[n+44>>2]=0,c=a,a=i<<1|a>>>31,(i=39+(c<<1)|0)>>>0<39&&(a=a+1|0),c=i,i=a>>>3,(a=s+((7&a)<<29|c>>>3)|0)>>>0<s>>>0&&(i=i+1|0),la(o=r,s=a+8|0),i=p[r>>2],p[n+28>>2]=0,p[n+32>>2]=32768,p[f>>2]=i+p[n+40>>2],(0|t)>=1)for(o=32768;;){if(i=t+-1|0,c=p[n>>2]+(p[(i<<2)+e>>2]<<3)|0,f=p[c>>2],o>>>0>=(a=f<<10)>>>0)for(;s=p[n+28>>2],p[n+28>>2]=s+1,l[s+p[n+24>>2]|0]=o,o=p[n+32>>2]>>>8,p[n+32>>2]=o,o>>>0>=a>>>0;);if(s=(o>>>0)/(f>>>0)|0,o=p[c+4>>2]+((s<<13)+(o-y(s,f)|0)|0)|0,p[n+32>>2]=o,s=(0|t)>1,t=i,!s)break}return function(e,t){var i,r,n,a=0,s=0,o=0,c=0,f=0;V=i=V-32|0,f=p[t>>2]+p[e+40>>2]|0,a=p[e+32>>2];(s=a+-32768|0)>>>0<=63?(a=e+28|0,l[p[e+24>>2]+p[a>>2]|0]=s,s=p[a>>2]+1|0):s>>>0<=16383?(s=e+28|0,o=p[e+24>>2]+p[s>>2]|0,a=a+-16384|0,l[0|o]=a,l[o+1|0]=a>>>8,s=p[s>>2]+2|0):s>>>0<=4194303?(o=e+28|0,s=p[e+24>>2]+p[o>>2]|0,a=a+8355840|0,l[s+2|0]=a>>>16,l[s+1|0]=a>>>8,l[0|s]=a,s=p[o>>2]+3|0):s>>>0<=1073741823?(o=e+28|0,s=p[e+24>>2]+p[o>>2]|0,a=a+-1073774592|0,l[0|s]=a,l[s+1|0]=a>>>8,l[s+2|0]=a>>>16,l[s+3|0]=a>>>24,s=p[o>>2]+4|0):s=p[e+28>>2];o=c=s>>31,a=s,c=oa(i),rt(a,o,c),Fo((r=p[c+4>>2]-p[c>>2]|0)+f|0,f,a),Io(f,p[c>>2],r),s=p[e+44>>2],f=t,n=p[e+40>>2],e=o,(t=a+r|0)>>>0<a>>>0&&(e=e+1|0);la(f,t=n+(a=t)|0),e=p[c+12>>2],p[c+12>>2]=0,e&&Mo(e);(e=p[c>>2])&&(p[c+4>>2]=e,Mo(e));V=i+32|0}(n,r),(e=p[n>>2])&&(p[n+4>>2]=e,Mo(e)),(e=p[n+48>>2])&&(p[n+52>>2]=e,Mo(e)),V=n- -64|0,1}Ao(),E()}(e,t,i,a);break i;case 8:o=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0;V=n=V+-64|0,p[n+56>>2]=0,p[n+48>>2]=0,p[n+52>>2]=0;n:{if((a=i+1|0)>>>0>=i>>>0){if(a>>>0>=536870912)break n;for(h=oo(s=a<<3),p[n+48>>2]=h,p[n+52>>2]=h,p[n+56>>2]=s+h,c=Do(h,0,8+(i<<3)|0);c=c+8|0,a=a+-1|0;);p[n+52>>2]=c}if((0|t)>=1)for(;i=(p[(o<<2)+e>>2]<<3)+h|0,s=i,f=i,a=p[i+4>>2],(i=p[i>>2]+1|0)>>>0<1&&(a=a+1|0),p[f>>2]=i,p[s+4>>2]=a,(0|(o=o+1|0))!=(0|t););if(p[n+8>>2]=0,p[n+12>>2]=0,p[(i=s=n+16|0)>>2]=0,p[i+4>>2]=0,p[(i=f=n+24|0)>>2]=0,p[i+4>>2]=0,p[n+32>>2]=0,p[n>>2]=0,p[n+4>>2]=0,p[n+40>>2]=0,p[n+44>>2]=0,function(e,t,i,r){var n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,A=0,v=0,y=0,g=0;if(V=n=V-32|0,(0|i)>0)for(;m=l,f=p[(l=(a<<3)+t|0)+4>>2],o=p[l>>2],l=f|o?a:m,s=s+f|0,(f=o+h|0)>>>0<o>>>0&&(s=s+1|0),h=f,(0|(a=a+1|0))!=(0|i););f=l+1|0,p[e+12>>2]=f,o=p[e>>2],i=p[e+4>>2]-o>>3;f>>>0>i>>>0?qe(e,f-i|0):f>>>0>=i>>>0||(p[e+4>>2]=o+(f<<3));a:{s:{o:{l:{if((0|l)>=0){for(_=+(h>>>0)+4294967296*+(s>>>0),s=p[e>>2],a=0;i=p[(h=(o=a<<3)+t|0)+4>>2],h=p[h>>2],A=0!=(0|h)|0!=(0|i),i=(c=(+(h>>>0)+4294967296*+(i>>>0))/_*32768+.5)<4294967296&c>=0?~~c>>>0:0,i=A?i||1:i,p[(o=s+o|0)>>2]=i,u=i+u|0,i=(0|a)==(0|l),a=a+1|0,!i;);if(32768==(0|u))break l}if(p[n+16>>2]=0,p[n+8>>2]=0,p[n+12>>2]=0,o=0,f){if(f>>>0>=1073741824)break a;o=oo(i=f<<2),p[n+8>>2]=o,d=i+o|0,p[n+16>>2]=d,Do(o,0,i),p[n+12>>2]=d}if((0|l)>-1)for(a=0;p[(a<<2)+o>>2]=a,i=(0|a)==(0|l),a=a+1|0,!i;);p[n+24>>2]=e,function e(t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0;c:{f:for(;;){u=i+-4|0;h:for(;;){s=t;u:for(;;){d:{p:{_:{m:{if((t=(n=i-s|0)>>2)>>>0<=5){b:switch(t-2|0){case 0:if(r=p[r>>2],t=p[r>>2],r=p[r+4>>2]-t>>3,i=p[(n=i+-4|0)>>2],r>>>0<=i>>>0)break m;if(u=r,r=p[s>>2],u>>>0<=r>>>0)break m;if(b[t+(i<<3)>>2]>=b[t+(r<<3)>>2])break c;return p[s>>2]=i,void(p[n>>2]=r);case 2:return void nt(s,s+4|0,s+8|0,i+-4|0,r);case 3:break b;case 1:break _;default:break c}return void at(s,s+4|0,s+8|0,s+12|0,i+-4|0,r)}if((0|n)<=123)return void st(s,i,r);if(c=((0|t)/2<<2)+s|0,h=(0|n)>=3997?at(s,(t=(0|t)/4<<2)+s|0,c,t+c|0,u,r):ot(s,c,u,r),t=p[r>>2],l=p[t>>2],o=p[t+4>>2]-l>>3,t=p[s>>2],o>>>0<=t>>>0)break d;if(n=p[c>>2],o>>>0<=n>>>0)break d;if(a=u,f=p[l+(t<<3)>>2],d=p[l+(n<<3)>>2],f>>>0>=d>>>0){for(;;){if((0|(a=a+-4|0))==(0|s)){if(t=p[u>>2],o>>>0<=t>>>0)break d;if(n=s+4|0,f>>>0<b[l+(t<<3)>>2])break p;if((0|n)==(0|u))break c;for(;;){if(a=p[n>>2],o>>>0<=a>>>0)break d;if(f>>>0<b[l+(a<<3)>>2]){p[n>>2]=t,p[u>>2]=a,n=n+4|0;break p}if((0|u)==(0|(n=n+4|0)))break}break c}if(n=p[a>>2],o>>>0<=n>>>0)break d;if(!(b[l+(n<<3)>>2]>=d>>>0))break}p[s>>2]=n,p[a>>2]=t,h=h+1|0}b:if(!((n=s+4|0)>>>0>=a>>>0)){if(t=p[n>>2],o>>>0<=t>>>0)break d;for(;;){for(f=p[c>>2],d=l+(f<<3)|0;;){if(o>>>0<=f>>>0)break d;if(_=p[d>>2],b[l+(t<<3)>>2]<_>>>0){if(t=p[n+4>>2],n=n+4|0,o>>>0>t>>>0)continue;break d}break}for(;;){if(f=p[(a=a+-4|0)>>2],o>>>0<=f>>>0)break d;if(!(b[l+(f<<3)>>2]>=_>>>0))break}if(n>>>0>a>>>0)break b;if(p[n>>2]=f,p[a>>2]=t,c=(0|n)==(0|c)?a:c,h=h+1|0,t=p[n+4>>2],n=n+4|0,!(o>>>0>t>>>0))break}break d}if((0|n)!=(0|c)){if(t=p[c>>2],o>>>0<=t>>>0)break d;if(a=p[n>>2],o>>>0<=a>>>0)break d;b[l+(t<<3)>>2]>=b[l+(a<<3)>>2]||(p[n>>2]=t,p[c>>2]=a,h=h+1|0)}if(!h){if(a=lt(s,n,r),lt(t=n+4|0,i,r)){if(i=n,t=s,!a)continue f;break c}if(a)continue h}if((n-s|0)<(i-n|0)){e(s,n,r),t=n+4|0;continue h}e(n+4|0,i,r),i=n,t=s;continue f}vo(),E()}ot(s,s+4|0,i+-4|0,r);break c}if((0|n)==(0|u))break c;if(t=u,a=p[s>>2],!(o>>>0<=a>>>0))for(;;){for(c=l+(a<<3)|0;;){if(h=p[n>>2],o>>>0<=h>>>0)break d;if((f=p[c>>2])>>>0>=b[l+(h<<3)>>2]){if(n=n+4|0,o>>>0>a>>>0)continue;break d}break}for(;;){if(a=p[(t=t+-4|0)>>2],o>>>0<=a>>>0)break d;if(!(f>>>0<b[l+(a<<3)>>2]))break}if(n>>>0>=t>>>0){s=n;continue u}if(p[n>>2]=a,p[t>>2]=h,n=n+4|0,a=p[s>>2],!(o>>>0>a>>>0))break}}break}break}break}vo(),E()}}(o,d,n+24|0);c:if((0|u)<32768)i=p[e>>2]+(p[p[n+12>>2]+-4>>2]<<3)|0,p[i>>2]=32768+(p[i>>2]-u|0),a=0;else for(i=u+-32768|0,f=p[n+8>>2],h=(0|l)<1;;){f:if(!h)for(c=32768/+(0|u),d=p[e>>2],o=l;;){if(a=d+(p[(o<<2)+f>>2]<<3)|0,(s=p[a>>2])>>>0<=1){if((0|o)!=(0|l))break f;a=1;break c}if(A=s+-1|0,m=a,y=s,g=i,a=s,_=T(c*+(s>>>0)),v=k(_)<2147483648?~~_:-2147483648,s=(0|(s=(0|(a=(a=a-v|0)||1))<(0|s)?a:A))>(0|i)?g:s,p[m>>2]=y-s,i=i-s|0,32768==(0|(u=u-s|0))){u=32768;break f}if(s=(0|o)>1,o=o+-1|0,!s)break}if(a=0,!((0|i)>0))break}if((i=p[n+8>>2])&&(p[n+12>>2]=i,Mo(i)),a)break s;if((0|l)>=0)break o;break s}if((0|l)<0)break s}for(s=p[e>>2],a=0,i=0;p[(o=s+(a<<3)|0)+4>>2]=i,i=p[o>>2]+i|0,o=(0|a)==(0|l),a=a+1|0,!o;);if(32768==(0|i)){if(a=0,c=0,(0|l)>=0)for(i=p[e>>2];(o=p[(s=a<<3)+i>>2])&&(s=t+s|0,c+=Co(30517578125e-15*+(o>>>0))*(+b[s>>2]+4294967296*+b[s+4>>2])),s=(0|a)==(0|l),a=a+1|0,!s;);t=e,i=e,(c=w(-c))<0x10000000000000000&c>=0?(s=k(c)>=1?c>0?~~S(T(c/4294967296),4294967295)>>>0:~~w((c-+(~~c>>>0>>>0))/4294967296)>>>0:0,l=~~c>>>0):(s=0,l=0),p[i+16>>2]=l,p[t+20>>2]=s,it(e,r)}}return void(V=n+32|0)}Ao(),E()}(n,h,c-h>>3,r),a=p[s>>2],i=p[s+4>>2],s=p[r+4>>2]-p[r>>2]|0,p[n+40>>2]=s,p[n+44>>2]=0,c=a,a=i<<1|a>>>31,(i=39+(c<<1)|0)>>>0<39&&(a=a+1|0),c=i,i=a>>>3,(a=s+((7&a)<<29|c>>>3)|0)>>>0<s>>>0&&(i=i+1|0),la(o=r,s=a+8|0),i=p[r>>2],p[n+28>>2]=0,p[n+32>>2]=131072,p[f>>2]=i+p[n+40>>2],(0|t)>=1)for(o=131072;;){if(i=t+-1|0,c=p[n>>2]+(p[(i<<2)+e>>2]<<3)|0,f=p[c>>2],o>>>0>=(a=f<<10)>>>0)for(;s=p[n+28>>2],p[n+28>>2]=s+1,l[s+p[n+24>>2]|0]=o,o=p[n+32>>2]>>>8,p[n+32>>2]=o,o>>>0>=a>>>0;);if(s=(o>>>0)/(f>>>0)|0,o=p[c+4>>2]+((s<<15)+(o-y(s,f)|0)|0)|0,p[n+32>>2]=o,s=(0|t)>1,t=i,!s)break}return function(e,t){var i,r,n,a=0,s=0,o=0,c=0,f=0;V=i=V-32|0,f=p[t>>2]+p[e+40>>2]|0,a=p[e+32>>2];(s=a+-131072|0)>>>0<=63?(a=e+28|0,l[p[e+24>>2]+p[a>>2]|0]=s,s=p[a>>2]+1|0):s>>>0<=16383?(s=e+28|0,o=p[e+24>>2]+p[s>>2]|0,a=a+-114688|0,l[0|o]=a,l[o+1|0]=a>>>8,s=p[s>>2]+2|0):s>>>0<=4194303?(o=e+28|0,s=p[e+24>>2]+p[o>>2]|0,a=a+8257536|0,l[s+2|0]=a>>>16,l[s+1|0]=a>>>8,l[0|s]=a,s=p[o>>2]+3|0):s>>>0<=1073741823?(o=e+28|0,s=p[e+24>>2]+p[o>>2]|0,a=a+-1073872896|0,l[0|s]=a,l[s+1|0]=a>>>8,l[s+2|0]=a>>>16,l[s+3|0]=a>>>24,s=p[o>>2]+4|0):s=p[e+28>>2];o=c=s>>31,a=s,c=oa(i),rt(a,o,c),Fo((r=p[c+4>>2]-p[c>>2]|0)+f|0,f,a),Io(f,p[c>>2],r),s=p[e+44>>2],f=t,n=p[e+40>>2],e=o,(t=a+r|0)>>>0<a>>>0&&(e=e+1|0);la(f,t=n+(a=t)|0),e=p[c+12>>2],p[c+12>>2]=0,e&&Mo(e);(e=p[c>>2])&&(p[c+4>>2]=e,Mo(e));V=i+32|0}(n,r),(e=p[n>>2])&&(p[n+4>>2]=e,Mo(e)),(e=p[n+48>>2])&&(p[n+52>>2]=e,Mo(e)),V=n- -64|0,1}Ao(),E()}(e,t,i,a);break i;case 9:o=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0;V=n=V+-64|0,p[n+56>>2]=0,p[n+48>>2]=0,p[n+52>>2]=0;n:{if((a=i+1|0)>>>0>=i>>>0){if(a>>>0>=536870912)break n;for(h=oo(s=a<<3),p[n+48>>2]=h,p[n+52>>2]=h,p[n+56>>2]=s+h,c=Do(h,0,8+(i<<3)|0);c=c+8|0,a=a+-1|0;);p[n+52>>2]=c}if((0|t)>=1)for(;i=(p[(o<<2)+e>>2]<<3)+h|0,s=i,f=i,a=p[i+4>>2],(i=p[i>>2]+1|0)>>>0<1&&(a=a+1|0),p[f>>2]=i,p[s+4>>2]=a,(0|(o=o+1|0))!=(0|t););if(p[n+8>>2]=0,p[n+12>>2]=0,p[(i=s=n+16|0)>>2]=0,p[i+4>>2]=0,p[(i=f=n+24|0)>>2]=0,p[i+4>>2]=0,p[n+32>>2]=0,p[n>>2]=0,p[n+4>>2]=0,p[n+40>>2]=0,p[n+44>>2]=0,function(e,t,i,r){var n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,A=0,v=0,y=0,g=0;if(V=n=V-32|0,(0|i)>0)for(;m=l,f=p[(l=(a<<3)+t|0)+4>>2],o=p[l>>2],l=f|o?a:m,s=s+f|0,(f=o+h|0)>>>0<o>>>0&&(s=s+1|0),h=f,(0|(a=a+1|0))!=(0|i););f=l+1|0,p[e+12>>2]=f,o=p[e>>2],i=p[e+4>>2]-o>>3;f>>>0>i>>>0?qe(e,f-i|0):f>>>0>=i>>>0||(p[e+4>>2]=o+(f<<3));a:{s:{o:{l:{if((0|l)>=0){for(_=+(h>>>0)+4294967296*+(s>>>0),s=p[e>>2],a=0;i=p[(h=(o=a<<3)+t|0)+4>>2],h=p[h>>2],A=0!=(0|h)|0!=(0|i),i=(c=(+(h>>>0)+4294967296*+(i>>>0))/_*65536+.5)<4294967296&c>=0?~~c>>>0:0,i=A?i||1:i,p[(o=s+o|0)>>2]=i,u=i+u|0,i=(0|a)==(0|l),a=a+1|0,!i;);if(65536==(0|u))break l}if(p[n+16>>2]=0,p[n+8>>2]=0,p[n+12>>2]=0,o=0,f){if(f>>>0>=1073741824)break a;o=oo(i=f<<2),p[n+8>>2]=o,d=i+o|0,p[n+16>>2]=d,Do(o,0,i),p[n+12>>2]=d}if((0|l)>-1)for(a=0;p[(a<<2)+o>>2]=a,i=(0|a)==(0|l),a=a+1|0,!i;);p[n+24>>2]=e,function e(t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0;c:{f:for(;;){u=i+-4|0;h:for(;;){s=t;u:for(;;){d:{p:{_:{m:{if((t=(n=i-s|0)>>2)>>>0<=5){b:switch(t-2|0){case 0:if(r=p[r>>2],t=p[r>>2],r=p[r+4>>2]-t>>3,i=p[(n=i+-4|0)>>2],r>>>0<=i>>>0)break m;if(u=r,r=p[s>>2],u>>>0<=r>>>0)break m;if(b[t+(i<<3)>>2]>=b[t+(r<<3)>>2])break c;return p[s>>2]=i,void(p[n>>2]=r);case 2:return void nt(s,s+4|0,s+8|0,i+-4|0,r);case 3:break b;case 1:break _;default:break c}return void at(s,s+4|0,s+8|0,s+12|0,i+-4|0,r)}if((0|n)<=123)return void st(s,i,r);if(c=((0|t)/2<<2)+s|0,h=(0|n)>=3997?at(s,(t=(0|t)/4<<2)+s|0,c,t+c|0,u,r):ot(s,c,u,r),t=p[r>>2],l=p[t>>2],o=p[t+4>>2]-l>>3,t=p[s>>2],o>>>0<=t>>>0)break d;if(n=p[c>>2],o>>>0<=n>>>0)break d;if(a=u,f=p[l+(t<<3)>>2],d=p[l+(n<<3)>>2],f>>>0>=d>>>0){for(;;){if((0|(a=a+-4|0))==(0|s)){if(t=p[u>>2],o>>>0<=t>>>0)break d;if(n=s+4|0,f>>>0<b[l+(t<<3)>>2])break p;if((0|n)==(0|u))break c;for(;;){if(a=p[n>>2],o>>>0<=a>>>0)break d;if(f>>>0<b[l+(a<<3)>>2]){p[n>>2]=t,p[u>>2]=a,n=n+4|0;break p}if((0|u)==(0|(n=n+4|0)))break}break c}if(n=p[a>>2],o>>>0<=n>>>0)break d;if(!(b[l+(n<<3)>>2]>=d>>>0))break}p[s>>2]=n,p[a>>2]=t,h=h+1|0}b:if(!((n=s+4|0)>>>0>=a>>>0)){if(t=p[n>>2],o>>>0<=t>>>0)break d;for(;;){for(f=p[c>>2],d=l+(f<<3)|0;;){if(o>>>0<=f>>>0)break d;if(_=p[d>>2],b[l+(t<<3)>>2]<_>>>0){if(t=p[n+4>>2],n=n+4|0,o>>>0>t>>>0)continue;break d}break}for(;;){if(f=p[(a=a+-4|0)>>2],o>>>0<=f>>>0)break d;if(!(b[l+(f<<3)>>2]>=_>>>0))break}if(n>>>0>a>>>0)break b;if(p[n>>2]=f,p[a>>2]=t,c=(0|n)==(0|c)?a:c,h=h+1|0,t=p[n+4>>2],n=n+4|0,!(o>>>0>t>>>0))break}break d}if((0|n)!=(0|c)){if(t=p[c>>2],o>>>0<=t>>>0)break d;if(a=p[n>>2],o>>>0<=a>>>0)break d;b[l+(t<<3)>>2]>=b[l+(a<<3)>>2]||(p[n>>2]=t,p[c>>2]=a,h=h+1|0)}if(!h){if(a=lt(s,n,r),lt(t=n+4|0,i,r)){if(i=n,t=s,!a)continue f;break c}if(a)continue h}if((n-s|0)<(i-n|0)){e(s,n,r),t=n+4|0;continue h}e(n+4|0,i,r),i=n,t=s;continue f}vo(),E()}ot(s,s+4|0,i+-4|0,r);break c}if((0|n)==(0|u))break c;if(t=u,a=p[s>>2],!(o>>>0<=a>>>0))for(;;){for(c=l+(a<<3)|0;;){if(h=p[n>>2],o>>>0<=h>>>0)break d;if((f=p[c>>2])>>>0>=b[l+(h<<3)>>2]){if(n=n+4|0,o>>>0>a>>>0)continue;break d}break}for(;;){if(a=p[(t=t+-4|0)>>2],o>>>0<=a>>>0)break d;if(!(f>>>0<b[l+(a<<3)>>2]))break}if(n>>>0>=t>>>0){s=n;continue u}if(p[n>>2]=a,p[t>>2]=h,n=n+4|0,a=p[s>>2],!(o>>>0>a>>>0))break}}break}break}break}vo(),E()}}(o,d,n+24|0);c:if((0|u)<65536)i=p[e>>2]+(p[p[n+12>>2]+-4>>2]<<3)|0,p[i>>2]=65536+(p[i>>2]-u|0),a=0;else for(i=u+-65536|0,f=p[n+8>>2],h=(0|l)<1;;){f:if(!h)for(c=65536/+(0|u),d=p[e>>2],o=l;;){if(a=d+(p[(o<<2)+f>>2]<<3)|0,(s=p[a>>2])>>>0<=1){if((0|o)!=(0|l))break f;a=1;break c}if(A=s+-1|0,m=a,y=s,g=i,a=s,_=T(c*+(s>>>0)),v=k(_)<2147483648?~~_:-2147483648,s=(0|(s=(0|(a=(a=a-v|0)||1))<(0|s)?a:A))>(0|i)?g:s,p[m>>2]=y-s,i=i-s|0,65536==(0|(u=u-s|0))){u=65536;break f}if(s=(0|o)>1,o=o+-1|0,!s)break}if(a=0,!((0|i)>0))break}if((i=p[n+8>>2])&&(p[n+12>>2]=i,Mo(i)),a)break s;if((0|l)>=0)break o;break s}if((0|l)<0)break s}for(s=p[e>>2],a=0,i=0;p[(o=s+(a<<3)|0)+4>>2]=i,i=p[o>>2]+i|0,o=(0|a)==(0|l),a=a+1|0,!o;);if(65536==(0|i)){if(a=0,c=0,(0|l)>=0)for(i=p[e>>2];(o=p[(s=a<<3)+i>>2])&&(s=t+s|0,c+=Co(152587890625e-16*+(o>>>0))*(+b[s>>2]+4294967296*+b[s+4>>2])),s=(0|a)==(0|l),a=a+1|0,!s;);t=e,i=e,(c=w(-c))<0x10000000000000000&c>=0?(s=k(c)>=1?c>0?~~S(T(c/4294967296),4294967295)>>>0:~~w((c-+(~~c>>>0>>>0))/4294967296)>>>0:0,l=~~c>>>0):(s=0,l=0),p[i+16>>2]=l,p[t+20>>2]=s,it(e,r)}}return void(V=n+32|0)}Ao(),E()}(n,h,c-h>>3,r),a=p[s>>2],i=p[s+4>>2],s=p[r+4>>2]-p[r>>2]|0,p[n+40>>2]=s,p[n+44>>2]=0,c=a,a=i<<1|a>>>31,(i=39+(c<<1)|0)>>>0<39&&(a=a+1|0),c=i,i=a>>>3,(a=s+((7&a)<<29|c>>>3)|0)>>>0<s>>>0&&(i=i+1|0),la(o=r,s=a+8|0),i=p[r>>2],p[n+28>>2]=0,p[n+32>>2]=262144,p[f>>2]=i+p[n+40>>2],(0|t)>=1)for(o=262144;;){if(i=t+-1|0,c=p[n>>2]+(p[(i<<2)+e>>2]<<3)|0,f=p[c>>2],o>>>0>=(a=f<<10)>>>0)for(;s=p[n+28>>2],p[n+28>>2]=s+1,l[s+p[n+24>>2]|0]=o,o=p[n+32>>2]>>>8,p[n+32>>2]=o,o>>>0>=a>>>0;);if(s=(o>>>0)/(f>>>0)|0,o=p[c+4>>2]+((s<<16)+(o-y(s,f)|0)|0)|0,p[n+32>>2]=o,s=(0|t)>1,t=i,!s)break}return function(e,t){var i,r,n,a=0,s=0,o=0,c=0,f=0;V=i=V-32|0,f=p[t>>2]+p[e+40>>2]|0,a=p[e+32>>2];(s=a+-262144|0)>>>0<=63?(a=e+28|0,l[p[e+24>>2]+p[a>>2]|0]=s,s=p[a>>2]+1|0):s>>>0<=16383?(s=e+28|0,o=p[e+24>>2]+p[s>>2]|0,a=a+-245760|0,l[0|o]=a,l[o+1|0]=a>>>8,s=p[s>>2]+2|0):s>>>0<=4194303?(o=e+28|0,s=p[e+24>>2]+p[o>>2]|0,a=a+8126464|0,l[s+2|0]=a>>>16,l[s+1|0]=a>>>8,l[0|s]=a,s=p[o>>2]+3|0):s>>>0<=1073741823?(o=e+28|0,s=p[e+24>>2]+p[o>>2]|0,a=a+-1074003968|0,l[0|s]=a,l[s+1|0]=a>>>8,l[s+2|0]=a>>>16,l[s+3|0]=a>>>24,s=p[o>>2]+4|0):s=p[e+28>>2];o=c=s>>31,a=s,c=oa(i),rt(a,o,c),Fo((r=p[c+4>>2]-p[c>>2]|0)+f|0,f,a),Io(f,p[c>>2],r),s=p[e+44>>2],f=t,n=p[e+40>>2],e=o,(t=a+r|0)>>>0<a>>>0&&(e=e+1|0);la(f,t=n+(a=t)|0),e=p[c+12>>2],p[c+12>>2]=0,e&&Mo(e);(e=p[c>>2])&&(p[c+4>>2]=e,Mo(e));V=i+32|0}(n,r),(e=p[n>>2])&&(p[n+4>>2]=e,Mo(e)),(e=p[n+48>>2])&&(p[n+52>>2]=e,Mo(e)),V=n- -64|0,1}Ao(),E()}(e,t,i,a);break i;case 10:o=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0;V=n=V+-64|0,p[n+56>>2]=0,p[n+48>>2]=0,p[n+52>>2]=0;n:{if((a=i+1|0)>>>0>=i>>>0){if(a>>>0>=536870912)break n;for(h=oo(s=a<<3),p[n+48>>2]=h,p[n+52>>2]=h,p[n+56>>2]=s+h,c=Do(h,0,8+(i<<3)|0);c=c+8|0,a=a+-1|0;);p[n+52>>2]=c}if((0|t)>=1)for(;i=(p[(o<<2)+e>>2]<<3)+h|0,s=i,f=i,a=p[i+4>>2],(i=p[i>>2]+1|0)>>>0<1&&(a=a+1|0),p[f>>2]=i,p[s+4>>2]=a,(0|(o=o+1|0))!=(0|t););if(p[n+8>>2]=0,p[n+12>>2]=0,p[(i=s=n+16|0)>>2]=0,p[i+4>>2]=0,p[(i=f=n+24|0)>>2]=0,p[i+4>>2]=0,p[n+32>>2]=0,p[n>>2]=0,p[n+4>>2]=0,p[n+40>>2]=0,p[n+44>>2]=0,an(n,h,c-h>>3,r),a=p[s>>2],i=p[s+4>>2],s=p[r+4>>2]-p[r>>2]|0,p[n+40>>2]=s,p[n+44>>2]=0,c=a,a=i<<1|a>>>31,(i=39+(c<<1)|0)>>>0<39&&(a=a+1|0),c=i,i=a>>>3,(a=s+((7&a)<<29|c>>>3)|0)>>>0<s>>>0&&(i=i+1|0),la(o=r,s=a+8|0),i=p[r>>2],p[n+28>>2]=0,p[n+32>>2]=1048576,p[f>>2]=i+p[n+40>>2],(0|t)>=1)for(o=1048576;;){if(i=t+-1|0,c=p[n>>2]+(p[(i<<2)+e>>2]<<3)|0,f=p[c>>2],o>>>0>=(a=f<<10)>>>0)for(;s=p[n+28>>2],p[n+28>>2]=s+1,l[s+p[n+24>>2]|0]=o,o=p[n+32>>2]>>>8,p[n+32>>2]=o,o>>>0>=a>>>0;);if(s=(o>>>0)/(f>>>0)|0,o=p[c+4>>2]+((s<<18)+(o-y(s,f)|0)|0)|0,p[n+32>>2]=o,s=(0|t)>1,t=i,!s)break}return sn(n,r),(e=p[n>>2])&&(p[n+4>>2]=e,Mo(e)),(e=p[n+48>>2])&&(p[n+52>>2]=e,Mo(e)),V=n- -64|0,1}Ao(),E()}(e,t,i,a);break i;case 11:o=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0;V=n=V+-64|0,p[n+56>>2]=0,p[n+48>>2]=0,p[n+52>>2]=0;n:{if((a=i+1|0)>>>0>=i>>>0){if(a>>>0>=536870912)break n;for(h=oo(s=a<<3),p[n+48>>2]=h,p[n+52>>2]=h,p[n+56>>2]=s+h,c=Do(h,0,8+(i<<3)|0);c=c+8|0,a=a+-1|0;);p[n+52>>2]=c}if((0|t)>=1)for(;i=(p[(o<<2)+e>>2]<<3)+h|0,s=i,f=i,a=p[i+4>>2],(i=p[i>>2]+1|0)>>>0<1&&(a=a+1|0),p[f>>2]=i,p[s+4>>2]=a,(0|(o=o+1|0))!=(0|t););if(p[n+8>>2]=0,p[n+12>>2]=0,p[(i=s=n+16|0)>>2]=0,p[i+4>>2]=0,p[(i=f=n+24|0)>>2]=0,p[i+4>>2]=0,p[n+32>>2]=0,p[n>>2]=0,p[n+4>>2]=0,p[n+40>>2]=0,p[n+44>>2]=0,function(e,t,i,r){var n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,A=0,v=0,y=0,g=0;if(V=n=V-32|0,(0|i)>0)for(;m=l,f=p[(l=(a<<3)+t|0)+4>>2],o=p[l>>2],l=f|o?a:m,s=s+f|0,(f=o+h|0)>>>0<o>>>0&&(s=s+1|0),h=f,(0|(a=a+1|0))!=(0|i););f=l+1|0,p[e+12>>2]=f,o=p[e>>2],i=p[e+4>>2]-o>>3;f>>>0>i>>>0?qe(e,f-i|0):f>>>0>=i>>>0||(p[e+4>>2]=o+(f<<3));a:{s:{o:{l:{if((0|l)>=0){for(_=+(h>>>0)+4294967296*+(s>>>0),s=p[e>>2],a=0;i=p[(h=(o=a<<3)+t|0)+4>>2],h=p[h>>2],A=0!=(0|h)|0!=(0|i),i=(c=(+(h>>>0)+4294967296*+(i>>>0))/_*524288+.5)<4294967296&c>=0?~~c>>>0:0,i=A?i||1:i,p[(o=s+o|0)>>2]=i,u=i+u|0,i=(0|a)==(0|l),a=a+1|0,!i;);if(524288==(0|u))break l}if(p[n+16>>2]=0,p[n+8>>2]=0,p[n+12>>2]=0,o=0,f){if(f>>>0>=1073741824)break a;o=oo(i=f<<2),p[n+8>>2]=o,d=i+o|0,p[n+16>>2]=d,Do(o,0,i),p[n+12>>2]=d}if((0|l)>-1)for(a=0;p[(a<<2)+o>>2]=a,i=(0|a)==(0|l),a=a+1|0,!i;);p[n+24>>2]=e,function e(t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0;c:{f:for(;;){u=i+-4|0;h:for(;;){s=t;u:for(;;){d:{p:{_:{m:{if((t=(n=i-s|0)>>2)>>>0<=5){b:switch(t-2|0){case 0:if(r=p[r>>2],t=p[r>>2],r=p[r+4>>2]-t>>3,i=p[(n=i+-4|0)>>2],r>>>0<=i>>>0)break m;if(u=r,r=p[s>>2],u>>>0<=r>>>0)break m;if(b[t+(i<<3)>>2]>=b[t+(r<<3)>>2])break c;return p[s>>2]=i,void(p[n>>2]=r);case 2:return void nt(s,s+4|0,s+8|0,i+-4|0,r);case 3:break b;case 1:break _;default:break c}return void at(s,s+4|0,s+8|0,s+12|0,i+-4|0,r)}if((0|n)<=123)return void st(s,i,r);if(c=((0|t)/2<<2)+s|0,h=(0|n)>=3997?at(s,(t=(0|t)/4<<2)+s|0,c,t+c|0,u,r):ot(s,c,u,r),t=p[r>>2],l=p[t>>2],o=p[t+4>>2]-l>>3,t=p[s>>2],o>>>0<=t>>>0)break d;if(n=p[c>>2],o>>>0<=n>>>0)break d;if(a=u,f=p[l+(t<<3)>>2],d=p[l+(n<<3)>>2],f>>>0>=d>>>0){for(;;){if((0|(a=a+-4|0))==(0|s)){if(t=p[u>>2],o>>>0<=t>>>0)break d;if(n=s+4|0,f>>>0<b[l+(t<<3)>>2])break p;if((0|n)==(0|u))break c;for(;;){if(a=p[n>>2],o>>>0<=a>>>0)break d;if(f>>>0<b[l+(a<<3)>>2]){p[n>>2]=t,p[u>>2]=a,n=n+4|0;break p}if((0|u)==(0|(n=n+4|0)))break}break c}if(n=p[a>>2],o>>>0<=n>>>0)break d;if(!(b[l+(n<<3)>>2]>=d>>>0))break}p[s>>2]=n,p[a>>2]=t,h=h+1|0}b:if(!((n=s+4|0)>>>0>=a>>>0)){if(t=p[n>>2],o>>>0<=t>>>0)break d;for(;;){for(f=p[c>>2],d=l+(f<<3)|0;;){if(o>>>0<=f>>>0)break d;if(_=p[d>>2],b[l+(t<<3)>>2]<_>>>0){if(t=p[n+4>>2],n=n+4|0,o>>>0>t>>>0)continue;break d}break}for(;;){if(f=p[(a=a+-4|0)>>2],o>>>0<=f>>>0)break d;if(!(b[l+(f<<3)>>2]>=_>>>0))break}if(n>>>0>a>>>0)break b;if(p[n>>2]=f,p[a>>2]=t,c=(0|n)==(0|c)?a:c,h=h+1|0,t=p[n+4>>2],n=n+4|0,!(o>>>0>t>>>0))break}break d}if((0|n)!=(0|c)){if(t=p[c>>2],o>>>0<=t>>>0)break d;if(a=p[n>>2],o>>>0<=a>>>0)break d;b[l+(t<<3)>>2]>=b[l+(a<<3)>>2]||(p[n>>2]=t,p[c>>2]=a,h=h+1|0)}if(!h){if(a=lt(s,n,r),lt(t=n+4|0,i,r)){if(i=n,t=s,!a)continue f;break c}if(a)continue h}if((n-s|0)<(i-n|0)){e(s,n,r),t=n+4|0;continue h}e(n+4|0,i,r),i=n,t=s;continue f}vo(),E()}ot(s,s+4|0,i+-4|0,r);break c}if((0|n)==(0|u))break c;if(t=u,a=p[s>>2],!(o>>>0<=a>>>0))for(;;){for(c=l+(a<<3)|0;;){if(h=p[n>>2],o>>>0<=h>>>0)break d;if((f=p[c>>2])>>>0>=b[l+(h<<3)>>2]){if(n=n+4|0,o>>>0>a>>>0)continue;break d}break}for(;;){if(a=p[(t=t+-4|0)>>2],o>>>0<=a>>>0)break d;if(!(f>>>0<b[l+(a<<3)>>2]))break}if(n>>>0>=t>>>0){s=n;continue u}if(p[n>>2]=a,p[t>>2]=h,n=n+4|0,a=p[s>>2],!(o>>>0>a>>>0))break}}break}break}break}vo(),E()}}(o,d,n+24|0);c:if((0|u)<524288)i=p[e>>2]+(p[p[n+12>>2]+-4>>2]<<3)|0,p[i>>2]=524288+(p[i>>2]-u|0),a=0;else for(i=u+-524288|0,f=p[n+8>>2],h=(0|l)<1;;){f:if(!h)for(c=524288/+(0|u),d=p[e>>2],o=l;;){if(a=d+(p[(o<<2)+f>>2]<<3)|0,(s=p[a>>2])>>>0<=1){if((0|o)!=(0|l))break f;a=1;break c}if(A=s+-1|0,m=a,y=s,g=i,a=s,_=T(c*+(s>>>0)),v=k(_)<2147483648?~~_:-2147483648,s=(0|(s=(0|(a=(a=a-v|0)||1))<(0|s)?a:A))>(0|i)?g:s,p[m>>2]=y-s,i=i-s|0,524288==(0|(u=u-s|0))){u=524288;break f}if(s=(0|o)>1,o=o+-1|0,!s)break}if(a=0,!((0|i)>0))break}if((i=p[n+8>>2])&&(p[n+12>>2]=i,Mo(i)),a)break s;if((0|l)>=0)break o;break s}if((0|l)<0)break s}for(s=p[e>>2],a=0,i=0;p[(o=s+(a<<3)|0)+4>>2]=i,i=p[o>>2]+i|0,o=(0|a)==(0|l),a=a+1|0,!o;);if(524288==(0|i)){if(a=0,c=0,(0|l)>=0)for(i=p[e>>2];(o=p[(s=a<<3)+i>>2])&&(s=t+s|0,c+=Co(19073486328125e-19*+(o>>>0))*(+b[s>>2]+4294967296*+b[s+4>>2])),s=(0|a)==(0|l),a=a+1|0,!s;);t=e,i=e,(c=w(-c))<0x10000000000000000&c>=0?(s=k(c)>=1?c>0?~~S(T(c/4294967296),4294967295)>>>0:~~w((c-+(~~c>>>0>>>0))/4294967296)>>>0:0,l=~~c>>>0):(s=0,l=0),p[i+16>>2]=l,p[t+20>>2]=s,it(e,r)}}return void(V=n+32|0)}Ao(),E()}(n,h,c-h>>3,r),a=p[s>>2],i=p[s+4>>2],s=p[r+4>>2]-p[r>>2]|0,p[n+40>>2]=s,p[n+44>>2]=0,c=a,a=i<<1|a>>>31,(i=39+(c<<1)|0)>>>0<39&&(a=a+1|0),c=i,i=a>>>3,(a=s+((7&a)<<29|c>>>3)|0)>>>0<s>>>0&&(i=i+1|0),la(o=r,s=a+8|0),i=p[r>>2],p[n+28>>2]=0,p[n+32>>2]=2097152,p[f>>2]=i+p[n+40>>2],(0|t)>=1)for(o=2097152;;){if(i=t+-1|0,c=p[n>>2]+(p[(i<<2)+e>>2]<<3)|0,f=p[c>>2],o>>>0>=(a=f<<10)>>>0)for(;s=p[n+28>>2],p[n+28>>2]=s+1,l[s+p[n+24>>2]|0]=o,o=p[n+32>>2]>>>8,p[n+32>>2]=o,o>>>0>=a>>>0;);if(s=(o>>>0)/(f>>>0)|0,o=p[c+4>>2]+((s<<19)+(o-y(s,f)|0)|0)|0,p[n+32>>2]=o,s=(0|t)>1,t=i,!s)break}return function(e,t){var i,r,n,a=0,s=0,o=0,c=0,f=0;V=i=V-32|0,f=p[t>>2]+p[e+40>>2]|0,a=p[e+32>>2];(s=a+-2097152|0)>>>0<=63?(a=e+28|0,l[p[e+24>>2]+p[a>>2]|0]=s,s=p[a>>2]+1|0):s>>>0<=16383?(s=e+28|0,o=p[e+24>>2]+p[s>>2]|0,a=a+-2080768|0,l[0|o]=a,l[o+1|0]=a>>>8,s=p[s>>2]+2|0):s>>>0<=4194303?(o=e+28|0,s=p[e+24>>2]+p[o>>2]|0,a=a+6291456|0,l[s+2|0]=a>>>16,l[s+1|0]=a>>>8,l[0|s]=a,s=p[o>>2]+3|0):s>>>0<=1073741823?(o=e+28|0,s=p[e+24>>2]+p[o>>2]|0,a=a+-1075838976|0,l[0|s]=a,l[s+1|0]=a>>>8,l[s+2|0]=a>>>16,l[s+3|0]=a>>>24,s=p[o>>2]+4|0):s=p[e+28>>2];o=c=s>>31,a=s,c=oa(i),rt(a,o,c),Fo((r=p[c+4>>2]-p[c>>2]|0)+f|0,f,a),Io(f,p[c>>2],r),s=p[e+44>>2],f=t,n=p[e+40>>2],e=o,(t=a+r|0)>>>0<a>>>0&&(e=e+1|0);la(f,t=n+(a=t)|0),e=p[c+12>>2],p[c+12>>2]=0,e&&Mo(e);(e=p[c>>2])&&(p[c+4>>2]=e,Mo(e));V=i+32|0}(n,r),(e=p[n>>2])&&(p[n+4>>2]=e,Mo(e)),(e=p[n+48>>2])&&(p[n+52>>2]=e,Mo(e)),V=n- -64|0,1}Ao(),E()}(e,t,i,a);break i;case 12:o=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0;V=n=V+-64|0,p[n+56>>2]=0,p[n+48>>2]=0,p[n+52>>2]=0;n:{if((a=i+1|0)>>>0>=i>>>0){if(a>>>0>=536870912)break n;for(h=oo(s=a<<3),p[n+48>>2]=h,p[n+52>>2]=h,p[n+56>>2]=s+h,c=Do(h,0,8+(i<<3)|0);c=c+8|0,a=a+-1|0;);p[n+52>>2]=c}if((0|t)>=1)for(;i=(p[(o<<2)+e>>2]<<3)+h|0,s=i,f=i,a=p[i+4>>2],(i=p[i>>2]+1|0)>>>0<1&&(a=a+1|0),p[f>>2]=i,p[s+4>>2]=a,(0|(o=o+1|0))!=(0|t););if(p[n+8>>2]=0,p[n+12>>2]=0,p[(i=s=n+16|0)>>2]=0,p[i+4>>2]=0,p[(i=f=n+24|0)>>2]=0,p[i+4>>2]=0,p[n+32>>2]=0,p[n>>2]=0,p[n+4>>2]=0,p[n+40>>2]=0,p[n+44>>2]=0,function(e,t,i,r){var n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,A=0,v=0,y=0,g=0;if(V=n=V-32|0,(0|i)>0)for(;m=l,f=p[(l=(a<<3)+t|0)+4>>2],o=p[l>>2],l=f|o?a:m,s=s+f|0,(f=o+h|0)>>>0<o>>>0&&(s=s+1|0),h=f,(0|(a=a+1|0))!=(0|i););f=l+1|0,p[e+12>>2]=f,o=p[e>>2],i=p[e+4>>2]-o>>3;f>>>0>i>>>0?qe(e,f-i|0):f>>>0>=i>>>0||(p[e+4>>2]=o+(f<<3));a:{s:{o:{l:{if((0|l)>=0){for(_=+(h>>>0)+4294967296*+(s>>>0),s=p[e>>2],a=0;i=p[(h=(o=a<<3)+t|0)+4>>2],h=p[h>>2],A=0!=(0|h)|0!=(0|i),i=(c=(+(h>>>0)+4294967296*+(i>>>0))/_*1048576+.5)<4294967296&c>=0?~~c>>>0:0,i=A?i||1:i,p[(o=s+o|0)>>2]=i,u=i+u|0,i=(0|a)==(0|l),a=a+1|0,!i;);if(1048576==(0|u))break l}if(p[n+16>>2]=0,p[n+8>>2]=0,p[n+12>>2]=0,o=0,f){if(f>>>0>=1073741824)break a;o=oo(i=f<<2),p[n+8>>2]=o,d=i+o|0,p[n+16>>2]=d,Do(o,0,i),p[n+12>>2]=d}if((0|l)>-1)for(a=0;p[(a<<2)+o>>2]=a,i=(0|a)==(0|l),a=a+1|0,!i;);p[n+24>>2]=e,function e(t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0;c:{f:for(;;){u=i+-4|0;h:for(;;){s=t;u:for(;;){d:{p:{_:{m:{if((t=(n=i-s|0)>>2)>>>0<=5){b:switch(t-2|0){case 0:if(r=p[r>>2],t=p[r>>2],r=p[r+4>>2]-t>>3,i=p[(n=i+-4|0)>>2],r>>>0<=i>>>0)break m;if(u=r,r=p[s>>2],u>>>0<=r>>>0)break m;if(b[t+(i<<3)>>2]>=b[t+(r<<3)>>2])break c;return p[s>>2]=i,void(p[n>>2]=r);case 2:return void nt(s,s+4|0,s+8|0,i+-4|0,r);case 3:break b;case 1:break _;default:break c}return void at(s,s+4|0,s+8|0,s+12|0,i+-4|0,r)}if((0|n)<=123)return void st(s,i,r);if(c=((0|t)/2<<2)+s|0,h=(0|n)>=3997?at(s,(t=(0|t)/4<<2)+s|0,c,t+c|0,u,r):ot(s,c,u,r),t=p[r>>2],l=p[t>>2],o=p[t+4>>2]-l>>3,t=p[s>>2],o>>>0<=t>>>0)break d;if(n=p[c>>2],o>>>0<=n>>>0)break d;if(a=u,f=p[l+(t<<3)>>2],d=p[l+(n<<3)>>2],f>>>0>=d>>>0){for(;;){if((0|(a=a+-4|0))==(0|s)){if(t=p[u>>2],o>>>0<=t>>>0)break d;if(n=s+4|0,f>>>0<b[l+(t<<3)>>2])break p;if((0|n)==(0|u))break c;for(;;){if(a=p[n>>2],o>>>0<=a>>>0)break d;if(f>>>0<b[l+(a<<3)>>2]){p[n>>2]=t,p[u>>2]=a,n=n+4|0;break p}if((0|u)==(0|(n=n+4|0)))break}break c}if(n=p[a>>2],o>>>0<=n>>>0)break d;if(!(b[l+(n<<3)>>2]>=d>>>0))break}p[s>>2]=n,p[a>>2]=t,h=h+1|0}b:if(!((n=s+4|0)>>>0>=a>>>0)){if(t=p[n>>2],o>>>0<=t>>>0)break d;for(;;){for(f=p[c>>2],d=l+(f<<3)|0;;){if(o>>>0<=f>>>0)break d;if(_=p[d>>2],b[l+(t<<3)>>2]<_>>>0){if(t=p[n+4>>2],n=n+4|0,o>>>0>t>>>0)continue;break d}break}for(;;){if(f=p[(a=a+-4|0)>>2],o>>>0<=f>>>0)break d;if(!(b[l+(f<<3)>>2]>=_>>>0))break}if(n>>>0>a>>>0)break b;if(p[n>>2]=f,p[a>>2]=t,c=(0|n)==(0|c)?a:c,h=h+1|0,t=p[n+4>>2],n=n+4|0,!(o>>>0>t>>>0))break}break d}if((0|n)!=(0|c)){if(t=p[c>>2],o>>>0<=t>>>0)break d;if(a=p[n>>2],o>>>0<=a>>>0)break d;b[l+(t<<3)>>2]>=b[l+(a<<3)>>2]||(p[n>>2]=t,p[c>>2]=a,h=h+1|0)}if(!h){if(a=lt(s,n,r),lt(t=n+4|0,i,r)){if(i=n,t=s,!a)continue f;break c}if(a)continue h}if((n-s|0)<(i-n|0)){e(s,n,r),t=n+4|0;continue h}e(n+4|0,i,r),i=n,t=s;continue f}vo(),E()}ot(s,s+4|0,i+-4|0,r);break c}if((0|n)==(0|u))break c;if(t=u,a=p[s>>2],!(o>>>0<=a>>>0))for(;;){for(c=l+(a<<3)|0;;){if(h=p[n>>2],o>>>0<=h>>>0)break d;if((f=p[c>>2])>>>0>=b[l+(h<<3)>>2]){if(n=n+4|0,o>>>0>a>>>0)continue;break d}break}for(;;){if(a=p[(t=t+-4|0)>>2],o>>>0<=a>>>0)break d;if(!(f>>>0<b[l+(a<<3)>>2]))break}if(n>>>0>=t>>>0){s=n;continue u}if(p[n>>2]=a,p[t>>2]=h,n=n+4|0,a=p[s>>2],!(o>>>0>a>>>0))break}}break}break}break}vo(),E()}}(o,d,n+24|0);c:if((0|u)<1048576)i=p[e>>2]+(p[p[n+12>>2]+-4>>2]<<3)|0,p[i>>2]=(p[i>>2]-u|0)- -1048576,a=0;else for(i=u+-1048576|0,f=p[n+8>>2],h=(0|l)<1;;){f:if(!h)for(c=1048576/+(0|u),d=p[e>>2],o=l;;){if(a=d+(p[(o<<2)+f>>2]<<3)|0,(s=p[a>>2])>>>0<=1){if((0|o)!=(0|l))break f;a=1;break c}if(A=s+-1|0,m=a,y=s,g=i,a=s,_=T(c*+(s>>>0)),v=k(_)<2147483648?~~_:-2147483648,s=(0|(s=(0|(a=(a=a-v|0)||1))<(0|s)?a:A))>(0|i)?g:s,p[m>>2]=y-s,i=i-s|0,1048576==(0|(u=u-s|0))){u=1048576;break f}if(s=(0|o)>1,o=o+-1|0,!s)break}if(a=0,!((0|i)>0))break}if((i=p[n+8>>2])&&(p[n+12>>2]=i,Mo(i)),a)break s;if((0|l)>=0)break o;break s}if((0|l)<0)break s}for(s=p[e>>2],a=0,i=0;p[(o=s+(a<<3)|0)+4>>2]=i,i=p[o>>2]+i|0,o=(0|a)==(0|l),a=a+1|0,!o;);if(1048576==(0|i)){if(a=0,c=0,(0|l)>=0)for(i=p[e>>2];(o=p[(s=a<<3)+i>>2])&&(s=t+s|0,c+=Co(9.5367431640625e-7*+(o>>>0))*(+b[s>>2]+4294967296*+b[s+4>>2])),s=(0|a)==(0|l),a=a+1|0,!s;);t=e,i=e,(c=w(-c))<0x10000000000000000&c>=0?(s=k(c)>=1?c>0?~~S(T(c/4294967296),4294967295)>>>0:~~w((c-+(~~c>>>0>>>0))/4294967296)>>>0:0,l=~~c>>>0):(s=0,l=0),p[i+16>>2]=l,p[t+20>>2]=s,it(e,r)}}return void(V=n+32|0)}Ao(),E()}(n,h,c-h>>3,r),a=p[s>>2],i=p[s+4>>2],s=p[r+4>>2]-p[r>>2]|0,p[n+40>>2]=s,p[n+44>>2]=0,c=a,a=i<<1|a>>>31,(i=39+(c<<1)|0)>>>0<39&&(a=a+1|0),c=i,i=a>>>3,(a=s+((7&a)<<29|c>>>3)|0)>>>0<s>>>0&&(i=i+1|0),la(o=r,s=a+8|0),i=p[r>>2],p[n+28>>2]=0,p[n+32>>2]=4194304,p[f>>2]=i+p[n+40>>2],(0|t)>=1)for(o=4194304;;){if(i=t+-1|0,c=p[n>>2]+(p[(i<<2)+e>>2]<<3)|0,f=p[c>>2],o>>>0>=(a=f<<10)>>>0)for(;s=p[n+28>>2],p[n+28>>2]=s+1,l[s+p[n+24>>2]|0]=o,o=p[n+32>>2]>>>8,p[n+32>>2]=o,o>>>0>=a>>>0;);if(s=(o>>>0)/(f>>>0)|0,o=p[c+4>>2]+((s<<20)+(o-y(s,f)|0)|0)|0,p[n+32>>2]=o,s=(0|t)>1,t=i,!s)break}return on(n,r),(e=p[n>>2])&&(p[n+4>>2]=e,Mo(e)),(e=p[n+48>>2])&&(p[n+52>>2]=e,Mo(e)),V=n- -64|0,1}Ao(),E()}(e,t,i,a);break i;case 13:o=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0;V=n=V+-64|0,p[n+56>>2]=0,p[n+48>>2]=0,p[n+52>>2]=0;n:{if((a=i+1|0)>>>0>=i>>>0){if(a>>>0>=536870912)break n;for(h=oo(s=a<<3),p[n+48>>2]=h,p[n+52>>2]=h,p[n+56>>2]=s+h,c=Do(h,0,8+(i<<3)|0);c=c+8|0,a=a+-1|0;);p[n+52>>2]=c}if((0|t)>=1)for(;i=(p[(o<<2)+e>>2]<<3)+h|0,s=i,f=i,a=p[i+4>>2],(i=p[i>>2]+1|0)>>>0<1&&(a=a+1|0),p[f>>2]=i,p[s+4>>2]=a,(0|(o=o+1|0))!=(0|t););if(p[n+8>>2]=0,p[n+12>>2]=0,p[(i=s=n+16|0)>>2]=0,p[i+4>>2]=0,p[(i=f=n+24|0)>>2]=0,p[i+4>>2]=0,p[n+32>>2]=0,p[n>>2]=0,p[n+4>>2]=0,p[n+40>>2]=0,p[n+44>>2]=0,function(e,t,i,r){var n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,A=0,v=0,y=0,g=0;if(V=n=V-32|0,(0|i)>0)for(;m=l,f=p[(l=(a<<3)+t|0)+4>>2],o=p[l>>2],l=f|o?a:m,s=s+f|0,(f=o+h|0)>>>0<o>>>0&&(s=s+1|0),h=f,(0|(a=a+1|0))!=(0|i););f=l+1|0,p[e+12>>2]=f,o=p[e>>2],i=p[e+4>>2]-o>>3;f>>>0>i>>>0?qe(e,f-i|0):f>>>0>=i>>>0||(p[e+4>>2]=o+(f<<3));a:{s:{o:{l:{if((0|l)>=0){for(_=+(h>>>0)+4294967296*+(s>>>0),s=p[e>>2],a=0;i=p[(h=(o=a<<3)+t|0)+4>>2],h=p[h>>2],A=0!=(0|h)|0!=(0|i),i=(c=(+(h>>>0)+4294967296*+(i>>>0))/_*1048576+.5)<4294967296&c>=0?~~c>>>0:0,i=A?i||1:i,p[(o=s+o|0)>>2]=i,u=i+u|0,i=(0|a)==(0|l),a=a+1|0,!i;);if(1048576==(0|u))break l}if(p[n+16>>2]=0,p[n+8>>2]=0,p[n+12>>2]=0,o=0,f){if(f>>>0>=1073741824)break a;o=oo(i=f<<2),p[n+8>>2]=o,d=i+o|0,p[n+16>>2]=d,Do(o,0,i),p[n+12>>2]=d}if((0|l)>-1)for(a=0;p[(a<<2)+o>>2]=a,i=(0|a)==(0|l),a=a+1|0,!i;);p[n+24>>2]=e,function e(t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0;c:{f:for(;;){u=i+-4|0;h:for(;;){s=t;u:for(;;){d:{p:{_:{m:{if((t=(n=i-s|0)>>2)>>>0<=5){b:switch(t-2|0){case 0:if(r=p[r>>2],t=p[r>>2],r=p[r+4>>2]-t>>3,i=p[(n=i+-4|0)>>2],r>>>0<=i>>>0)break m;if(u=r,r=p[s>>2],u>>>0<=r>>>0)break m;if(b[t+(i<<3)>>2]>=b[t+(r<<3)>>2])break c;return p[s>>2]=i,void(p[n>>2]=r);case 2:return void nt(s,s+4|0,s+8|0,i+-4|0,r);case 3:break b;case 1:break _;default:break c}return void at(s,s+4|0,s+8|0,s+12|0,i+-4|0,r)}if((0|n)<=123)return void st(s,i,r);if(c=((0|t)/2<<2)+s|0,h=(0|n)>=3997?at(s,(t=(0|t)/4<<2)+s|0,c,t+c|0,u,r):ot(s,c,u,r),t=p[r>>2],l=p[t>>2],o=p[t+4>>2]-l>>3,t=p[s>>2],o>>>0<=t>>>0)break d;if(n=p[c>>2],o>>>0<=n>>>0)break d;if(a=u,f=p[l+(t<<3)>>2],d=p[l+(n<<3)>>2],f>>>0>=d>>>0){for(;;){if((0|(a=a+-4|0))==(0|s)){if(t=p[u>>2],o>>>0<=t>>>0)break d;if(n=s+4|0,f>>>0<b[l+(t<<3)>>2])break p;if((0|n)==(0|u))break c;for(;;){if(a=p[n>>2],o>>>0<=a>>>0)break d;if(f>>>0<b[l+(a<<3)>>2]){p[n>>2]=t,p[u>>2]=a,n=n+4|0;break p}if((0|u)==(0|(n=n+4|0)))break}break c}if(n=p[a>>2],o>>>0<=n>>>0)break d;if(!(b[l+(n<<3)>>2]>=d>>>0))break}p[s>>2]=n,p[a>>2]=t,h=h+1|0}b:if(!((n=s+4|0)>>>0>=a>>>0)){if(t=p[n>>2],o>>>0<=t>>>0)break d;for(;;){for(f=p[c>>2],d=l+(f<<3)|0;;){if(o>>>0<=f>>>0)break d;if(_=p[d>>2],b[l+(t<<3)>>2]<_>>>0){if(t=p[n+4>>2],n=n+4|0,o>>>0>t>>>0)continue;break d}break}for(;;){if(f=p[(a=a+-4|0)>>2],o>>>0<=f>>>0)break d;if(!(b[l+(f<<3)>>2]>=_>>>0))break}if(n>>>0>a>>>0)break b;if(p[n>>2]=f,p[a>>2]=t,c=(0|n)==(0|c)?a:c,h=h+1|0,t=p[n+4>>2],n=n+4|0,!(o>>>0>t>>>0))break}break d}if((0|n)!=(0|c)){if(t=p[c>>2],o>>>0<=t>>>0)break d;if(a=p[n>>2],o>>>0<=a>>>0)break d;b[l+(t<<3)>>2]>=b[l+(a<<3)>>2]||(p[n>>2]=t,p[c>>2]=a,h=h+1|0)}if(!h){if(a=lt(s,n,r),lt(t=n+4|0,i,r)){if(i=n,t=s,!a)continue f;break c}if(a)continue h}if((n-s|0)<(i-n|0)){e(s,n,r),t=n+4|0;continue h}e(n+4|0,i,r),i=n,t=s;continue f}vo(),E()}ot(s,s+4|0,i+-4|0,r);break c}if((0|n)==(0|u))break c;if(t=u,a=p[s>>2],!(o>>>0<=a>>>0))for(;;){for(c=l+(a<<3)|0;;){if(h=p[n>>2],o>>>0<=h>>>0)break d;if((f=p[c>>2])>>>0>=b[l+(h<<3)>>2]){if(n=n+4|0,o>>>0>a>>>0)continue;break d}break}for(;;){if(a=p[(t=t+-4|0)>>2],o>>>0<=a>>>0)break d;if(!(f>>>0<b[l+(a<<3)>>2]))break}if(n>>>0>=t>>>0){s=n;continue u}if(p[n>>2]=a,p[t>>2]=h,n=n+4|0,a=p[s>>2],!(o>>>0>a>>>0))break}}break}break}break}vo(),E()}}(o,d,n+24|0);c:if((0|u)<1048576)i=p[e>>2]+(p[p[n+12>>2]+-4>>2]<<3)|0,p[i>>2]=(p[i>>2]-u|0)- -1048576,a=0;else for(i=u+-1048576|0,f=p[n+8>>2],h=(0|l)<1;;){f:if(!h)for(c=1048576/+(0|u),d=p[e>>2],o=l;;){if(a=d+(p[(o<<2)+f>>2]<<3)|0,(s=p[a>>2])>>>0<=1){if((0|o)!=(0|l))break f;a=1;break c}if(A=s+-1|0,m=a,y=s,g=i,a=s,_=T(c*+(s>>>0)),v=k(_)<2147483648?~~_:-2147483648,s=(0|(s=(0|(a=(a=a-v|0)||1))<(0|s)?a:A))>(0|i)?g:s,p[m>>2]=y-s,i=i-s|0,1048576==(0|(u=u-s|0))){u=1048576;break f}if(s=(0|o)>1,o=o+-1|0,!s)break}if(a=0,!((0|i)>0))break}if((i=p[n+8>>2])&&(p[n+12>>2]=i,Mo(i)),a)break s;if((0|l)>=0)break o;break s}if((0|l)<0)break s}for(s=p[e>>2],a=0,i=0;p[(o=s+(a<<3)|0)+4>>2]=i,i=p[o>>2]+i|0,o=(0|a)==(0|l),a=a+1|0,!o;);if(1048576==(0|i)){if(a=0,c=0,(0|l)>=0)for(i=p[e>>2];(o=p[(s=a<<3)+i>>2])&&(s=t+s|0,c+=Co(9.5367431640625e-7*+(o>>>0))*(+b[s>>2]+4294967296*+b[s+4>>2])),s=(0|a)==(0|l),a=a+1|0,!s;);t=e,i=e,(c=w(-c))<0x10000000000000000&c>=0?(s=k(c)>=1?c>0?~~S(T(c/4294967296),4294967295)>>>0:~~w((c-+(~~c>>>0>>>0))/4294967296)>>>0:0,l=~~c>>>0):(s=0,l=0),p[i+16>>2]=l,p[t+20>>2]=s,it(e,r)}}return void(V=n+32|0)}Ao(),E()}(n,h,c-h>>3,r),a=p[s>>2],i=p[s+4>>2],s=p[r+4>>2]-p[r>>2]|0,p[n+40>>2]=s,p[n+44>>2]=0,c=a,a=i<<1|a>>>31,(i=39+(c<<1)|0)>>>0<39&&(a=a+1|0),c=i,i=a>>>3,(a=s+((7&a)<<29|c>>>3)|0)>>>0<s>>>0&&(i=i+1|0),la(o=r,s=a+8|0),i=p[r>>2],p[n+28>>2]=0,p[n+32>>2]=4194304,p[f>>2]=i+p[n+40>>2],(0|t)>=1)for(o=4194304;;){if(i=t+-1|0,c=p[n>>2]+(p[(i<<2)+e>>2]<<3)|0,f=p[c>>2],o>>>0>=(a=f<<10)>>>0)for(;s=p[n+28>>2],p[n+28>>2]=s+1,l[s+p[n+24>>2]|0]=o,o=p[n+32>>2]>>>8,p[n+32>>2]=o,o>>>0>=a>>>0;);if(s=(o>>>0)/(f>>>0)|0,o=p[c+4>>2]+((s<<20)+(o-y(s,f)|0)|0)|0,p[n+32>>2]=o,s=(0|t)>1,t=i,!s)break}return on(n,r),(e=p[n>>2])&&(p[n+4>>2]=e,Mo(e)),(e=p[n+48>>2])&&(p[n+52>>2]=e,Mo(e)),V=n- -64|0,1}Ao(),E()}(e,t,i,a);break i;case 14:o=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0;V=n=V+-64|0,p[n+56>>2]=0,p[n+48>>2]=0,p[n+52>>2]=0;n:{if((a=i+1|0)>>>0>=i>>>0){if(a>>>0>=536870912)break n;for(h=oo(s=a<<3),p[n+48>>2]=h,p[n+52>>2]=h,p[n+56>>2]=s+h,c=Do(h,0,8+(i<<3)|0);c=c+8|0,a=a+-1|0;);p[n+52>>2]=c}if((0|t)>=1)for(;i=(p[(o<<2)+e>>2]<<3)+h|0,s=i,f=i,a=p[i+4>>2],(i=p[i>>2]+1|0)>>>0<1&&(a=a+1|0),p[f>>2]=i,p[s+4>>2]=a,(0|(o=o+1|0))!=(0|t););if(p[n+8>>2]=0,p[n+12>>2]=0,p[(i=s=n+16|0)>>2]=0,p[i+4>>2]=0,p[(i=f=n+24|0)>>2]=0,p[i+4>>2]=0,p[n+32>>2]=0,p[n>>2]=0,p[n+4>>2]=0,p[n+40>>2]=0,p[n+44>>2]=0,function(e,t,i,r){var n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,A=0,v=0,y=0,g=0;if(V=n=V-32|0,(0|i)>0)for(;m=l,f=p[(l=(a<<3)+t|0)+4>>2],o=p[l>>2],l=f|o?a:m,s=s+f|0,(f=o+h|0)>>>0<o>>>0&&(s=s+1|0),h=f,(0|(a=a+1|0))!=(0|i););f=l+1|0,p[e+12>>2]=f,o=p[e>>2],i=p[e+4>>2]-o>>3;f>>>0>i>>>0?qe(e,f-i|0):f>>>0>=i>>>0||(p[e+4>>2]=o+(f<<3));a:{s:{o:{l:{if((0|l)>=0){for(_=+(h>>>0)+4294967296*+(s>>>0),s=p[e>>2],a=0;i=p[(h=(o=a<<3)+t|0)+4>>2],h=p[h>>2],A=0!=(0|h)|0!=(0|i),i=(c=(+(h>>>0)+4294967296*+(i>>>0))/_*1048576+.5)<4294967296&c>=0?~~c>>>0:0,i=A?i||1:i,p[(o=s+o|0)>>2]=i,u=i+u|0,i=(0|a)==(0|l),a=a+1|0,!i;);if(1048576==(0|u))break l}if(p[n+16>>2]=0,p[n+8>>2]=0,p[n+12>>2]=0,o=0,f){if(f>>>0>=1073741824)break a;o=oo(i=f<<2),p[n+8>>2]=o,d=i+o|0,p[n+16>>2]=d,Do(o,0,i),p[n+12>>2]=d}if((0|l)>-1)for(a=0;p[(a<<2)+o>>2]=a,i=(0|a)==(0|l),a=a+1|0,!i;);p[n+24>>2]=e,function e(t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0;c:{f:for(;;){u=i+-4|0;h:for(;;){s=t;u:for(;;){d:{p:{_:{m:{if((t=(n=i-s|0)>>2)>>>0<=5){b:switch(t-2|0){case 0:if(r=p[r>>2],t=p[r>>2],r=p[r+4>>2]-t>>3,i=p[(n=i+-4|0)>>2],r>>>0<=i>>>0)break m;if(u=r,r=p[s>>2],u>>>0<=r>>>0)break m;if(b[t+(i<<3)>>2]>=b[t+(r<<3)>>2])break c;return p[s>>2]=i,void(p[n>>2]=r);case 2:return void nt(s,s+4|0,s+8|0,i+-4|0,r);case 3:break b;case 1:break _;default:break c}return void at(s,s+4|0,s+8|0,s+12|0,i+-4|0,r)}if((0|n)<=123)return void st(s,i,r);if(c=((0|t)/2<<2)+s|0,h=(0|n)>=3997?at(s,(t=(0|t)/4<<2)+s|0,c,t+c|0,u,r):ot(s,c,u,r),t=p[r>>2],l=p[t>>2],o=p[t+4>>2]-l>>3,t=p[s>>2],o>>>0<=t>>>0)break d;if(n=p[c>>2],o>>>0<=n>>>0)break d;if(a=u,f=p[l+(t<<3)>>2],d=p[l+(n<<3)>>2],f>>>0>=d>>>0){for(;;){if((0|(a=a+-4|0))==(0|s)){if(t=p[u>>2],o>>>0<=t>>>0)break d;if(n=s+4|0,f>>>0<b[l+(t<<3)>>2])break p;if((0|n)==(0|u))break c;for(;;){if(a=p[n>>2],o>>>0<=a>>>0)break d;if(f>>>0<b[l+(a<<3)>>2]){p[n>>2]=t,p[u>>2]=a,n=n+4|0;break p}if((0|u)==(0|(n=n+4|0)))break}break c}if(n=p[a>>2],o>>>0<=n>>>0)break d;if(!(b[l+(n<<3)>>2]>=d>>>0))break}p[s>>2]=n,p[a>>2]=t,h=h+1|0}b:if(!((n=s+4|0)>>>0>=a>>>0)){if(t=p[n>>2],o>>>0<=t>>>0)break d;for(;;){for(f=p[c>>2],d=l+(f<<3)|0;;){if(o>>>0<=f>>>0)break d;if(_=p[d>>2],b[l+(t<<3)>>2]<_>>>0){if(t=p[n+4>>2],n=n+4|0,o>>>0>t>>>0)continue;break d}break}for(;;){if(f=p[(a=a+-4|0)>>2],o>>>0<=f>>>0)break d;if(!(b[l+(f<<3)>>2]>=_>>>0))break}if(n>>>0>a>>>0)break b;if(p[n>>2]=f,p[a>>2]=t,c=(0|n)==(0|c)?a:c,h=h+1|0,t=p[n+4>>2],n=n+4|0,!(o>>>0>t>>>0))break}break d}if((0|n)!=(0|c)){if(t=p[c>>2],o>>>0<=t>>>0)break d;if(a=p[n>>2],o>>>0<=a>>>0)break d;b[l+(t<<3)>>2]>=b[l+(a<<3)>>2]||(p[n>>2]=t,p[c>>2]=a,h=h+1|0)}if(!h){if(a=lt(s,n,r),lt(t=n+4|0,i,r)){if(i=n,t=s,!a)continue f;break c}if(a)continue h}if((n-s|0)<(i-n|0)){e(s,n,r),t=n+4|0;continue h}e(n+4|0,i,r),i=n,t=s;continue f}vo(),E()}ot(s,s+4|0,i+-4|0,r);break c}if((0|n)==(0|u))break c;if(t=u,a=p[s>>2],!(o>>>0<=a>>>0))for(;;){for(c=l+(a<<3)|0;;){if(h=p[n>>2],o>>>0<=h>>>0)break d;if((f=p[c>>2])>>>0>=b[l+(h<<3)>>2]){if(n=n+4|0,o>>>0>a>>>0)continue;break d}break}for(;;){if(a=p[(t=t+-4|0)>>2],o>>>0<=a>>>0)break d;if(!(f>>>0<b[l+(a<<3)>>2]))break}if(n>>>0>=t>>>0){s=n;continue u}if(p[n>>2]=a,p[t>>2]=h,n=n+4|0,a=p[s>>2],!(o>>>0>a>>>0))break}}break}break}break}vo(),E()}}(o,d,n+24|0);c:if((0|u)<1048576)i=p[e>>2]+(p[p[n+12>>2]+-4>>2]<<3)|0,p[i>>2]=(p[i>>2]-u|0)- -1048576,a=0;else for(i=u+-1048576|0,f=p[n+8>>2],h=(0|l)<1;;){f:if(!h)for(c=1048576/+(0|u),d=p[e>>2],o=l;;){if(a=d+(p[(o<<2)+f>>2]<<3)|0,(s=p[a>>2])>>>0<=1){if((0|o)!=(0|l))break f;a=1;break c}if(A=s+-1|0,m=a,y=s,g=i,a=s,_=T(c*+(s>>>0)),v=k(_)<2147483648?~~_:-2147483648,s=(0|(s=(0|(a=(a=a-v|0)||1))<(0|s)?a:A))>(0|i)?g:s,p[m>>2]=y-s,i=i-s|0,1048576==(0|(u=u-s|0))){u=1048576;break f}if(s=(0|o)>1,o=o+-1|0,!s)break}if(a=0,!((0|i)>0))break}if((i=p[n+8>>2])&&(p[n+12>>2]=i,Mo(i)),a)break s;if((0|l)>=0)break o;break s}if((0|l)<0)break s}for(s=p[e>>2],a=0,i=0;p[(o=s+(a<<3)|0)+4>>2]=i,i=p[o>>2]+i|0,o=(0|a)==(0|l),a=a+1|0,!o;);if(1048576==(0|i)){if(a=0,c=0,(0|l)>=0)for(i=p[e>>2];(o=p[(s=a<<3)+i>>2])&&(s=t+s|0,c+=Co(9.5367431640625e-7*+(o>>>0))*(+b[s>>2]+4294967296*+b[s+4>>2])),s=(0|a)==(0|l),a=a+1|0,!s;);t=e,i=e,(c=w(-c))<0x10000000000000000&c>=0?(s=k(c)>=1?c>0?~~S(T(c/4294967296),4294967295)>>>0:~~w((c-+(~~c>>>0>>>0))/4294967296)>>>0:0,l=~~c>>>0):(s=0,l=0),p[i+16>>2]=l,p[t+20>>2]=s,it(e,r)}}return void(V=n+32|0)}Ao(),E()}(n,h,c-h>>3,r),a=p[s>>2],i=p[s+4>>2],s=p[r+4>>2]-p[r>>2]|0,p[n+40>>2]=s,p[n+44>>2]=0,c=a,a=i<<1|a>>>31,(i=39+(c<<1)|0)>>>0<39&&(a=a+1|0),c=i,i=a>>>3,(a=s+((7&a)<<29|c>>>3)|0)>>>0<s>>>0&&(i=i+1|0),la(o=r,s=a+8|0),i=p[r>>2],p[n+28>>2]=0,p[n+32>>2]=4194304,p[f>>2]=i+p[n+40>>2],(0|t)>=1)for(o=4194304;;){if(i=t+-1|0,c=p[n>>2]+(p[(i<<2)+e>>2]<<3)|0,f=p[c>>2],o>>>0>=(a=f<<10)>>>0)for(;s=p[n+28>>2],p[n+28>>2]=s+1,l[s+p[n+24>>2]|0]=o,o=p[n+32>>2]>>>8,p[n+32>>2]=o,o>>>0>=a>>>0;);if(s=(o>>>0)/(f>>>0)|0,o=p[c+4>>2]+((s<<20)+(o-y(s,f)|0)|0)|0,p[n+32>>2]=o,s=(0|t)>1,t=i,!s)break}return on(n,r),(e=p[n>>2])&&(p[n+4>>2]=e,Mo(e)),(e=p[n+48>>2])&&(p[n+52>>2]=e,Mo(e)),V=n- -64|0,1}Ao(),E()}(e,t,i,a);break i;case 15:o=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0;V=n=V+-64|0,p[n+56>>2]=0,p[n+48>>2]=0,p[n+52>>2]=0;n:{if((a=i+1|0)>>>0>=i>>>0){if(a>>>0>=536870912)break n;for(h=oo(s=a<<3),p[n+48>>2]=h,p[n+52>>2]=h,p[n+56>>2]=s+h,c=Do(h,0,8+(i<<3)|0);c=c+8|0,a=a+-1|0;);p[n+52>>2]=c}if((0|t)>=1)for(;i=(p[(o<<2)+e>>2]<<3)+h|0,s=i,f=i,a=p[i+4>>2],(i=p[i>>2]+1|0)>>>0<1&&(a=a+1|0),p[f>>2]=i,p[s+4>>2]=a,(0|(o=o+1|0))!=(0|t););if(p[n+8>>2]=0,p[n+12>>2]=0,p[(i=s=n+16|0)>>2]=0,p[i+4>>2]=0,p[(i=f=n+24|0)>>2]=0,p[i+4>>2]=0,p[n+32>>2]=0,p[n>>2]=0,p[n+4>>2]=0,p[n+40>>2]=0,p[n+44>>2]=0,function(e,t,i,r){var n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,A=0,v=0,y=0,g=0;if(V=n=V-32|0,(0|i)>0)for(;m=l,f=p[(l=(a<<3)+t|0)+4>>2],o=p[l>>2],l=f|o?a:m,s=s+f|0,(f=o+h|0)>>>0<o>>>0&&(s=s+1|0),h=f,(0|(a=a+1|0))!=(0|i););f=l+1|0,p[e+12>>2]=f,o=p[e>>2],i=p[e+4>>2]-o>>3;f>>>0>i>>>0?qe(e,f-i|0):f>>>0>=i>>>0||(p[e+4>>2]=o+(f<<3));a:{s:{o:{l:{if((0|l)>=0){for(_=+(h>>>0)+4294967296*+(s>>>0),s=p[e>>2],a=0;i=p[(h=(o=a<<3)+t|0)+4>>2],h=p[h>>2],A=0!=(0|h)|0!=(0|i),i=(c=(+(h>>>0)+4294967296*+(i>>>0))/_*1048576+.5)<4294967296&c>=0?~~c>>>0:0,i=A?i||1:i,p[(o=s+o|0)>>2]=i,u=i+u|0,i=(0|a)==(0|l),a=a+1|0,!i;);if(1048576==(0|u))break l}if(p[n+16>>2]=0,p[n+8>>2]=0,p[n+12>>2]=0,o=0,f){if(f>>>0>=1073741824)break a;o=oo(i=f<<2),p[n+8>>2]=o,d=i+o|0,p[n+16>>2]=d,Do(o,0,i),p[n+12>>2]=d}if((0|l)>-1)for(a=0;p[(a<<2)+o>>2]=a,i=(0|a)==(0|l),a=a+1|0,!i;);p[n+24>>2]=e,function e(t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0;c:{f:for(;;){u=i+-4|0;h:for(;;){s=t;u:for(;;){d:{p:{_:{m:{if((t=(n=i-s|0)>>2)>>>0<=5){b:switch(t-2|0){case 0:if(r=p[r>>2],t=p[r>>2],r=p[r+4>>2]-t>>3,i=p[(n=i+-4|0)>>2],r>>>0<=i>>>0)break m;if(u=r,r=p[s>>2],u>>>0<=r>>>0)break m;if(b[t+(i<<3)>>2]>=b[t+(r<<3)>>2])break c;return p[s>>2]=i,void(p[n>>2]=r);case 2:return void nt(s,s+4|0,s+8|0,i+-4|0,r);case 3:break b;case 1:break _;default:break c}return void at(s,s+4|0,s+8|0,s+12|0,i+-4|0,r)}if((0|n)<=123)return void st(s,i,r);if(c=((0|t)/2<<2)+s|0,h=(0|n)>=3997?at(s,(t=(0|t)/4<<2)+s|0,c,t+c|0,u,r):ot(s,c,u,r),t=p[r>>2],l=p[t>>2],o=p[t+4>>2]-l>>3,t=p[s>>2],o>>>0<=t>>>0)break d;if(n=p[c>>2],o>>>0<=n>>>0)break d;if(a=u,f=p[l+(t<<3)>>2],d=p[l+(n<<3)>>2],f>>>0>=d>>>0){for(;;){if((0|(a=a+-4|0))==(0|s)){if(t=p[u>>2],o>>>0<=t>>>0)break d;if(n=s+4|0,f>>>0<b[l+(t<<3)>>2])break p;if((0|n)==(0|u))break c;for(;;){if(a=p[n>>2],o>>>0<=a>>>0)break d;if(f>>>0<b[l+(a<<3)>>2]){p[n>>2]=t,p[u>>2]=a,n=n+4|0;break p}if((0|u)==(0|(n=n+4|0)))break}break c}if(n=p[a>>2],o>>>0<=n>>>0)break d;if(!(b[l+(n<<3)>>2]>=d>>>0))break}p[s>>2]=n,p[a>>2]=t,h=h+1|0}b:if(!((n=s+4|0)>>>0>=a>>>0)){if(t=p[n>>2],o>>>0<=t>>>0)break d;for(;;){for(f=p[c>>2],d=l+(f<<3)|0;;){if(o>>>0<=f>>>0)break d;if(_=p[d>>2],b[l+(t<<3)>>2]<_>>>0){if(t=p[n+4>>2],n=n+4|0,o>>>0>t>>>0)continue;break d}break}for(;;){if(f=p[(a=a+-4|0)>>2],o>>>0<=f>>>0)break d;if(!(b[l+(f<<3)>>2]>=_>>>0))break}if(n>>>0>a>>>0)break b;if(p[n>>2]=f,p[a>>2]=t,c=(0|n)==(0|c)?a:c,h=h+1|0,t=p[n+4>>2],n=n+4|0,!(o>>>0>t>>>0))break}break d}if((0|n)!=(0|c)){if(t=p[c>>2],o>>>0<=t>>>0)break d;if(a=p[n>>2],o>>>0<=a>>>0)break d;b[l+(t<<3)>>2]>=b[l+(a<<3)>>2]||(p[n>>2]=t,p[c>>2]=a,h=h+1|0)}if(!h){if(a=lt(s,n,r),lt(t=n+4|0,i,r)){if(i=n,t=s,!a)continue f;break c}if(a)continue h}if((n-s|0)<(i-n|0)){e(s,n,r),t=n+4|0;continue h}e(n+4|0,i,r),i=n,t=s;continue f}vo(),E()}ot(s,s+4|0,i+-4|0,r);break c}if((0|n)==(0|u))break c;if(t=u,a=p[s>>2],!(o>>>0<=a>>>0))for(;;){for(c=l+(a<<3)|0;;){if(h=p[n>>2],o>>>0<=h>>>0)break d;if((f=p[c>>2])>>>0>=b[l+(h<<3)>>2]){if(n=n+4|0,o>>>0>a>>>0)continue;break d}break}for(;;){if(a=p[(t=t+-4|0)>>2],o>>>0<=a>>>0)break d;if(!(f>>>0<b[l+(a<<3)>>2]))break}if(n>>>0>=t>>>0){s=n;continue u}if(p[n>>2]=a,p[t>>2]=h,n=n+4|0,a=p[s>>2],!(o>>>0>a>>>0))break}}break}break}break}vo(),E()}}(o,d,n+24|0);c:if((0|u)<1048576)i=p[e>>2]+(p[p[n+12>>2]+-4>>2]<<3)|0,p[i>>2]=(p[i>>2]-u|0)- -1048576,a=0;else for(i=u+-1048576|0,f=p[n+8>>2],h=(0|l)<1;;){f:if(!h)for(c=1048576/+(0|u),d=p[e>>2],o=l;;){if(a=d+(p[(o<<2)+f>>2]<<3)|0,(s=p[a>>2])>>>0<=1){if((0|o)!=(0|l))break f;a=1;break c}if(A=s+-1|0,m=a,y=s,g=i,a=s,_=T(c*+(s>>>0)),v=k(_)<2147483648?~~_:-2147483648,s=(0|(s=(0|(a=(a=a-v|0)||1))<(0|s)?a:A))>(0|i)?g:s,p[m>>2]=y-s,i=i-s|0,1048576==(0|(u=u-s|0))){u=1048576;break f}if(s=(0|o)>1,o=o+-1|0,!s)break}if(a=0,!((0|i)>0))break}if((i=p[n+8>>2])&&(p[n+12>>2]=i,Mo(i)),a)break s;if((0|l)>=0)break o;break s}if((0|l)<0)break s}for(s=p[e>>2],a=0,i=0;p[(o=s+(a<<3)|0)+4>>2]=i,i=p[o>>2]+i|0,o=(0|a)==(0|l),a=a+1|0,!o;);if(1048576==(0|i)){if(a=0,c=0,(0|l)>=0)for(i=p[e>>2];(o=p[(s=a<<3)+i>>2])&&(s=t+s|0,c+=Co(9.5367431640625e-7*+(o>>>0))*(+b[s>>2]+4294967296*+b[s+4>>2])),s=(0|a)==(0|l),a=a+1|0,!s;);t=e,i=e,(c=w(-c))<0x10000000000000000&c>=0?(s=k(c)>=1?c>0?~~S(T(c/4294967296),4294967295)>>>0:~~w((c-+(~~c>>>0>>>0))/4294967296)>>>0:0,l=~~c>>>0):(s=0,l=0),p[i+16>>2]=l,p[t+20>>2]=s,it(e,r)}}return void(V=n+32|0)}Ao(),E()}(n,h,c-h>>3,r),a=p[s>>2],i=p[s+4>>2],s=p[r+4>>2]-p[r>>2]|0,p[n+40>>2]=s,p[n+44>>2]=0,c=a,a=i<<1|a>>>31,(i=39+(c<<1)|0)>>>0<39&&(a=a+1|0),c=i,i=a>>>3,(a=s+((7&a)<<29|c>>>3)|0)>>>0<s>>>0&&(i=i+1|0),la(o=r,s=a+8|0),i=p[r>>2],p[n+28>>2]=0,p[n+32>>2]=4194304,p[f>>2]=i+p[n+40>>2],(0|t)>=1)for(o=4194304;;){if(i=t+-1|0,c=p[n>>2]+(p[(i<<2)+e>>2]<<3)|0,f=p[c>>2],o>>>0>=(a=f<<10)>>>0)for(;s=p[n+28>>2],p[n+28>>2]=s+1,l[s+p[n+24>>2]|0]=o,o=p[n+32>>2]>>>8,p[n+32>>2]=o,o>>>0>=a>>>0;);if(s=(o>>>0)/(f>>>0)|0,o=p[c+4>>2]+((s<<20)+(o-y(s,f)|0)|0)|0,p[n+32>>2]=o,s=(0|t)>1,t=i,!s)break}return on(n,r),(e=p[n>>2])&&(p[n+4>>2]=e,Mo(e)),(e=p[n+48>>2])&&(p[n+52>>2]=e,Mo(e)),V=n- -64|0,1}Ao(),E()}(e,t,i,a);break i;case 16:break r}o=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0;V=n=V+-64|0,p[n+56>>2]=0,p[n+48>>2]=0,p[n+52>>2]=0;r:{if((a=i+1|0)>>>0>=i>>>0){if(a>>>0>=536870912)break r;for(h=oo(s=a<<3),p[n+48>>2]=h,p[n+52>>2]=h,p[n+56>>2]=s+h,c=Do(h,0,8+(i<<3)|0);c=c+8|0,a=a+-1|0;);p[n+52>>2]=c}if((0|t)>=1)for(;i=(p[(o<<2)+e>>2]<<3)+h|0,s=i,f=i,a=p[i+4>>2],(i=p[i>>2]+1|0)>>>0<1&&(a=a+1|0),p[f>>2]=i,p[s+4>>2]=a,(0|(o=o+1|0))!=(0|t););if(p[n+8>>2]=0,p[n+12>>2]=0,p[(i=s=n+16|0)>>2]=0,p[i+4>>2]=0,p[(i=f=n+24|0)>>2]=0,p[i+4>>2]=0,p[n+32>>2]=0,p[n>>2]=0,p[n+4>>2]=0,p[n+40>>2]=0,p[n+44>>2]=0,function(e,t,i,r){var n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,A=0,v=0,y=0,g=0;if(V=n=V-32|0,(0|i)>0)for(;m=l,f=p[(l=(a<<3)+t|0)+4>>2],o=p[l>>2],l=f|o?a:m,s=s+f|0,(f=o+h|0)>>>0<o>>>0&&(s=s+1|0),h=f,(0|(a=a+1|0))!=(0|i););f=l+1|0,p[e+12>>2]=f,o=p[e>>2],i=p[e+4>>2]-o>>3;f>>>0>i>>>0?qe(e,f-i|0):f>>>0>=i>>>0||(p[e+4>>2]=o+(f<<3));n:{a:{s:{o:{if((0|l)>=0){for(_=+(h>>>0)+4294967296*+(s>>>0),s=p[e>>2],a=0;i=p[(h=(o=a<<3)+t|0)+4>>2],h=p[h>>2],A=0!=(0|h)|0!=(0|i),i=(c=(+(h>>>0)+4294967296*+(i>>>0))/_*1048576+.5)<4294967296&c>=0?~~c>>>0:0,i=A?i||1:i,p[(o=s+o|0)>>2]=i,u=i+u|0,i=(0|a)==(0|l),a=a+1|0,!i;);if(1048576==(0|u))break o}if(p[n+16>>2]=0,p[n+8>>2]=0,p[n+12>>2]=0,o=0,f){if(f>>>0>=1073741824)break n;o=oo(i=f<<2),p[n+8>>2]=o,d=i+o|0,p[n+16>>2]=d,Do(o,0,i),p[n+12>>2]=d}if((0|l)>-1)for(a=0;p[(a<<2)+o>>2]=a,i=(0|a)==(0|l),a=a+1|0,!i;);p[n+24>>2]=e,function e(t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0;l:{c:for(;;){u=i+-4|0;f:for(;;){s=t;h:for(;;){u:{d:{p:{_:{if((t=(n=i-s|0)>>2)>>>0<=5){m:switch(t-2|0){case 0:if(r=p[r>>2],t=p[r>>2],r=p[r+4>>2]-t>>3,i=p[(n=i+-4|0)>>2],r>>>0<=i>>>0)break _;if(u=r,r=p[s>>2],u>>>0<=r>>>0)break _;if(b[t+(i<<3)>>2]>=b[t+(r<<3)>>2])break l;return p[s>>2]=i,void(p[n>>2]=r);case 2:return void nt(s,s+4|0,s+8|0,i+-4|0,r);case 3:break m;case 1:break p;default:break l}return void at(s,s+4|0,s+8|0,s+12|0,i+-4|0,r)}if((0|n)<=123)return void st(s,i,r);if(c=((0|t)/2<<2)+s|0,h=(0|n)>=3997?at(s,(t=(0|t)/4<<2)+s|0,c,t+c|0,u,r):ot(s,c,u,r),t=p[r>>2],l=p[t>>2],o=p[t+4>>2]-l>>3,t=p[s>>2],o>>>0<=t>>>0)break u;if(n=p[c>>2],o>>>0<=n>>>0)break u;if(a=u,f=p[l+(t<<3)>>2],d=p[l+(n<<3)>>2],f>>>0>=d>>>0){for(;;){if((0|(a=a+-4|0))==(0|s)){if(t=p[u>>2],o>>>0<=t>>>0)break u;if(n=s+4|0,f>>>0<b[l+(t<<3)>>2])break d;if((0|n)==(0|u))break l;for(;;){if(a=p[n>>2],o>>>0<=a>>>0)break u;if(f>>>0<b[l+(a<<3)>>2]){p[n>>2]=t,p[u>>2]=a,n=n+4|0;break d}if((0|u)==(0|(n=n+4|0)))break}break l}if(n=p[a>>2],o>>>0<=n>>>0)break u;if(!(b[l+(n<<3)>>2]>=d>>>0))break}p[s>>2]=n,p[a>>2]=t,h=h+1|0}m:if(!((n=s+4|0)>>>0>=a>>>0)){if(t=p[n>>2],o>>>0<=t>>>0)break u;for(;;){for(f=p[c>>2],d=l+(f<<3)|0;;){if(o>>>0<=f>>>0)break u;if(_=p[d>>2],b[l+(t<<3)>>2]<_>>>0){if(t=p[n+4>>2],n=n+4|0,o>>>0>t>>>0)continue;break u}break}for(;;){if(f=p[(a=a+-4|0)>>2],o>>>0<=f>>>0)break u;if(!(b[l+(f<<3)>>2]>=_>>>0))break}if(n>>>0>a>>>0)break m;if(p[n>>2]=f,p[a>>2]=t,c=(0|n)==(0|c)?a:c,h=h+1|0,t=p[n+4>>2],n=n+4|0,!(o>>>0>t>>>0))break}break u}if((0|n)!=(0|c)){if(t=p[c>>2],o>>>0<=t>>>0)break u;if(a=p[n>>2],o>>>0<=a>>>0)break u;b[l+(t<<3)>>2]>=b[l+(a<<3)>>2]||(p[n>>2]=t,p[c>>2]=a,h=h+1|0)}if(!h){if(a=lt(s,n,r),lt(t=n+4|0,i,r)){if(i=n,t=s,!a)continue c;break l}if(a)continue f}if((n-s|0)<(i-n|0)){e(s,n,r),t=n+4|0;continue f}e(n+4|0,i,r),i=n,t=s;continue c}vo(),E()}ot(s,s+4|0,i+-4|0,r);break l}if((0|n)==(0|u))break l;if(t=u,a=p[s>>2],!(o>>>0<=a>>>0))for(;;){for(c=l+(a<<3)|0;;){if(h=p[n>>2],o>>>0<=h>>>0)break u;if((f=p[c>>2])>>>0>=b[l+(h<<3)>>2]){if(n=n+4|0,o>>>0>a>>>0)continue;break u}break}for(;;){if(a=p[(t=t+-4|0)>>2],o>>>0<=a>>>0)break u;if(!(f>>>0<b[l+(a<<3)>>2]))break}if(n>>>0>=t>>>0){s=n;continue h}if(p[n>>2]=a,p[t>>2]=h,n=n+4|0,a=p[s>>2],!(o>>>0>a>>>0))break}}break}break}break}vo(),E()}}(o,d,n+24|0);l:if((0|u)<1048576)i=p[e>>2]+(p[p[n+12>>2]+-4>>2]<<3)|0,p[i>>2]=(p[i>>2]-u|0)- -1048576,a=0;else for(i=u+-1048576|0,f=p[n+8>>2],h=(0|l)<1;;){c:if(!h)for(c=1048576/+(0|u),d=p[e>>2],o=l;;){if(a=d+(p[(o<<2)+f>>2]<<3)|0,(s=p[a>>2])>>>0<=1){if((0|o)!=(0|l))break c;a=1;break l}if(A=s+-1|0,m=a,y=s,g=i,a=s,_=T(c*+(s>>>0)),v=k(_)<2147483648?~~_:-2147483648,s=(0|(s=(0|(a=(a=a-v|0)||1))<(0|s)?a:A))>(0|i)?g:s,p[m>>2]=y-s,i=i-s|0,1048576==(0|(u=u-s|0))){u=1048576;break c}if(s=(0|o)>1,o=o+-1|0,!s)break}if(a=0,!((0|i)>0))break}if((i=p[n+8>>2])&&(p[n+12>>2]=i,Mo(i)),a)break a;if((0|l)>=0)break s;break a}if((0|l)<0)break a}for(s=p[e>>2],a=0,i=0;p[(o=s+(a<<3)|0)+4>>2]=i,i=p[o>>2]+i|0,o=(0|a)==(0|l),a=a+1|0,!o;);if(1048576==(0|i)){if(a=0,c=0,(0|l)>=0)for(i=p[e>>2];(o=p[(s=a<<3)+i>>2])&&(s=t+s|0,c+=Co(9.5367431640625e-7*+(o>>>0))*(+b[s>>2]+4294967296*+b[s+4>>2])),s=(0|a)==(0|l),a=a+1|0,!s;);t=e,i=e,(c=w(-c))<0x10000000000000000&c>=0?(s=k(c)>=1?c>0?~~S(T(c/4294967296),4294967295)>>>0:~~w((c-+(~~c>>>0>>>0))/4294967296)>>>0:0,l=~~c>>>0):(s=0,l=0),p[i+16>>2]=l,p[t+20>>2]=s,it(e,r)}}return void(V=n+32|0)}Ao(),E()}(n,h,c-h>>3,r),a=p[s>>2],i=p[s+4>>2],s=p[r+4>>2]-p[r>>2]|0,p[n+40>>2]=s,p[n+44>>2]=0,c=a,a=i<<1|a>>>31,(i=39+(c<<1)|0)>>>0<39&&(a=a+1|0),c=i,i=a>>>3,(a=s+((7&a)<<29|c>>>3)|0)>>>0<s>>>0&&(i=i+1|0),la(o=r,s=a+8|0),i=p[r>>2],p[n+28>>2]=0,p[n+32>>2]=4194304,p[f>>2]=i+p[n+40>>2],(0|t)>=1)for(o=4194304;;){if(i=t+-1|0,c=p[n>>2]+(p[(i<<2)+e>>2]<<3)|0,f=p[c>>2],o>>>0>=(a=f<<10)>>>0)for(;s=p[n+28>>2],p[n+28>>2]=s+1,l[s+p[n+24>>2]|0]=o,o=p[n+32>>2]>>>8,p[n+32>>2]=o,o>>>0>=a>>>0;);if(s=(o>>>0)/(f>>>0)|0,o=p[c+4>>2]+((s<<20)+(o-y(s,f)|0)|0)|0,p[n+32>>2]=o,s=(0|t)>1,t=i,!s)break}return on(n,r),(e=p[n>>2])&&(p[n+4>>2]=e,Mo(e)),(e=p[n+48>>2])&&(p[n+52>>2]=e,Mo(e)),V=n- -64|0,1}Ao(),E()}(e,t,i,a)}}return V=s+16|0,o}(e,t,A,P,r,n)),s=i,(e=p[a+32>>2])&&(p[a+36>>2]=e,Mo(e))}else s=1;return V=a+48|0,s}Ao(),E()}Wt(10903),E()}function $e(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;e:{if(n=p[e>>2],(r=(i=(s=p[e+4>>2]-n|0)>>2)+1|0)>>>0<1073741824){if(o=i<<2,a=(i=p[e+8>>2]-n|0)>>1,r=i>>2>>>0<536870911?a>>>0<r>>>0?r:a:1073741823,i=0,r){if(r>>>0>=1073741824)break e;i=oo(r<<2)}return p[(a=o+i|0)>>2]=p[t>>2],t=i+(r<<2)|0,r=a+4|0,(0|s)>=1&&Io(i,n,s),p[e>>2]=i,p[e+8>>2]=t,p[e+4>>2]=r,void(n&&Mo(n))}Ao(),E()}Wt(10903),E()}function et(e,t,i,r){var n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,A=0,v=0,y=0;if(V=n=V-32|0,(0|i)>0)for(;m=l,l=(f=p[(l=(a<<3)+t|0)+4>>2])|(o=p[l>>2])?a:m,s=s+f|0,(f=o+h|0)>>>0<o>>>0&&(s=s+1|0),h=f,(0|(a=a+1|0))!=(0|i););f=l+1|0,p[e+12>>2]=f,o=p[e>>2],f>>>0>(i=p[e+4>>2]-o>>3)>>>0?qe(e,f-i|0):f>>>0>=i>>>0||(p[e+4>>2]=o+(f<<3));e:{t:{i:{r:{if((0|l)>=0){for(_=+(h>>>0)+4294967296*+(s>>>0),s=p[e>>2],a=0;i=p[(h=(o=a<<3)+t|0)+4>>2],A=0!=(0|(h=p[h>>2]))|0!=(0|i),i=(c=(+(h>>>0)+4294967296*+(i>>>0))/_*4096+.5)<4294967296&c>=0?~~c>>>0:0,i=A?i||1:i,p[(o=s+o|0)>>2]=i,u=i+u|0,i=(0|a)==(0|l),a=a+1|0,!i;);if(4096==(0|u))break r}if(p[n+16>>2]=0,p[n+8>>2]=0,p[n+12>>2]=0,o=0,f){if(f>>>0>=1073741824)break e;o=oo(i=f<<2),p[n+8>>2]=o,d=i+o|0,p[n+16>>2]=d,Do(o,0,i),p[n+12>>2]=d}if((0|l)>-1)for(a=0;p[(a<<2)+o>>2]=a,i=(0|a)==(0|l),a=a+1|0,!i;);p[n+24>>2]=e,function e(t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0;n:{a:for(;;){u=i+-4|0;s:for(;;){s=t;o:for(;;){l:{c:{f:{h:{if((t=(n=i-s|0)>>2)>>>0<=5){u:switch(t-2|0){case 0:if(r=p[r>>2],t=p[r>>2],r=p[r+4>>2]-t>>3,i=p[(n=i+-4|0)>>2],r>>>0<=i>>>0)break h;if(u=r,r=p[s>>2],u>>>0<=r>>>0)break h;if(b[t+(i<<3)>>2]>=b[t+(r<<3)>>2])break n;return p[s>>2]=i,void(p[n>>2]=r);case 2:return void nt(s,s+4|0,s+8|0,i+-4|0,r);case 3:break u;case 1:break f;default:break n}return void at(s,s+4|0,s+8|0,s+12|0,i+-4|0,r)}if((0|n)<=123)return void st(s,i,r);if(c=((0|t)/2<<2)+s|0,h=(0|n)>=3997?at(s,(t=(0|t)/4<<2)+s|0,c,t+c|0,u,r):ot(s,c,u,r),t=p[r>>2],l=p[t>>2],o=p[t+4>>2]-l>>3,t=p[s>>2],o>>>0<=t>>>0)break l;if(n=p[c>>2],o>>>0<=n>>>0)break l;if(a=u,f=p[l+(t<<3)>>2],d=p[l+(n<<3)>>2],f>>>0>=d>>>0){for(;;){if((0|(a=a+-4|0))==(0|s)){if(t=p[u>>2],o>>>0<=t>>>0)break l;if(n=s+4|0,f>>>0<b[l+(t<<3)>>2])break c;if((0|n)==(0|u))break n;for(;;){if(a=p[n>>2],o>>>0<=a>>>0)break l;if(f>>>0<b[l+(a<<3)>>2]){p[n>>2]=t,p[u>>2]=a,n=n+4|0;break c}if((0|u)==(0|(n=n+4|0)))break}break n}if(n=p[a>>2],o>>>0<=n>>>0)break l;if(!(b[l+(n<<3)>>2]>=d>>>0))break}p[s>>2]=n,p[a>>2]=t,h=h+1|0}u:if(!((n=s+4|0)>>>0>=a>>>0)){if(t=p[n>>2],o>>>0<=t>>>0)break l;for(;;){for(f=p[c>>2],d=l+(f<<3)|0;;){if(o>>>0<=f>>>0)break l;if(_=p[d>>2],b[l+(t<<3)>>2]<_>>>0){if(t=p[n+4>>2],n=n+4|0,o>>>0>t>>>0)continue;break l}break}for(;;){if(f=p[(a=a+-4|0)>>2],o>>>0<=f>>>0)break l;if(!(b[l+(f<<3)>>2]>=_>>>0))break}if(n>>>0>a>>>0)break u;if(p[n>>2]=f,p[a>>2]=t,c=(0|n)==(0|c)?a:c,h=h+1|0,t=p[n+4>>2],n=n+4|0,!(o>>>0>t>>>0))break}break l}if((0|n)!=(0|c)){if(t=p[c>>2],o>>>0<=t>>>0)break l;if(a=p[n>>2],o>>>0<=a>>>0)break l;b[l+(t<<3)>>2]>=b[l+(a<<3)>>2]||(p[n>>2]=t,p[c>>2]=a,h=h+1|0)}if(!h){if(a=lt(s,n,r),lt(t=n+4|0,i,r)){if(i=n,t=s,!a)continue a;break n}if(a)continue s}if((n-s|0)<(i-n|0)){e(s,n,r),t=n+4|0;continue s}e(n+4|0,i,r),i=n,t=s;continue a}vo(),E()}ot(s,s+4|0,i+-4|0,r);break n}if((0|n)==(0|u))break n;if(t=u,a=p[s>>2],!(o>>>0<=a>>>0))for(;;){for(c=l+(a<<3)|0;;){if(h=p[n>>2],o>>>0<=h>>>0)break l;if((f=p[c>>2])>>>0>=b[l+(h<<3)>>2]){if(n=n+4|0,o>>>0>a>>>0)continue;break l}break}for(;;){if(a=p[(t=t+-4|0)>>2],o>>>0<=a>>>0)break l;if(!(f>>>0<b[l+(a<<3)>>2]))break}if(n>>>0>=t>>>0){s=n;continue o}if(p[n>>2]=a,p[t>>2]=h,n=n+4|0,a=p[s>>2],!(o>>>0>a>>>0))break}}break}break}break}vo(),E()}}(o,d,n+24|0);n:if((0|u)<4096)i=p[e>>2]+(p[p[n+12>>2]+-4>>2]<<3)|0,p[i>>2]=4096+(p[i>>2]-u|0),a=0;else for(i=u+-4096|0,f=p[n+8>>2],h=(0|l)<1;;){a:if(!h)for(c=4096/+(0|u),d=p[e>>2],o=l;;){if(a=d+(p[(o<<2)+f>>2]<<3)|0,(s=p[a>>2])>>>0<=1){if((0|o)!=(0|l))break a;a=1;break n}if(A=s+-1|0,m=a,v=s,y=i,a=s,_=T(c*+(s>>>0)),s=(0|(s=(0|(a=(a=a-(k(_)<2147483648?~~_:-2147483648)|0)||1))<(0|s)?a:A))>(0|i)?y:s,p[m>>2]=v-s,i=i-s|0,4096==(0|(u=u-s|0))){u=4096;break a}if(s=(0|o)>1,o=o+-1|0,!s)break}if(a=0,!((0|i)>0))break}if((i=p[n+8>>2])&&(p[n+12>>2]=i,Mo(i)),a)break t;if((0|l)>=0)break i;break t}if((0|l)<0)break t}for(s=p[e>>2],a=0,i=0;p[(o=s+(a<<3)|0)+4>>2]=i,i=p[o>>2]+i|0,o=(0|a)==(0|l),a=a+1|0,!o;);if(4096==(0|i)){if(a=0,c=0,(0|l)>=0)for(i=p[e>>2];(o=p[(s=a<<3)+i>>2])&&(s=t+s|0,c+=Co(.000244140625*+(o>>>0))*(+b[s>>2]+4294967296*+b[s+4>>2])),s=(0|a)==(0|l),a=a+1|0,!s;);t=e,i=e,(c=w(-c))<0x10000000000000000&c>=0?(s=k(c)>=1?c>0?~~S(T(c/4294967296),4294967295)>>>0:~~w((c-+(~~c>>>0>>>0))/4294967296)>>>0:0,l=~~c>>>0):(s=0,l=0),p[i+16>>2]=l,p[t+20>>2]=s,it(e,r)}}return void(V=n+32|0)}Ao(),E()}function tt(e,t){var i,r,n,a=0,s=0,o=0,c=0,f=0;V=i=V-32|0,f=p[t>>2]+p[e+40>>2]|0,(s=(a=p[e+32>>2])+-16384|0)>>>0<=63?(a=e+28|0,l[p[e+24>>2]+p[a>>2]|0]=s,a=p[a>>2]+1|0):s>>>0<=16383?(s=e+28|0,o=p[e+24>>2]+p[s>>2]|0,l[0|o]=a,l[o+1|0]=a>>>8,a=p[s>>2]+2|0):s>>>0<=4194303?(o=e+28|0,s=p[e+24>>2]+p[o>>2]|0,a=a+8372224|0,l[s+2|0]=a>>>16,l[s+1|0]=a>>>8,l[0|s]=a,a=p[o>>2]+3|0):s>>>0<=1073741823?(o=e+28|0,s=p[e+24>>2]+p[o>>2]|0,a=a+-1073758208|0,l[0|s]=a,l[s+1|0]=a>>>8,l[s+2|0]=a>>>16,l[s+3|0]=a>>>24,a=p[o>>2]+4|0):a=p[e+28>>2],rt(s=a,o=c=a>>31,c=oa(i)),Fo((r=p[c+4>>2]-p[c>>2]|0)+f|0,f,s),Io(f,p[c>>2],r),a=p[e+44>>2],f=t,n=p[e+40>>2],e=o,(t=s+r|0)>>>0<s>>>0&&(e=e+1|0),la(f,t=n+(s=t)|0),e=p[c+12>>2],p[c+12>>2]=0,e&&Mo(e),(e=p[c>>2])&&(p[c+4>>2]=e,Mo(e)),V=i+32|0}function it(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0;V=i=V-16|0,Ki(p[e+12>>2],t);e:if(p[e+12>>2])for(f=i+14|0,h=i+15|0,u=i+16|0,o=t+4|0;;){t:{i:{if(n=p[e>>2],(a=p[n+(s<<3)>>2])>>>0>=64){if(r=1,a>>>0<16384)break i;if(r=2,a>>>0<=4194303)break i;break e}if(r=0,!a){for(;;){if(p[8+(n+(r+s<<3)|0)>>2])a=r;else if(a=63,63!=(0|(r=r+1|0)))continue;break}l[i+15|0]=a<<2|3,((0|(r=p[t+20>>2]))<0||(0|r)<=0&&!(b[t+16>>2]>0))&&Yt(t,p[o>>2],i+15|0,u),s=a+s|0;break t}}if(l[i+14|0]=a<<2|r,((0|(n=p[t+20>>2]))<0||(0|n)<=0&&!(b[t+16>>2]>0))&&Yt(t,p[o>>2],i+14|0,h),n=0,r)for(;n=n+1|0,l[i+13|0]=a>>>(n<<3)-2,((0|(c=p[t+20>>2]))<0||(0|c)<=0&&!(b[t+16>>2]>0))&&Yt(t,p[o>>2],i+13|0,f),(0|r)!=(0|n););}if(!((s=s+1|0)>>>0<b[e+12>>2]))break}V=i+16|0}function rt(e,t,i){var r,n=0,a=0;V=r=V-16|0,n=e,l[r+15|0]=127&e;e:if(!t&e>>>0>=128|t>>>0>0){if(l[r+15|0]=128|n,a=0,(0|(n=p[i+20>>2]))>0||(0|n)>=0&&!(b[i+16>>2]<=0))break e;Yt(i,p[i+4>>2],r+15|0,r+16|0),a=rt((127&t)<<25|e>>>7,t>>>7,i)}else a=0,(0|(e=p[i+20>>2]))>0||(0|e)>=0&&!(b[i+16>>2]<1)||(Yt(i,p[i+4>>2],r+15|0,r+16|0),a=1);return V=r+16|0,n=a}function nt(e,t,i,r,n){var a=0,s=0,o=0,l=0;o=ot(e,t,i,n),a=p[n>>2],n=p[a>>2];e:if(!((a=p[a+4>>2]-n>>3)>>>0<=(s=p[r>>2])>>>0)&&!(a>>>0<=(l=p[i>>2])>>>0)){if(b[n+(s<<3)>>2]<b[n+(l<<3)>>2]){if(p[i>>2]=s,p[r>>2]=l,a>>>0<=(r=p[i>>2])>>>0)break e;if(a>>>0<=(s=p[t>>2])>>>0)break e;if(b[n+(r<<3)>>2]>=b[n+(s<<3)>>2])return o+1|0;if(p[t>>2]=r,p[i>>2]=s,a>>>0<=(i=p[t>>2])>>>0)break e;if(a>>>0<=(r=p[e>>2])>>>0)break e;if(b[n+(i<<3)>>2]>=b[n+(r<<3)>>2])return o+2|0;p[e>>2]=i,p[t>>2]=r,o=o+3|0}return o}vo(),E()}function at(e,t,i,r,n,a){var s=0,o=0,l=0,c=0;l=nt(e,t,i,r,a),s=p[a>>2],a=p[s>>2];e:if(!((s=p[s+4>>2]-a>>3)>>>0<=(o=p[n>>2])>>>0)&&!(s>>>0<=(c=p[r>>2])>>>0)){if(b[a+(o<<3)>>2]<b[a+(c<<3)>>2]){if(p[r>>2]=o,p[n>>2]=c,s>>>0<=(n=p[r>>2])>>>0)break e;if(s>>>0<=(o=p[i>>2])>>>0)break e;if(b[a+(n<<3)>>2]>=b[a+(o<<3)>>2])return l+1|0;if(p[i>>2]=n,p[r>>2]=o,s>>>0<=(r=p[i>>2])>>>0)break e;if(s>>>0<=(n=p[t>>2])>>>0)break e;if(b[a+(r<<3)>>2]>=b[a+(n<<3)>>2])return l+2|0;if(p[t>>2]=r,p[i>>2]=n,s>>>0<=(i=p[t>>2])>>>0)break e;if(s>>>0<=(r=p[e>>2])>>>0)break e;if(b[a+(i<<3)>>2]>=b[a+(r<<3)>>2])return l+3|0;p[e>>2]=i,p[t>>2]=r,l=l+4|0}return l}vo(),E()}function st(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;ot(e,e+4|0,n=e+8|0,i);e:{if((0|(r=e+12|0))!=(0|t))for(i=p[i>>2],a=p[i>>2],s=p[i+4>>2]-a>>3;;){if(s>>>0<=(o=p[r>>2])>>>0)break e;if(l=r,s>>>0<=(r=p[n>>2])>>>0)break e;if(c=l,b[(f=(o<<3)+a|0)>>2]<b[(r<<3)+a>>2]){for(;;){if(p[c>>2]=r,(0|(i=n))!=(0|e)){if(s>>>0<=(r=p[(n=i+-4|0)>>2])>>>0)break e;if(c=i,b[f>>2]<b[(r<<3)+a>>2])continue}else i=e;break}p[i>>2]=o}if((0|(r=(n=l)+4|0))==(0|t))break}return}vo(),E()}function ot(e,t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0;n=p[r>>2],r=p[n>>2];e:if(!((n=p[n+4>>2]-r>>3)>>>0<=(o=p[t>>2])>>>0)&&!(n>>>0<=(s=p[e>>2])>>>0)&&!(n>>>0<=(l=p[i>>2])>>>0)){f=p[r+(l<<3)>>2];t:{if((c=p[r+(o<<3)>>2])>>>0>=b[(h=r+(s<<3)|0)>>2]){if(a=0,f>>>0>=c>>>0)break t;if(p[t>>2]=l,p[i>>2]=o,n>>>0<=(i=p[t>>2])>>>0)break e;if((a=n)>>>0<=(n=p[e>>2])>>>0)break e;if(a=1,b[r+(i<<3)>>2]>=b[r+(n<<3)>>2])break t;p[e>>2]=i,p[t>>2]=n}else{if(f>>>0<c>>>0)return p[e>>2]=l,p[i>>2]=s,1;if(p[e>>2]=o,p[t>>2]=s,n>>>0<=(e=p[i>>2])>>>0)break e;if(a=1,b[r+(e<<3)>>2]>=b[h>>2])break t;p[t>>2]=e,p[i>>2]=s}a=2}return a}vo(),E()}function lt(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0;s=1;e:{t:{i:{if((r=t-e>>2)>>>0<=5){r:switch(r-2|0){case 0:if(r=p[i>>2],i=p[r>>2],(r=p[r+4>>2]-i>>3)>>>0<=(t=p[(a=t+-4|0)>>2])>>>0)break t;if((n=r)>>>0<=(r=p[e>>2])>>>0)break t;if(b[i+(t<<3)>>2]>=b[i+(r<<3)>>2])break i;return p[e>>2]=t,p[a>>2]=r,1;case 1:return ot(e,e+4|0,t+-4|0,i),1;case 2:return nt(e,e+4|0,e+8|0,t+-4|0,i),1;case 3:break r;default:break i}return at(e,e+4|0,e+8|0,e+12|0,t+-4|0,i),1}if(ot(e,e+4|0,a=e+8|0,i),(0|(n=e+12|0))!=(0|t)){i=p[i>>2],o=p[i>>2],l=p[i+4>>2]-o>>3;r:{for(;;){if(l>>>0<=(c=p[(r=n)>>2])>>>0)break e;if(l>>>0<=(n=p[a>>2])>>>0)break e;if(s=r,b[(f=o+(c<<3)|0)>>2]<b[o+(n<<3)>>2]){for(;;){if(p[s>>2]=n,(0|(i=a))!=(0|e)){if(l>>>0<=(n=p[(a=i+-4|0)>>2])>>>0)break e;if(s=i,b[f>>2]<b[o+(n<<3)>>2])continue}else i=e;break}if(p[i>>2]=c,8==(0|(h=h+1|0)))break r}if(a=r,(0|(n=r+4|0))==(0|t))break}return 1}s=(r+4|0)==(0|t)}}return s}vo(),E()}vo(),E()}function ct(e){return p[(e|=0)+12>>2]-p[e+8>>2]>>2}function ft(e){return p[(e|=0)+80>>2]}function ht(e){(e|=0)&&a[p[p[e>>2]+4>>2]](e)}function ut(e){return p[(e|=0)+28>>2]}function dt(e){return p[(e|=0)+40>>2]}function pt(e){var t=0,i=0;(e|=0)&&(i=p[(t=e+88|0)>>2],p[t>>2]=0,i&&((t=p[i+8>>2])&&(p[i+12>>2]=t,Mo(t)),Mo(i)),(i=p[e+68>>2])&&(p[e+72>>2]=i,Mo(i)),i=p[(t=e- -64|0)>>2],p[t>>2]=0,i&&((t=p[i>>2])&&(p[i+4>>2]=t,Mo(t)),Mo(i)),Mo(e))}function _t(e,t){t&&(_t(e,p[t>>2]),_t(e,p[t+4>>2]),l[t+39|0]<=-1&&Mo(p[t+28>>2]),l[t+27|0]<=-1&&Mo(p[t+16>>2]),Mo(t))}function mt(e,t){t&&(mt(e,p[t>>2]),mt(e,p[t+4>>2]),_t(t+20|0,p[t+24>>2]),Mo(t))}function bt(){return 0|oo(1)}function At(e,t,i,r,n,a){return 0,0|Bt(t|=0,i|=0,r|=0,n|=0,a|=0,9)}function vt(e,t,i,r,n,a){return 0,0|Bt(t|=0,i|=0,r|=0,n|=0,a|=0,5)}function yt(e,t,i,r,n,a){return 0,0|Lt(t|=0,i|=0,r|=0,n|=0,a|=0,1)}function gt(e,t,i,r,n,a){return 0,0|Lt(t|=0,i|=0,r|=0,n|=0,a|=0,2)}function kt(e,t,i,r,n,a){return 0,0|Ut(t|=0,i|=0,r|=0,n|=0,a|=0,3)}function xt(e,t,i,r,n,a){return 0,0|Ut(t|=0,i|=0,r|=0,n|=0,a|=0,4)}function St(e,t,i,r,n,a){return 0,0|Bt(t|=0,i|=0,r|=0,n|=0,a|=0,6)}function Tt(e,t,i){return 0,0|function(e,t){var i=0;p[e+4>>2]|!e||(Na(i=oo(36),t),p[i+32>>2]=0,p[i+24>>2]=0,p[i+28>>2]=0,t=p[e+4>>2],p[e+4>>2]=i,i=1,t&&Vt(t));return i}(t|=0,i|=0)}function wt(e,t,i,r){return 0,0|function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0;V=r=V-16|0;!i|!e|(0|t)<0||(s=p[e+8>>2],p[e+12>>2]-s>>2<=(0|t)||(p[(o=e+4|0)>>2]||(n=oo(36),p[(a=l=n+4|0)>>2]=0,p[a+4>>2]=0,p[(a=n+16|0)>>2]=0,p[a+4>>2]=0,p[n>>2]=l,p[n+32>>2]=0,p[n+24>>2]=0,p[n+28>>2]=0,p[n+12>>2]=a,p[e+4>>2]=n),t=p[p[(t<<2)+s>>2]+60>>2],Na(e=oo(28),i),p[e+24>>2]=t,t=p[o>>2],p[r+8>>2]=e,function(e,t){var i,r,n;if(!(r=p[t>>2]))return;if((n=p[(i=e+28|0)>>2])>>>0<b[e+32>>2])return p[t>>2]=0,p[n>>2]=r,void(p[i>>2]=p[i>>2]+4);!function(e,t){var i=0,r=0,n=0,a=0,s=0;e:{t:{i:{if(n=p[e>>2],a=p[e+4>>2]-n>>2,(i=a+1|0)>>>0<1073741824){if(n=p[e+8>>2]-n|0,s=n>>1,i=n>>2>>>0<536870911?s>>>0<i>>>0?i:s:1073741823){if(i>>>0>=1073741824)break i;r=oo(i<<2)}if(n=p[t>>2],p[t>>2]=0,p[(t=(a<<2)+r|0)>>2]=n,n=(i<<2)+r|0,a=t+4|0,i=p[e+4>>2],r=p[e>>2],(0|i)==(0|r))break t;for(;s=p[(i=i+-4|0)>>2],p[i>>2]=0,p[(t=t+-4|0)>>2]=s,(0|i)!=(0|r););r=p[e+4>>2],i=p[e>>2];break e}Ao(),E()}Wt(16404),E()}i=r}if(p[e>>2]=t,p[e+8>>2]=n,p[e+4>>2]=a,(0|i)!=(0|r))for(;e=p[(r=r+-4|0)>>2],p[r>>2]=0,e&&(Mt(e+12|0,p[e+16>>2]),Pt(e,p[e+4>>2]),Mo(e)),(0|i)!=(0|r););i&&Mo(i)}(e+24|0,t)}(t,r+8|0),e=p[r+8>>2],p[r+8>>2]=0,n=1,e&&(Mt(e+12|0,p[e+16>>2]),Pt(e,p[e+4>>2]),Mo(e))));return V=r+16|0,n}(t|=0,i|=0,r|=0)}function Et(e){(e|=0)&&Mo(e)}function Mt(e,t){var i=0;t&&(Mt(e,p[t>>2]),Mt(e,p[t+4>>2]),e=p[(i=t+28|0)>>2],p[i>>2]=0,e&&(Mt(e+12|0,p[e+16>>2]),Pt(e,p[e+4>>2]),Mo(e)),l[t+27|0]<=-1&&Mo(p[t+16>>2]),Mo(t))}function Pt(e,t){t&&(Pt(e,p[t>>2]),Pt(e,p[t+4>>2]),(e=p[t+28>>2])&&(p[t+32>>2]=e,Mo(e)),l[t+27|0]<=-1&&Mo(p[t+16>>2]),Mo(t))}function Rt(){return 0}function Ct(){return 1}function Ot(){return-1}function It(e){p[(e|=0)>>2]=1032,_t(e+28|0,p[e+32>>2]),mt(e+16|0,p[e+20>>2]),_t(e+4|0,p[e+8>>2]),Mo(e)}function Dt(e){return p[e>>2]=0,p[e+4>>2]=0,p[e+8>>2]=0,e}function Ft(e,t,i){var r=0,n=0,a=0,s=0,o=0;e:{t:{if((a=i-t|0)>>>0<=(n=p[e+8>>2])-(r=p[e>>2])>>>0){if(n=(s=p[e+4>>2]-r|0)+t|0,(0|(o=a>>>0>s>>>0?n:i))!=(0|t))for(;l[0|r]=_[0|t],r=r+1|0,(0|o)!=(0|(t=t+1|0)););if(a>>>0>s>>>0){if((0|i)==(0|o))break t;for(r=p[(e=e+4|0)>>2];l[0|r]=_[0|n],r=p[e>>2]+1|0,p[e>>2]=r,(0|(n=n+1|0))!=(0|i););break t}return void(p[e+4>>2]=r)}if(r&&(p[e+4>>2]=r,Mo(r),p[e+8>>2]=0,p[e>>2]=0,p[e+4>>2]=0,n=0),(0|a)<=-1)break e;if(r=n<<1,(0|(n=n>>>0<1073741823?r>>>0<a>>>0?a:r:2147483647))<=-1)break e;if(r=oo(n),p[e>>2]=r,p[(a=e+4|0)>>2]=r,p[e+8>>2]=r+n,(0|t)!=(0|i))for(;l[0|r]=_[0|t],r=p[a>>2]+1|0,p[a>>2]=r,(0|i)!=(0|(t=t+1|0)););}return}Ao(),E()}function Nt(e){return 0|(e|=0)}function Bt(e,t,i,r,n,a){var s,o=0,l=0,c=0,f=0,h=0,u=0;if(V=s=V-16|0,e){if(o=si(l=oo(96)),p[s+8>>2]=l,li(o,t,r<<24>>24,a,i),p[s>>2]=p[s+8>>2],p[s+8>>2]=0,l=Ha(e,s),t=p[s>>2],p[s>>2]=0,t&&pt(t),i)for(t=0,c=(o=p[p[e+8>>2]+(l<<2)>>2])+68|0,f=o+40|0;a=t,h=p[p[o>>2]>>2],_[o+84|0]||(a=p[p[c>>2]+(t<<2)>>2]),u=a,a=p[f>>2],Io(y(u,a)+h|0,(y(t,r)<<2)+n|0,a),(0|i)!=(0|(t=t+1|0)););e:{if(r=p[e+80>>2]){if(t=-1,(0|i)!=(0|r))break e}else p[e+80>>2]=i;t=l}e=p[s+8>>2],p[s+8>>2]=0,e&&pt(e)}else t=-1;return V=s+16|0,t}function Lt(e,t,i,r,n,a){var s,o=0,l=0,c=0,f=0,h=0,u=0;if(V=s=V-16|0,e){if(o=si(l=oo(96)),p[s+8>>2]=l,li(o,t,r<<24>>24,a,i),p[s>>2]=p[s+8>>2],p[s+8>>2]=0,l=Ha(e,s),t=p[s>>2],p[s>>2]=0,t&&pt(t),i)for(t=0,c=(o=p[p[e+8>>2]+(l<<2)>>2])+68|0,f=o+40|0;a=t,h=p[p[o>>2]>>2],_[o+84|0]||(a=p[p[c>>2]+(t<<2)>>2]),u=a,a=p[f>>2],Io(y(u,a)+h|0,y(t,r)+n|0,a),(0|i)!=(0|(t=t+1|0)););e:{if(r=p[e+80>>2]){if(t=-1,(0|i)!=(0|r))break e}else p[e+80>>2]=i;t=l}e=p[s+8>>2],p[s+8>>2]=0,e&&pt(e)}else t=-1;return V=s+16|0,t}function Ut(e,t,i,r,n,a){var s,o=0,l=0,c=0,f=0,h=0,u=0;if(V=s=V-16|0,e){if(o=si(l=oo(96)),p[s+8>>2]=l,li(o,t,r<<24>>24,a,i),p[s>>2]=p[s+8>>2],p[s+8>>2]=0,l=Ha(e,s),t=p[s>>2],p[s>>2]=0,t&&pt(t),i)for(t=0,c=(o=p[p[e+8>>2]+(l<<2)>>2])+68|0,f=o+40|0;a=t,h=p[p[o>>2]>>2],_[o+84|0]||(a=p[p[c>>2]+(t<<2)>>2]),u=a,a=p[f>>2],Io(y(u,a)+h|0,(y(t,r)<<1)+n|0,a),(0|i)!=(0|(t=t+1|0)););e:{if(r=p[e+80>>2]){if(t=-1,(0|i)!=(0|r))break e}else p[e+80>>2]=i;t=l}e=p[s+8>>2],p[s+8>>2]=0,e&&pt(e)}else t=-1;return V=s+16|0,t}function Vt(e){var t=0,i=0,r=0,n=0,a=0;if(e){if(r=p[e+24>>2]){if(n=t=r,(0|(i=p[(a=e+28|0)>>2]))!=(0|t)){for(;t=p[(i=i+-4|0)>>2],p[i>>2]=0,t&&(Mt(t+12|0,p[t+16>>2]),Pt(t,p[t+4>>2]),Mo(t)),(0|i)!=(0|r););n=p[e+24>>2]}t=n,p[a>>2]=r,Mo(t)}Mt(e+12|0,p[e+16>>2]),Pt(e,p[e+4>>2]),Mo(e)}}function zt(e,t,i){var r=0,n=0,a=0,s=0,o=0;e:{t:{i:{if(((s=p[e+8>>2])-(r=p[(n=e+4|0)>>2])|0)/12>>>0>=t>>>0)for(;;)if(e=p[i+4>>2],p[r>>2]=p[i>>2],p[r+4>>2]=e,p[r+8>>2]=p[i+8>>2],r=p[n>>2]+12|0,p[n>>2]=r,!(t=t+-1|0))break i;if((n=(o=(r-(a=p[e>>2])|0)/12|0)+t|0)>>>0>=357913942)break t;if(a=(s=(s-a|0)/12|0)<<1,r=0,n=s>>>0<178956970?a>>>0<n>>>0?n:a:357913941){if(n>>>0>=357913942)break e;r=oo(y(n,12))}for(s=r+y(n,12)|0,r=n=r+y(o,12)|0;a=p[i+4>>2],p[r>>2]=p[i>>2],p[r+4>>2]=a,p[r+8>>2]=p[i+8>>2],r=r+12|0,t=t+-1|0;);a=e+4|0,t=p[e>>2],i=p[a>>2]-t|0,n=n+y((0|i)/-12|0,12)|0,(0|i)>=1&&Io(n,t,i),p[e>>2]=n,p[e+8>>2]=s,p[a>>2]=r,t&&Mo(t)}return}Ao(),E()}Wt(1128),E()}function jt(e,t){var i,r=0,n=0,a=0;V=i=V-16|0,a=oo(32),p[i>>2]=a,p[i+4>>2]=30,p[i+8>>2]=-2147483616,l[a+30|0]=0,r=_[1222]|_[1223]<<8|_[1224]<<16|_[1225]<<24,n=_[1218]|_[1219]<<8|_[1220]<<16|_[1221]<<24,l[a+22|0]=n,l[a+23|0]=n>>>8,l[a+24|0]=n>>>16,l[a+25|0]=n>>>24,l[a+26|0]=r,l[a+27|0]=r>>>8,l[a+28|0]=r>>>16,l[a+29|0]=r>>>24,r=_[1216]|_[1217]<<8|_[1218]<<16|_[1219]<<24,n=_[1212]|_[1213]<<8|_[1214]<<16|_[1215]<<24,l[a+16|0]=n,l[a+17|0]=n>>>8,l[a+18|0]=n>>>16,l[a+19|0]=n>>>24,l[a+20|0]=r,l[a+21|0]=r>>>8,l[a+22|0]=r>>>16,l[a+23|0]=r>>>24,r=_[1208]|_[1209]<<8|_[1210]<<16|_[1211]<<24,n=_[1204]|_[1205]<<8|_[1206]<<16|_[1207]<<24,l[a+8|0]=n,l[a+9|0]=n>>>8,l[a+10|0]=n>>>16,l[a+11|0]=n>>>24,l[a+12|0]=r,l[a+13|0]=r>>>8,l[a+14|0]=r>>>16,l[a+15|0]=r>>>24,r=_[1200]|_[1201]<<8|_[1202]<<16|_[1203]<<24,n=_[1196]|_[1197]<<8|_[1198]<<16|_[1199]<<24,l[0|a]=n,l[a+1|0]=n>>>8,l[a+2|0]=n>>>16,l[a+3|0]=n>>>24,l[a+4|0]=r,l[a+5|0]=r>>>8,l[a+6|0]=r>>>16,l[a+7|0]=r>>>24,ua(a=e+4|0,i,t),l[i+11|0]<=-1&&Mo(p[i>>2]),e=oo(32),p[i>>2]=e,p[i+4>>2]=29,p[i+8>>2]=-2147483616,l[e+29|0]=0,r=_[1252]|_[1253]<<8|_[1254]<<16|_[1255]<<24,n=_[1248]|_[1249]<<8|_[1250]<<16|_[1251]<<24,l[e+21|0]=n,l[e+22|0]=n>>>8,l[e+23|0]=n>>>16,l[e+24|0]=n>>>24,l[e+25|0]=r,l[e+26|0]=r>>>8,l[e+27|0]=r>>>16,l[e+28|0]=r>>>24,r=_[1247]|_[1248]<<8|_[1249]<<16|_[1250]<<24,n=_[1243]|_[1244]<<8|_[1245]<<16|_[1246]<<24,l[e+16|0]=n,l[e+17|0]=n>>>8,l[e+18|0]=n>>>16,l[e+19|0]=n>>>24,l[e+20|0]=r,l[e+21|0]=r>>>8,l[e+22|0]=r>>>16,l[e+23|0]=r>>>24,r=_[1239]|_[1240]<<8|_[1241]<<16|_[1242]<<24,n=_[1235]|_[1236]<<8|_[1237]<<16|_[1238]<<24,l[e+8|0]=n,l[e+9|0]=n>>>8,l[e+10|0]=n>>>16,l[e+11|0]=n>>>24,l[e+12|0]=r,l[e+13|0]=r>>>8,l[e+14|0]=r>>>16,l[e+15|0]=r>>>24,r=_[1231]|_[1232]<<8|_[1233]<<16|_[1234]<<24,n=_[1227]|_[1228]<<8|_[1229]<<16|_[1230]<<24,l[0|e]=n,l[e+1|0]=n>>>8,l[e+2|0]=n>>>16,l[e+3|0]=n>>>24,l[e+4|0]=r,l[e+5|0]=r>>>8,l[e+6|0]=r>>>16,l[e+7|0]=r>>>24,ua(a,i,t),l[i+11|0]<=-1&&Mo(p[i>>2]),V=i+16|0}function Wt(e){var t;t=0|P(8),p[t>>2]=17940,p[t>>2]=17984,function(e,t){var i,r,n,a;i=As(t),r=oo(i+13|0),p[r+8>>2]=0,p[r+4>>2]=i,p[r>>2]=i,n=e,a=Io(r+12|0,t,i+1|0),p[n>>2]=a}(t+4|0,e),p[t>>2]=18032,R(0|t,18064,3),E()}function Gt(e,t){p[e+4>>2]=t}function Ht(e,t){var i,r=0;return V=i=V-16|0,r=0,-1!=(0|(e=p[e+4>>2]))&&(l[i+15|0]=e,((0|(e=p[t+20>>2]))<0||(0|e)<=0&&!(b[t+16>>2]>0))&&Yt(t,p[t+4>>2],i+15|0,i+16|0),r=1),V=i+16|0,e=r}function Yt(e,t,i,r){var n=0,a=0,s=0,o=0,c=0,f=0,h=0;if(!((0|(a=r-i|0))<1)){e:{if((0|a)<=((c=p[e+8>>2])-(o=p[e+4>>2])|0)){if((0|a)<=(0|(f=o-t|0))){s=o,c=r;break e}if(s=o,(0|(c=i+f|0))!=(0|r))for(h=e+4|0,n=c;l[0|s]=_[0|n],s=p[h>>2]+1|0,p[h>>2]=s,(0|(n=n+1|0))!=(0|r););if((0|f)>=1)break e;return}if((0|(s=(s=a)+(o-(a=p[e>>2])|0)|0))>-1){if(c=(o=c-a|0)<<1,c=o>>>0<1073741823?c>>>0<s>>>0?s:c:2147483647,o=0,c&&(o=oo(c)),s=o+(t-a|0)|0,(0|i)!=(0|r)){for(n=s;l[0|n]=_[0|i],n=n+1|0,(0|r)!=(0|(i=i+1|0)););a=p[e>>2]}else n=s;return r=s-(i=t-a|0)|0,(0|i)>=1&&Io(r,a,i),s=o+c|0,(0|(i=p[(o=e+4|0)>>2]-t|0))>=1&&(n=Io(n,t,i)+i|0,a=p[e>>2]),p[e>>2]=r,p[e+8>>2]=s,p[o>>2]=n,void(a&&Mo(a))}Ao(),E()}if(r=s-(t+a|0)|0,(n=s-a|0)>>>0<o>>>0)for(e=e+4|0,a=s;l[0|a]=_[0|n],a=p[e>>2]+1|0,p[e>>2]=a,(0|o)!=(0|(n=n+1|0)););if(r&&Fo(s-r|0,t,r),(0|i)!=(0|c))for(n=t;l[0|n]=_[0|i],n=n+1|0,(0|c)!=(0|(i=i+1|0)););}}function Xt(e,t,i,r){var n,a,s,o=0,l=0,c=0,f=0,h=0,u=0,d=0;f=+A[t>>2],h=+A[t+4>>2],a=+A[t+8>>2],(c=k(f)+k(h)+k(a))>1e-6?(h*=c=1/c,f*=c,l=c*a<0):(f=1,h=0,l=0),c=h,n=p[e+12>>2],c=T(c*(h=+(0|n))+.5),s=(0|(t=k(c)<2147483648?~~c:-2147483648))<0?t:0-t|0,u=n,f=T(f*h+.5),d=(0|(u=s+(u-((o=k(f)<2147483648?~~f:-2147483648)+(d=o>>31)^d)|0)|0))<0?0:u,l=l?0-d|0:d,t=t+(u>>31&((0|t)>0?u:0-u|0))|0,(0|o)>=0?(o=t+n|0,t=n+l|0):((0|t)<=-1?(o=l>>31,o^=o+l):(o=l>>31,o=p[e+8>>2]-(o+l^o)|0),(0|l)<=-1?(l=t,t>>=31,t^=l+t):(l=t,t>>=31,t=p[e+8>>2]-(l+t^t)|0)),e=p[e+8>>2],t|o?(0|e)!=(0|t)|o?(0|e)!=(0|o)|t?(0|n)>=(0|t)|o?(0|e)!=(0|o)|(0|n)<=(0|t)?(0|e)!=(0|t)|(0|n)<=(0|o)?t||(t=0,(0|n)>=(0|o)||(o=(n<<1)-o|0)):o=(n<<1)-o|0:t=(n<<1)-t|0:(t=(n<<1)-t|0,o=0):t=o:o=t:o=t=e,p[i>>2]=o,p[r>>2]=t}function Zt(e){Mo(e|=0)}function Qt(e){return 0,2}function Jt(e,t,i,r,n){p[e+4>>2]=t,qt(e+8|0,i,(r<<2)+i|0),A[e+20>>2]=n}function qt(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0,c=0;e:{t:{if((a=(s=i-t|0)>>2)>>>0<=(r=p[e+8>>2])-(n=p[e>>2])>>2>>>0){if((o=(r=a>>>0>(s=(r=p[e+4>>2]-n|0)>>2)>>>0?t+r|0:i)-t|0)&&Fo(n,t,o),a>>>0>s>>>0){if((0|(t=i-r|0))<1)break t;return Io(p[(e=e+4|0)>>2],r,t),void(p[e>>2]=t+p[e>>2])}return void(p[e+4>>2]=n+(o>>2<<2))}if(n&&(p[e+4>>2]=n,Mo(n),p[e+8>>2]=0,p[e>>2]=0,p[e+4>>2]=0,r=0),a>>>0>=1073741824)break e;if(i=r>>1,(i=r>>2>>>0<536870911?i>>>0<a>>>0?a:i:1073741823)>>>0>=1073741824)break e;i=oo(n=i<<2),p[e>>2]=i,p[(a=e+4|0)>>2]=i,p[e+8>>2]=i+n,(0|s)<1||(l=a,c=Io(i,t,s)+s|0,p[l>>2]=c)}return}Ao(),E()}function Kt(e,t,i){var r,n=0,a=0,s=0,o=g(0),c=0,f=0,h=g(0),u=0,d=0,_=0,m=0,b=0,v=0,y=0,k=0,x=0,S=0,T=0;V=r=V-16|0;e:{if(-1==p[e+4>>2]){if(p[e+4>>2]=i,s=l[t+24|0],p[e+20>>2]=0,p[r+8>>2]=0,p[r>>2]=0,p[r+4>>2]=0,i=0,s){if((0|s)<=-1)break e;for(a=oo(i=s<<2),p[r>>2]=a,p[r+4>>2]=a,c=i+a|0,p[r+8>>2]=c,i=Do(a,0,i),n=s;i=i+4|0,n=n+-1|0;);p[r+4>>2]=i}if((n=p[e+8>>2])&&(p[e+12>>2]=n,Mo(n),p[e+16>>2]=0,p[e+8>>2]=0,p[e+12>>2]=0),p[e+8>>2]=a,p[e+16>>2]=c,p[e+12>>2]=i,f=oo(i=(1073741823&s)!=(0|s)?-1:s<<2),u=oo(i),n=p[t+48>>2],c=p[t>>2],i=p[t+40>>2],b=Io(u,n+p[c>>2]|0,i),Io(a,n+p[c>>2]|0,i),y=p[t+44>>2],c=p[t+48>>2],v=p[t>>2],k=d=p[t+40>>2],_=Io(f,c+p[v>>2]|0,d),(n=p[t+80>>2])>>>0>=2)for(x=(0|s)<1,u=1,t=0;;){if(S=Io(b,(i=p[v>>2])+(f=Bo(u,t,d,y)+c|0)|0,k),!x)for(T=p[e+8>>2],i=0;a=(m=i<<2)+T|0,o=A[(f=m+S|0)>>2],A[a>>2]>o&&(A[a>>2]=o,o=A[f>>2]),A[(f=_+m|0)>>2]<o&&(A[f>>2]=o),(0|s)!=(0|(i=i+1|0)););if((i=u+1|0)>>>0<1&&(t=t+1|0),u=i,!(!t&i>>>0<n>>>0|t>>>0<0))break}i=0;t:{if((0|s)<=0)h=A[e+20>>2];else for(c=p[e+8>>2];;){if(a=0,h=A[(t=(n=i<<2)+c|0)>>2],2139095040==(2139095040&p[t>>2]))break t;if(o=A[(t=n+_|0)>>2],2139095040==(2139095040&p[t>>2]))break t;if((o=g(o-h))>(h=A[e+20>>2])&&(A[e+20>>2]=o,h=o),(0|s)==(0|(i=i+1|0)))break}a=1,h==g(0)&&(p[e+20>>2]=1065353216)}Mo(b),Mo(_)}return V=r+16|0,a}Ao(),E()}function $t(e,t){var i,r=0,n=0,a=0;if(V=i=V-16|0,r=0,-1!=(0|(n=p[e+4>>2]))){r=i;e:{t:{if((0|(a=p[t+20>>2]))<0||(0|a)<=0&&!(b[t+16>>2]>0)){if(Yt(t,p[(a=t+4|0)>>2],p[e+8>>2],p[e+12>>2]),(0|(n=p[t+20>>2]))<0||(0|n)<=0&&!(b[t+16>>2]>=1))break t;n=p[e+4>>2]}l[r+15|0]=n;break e}r=e+20|0,Yt(t,p[a>>2],r,r+4|0),n=p[t+20>>2],r=p[t+16>>2],l[i+15|0]=p[e+4>>2],(0|n)>0||(0|n)>=0&&!(r>>>0<=0)||Yt(t,p[t+4>>2],i+15|0,i+16|0)}r=1}return V=i+16|0,r}function ei(e,t,i,r){var n,a,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=0,b=g(0),v=0,y=g(0),x=0,S=0,w=0,E=0,M=0,P=0;if(V=a=V-16|0,ii(e,r,n=l[i+24|0],0,i),e=p[e>>2],c=p[e+48>>2],s=p[t+4>>2],e=p[p[e>>2]>>2],ya(o=va(a+8|0),A[t+20>>2],-1<<s^-1),s=oo((1073741823&n)!=(0|n)?-1:n<<2),r)for(v=e+c|0,y=A[o>>2],x=p[i>>2],c=p[i+48>>2],o=p[i+44>>2],S=d=p[i+40>>2],w=_[i+84|0],E=i+68|0,M=(0|n)<1,P=t+8|0,t=0;;){if(e=t,i=s,f=p[x>>2],h=d,u=o,w||(e=p[p[E>>2]+(t<<2)>>2]),h=Io(i,(e=Bo(h,u,e,0)+c|0)+f|0,S),!M)for(u=p[P>>2],i=0;f=v+(m<<2)|0,b=g(T(g(g(y*g(A[(e=i<<2)+h>>2]-A[e+u>>2]))+g(.5)))),e=g(k(b))<g(2147483648)?~~b:-2147483648,p[f>>2]=e,m=m+1|0,(0|n)!=(0|(i=i+1|0)););if((0|(t=t+1|0))==(0|r))break}Mo(s),V=a+16|0}function ti(e){return 0,1}function ii(e,t,i,r,n){var a,s;V=a=V+-64|0,ai(s=ni(a),n=p[n+56>>2],0,i<<24>>24,6,i=y(sa(6),i),i>>31),n=oi(i=oo(96),s),p[e>>2]=i,ci(n,t),e=p[e>>2];e:if(r){if(l[e+84|0]=0,i=p[e+68>>2],(t=p[e+72>>2]-i>>2)>>>0<r>>>0){ri(e+68|0,r-t|0,1528);break e}if(t>>>0<=r>>>0)break e;p[e+72>>2]=i+(r<<2)}else l[e+84|0]=1,p[e+72>>2]=p[e+68>>2];V=a- -64|0}function ri(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0;if((a=p[e+8>>2])-(r=p[e+4>>2])>>2>>>0>=t>>>0){for(;p[r>>2]=p[i>>2],r=r+4|0,t=t+-1|0;);p[e+4>>2]=r}else{e:{if((r=(l=(o=r-(s=p[e>>2])|0)>>2)+t|0)>>>0<1073741824){if(n=(a=a-s|0)>>1,r=a>>2>>>0<536870911?n>>>0<r>>>0?r:n:1073741823,n=0,r){if(r>>>0>=1073741824)break e;n=oo(r<<2)}for(a=n+(r<<2)|0,r=n+(l<<2)|0;p[r>>2]=p[i>>2],r=r+4|0,t=t+-1|0;);return(0|o)>=1&&Io(n,s,o),p[e>>2]=n,p[e+8>>2]=a,p[e+4>>2]=r,void(s&&Mo(s))}Ao(),E()}Wt(1532),E()}}function ni(e){return p[e+8>>2]=0,p[e+12>>2]=0,p[e>>2]=0,p[e+40>>2]=0,p[e+44>>2]=0,p[e+28>>2]=9,l[e+24|0]=1,p[e+56>>2]=-1,p[e+60>>2]=0,p[e+16>>2]=0,p[e+20>>2]=0,p[e+48>>2]=0,p[e+52>>2]=0,e}function ai(e,t,i,r,n,a,s){var o=0;p[e>>2]=i,i&&(o=p[i+20>>2],p[e+8>>2]=p[i+16>>2],p[e+12>>2]=o,o=p[i+28>>2],p[e+16>>2]=p[i+24>>2],p[e+20>>2]=o),p[e+56>>2]=t,p[e+48>>2]=0,p[e+52>>2]=0,p[e+40>>2]=a,p[e+44>>2]=s,l[e+32|0]=0,p[e+28>>2]=n,l[e+24|0]=r}function si(e){return ni(e),p[e+64>>2]=0,p[e+68>>2]=0,p[e+88>>2]=0,p[e+72>>2]=0,p[e+76>>2]=0,l[e+77|0]=0,l[e+78|0]=0,l[e+79|0]=0,l[e+80|0]=0,l[e+81|0]=0,l[e+82|0]=0,l[e+83|0]=0,l[e+84|0]=0,e}function oi(e,t){var i=0;return i=p[t+4>>2],p[e>>2]=p[t>>2],p[e+4>>2]=i,i=p[t+60>>2],p[e+56>>2]=p[t+56>>2],p[e+60>>2]=i,i=p[t+52>>2],p[e+48>>2]=p[t+48>>2],p[e+52>>2]=i,i=p[t+44>>2],p[e+40>>2]=p[t+40>>2],p[e+44>>2]=i,i=p[t+36>>2],p[e+32>>2]=p[t+32>>2],p[e+36>>2]=i,i=p[t+28>>2],p[e+24>>2]=p[t+24>>2],p[e+28>>2]=i,i=p[t+20>>2],p[e+16>>2]=p[t+16>>2],p[e+20>>2]=i,i=p[t+12>>2],p[e+8>>2]=p[t+8>>2],p[e+12>>2]=i,p[e+88>>2]=0,p[e+64>>2]=0,p[e+68>>2]=0,p[e+72>>2]=0,p[e+76>>2]=0,l[e+77|0]=0,l[e+78|0]=0,l[e+79|0]=0,l[e+80|0]=0,l[e+81|0]=0,l[e+82|0]=0,l[e+83|0]=0,l[e+84|0]=0,e}function li(e,t,i,r,n){var a,s=0,o=0;ra(s=oo(32)),o=p[e+64>>2],p[e+64>>2]=s,a=e,o&&((s=p[o>>2])&&(p[o+4>>2]=s,Mo(s)),Mo(o),s=p[e+64>>2]),ai(a,o=t,s,i,r,t=y(sa(r),i),t>>31),ci(e,n),l[e+84|0]=1,p[e+72>>2]=p[e+68>>2]}function ci(e,t){var i=0,r=0;p[e+64>>2]||(ra(r=oo(32)),i=p[e+64>>2],p[e+64>>2]=r,i&&((r=p[i>>2])&&(p[i+4>>2]=r,Mo(r)),Mo(i))),i=sa(p[e+28>>2]),r=i=y(i,l[e+24|0]),i>>=31,function(e,t,i){var r=0;if((0|(i=t>>>0<0?i+1|0:i))<0?1:(0|i)<=0?t>>>0>=0?0:1:0)return 0;r=p[e>>2];(i=p[e+4>>2]-r|0)>>>0<t>>>0?na(e,t-i|0):i>>>0<=t>>>0||(p[e+4>>2]=t+r);i=t=e+24|0,r=t,e=p[t+4>>2],(t=p[t>>2]+1|0)>>>0<1&&(e=e+1|0);return p[r>>2]=t,p[i+4>>2]=e,1}(p[e+64>>2],Bo(r,i,t,0),z)&&(!function(e,t,i,r){var n=0;p[e>>2]=t,n=p[t+20>>2],p[e+8>>2]=p[t+16>>2],p[e+12>>2]=n,n=p[t+24>>2],t=p[t+28>>2],p[e+48>>2]=0,p[e+52>>2]=0,p[e+40>>2]=i,p[e+44>>2]=r,p[e+16>>2]=n,p[e+20>>2]=t}(e,p[e+64>>2],r,i),p[e+80>>2]=t)}function fi(e,t){var i,r=0;r=-1;e:if(!((i=p[t+28>>2]+-1|0)>>>0>10)){t:{i:{r:switch(i-1|0){case 7:if((r=l[t+24|0]+-1|0)>>>0>3)break t;n:switch(r-1|0){default:r=hi(e,t);break i;case 0:r=ui(e,t);break i;case 1:r=di(e,t);break i;case 2:break n}r=pi(e,t);break i;default:if((r=l[t+24|0]+-1|0)>>>0>3)break t;n:switch(r-1|0){default:r=_i(e,t);break i;case 0:r=mi(e,t);break i;case 1:r=bi(e,t);break i;case 2:break n}r=Ai(e,t);break i;case 0:case 9:if((r=l[t+24|0]+-1|0)>>>0>3)break t;n:switch(r-1|0){default:r=_i(e,t);break i;case 0:r=mi(e,t);break i;case 1:r=bi(e,t);break i;case 2:break n}r=Ai(e,t);break i;case 2:if((r=l[t+24|0]+-1|0)>>>0>3)break t;n:switch(r-1|0){default:r=vi(e,t);break i;case 0:r=yi(e,t);break i;case 1:r=gi(e,t);break i;case 2:break n}r=ki(e,t);break i;case 1:if((r=l[t+24|0]+-1|0)>>>0>3)break t;n:switch(r-1|0){default:r=vi(e,t);break i;case 0:r=yi(e,t);break i;case 1:r=gi(e,t);break i;case 2:break n}r=ki(e,t);break i;case 4:if((r=l[t+24|0]+-1|0)>>>0>3)break t;n:switch(r-1|0){default:r=hi(e,t);break i;case 0:r=ui(e,t);break i;case 1:r=di(e,t);break i;case 2:break n}r=pi(e,t);break i;case 5:case 6:case 8:break e;case 3:break r}if((r=l[t+24|0]+-1|0)>>>0>3)break t;r:switch(r-1|0){default:r=hi(e,t);break i;case 0:r=ui(e,t);break i;case 1:r=di(e,t);break i;case 2:break r}r=pi(e,t)}if(r)break e}r=-1}return r}function hi(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=0,b=0,A=0,v=0;V=i=V+-64|0,p[i+40>>2]=0,p[i+44>>2]=0,p[i+32>>2]=0,p[i+36>>2]=0,p[i+48>>2]=1065353216,r=p[e+80>>2],p[i+24>>2]=0,p[i+16>>2]=0,p[i+20>>2]=0;e:{if(r){if(r>>>0>=1073741824)break e;for(a=oo(r<<=2),p[i+16>>2]=a,n=r+a|0,p[i+24>>2]=n,Do(a,0,r),p[i+20>>2]=n,A=e+40|0;;){n=p[(r=t)+48>>2],h=p[p[r>>2]>>2],m=u,n=Bo(p[r+40>>2],p[r+44>>2],u,0)+n|0,d=_[0|(r=h+n|0)]|_[r+1|0]<<8|_[r+2|0]<<16|_[r+3|0]<<24,p[i+28>>2]=d;t:{i:{r:if(o&&(n=p[i+32>>2],r=(h=318^d)&o+-1,(b=Vo(o)>>>0>1)&&((r=h)>>>0<o>>>0||(r=(h>>>0)%(o>>>0)|0)),(n=p[(r<<2)+n>>2])&&(n=p[n>>2])))for(v=o+-1|0;;){n:{if((0|h)!=(0|(s=p[n+4>>2]))){if(b?s>>>0<o>>>0||(s=(s>>>0)%(o>>>0)|0):s&=v,(0|r)==(0|s))break n;break r}if(p[n+8>>2]==(0|d))break i}if(!(n=p[n>>2]))break}p[i+12>>2]=f,p[i+8>>2]=d,xi(i+56|0,i+32|0,i+8|0,i+8|0),r=p[A>>2],Io(p[p[e>>2]>>2]+y(r,f)|0,i+28|0,r),a=p[i+16>>2],p[a+(m<<2)>>2]=f,f=f+1|0;break t}p[(m<<2)+a>>2]=p[n+12>>2]}if(r=c,(c=u+1|0)>>>0<1&&(r=r+1|0),u=c,c=r,!(!r&u>>>0<(n=p[e+80>>2])>>>0|r>>>0<0))break;o=p[i+36>>2]}if((0|n)!=(0|f)){t:if(_[e+84|0]){if(l[e+84|0]=0,r=p[e+68>>2],n>>>0>(t=p[e+72>>2]-r>>2)>>>0?(ri(e+68|0,n-t|0,1668),n=p[e+80>>2]):n>>>0>=t>>>0||(p[e+72>>2]=r+(n<<2)),a=p[i+16>>2],n)for(t=p[e+68>>2],s=0;p[(r=s<<2)+t>>2]=p[r+a>>2],(s=s+1|0)>>>0<n>>>0;);}else{if((0|(r=p[e+72>>2]))==(0|(t=p[e+68>>2])))break t;for(r=r-t>>2,n=0;p[(c=t+(n<<2)|0)>>2]=p[(p[c>>2]<<2)+a>>2],(n=n+1|0)>>>0<r>>>0;);}p[e+80>>2]=f}a&&(p[i+20>>2]=a,Mo(a))}if(n=p[i+40>>2])for(;e=p[n>>2],Mo(n),n=e;);return e=p[i+32>>2],p[i+32>>2]=0,e&&Mo(e),V=i- -64|0,f}Ao(),E()}function ui(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=0,b=0,A=0,v=0,g=0,k=0,x=0;V=i=V-80|0,p[i+56>>2]=0,p[i+60>>2]=0,p[i+48>>2]=0,p[i+52>>2]=0,p[i+64>>2]=1065353216,n=p[e+80>>2],p[i+32>>2]=0,p[i+24>>2]=0,p[i+28>>2]=0;e:{if(n){if(n>>>0>=1073741824)break e;for(c=oo(a=n<<2),p[i+24>>2]=c,n=c+a|0,p[i+32>>2]=n,Do(c,0,a),p[i+28>>2]=n,g=e+40|0;;){s=p[(n=t)+48>>2],a=p[p[n>>2]>>2],A=m,n=Bo(p[n+40>>2],p[n+44>>2],m,0)+s|0,n=_[(s=a+n|0)+4|0]|_[s+5|0]<<8|_[s+6|0]<<16|_[s+7|0]<<24,b=_[0|s]|_[s+1|0]<<8|_[s+2|0]<<16|_[s+3|0]<<24,p[i+40>>2]=b,p[i+44>>2]=n;t:{i:{r:if(h&&(r=p[i+48>>2],k=n,a=(d=n^239+(318^(s=b)))&h+-1,(v=Vo(h)>>>0>1)&&((a=d)>>>0<h>>>0||(a=(d>>>0)%(h>>>0)|0)),(r=p[(a<<2)+r>>2])&&(r=p[r>>2])))for(x=h+-1|0;;){n:{if((0|d)!=(0|(f=p[r+4>>2]))){if(v?f>>>0<h>>>0||(f=(f>>>0)%(h>>>0)|0):f&=x,(0|f)==(0|a))break n;break r}if(p[r+8>>2]==(0|s)&&p[r+12>>2]==(0|k))break i}if(!(r=p[r>>2]))break}p[i+16>>2]=u,p[i+8>>2]=b,p[i+12>>2]=n,Si(i+72|0,i+48|0,i+8|0,i+8|0),n=p[g>>2],Io(p[p[e>>2]>>2]+y(n,u)|0,i+40|0,n),c=p[i+24>>2],p[c+(A<<2)>>2]=u,u=u+1|0;break t}p[(A<<2)+c>>2]=p[r+16>>2]}if(n=o,(o=m+1|0)>>>0<1&&(n=n+1|0),m=o,a=o,o=n,!(!n&a>>>0<(r=p[e+80>>2])>>>0|n>>>0<0))break;h=p[i+52>>2]}if((0|r)!=(0|u)){t:if(_[e+84|0]){if(l[e+84|0]=0,t=p[e+68>>2],r>>>0>(o=p[e+72>>2]-t>>2)>>>0?(ri(e+68|0,r-o|0,1668),r=p[e+80>>2]):r>>>0>=o>>>0||(p[e+72>>2]=t+(r<<2)),c=p[i+24>>2],r)for(o=p[e+68>>2],f=0;p[(t=f<<2)+o>>2]=p[t+c>>2],(f=f+1|0)>>>0<r>>>0;);}else{if((0|(t=p[e+72>>2]))==(0|(n=p[e+68>>2])))break t;for(o=t-n>>2,r=0;p[(t=n+(r<<2)|0)>>2]=p[(p[t>>2]<<2)+c>>2],(r=r+1|0)>>>0<o>>>0;);}p[e+80>>2]=u}c&&(p[i+28>>2]=c,Mo(c))}if(r=p[i+56>>2])for(;e=p[r>>2],Mo(r),r=e;);return e=p[i+48>>2],p[i+48>>2]=0,e&&Mo(e),V=i+80|0,u}Ao(),E()}function di(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=0,b=0,A=0,v=0,g=0,k=0;V=i=V-80|0,p[i+56>>2]=0,p[i+60>>2]=0,p[i+48>>2]=0,p[i+52>>2]=0,p[i+64>>2]=1065353216,r=p[e+80>>2],p[i+24>>2]=0,p[i+16>>2]=0,p[i+20>>2]=0;e:{if(r){if(r>>>0>=1073741824)break e;for(a=oo(r<<=2),p[i+16>>2]=a,n=r+a|0,p[i+24>>2]=n,Do(a,0,r),p[i+20>>2]=n,g=e+40|0;;){n=p[(r=t)+48>>2],h=p[p[r>>2]>>2],A=u,n=Bo(p[r+40>>2],p[r+44>>2],u,0)+n|0,d=_[(r=h+n|0)+8|0]|_[r+9|0]<<8|_[r+10|0]<<16|_[r+11|0]<<24,p[i+40>>2]=d,n=_[r+4|0]|_[r+5|0]<<8|_[r+6|0]<<16|_[r+7|0]<<24,m=_[0|r]|_[r+1|0]<<8|_[r+2|0]<<16|_[r+3|0]<<24,p[i+32>>2]=m,p[i+36>>2]=n,b=p[i+36>>2];t:{i:{r:if(o&&(n=p[i+48>>2],r=(h=239+(239+(318^m)^b)^d)&o+-1,(v=Vo(o)>>>0>1)&&((r=h)>>>0<o>>>0||(r=(h>>>0)%(o>>>0)|0)),(n=p[(r<<2)+n>>2])&&(n=p[n>>2])))for(k=o+-1|0;;){n:{if((0|h)!=(0|(s=p[n+4>>2]))){if(v?s>>>0<o>>>0||(s=(s>>>0)%(o>>>0)|0):s&=k,(0|r)==(0|s))break n;break r}if(!(p[n+8>>2]!=(0|m)|p[n+12>>2]!=(0|b))&&p[n+16>>2]==(0|d))break i}if(!(n=p[n>>2]))break}p[i+12>>2]=f,p[i+8>>2]=d,p[i+4>>2]=b,p[i>>2]=m,Ti(i+72|0,i+48|0,i,i),r=p[g>>2],Io(p[p[e>>2]>>2]+y(r,f)|0,i+32|0,r),a=p[i+16>>2],p[a+(A<<2)>>2]=f,f=f+1|0;break t}p[(A<<2)+a>>2]=p[n+20>>2]}if(r=c,(c=u+1|0)>>>0<1&&(r=r+1|0),u=c,c=r,!(!r&u>>>0<(n=p[e+80>>2])>>>0|r>>>0<0))break;o=p[i+52>>2]}if((0|n)!=(0|f)){t:if(_[e+84|0]){if(l[e+84|0]=0,r=p[e+68>>2],n>>>0>(t=p[e+72>>2]-r>>2)>>>0?(ri(e+68|0,n-t|0,1668),n=p[e+80>>2]):n>>>0>=t>>>0||(p[e+72>>2]=r+(n<<2)),a=p[i+16>>2],n)for(t=p[e+68>>2],s=0;p[(r=s<<2)+t>>2]=p[r+a>>2],(s=s+1|0)>>>0<n>>>0;);}else{if((0|(r=p[e+72>>2]))==(0|(t=p[e+68>>2])))break t;for(r=r-t>>2,n=0;p[(c=t+(n<<2)|0)>>2]=p[(p[c>>2]<<2)+a>>2],(n=n+1|0)>>>0<r>>>0;);}p[e+80>>2]=f}a&&(p[i+20>>2]=a,Mo(a))}if(n=p[i+56>>2])for(;e=p[n>>2],Mo(n),n=e;);return e=p[i+48>>2],p[i+48>>2]=0,e&&Mo(e),V=i+80|0,f}Ao(),E()}function pi(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=0,b=0,A=0,v=0,g=0,k=0,x=0;V=i=V-96|0,p[i+72>>2]=0,p[i+76>>2]=0,p[i+64>>2]=0,p[i+68>>2]=0,p[i+80>>2]=1065353216,r=p[e+80>>2],p[i+40>>2]=0,p[i+32>>2]=0,p[i+36>>2]=0;e:{if(r){if(r>>>0>=1073741824)break e;for(a=oo(r<<=2),p[i+32>>2]=a,n=r+a|0,p[i+40>>2]=n,Do(a,0,r),p[i+36>>2]=n,k=e+40|0;;){o=p[(r=t)+48>>2],n=p[p[r>>2]>>2],v=u,o=Bo(p[r+40>>2],p[r+44>>2],u,0)+o|0,o=_[(r=n+o|0)+12|0]|_[r+13|0]<<8|_[r+14|0]<<16|_[r+15|0]<<24,d=_[r+8|0]|_[r+9|0]<<8|_[r+10|0]<<16|_[r+11|0]<<24,p[i+56>>2]=d,p[i+60>>2]=o,n=_[r+4|0]|_[r+5|0]<<8|_[r+6|0]<<16|_[r+7|0]<<24,o=_[0|r]|_[r+1|0]<<8|_[r+2|0]<<16|_[r+3|0]<<24,p[i+48>>2]=o,p[i+52>>2]=n,b=p[i+52>>2],A=p[i+60>>2];t:{i:{r:if(c&&(n=p[i+64>>2],r=(m=239+(239+(239+(318^o)^b)^d)^A)&c+-1,(g=Vo(c)>>>0>1)&&((r=m)>>>0<c>>>0||(r=(m>>>0)%(c>>>0)|0)),(n=p[(r<<2)+n>>2])&&(n=p[n>>2])))for(x=c+-1|0;;){n:{if((0|m)!=(0|(s=p[n+4>>2]))){if(g?s>>>0<c>>>0||(s=(s>>>0)%(c>>>0)|0):s&=x,(0|r)==(0|s))break n;break r}if(!(p[n+8>>2]!=(0|o)|p[n+12>>2]!=(0|b)|p[n+16>>2]!=(0|d))&&p[n+20>>2]==(0|A))break i}if(!(n=p[n>>2]))break}p[i+24>>2]=h,p[i+20>>2]=A,p[i+16>>2]=d,p[i+12>>2]=b,p[i+8>>2]=o,wi(i+88|0,i- -64|0,i+8|0,i+8|0),r=p[k>>2],Io(p[p[e>>2]>>2]+y(r,h)|0,i+48|0,r),a=p[i+32>>2],p[a+(v<<2)>>2]=h,h=h+1|0;break t}p[(v<<2)+a>>2]=p[n+24>>2]}if(r=f,(f=u+1|0)>>>0<1&&(r=r+1|0),u=f,f=r,!(!r&u>>>0<(n=p[e+80>>2])>>>0|r>>>0<0))break;c=p[i+68>>2]}if((0|n)!=(0|h)){t:if(_[e+84|0]){if(l[e+84|0]=0,r=p[e+68>>2],n>>>0>(t=p[e+72>>2]-r>>2)>>>0?(ri(e+68|0,n-t|0,1668),n=p[e+80>>2]):n>>>0>=t>>>0||(p[e+72>>2]=r+(n<<2)),a=p[i+32>>2],n)for(t=p[e+68>>2],s=0;p[(r=s<<2)+t>>2]=p[r+a>>2],(s=s+1|0)>>>0<n>>>0;);}else{if((0|(r=p[e+72>>2]))==(0|(t=p[e+68>>2])))break t;for(r=r-t>>2,n=0;p[(f=t+(n<<2)|0)>>2]=p[(p[f>>2]<<2)+a>>2],(n=n+1|0)>>>0<r>>>0;);}p[e+80>>2]=h}a&&(p[i+36>>2]=a,Mo(a))}if(n=p[i+72>>2])for(;e=p[n>>2],Mo(n),n=e;);return e=p[i+64>>2],p[i+64>>2]=0,e&&Mo(e),V=i+96|0,h}Ao(),E()}function _i(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=0,b=0,A=0,v=0;V=i=V+-64|0,p[i+40>>2]=0,p[i+44>>2]=0,p[i+32>>2]=0,p[i+36>>2]=0,p[i+48>>2]=1065353216,n=p[e+80>>2],p[i+24>>2]=0,p[i+16>>2]=0,p[i+20>>2]=0;e:{if(n){if(n>>>0>=1073741824)break e;for(a=oo(n<<=2),p[i+16>>2]=a,r=n+a|0,p[i+24>>2]=r,Do(a,0,n),p[i+20>>2]=r,A=e+40|0;;){r=p[(n=t)+48>>2],h=p[p[n>>2]>>2],m=u,r=Bo(p[n+40>>2],p[n+44>>2],u,0)+r|0,d=_[h+r|0],l[i+31|0]=d;t:{i:{r:if(o&&(r=p[i+32>>2],n=(h=318^d)&o+-1,(b=Vo(o)>>>0>1)&&((n=h)>>>0<o>>>0||(n=(h>>>0)%(o>>>0)|0)),(r=p[(n<<2)+r>>2])&&(r=p[r>>2])))for(v=o+-1|0;;){n:{if((0|h)!=(0|(s=p[r+4>>2]))){if(b?s>>>0<o>>>0||(s=(s>>>0)%(o>>>0)|0):s&=v,(0|n)==(0|s))break n;break r}if(_[r+8|0]==(0|d))break i}if(!(r=p[r>>2]))break}p[i+12>>2]=f,l[i+8|0]=d,Ci(i+56|0,i+32|0,i+8|0,i+8|0),n=p[A>>2],Io(p[p[e>>2]>>2]+y(n,f)|0,i+31|0,n),a=p[i+16>>2],p[a+(m<<2)>>2]=f,f=f+1|0;break t}p[(m<<2)+a>>2]=p[r+12>>2]}if(n=c,(c=u+1|0)>>>0<1&&(n=n+1|0),u=c,c=n,!(!n&u>>>0<(r=p[e+80>>2])>>>0|n>>>0<0))break;o=p[i+36>>2]}if((0|r)!=(0|f)){t:if(_[e+84|0]){if(l[e+84|0]=0,n=p[e+68>>2],r>>>0>(t=p[e+72>>2]-n>>2)>>>0?(ri(e+68|0,r-t|0,1668),r=p[e+80>>2]):r>>>0>=t>>>0||(p[e+72>>2]=n+(r<<2)),a=p[i+16>>2],r)for(t=p[e+68>>2],s=0;p[(n=s<<2)+t>>2]=p[n+a>>2],(s=s+1|0)>>>0<r>>>0;);}else{if((0|(n=p[e+72>>2]))==(0|(t=p[e+68>>2])))break t;for(n=n-t>>2,r=0;p[(c=t+(r<<2)|0)>>2]=p[(p[c>>2]<<2)+a>>2],(r=r+1|0)>>>0<n>>>0;);}p[e+80>>2]=f}a&&(p[i+20>>2]=a,Mo(a))}if(r=p[i+40>>2])for(;e=p[r>>2],Mo(r),r=e;);return e=p[i+32>>2],p[i+32>>2]=0,e&&Mo(e),V=i- -64|0,f}Ao(),E()}function mi(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,m=0,b=0,A=0,v=0,g=0,k=0,x=0;V=i=V+-64|0,p[i+40>>2]=0,p[i+44>>2]=0,p[i+32>>2]=0,p[i+36>>2]=0,p[i+48>>2]=1065353216,r=p[e+80>>2],p[i+24>>2]=0,p[i+16>>2]=0,p[i+20>>2]=0;e:{if(r){if(r>>>0>=1073741824)break e;for(a=oo(r<<=2),p[i+16>>2]=a,n=r+a|0,p[i+24>>2]=n,Do(a,0,r),p[i+20>>2]=n,k=e+40|0;;){n=p[(r=t)+48>>2],h=p[p[r>>2]>>2],b=u,n=Bo(p[r+40>>2],p[r+44>>2],u,0)+n|0,m=_[0|(r=h+n|0)]|_[r+1|0]<<8,d[i+30>>1]=m;t:{i:{r:if(o&&(n=p[i+32>>2],r=(h=(A=m>>>8)^239+(318^(v=255&m)))&o+-1,(g=Vo(o)>>>0>1)&&(o>>>0>(r=h)>>>0||(r=(h>>>0)%(o>>>0)|0)),(n=p[(r<<2)+n>>2])&&(n=p[n>>2])))for(x=o+-1|0;;){n:{if((0|h)!=(0|(s=p[n+4>>2]))){if(g?s>>>0<o>>>0||(s=(s>>>0)%(o>>>0)|0):s&=x,(0|r)==(0|s))break n;break r}if(_[n+8|0]==(0|v)&&_[n+9|0]==(0|A))break i}if(!(n=p[n>>2]))break}p[i+12>>2]=f,d[i+8>>1]=m,Oi(i+56|0,i+32|0,i+8|0,i+8|0),r=p[k>>2],Io(p[p[e>>2]>>2]+y(r,f)|0,i+30|0,r),a=p[i+16>>2],p[a+(b<<2)>>2]=f,f=f+1|0;break t}p[(b<<2)+a>>2]=p[n+12>>2]}if(r=c,(c=u+1|0)>>>0<1&&(r=r+1|0),u=c,c=r,!(!r&u>>>0<(n=p[e+80>>2])>>>0|r>>>0<0))break;o=p[i+36>>2]}if((0|n)!=(0|f)){t:if(_[e+84|0]){if(l[e+84|0]=0,r=p[e+68>>2],n>>>0>(t=p[e+72>>2]-r>>2)>>>0?(ri(e+68|0,n-t|0,1668),n=p[e+80>>2]):n>>>0>=t>>>0||(p[e+72>>2]=r+(n<<2)),a=p[i+16>>2],n)for(t=p[e+68>>2],s=0;p[(r=s<<2)+t>>2]=p[r+a>>2],(s=s+1|0)>>>0<n>>>0;);}else{if((0|(r=p[e+72>>2]))==(0|(t=p[e+68>>2])))break t;for(r=r-t>>2,n=0;p[(c=t+(n<<2)|0)>>2]=p[(p[c>>2]<<2)+a>>2],(n=n+1|0)>>>0<r>>>0;);}p[e+80>>2]=f}a&&(p[i+20>>2]=a,Mo(a))}if(n=p[i+40>>2])for(;e=p[n>>2],Mo(n),n=e;);return e=p[i+32>>2],p[i+32>>2]=0,e&&Mo(e),V=i- -64|0,f}Ao(),E()}function bi(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,m=0,b=0,A=0,v=0,g=0,k=0,x=0;V=i=V+-64|0,p[i+40>>2]=0,p[i+44>>2]=0,p[i+32>>2]=0,p[i+36>>2]=0,p[i+48>>2]=1065353216,r=p[e+80>>2],p[i+24>>2]=0,p[i+16>>2]=0,p[i+20>>2]=0;e:{if(r){if(r>>>0>=1073741824)break e;for(a=oo(r<<=2),p[i+16>>2]=a,n=r+a|0,p[i+24>>2]=n,Do(a,0,r),p[i+20>>2]=n,k=e+40|0;;){n=p[(r=t)+48>>2],h=p[p[r>>2]>>2],v=u,n=Bo(p[r+40>>2],p[r+44>>2],u,0)+n|0,m=_[(r=h+n|0)+2|0],l[i+30|0]=m,d[i+28>>1]=_[0|r]|_[r+1|0]<<8,b=_[i+28|0],A=_[i+29|0];t:{i:{r:if(o&&(n=p[i+32>>2],r=(h=239+(239+(318^b)^A)^m)&o+-1,(g=Vo(o)>>>0>1)&&((r=h)>>>0<o>>>0||(r=(h>>>0)%(o>>>0)|0)),(n=p[(r<<2)+n>>2])&&(n=p[n>>2])))for(x=o+-1|0;;){n:{if((0|h)!=(0|(s=p[n+4>>2]))){if(g?s>>>0<o>>>0||(s=(s>>>0)%(o>>>0)|0):s&=x,(0|r)==(0|s))break n;break r}if(!(_[n+8|0]!=(0|b)|_[n+9|0]!=(0|A))&&_[n+10|0]==(0|m))break i}if(!(n=p[n>>2]))break}p[i+12>>2]=f,l[i+10|0]=m,l[i+9|0]=A,l[i+8|0]=b,Ii(i+56|0,i+32|0,i+8|0,i+8|0),r=p[k>>2],Io(p[p[e>>2]>>2]+y(r,f)|0,i+28|0,r),a=p[i+16>>2],p[a+(v<<2)>>2]=f,f=f+1|0;break t}p[(v<<2)+a>>2]=p[n+12>>2]}if(r=c,(c=u+1|0)>>>0<1&&(r=r+1|0),u=c,c=r,!(!r&u>>>0<(n=p[e+80>>2])>>>0|r>>>0<0))break;o=p[i+36>>2]}if((0|n)!=(0|f)){t:if(_[e+84|0]){if(l[e+84|0]=0,r=p[e+68>>2],n>>>0>(t=p[e+72>>2]-r>>2)>>>0?(ri(e+68|0,n-t|0,1668),n=p[e+80>>2]):n>>>0>=t>>>0||(p[e+72>>2]=r+(n<<2)),a=p[i+16>>2],n)for(t=p[e+68>>2],s=0;p[(r=s<<2)+t>>2]=p[r+a>>2],(s=s+1|0)>>>0<n>>>0;);}else{if((0|(r=p[e+72>>2]))==(0|(t=p[e+68>>2])))break t;for(r=r-t>>2,n=0;p[(c=t+(n<<2)|0)>>2]=p[(p[c>>2]<<2)+a>>2],(n=n+1|0)>>>0<r>>>0;);}p[e+80>>2]=f}a&&(p[i+20>>2]=a,Mo(a))}if(n=p[i+40>>2])for(;e=p[n>>2],Mo(n),n=e;);return e=p[i+32>>2],p[i+32>>2]=0,e&&Mo(e),V=i- -64|0,f}Ao(),E()}function Ai(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=0,b=0,A=0,v=0,g=0,k=0,x=0,S=0;V=i=V+-64|0,p[i+40>>2]=0,p[i+44>>2]=0,p[i+32>>2]=0,p[i+36>>2]=0,p[i+48>>2]=1065353216,r=p[e+80>>2],p[i+24>>2]=0,p[i+16>>2]=0,p[i+20>>2]=0;e:{if(r){if(r>>>0>=1073741824)break e;for(a=oo(r<<=2),p[i+16>>2]=a,n=r+a|0,p[i+24>>2]=n,Do(a,0,r),p[i+20>>2]=n,x=e+40|0;;){n=p[(r=t)+48>>2],h=p[p[r>>2]>>2],A=d,n=Bo(p[r+40>>2],p[r+44>>2],d,0)+n|0,u=_[0|(r=h+n|0)]|_[r+1|0]<<8|_[r+2|0]<<16|_[r+3|0]<<24,p[i+28>>2]=u,m=u>>>8&255,b=u>>>16&255;t:{i:{r:if(o&&(n=p[i+32>>2],r=(h=(v=u>>>24)^239+(239+(239+(318^(g=255&u))^m)^b))&o+-1,(k=Vo(o)>>>0>1)&&((r=h)>>>0<o>>>0||(r=(h>>>0)%(o>>>0)|0)),(n=p[(r<<2)+n>>2])&&(n=p[n>>2])))for(S=o+-1|0;;){n:{if((0|h)!=(0|(s=p[n+4>>2]))){if(k?s>>>0<o>>>0||(s=(s>>>0)%(o>>>0)|0):s&=S,(0|r)==(0|s))break n;break r}if(!(_[n+8|0]!=(0|g)|_[n+9|0]!=(0|m)|_[n+10|0]!=(0|b))&&_[n+11|0]==(0|v))break i}if(!(n=p[n>>2]))break}p[i+12>>2]=f,p[i+8>>2]=-16776961&u|b<<16|m<<8,Di(i+56|0,i+32|0,i+8|0,i+8|0),r=p[x>>2],Io(p[p[e>>2]>>2]+y(r,f)|0,i+28|0,r),a=p[i+16>>2],p[a+(A<<2)>>2]=f,f=f+1|0;break t}p[(A<<2)+a>>2]=p[n+12>>2]}if(r=c,(c=d+1|0)>>>0<1&&(r=r+1|0),d=c,c=r,!(!r&d>>>0<(n=p[e+80>>2])>>>0|r>>>0<0))break;o=p[i+36>>2]}if((0|n)!=(0|f)){t:if(_[e+84|0]){if(l[e+84|0]=0,r=p[e+68>>2],n>>>0>(t=p[e+72>>2]-r>>2)>>>0?(ri(e+68|0,n-t|0,1668),n=p[e+80>>2]):n>>>0>=t>>>0||(p[e+72>>2]=r+(n<<2)),a=p[i+16>>2],n)for(t=p[e+68>>2],s=0;p[(r=s<<2)+t>>2]=p[r+a>>2],(s=s+1|0)>>>0<n>>>0;);}else{if((0|(r=p[e+72>>2]))==(0|(t=p[e+68>>2])))break t;for(r=r-t>>2,n=0;p[(c=t+(n<<2)|0)>>2]=p[(p[c>>2]<<2)+a>>2],(n=n+1|0)>>>0<r>>>0;);}p[e+80>>2]=f}a&&(p[i+20>>2]=a,Mo(a))}if(n=p[i+40>>2])for(;e=p[n>>2],Mo(n),n=e;);return e=p[i+32>>2],p[i+32>>2]=0,e&&Mo(e),V=i- -64|0,f}Ao(),E()}function vi(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,b=0,A=0,v=0,g=0,k=0;V=i=V+-64|0,p[i+40>>2]=0,p[i+44>>2]=0,p[i+32>>2]=0,p[i+36>>2]=0,p[i+48>>2]=1065353216,r=p[e+80>>2],p[i+24>>2]=0,p[i+16>>2]=0,p[i+20>>2]=0;e:{if(r){if(r>>>0>=1073741824)break e;for(a=oo(r<<=2),p[i+16>>2]=a,n=r+a|0,p[i+24>>2]=n,Do(a,0,r),p[i+20>>2]=n,g=e+40|0;;){n=p[(r=t)+48>>2],h=p[p[r>>2]>>2],A=u,n=Bo(p[r+40>>2],p[r+44>>2],u,0)+n|0,b=_[0|(r=h+n|0)]|_[r+1|0]<<8,d[i+30>>1]=b;t:{i:{r:if(o&&(n=p[i+32>>2],r=(h=318^b)&o+-1,(v=Vo(o)>>>0>1)&&(o>>>0>(r=h)>>>0||(r=(h>>>0)%(o>>>0)|0)),(n=p[(r<<2)+n>>2])&&(n=p[n>>2])))for(k=o+-1|0;;){n:{if((0|h)!=(0|(s=p[n+4>>2]))){if(v?s>>>0<o>>>0||(s=(s>>>0)%(o>>>0)|0):s&=k,(0|r)==(0|s))break n;break r}if(m[n+8>>1]==(0|b))break i}if(!(n=p[n>>2]))break}p[i+12>>2]=f,d[i+8>>1]=b,Ui(i+56|0,i+32|0,i+8|0,i+8|0),r=p[g>>2],Io(p[p[e>>2]>>2]+y(r,f)|0,i+30|0,r),a=p[i+16>>2],p[a+(A<<2)>>2]=f,f=f+1|0;break t}p[(A<<2)+a>>2]=p[n+12>>2]}if(r=c,(c=u+1|0)>>>0<1&&(r=r+1|0),u=c,c=r,!(!r&u>>>0<(n=p[e+80>>2])>>>0|r>>>0<0))break;o=p[i+36>>2]}if((0|n)!=(0|f)){t:if(_[e+84|0]){if(l[e+84|0]=0,r=p[e+68>>2],n>>>0>(t=p[e+72>>2]-r>>2)>>>0?(ri(e+68|0,n-t|0,1668),n=p[e+80>>2]):n>>>0>=t>>>0||(p[e+72>>2]=r+(n<<2)),a=p[i+16>>2],n)for(t=p[e+68>>2],s=0;p[(r=s<<2)+t>>2]=p[r+a>>2],(s=s+1|0)>>>0<n>>>0;);}else{if((0|(r=p[e+72>>2]))==(0|(t=p[e+68>>2])))break t;for(r=r-t>>2,n=0;p[(c=t+(n<<2)|0)>>2]=p[(p[c>>2]<<2)+a>>2],(n=n+1|0)>>>0<r>>>0;);}p[e+80>>2]=f}a&&(p[i+20>>2]=a,Mo(a))}if(n=p[i+40>>2])for(;e=p[n>>2],Mo(n),n=e;);return e=p[i+32>>2],p[i+32>>2]=0,e&&Mo(e),V=i- -64|0,f}Ao(),E()}function yi(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,b=0,A=0,v=0,g=0,k=0,x=0;V=i=V+-64|0,p[i+40>>2]=0,p[i+44>>2]=0,p[i+32>>2]=0,p[i+36>>2]=0,p[i+48>>2]=1065353216,r=p[e+80>>2],p[i+24>>2]=0,p[i+16>>2]=0,p[i+20>>2]=0;e:{if(r){if(r>>>0>=1073741824)break e;for(a=oo(r<<=2),p[i+16>>2]=a,n=r+a|0,p[i+24>>2]=n,Do(a,0,r),p[i+20>>2]=n,k=e+40|0;;){n=p[(r=t)+48>>2],h=p[p[r>>2]>>2],b=u,n=Bo(p[r+40>>2],p[r+44>>2],u,0)+n|0,d=_[0|(r=h+n|0)]|_[r+1|0]<<8|_[r+2|0]<<16|_[r+3|0]<<24,p[i+28>>2]=d;t:{i:{r:if(o&&(n=p[i+32>>2],r=(h=(A=d>>>16)^239+(318^(v=65535&d)))&o+131071,(g=Vo(o)>>>0>1)&&((r=h)>>>0<o>>>0||(r=(h>>>0)%(o>>>0)|0)),(n=p[(r<<2)+n>>2])&&(n=p[n>>2])))for(x=o+-1|0;;){n:{if((0|h)!=(0|(s=p[n+4>>2]))){if(g?s>>>0<o>>>0||(s=(s>>>0)%(o>>>0)|0):s&=x,(0|r)==(0|s))break n;break r}if(m[n+8>>1]==(0|v)&&m[n+10>>1]==(0|A))break i}if(!(n=p[n>>2]))break}p[i+12>>2]=f,p[i+8>>2]=d,Vi(i+56|0,i+32|0,i+8|0,i+8|0),r=p[k>>2],Io(p[p[e>>2]>>2]+y(r,f)|0,i+28|0,r),a=p[i+16>>2],p[a+(b<<2)>>2]=f,f=f+1|0;break t}p[(b<<2)+a>>2]=p[n+12>>2]}if(r=c,(c=u+1|0)>>>0<1&&(r=r+1|0),u=c,c=r,!(!r&u>>>0<(n=p[e+80>>2])>>>0|r>>>0<0))break;o=p[i+36>>2]}if((0|n)!=(0|f)){t:if(_[e+84|0]){if(l[e+84|0]=0,r=p[e+68>>2],n>>>0>(t=p[e+72>>2]-r>>2)>>>0?(ri(e+68|0,n-t|0,1668),n=p[e+80>>2]):n>>>0>=t>>>0||(p[e+72>>2]=r+(n<<2)),a=p[i+16>>2],n)for(t=p[e+68>>2],s=0;p[(r=s<<2)+t>>2]=p[r+a>>2],(s=s+1|0)>>>0<n>>>0;);}else{if((0|(r=p[e+72>>2]))==(0|(t=p[e+68>>2])))break t;for(r=r-t>>2,n=0;p[(c=t+(n<<2)|0)>>2]=p[(p[c>>2]<<2)+a>>2],(n=n+1|0)>>>0<r>>>0;);}p[e+80>>2]=f}a&&(p[i+20>>2]=a,Mo(a))}if(n=p[i+40>>2])for(;e=p[n>>2],Mo(n),n=e;);return e=p[i+32>>2],p[i+32>>2]=0,e&&Mo(e),V=i- -64|0,f}Ao(),E()}function gi(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,b=0,A=0,v=0,g=0,k=0,x=0,S=0;V=i=V-80|0,p[i+56>>2]=0,p[i+60>>2]=0,p[i+48>>2]=0,p[i+52>>2]=0,p[i+64>>2]=1065353216,r=p[e+80>>2],p[i+32>>2]=0,p[i+24>>2]=0,p[i+28>>2]=0;e:{if(r){if(r>>>0>=1073741824)break e;for(a=oo(r<<=2),p[i+24>>2]=a,n=r+a|0,p[i+32>>2]=n,Do(a,0,r),p[i+28>>2]=n,x=e+40|0;;){n=p[(r=t)+48>>2],h=p[p[r>>2]>>2],g=u,n=Bo(p[r+40>>2],p[r+44>>2],u,0)+n|0,b=_[(r=h+n|0)+4|0]|_[r+5|0]<<8,d[i+44>>1]=b,A=_[0|r]|_[r+1|0]<<8|_[r+2|0]<<16|_[r+3|0]<<24,p[i+40>>2]=A,v=m[i+42>>1];t:{i:{r:if(o&&(n=p[i+48>>2],r=(h=239+(239+(65535&(318^A))^v)^b)&o+262143,(k=Vo(o)>>>0>1)&&((r=h)>>>0<o>>>0||(r=(h>>>0)%(o>>>0)|0)),(n=p[(r<<2)+n>>2])&&(n=p[n>>2])))for(S=o+-1|0;;){n:{if((0|h)!=(0|(s=p[n+4>>2]))){if(k?s>>>0<o>>>0||(s=(s>>>0)%(o>>>0)|0):s&=S,(0|r)==(0|s))break n;break r}if(!(m[n+8>>1]!=(65535&A)|m[n+10>>1]!=(0|v))&&m[n+12>>1]==(0|b))break i}if(!(n=p[n>>2]))break}p[i+16>>2]=f,d[i+12>>1]=b,d[i+10>>1]=v,d[i+8>>1]=A,zi(i+72|0,i+48|0,i+8|0,i+8|0),r=p[x>>2],Io(p[p[e>>2]>>2]+y(r,f)|0,i+40|0,r),a=p[i+24>>2],p[a+(g<<2)>>2]=f,f=f+1|0;break t}p[(g<<2)+a>>2]=p[n+16>>2]}if(r=c,(c=u+1|0)>>>0<1&&(r=r+1|0),u=c,c=r,!(!r&u>>>0<(n=p[e+80>>2])>>>0|r>>>0<0))break;o=p[i+52>>2]}if((0|n)!=(0|f)){t:if(_[e+84|0]){if(l[e+84|0]=0,r=p[e+68>>2],n>>>0>(t=p[e+72>>2]-r>>2)>>>0?(ri(e+68|0,n-t|0,1668),n=p[e+80>>2]):n>>>0>=t>>>0||(p[e+72>>2]=r+(n<<2)),a=p[i+24>>2],n)for(t=p[e+68>>2],s=0;p[(r=s<<2)+t>>2]=p[r+a>>2],(s=s+1|0)>>>0<n>>>0;);}else{if((0|(r=p[e+72>>2]))==(0|(t=p[e+68>>2])))break t;for(r=r-t>>2,n=0;p[(c=t+(n<<2)|0)>>2]=p[(p[c>>2]<<2)+a>>2],(n=n+1|0)>>>0<r>>>0;);}p[e+80>>2]=f}a&&(p[i+28>>2]=a,Mo(a))}if(n=p[i+56>>2])for(;e=p[n>>2],Mo(n),n=e;);return e=p[i+48>>2],p[i+48>>2]=0,e&&Mo(e),V=i+80|0,f}Ao(),E()}function ki(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,b=0,A=0,v=0,g=0,k=0,x=0,S=0,T=0,w=0;V=i=V-80|0,p[i+56>>2]=0,p[i+60>>2]=0,p[i+48>>2]=0,p[i+52>>2]=0,p[i+64>>2]=1065353216,n=p[e+80>>2],p[i+32>>2]=0,p[i+24>>2]=0,p[i+28>>2]=0;e:{if(n){if(n>>>0>=1073741824)break e;for(s=oo(n<<=2),p[i+24>>2]=s,a=n+s|0,p[i+32>>2]=a,Do(s,0,n),p[i+28>>2]=a,x=e+40|0;;){r=p[(n=t)+48>>2],a=p[p[n>>2]>>2],b=d,r=Bo(p[n+40>>2],p[n+44>>2],d,0)+r|0,n=_[(r=a+r|0)+4|0]|_[r+5|0]<<8|_[r+6|0]<<16|_[r+7|0]<<24,h=_[0|r]|_[r+1|0]<<8|_[r+2|0]<<16|_[r+3|0]<<24,p[i+40>>2]=h,p[i+44>>2]=n;t:{i:{r:if(c&&(r=p[i+48>>2],S=h,a=(u=(A=n>>>16)^239+((v=65535&n)^239+((g=65535&((65535&n)<<16|h>>>16))^239+(65535&(318^h)))))&c+-1,(k=Vo(c)>>>0>1)&&((a=u)>>>0<c>>>0||(a=(u>>>0)%(c>>>0)|0)),(r=p[(a<<2)+r>>2])&&(r=p[r>>2])))for(T=c+-1|0;;){n:{if((0|u)!=(0|(o=p[r+4>>2]))){if(k?o>>>0<c>>>0||(o=(o>>>0)%(c>>>0)|0):o&=T,(0|a)==(0|o))break n;break r}if(!(m[r+8>>1]!=(65535&S)|m[r+10>>1]!=(0|g)|m[r+12>>1]!=(0|v))&&m[r+14>>1]==(0|A))break i}if(!(r=p[r>>2]))break}p[i+16>>2]=f,p[i+8>>2]=h,p[i+12>>2]=n,ji(i+72|0,i+48|0,i+8|0,i+8|0),n=p[x>>2],Io(p[p[e>>2]>>2]+y(n,f)|0,i+40|0,n),s=p[i+24>>2],p[s+(b<<2)>>2]=f,f=f+1|0;break t}p[(b<<2)+s>>2]=p[r+16>>2]}if(n=w,(a=d+1|0)>>>0<1&&(n=n+1|0),d=a,w=n,!(!n&a>>>0<(r=p[e+80>>2])>>>0|n>>>0<0))break;c=p[i+52>>2]}if((0|r)!=(0|f)){t:if(_[e+84|0]){if(l[e+84|0]=0,n=p[e+68>>2],r>>>0>(t=p[e+72>>2]-n>>2)>>>0?(ri(e+68|0,r-t|0,1668),r=p[e+80>>2]):r>>>0>=t>>>0||(p[e+72>>2]=n+(r<<2)),s=p[i+24>>2],r)for(t=p[e+68>>2],o=0;p[(n=o<<2)+t>>2]=p[n+s>>2],(o=o+1|0)>>>0<r>>>0;);}else{if((0|(n=p[e+72>>2]))==(0|(t=p[e+68>>2])))break t;for(n=n-t>>2,r=0;p[(a=t+(r<<2)|0)>>2]=p[(p[a>>2]<<2)+s>>2],(r=r+1|0)>>>0<n>>>0;);}p[e+80>>2]=f}s&&(p[i+28>>2]=s,Mo(s))}if(r=p[i+56>>2])for(;e=p[r>>2],Mo(r),r=e;);return e=p[i+48>>2],p[i+48>>2]=0,e&&Mo(e),V=i+80|0,f}Ao(),E()}function xi(e,t,i,r){var n,a,s=0,o=0,c=0,f=0,h=g(0),u=0,d=g(0),_=0;c=318^(n=p[i>>2]),a=e;e:{t:if((s=p[t+4>>2])&&(o=p[t>>2],f=s+-1&c,(u=Vo(s))>>>0<=1||(f=i=c,i>>>0<s>>>0||(f=(c>>>0)%(s>>>0)|0)),f=i=f,i=p[(i<<2)+o>>2])){for(_=s+-1|0,u=u>>>0>1;;){if(!(i=p[i>>2]))break t;if((0|c)!=(0|(o=p[i+4>>2]))&&(u?o>>>0<s>>>0||(o=(o>>>0)%(s>>>0)|0):o&=_,(0|o)!=(0|f)))break t;if(p[i+8>>2]==(0|n))break}t=0;break e}i=oo(16),p[i+8>>2]=p[r>>2],r=p[r+4>>2],p[i+4>>2]=c,p[i+12>>2]=r,p[i>>2]=0,h=A[t+16>>2],d=g(p[t+12>>2]+1>>>0),!s|!!(g(h*g(s>>>0))<d)?(function(e,t){var i,r=0,n=g(0);r=2;1!=(0|t)&&(r=t,t+-1&t&&(r=Vs(t)));if(i=p[e+4>>2],r>>>0>i>>>0)return void Ei(e,r);r>>>0>=i>>>0||(n=g(w(g(g(b[e+12>>2])/A[e+16>>2]))),t=n<g(4294967296)&n>=g(0)?~~n>>>0:0,t=i>>>0<3||Vo(i)>>>0>1?Vs(t):t>>>0<2?t:1<<32-x(t+-1|0),(t=r>>>0<t>>>0?t:r)>>>0>=i>>>0||Ei(e,t))}(r=t,(s=0!=(s+-1&s)|s>>>0<3|s<<1)>>>0<(f=(h=g(w(g(d/h))))<g(4294967296)&h>=g(0)?~~h>>>0:0)>>>0?f:s),(s=p[t+4>>2])&s+-1?c>>>0<s>>>0||(c=(c>>>0)%(s>>>0)|0):c&=s+-1):c=f,c=p[t>>2]+(c<<2)|0;t:{if(o=p[c>>2])p[i>>2]=p[o>>2];else{if(r=t+8|0,p[i>>2]=p[r>>2],p[r>>2]=i,p[c>>2]=r,!(r=p[i>>2]))break t;o=p[r+4>>2],(r=s+-1|0)&s?o>>>0<s>>>0||(o=(o>>>0)%(s>>>0)|0):o&=r,o=p[t>>2]+(o<<2)|0}p[o>>2]=i}p[(t=t+12|0)>>2]=p[t>>2]+1,t=1}l[a+4|0]=t,p[e>>2]=i}function Si(e,t,i,r){var n,a,s,o=0,c=0,f=0,h=0,u=g(0),d=0,_=g(0),m=0;f=(n=p[i+4>>2])^239+(318^(a=p[i>>2])),s=e;e:{t:if((o=p[t+4>>2])&&(c=p[t>>2],h=o+-1&f,(d=Vo(o))>>>0<=1||(h=i=f,i>>>0<o>>>0||(h=(f>>>0)%(o>>>0)|0)),h=i=h,i=p[(i<<2)+c>>2])){for(m=o+-1|0,d=d>>>0>1;;){if(!(i=p[i>>2]))break t;if((0|f)!=(0|(c=p[i+4>>2]))&&(d?c>>>0<o>>>0||(c=(c>>>0)%(o>>>0)|0):c&=m,(0|c)!=(0|h)))break t;if(!(p[i+8>>2]!=(0|a)|p[i+12>>2]!=(0|n)))break}t=0;break e}i=oo(20),c=p[r+4>>2],p[i+8>>2]=p[r>>2],p[i+12>>2]=c,r=p[r+8>>2],p[i+4>>2]=f,p[i+16>>2]=r,p[i>>2]=0,u=A[t+16>>2],_=g(p[t+12>>2]+1>>>0),!o|!!(g(u*g(o>>>0))<_)?(function(e,t){var i,r=0,n=g(0);r=2;1!=(0|t)&&(r=t,t+-1&t&&(r=Vs(t)));if(i=p[e+4>>2],r>>>0>i>>>0)return void Mi(e,r);r>>>0>=i>>>0||(n=g(w(g(g(b[e+12>>2])/A[e+16>>2]))),t=n<g(4294967296)&n>=g(0)?~~n>>>0:0,t=i>>>0<3||Vo(i)>>>0>1?Vs(t):t>>>0<2?t:1<<32-x(t+-1|0),(t=r>>>0<t>>>0?t:r)>>>0>=i>>>0||Mi(e,t))}(r=t,(o=0!=(o+-1&o)|o>>>0<3|o<<1)>>>0<(h=(u=g(w(g(_/u))))<g(4294967296)&u>=g(0)?~~u>>>0:0)>>>0?h:o),(o=p[t+4>>2])&o+-1?f>>>0<o>>>0||(f=(f>>>0)%(o>>>0)|0):f&=o+-1):f=h,f=p[t>>2]+(f<<2)|0;t:{if(c=p[f>>2])p[i>>2]=p[c>>2];else{if(r=t+8|0,p[i>>2]=p[r>>2],p[r>>2]=i,p[f>>2]=r,!(r=p[i>>2]))break t;c=p[r+4>>2],(r=o+-1|0)&o?c>>>0<o>>>0||(c=(c>>>0)%(o>>>0)|0):c&=r,c=p[t>>2]+(c<<2)|0}p[c>>2]=i}p[(t=t+12|0)>>2]=p[t>>2]+1,t=1}l[s+4|0]=t,p[e>>2]=i}function Ti(e,t,i,r){var n,a,s,o,c=0,f=0,h=0,u=0,d=g(0),_=0,m=g(0),v=0;h=(n=p[i+8>>2])^239+((a=p[i+4>>2])^239+(318^(s=p[i>>2]))),o=e;e:{t:if((c=p[t+4>>2])&&(f=p[t>>2],u=c+-1&h,(_=Vo(c))>>>0<=1||(u=i=h,i>>>0<c>>>0||(u=(h>>>0)%(c>>>0)|0)),u=i=u,(i=p[(i<<2)+f>>2])&&(i=p[i>>2])))for(v=c+-1|0,_=_>>>0>1;;){if((0|h)!=(0|(f=p[i+4>>2]))&&(_?f>>>0<c>>>0||(f=(f>>>0)%(c>>>0)|0):f&=v,(0|f)!=(0|u)))break t;if(!(p[i+8>>2]!=(0|s)|p[i+12>>2]!=(0|a)|p[i+16>>2]!=(0|n))){t=0;break e}if(!(i=p[i>>2]))break}i=oo(24),p[i+16>>2]=p[r+8>>2],f=p[r+4>>2],p[i+8>>2]=p[r>>2],p[i+12>>2]=f,r=p[r+12>>2],p[i>>2]=0,p[i+4>>2]=h,p[i+20>>2]=r,d=A[t+16>>2],m=g(p[t+12>>2]+1>>>0),!c|!!(g(d*g(c>>>0))<m)?(function(e,t){var i,r=0,n=g(0);r=2;1!=(0|t)&&(r=t,t+-1&t&&(r=Vs(t)));if(i=p[e+4>>2],r>>>0>i>>>0)return void Pi(e,r);r>>>0>=i>>>0||(n=g(w(g(g(b[e+12>>2])/A[e+16>>2]))),t=n<g(4294967296)&n>=g(0)?~~n>>>0:0,t=i>>>0<3||Vo(i)>>>0>1?Vs(t):t>>>0<2?t:1<<32-x(t+-1|0),(t=r>>>0<t>>>0?t:r)>>>0>=i>>>0||Pi(e,t))}(r=t,(c=0!=(c+-1&c)|c>>>0<3|c<<1)>>>0<(u=(d=g(w(g(m/d))))<g(4294967296)&d>=g(0)?~~d>>>0:0)>>>0?u:c),(c=p[t+4>>2])&c+-1?h>>>0<c>>>0||(h=(h>>>0)%(c>>>0)|0):h&=c+-1):h=u,h=p[t>>2]+(h<<2)|0;t:{if(f=p[h>>2])p[i>>2]=p[f>>2];else{if(r=t+8|0,p[i>>2]=p[r>>2],p[r>>2]=i,p[h>>2]=r,!(r=p[i>>2]))break t;f=p[r+4>>2],(r=c+-1|0)&c?f>>>0<c>>>0||(f=(f>>>0)%(c>>>0)|0):f&=r,f=p[t>>2]+(f<<2)|0}p[f>>2]=i}p[(t=t+12|0)>>2]=p[t>>2]+1,t=1}l[o+4|0]=t,p[e>>2]=i}function wi(e,t,i,r){var n,a,s,o,c,f=0,h=0,u=0,d=0,_=g(0),m=0,v=g(0),y=0;u=(n=p[i+12>>2])^239+((a=p[i+8>>2])^239+((s=p[i+4>>2])^239+(318^(o=p[i>>2])))),c=e;e:{t:if((f=p[t+4>>2])&&(h=p[t>>2],d=f+-1&u,(m=Vo(f))>>>0<=1||(d=i=u,i>>>0<f>>>0||(d=(u>>>0)%(f>>>0)|0)),d=i=d,(i=p[(i<<2)+h>>2])&&(i=p[i>>2])))for(y=f+-1|0,m=m>>>0>1;;){if((0|u)!=(0|(h=p[i+4>>2]))&&(m?h>>>0<f>>>0||(h=(h>>>0)%(f>>>0)|0):h&=y,(0|h)!=(0|d)))break t;if(!(p[i+8>>2]!=(0|o)|p[i+12>>2]!=(0|s)|p[i+16>>2]!=(0|a)|p[i+20>>2]!=(0|n))){t=0;break e}if(!(i=p[i>>2]))break}i=oo(28),h=p[r+12>>2],p[i+16>>2]=p[r+8>>2],p[i+20>>2]=h,h=p[r+4>>2],p[i+8>>2]=p[r>>2],p[i+12>>2]=h,r=p[r+16>>2],p[i>>2]=0,p[i+4>>2]=u,p[i+24>>2]=r,_=A[t+16>>2],v=g(p[t+12>>2]+1>>>0),!f|!!(g(_*g(f>>>0))<v)?(function(e,t){var i,r=0,n=g(0);r=2;1!=(0|t)&&(r=t,t+-1&t&&(r=Vs(t)));if(i=p[e+4>>2],r>>>0>i>>>0)return void Ri(e,r);r>>>0>=i>>>0||(n=g(w(g(g(b[e+12>>2])/A[e+16>>2]))),t=n<g(4294967296)&n>=g(0)?~~n>>>0:0,t=i>>>0<3||Vo(i)>>>0>1?Vs(t):t>>>0<2?t:1<<32-x(t+-1|0),(t=r>>>0<t>>>0?t:r)>>>0>=i>>>0||Ri(e,t))}(r=t,(f=0!=(f+-1&f)|f>>>0<3|f<<1)>>>0<(d=(_=g(w(g(v/_))))<g(4294967296)&_>=g(0)?~~_>>>0:0)>>>0?d:f),(f=p[t+4>>2])&f+-1?u>>>0<f>>>0||(u=(u>>>0)%(f>>>0)|0):u&=f+-1):u=d,u=p[t>>2]+(u<<2)|0;t:{if(h=p[u>>2])p[i>>2]=p[h>>2];else{if(r=t+8|0,p[i>>2]=p[r>>2],p[r>>2]=i,p[u>>2]=r,!(r=p[i>>2]))break t;h=p[r+4>>2],(r=f+-1|0)&f?h>>>0<f>>>0||(h=(h>>>0)%(f>>>0)|0):h&=r,h=p[t>>2]+(h<<2)|0}p[h>>2]=i}p[(t=t+12|0)>>2]=p[t>>2]+1,t=1}l[c+4|0]=t,p[e>>2]=i}function Ei(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;e:{t:if(t){if(t>>>0>=1073741824)break e;for(i=oo(t<<2),r=p[e>>2],p[e>>2]=i,r&&Mo(r),p[e+4>>2]=t,i=0;p[p[e>>2]+(i<<2)>>2]=0,(0|(i=i+1|0))!=(0|t););if(!(a=p[(r=e+8|0)>>2]))break t;if(s=p[a+4>>2],(i=Vo(t))>>>0<=1?s&=t+-1:s>>>0<t>>>0||(s=(s>>>0)%(t>>>0)|0),p[p[e>>2]+(s<<2)>>2]=r,!(r=p[a>>2]))break t;for(c=t+-1|0,f=i>>>0>1;;){if(n=p[r+4>>2],f?n>>>0<t>>>0||(n=(n>>>0)%(t>>>0)|0):n&=c,(0|n)!=(0|s))if(i=r,l=(o=n<<2)+p[e>>2]|0,p[l>>2]){for(;n=i,i=p[i>>2],p[r+8>>2]==p[i+8>>2]&&i;);p[a>>2]=i,p[n>>2]=p[p[p[e>>2]+o>>2]>>2],p[p[p[e>>2]+o>>2]>>2]=r}else p[l>>2]=a,a=r,s=n;else a=r;if(!(r=p[a>>2]))break}}else t=p[e>>2],p[e>>2]=0,t&&Mo(t),p[e+4>>2]=0;return}Wt(1600),E()}function Mi(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;e:{t:if(t){if(t>>>0>=1073741824)break e;for(i=oo(t<<2),r=p[e>>2],p[e>>2]=i,r&&Mo(r),p[e+4>>2]=t,i=0;p[p[e>>2]+(i<<2)>>2]=0,(0|(i=i+1|0))!=(0|t););if(!(a=p[(r=e+8|0)>>2]))break t;if(s=p[a+4>>2],(i=Vo(t))>>>0<=1?s&=t+-1:s>>>0<t>>>0||(s=(s>>>0)%(t>>>0)|0),p[p[e>>2]+(s<<2)>>2]=r,!(r=p[a>>2]))break t;for(c=t+-1|0,f=i>>>0>1;;){if(n=p[r+4>>2],f?n>>>0<t>>>0||(n=(n>>>0)%(t>>>0)|0):n&=c,(0|n)!=(0|s))if(i=r,l=(o=n<<2)+p[e>>2]|0,p[l>>2]){for(;n=i,!(!(i=p[i>>2])|p[r+8>>2]!=p[i+8>>2]||p[r+12>>2]!=p[i+12>>2]););p[a>>2]=i,p[n>>2]=p[p[p[e>>2]+o>>2]>>2],p[p[p[e>>2]+o>>2]>>2]=r}else p[l>>2]=a,a=r,s=n;else a=r;if(!(r=p[a>>2]))break}}else t=p[e>>2],p[e>>2]=0,t&&Mo(t),p[e+4>>2]=0;return}Wt(1600),E()}function Pi(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;e:{t:if(t){if(t>>>0>=1073741824)break e;for(i=oo(t<<2),r=p[e>>2],p[e>>2]=i,r&&Mo(r),p[e+4>>2]=t,i=0;p[p[e>>2]+(i<<2)>>2]=0,(0|(i=i+1|0))!=(0|t););if(!(a=p[(r=e+8|0)>>2]))break t;if(s=p[a+4>>2],(i=Vo(t))>>>0<=1?s&=t+-1:s>>>0<t>>>0||(s=(s>>>0)%(t>>>0)|0),p[p[e>>2]+(s<<2)>>2]=r,!(r=p[a>>2]))break t;for(c=t+-1|0,f=i>>>0>1;;){if(n=p[r+4>>2],f?n>>>0<t>>>0||(n=(n>>>0)%(t>>>0)|0):n&=c,(0|n)!=(0|s))if(i=r,l=(o=n<<2)+p[e>>2]|0,p[l>>2]){for(;n=i,!(!(i=p[i>>2])|p[r+8>>2]!=p[i+8>>2]|p[r+12>>2]!=p[i+12>>2]||p[r+16>>2]!=p[i+16>>2]););p[a>>2]=i,p[n>>2]=p[p[p[e>>2]+o>>2]>>2],p[p[p[e>>2]+o>>2]>>2]=r}else p[l>>2]=a,a=r,s=n;else a=r;if(!(r=p[a>>2]))break}}else t=p[e>>2],p[e>>2]=0,t&&Mo(t),p[e+4>>2]=0;return}Wt(1600),E()}function Ri(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;e:{t:if(t){if(t>>>0>=1073741824)break e;for(i=oo(t<<2),r=p[e>>2],p[e>>2]=i,r&&Mo(r),p[e+4>>2]=t,i=0;p[p[e>>2]+(i<<2)>>2]=0,(0|(i=i+1|0))!=(0|t););if(!(a=p[(r=e+8|0)>>2]))break t;if(s=p[a+4>>2],(i=Vo(t))>>>0<=1?s&=t+-1:s>>>0<t>>>0||(s=(s>>>0)%(t>>>0)|0),p[p[e>>2]+(s<<2)>>2]=r,!(r=p[a>>2]))break t;for(c=t+-1|0,f=i>>>0>1;;){if(n=p[r+4>>2],f?n>>>0<t>>>0||(n=(n>>>0)%(t>>>0)|0):n&=c,(0|n)!=(0|s))if(i=r,l=(o=n<<2)+p[e>>2]|0,p[l>>2]){for(;n=i,!(!(i=p[i>>2])|p[r+8>>2]!=p[i+8>>2]|p[r+12>>2]!=p[i+12>>2]|p[r+16>>2]!=p[i+16>>2]||p[r+20>>2]!=p[i+20>>2]););p[a>>2]=i,p[n>>2]=p[p[p[e>>2]+o>>2]>>2],p[p[p[e>>2]+o>>2]>>2]=r}else p[l>>2]=a,a=r,s=n;else a=r;if(!(r=p[a>>2]))break}}else t=p[e>>2],p[e>>2]=0,t&&Mo(t),p[e+4>>2]=0;return}Wt(1600),E()}function Ci(e,t,i,r){var n,a,s=0,o=0,c=0,f=0,h=g(0),u=0,d=g(0),m=0;c=318^(n=_[0|i]),a=e;e:{t:if((s=p[t+4>>2])&&(o=p[t>>2],f=s+-1&c,(u=Vo(s))>>>0<=1||(f=i=c,i>>>0<s>>>0||(f=(c>>>0)%(s>>>0)|0)),f=i=f,i=p[(i<<2)+o>>2])){for(m=s+-1|0,u=u>>>0>1;;){if(!(i=p[i>>2]))break t;if((0|c)!=(0|(o=p[i+4>>2]))&&(u?o>>>0<s>>>0||(o=(o>>>0)%(s>>>0)|0):o&=m,(0|o)!=(0|f)))break t;if(_[i+8|0]==(0|n))break}t=0;break e}i=oo(16),l[i+8|0]=_[0|r],r=p[r+4>>2],p[i+4>>2]=c,p[i+12>>2]=r,p[i>>2]=0,h=A[t+16>>2],d=g(p[t+12>>2]+1>>>0),!s|!!(g(h*g(s>>>0))<d)?(function(e,t){var i,r=0,n=g(0);r=2;1!=(0|t)&&(r=t,t+-1&t&&(r=Vs(t)));if(i=p[e+4>>2],r>>>0>i>>>0)return void Fi(e,r);r>>>0>=i>>>0||(n=g(w(g(g(b[e+12>>2])/A[e+16>>2]))),t=n<g(4294967296)&n>=g(0)?~~n>>>0:0,t=i>>>0<3||Vo(i)>>>0>1?Vs(t):t>>>0<2?t:1<<32-x(t+-1|0),(t=r>>>0<t>>>0?t:r)>>>0>=i>>>0||Fi(e,t))}(r=t,(s=0!=(s+-1&s)|s>>>0<3|s<<1)>>>0<(f=(h=g(w(g(d/h))))<g(4294967296)&h>=g(0)?~~h>>>0:0)>>>0?f:s),(s=p[t+4>>2])&s+-1?c>>>0<s>>>0||(c=(c>>>0)%(s>>>0)|0):c&=s+-1):c=f,c=p[t>>2]+(c<<2)|0;t:{if(o=p[c>>2])p[i>>2]=p[o>>2];else{if(r=t+8|0,p[i>>2]=p[r>>2],p[r>>2]=i,p[c>>2]=r,!(r=p[i>>2]))break t;o=p[r+4>>2],(r=s+-1|0)&s?o>>>0<s>>>0||(o=(o>>>0)%(s>>>0)|0):o&=r,o=p[t>>2]+(o<<2)|0}p[o>>2]=i}p[(t=t+12|0)>>2]=p[t>>2]+1,t=1}l[a+4|0]=t,p[e>>2]=i}function Oi(e,t,i,r){var n,a,s,o=0,c=0,f=0,h=0,u=g(0),m=0,v=g(0),y=0;f=(n=_[i+1|0])^239+(318^(a=_[0|i])),s=e;e:{t:if((o=p[t+4>>2])&&(c=p[t>>2],h=o+1023&f,(m=Vo(o))>>>0<=1||(h=i=f,i>>>0<o>>>0||(h=(f>>>0)%(o>>>0)|0)),h=i=h,i=p[(i<<2)+c>>2])){for(y=o+-1|0,m=m>>>0>1;;){if(!(i=p[i>>2]))break t;if((0|f)!=(0|(c=p[i+4>>2]))&&(m?c>>>0<o>>>0||(c=(c>>>0)%(o>>>0)|0):c&=y,(0|c)!=(0|h)))break t;if(!(_[i+8|0]!=(0|a)|_[i+9|0]!=(0|n)))break}t=0;break e}i=oo(16),d[i+8>>1]=_[0|r]|_[r+1|0]<<8,r=p[r+4>>2],p[i+4>>2]=f,p[i+12>>2]=r,p[i>>2]=0,u=A[t+16>>2],v=g(p[t+12>>2]+1>>>0),!o|!!(g(u*g(o>>>0))<v)?(function(e,t){var i,r=0,n=g(0);r=2;1!=(0|t)&&(r=t,t+-1&t&&(r=Vs(t)));if(i=p[e+4>>2],r>>>0>i>>>0)return void Ni(e,r);r>>>0>=i>>>0||(n=g(w(g(g(b[e+12>>2])/A[e+16>>2]))),t=n<g(4294967296)&n>=g(0)?~~n>>>0:0,t=i>>>0<3||Vo(i)>>>0>1?Vs(t):t>>>0<2?t:1<<32-x(t+-1|0),(t=r>>>0<t>>>0?t:r)>>>0>=i>>>0||Ni(e,t))}(r=t,(o=0!=(o+-1&o)|o>>>0<3|o<<1)>>>0<(h=(u=g(w(g(v/u))))<g(4294967296)&u>=g(0)?~~u>>>0:0)>>>0?h:o),(o=p[t+4>>2])&o+-1?f>>>0<o>>>0||(f=(f>>>0)%(o>>>0)|0):f&=o+-1):f=h,f=p[t>>2]+(f<<2)|0;t:{if(c=p[f>>2])p[i>>2]=p[c>>2];else{if(r=t+8|0,p[i>>2]=p[r>>2],p[r>>2]=i,p[f>>2]=r,!(r=p[i>>2]))break t;c=p[r+4>>2],(r=o+-1|0)&o?c>>>0<o>>>0||(c=(c>>>0)%(o>>>0)|0):c&=r,c=p[t>>2]+(c<<2)|0}p[c>>2]=i}p[(t=t+12|0)>>2]=p[t>>2]+1,t=1}l[s+4|0]=t,p[e>>2]=i}function Ii(e,t,i,r){var n,a,s,o,c=0,f=0,h=0,u=0,d=g(0),m=0,v=g(0),y=0;h=(n=_[i+2|0])^239+((a=_[i+1|0])^239+(318^(s=_[0|i]))),o=e;e:{t:if((c=p[t+4>>2])&&(f=p[t>>2],u=c+-1&h,(m=Vo(c))>>>0<=1||(u=i=h,i>>>0<c>>>0||(u=(h>>>0)%(c>>>0)|0)),u=i=u,(i=p[(i<<2)+f>>2])&&(i=p[i>>2])))for(y=c+-1|0,m=m>>>0>1;;){if((0|h)!=(0|(f=p[i+4>>2]))&&(m?f>>>0<c>>>0||(f=(f>>>0)%(c>>>0)|0):f&=y,(0|f)!=(0|u)))break t;if(!(_[i+8|0]!=(0|s)|_[i+9|0]!=(0|a)|_[i+10|0]!=(0|n))){t=0;break e}if(!(i=p[i>>2]))break}i=oo(16),l[i+10|0]=_[r+2|0],f=_[0|r]|_[r+1|0]<<8,l[i+8|0]=f,l[i+9|0]=f>>>8,r=p[r+4>>2],p[i>>2]=0,p[i+4>>2]=h,p[i+12>>2]=r,d=A[t+16>>2],v=g(p[t+12>>2]+1>>>0),!c|!!(g(d*g(c>>>0))<v)?(function(e,t){var i,r=0,n=g(0);r=2;1!=(0|t)&&(r=t,t+-1&t&&(r=Vs(t)));if(i=p[e+4>>2],r>>>0>i>>>0)return void Bi(e,r);r>>>0>=i>>>0||(n=g(w(g(g(b[e+12>>2])/A[e+16>>2]))),t=n<g(4294967296)&n>=g(0)?~~n>>>0:0,t=i>>>0<3||Vo(i)>>>0>1?Vs(t):t>>>0<2?t:1<<32-x(t+-1|0),(t=r>>>0<t>>>0?t:r)>>>0>=i>>>0||Bi(e,t))}(r=t,(c=0!=(c+-1&c)|c>>>0<3|c<<1)>>>0<(u=(d=g(w(g(v/d))))<g(4294967296)&d>=g(0)?~~d>>>0:0)>>>0?u:c),(c=p[t+4>>2])&c+-1?h>>>0<c>>>0||(h=(h>>>0)%(c>>>0)|0):h&=c+-1):h=u,h=p[t>>2]+(h<<2)|0;t:{if(f=p[h>>2])p[i>>2]=p[f>>2];else{if(r=t+8|0,p[i>>2]=p[r>>2],p[r>>2]=i,p[h>>2]=r,!(r=p[i>>2]))break t;f=p[r+4>>2],(r=c+-1|0)&c?f>>>0<c>>>0||(f=(f>>>0)%(c>>>0)|0):f&=r,f=p[t>>2]+(f<<2)|0}p[f>>2]=i}p[(t=t+12|0)>>2]=p[t>>2]+1,t=1}l[o+4|0]=t,p[e>>2]=i}function Di(e,t,i,r){var n,a,s,o,c,f=0,h=0,u=0,d=0,m=g(0),v=0,y=g(0),k=0;u=(n=_[i+3|0])^239+((a=_[i+2|0])^239+((s=_[i+1|0])^239+(318^(o=_[0|i])))),c=e;e:{t:if((f=p[t+4>>2])&&(h=p[t>>2],d=f+-1&u,(v=Vo(f))>>>0<=1||(d=i=u,i>>>0<f>>>0||(d=(u>>>0)%(f>>>0)|0)),d=i=d,(i=p[(i<<2)+h>>2])&&(i=p[i>>2])))for(k=f+-1|0,v=v>>>0>1;;){if((0|u)!=(0|(h=p[i+4>>2]))&&(v?h>>>0<f>>>0||(h=(h>>>0)%(f>>>0)|0):h&=k,(0|h)!=(0|d)))break t;if(!(_[i+8|0]!=(0|o)|_[i+9|0]!=(0|s)|_[i+10|0]!=(0|a)|_[i+11|0]!=(0|n))){t=0;break e}if(!(i=p[i>>2]))break}i=oo(16),p[i+8>>2]=_[0|r]|_[r+1|0]<<8|_[r+2|0]<<16|_[r+3|0]<<24,r=p[r+4>>2],p[i+4>>2]=u,p[i+12>>2]=r,p[i>>2]=0,m=A[t+16>>2],y=g(p[t+12>>2]+1>>>0),!f|!!(g(m*g(f>>>0))<y)?(function(e,t){var i,r=0,n=g(0);r=2;1!=(0|t)&&(r=t,t+-1&t&&(r=Vs(t)));if(i=p[e+4>>2],r>>>0>i>>>0)return void Li(e,r);r>>>0>=i>>>0||(n=g(w(g(g(b[e+12>>2])/A[e+16>>2]))),t=n<g(4294967296)&n>=g(0)?~~n>>>0:0,t=i>>>0<3||Vo(i)>>>0>1?Vs(t):t>>>0<2?t:1<<32-x(t+-1|0),(t=r>>>0<t>>>0?t:r)>>>0>=i>>>0||Li(e,t))}(r=t,(f=0!=(f+-1&f)|f>>>0<3|f<<1)>>>0<(d=(m=g(w(g(y/m))))<g(4294967296)&m>=g(0)?~~m>>>0:0)>>>0?d:f),(f=p[t+4>>2])&f+-1?u>>>0<f>>>0||(u=(u>>>0)%(f>>>0)|0):u&=f+-1):u=d,u=p[t>>2]+(u<<2)|0;t:{if(h=p[u>>2])p[i>>2]=p[h>>2];else{if(r=t+8|0,p[i>>2]=p[r>>2],p[r>>2]=i,p[u>>2]=r,!(r=p[i>>2]))break t;h=p[r+4>>2],(r=f+-1|0)&f?h>>>0<f>>>0||(h=(h>>>0)%(f>>>0)|0):h&=r,h=p[t>>2]+(h<<2)|0}p[h>>2]=i}p[(t=t+12|0)>>2]=p[t>>2]+1,t=1}l[c+4|0]=t,p[e>>2]=i}function Fi(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;e:{t:if(t){if(t>>>0>=1073741824)break e;for(i=oo(t<<2),r=p[e>>2],p[e>>2]=i,r&&Mo(r),p[e+4>>2]=t,i=0;p[p[e>>2]+(i<<2)>>2]=0,(0|(i=i+1|0))!=(0|t););if(!(a=p[(r=e+8|0)>>2]))break t;if(s=p[a+4>>2],(i=Vo(t))>>>0<=1?s&=t+-1:s>>>0<t>>>0||(s=(s>>>0)%(t>>>0)|0),p[p[e>>2]+(s<<2)>>2]=r,!(r=p[a>>2]))break t;for(c=t+-1|0,f=i>>>0>1;;){if(n=p[r+4>>2],f?n>>>0<t>>>0||(n=(n>>>0)%(t>>>0)|0):n&=c,(0|n)!=(0|s))if(i=r,l=(o=n<<2)+p[e>>2]|0,p[l>>2]){for(;n=i,i=p[i>>2],_[r+8|0]==_[i+8|0]&&i;);p[a>>2]=i,p[n>>2]=p[p[p[e>>2]+o>>2]>>2],p[p[p[e>>2]+o>>2]>>2]=r}else p[l>>2]=a,a=r,s=n;else a=r;if(!(r=p[a>>2]))break}}else t=p[e>>2],p[e>>2]=0,t&&Mo(t),p[e+4>>2]=0;return}Wt(1600),E()}function Ni(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;e:{t:if(t){if(t>>>0>=1073741824)break e;for(i=oo(t<<2),r=p[e>>2],p[e>>2]=i,r&&Mo(r),p[e+4>>2]=t,i=0;p[p[e>>2]+(i<<2)>>2]=0,(0|(i=i+1|0))!=(0|t););if(!(a=p[(r=e+8|0)>>2]))break t;if(s=p[a+4>>2],(i=Vo(t))>>>0<=1?s&=t+-1:s>>>0<t>>>0||(s=(s>>>0)%(t>>>0)|0),p[p[e>>2]+(s<<2)>>2]=r,!(r=p[a>>2]))break t;for(c=t+-1|0,f=i>>>0>1;;){if(n=p[r+4>>2],f?n>>>0<t>>>0||(n=(n>>>0)%(t>>>0)|0):n&=c,(0|n)!=(0|s))if(i=r,l=(o=n<<2)+p[e>>2]|0,p[l>>2]){for(;n=i,!(!(i=p[i>>2])|_[r+8|0]!=_[i+8|0]||_[r+9|0]!=_[i+9|0]););p[a>>2]=i,p[n>>2]=p[p[p[e>>2]+o>>2]>>2],p[p[p[e>>2]+o>>2]>>2]=r}else p[l>>2]=a,a=r,s=n;else a=r;if(!(r=p[a>>2]))break}}else t=p[e>>2],p[e>>2]=0,t&&Mo(t),p[e+4>>2]=0;return}Wt(1600),E()}function Bi(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;e:{t:if(t){if(t>>>0>=1073741824)break e;for(i=oo(t<<2),r=p[e>>2],p[e>>2]=i,r&&Mo(r),p[e+4>>2]=t,i=0;p[p[e>>2]+(i<<2)>>2]=0,(0|(i=i+1|0))!=(0|t););if(!(a=p[(r=e+8|0)>>2]))break t;if(s=p[a+4>>2],(i=Vo(t))>>>0<=1?s&=t+-1:s>>>0<t>>>0||(s=(s>>>0)%(t>>>0)|0),p[p[e>>2]+(s<<2)>>2]=r,!(r=p[a>>2]))break t;for(c=t+-1|0,f=i>>>0>1;;){if(n=p[r+4>>2],f?n>>>0<t>>>0||(n=(n>>>0)%(t>>>0)|0):n&=c,(0|n)!=(0|s))if(i=r,l=(o=n<<2)+p[e>>2]|0,p[l>>2]){for(;n=i,!(!(i=p[i>>2])|_[r+8|0]!=_[i+8|0]|_[r+9|0]!=_[i+9|0]||_[r+10|0]!=_[i+10|0]););p[a>>2]=i,p[n>>2]=p[p[p[e>>2]+o>>2]>>2],p[p[p[e>>2]+o>>2]>>2]=r}else p[l>>2]=a,a=r,s=n;else a=r;if(!(r=p[a>>2]))break}}else t=p[e>>2],p[e>>2]=0,t&&Mo(t),p[e+4>>2]=0;return}Wt(1600),E()}function Li(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;e:{t:if(t){if(t>>>0>=1073741824)break e;for(i=oo(t<<2),r=p[e>>2],p[e>>2]=i,r&&Mo(r),p[e+4>>2]=t,i=0;p[p[e>>2]+(i<<2)>>2]=0,(0|(i=i+1|0))!=(0|t););if(!(a=p[(r=e+8|0)>>2]))break t;if(s=p[a+4>>2],(i=Vo(t))>>>0<=1?s&=t+-1:s>>>0<t>>>0||(s=(s>>>0)%(t>>>0)|0),p[p[e>>2]+(s<<2)>>2]=r,!(r=p[a>>2]))break t;for(c=t+-1|0,f=i>>>0>1;;){if(n=p[r+4>>2],f?n>>>0<t>>>0||(n=(n>>>0)%(t>>>0)|0):n&=c,(0|n)!=(0|s))if(i=r,l=(o=n<<2)+p[e>>2]|0,p[l>>2]){for(;n=i,!(!(i=p[i>>2])|_[r+8|0]!=_[i+8|0]|_[r+9|0]!=_[i+9|0]|_[r+10|0]!=_[i+10|0]||_[r+11|0]!=_[i+11|0]););p[a>>2]=i,p[n>>2]=p[p[p[e>>2]+o>>2]>>2],p[p[p[e>>2]+o>>2]>>2]=r}else p[l>>2]=a,a=r,s=n;else a=r;if(!(r=p[a>>2]))break}}else t=p[e>>2],p[e>>2]=0,t&&Mo(t),p[e+4>>2]=0;return}Wt(1600),E()}function Ui(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=g(0),h=0,u=0,_=g(0),v=0;o=318^(h=m[i>>1]),n=e;e:{t:if((a=p[t+4>>2])&&(s=p[t>>2],c=a+-1&o,(u=Vo(a))>>>0<=1||(c=i=o,a>>>0>i>>>0||(c=(o>>>0)%(a>>>0)|0)),c=i=c,i=p[(i<<2)+s>>2])){for(v=a+-1|0,u=u>>>0>1;;){if(!(i=p[i>>2]))break t;if((0|o)!=(0|(s=p[i+4>>2]))&&(u?s>>>0<a>>>0||(s=(s>>>0)%(a>>>0)|0):s&=v,(0|s)!=(0|c)))break t;if(m[i+8>>1]==(0|h))break}t=0;break e}i=oo(16),d[i+8>>1]=m[r>>1],r=p[r+4>>2],p[i+4>>2]=o,p[i+12>>2]=r,p[i>>2]=0,f=A[t+16>>2],_=g(p[t+12>>2]+1>>>0),!a|!!(g(f*g(a>>>0))<_)?(function(e,t){var i,r=0,n=g(0);r=2;1!=(0|t)&&(r=t,t+-1&t&&(r=Vs(t)));if(i=p[e+4>>2],r>>>0>i>>>0)return void Wi(e,r);r>>>0>=i>>>0||(n=g(w(g(g(b[e+12>>2])/A[e+16>>2]))),t=n<g(4294967296)&n>=g(0)?~~n>>>0:0,t=i>>>0<3||Vo(i)>>>0>1?Vs(t):t>>>0<2?t:1<<32-x(t+-1|0),(t=r>>>0<t>>>0?t:r)>>>0>=i>>>0||Wi(e,t))}(r=t,(h=0!=(a+-1&a)|a>>>0<3|a<<1)>>>0<(c=(f=g(w(g(_/f))))<g(4294967296)&f>=g(0)?~~f>>>0:0)>>>0?c:h),(a=p[t+4>>2])&a+-1?a>>>0>o>>>0||(o=(o>>>0)%(a>>>0)|0):o&=a+-1):o=c,o=p[t>>2]+(o<<2)|0;t:{if(s=p[o>>2])p[i>>2]=p[s>>2];else{if(r=t+8|0,p[i>>2]=p[r>>2],p[r>>2]=i,p[o>>2]=r,!(r=p[i>>2]))break t;s=p[r+4>>2],(r=a+-1|0)&a?s>>>0<a>>>0||(s=(s>>>0)%(a>>>0)|0):s&=r,s=p[t>>2]+(s<<2)|0}p[s>>2]=i}p[(t=t+12|0)>>2]=p[t>>2]+1,t=1}l[n+4|0]=t,p[e>>2]=i}function Vi(e,t,i,r){var n,a,s=0,o=0,c=0,f=0,h=g(0),u=0,d=0,_=g(0),v=0;c=(n=m[i+2>>1])^239+(318^(u=m[i>>1])),a=e;e:{t:if((s=p[t+4>>2])&&(o=p[t>>2],f=s+131071&c,(d=Vo(s))>>>0<=1||(f=i=c,i>>>0<s>>>0||(f=(c>>>0)%(s>>>0)|0)),f=i=f,i=p[(i<<2)+o>>2])){for(v=s+-1|0,d=d>>>0>1;;){if(!(i=p[i>>2]))break t;if((0|c)!=(0|(o=p[i+4>>2]))&&(d?o>>>0<s>>>0||(o=(o>>>0)%(s>>>0)|0):o&=v,(0|o)!=(0|f)))break t;if(!(m[i+8>>1]!=(0|u)|m[i+10>>1]!=(0|n)))break}t=0;break e}i=oo(16),p[i+8>>2]=m[r>>1]|m[r+2>>1]<<16,r=p[r+4>>2],p[i+4>>2]=c,p[i+12>>2]=r,p[i>>2]=0,h=A[t+16>>2],_=g(p[t+12>>2]+1>>>0),!s|!!(g(h*g(s>>>0))<_)?(function(e,t){var i,r=0,n=g(0);r=2;1!=(0|t)&&(r=t,t+-1&t&&(r=Vs(t)));if(i=p[e+4>>2],r>>>0>i>>>0)return void Gi(e,r);r>>>0>=i>>>0||(n=g(w(g(g(b[e+12>>2])/A[e+16>>2]))),t=n<g(4294967296)&n>=g(0)?~~n>>>0:0,t=i>>>0<3||Vo(i)>>>0>1?Vs(t):t>>>0<2?t:1<<32-x(t+-1|0),(t=r>>>0<t>>>0?t:r)>>>0>=i>>>0||Gi(e,t))}(r=t,(u=0!=(s+-1&s)|s>>>0<3|s<<1)>>>0<(f=(h=g(w(g(_/h))))<g(4294967296)&h>=g(0)?~~h>>>0:0)>>>0?f:u),(s=p[t+4>>2])&s+-1?c>>>0<s>>>0||(c=(c>>>0)%(s>>>0)|0):c&=s+-1):c=f,c=p[t>>2]+(c<<2)|0;t:{if(o=p[c>>2])p[i>>2]=p[o>>2];else{if(r=t+8|0,p[i>>2]=p[r>>2],p[r>>2]=i,p[c>>2]=r,!(r=p[i>>2]))break t;o=p[r+4>>2],(r=s+-1|0)&s?o>>>0<s>>>0||(o=(o>>>0)%(s>>>0)|0):o&=r,o=p[t>>2]+(o<<2)|0}p[o>>2]=i}p[(t=t+12|0)>>2]=p[t>>2]+1,t=1}l[a+4|0]=t,p[e>>2]=i}function zi(e,t,i,r){var n,a,s,o=0,c=0,f=0,h=0,u=0,_=g(0),v=0,y=g(0),k=0;f=(n=m[i+4>>1])^239+((a=m[i+2>>1])^239+(318^(u=m[i>>1]))),s=e;e:{t:if((o=p[t+4>>2])&&(c=p[t>>2],h=o+262143&f,(v=Vo(o))>>>0<=1||(h=i=f,i>>>0<o>>>0||(h=(f>>>0)%(o>>>0)|0)),h=i=h,(i=p[(i<<2)+c>>2])&&(i=p[i>>2])))for(k=o+-1|0,v=v>>>0>1;;){if((0|f)!=(0|(c=p[i+4>>2]))&&(v?c>>>0<o>>>0||(c=(c>>>0)%(o>>>0)|0):c&=k,(0|c)!=(0|h)))break t;if(!(m[i+8>>1]!=(0|u)|m[i+10>>1]!=(0|a)|m[i+12>>1]!=(0|n))){t=0;break e}if(!(i=p[i>>2]))break}i=oo(20),d[i+12>>1]=m[r+4>>1],u=m[r>>1]|m[r+2>>1]<<16,d[i+8>>1]=u,d[i+10>>1]=u>>>16,r=p[r+8>>2],p[i>>2]=0,p[i+4>>2]=f,p[i+16>>2]=r,_=A[t+16>>2],y=g(p[t+12>>2]+1>>>0),!o|!!(g(_*g(o>>>0))<y)?(function(e,t){var i,r=0,n=g(0);r=2;1!=(0|t)&&(r=t,t+-1&t&&(r=Vs(t)));if(i=p[e+4>>2],r>>>0>i>>>0)return void Hi(e,r);r>>>0>=i>>>0||(n=g(w(g(g(b[e+12>>2])/A[e+16>>2]))),t=n<g(4294967296)&n>=g(0)?~~n>>>0:0,t=i>>>0<3||Vo(i)>>>0>1?Vs(t):t>>>0<2?t:1<<32-x(t+-1|0),(t=r>>>0<t>>>0?t:r)>>>0>=i>>>0||Hi(e,t))}(r=t,(u=0!=(o+-1&o)|o>>>0<3|o<<1)>>>0<(h=(_=g(w(g(y/_))))<g(4294967296)&_>=g(0)?~~_>>>0:0)>>>0?h:u),(o=p[t+4>>2])&o+-1?f>>>0<o>>>0||(f=(f>>>0)%(o>>>0)|0):f&=o+-1):f=h,f=p[t>>2]+(f<<2)|0;t:{if(c=p[f>>2])p[i>>2]=p[c>>2];else{if(r=t+8|0,p[i>>2]=p[r>>2],p[r>>2]=i,p[f>>2]=r,!(r=p[i>>2]))break t;c=p[r+4>>2],(r=o+-1|0)&o?c>>>0<o>>>0||(c=(c>>>0)%(o>>>0)|0):c&=r,c=p[t>>2]+(c<<2)|0}p[c>>2]=i}p[(t=t+12|0)>>2]=p[t>>2]+1,t=1}l[s+4|0]=t,p[e>>2]=i}function ji(e,t,i,r){var n,a,s,o,c=0,f=0,h=0,u=0,d=0,_=g(0),v=0,y=g(0),k=0;h=(n=m[i+6>>1])^239+((a=m[i+4>>1])^239+((s=m[i+2>>1])^239+(318^(d=m[i>>1])))),o=e;e:{t:if((c=p[t+4>>2])&&(f=p[t>>2],u=c+-1&h,(v=Vo(c))>>>0<=1||(u=i=h,i>>>0<c>>>0||(u=(h>>>0)%(c>>>0)|0)),u=i=u,(i=p[(i<<2)+f>>2])&&(i=p[i>>2])))for(k=c+-1|0,v=v>>>0>1;;){if((0|h)!=(0|(f=p[i+4>>2]))&&(v?f>>>0<c>>>0||(f=(f>>>0)%(c>>>0)|0):f&=k,(0|f)!=(0|u)))break t;if(!(m[i+8>>1]!=(0|d)|m[i+10>>1]!=(0|s)|m[i+12>>1]!=(0|a)|m[i+14>>1]!=(0|n))){t=0;break e}if(!(i=p[i>>2]))break}i=oo(20),d=m[r+4>>1]|m[r+6>>1]<<16,p[i+8>>2]=m[r>>1]|m[r+2>>1]<<16,p[i+12>>2]=d,r=p[r+8>>2],p[i+4>>2]=h,p[i+16>>2]=r,p[i>>2]=0,_=A[t+16>>2],y=g(p[t+12>>2]+1>>>0),!c|!!(g(_*g(c>>>0))<y)?(function(e,t){var i,r=0,n=g(0);r=2;1!=(0|t)&&(r=t,t+-1&t&&(r=Vs(t)));if(i=p[e+4>>2],r>>>0>i>>>0)return void Yi(e,r);r>>>0>=i>>>0||(n=g(w(g(g(b[e+12>>2])/A[e+16>>2]))),t=n<g(4294967296)&n>=g(0)?~~n>>>0:0,t=i>>>0<3||Vo(i)>>>0>1?Vs(t):t>>>0<2?t:1<<32-x(t+-1|0),(t=r>>>0<t>>>0?t:r)>>>0>=i>>>0||Yi(e,t))}(r=t,(d=0!=(c+-1&c)|c>>>0<3|c<<1)>>>0<(u=(_=g(w(g(y/_))))<g(4294967296)&_>=g(0)?~~_>>>0:0)>>>0?u:d),(c=p[t+4>>2])&c+-1?h>>>0<c>>>0||(h=(h>>>0)%(c>>>0)|0):h&=c+-1):h=u,h=p[t>>2]+(h<<2)|0;t:{if(f=p[h>>2])p[i>>2]=p[f>>2];else{if(r=t+8|0,p[i>>2]=p[r>>2],p[r>>2]=i,p[h>>2]=r,!(r=p[i>>2]))break t;f=p[r+4>>2],(r=c+-1|0)&c?f>>>0<c>>>0||(f=(f>>>0)%(c>>>0)|0):f&=r,f=p[t>>2]+(f<<2)|0}p[f>>2]=i}p[(t=t+12|0)>>2]=p[t>>2]+1,t=1}l[o+4|0]=t,p[e>>2]=i}function Wi(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;e:{t:if(t){if(t>>>0>=1073741824)break e;for(i=oo(t<<2),r=p[e>>2],p[e>>2]=i,r&&Mo(r),p[e+4>>2]=t,i=0;p[p[e>>2]+(i<<2)>>2]=0,(0|(i=i+1|0))!=(0|t););if(!(a=p[(r=e+8|0)>>2]))break t;if(s=p[a+4>>2],(i=Vo(t))>>>0<=1?s&=t+-1:s>>>0<t>>>0||(s=(s>>>0)%(t>>>0)|0),p[p[e>>2]+(s<<2)>>2]=r,!(r=p[a>>2]))break t;for(c=t+-1|0,f=i>>>0>1;;){if(n=p[r+4>>2],f?n>>>0<t>>>0||(n=(n>>>0)%(t>>>0)|0):n&=c,(0|n)!=(0|s))if(i=r,l=(o=n<<2)+p[e>>2]|0,p[l>>2]){for(;n=i,i=p[i>>2],m[r+8>>1]==m[i+8>>1]&&i;);p[a>>2]=i,p[n>>2]=p[p[p[e>>2]+o>>2]>>2],p[p[p[e>>2]+o>>2]>>2]=r}else p[l>>2]=a,a=r,s=n;else a=r;if(!(r=p[a>>2]))break}}else t=p[e>>2],p[e>>2]=0,t&&Mo(t),p[e+4>>2]=0;return}Wt(1600),E()}function Gi(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;e:{t:if(t){if(t>>>0>=1073741824)break e;for(i=oo(t<<2),r=p[e>>2],p[e>>2]=i,r&&Mo(r),p[e+4>>2]=t,i=0;p[p[e>>2]+(i<<2)>>2]=0,(0|(i=i+1|0))!=(0|t););if(!(a=p[(r=e+8|0)>>2]))break t;if(s=p[a+4>>2],(i=Vo(t))>>>0<=1?s&=t+-1:s>>>0<t>>>0||(s=(s>>>0)%(t>>>0)|0),p[p[e>>2]+(s<<2)>>2]=r,!(r=p[a>>2]))break t;for(c=t+-1|0,f=i>>>0>1;;){if(n=p[r+4>>2],f?n>>>0<t>>>0||(n=(n>>>0)%(t>>>0)|0):n&=c,(0|n)!=(0|s))if(i=r,l=(o=n<<2)+p[e>>2]|0,p[l>>2]){for(;n=i,!(!(i=p[i>>2])|m[r+8>>1]!=m[i+8>>1]||m[r+10>>1]!=m[i+10>>1]););p[a>>2]=i,p[n>>2]=p[p[p[e>>2]+o>>2]>>2],p[p[p[e>>2]+o>>2]>>2]=r}else p[l>>2]=a,a=r,s=n;else a=r;if(!(r=p[a>>2]))break}}else t=p[e>>2],p[e>>2]=0,t&&Mo(t),p[e+4>>2]=0;return}Wt(1600),E()}function Hi(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;e:{t:if(t){if(t>>>0>=1073741824)break e;for(i=oo(t<<2),r=p[e>>2],p[e>>2]=i,r&&Mo(r),p[e+4>>2]=t,i=0;p[p[e>>2]+(i<<2)>>2]=0,(0|(i=i+1|0))!=(0|t););if(!(a=p[(r=e+8|0)>>2]))break t;if(s=p[a+4>>2],(i=Vo(t))>>>0<=1?s&=t+-1:s>>>0<t>>>0||(s=(s>>>0)%(t>>>0)|0),p[p[e>>2]+(s<<2)>>2]=r,!(r=p[a>>2]))break t;for(c=t+-1|0,f=i>>>0>1;;){if(n=p[r+4>>2],f?n>>>0<t>>>0||(n=(n>>>0)%(t>>>0)|0):n&=c,(0|n)!=(0|s))if(i=r,l=(o=n<<2)+p[e>>2]|0,p[l>>2]){for(;n=i,!(!(i=p[i>>2])|m[r+8>>1]!=m[i+8>>1]|m[r+10>>1]!=m[i+10>>1]||m[r+12>>1]!=m[i+12>>1]););p[a>>2]=i,p[n>>2]=p[p[p[e>>2]+o>>2]>>2],p[p[p[e>>2]+o>>2]>>2]=r}else p[l>>2]=a,a=r,s=n;else a=r;if(!(r=p[a>>2]))break}}else t=p[e>>2],p[e>>2]=0,t&&Mo(t),p[e+4>>2]=0;return}Wt(1600),E()}function Yi(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;e:{t:if(t){if(t>>>0>=1073741824)break e;for(i=oo(t<<2),r=p[e>>2],p[e>>2]=i,r&&Mo(r),p[e+4>>2]=t,i=0;p[p[e>>2]+(i<<2)>>2]=0,(0|(i=i+1|0))!=(0|t););if(!(a=p[(r=e+8|0)>>2]))break t;if(s=p[a+4>>2],(i=Vo(t))>>>0<=1?s&=t+-1:s>>>0<t>>>0||(s=(s>>>0)%(t>>>0)|0),p[p[e>>2]+(s<<2)>>2]=r,!(r=p[a>>2]))break t;for(c=t+-1|0,f=i>>>0>1;;){if(n=p[r+4>>2],f?n>>>0<t>>>0||(n=(n>>>0)%(t>>>0)|0):n&=c,(0|n)!=(0|s))if(i=r,l=(o=n<<2)+p[e>>2]|0,p[l>>2]){for(;n=i,!(!(i=p[i>>2])|m[r+8>>1]!=m[i+8>>1]|m[r+10>>1]!=m[i+10>>1]|m[r+12>>1]!=m[i+12>>1]||m[r+14>>1]!=m[i+14>>1]););p[a>>2]=i,p[n>>2]=p[p[p[e>>2]+o>>2]>>2],p[p[p[e>>2]+o>>2]>>2]=r}else p[l>>2]=a,a=r,s=n;else a=r;if(!(r=p[a>>2]))break}}else t=p[e>>2],p[e>>2]=0,t&&Mo(t),p[e+4>>2]=0;return}Wt(1600),E()}function Xi(e,t){var i,r,n=0,a=0,s=0;V=i=V-16|0,p[e>>2]=1680,p[(n=a=e+4|0)>>2]=0,p[n+4>>2]=0,p[e+12>>2]=0,p[e+16>>2]=0,p[(n=e+20|0)>>2]=0,p[n+4>>2]=0,p[e+28>>2]=0,p[e+32>>2]=0,p[i+12>>2]=t,Zi(a,i+12|0),(0|(t=p[i+12>>2]))<(0|(a=(a=p[n>>2])-(n=p[(r=e+16|0)>>2])>>2))||(p[i+8>>2]=-1,(s=t+1|0)>>>0>a>>>0?(Qi(r,s-a|0,i+8|0),n=p[r>>2],t=p[i+12>>2]):s>>>0>=a>>>0||(p[e+20>>2]=(s<<2)+n)),p[(t<<2)+n>>2]=(p[e+8>>2]-p[e+4>>2]>>2)-1,V=i+16|0}function Zi(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;e:{if(n=p[e>>2],(r=(i=(s=p[e+4>>2]-n|0)>>2)+1|0)>>>0<1073741824){if(o=i<<2,a=(i=p[e+8>>2]-n|0)>>1,r=i>>2>>>0<536870911?a>>>0<r>>>0?r:a:1073741823,i=0,r){if(r>>>0>=1073741824)break e;i=oo(r<<2)}return p[(a=o+i|0)>>2]=p[t>>2],t=i+(r<<2)|0,r=a+4|0,(0|s)>=1&&Io(i,n,s),p[e>>2]=i,p[e+8>>2]=t,p[e+4>>2]=r,void(n&&Mo(n))}Ao(),E()}Wt(1768),E()}function Qi(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0;if((a=p[e+8>>2])-(r=p[e+4>>2])>>2>>>0>=t>>>0){for(;p[r>>2]=p[i>>2],r=r+4|0,t=t+-1|0;);p[e+4>>2]=r}else{e:{if((r=(l=(o=r-(s=p[e>>2])|0)>>2)+t|0)>>>0<1073741824){if(n=(a=a-s|0)>>1,r=a>>2>>>0<536870911?n>>>0<r>>>0?r:n:1073741823,n=0,r){if(r>>>0>=1073741824)break e;n=oo(r<<2)}for(a=n+(r<<2)|0,r=n+(l<<2)|0;p[r>>2]=p[i>>2],r=r+4|0,t=t+-1|0;);return(0|o)>=1&&Io(n,s,o),p[e>>2]=n,p[e+8>>2]=a,p[e+4>>2]=r,void(s&&Mo(s))}Ao(),E()}Wt(1768),E()}}function Ji(e,t,i){return t|=0,i|=0,p[(e|=0)+32>>2]=i,p[e+28>>2]=t,1}function qi(e,t){t|=0;var i,r,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0;if(V=i=V-16|0,Ki(p[(r=(e|=0)+8|0)>>2]-p[e+4>>2]>>2,t),(0|(n=p[e+4>>2]))!=p[r>>2])for(f=i+13|0,h=i+14|0,u=i+15|0,d=i+16|0,o=t+4|0;s=p[p[p[e+32>>2]+8>>2]+(p[(c<<2)+n>>2]<<2)>>2],l[i+15|0]=p[s+56>>2],n=p[t+20>>2],a=p[t+16>>2],((0|n)<0||(0|n)<=0&&!(a>>>0>0))&&(Yt(t,p[o>>2],i+15|0,d),a=p[t+16>>2],n=p[t+20>>2]),l[i+14|0]=p[s+28>>2],((0|n)<0||(0|n)<=0&&!(a>>>0>0))&&(Yt(t,p[o>>2],i+14|0,u),a=p[t+16>>2],n=p[t+20>>2]),l[i+13|0]=_[s+24|0],((0|n)<0||(0|n)<=0&&!(a>>>0>0))&&(Yt(t,p[o>>2],i+13|0,h),a=p[t+16>>2],n=p[t+20>>2]),l[i+12|0]=_[s+32|0],((0|n)<0||(0|n)<=0&&!(a>>>0>0))&&Yt(t,p[o>>2],i+12|0,f),Ki(p[s+60>>2],t),c=c+1|0,n=p[e+4>>2],c>>>0<p[r>>2]-n>>2>>>0;);return V=i+16|0,1}function Ki(e,t){var i,r=0,n=0;V=i=V-16|0,l[i+15|0]=127&e;e:if(e>>>0>=128){if(l[i+15|0]=128|e,r=0,(0|(n=p[t+20>>2]))>0||(0|n)>=0&&!(b[t+16>>2]<=0))break e;Yt(t,p[t+4>>2],i+15|0,i+16|0),r=Ki(e>>>7,t)}else r=0,(0|(e=p[t+20>>2]))>0||(0|e)>=0&&!(b[t+16>>2]<1)||(Yt(t,p[t+4>>2],i+15|0,i+16|0),r=1);return V=i+16|0,e=r}function $i(e){E()}function er(e,t){return 0,0,0}function tr(e,t){return 0,0,1}function ir(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0;if(e=p[e+4>>2])for(r=(n=(r=_[t+11|0])<<24>>24<0)?p[t+4>>2]:r,o=n?p[t>>2]:t;;){t=e+16|0;e:{t:{i:{r:{if((i=(l=(a=(n=(i=_[e+27|0])<<24>>24<0)?p[e+20>>2]:i)>>>0<r>>>0)?a:r)&&(c=bs(o,s=n?p[t>>2]:t,i))){if((0|c)<=-1)break e}else{if(r>>>0<a>>>0)break e;if(!i)break r;s=n?p[t>>2]:t}if(t=bs(s,o,i))break i}if(l)break t;return 1}if(!((0|t)<=-1))return 1}e=e+4|0}if(!(e=p[e>>2]))break}return 0}function rr(e,t,i,r){var n,a=0,s=g(0);if(V=n=V-32|0,(0|(e+4|0))!=(0|(e=Sr(e,t)))){if(a=fo(n+16|0,e+28|0),!(!((0|(e=(t=_[a+11|0])<<24>>24))<0?p[a+4>>2]:t)|(0|i)<1)){for(t=0,e=(0|e)<0?p[a>>2]:n+16|0;s=ds(e,n+12|0),(0|e)!=(0|(e=p[n+12>>2]))&&(A[(t<<2)+r>>2]=s,(0|i)!=(0|(t=t+1|0))););e=_[a+11|0]}e<<24>>24<=-1&&Mo(p[a>>2])}V=n+32|0}function nr(e,t){var i=0,r=0,n=0,s=0,o=0,l=0,c=0;e:{t:{i:{if(r=p[e>>2],(i=(o=(p[e+4>>2]-r|0)/24|0)+1|0)>>>0<178956971){if(l=(r=(p[e+8>>2]-r|0)/24|0)<<1,n=0,r=r>>>0<89478485?l>>>0<i>>>0?i:l:178956970){if(r>>>0>=178956971)break i;n=oo(y(r,24))}if(function(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;p[e>>2]=1384,i=p[t+4>>2],p[e+16>>2]=0,p[e+8>>2]=0,p[e+12>>2]=0,p[e+4>>2]=i;r:{if(i=p[t+12>>2]-p[t+8>>2]|0){if((r=i>>2)>>>0>=1073741824)break r;i=oo(i),p[e+8>>2]=i,p[(n=e+12|0)>>2]=i,p[e+16>>2]=i+(r<<2),a=p[t+8>>2],(0|(r=p[t+12>>2]-a|0))<1||(s=n,o=Io(i,a,r)+r|0,p[s>>2]=o)}return void(p[e+20>>2]=p[t+20>>2])}Ao(),E()}(i=n+y(o,24)|0,t),o=n+y(r,24)|0,l=i+24|0,(0|(t=p[e+4>>2]))==(0|(n=p[e>>2])))break t;for(;p[(i=i+-24|0)>>2]=1384,r=p[t+-20>>2],p[(s=i+16|0)>>2]=0,p[i+8>>2]=0,p[i+12>>2]=0,p[i+4>>2]=r,r=t+-16|0,p[i+8>>2]=p[r>>2],p[i+12>>2]=p[t+-12>>2],c=s,s=t+-8|0,p[c>>2]=p[s>>2],p[s>>2]=0,p[r>>2]=0,p[r+4>>2]=0,p[i+20>>2]=p[t+-4>>2],(0|n)!=(0|(t=t+-24|0)););n=p[e+4>>2],t=p[e>>2];break e}Ao(),E()}Wt(2e3),E()}t=n}if(p[e>>2]=i,p[e+8>>2]=o,p[e+4>>2]=l,(0|t)!=(0|n))for(;a[p[p[(n=n+-24|0)>>2]>>2]](n),(0|t)!=(0|n););t&&Mo(t)}function ar(e,t){var i=0,r=0,n=0,a=0,s=0;e:{t:{i:{if(n=p[e>>2],(i=(a=p[e+4>>2]-n>>2)+1|0)>>>0<1073741824){if(s=(n=p[e+8>>2]-n|0)>>1,i=n>>2>>>0<536870911?s>>>0<i>>>0?i:s:1073741823){if(i>>>0>=1073741824)break i;r=oo(i<<2)}if(n=p[t>>2],p[t>>2]=0,p[(t=(a<<2)+r|0)>>2]=n,n=(i<<2)+r|0,a=t+4|0,(0|(i=p[e+4>>2]))==(0|(r=p[e>>2])))break t;for(;s=p[(i=i+-4|0)>>2],p[i>>2]=0,p[(t=t+-4|0)>>2]=s,(0|i)!=(0|r););r=p[e+4>>2],i=p[e>>2];break e}Ao(),E()}Wt(2e3),E()}i=r}if(p[e>>2]=t,p[e+8>>2]=n,p[e+4>>2]=a,(0|i)!=(0|r))for(;e=p[(r=r+-4|0)>>2],p[r>>2]=0,e&&pt(e),(0|i)!=(0|r););i&&Mo(i)}function sr(e,t,i,r){var n=0,a=0,s=0,o=0,c=g(0),f=0;e:{t:if(r&&!((n=p[e+28>>2]+-1|0)>>>0>10)){i:{r:{n:switch(n-1|0){default:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=p[p[e>>2]>>2])+(t=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;p[(a<<2)+r>>2]=l[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 0:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=p[p[e>>2]>>2])+(t=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;p[(a<<2)+r>>2]=_[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 1:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=p[p[e>>2]>>2])+(t=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;p[(a<<2)+r>>2]=d[t>>1],t=t+2|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 2:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=p[p[e>>2]>>2])+(t=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;p[(a<<2)+r>>2]=m[t>>1],t=t+2|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 3:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=p[p[e>>2]>>2])+(t=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;p[(a<<2)+r>>2]=p[t>>2],t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 4:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=p[p[e>>2]>>2])+(t=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;p[(a<<2)+r>>2]=p[t>>2],t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 5:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=p[p[e>>2]>>2])+(t=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;p[(a<<2)+r>>2]=p[t>>2],t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 6:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=p[p[e>>2]>>2])+(t=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;p[(a<<2)+r>>2]=p[t>>2],t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 7:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24<1)break i;for(t=(n=p[p[e>>2]>>2])+(t=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;n=(a<<2)+r|0,c=A[t>>2],o=g(k(c))<g(2147483648)?~~c:-2147483648,p[n>>2]=o,t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);break i;case 8:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24<1)break r;for(t=(n=p[p[e>>2]>>2])+(t=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;n=(a<<2)+r|0,f=v[t>>3],o=k(f)<2147483648?~~f:-2147483648,p[n>>2]=o,t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);break r;case 9:break n}if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=p[p[e>>2]>>2])+(t=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;p[(a<<2)+r>>2]=_[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;Do((n<<2)+r|0,0,i-n<<2);break t}if((0|n)>=(0|i))break t;break e}if(!((0|n)>=(0|i)))break e}return s}return Do((n<<2)+r|0,0,i-n<<2),1}function or(e){var t,i,r=0,n=0,a=0;return V=t=V-16|0,r=oo(16),p[t>>2]=r,p[t+4>>2]=14,p[t+8>>2]=-2147483632,l[r+14|0]=0,n=_[2078]|_[2079]<<8|_[2080]<<16|_[2081]<<24,a=_[2074]|_[2075]<<8|_[2076]<<16|_[2077]<<24,l[r+6|0]=a,l[r+7|0]=a>>>8,l[r+8|0]=a>>>16,l[r+9|0]=a>>>24,l[r+10|0]=n,l[r+11|0]=n>>>8,l[r+12|0]=n>>>16,l[r+13|0]=n>>>24,n=_[2072]|_[2073]<<8|_[2074]<<16|_[2075]<<24,a=_[2068]|_[2069]<<8|_[2070]<<16|_[2071]<<24,l[0|r]=a,l[r+1|0]=a>>>8,l[r+2|0]=a>>>16,l[r+3|0]=a>>>24,l[r+4|0]=n,l[r+5|0]=n>>>8,l[r+6|0]=n>>>16,l[r+7|0]=n>>>24,i=_a(e,t,-1),l[t+11|0]<=-1&&Mo(p[t>>2]),r=oo(16),p[t>>2]=r,p[t+4>>2]=14,p[t+8>>2]=-2147483632,l[r+14|0]=0,n=_[2093]|_[2094]<<8|_[2095]<<16|_[2096]<<24,a=_[2089]|_[2090]<<8|_[2091]<<16|_[2092]<<24,l[r+6|0]=a,l[r+7|0]=a>>>8,l[r+8|0]=a>>>16,l[r+9|0]=a>>>24,l[r+10|0]=n,l[r+11|0]=n>>>8,l[r+12|0]=n>>>16,l[r+13|0]=n>>>24,n=_[2087]|_[2088]<<8|_[2089]<<16|_[2090]<<24,a=_[2083]|_[2084]<<8|_[2085]<<16|_[2086]<<24,l[0|r]=a,l[r+1|0]=a>>>8,l[r+2|0]=a>>>16,l[r+3|0]=a>>>24,l[r+4|0]=n,l[r+5|0]=n>>>8,l[r+6|0]=n>>>16,l[r+7|0]=n>>>24,e=_a(e,t,-1),l[t+11|0]<=-1&&Mo(p[t>>2]),V=t+16|0,-1==(0|(e=(0|i)<(0|e)?e:i))?5:e}function lr(e,t,i,r){var n=0,a=0,s=0,o=g(0),c=0;e:{t:if(r&&!((n=p[e+28>>2]+-1|0)>>>0>10)){i:{r:{n:switch(n-1|0){default:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=p[p[e>>2]>>2])+(t=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;p[(a<<2)+r>>2]=l[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 0:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=p[p[e>>2]>>2])+(t=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;p[(a<<2)+r>>2]=_[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 1:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=p[p[e>>2]>>2])+(t=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;p[(a<<2)+r>>2]=d[t>>1],t=t+2|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 2:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=p[p[e>>2]>>2])+(t=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;p[(a<<2)+r>>2]=m[t>>1],t=t+2|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 3:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=p[p[e>>2]>>2])+(t=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;p[(a<<2)+r>>2]=p[t>>2],t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 4:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=p[p[e>>2]>>2])+(t=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;p[(a<<2)+r>>2]=p[t>>2],t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 5:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=p[p[e>>2]>>2])+(t=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;p[(a<<2)+r>>2]=p[t>>2],t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 6:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=p[p[e>>2]>>2])+(t=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;p[(a<<2)+r>>2]=p[t>>2],t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 7:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24<1)break i;for(t=(n=p[p[e>>2]>>2])+(t=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;n=(a<<2)+r|0,s=(o=A[t>>2])<g(4294967296)&o>=g(0)?~~o>>>0:0,p[n>>2]=s,t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);break i;case 8:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24<1)break r;for(t=(n=p[p[e>>2]>>2])+(t=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;n=(a<<2)+r|0,s=(c=v[t>>3])<4294967296&c>=0?~~c>>>0:0,p[n>>2]=s,t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);break r;case 9:break n}if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=p[p[e>>2]>>2])+(t=p[e+48>>2]+Bo(p[e+40>>2],p[e+44>>2],t,0)|0)|0;p[(a<<2)+r>>2]=_[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;Do((n<<2)+r|0,0,i-n<<2);break t}if((0|n)>=(0|i))break t;break e}(0|n)>=(0|i)||Do((n<<2)+r|0,0,i-n<<2)}return}Do((n<<2)+r|0,0,i-n<<2)}function cr(e){var t=0,i=0,r=0,n=0,a=0;if(r=p[e+1176>>2]){if(i=r,(0|r)!=(0|(t=p[(a=e+1180|0)>>2]))){for(;(n=p[(i=t+-12|0)>>2])&&(p[t+-8>>2]=n,Mo(n)),(0|(t=i))!=(0|r););i=p[e+1176>>2]}p[a>>2]=r,Mo(i)}if(r=p[e+1164>>2]){if(i=r,(0|r)!=(0|(t=p[(a=e+1168|0)>>2]))){for(;(n=p[(i=t+-12|0)>>2])&&(p[t+-8>>2]=n,Mo(n)),(0|(t=i))!=(0|r););i=p[e+1164>>2]}p[a>>2]=r,Mo(i)}(t=p[e+1152>>2])&&(p[e+1156>>2]=t,Mo(t)),(t=p[e+1140>>2])&&(p[e+1144>>2]=t,Mo(t)),(t=p[e+1128>>2])&&(p[e+1132>>2]=t,Mo(t)),de(e+1108|0),de(e+1088|0),de(e+1068|0),be(e+1036|0),function(e){be(e+992|0),be(e+960|0),be(e+928|0),be(e+896|0),be(e+864|0),be(e+832|0),be(e+800|0),be(e+768|0),be(e+736|0),be(e+704|0),be(e+672|0),be(e+640|0),be(e+608|0),be(e+576|0),be(e+544|0),be(e+512|0),be(e+480|0),be(e+448|0),be(e+416|0),be(e+384|0),be(e+352|0),be(e+320|0),be(e+288|0),be(e+256|0),be(e+224|0),be(e+192|0),be(e+160|0),be(e+128|0),be(e+96|0),be(e- -64|0),be(e+32|0),be(e)}(e+12|0)}function fr(e,t){var i,r=0,n=0,a=0;V=i=V-16|0,p[e+8>>2]=t,p[e>>2]=0,function(e){me(e),me(e+32|0),me(e- -64|0),me(e+96|0),me(e+128|0),me(e+160|0),me(e+192|0),me(e+224|0),me(e+256|0),me(e+288|0),me(e+320|0),me(e+352|0),me(e+384|0),me(e+416|0),me(e+448|0),me(e+480|0),me(e+512|0),me(e+544|0),me(e+576|0),me(e+608|0),me(e+640|0),me(e+672|0),me(e+704|0),me(e+736|0),me(e+768|0),me(e+800|0),me(e+832|0),me(e+864|0),me(e+896|0),me(e+928|0),me(e+960|0),me(e+992|0)}(e+12|0),me(e+1036|0),ue(e+1068|0),ue(e+1088|0),ue(e+1108|0),p[e+1136>>2]=0,p[e+1128>>2]=0,p[e+1132>>2]=0;e:{t:{i:{r:{if(t){if(t>>>0>=1073741824)break r;for(n=oo(r=t<<2),p[e+1128>>2]=n,p[e+1132>>2]=n,p[e+1136>>2]=n+r,Do(n,0,r),r=t;n=n+4|0,r=r+-1|0;);p[e+1132>>2]=n}if(p[e+1140>>2]=0,p[e+1144>>2]=0,p[e+1148>>2]=0,t){if(t>>>0>=1073741824)break i;for(n=oo(r=t<<2),p[e+1140>>2]=n,p[e+1144>>2]=n,p[e+1148>>2]=n+r,Do(n,0,r),r=t;n=n+4|0,r=r+-1|0;);p[e+1144>>2]=n}if(p[e+1152>>2]=0,p[e+1156>>2]=0,p[e+1160>>2]=0,t){if(t>>>0>=1073741824)break t;for(n=oo(r=t<<2),p[e+1152>>2]=n,p[e+1156>>2]=n,p[e+1160>>2]=n+r,Do(n,0,r),r=t;n=n+4|0,r=r+-1|0;);p[e+1156>>2]=n}if(p[i+8>>2]=0,p[i>>2]=0,p[i+4>>2]=0,t){if(t>>>0>=1073741824)break e;for(n=oo(r=t<<2),p[i>>2]=n,p[i+4>>2]=n,p[i+8>>2]=n+r,Do(n,0,r),r=t;n=n+4|0,r=r+-1|0;);p[i+4>>2]=n}if(yr(e+1164|0,a=t<<5|1,i),(r=p[i>>2])&&(p[i+4>>2]=r,Mo(r)),p[i+8>>2]=0,p[i>>2]=0,p[i+4>>2]=0,t){if(t>>>0>=1073741824)break e;for(n=oo(r=t<<2),p[i>>2]=n,p[i+4>>2]=n,p[i+8>>2]=n+r,Do(n,0,r);n=n+4|0,t=t+-1|0;);p[i+4>>2]=n}return yr(e+1176|0,a,i),(t=p[i>>2])&&(p[i+4>>2]=t,Mo(t)),V=i+16|0,e}Ao(),E()}Ao(),E()}Ao(),E()}Ao(),E()}function hr(e,t,i,r,n){var a,s=0,o=0,l=0;if(V=a=V-32|0,p[e>>2]=p[r>>2],r=p[i>>2]-p[t>>2]|0,p[e+4>>2]=r,((0|(s=p[n+20>>2]))<0||(0|s)<=0&&!(b[n+16>>2]>0))&&(r=e+4|0,Yt(n,p[n+4>>2],e,r),((0|(s=p[n+20>>2]))<0||(0|s)<=0&&!(b[n+16>>2]>0))&&Yt(n,p[n+4>>2],r,r+4|0),r=p[r>>2]),r){for(Ar(e+12|0),pe(r=e+1068|0),pe(s=e+1088|0),pe(o=e+1108|0),p[a+24>>2]=p[t+8>>2],l=p[t+4>>2],p[a+16>>2]=p[t>>2],p[a+20>>2]=l,p[a+8>>2]=p[i+8>>2],t=p[i+4>>2],p[a>>2]=p[i>>2],p[a+4>>2]=t,function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,A=0,v=0,g=0,k=0,S=0,T=0,w=0,M=0,P=0,R=0,C=0,O=0,I=0,D=0,F=0,N=0,B=0,L=0,U=0,z=0,j=0,W=0;V=r=V-32|0,s=p[e+8>>2],p[r+16>>2]=0,p[r+8>>2]=0,p[r+12>>2]=0;e:{if(s){if(s>>>0>=1073741824)break e;for(c=oo(a=s<<2),p[r+8>>2]=c,p[r+12>>2]=c,p[r+16>>2]=a+c,n=Do(c,0,a),a=s;n=n+4|0,a=a+-1|0;);p[r+12>>2]=n}l=p[e+1164>>2],(a=p[l>>2])&&(p[l+4>>2]=a,Mo(a),p[l+8>>2]=0,p[l>>2]=0,p[l+4>>2]=0,s=p[e+8>>2],c=p[r+8>>2],n=p[r+12>>2]),p[l>>2]=c,p[l+4>>2]=n,p[l+8>>2]=p[r+16>>2],n=0,p[r+16>>2]=0,p[r+8>>2]=0,p[r+12>>2]=0,a=0;t:{if(s){if(s>>>0>=1073741824)break t;for(a=oo(n=s<<2),p[r+8>>2]=a,p[r+12>>2]=a,p[r+16>>2]=n+a,n=Do(a,0,n);n=n+4|0,s=s+-1|0;);p[r+12>>2]=n}if(h=p[e+1176>>2],(l=p[h>>2])&&(p[h+4>>2]=l,Mo(l),p[h+8>>2]=0,p[h>>2]=0,p[h+4>>2]=0,n=p[r+12>>2],a=p[r+8>>2]),p[h>>2]=a,p[h+4>>2]=n,p[h+8>>2]=p[r+16>>2],w=p[t+4>>2],I=p[t+8>>2],M=p[i+4>>2],D=p[i+8>>2],d=p[i>>2],o=p[t>>2],p[(n=r+24|0)>>2]=0,p[n+4>>2]=0,p[(a=r+16|0)>>2]=0,p[a+4>>2]=0,p[r+8>>2]=0,p[r+12>>2]=0,h=d-o|0,Tr(r+8|0),s=0,(0|(l=p[r+12>>2]))!=p[a>>2]&&(n=p[n>>2]+p[r+28>>2]|0,s=p[l+((a=(n>>>0)/113|0)<<2)>>2]+y(n-y(a,113)|0,36)|0),p[s+32>>2]=0,p[s+28>>2]=h,p[s+24>>2]=0,p[s+16>>2]=M,p[s+20>>2]=D,p[s+12>>2]=d,p[s+4>>2]=w,p[s+8>>2]=I,p[s>>2]=o,a=p[r+28>>2],s=a+1|0,p[r+28>>2]=s,s>>>0>=a>>>0)for(h=M,d=w,U=e+1068|0,z=e+1108|0,P=e+1120|0,j=p[i+8>>2],A=p[t+8>>2],F=e+1176|0,N=e+1164|0,B=e+1152|0,W=e+1116|0,L=e+1112|0;;){a=p[r+12>>2],f=p[r+24>>2],n=p[a+((n=((l=f+(o=s+-1|0)|0)>>>0)/113|0)<<2)>>2]+y(l-y(n,113)|0,36)|0,R=p[n+32>>2],c=p[n+24>>2],u=p[n+12>>2],l=p[n>>2],p[r+28>>2]=o,n=p[r+16>>2],1+(((a=n-a|0)?y(a>>2,113)+-1|0:0)-(s+f|0)|0)>>>0>=226&&(Mo(p[n+-4>>2]),p[r+16>>2]=p[r+16>>2]+-4),p[t>>2]=l,p[i>>2]=u,s=(0|c)==(p[e+8>>2]+-1|0)?0:c+1|0,v=s<<2,S=y(R,12),f=S+p[F>>2]|0;i:{r:if(n=p[e>>2]-p[v+p[f>>2]>>2]|0){n:{a:{if((g=u-l|0)>>>0<=2){if(o=p[B>>2],p[o>>2]=s,a=1,(n=p[e+8>>2])>>>0>1)break a;break n}a=p[N>>2],o=a+S|0,qt((C=a)+(a=S+12|0)|0,p[o>>2],p[o+4>>2]),a=v+p[a+p[N>>2]>>2]|0,O=p[a>>2]+(1<<n+-1)|0,p[a>>2]=O;s:if((0|u)!=(0|(a=l)))for(m=p[d+24>>2],n=l,a=u;;){if(_=m+(y(n,A)<<2)|0,b[_+v>>2]<O>>>0){if((0|a)!=(0|(n=n+1|0)))continue;break s}for(;;){if((0|(a=a+-1|0))==(0|n)){a=n;break s}if(k=p[h+24>>2]+(y(a,j)<<2)|0,!(b[k+v>>2]>=O>>>0))break}if(T=0,A)for(;f=p[(o=(c=T<<2)+_|0)>>2],C=o,o=c+k|0,p[C>>2]=p[o>>2],p[o>>2]=f,(0|A)!=(0|(T=T+1|0)););if((0|a)==(0|(n=n+1|0)))break}o=x(g),(0|(m=a-l|0))!=(0|(_=u-a|0))&&(n=p[e+1124>>2],m>>>0<_>>>0&&(p[P>>2]=p[P>>2]|-2147483648>>>n),n=n+1|0,p[e+1124>>2]=n,32==(0|n)&&((0|(n=p[L>>2]))==p[W>>2]?Er(z,P):(p[n>>2]=p[e+1120>>2],p[L>>2]=n+4),p[e+1120>>2]=0,p[e+1124>>2]=0)),k=R+1|0,f=31^o,n=g>>>1;s:if(m>>>0<_>>>0){if(!f)break s;for(o=n-m|0,n=1<<f+-1,c=0;ye(12+((c<<5)+e|0)|0,0!=(n&o)),n>>>=1,(0|f)!=(0|(c=c+1|0)););}else if(f)for(o=n-_|0,n=1<<f+-1,c=0;ye(12+((c<<5)+e|0)|0,0!=(n&o)),n>>>=1,(0|f)!=(0|(c=c+1|0)););if(c=p[F>>2],o=p[(f=c+S|0)>>2],p[(n=o+v|0)>>2]=p[n>>2]+1,qt(c+y(k,12)|0,o,p[f+4>>2]),(0|a)!=(0|l)&&(c=p[r+28>>2]+p[r+24>>2]|0,f=p[r+16>>2],n=p[r+12>>2],(0|c)==(0|((o=f-n|0)?y(o>>2,113)+-1|0:0))&&(Tr(r+8|0),c=p[r+24>>2]+p[r+28>>2]|0,f=p[r+16>>2],n=p[r+12>>2]),o=0,(0|n)!=(0|f)&&(o=p[(o=n)+((n=(c>>>0)/113|0)<<2)>>2]+y(c-y(n,113)|0,36)|0),p[o+32>>2]=R,p[o+28>>2]=m,p[o+24>>2]=s,p[o+20>>2]=A,p[o+16>>2]=d,p[o+12>>2]=a,p[o+4>>2]=w,p[o+8>>2]=I,p[o>>2]=l,p[r+28>>2]=p[r+28>>2]+1),(0|a)==(0|u))break r;c=p[r+28>>2]+p[r+24>>2]|0,f=p[r+16>>2],n=p[r+12>>2],(0|c)==(0|((l=f-n|0)?y(l>>2,113)+-1|0:0))&&(Tr(r+8|0),c=p[r+24>>2]+p[r+28>>2]|0,f=p[r+16>>2],n=p[r+12>>2]),l=0,(0|n)!=(0|f)&&(l=p[(l=n)+((n=(c>>>0)/113|0)<<2)>>2]+y(c-y(n,113)|0,36)|0),p[l+32>>2]=k,p[l+28>>2]=_,p[l+24>>2]=s,p[l+16>>2]=M,p[l+20>>2]=D,p[l+12>>2]=u,p[l+8>>2]=A,p[l+4>>2]=d,p[l>>2]=a,s=p[r+28>>2]+1|0,p[r+28>>2]=s;break i}for(;s=(n+-1|0)==(0|s)?0:s+1|0,p[o+(a<<2)>>2]=s,a=a+1|0,n=p[e+8>>2],a>>>0<n>>>0;);}if(c=0,a=n,g)for(;;){if(a)for(u=p[d+24>>2]+(y(p[d+4>>2],l+c|0)<<2)|0,s=0;o=p[p[B>>2]+(s<<2)>>2]<<2,(a=p[e>>2]-p[o+p[f>>2]>>2]|0)&&(Mr(U,a,p[o+u>>2]),n=p[e+8>>2]),a=n,(s=s+1|0)>>>0<n>>>0;);else a=0;if((0|g)==(0|(c=c+1|0)))break}}s=p[r+28>>2]}if(!s)break}if(Pr(r+8|0),s=p[r+12>>2],e=p[r+16>>2],(0|s)!=(0|e)){for(;Mo(p[s>>2]),(0|e)!=(0|(s=s+4|0)););t=p[r+16>>2],e=p[r+12>>2],(0|t)!=(0|e)&&(p[r+16>>2]=t+(((t-e|0)-4>>>2^-1)<<2))}return(e=p[r+8>>2])&&Mo(e),void(V=r+32|0)}Ao(),E()}Ao(),E()}(e,a+16|0,a),i=0;ke(12+((i<<5)+e|0)|0,n),32!=(0|(i=i+1|0)););ke(e+1036|0,n),_e(r,n),_e(s,n),_e(o,n)}return V=a+32|0,1}function ur(e,t){var i,r=0,n=0,a=0;V=i=V-16|0,p[e+8>>2]=t,p[e>>2]=0,me(e+12|0),ue(e+44|0),ue(e- -64|0),ue(e+84|0),p[e+112>>2]=0,p[e+104>>2]=0,p[e+108>>2]=0;e:{t:{i:{r:{if(t){if(t>>>0>=1073741824)break r;for(n=oo(r=t<<2),p[e+104>>2]=n,p[e+108>>2]=n,p[e+112>>2]=n+r,Do(n,0,r),r=t;n=n+4|0,r=r+-1|0;);p[e+108>>2]=n}if(p[e+116>>2]=0,p[e+120>>2]=0,p[e+124>>2]=0,t){if(t>>>0>=1073741824)break i;for(n=oo(r=t<<2),p[e+116>>2]=n,p[e+120>>2]=n,p[e+124>>2]=n+r,Do(n,0,r),r=t;n=n+4|0,r=r+-1|0;);p[e+120>>2]=n}if(p[e+128>>2]=0,p[e+132>>2]=0,p[e+136>>2]=0,t){if(t>>>0>=1073741824)break t;for(n=oo(r=t<<2),p[e+128>>2]=n,p[e+132>>2]=n,p[e+136>>2]=n+r,Do(n,0,r),r=t;n=n+4|0,r=r+-1|0;);p[e+132>>2]=n}if(p[i+8>>2]=0,p[i>>2]=0,p[i+4>>2]=0,t){if(t>>>0>=1073741824)break e;for(n=oo(r=t<<2),p[i>>2]=n,p[i+4>>2]=n,p[i+8>>2]=n+r,Do(n,0,r),r=t;n=n+4|0,r=r+-1|0;);p[i+4>>2]=n}if(yr(e+140|0,a=t<<5|1,i),(r=p[i>>2])&&(p[i+4>>2]=r,Mo(r)),p[i+8>>2]=0,p[i>>2]=0,p[i+4>>2]=0,t){if(t>>>0>=1073741824)break e;for(n=oo(r=t<<2),p[i>>2]=n,p[i+4>>2]=n,p[i+8>>2]=n+r,Do(n,0,r);n=n+4|0,t=t+-1|0;);p[i+4>>2]=n}return yr(e+152|0,a,i),(t=p[i>>2])&&(p[i+4>>2]=t,Mo(t)),V=i+16|0,e}Ao(),E()}Ao(),E()}Ao(),E()}Ao(),E()}function dr(e,t,i,r,n){var a,s=0,o=0,l=0,c=0;return V=a=V-32|0,p[e>>2]=p[r>>2],r=p[i>>2]-p[t>>2]|0,p[e+4>>2]=r,((0|(s=p[n+20>>2]))<0||(0|s)<=0&&!(b[n+16>>2]>0))&&(r=e+4|0,Yt(n,p[n+4>>2],e,r),((0|(s=p[n+20>>2]))<0||(0|s)<=0&&!(b[n+16>>2]>0))&&Yt(n,p[n+4>>2],r,r+4|0),r=p[r>>2]),r&&(ve(r=e+12|0),pe(s=e+44|0),pe(o=e- -64|0),pe(l=e+84|0),p[a+24>>2]=p[t+8>>2],c=p[t+4>>2],p[a+16>>2]=p[t>>2],p[a+20>>2]=c,p[a+8>>2]=p[i+8>>2],t=p[i+4>>2],p[a>>2]=p[i>>2],p[a+4>>2]=t,gr(e,a+16|0,a),ke(r,n),_e(s,n),_e(o,n),_e(l,n)),V=a+32|0,1}function pr(e){var t=0,i=0,r=0,n=0,a=0;if(r=p[e+152>>2]){if(i=r,(0|r)!=(0|(t=p[(a=e+156|0)>>2]))){for(;(n=p[(i=t+-12|0)>>2])&&(p[t+-8>>2]=n,Mo(n)),(0|(t=i))!=(0|r););i=p[e+152>>2]}p[a>>2]=r,Mo(i)}if(r=p[e+140>>2]){if(i=r,(0|r)!=(0|(t=p[(a=e+144|0)>>2]))){for(;(n=p[(i=t+-12|0)>>2])&&(p[t+-8>>2]=n,Mo(n)),(0|(t=i))!=(0|r););i=p[e+140>>2]}p[a>>2]=r,Mo(i)}(t=p[e+128>>2])&&(p[e+132>>2]=t,Mo(t)),(t=p[e+116>>2])&&(p[e+120>>2]=t,Mo(t)),(t=p[e+104>>2])&&(p[e+108>>2]=t,Mo(t)),de(e+84|0),de(e- -64|0),de(e+44|0),be(e+12|0)}function _r(e,t){var i,r=0,n=0,a=0;V=i=V-16|0,p[e+8>>2]=t,p[e>>2]=0,ue(e+12|0),ue(e+32|0),ue(e+52|0),ue(e+72|0),p[e+100>>2]=0,p[e+92>>2]=0,p[e+96>>2]=0;e:{t:{i:{r:{if(t){if(t>>>0>=1073741824)break r;for(n=oo(r=t<<2),p[e+92>>2]=n,p[e+96>>2]=n,p[e+100>>2]=n+r,Do(n,0,r),r=t;n=n+4|0,r=r+-1|0;);p[e+96>>2]=n}if(p[e+104>>2]=0,p[e+108>>2]=0,p[e+112>>2]=0,t){if(t>>>0>=1073741824)break i;for(n=oo(r=t<<2),p[e+104>>2]=n,p[e+108>>2]=n,p[e+112>>2]=n+r,Do(n,0,r),r=t;n=n+4|0,r=r+-1|0;);p[e+108>>2]=n}if(p[e+116>>2]=0,p[e+120>>2]=0,p[e+124>>2]=0,t){if(t>>>0>=1073741824)break t;for(n=oo(r=t<<2),p[e+116>>2]=n,p[e+120>>2]=n,p[e+124>>2]=n+r,Do(n,0,r),r=t;n=n+4|0,r=r+-1|0;);p[e+120>>2]=n}if(p[i+8>>2]=0,p[i>>2]=0,p[i+4>>2]=0,t){if(t>>>0>=1073741824)break e;for(n=oo(r=t<<2),p[i>>2]=n,p[i+4>>2]=n,p[i+8>>2]=n+r,Do(n,0,r),r=t;n=n+4|0,r=r+-1|0;);p[i+4>>2]=n}if(yr(e+128|0,a=t<<5|1,i),(r=p[i>>2])&&(p[i+4>>2]=r,Mo(r)),p[i+8>>2]=0,p[i>>2]=0,p[i+4>>2]=0,t){if(t>>>0>=1073741824)break e;for(n=oo(r=t<<2),p[i>>2]=n,p[i+4>>2]=n,p[i+8>>2]=n+r,Do(n,0,r);n=n+4|0,t=t+-1|0;);p[i+4>>2]=n}return yr(e+140|0,a,i),(t=p[i>>2])&&(p[i+4>>2]=t,Mo(t)),V=i+16|0,e}Ao(),E()}Ao(),E()}Ao(),E()}Ao(),E()}function mr(e,t,i,r,n){var a,s=0,o=0,l=0,c=0;return V=a=V-32|0,p[e>>2]=p[r>>2],r=p[i>>2]-p[t>>2]|0,p[e+4>>2]=r,((0|(s=p[n+20>>2]))<0||(0|s)<=0&&!(b[n+16>>2]>0))&&(r=e+4|0,Yt(n,p[n+4>>2],e,r),((0|(s=p[n+20>>2]))<0||(0|s)<=0&&!(b[n+16>>2]>0))&&Yt(n,p[n+4>>2],r,r+4|0),r=p[r>>2]),r&&(pe(r=e+12|0),pe(s=e+32|0),pe(o=e+52|0),pe(l=e+72|0),p[a+24>>2]=p[t+8>>2],c=p[t+4>>2],p[a+16>>2]=p[t>>2],p[a+20>>2]=c,p[a+8>>2]=p[i+8>>2],t=p[i+4>>2],p[a>>2]=p[i>>2],p[a+4>>2]=t,kr(e,a+16|0,a),_e(r,n),_e(s,n),_e(o,n),_e(l,n)),V=a+32|0,1}function br(e){var t=0,i=0,r=0,n=0,a=0;if(r=p[e+140>>2]){if(i=r,(0|r)!=(0|(t=p[(a=e+144|0)>>2]))){for(;(n=p[(i=t+-12|0)>>2])&&(p[t+-8>>2]=n,Mo(n)),(0|(t=i))!=(0|r););i=p[e+140>>2]}p[a>>2]=r,Mo(i)}if(r=p[e+128>>2]){if(i=r,(0|r)!=(0|(t=p[(a=e+132|0)>>2]))){for(;(n=p[(i=t+-12|0)>>2])&&(p[t+-8>>2]=n,Mo(n)),(0|(t=i))!=(0|r););i=p[e+128>>2]}p[a>>2]=r,Mo(i)}(t=p[e+116>>2])&&(p[e+120>>2]=t,Mo(t)),(t=p[e+104>>2])&&(p[e+108>>2]=t,Mo(t)),(t=p[e+92>>2])&&(p[e+96>>2]=t,Mo(t)),de(e+72|0),de(e+52|0),de(e+32|0),de(e+12|0)}function Ar(e){ve(e),ve(e+32|0),ve(e- -64|0),ve(e+96|0),ve(e+128|0),ve(e+160|0),ve(e+192|0),ve(e+224|0),ve(e+256|0),ve(e+288|0),ve(e+320|0),ve(e+352|0),ve(e+384|0),ve(e+416|0),ve(e+448|0),ve(e+480|0),ve(e+512|0),ve(e+544|0),ve(e+576|0),ve(e+608|0),ve(e+640|0),ve(e+672|0),ve(e+704|0),ve(e+736|0),ve(e+768|0),ve(e+800|0),ve(e+832|0),ve(e+864|0),ve(e+896|0),ve(e+928|0),ve(e+960|0),ve(e+992|0),ve(e+1024|0)}function vr(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,A=0,v=0,g=0,k=0,S=0,T=0,w=0,M=0,P=0,R=0,C=0,O=0,I=0,D=0,F=0,N=0,B=0,L=0,U=0,z=0,j=0,W=0,G=0,H=0;V=r=V+-64|0,s=p[e+8>>2],p[r+48>>2]=0,p[r+40>>2]=0,p[r+44>>2]=0;e:{if(s){if(s>>>0>=1073741824)break e;for(c=oo(a=s<<2),p[r+40>>2]=c,p[r+44>>2]=c,p[r+48>>2]=a+c,n=Do(c,0,a),a=s;n=n+4|0,a=a+-1|0;);p[r+44>>2]=n}l=p[e+1164>>2],(a=p[l>>2])&&(p[l+4>>2]=a,Mo(a),p[l+8>>2]=0,p[l>>2]=0,p[l+4>>2]=0,s=p[e+8>>2],c=p[r+40>>2],n=p[r+44>>2]),p[l>>2]=c,p[l+4>>2]=n,p[l+8>>2]=p[r+48>>2],n=0,p[r+48>>2]=0,p[r+40>>2]=0,p[r+44>>2]=0,a=0;t:{if(s){if(s>>>0>=1073741824)break t;for(a=oo(n=s<<2),p[r+40>>2]=a,p[r+44>>2]=a,p[r+48>>2]=n+a,n=Do(a,0,n);n=n+4|0,s=s+-1|0;);p[r+44>>2]=n}if(h=p[e+1176>>2],(l=p[h>>2])&&(p[h+4>>2]=l,Mo(l),p[h+8>>2]=0,p[h>>2]=0,p[h+4>>2]=0,n=p[r+44>>2],a=p[r+40>>2]),p[h>>2]=a,p[h+4>>2]=n,p[h+8>>2]=p[r+48>>2],S=p[t+4>>2],I=p[t+8>>2],T=p[i+4>>2],D=p[i+8>>2],d=p[i>>2],o=p[t>>2],p[(n=r+56|0)>>2]=0,p[n+4>>2]=0,p[(a=r+48|0)>>2]=0,p[a+4>>2]=0,p[r+40>>2]=0,p[r+44>>2]=0,h=d-o|0,Tr(r+40|0),s=0,(0|(l=p[r+44>>2]))!=p[a>>2]&&(n=p[n>>2]+p[r+60>>2]|0,s=p[l+((a=(n>>>0)/113|0)<<2)>>2]+y(n-y(a,113)|0,36)|0),p[s+32>>2]=0,p[s+28>>2]=h,p[s+24>>2]=0,p[s+16>>2]=T,p[s+20>>2]=D,p[s+12>>2]=d,p[s+4>>2]=S,p[s+8>>2]=I,p[s>>2]=o,s=(a=p[r+60>>2])+1|0,p[r+60>>2]=s,s>>>0>=a>>>0)for(h=T,d=S,U=e+1068|0,z=e+1108|0,w=e+1120|0,j=p[i+8>>2],A=p[t+8>>2],M=e+1164|0,F=e+1176|0,N=e+1152|0,W=e+1116|0,B=e+1112|0;;){a=p[r+44>>2],f=p[r+56>>2],n=p[a+((n=((l=f+(o=s+-1|0)|0)>>>0)/113|0)<<2)>>2]+y(l-y(n,113)|0,36)|0,P=p[n+32>>2],u=p[n+12>>2],l=p[n>>2],p[r+60>>2]=o,1+(((a=(n=p[r+48>>2])-a|0)?y(a>>2,113)+-1|0:0)-(s+f|0)|0)>>>0>=226&&(Mo(p[n+-4>>2]),p[r+48>>2]=p[r+48>>2]+-4),p[t>>2]=l,p[i>>2]=u,o=p[M>>2],n=p[F>>2],p[r+32>>2]=p[t+8>>2],a=p[t+4>>2],p[r+24>>2]=p[t>>2],p[r+28>>2]=a,p[r+16>>2]=p[i+8>>2],a=p[i+4>>2],p[r+8>>2]=p[i>>2],p[r+12>>2]=a,v=(s=wr(e,r+24|0,r+8|0,c=o+(R=y(P,12))|0,f=n+R|0))<<2;i:{r:if(o=p[e>>2]-p[v+p[f>>2]>>2]|0){n:{a:{if((g=u-l|0)>>>0<=2){if(o=p[N>>2],p[o>>2]=s,a=1,(n=p[e+8>>2])>>>0>1)break a;break n}(0|(n=(C=y(L=P+1|0,12))+(a=p[M>>2])|0))!=(0|c)&&(qt(n,p[c>>2],p[c+4>>2]),a=p[M>>2]),a=v+p[a+C>>2]|0,O=p[a>>2]+(1<<o+-1)|0,p[a>>2]=O;s:if((0|u)!=(0|(a=l)))for(G=p[d+24>>2],n=l,a=u;;){if(_=G+(y(n,A)<<2)|0,b[_+v>>2]<O>>>0){if((0|a)!=(0|(n=n+1|0)))continue;break s}for(;;){if((0|(a=a+-1|0))==(0|n)){a=n;break s}if(m=p[h+24>>2]+(y(a,j)<<2)|0,!(b[v+m>>2]>=O>>>0))break}if(k=0,A)for(;f=p[(o=(c=k<<2)+_|0)>>2],H=o,o=c+m|0,p[H>>2]=p[o>>2],p[o>>2]=f,(0|A)!=(0|(k=k+1|0)););if((0|a)==(0|(n=n+1|0)))break}o=x(g),(0|(_=a-l|0))!=(0|(m=u-a|0))&&(n=p[e+1124>>2],_>>>0<m>>>0&&(p[w>>2]=p[w>>2]|-2147483648>>>n),n=n+1|0,p[e+1124>>2]=n,32==(0|n)&&((0|(n=p[B>>2]))==p[W>>2]?Er(z,w):(p[n>>2]=p[e+1120>>2],p[B>>2]=n+4),p[e+1120>>2]=0,p[e+1124>>2]=0)),f=31^o,n=g>>>1;s:if(_>>>0<m>>>0){if(!f)break s;for(o=n-_|0,n=1<<f+-1,c=0;ye(12+((c<<5)+e|0)|0,0!=(n&o)),n>>>=1,(0|f)!=(0|(c=c+1|0)););}else if(f)for(o=n-m|0,n=1<<f+-1,c=0;ye(12+((c<<5)+e|0)|0,0!=(n&o)),n>>>=1,(0|f)!=(0|(c=c+1|0)););if(c=p[F>>2],o=p[(f=c+R|0)>>2],p[(n=o+v|0)>>2]=p[n>>2]+1,qt(c+C|0,o,p[f+4>>2]),(0|a)!=(0|l)&&((0|(c=p[r+60>>2]+p[r+56>>2]|0))==(0|((o=(f=p[r+48>>2])-(n=p[r+44>>2])|0)?y(o>>2,113)+-1|0:0))&&(Tr(r+40|0),c=p[r+56>>2]+p[r+60>>2]|0,f=p[r+48>>2],n=p[r+44>>2]),o=0,(0|n)!=(0|f)&&(o=p[(o=n)+((n=(c>>>0)/113|0)<<2)>>2]+y(c-y(n,113)|0,36)|0),p[o+32>>2]=P,p[o+28>>2]=_,p[o+24>>2]=s,p[o+20>>2]=A,p[o+16>>2]=d,p[o+12>>2]=a,p[o+4>>2]=S,p[o+8>>2]=I,p[o>>2]=l,p[r+60>>2]=p[r+60>>2]+1),(0|a)==(0|u))break r;(0|(c=p[r+60>>2]+p[r+56>>2]|0))==(0|((l=(f=p[r+48>>2])-(n=p[r+44>>2])|0)?y(l>>2,113)+-1|0:0))&&(Tr(r+40|0),c=p[r+56>>2]+p[r+60>>2]|0,f=p[r+48>>2],n=p[r+44>>2]),l=0,(0|n)!=(0|f)&&(l=p[(l=n)+((n=(c>>>0)/113|0)<<2)>>2]+y(c-y(n,113)|0,36)|0),p[l+32>>2]=L,p[l+28>>2]=m,p[l+24>>2]=s,p[l+16>>2]=T,p[l+20>>2]=D,p[l+12>>2]=u,p[l+8>>2]=A,p[l+4>>2]=d,p[l>>2]=a,s=p[r+60>>2]+1|0,p[r+60>>2]=s;break i}for(;s=(n+-1|0)==(0|s)?0:s+1|0,p[o+(a<<2)>>2]=s,(a=a+1|0)>>>0<(n=p[e+8>>2])>>>0;);}if(c=0,a=n,g)for(;;){if(a)for(u=p[d+24>>2]+(y(p[d+4>>2],l+c|0)<<2)|0,s=0;o=p[p[N>>2]+(s<<2)>>2]<<2,(a=p[e>>2]-p[o+p[f>>2]>>2]|0)&&(Mr(U,a,p[o+u>>2]),n=p[e+8>>2]),a=n,(s=s+1|0)>>>0<n>>>0;);else a=0;if((0|g)==(0|(c=c+1|0)))break}}s=p[r+60>>2]}if(!s)break}if(Pr(r+40|0),(0|(s=p[r+44>>2]))!=(0|(e=p[r+48>>2]))){for(;Mo(p[s>>2]),(0|e)!=(0|(s=s+4|0)););(0|(t=p[r+48>>2]))!=(0|(e=p[r+44>>2]))&&(p[r+48>>2]=t+(((t-e|0)-4>>>2^-1)<<2))}return(e=p[r+40>>2])&&Mo(e),void(V=r- -64|0)}Ao(),E()}Ao(),E()}function yr(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;p[e>>2]=0,p[e+4>>2]=0,p[e+8>>2]=0;e:{t:{if(t){if(t>>>0>=357913942)break t;for(r=oo(n=y(t,12)),p[e>>2]=r,p[(a=e+4|0)>>2]=r,p[e+8>>2]=r+n;;){if(p[r>>2]=0,p[r+4>>2]=0,p[(n=r+8|0)>>2]=0,e=p[(s=i+4|0)>>2]-p[i>>2]|0){if((o=e>>2)>>>0>=1073741824)break e;e=oo(e),p[r>>2]=e,p[(l=r+4|0)>>2]=e,p[n>>2]=e+(o<<2),n=p[i>>2],(0|(r=p[s>>2]-n|0))<1||(c=l,f=Io(e,n,r)+r|0,p[c>>2]=f)}if(r=p[a>>2]+12|0,p[a>>2]=r,!(t=t+-1|0))break}}return}Ao(),E()}Ao(),E()}function gr(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,A=0,v=0,g=0,k=0,S=0,T=0,w=0,M=0,P=0,R=0,C=0,O=0,I=0,D=0,F=0,N=0,B=0,L=0,U=0,z=0,j=0,W=0,G=0;V=r=V-32|0,s=p[e+8>>2],p[r+16>>2]=0,p[r+8>>2]=0,p[r+12>>2]=0;e:{if(s){if(s>>>0>=1073741824)break e;for(c=oo(a=s<<2),p[r+8>>2]=c,p[r+12>>2]=c,p[r+16>>2]=a+c,n=Do(c,0,a),a=s;n=n+4|0,a=a+-1|0;);p[r+12>>2]=n}l=p[e+140>>2],(a=p[l>>2])&&(p[l+4>>2]=a,Mo(a),p[l+8>>2]=0,p[l>>2]=0,p[l+4>>2]=0,s=p[e+8>>2],c=p[r+8>>2],n=p[r+12>>2]),p[l>>2]=c,p[l+4>>2]=n,p[l+8>>2]=p[r+16>>2],n=0,p[r+16>>2]=0,p[r+8>>2]=0,p[r+12>>2]=0,a=0;t:{if(s){if(s>>>0>=1073741824)break t;for(a=oo(n=s<<2),p[r+8>>2]=a,p[r+12>>2]=a,p[r+16>>2]=n+a,n=Do(a,0,n);n=n+4|0,s=s+-1|0;);p[r+12>>2]=n}if(h=p[e+152>>2],(l=p[h>>2])&&(p[h+4>>2]=l,Mo(l),p[h+8>>2]=0,p[h>>2]=0,p[h+4>>2]=0,n=p[r+12>>2],a=p[r+8>>2]),p[h>>2]=a,p[h+4>>2]=n,p[h+8>>2]=p[r+16>>2],w=p[t+4>>2],I=p[t+8>>2],M=p[i+4>>2],D=p[i+8>>2],d=p[i>>2],o=p[t>>2],p[(n=r+24|0)>>2]=0,p[n+4>>2]=0,p[(a=r+16|0)>>2]=0,p[a+4>>2]=0,p[r+8>>2]=0,p[r+12>>2]=0,h=d-o|0,Tr(r+8|0),s=0,(0|(l=p[r+12>>2]))!=p[a>>2]&&(n=p[n>>2]+p[r+28>>2]|0,s=p[l+((a=(n>>>0)/113|0)<<2)>>2]+y(n-y(a,113)|0,36)|0),p[s+32>>2]=0,p[s+28>>2]=h,p[s+24>>2]=0,p[s+16>>2]=M,p[s+20>>2]=D,p[s+12>>2]=d,p[s+4>>2]=w,p[s+8>>2]=I,p[s>>2]=o,s=(a=p[r+28>>2])+1|0,p[r+28>>2]=s,s>>>0>=a>>>0)for(h=M,d=w,z=e+44|0,F=e+12|0,j=e+84|0,P=e+96|0,W=p[i+8>>2],A=p[t+8>>2],N=e+152|0,B=e+140|0,L=e+128|0,G=e+92|0,U=e+88|0;;){a=p[r+12>>2],f=p[r+24>>2],n=p[a+((n=((l=f+(o=s+-1|0)|0)>>>0)/113|0)<<2)>>2]+y(l-y(n,113)|0,36)|0,R=p[n+32>>2],c=p[n+24>>2],u=p[n+12>>2],l=p[n>>2],p[r+28>>2]=o,1+(((a=(n=p[r+16>>2])-a|0)?y(a>>2,113)+-1|0:0)-(s+f|0)|0)>>>0>=226&&(Mo(p[n+-4>>2]),p[r+16>>2]=p[r+16>>2]+-4),p[t>>2]=l,p[i>>2]=u,v=(s=(0|c)==(p[e+8>>2]+-1|0)?0:c+1|0)<<2,f=(S=y(R,12))+p[N>>2]|0;i:{r:if(n=p[e>>2]-p[v+p[f>>2]>>2]|0){n:{a:{if((g=u-l|0)>>>0<=2){if(o=p[L>>2],p[o>>2]=s,a=1,(n=p[e+8>>2])>>>0>1)break a;break n}o=(a=p[B>>2])+S|0,qt((C=a)+(a=S+12|0)|0,p[o>>2],p[o+4>>2]),a=v+p[a+p[B>>2]>>2]|0,O=p[a>>2]+(1<<n+-1)|0,p[a>>2]=O;s:if((0|u)!=(0|(a=l)))for(m=p[d+24>>2],n=l,a=u;;){if(_=m+(y(n,A)<<2)|0,b[_+v>>2]<O>>>0){if((0|a)!=(0|(n=n+1|0)))continue;break s}for(;;){if((0|(a=a+-1|0))==(0|n)){a=n;break s}if(k=p[h+24>>2]+(y(a,W)<<2)|0,!(b[v+k>>2]>=O>>>0))break}if(T=0,A)for(;f=p[(o=(c=T<<2)+_|0)>>2],C=o,o=c+k|0,p[C>>2]=p[o>>2],p[o>>2]=f,(0|(T=T+1|0))!=(0|A););if((0|a)==(0|(n=n+1|0)))break}if(o=x(g),(0|(m=a-l|0))!=(0|(_=u-a|0))&&(n=p[e+100>>2],m>>>0<_>>>0&&(p[P>>2]=p[P>>2]|-2147483648>>>n),n=n+1|0,p[e+100>>2]=n,32==(0|n)&&((0|(n=p[U>>2]))==p[G>>2]?Er(j,P):(p[n>>2]=p[e+96>>2],p[U>>2]=n+4),p[e+96>>2]=0,p[e+100>>2]=0)),k=R+1|0,n=g>>>1,ge(F,o^=31,m>>>0<_>>>0?n-m|0:n-_|0),c=p[N>>2],o=p[(f=c+S|0)>>2],p[(n=o+v|0)>>2]=p[n>>2]+1,qt(c+y(k,12)|0,o,p[f+4>>2]),(0|a)!=(0|l)&&((0|(c=p[r+28>>2]+p[r+24>>2]|0))==(0|((o=(f=p[r+16>>2])-(n=p[r+12>>2])|0)?y(o>>2,113)+-1|0:0))&&(Tr(r+8|0),c=p[r+24>>2]+p[r+28>>2]|0,f=p[r+16>>2],n=p[r+12>>2]),o=0,(0|n)!=(0|f)&&(o=p[(o=n)+((n=(c>>>0)/113|0)<<2)>>2]+y(c-y(n,113)|0,36)|0),p[o+32>>2]=R,p[o+28>>2]=m,p[o+24>>2]=s,p[o+20>>2]=A,p[o+16>>2]=d,p[o+12>>2]=a,p[o+4>>2]=w,p[o+8>>2]=I,p[o>>2]=l,p[r+28>>2]=p[r+28>>2]+1),(0|a)==(0|u))break r;(0|(c=p[r+28>>2]+p[r+24>>2]|0))==(0|((l=(o=p[r+16>>2])-(n=p[r+12>>2])|0)?y(l>>2,113)+-1|0:0))&&(Tr(r+8|0),c=p[r+24>>2]+p[r+28>>2]|0,o=p[r+16>>2],n=p[r+12>>2]),l=0,(0|n)!=(0|o)&&(l=p[(l=n)+((n=(c>>>0)/113|0)<<2)>>2]+y(c-y(n,113)|0,36)|0),p[l+32>>2]=k,p[l+28>>2]=_,p[l+24>>2]=s,p[l+16>>2]=M,p[l+20>>2]=D,p[l+12>>2]=u,p[l+8>>2]=A,p[l+4>>2]=d,p[l>>2]=a,s=p[r+28>>2]+1|0,p[r+28>>2]=s;break i}for(;s=(n+-1|0)==(0|s)?0:s+1|0,p[o+(a<<2)>>2]=s,(a=a+1|0)>>>0<(n=p[e+8>>2])>>>0;);}if(c=0,a=n,g)for(;;){if(a)for(u=p[d+24>>2]+(y(p[d+4>>2],l+c|0)<<2)|0,s=0;o=p[p[L>>2]+(s<<2)>>2]<<2,(a=p[e>>2]-p[o+p[f>>2]>>2]|0)&&(Mr(z,a,p[o+u>>2]),n=p[e+8>>2]),a=n,(s=s+1|0)>>>0<n>>>0;);else a=0;if((0|g)==(0|(c=c+1|0)))break}}s=p[r+28>>2]}if(!s)break}if(Pr(r+8|0),(0|(s=p[r+12>>2]))!=(0|(e=p[r+16>>2]))){for(;Mo(p[s>>2]),(0|e)!=(0|(s=s+4|0)););(0|(t=p[r+16>>2]))!=(0|(e=p[r+12>>2]))&&(p[r+16>>2]=t+(((t-e|0)-4>>>2^-1)<<2))}return(e=p[r+8>>2])&&Mo(e),void(V=r+32|0)}Ao(),E()}Ao(),E()}function kr(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,A=0,v=0,g=0,k=0,S=0,T=0,w=0,M=0,P=0,R=0,C=0,O=0,I=0,D=0,F=0,N=0,B=0,L=0,U=0,z=0,j=0,W=0,G=0;V=r=V-32|0,s=p[e+8>>2],p[r+16>>2]=0,p[r+8>>2]=0,p[r+12>>2]=0;e:{if(s){if(s>>>0>=1073741824)break e;for(c=oo(a=s<<2),p[r+8>>2]=c,p[r+12>>2]=c,p[r+16>>2]=a+c,n=Do(c,0,a),a=s;n=n+4|0,a=a+-1|0;);p[r+12>>2]=n}l=p[e+128>>2],(a=p[l>>2])&&(p[l+4>>2]=a,Mo(a),p[l+8>>2]=0,p[l>>2]=0,p[l+4>>2]=0,s=p[e+8>>2],c=p[r+8>>2],n=p[r+12>>2]),p[l>>2]=c,p[l+4>>2]=n,p[l+8>>2]=p[r+16>>2],n=0,p[r+16>>2]=0,p[r+8>>2]=0,p[r+12>>2]=0,a=0;t:{if(s){if(s>>>0>=1073741824)break t;for(a=oo(n=s<<2),p[r+8>>2]=a,p[r+12>>2]=a,p[r+16>>2]=n+a,n=Do(a,0,n);n=n+4|0,s=s+-1|0;);p[r+12>>2]=n}if(h=p[e+140>>2],(l=p[h>>2])&&(p[h+4>>2]=l,Mo(l),p[h+8>>2]=0,p[h>>2]=0,p[h+4>>2]=0,n=p[r+12>>2],a=p[r+8>>2]),p[h>>2]=a,p[h+4>>2]=n,p[h+8>>2]=p[r+16>>2],w=p[t+4>>2],I=p[t+8>>2],M=p[i+4>>2],D=p[i+8>>2],d=p[i>>2],o=p[t>>2],p[(n=r+24|0)>>2]=0,p[n+4>>2]=0,p[(a=r+16|0)>>2]=0,p[a+4>>2]=0,p[r+8>>2]=0,p[r+12>>2]=0,h=d-o|0,Tr(r+8|0),s=0,(0|(l=p[r+12>>2]))!=p[a>>2]&&(n=p[n>>2]+p[r+28>>2]|0,s=p[l+((a=(n>>>0)/113|0)<<2)>>2]+y(n-y(a,113)|0,36)|0),p[s+32>>2]=0,p[s+28>>2]=h,p[s+24>>2]=0,p[s+16>>2]=M,p[s+20>>2]=D,p[s+12>>2]=d,p[s+4>>2]=w,p[s+8>>2]=I,p[s>>2]=o,s=(a=p[r+28>>2])+1|0,p[r+28>>2]=s,s>>>0>=a>>>0)for(h=M,d=w,z=e+32|0,F=e+12|0,j=e+72|0,P=e+84|0,W=p[i+8>>2],A=p[t+8>>2],N=e+140|0,B=e+128|0,L=e+116|0,G=e+80|0,U=e+76|0;;){a=p[r+12>>2],f=p[r+24>>2],n=p[a+((n=((l=f+(o=s+-1|0)|0)>>>0)/113|0)<<2)>>2]+y(l-y(n,113)|0,36)|0,R=p[n+32>>2],c=p[n+24>>2],u=p[n+12>>2],l=p[n>>2],p[r+28>>2]=o,1+(((a=(n=p[r+16>>2])-a|0)?y(a>>2,113)+-1|0:0)-(s+f|0)|0)>>>0>=226&&(Mo(p[n+-4>>2]),p[r+16>>2]=p[r+16>>2]+-4),p[t>>2]=l,p[i>>2]=u,v=(s=(0|c)==(p[e+8>>2]+-1|0)?0:c+1|0)<<2,f=(S=y(R,12))+p[N>>2]|0;i:{r:if(n=p[e>>2]-p[v+p[f>>2]>>2]|0){n:{a:{if((g=u-l|0)>>>0<=2){if(o=p[L>>2],p[o>>2]=s,a=1,(n=p[e+8>>2])>>>0>1)break a;break n}o=(a=p[B>>2])+S|0,qt((C=a)+(a=S+12|0)|0,p[o>>2],p[o+4>>2]),a=v+p[a+p[B>>2]>>2]|0,O=p[a>>2]+(1<<n+-1)|0,p[a>>2]=O;s:if((0|u)!=(0|(a=l)))for(m=p[d+24>>2],n=l,a=u;;){if(_=m+(y(n,A)<<2)|0,b[_+v>>2]<O>>>0){if((0|a)!=(0|(n=n+1|0)))continue;break s}for(;;){if((0|(a=a+-1|0))==(0|n)){a=n;break s}if(k=p[h+24>>2]+(y(a,W)<<2)|0,!(b[v+k>>2]>=O>>>0))break}if(T=0,A)for(;f=p[(o=(c=T<<2)+_|0)>>2],C=o,o=c+k|0,p[C>>2]=p[o>>2],p[o>>2]=f,(0|(T=T+1|0))!=(0|A););if((0|a)==(0|(n=n+1|0)))break}if(o=x(g),(0|(m=a-l|0))!=(0|(_=u-a|0))&&(n=p[e+88>>2],m>>>0<_>>>0&&(p[P>>2]=p[P>>2]|-2147483648>>>n),n=n+1|0,p[e+88>>2]=n,32==(0|n)&&((0|(n=p[U>>2]))==p[G>>2]?Er(j,P):(p[n>>2]=p[e+84>>2],p[U>>2]=n+4),p[e+84>>2]=0,p[e+88>>2]=0)),k=R+1|0,n=g>>>1,Mr(F,o^=31,m>>>0<_>>>0?n-m|0:n-_|0),c=p[N>>2],o=p[(f=c+S|0)>>2],p[(n=o+v|0)>>2]=p[n>>2]+1,qt(c+y(k,12)|0,o,p[f+4>>2]),(0|a)!=(0|l)&&((0|(c=p[r+28>>2]+p[r+24>>2]|0))==(0|((o=(f=p[r+16>>2])-(n=p[r+12>>2])|0)?y(o>>2,113)+-1|0:0))&&(Tr(r+8|0),c=p[r+24>>2]+p[r+28>>2]|0,f=p[r+16>>2],n=p[r+12>>2]),o=0,(0|n)!=(0|f)&&(o=p[(o=n)+((n=(c>>>0)/113|0)<<2)>>2]+y(c-y(n,113)|0,36)|0),p[o+32>>2]=R,p[o+28>>2]=m,p[o+24>>2]=s,p[o+20>>2]=A,p[o+16>>2]=d,p[o+12>>2]=a,p[o+4>>2]=w,p[o+8>>2]=I,p[o>>2]=l,p[r+28>>2]=p[r+28>>2]+1),(0|a)==(0|u))break r;(0|(c=p[r+28>>2]+p[r+24>>2]|0))==(0|((l=(o=p[r+16>>2])-(n=p[r+12>>2])|0)?y(l>>2,113)+-1|0:0))&&(Tr(r+8|0),c=p[r+24>>2]+p[r+28>>2]|0,o=p[r+16>>2],n=p[r+12>>2]),l=0,(0|n)!=(0|o)&&(l=p[(l=n)+((n=(c>>>0)/113|0)<<2)>>2]+y(c-y(n,113)|0,36)|0),p[l+32>>2]=k,p[l+28>>2]=_,p[l+24>>2]=s,p[l+16>>2]=M,p[l+20>>2]=D,p[l+12>>2]=u,p[l+8>>2]=A,p[l+4>>2]=d,p[l>>2]=a,s=p[r+28>>2]+1|0,p[r+28>>2]=s;break i}for(;s=(n+-1|0)==(0|s)?0:s+1|0,p[o+(a<<2)>>2]=s,(a=a+1|0)>>>0<(n=p[e+8>>2])>>>0;);}if(c=0,a=n,g)for(;;){if(a)for(u=p[d+24>>2]+(y(p[d+4>>2],l+c|0)<<2)|0,s=0;o=p[p[L>>2]+(s<<2)>>2]<<2,(a=p[e>>2]-p[o+p[f>>2]>>2]|0)&&(Mr(z,a,p[o+u>>2]),n=p[e+8>>2]),a=n,(s=s+1|0)>>>0<n>>>0;);else a=0;if((0|g)==(0|(c=c+1|0)))break}}s=p[r+28>>2]}if(!s)break}if(Pr(r+8|0),(0|(s=p[r+12>>2]))!=(0|(e=p[r+16>>2]))){for(;Mo(p[s>>2]),(0|e)!=(0|(s=s+4|0)););(0|(t=p[r+16>>2]))!=(0|(e=p[r+12>>2]))&&(p[r+16>>2]=t+(((t-e|0)-4>>>2^-1)<<2))}return(e=p[r+8>>2])&&Mo(e),void(V=r+32|0)}Ao(),E()}Ao(),E()}function xr(e){var t=0,i=0,r=0,n=0;if(p[(e|=0)>>2]=1844,t=p[e+60>>2]){if(r=t,(0|t)!=(0|(i=p[(n=e- -64|0)>>2]))){for(;r=p[(i=i+-4|0)>>2],p[i>>2]=0,r&&pt(r),(0|t)!=(0|i););r=p[e+60>>2]}p[n>>2]=t,Mo(r)}if((t=p[e+48>>2])&&(p[e+52>>2]=t,Mo(t)),t=p[e+36>>2]){if(r=t,(0|t)!=(0|(i=p[(n=e+40|0)>>2]))){for(;a[p[p[(i=i+-24|0)>>2]>>2]](i),(0|t)!=(0|i););r=p[e+36>>2]}p[n>>2]=t,Mo(r)}return p[e>>2]=1680,(t=p[e+16>>2])&&(p[e+20>>2]=t,Mo(t)),(t=p[e+4>>2])&&(p[e+8>>2]=t,Mo(t)),0|e}function Sr(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0;e:{t:if(e=p[(i=e+4|0)>>2]){for(a=(n=(r=_[t+11|0])<<24>>24<0)?p[t+4>>2]:r,l=n?p[t>>2]:t,r=i;(n=(s=a>>>0<(o=(c=(t=_[e+27|0])<<24>>24<0)?p[e+20>>2]:t)>>>0)?a:o)&&(t=e+16|0,t=bs(c?p[t>>2]:t,l,n))||(t=o>>>0<a>>>0?-1:s),r=(0|t)<0?r:e,e=p[(t>>>29&4)+e>>2];);if((0|r)!=(0|i)){if(!((t=(n=(s=(e=_[r+27|0])<<24>>24<0)?p[r+20>>2]:e)>>>0<a>>>0?n:a)&&(e=r+16|0,e=bs(l,s?p[e>>2]:e,t)))){if(a>>>0<n>>>0)break t;break e}if((0|e)>-1)break e}}r=i}return r}function Tr(e){var t,i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0;V=t=V-32|0;e:{t:{if((r=p[(i=e+16|0)>>2])>>>0>=113){if(p[i>>2]=r+-113,r=p[(i=e+4|0)>>2],c=p[r>>2],r=r+4|0,p[i>>2]=r,(0|(n=p[(l=e+8|0)>>2]))==(0|(i=p[e+12>>2])))if(r>>>0>(a=p[e>>2])>>>0)o=(n=n-r|0)>>2,s=(a=(1+(r-a>>2)|0)/-2<<2)+r|0,i=e,n&&(Fo(s,r,n),r=p[e+4>>2]),p[i+4>>2]=r+a,n=s+(o<<2)|0,p[e+8>>2]=n;else{if((i=(i=i-a|0)?i>>1:1)>>>0>=1073741824)break t;if(f=(s=i<<2)+(o=oo(s))|0,i=s=o+(-4&i)|0,(0|r)!=(0|n)){for(i=s;p[i>>2]=p[r>>2],i=i+4|0,(0|n)!=(0|(r=r+4|0)););a=p[e>>2]}p[e>>2]=o,p[e+12>>2]=f,p[(r=e+8|0)>>2]=i,p[e+4>>2]=s,a?(Mo(a),n=p[r>>2]):n=i}p[n>>2]=c,p[l>>2]=p[l>>2]+4;break e}i:{if((n=(r=p[e+8>>2])-p[e+4>>2]>>2)>>>0<(i=(a=p[(s=e+12|0)>>2])-p[e>>2]|0)>>2>>>0){if((0|r)!=(0|a)){h=t,u=oo(4068),p[h+8>>2]=u,Rr(e,t+8|0);break e}if(h=t,u=oo(4068),p[h+8>>2]=u,Cr(e,t+8|0),r=p[(i=e+4|0)>>2],c=p[r>>2],r=r+4|0,p[i>>2]=r,(0|(n=p[(l=e+8|0)>>2]))==(0|(i=p[e+12>>2])))if(r>>>0>(a=p[e>>2])>>>0)o=(n=n-r|0)>>2,s=(a=(1+(r-a>>2)|0)/-2<<2)+r|0,i=e,n&&(Fo(s,r,n),r=p[e+4>>2]),p[i+4>>2]=r+a,n=s+(o<<2)|0,p[e+8>>2]=n;else{if((i=(i=i-a|0)?i>>1:1)>>>0>=1073741824)break i;if(f=(s=i<<2)+(o=oo(s))|0,i=s=o+(-4&i)|0,(0|r)!=(0|n)){for(i=s;p[i>>2]=p[r>>2],i=i+4|0,(0|n)!=(0|(r=r+4|0)););a=p[e>>2]}p[e>>2]=o,p[e+12>>2]=f,p[(r=e+8|0)>>2]=i,p[e+4>>2]=s,a?(Mo(a),n=p[r>>2]):n=i}p[n>>2]=c,p[l>>2]=p[l>>2]+4;break e}if(p[t+24>>2]=s,p[t+20>>2]=0,(i=i?i>>1:1)>>>0<1073741824)for(i=oo(r=i<<2),p[t+8>>2]=i,n=i+(n<<2)|0,p[t+16>>2]=n,p[t+20>>2]=i+r,p[t+12>>2]=n,h=t,u=oo(4068),p[h+4>>2]=u,Rr(t+8|0,t+4|0),r=p[e+8>>2],i=e+4|0;;){if((0|(s=p[i>>2]))==(0|r)){if(n=p[e>>2],p[e>>2]=p[t+8>>2],p[t+8>>2]=n,p[e+4>>2]=p[t+12>>2],p[t+12>>2]=s,i=p[(a=e+8|0)>>2],p[a>>2]=p[t+16>>2],p[t+16>>2]=i,a=p[(e=e+12|0)>>2],p[e>>2]=p[t+20>>2],p[t+20>>2]=a,(0|i)!=(0|r)&&(p[t+16>>2]=i+(((i-s|0)-4>>>2^-1)<<2)),!n)break e;Mo(n);break e}Cr(t+8|0,r=r+-4|0)}Wt(2e3),E()}Wt(2e3),E()}Wt(2e3),E()}V=t+32|0}function wr(e,t,i,r,n){var a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0;s=p[e+8>>2];e:{t:{i:{if((c=(l=p[i>>2])-(a=p[t>>2])|0)>>>0>=64){if(s)break i;t=0;break t}if(t=0,s>>>0<2)break e;for(e=p[n>>2],i=1;t=b[e+(t<<2)>>2]>b[e+(i<<2)>>2]?i:t,(i=i+1|0)>>>0<s>>>0;);break e}for(s=p[e+1140>>2],f=p[e+1128>>2],h=p[t+8>>2],u=p[t+4>>2],d=p[r>>2],_=p[n>>2];;){if(p[(r=(t=o<<2)+f|0)>>2]=0,i=p[e>>2]-p[t+_>>2]|0,p[t+s>>2]=i,i){if((0|a)!=(0|l))for(n=p[t+d>>2]+(1<<i+-1)|0,m=t+p[u+24>>2]|0,i=p[r>>2],t=a;i=(b[m+(y(t,h)<<2)>>2]<n>>>0)+i|0,p[r>>2]=i,(0|l)!=(0|(t=t+1|0)););else i=p[r>>2];t=c-i|0,p[r>>2]=t>>>0<i>>>0?i:t}if(!((o=o+1|0)>>>0<(n=p[e+8>>2])>>>0))break}if(n)for(s=p[e+1140>>2],i=0,l=e+1128|0,r=0,t=0;p[(a=i<<2)+s>>2]&&(r=(a=r>>>0<(o=p[a+p[l>>2]>>2])>>>0)?o:r,t=a?i:t),(0|n)!=(0|(i=i+1|0)););else t=0}Mr(e+1088|0,4,t)}return t}function Er(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;e:{if(n=p[e>>2],(r=(i=(s=p[e+4>>2]-n|0)>>2)+1|0)>>>0<1073741824){if(o=i<<2,a=(i=p[e+8>>2]-n|0)>>1,r=i>>2>>>0<536870911?a>>>0<r>>>0?r:a:1073741823,i=0,r){if(r>>>0>=1073741824)break e;i=oo(r<<2)}return p[(a=o+i|0)>>2]=p[t>>2],t=i+(r<<2)|0,r=a+4|0,(0|s)>=1&&Io(i,n,s),p[e>>2]=i,p[e+8>>2]=t,p[e+4>>2]=r,void(n&&Mo(n))}Ao(),E()}Wt(2e3),E()}function Mr(e,t,i){var r,n=0,a=0;i<<=a=32-t|0;e:{if((0|(r=32-(n=p[e+16>>2])|0))>=(0|t)){if(t=t+n|0,p[e+16>>2]=t,i=p[e+12>>2]|i>>>n,p[e+12>>2]=i,32!=(0|t))break e;return(0|(t=p[(n=e+4|0)>>2]))==p[e+8>>2]?Er(e,e+12|0):(p[t>>2]=i,p[n>>2]=t+4),p[e+12>>2]=0,void(p[e+16>>2]=0)}t=t-r|0,p[e+16>>2]=t,i>>>=a,n=p[e+12>>2]|i>>>t,p[e+12>>2]=n,(0|(t=p[(a=e+4|0)>>2]))==p[e+8>>2]?Er(e,e+12|0):(p[t>>2]=n,p[a>>2]=t+4),p[e+12>>2]=i<<32-p[e+16>>2]}}function Pr(e){var t,i=0,r=0,n=0,a=0,s=0,o=0;if(i=((r=p[e+16>>2])>>>0)/113|0,(0|(n=p[e+4>>2]))!=(0|(t=p[e+8>>2]))){if(i=p[(a=(i<<2)+n|0)>>2]+y(r-y(i,113)|0,36)|0,r=r+p[(s=e+20|0)>>2]|0,(0|i)!=(0|(r=p[((o=(r>>>0)/113|0)<<2)+n>>2]+y(r-y(o,113)|0,36)|0)))for(;4068==((i=i+36|0)-p[a>>2]|0)&&(i=p[a+4>>2],a=a+4|0),(0|i)!=(0|r););}else s=e+20|0;if(p[s>>2]=0,(i=t-n>>2)>>>0>2)for(;Mo(p[n>>2]),n=p[e+4>>2]+4|0,p[e+4>>2]=n,(i=p[e+8>>2]-n>>2)>>>0>2;);(i=i+-1|0)>>>0<=1&&(p[e+16>>2]=i-1|0?56:113)}function Rr(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0;e:{if((0|(n=p[e+8>>2]))==(0|(i=p[e+12>>2])))if((r=p[e+4>>2])>>>0>(a=p[e>>2])>>>0)o=(n=n-r|0)>>2,s=(a=(1+(r-a>>2)|0)/-2<<2)+r|0,i=e,n&&(Fo(s,r,n),r=p[e+4>>2]),p[i+4>>2]=r+a,i=s+(o<<2)|0,p[e+8>>2]=i;else{if((i=(i=i-a|0)?i>>1:1)>>>0>=1073741824)break e;if(l=(s=i<<2)+(o=oo(s))|0,i=s=o+(-4&i)|0,(0|r)!=(0|n)){for(i=s;p[i>>2]=p[r>>2],i=i+4|0,(0|n)!=(0|(r=r+4|0)););a=p[e>>2]}p[e+8>>2]=i,p[e+4>>2]=s,p[e>>2]=o,p[e+12>>2]=l,a&&(Mo(a),i=p[e+8>>2])}else i=n;return p[i>>2]=p[t>>2],void(p[e+8>>2]=p[e+8>>2]+4)}Wt(2e3),E()}function Cr(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;e:{if((0|(n=p[e+4>>2]))==(0|(r=p[e>>2])))if((a=p[e+8>>2])>>>0<(i=p[e+12>>2])>>>0)i=(s=(1+(i-a>>2)|0)/2<<2)+a|0,(r=a-n|0)&&(Fo(i=i-r|0,n,r),a=p[e+8>>2]),p[e+4>>2]=i,p[e+8>>2]=a+s;else{if((i=(i=i-r|0)?i>>1:1)>>>0>=1073741824)break e;if(o=(r=i<<2)+(s=oo(r))|0,i=s+(i+3&-4)|0,(0|n)!=(0|a)){for(r=i;p[r>>2]=p[n>>2],r=r+4|0,(0|a)!=(0|(n=n+4|0)););n=p[e>>2]}else r=i;p[e+8>>2]=r,p[e+4>>2]=i,p[e>>2]=s,p[e+12>>2]=o,n&&(Mo(n),i=p[e+4>>2])}else i=n;return p[i+-4>>2]=p[t>>2],void(p[e+4>>2]=p[e+4>>2]+-4)}Wt(2e3),E()}function Or(e){p[e+32>>2]=0,p[e+12>>2]=-1,p[e+4>>2]=0,p[e+8>>2]=0,p[e>>2]=2108,p[e+16>>2]=0,p[e+20>>2]=0,l[e+21|0]=0,l[e+22|0]=0,l[e+23|0]=0,l[e+24|0]=0,l[e+25|0]=0,l[e+26|0]=0,l[e+27|0]=0,l[e+28|0]=0}function Ir(e,t,i){return t|=0,i|=0,p[(e|=0)+4>>2]=t,t=p[p[p[t+4>>2]+8>>2]+(i<<2)>>2],p[e+12>>2]=i,p[e+8>>2]=t,1}function Dr(e){l[e+28|0]=1}function Fr(e){return 0,0}function Nr(e,t,i){Xi(e,i),p[e+36>>2]=0,p[e+40>>2]=0,p[e>>2]=2212,p[e+44>>2]=0,p[e+48>>2]=0,p[e+52>>2]=0,p[e+56>>2]=0,p[e+60>>2]=0,p[e+64>>2]=0,p[e+68>>2]=0,i=p[t>>2],p[t>>2]=0,p[e+72>>2]=i}function Br(e){var t=0,i=0,r=0,n=0,s=0;if(p[(e|=0)>>2]=2212,i=p[(t=e+72|0)>>2],p[t>>2]=0,i&&a[p[p[i>>2]+4>>2]](i),(t=p[e+60>>2])&&(p[e- -64>>2]=t,Mo(t)),(t=p[e+48>>2])&&Mo(t),i=p[e+36>>2]){if(n=t=i,(0|t)!=(0|(r=p[(s=e+40|0)>>2]))){for(;t=p[(r=r+-4|0)>>2],p[r>>2]=0,t&&a[p[p[t>>2]+4>>2]](t),(0|i)!=(0|r););n=p[e+36>>2]}t=n,p[s>>2]=i,Mo(t)}return p[e>>2]=1680,(t=p[e+16>>2])&&(p[e+20>>2]=t,Mo(t)),(t=p[e+4>>2])&&(p[e+8>>2]=t,Mo(t)),0|e}function Lr(e,t){var i,r=0;V=i=V-32|0;e:{if(!(p[e+8>>2]<<5>>>0>=t>>>0)){if(p[i+24>>2]=0,p[i+16>>2]=0,p[i+20>>2]=0,(0|t)<=-1)break e;r=oo((t=1+(t+-1>>>5)|0)<<2),p[i+24>>2]=t,p[i+20>>2]=0,p[i+16>>2]=r,t=p[e>>2],p[i+12>>2]=0,p[i+8>>2]=t,r=p[e+4>>2],p[i+4>>2]=31&r,p[i>>2]=t+(r>>>3&536870908),function(e,t,i){var r,n,a,s=0,o=0,l=0;V=r=V-32|0,n=p[i+4>>2],s=p[t+4>>2],a=p[i>>2],l=p[t>>2],t=(n-s|0)+(a-l<<3)|0,i=p[e+4>>2],o=t+i|0,p[e+4>>2]=o;!i|(o+-1^i+-1)>>>0>31?(e=p[e>>2],o>>>0<=32?p[e>>2]=0:p[(o+-1>>>3&536870908)+e>>2]=0):e=p[e>>2];e=(i>>>3&536870908)+e|0;(0|(i&=31))!=(0|s)?(p[r+28>>2]=s,p[r+24>>2]=l,p[r+20>>2]=n,p[r+16>>2]=a,p[r+12>>2]=i,p[r+8>>2]=e,function(e,t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0;a=p[t>>2],n=p[i+4>>2]+(p[i>>2]-a<<3)|0,i=p[t+4>>2];if((0|(s=n-i|0))<=0)i=p[r+4>>2];else{if(i?(n=p[r+4>>2],l=(c=32-n|0)>>>0<(o=(0|s)<(0|(f=32-i|0))?s:f)>>>0?c:o,h=p[r>>2],a=p[a>>2]&-1<<i&-1>>>f-o,p[h>>2]=p[h>>2]&(-1<<n&-1>>>c-l^-1)|(n>>>0>i>>>0?a<<n-i:a>>>i-n),i=31&(n=n+l|0),p[r+4>>2]=i,c=h+(n>>>3&536870908)|0,p[r>>2]=c,(0|(n=o-l|0))>=1&&(p[c>>2]=p[c>>2]&(-1>>>32-n^-1)|a>>>l+p[t+4>>2],p[r+4>>2]=n,i=n),s=s-o|0,a=p[t>>2]+4|0,p[t>>2]=a):i=p[r+4>>2],l=-1<<i,o=32-i|0,(0|s)<32)n=s;else for(c=-1^l;n=p[r>>2],a=p[a>>2],p[n>>2]=c&p[n>>2]|a<<i,p[r>>2]=n+4,p[n+4>>2]=l&p[n+4>>2]|a>>>o,a=p[t>>2]+4|0,p[t>>2]=a,f=(0|s)>63,s=n=s+-32|0,f;);(0|n)<1||(t=p[r>>2],s=(0|o)<(0|n)?o:n,l=p[t>>2]&(l&-1>>>o-s^-1),o=p[a>>2]&-1>>>32-n,p[t>>2]=l|o<<i,i=31&(a=i+s|0),p[r+4>>2]=i,a=t+(a>>>3&536870908)|0,p[r>>2]=a,(0|(t=n-s|0))<1||(p[a>>2]=p[a>>2]&(-1>>>32-t^-1)|o>>>s,p[r+4>>2]=t,i=t))}t=p[r>>2],p[e+4>>2]=i,p[e>>2]=t}(r,r+24|0,r+16|0,r+8|0)):((0|t)<1||(s?(o=-1<<s&-1>>>(o=32-s|0)-(i=(0|t)<(0|o)?t:o),p[e>>2]=p[e>>2]&(-1^o)|o&p[l>>2],t=t-i|0,i=31&(s=i+s|0),e=(s>>>3&536870908)+e|0,l=l+4|0):i=0,e=Fo(e,l,o=(s=(0|t)/32|0)<<2)+o|0,(0|(s=t-(s<<5)|0))<1?s=i:(t=-1>>>32-s,p[e>>2]=p[e>>2]&(-1^t)|t&p[o+l>>2])),p[r+4>>2]=s,p[r>>2]=e);V=r+32|0}(i+16|0,i+8|0,i),t=p[e>>2],p[e>>2]=p[i+16>>2],p[i+16>>2]=t,r=p[e+4>>2],p[e+4>>2]=p[i+20>>2],p[i+20>>2]=r,r=p[(e=e+8|0)>>2],p[e>>2]=p[i+24>>2],p[i+24>>2]=r,t&&Mo(t)}return void(V=i+32|0)}Ao(),E()}function Ur(e){Or(e),p[e+36>>2]=0,p[e>>2]=2428}function Vr(e,t,i){var r,n=0,s=0,o=0,c=0,f=0;return V=r=V-16|0,Ir(e|=0,t|=0,i|=0)&&(s=1==(0|a[p[p[e>>2]+32>>2]](e)),o=0,((c=p[p[e+8>>2]+28>>2]+-1>>>0>5)?s:o)||(o=r+8|0,c=e,f=function(e,t){var i,r=0,n=0,a=0,s=0;V=i=V-16|0,r=oo(32),p[i>>2]=r,p[i+4>>2]=17,p[i+8>>2]=-2147483616,l[r+17|0]=0,l[r+16|0]=_[10240],a=_[10236]|_[10237]<<8|_[10238]<<16|_[10239]<<24,n=_[10232]|_[10233]<<8|_[10234]<<16|_[10235]<<24,l[r+8|0]=n,l[r+9|0]=n>>>8,l[r+10|0]=n>>>16,l[r+11|0]=n>>>24,l[r+12|0]=a,l[r+13|0]=a>>>8,l[r+14|0]=a>>>16,l[r+15|0]=a>>>24,a=_[10228]|_[10229]<<8|_[10230]<<16|_[10231]<<24,n=_[10224]|_[10225]<<8|_[10226]<<16|_[10227]<<24,l[0|r]=n,l[r+1|0]=n>>>8,l[r+2|0]=n>>>16,l[r+3|0]=n>>>24,l[r+4|0]=a,l[r+5|0]=a>>>8,l[r+6|0]=a>>>16,l[r+7|0]=a>>>24;e:{if(n=p[(a=t+16|0)>>2]){for(r=a;r=(s=p[n+16>>2]<(0|e))?r:n,n=p[(s<<2)+n>>2];);if(!((0|r)==(0|a)|p[r+16>>2]>(0|e))&&ir(e=r+20|0,i)){e=_a(e,i,-1);break e}}e=_a(t,i,-1)}return l[i+11|0]<=-1&&Mo(p[i>>2]),V=i+16|0,-1==(0|e)?-1:e>>>0>6?-2:e}(i,p[t+48>>2]),s=p[p[e>>2]+48>>2],a[s](0|o,0|c,0|f),t=p[r+8>>2],p[r+8>>2]=0,i=p[e+36>>2],p[e+36>>2]=t,i?(a[p[p[i>>2]+4>>2]](i),t=p[r+8>>2],p[r+8>>2]=0,t&&a[p[p[t>>2]+4>>2]](t),t=p[e+36>>2]):p[r+8>>2]=0,n=1,t&&(a[p[p[e>>2]+36>>2]](e,t)||(t=p[e+36>>2],p[e+36>>2]=0,t&&a[p[p[t>>2]+4>>2]](t))))),V=r+16|0,0|n}function zr(e){var t=0,i=0;return p[(e|=0)>>2]=2428,t=p[(i=e+36|0)>>2],p[i>>2]=0,t&&a[p[p[t>>2]+4>>2]](t),p[e>>2]=2108,t=p[(i=e+32|0)>>2],p[i>>2]=0,t&&pt(t),(t=p[e+16>>2])&&(p[e+20>>2]=t,Mo(t)),0|e}function jr(e){var t=0,i=0;p[(e|=0)>>2]=2428,t=p[(i=e+36|0)>>2],p[i>>2]=0,t&&a[p[p[t>>2]+4>>2]](t),p[e>>2]=2108,t=p[(i=e+32|0)>>2],p[i>>2]=0,t&&pt(t),(t=p[e+16>>2])&&(p[e+20>>2]=t,Mo(t)),Mo(e)}function Wr(e,t,i,r){var n,a,s,o,l=0,c=0,f=0,h=0;p[e>>2]=3364,p[e+4>>2]=t,t=p[i+8>>2],l=p[i+12>>2],c=p[i+16>>2],a=p[i+20>>2],s=p[i>>2],o=p[i+4>>2],p[e+40>>2]=0,p[(n=e+32|0)>>2]=0,p[n+4>>2]=0,p[e+24>>2]=c,p[e+28>>2]=a,p[e+16>>2]=t,p[e+20>>2]=l,p[e+8>>2]=s,p[e+12>>2]=o;e:{if(t=p[i+28>>2]-p[i+24>>2]|0){if((l=t>>2)>>>0>=1073741824)break e;t=oo(t),p[e+32>>2]=t,p[(c=e+36|0)>>2]=t,p[e+40>>2]=t+(l<<2),l=p[i+24>>2],(0|(i=p[i+28>>2]-l|0))<1||(f=c,h=Io(t,l,i)+i|0,p[f>>2]=h)}return p[e>>2]=3308,t=p[r+4>>2],p[e+44>>2]=p[r>>2],p[e+48>>2]=t,t=p[r+12>>2],p[e+52>>2]=p[r+8>>2],void(p[e+56>>2]=t)}Ao(),E()}function Gr(e,t,i,r){var n,a,s,o,l=0,c=0,f=0,h=0;p[e>>2]=3364,p[e+4>>2]=t,t=p[i+8>>2],l=p[i+12>>2],c=p[i+16>>2],a=p[i+20>>2],s=p[i>>2],o=p[i+4>>2],p[e+40>>2]=0,p[(n=e+32|0)>>2]=0,p[n+4>>2]=0,p[e+24>>2]=c,p[e+28>>2]=a,p[e+16>>2]=t,p[e+20>>2]=l,p[e+8>>2]=s,p[e+12>>2]=o;e:{if(t=p[i+28>>2]-p[i+24>>2]|0){if((l=t>>2)>>>0>=1073741824)break e;t=oo(t),p[e+32>>2]=t,p[(c=e+36|0)>>2]=t,p[e+40>>2]=t+(l<<2),l=p[i+24>>2],(0|(i=p[i+28>>2]-l|0))<1||(f=c,h=Io(t,l,i)+i|0,p[f>>2]=h)}return p[e>>2]=4900,t=p[r+4>>2],p[e+44>>2]=p[r>>2],p[e+48>>2]=t,t=p[r+12>>2],p[e+52>>2]=p[r+8>>2],void(p[e+56>>2]=t)}Ao(),E()}function Hr(e){var t;p[(e|=0)>>2]=3364,(t=p[e+32>>2])&&(p[e+36>>2]=t,Mo(t)),Mo(e)}function Yr(e){return p[(e|=0)+4>>2]}function Xr(e){var t=0;return!p[(e|=0)+52>>2]|!p[e+44>>2]|!p[e+48>>2]||(t=0!=p[e+56>>2]),0|t}function Zr(e,t){return 0,0,-1}function Qr(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;if((r=p[e+8>>2])-(i=p[(n=e+4|0)>>2])>>2>>>0>=t>>>0)return c=n,f=Do(i,0,e=t<<2)+e|0,void(p[c>>2]=f);e:{if((a=(i=(s=i-(n=p[e>>2])|0)>>2)+t|0)>>>0<1073741824){if(l=i<<2,i=(r=r-n|0)>>1,r=r>>2>>>0<536870911?i>>>0<a>>>0?a:i:1073741823,i=0,r){if(r>>>0>=1073741824)break e;i=o=oo(r<<2)}return Do(l+i|0,0,t<<2),t=i+(a<<2)|0,a=i+(r<<2)|0,(0|s)>=1&&Io(o,n,s),p[e>>2]=i,p[e+8>>2]=a,p[e+4>>2]=t,void(n&&Mo(n))}Ao(),E()}Wt(2576),E()}function Jr(e){var t=0;return p[(e|=0)>>2]=3420,(t=p[e+152>>2])&&(p[e+156>>2]=t,Mo(t)),(t=p[e+112>>2])&&(p[e+116>>2]=t,Mo(t)),(t=p[e+96>>2])&&Mo(t),(t=p[e+84>>2])&&Mo(t),(t=p[e+72>>2])&&Mo(t),(t=p[e+60>>2])&&Mo(t),p[e>>2]=3364,(t=p[e+32>>2])&&(p[e+36>>2]=t,Mo(t)),0|e}function qr(e){return 0,4}function Kr(e,t){e|=0,t|=0;var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0;for(V=i=V-32|0,o=1;;){if(s=y(r,12)+e|0,Ki(p[(n=s- -64|0)>>2],t),r=r+1|0,p[n>>2]){if(ve(a=me(i)),(0|(n=p[n>>2]-r|0))>=0)for(c=s+60|0;;){for(s=0;l=n+s|0,ye(a,p[p[c>>2]+(l>>>3&536870908)>>2]>>>(31&l)&1),(0|o)!=(0|(s=s+1|0)););if(!((0|(n=n-r|0))>=0))break}ke(a,t),be(a)}if(o=o+1|0,4==(0|r))break}return p[i>>2]=p[e+12>>2],r=o=p[t+20>>2],a=p[t+16>>2],((0|r)<0||(0|r)<=0&&!(a>>>0>0))&&(Yt(t,p[t+4>>2],i,i+4|0),a=p[t+16>>2],r=p[t+20>>2]),p[i>>2]=p[e+16>>2],((0|r)<0||(0|r)<=0&&!(a>>>0>0))&&Yt(t,p[t+4>>2],i,i+4|0),V=i+32|0,1}function $r(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0;e:{t:{if((a=i-t>>2)>>>0<=(r=p[e+8>>2])-(n=p[e>>2])>>2>>>0){if(r=(s=p[e+4>>2]-n|0)+t|0,(s=(l=a>>>0>(o=s>>2)>>>0?r:i)-t|0)&&Fo(n,t,s),a>>>0>o>>>0){if((0|i)==(0|l))break t;for(t=p[e+4>>2];p[t>>2]=p[r>>2],t=t+4|0,(0|(r=r+4|0))!=(0|i););return void(p[e+4>>2]=t)}return void(p[e+4>>2]=n+(s>>2<<2))}if(n&&(p[e+4>>2]=n,Mo(n),p[e+8>>2]=0,p[e>>2]=0,p[e+4>>2]=0,r=0),a>>>0>=1073741824)break e;if(n=r>>1,(r=r>>2>>>0<536870911?n>>>0<a>>>0?a:n:1073741823)>>>0>=1073741824)break e;if(r=oo(n=r<<2),p[e>>2]=r,p[e+4>>2]=r,p[e+8>>2]=r+n,(0|t)!=(0|i)){for(;p[r>>2]=p[t>>2],r=r+4|0,(0|i)!=(0|(t=t+4|0)););p[e+4>>2]=r}}return}Ao(),E()}function en(e){return 0,5}function tn(e){return!p[(e|=0)+60>>2]|!p[e+44>>2]|!p[e+48>>2]|!p[e+52>>2]?0:0!=p[e+56>>2]|0}function rn(e,t){e|=0;var i=0;return p[(t|=0)+56>>2]|3!=_[t+24|0]||(p[e+60>>2]=t,i=1),0|i}function nn(e,t){e|=0,t|=0;var i,r=0,n=0,a=0;if(V=i=V-48|0,p[i+40>>2]=p[e+80>>2],((0|(a=p[t+20>>2]))<0||(0|a)<=0&&!(b[t+16>>2]>0))&&Yt(t,p[t+4>>2],i+40|0,i+44|0),ve(a=me(i+8|0)),p[i+40>>2]>=1)for(r=1;ye(a,1&(r^(r=p[p[e+76>>2]+(n>>>3&536870908)>>2]>>>(31&n))^-1)),r&=1,(0|(n=n+1|0))<p[i+40>>2];);return ke(a,t),p[i+44>>2]=p[e+12>>2],n=r=p[t+20>>2],r=p[t+16>>2],((0|n)<0||(0|n)<=0&&!(r>>>0>0))&&(Yt(t,p[t+4>>2],i+44|0,i+48|0),r=p[t+16>>2],n=p[t+20>>2]),p[i+44>>2]=p[e+16>>2],((0|n)<0||(0|n)<=0&&!(r>>>0>0))&&Yt(t,p[t+4>>2],i+44|0,i+48|0),be(a),V=i+48|0,1}function an(e,t,i,r){var n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,A=0,v=0,y=0;if(V=n=V-32|0,(0|i)>0)for(;m=l,l=(f=p[(l=(a<<3)+t|0)+4>>2])|(o=p[l>>2])?a:m,s=s+f|0,(f=o+h|0)>>>0<o>>>0&&(s=s+1|0),h=f,(0|(a=a+1|0))!=(0|i););f=l+1|0,p[e+12>>2]=f,o=p[e>>2],f>>>0>(i=p[e+4>>2]-o>>3)>>>0?qe(e,f-i|0):f>>>0>=i>>>0||(p[e+4>>2]=o+(f<<3));e:{t:{i:{r:{if((0|l)>=0){for(_=+(h>>>0)+4294967296*+(s>>>0),s=p[e>>2],a=0;i=p[(h=(o=a<<3)+t|0)+4>>2],A=0!=(0|(h=p[h>>2]))|0!=(0|i),i=(c=(+(h>>>0)+4294967296*+(i>>>0))/_*262144+.5)<4294967296&c>=0?~~c>>>0:0,i=A?i||1:i,p[(o=s+o|0)>>2]=i,u=i+u|0,i=(0|a)==(0|l),a=a+1|0,!i;);if(262144==(0|u))break r}if(p[n+16>>2]=0,p[n+8>>2]=0,p[n+12>>2]=0,o=0,f){if(f>>>0>=1073741824)break e;o=oo(i=f<<2),p[n+8>>2]=o,d=i+o|0,p[n+16>>2]=d,Do(o,0,i),p[n+12>>2]=d}if((0|l)>-1)for(a=0;p[(a<<2)+o>>2]=a,i=(0|a)==(0|l),a=a+1|0,!i;);p[n+24>>2]=e,function e(t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0;n:{a:for(;;){u=i+-4|0;s:for(;;){s=t;o:for(;;){l:{c:{f:{h:{if((t=(n=i-s|0)>>2)>>>0<=5){u:switch(t-2|0){case 0:if(r=p[r>>2],t=p[r>>2],r=p[r+4>>2]-t>>3,i=p[(n=i+-4|0)>>2],r>>>0<=i>>>0)break h;if(u=r,r=p[s>>2],u>>>0<=r>>>0)break h;if(b[t+(i<<3)>>2]>=b[t+(r<<3)>>2])break n;return p[s>>2]=i,void(p[n>>2]=r);case 2:return void nt(s,s+4|0,s+8|0,i+-4|0,r);case 3:break u;case 1:break f;default:break n}return void at(s,s+4|0,s+8|0,s+12|0,i+-4|0,r)}if((0|n)<=123)return void st(s,i,r);if(c=((0|t)/2<<2)+s|0,h=(0|n)>=3997?at(s,(t=(0|t)/4<<2)+s|0,c,t+c|0,u,r):ot(s,c,u,r),t=p[r>>2],l=p[t>>2],o=p[t+4>>2]-l>>3,t=p[s>>2],o>>>0<=t>>>0)break l;if(n=p[c>>2],o>>>0<=n>>>0)break l;if(a=u,f=p[l+(t<<3)>>2],d=p[l+(n<<3)>>2],f>>>0>=d>>>0){for(;;){if((0|(a=a+-4|0))==(0|s)){if(t=p[u>>2],o>>>0<=t>>>0)break l;if(n=s+4|0,f>>>0<b[l+(t<<3)>>2])break c;if((0|n)==(0|u))break n;for(;;){if(a=p[n>>2],o>>>0<=a>>>0)break l;if(f>>>0<b[l+(a<<3)>>2]){p[n>>2]=t,p[u>>2]=a,n=n+4|0;break c}if((0|u)==(0|(n=n+4|0)))break}break n}if(n=p[a>>2],o>>>0<=n>>>0)break l;if(!(b[l+(n<<3)>>2]>=d>>>0))break}p[s>>2]=n,p[a>>2]=t,h=h+1|0}u:if(!((n=s+4|0)>>>0>=a>>>0)){if(t=p[n>>2],o>>>0<=t>>>0)break l;for(;;){for(f=p[c>>2],d=l+(f<<3)|0;;){if(o>>>0<=f>>>0)break l;if(_=p[d>>2],b[l+(t<<3)>>2]<_>>>0){if(t=p[n+4>>2],n=n+4|0,o>>>0>t>>>0)continue;break l}break}for(;;){if(f=p[(a=a+-4|0)>>2],o>>>0<=f>>>0)break l;if(!(b[l+(f<<3)>>2]>=_>>>0))break}if(n>>>0>a>>>0)break u;if(p[n>>2]=f,p[a>>2]=t,c=(0|n)==(0|c)?a:c,h=h+1|0,t=p[n+4>>2],n=n+4|0,!(o>>>0>t>>>0))break}break l}if((0|n)!=(0|c)){if(t=p[c>>2],o>>>0<=t>>>0)break l;if(a=p[n>>2],o>>>0<=a>>>0)break l;b[l+(t<<3)>>2]>=b[l+(a<<3)>>2]||(p[n>>2]=t,p[c>>2]=a,h=h+1|0)}if(!h){if(a=lt(s,n,r),lt(t=n+4|0,i,r)){if(i=n,t=s,!a)continue a;break n}if(a)continue s}if((n-s|0)<(i-n|0)){e(s,n,r),t=n+4|0;continue s}e(n+4|0,i,r),i=n,t=s;continue a}vo(),E()}ot(s,s+4|0,i+-4|0,r);break n}if((0|n)==(0|u))break n;if(t=u,a=p[s>>2],!(o>>>0<=a>>>0))for(;;){for(c=l+(a<<3)|0;;){if(h=p[n>>2],o>>>0<=h>>>0)break l;if((f=p[c>>2])>>>0>=b[l+(h<<3)>>2]){if(n=n+4|0,o>>>0>a>>>0)continue;break l}break}for(;;){if(a=p[(t=t+-4|0)>>2],o>>>0<=a>>>0)break l;if(!(f>>>0<b[l+(a<<3)>>2]))break}if(n>>>0>=t>>>0){s=n;continue o}if(p[n>>2]=a,p[t>>2]=h,n=n+4|0,a=p[s>>2],!(o>>>0>a>>>0))break}}break}break}break}vo(),E()}}(o,d,n+24|0);n:if((0|u)<262144)i=p[e>>2]+(p[p[n+12>>2]+-4>>2]<<3)|0,p[i>>2]=262144+(p[i>>2]-u|0),a=0;else for(i=u+-262144|0,f=p[n+8>>2],h=(0|l)<1;;){a:if(!h)for(c=262144/+(0|u),d=p[e>>2],o=l;;){if(a=d+(p[(o<<2)+f>>2]<<3)|0,(s=p[a>>2])>>>0<=1){if((0|o)!=(0|l))break a;a=1;break n}if(A=s+-1|0,m=a,v=s,y=i,a=s,_=T(c*+(s>>>0)),s=(0|(s=(0|(a=(a=a-(k(_)<2147483648?~~_:-2147483648)|0)||1))<(0|s)?a:A))>(0|i)?y:s,p[m>>2]=v-s,i=i-s|0,262144==(0|(u=u-s|0))){u=262144;break a}if(s=(0|o)>1,o=o+-1|0,!s)break}if(a=0,!((0|i)>0))break}if((i=p[n+8>>2])&&(p[n+12>>2]=i,Mo(i)),a)break t;if((0|l)>=0)break i;break t}if((0|l)<0)break t}for(s=p[e>>2],a=0,i=0;p[(o=s+(a<<3)|0)+4>>2]=i,i=p[o>>2]+i|0,o=(0|a)==(0|l),a=a+1|0,!o;);if(262144==(0|i)){if(a=0,c=0,(0|l)>=0)for(i=p[e>>2];(o=p[(s=a<<3)+i>>2])&&(s=t+s|0,c+=Co(3814697265625e-18*+(o>>>0))*(+b[s>>2]+4294967296*+b[s+4>>2])),s=(0|a)==(0|l),a=a+1|0,!s;);t=e,i=e,(c=w(-c))<0x10000000000000000&c>=0?(s=k(c)>=1?c>0?~~S(T(c/4294967296),4294967295)>>>0:~~w((c-+(~~c>>>0>>>0))/4294967296)>>>0:0,l=~~c>>>0):(s=0,l=0),p[i+16>>2]=l,p[t+20>>2]=s,it(e,r)}}return void(V=n+32|0)}Ao(),E()}function sn(e,t){var i,r,n,a=0,s=0,o=0,c=0,f=0;V=i=V-32|0,f=p[t>>2]+p[e+40>>2]|0,(s=(a=p[e+32>>2])+-1048576|0)>>>0<=63?(a=e+28|0,l[p[e+24>>2]+p[a>>2]|0]=s,s=p[a>>2]+1|0):s>>>0<=16383?(s=e+28|0,o=p[e+24>>2]+p[s>>2]|0,a=a+-1032192|0,l[0|o]=a,l[o+1|0]=a>>>8,s=p[s>>2]+2|0):s>>>0<=4194303?(o=e+28|0,s=p[e+24>>2]+p[o>>2]|0,a=a+7340032|0,l[s+2|0]=a>>>16,l[s+1|0]=a>>>8,l[0|s]=a,s=p[o>>2]+3|0):s>>>0<=1073741823?(o=e+28|0,s=p[e+24>>2]+p[o>>2]|0,a=a+-1074790400|0,l[0|s]=a,l[s+1|0]=a>>>8,l[s+2|0]=a>>>16,l[s+3|0]=a>>>24,s=p[o>>2]+4|0):s=p[e+28>>2],rt(a=s,o=c=s>>31,c=oa(i)),Fo((r=p[c+4>>2]-p[c>>2]|0)+f|0,f,a),Io(f,p[c>>2],r),s=p[e+44>>2],f=t,n=p[e+40>>2],e=o,(t=a+r|0)>>>0<a>>>0&&(e=e+1|0),la(f,t=n+(a=t)|0),e=p[c+12>>2],p[c+12>>2]=0,e&&Mo(e),(e=p[c>>2])&&(p[c+4>>2]=e,Mo(e)),V=i+32|0}function on(e,t){var i,r,n,a=0,s=0,o=0,c=0,f=0;V=i=V-32|0,f=p[t>>2]+p[e+40>>2]|0,(s=(a=p[e+32>>2])+-4194304|0)>>>0<=63?(a=e+28|0,l[p[e+24>>2]+p[a>>2]|0]=s,s=p[a>>2]+1|0):s>>>0<=16383?(s=e+28|0,o=p[e+24>>2]+p[s>>2]|0,a=a+-4177920|0,l[0|o]=a,l[o+1|0]=a>>>8,s=p[s>>2]+2|0):s>>>0<=4194303?(o=e+28|0,s=p[e+24>>2]+p[o>>2]|0,a=a+4194304|0,l[s+2|0]=a>>>16,l[s+1|0]=a>>>8,l[0|s]=a,s=p[o>>2]+3|0):s>>>0<=1073741823?(o=e+28|0,s=p[e+24>>2]+p[o>>2]|0,a=a+-1077936128|0,l[0|s]=a,l[s+1|0]=a>>>8,l[s+2|0]=a>>>16,l[s+3|0]=a>>>24,s=p[o>>2]+4|0):s=p[e+28>>2],rt(a=s,o=c=s>>31,c=oa(i)),Fo((r=p[c+4>>2]-p[c>>2]|0)+f|0,f,a),Io(f,p[c>>2],r),s=p[e+44>>2],f=t,n=p[e+40>>2],e=o,(t=a+r|0)>>>0<a>>>0&&(e=e+1|0),la(f,t=n+(a=t)|0),e=p[c+12>>2],p[c+12>>2]=0,e&&Mo(e),(e=p[c>>2])&&(p[c+4>>2]=e,Mo(e)),V=i+32|0}function ln(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;e:{if(n=p[e>>2],(r=(i=(s=p[e+4>>2]-n|0)>>2)+1|0)>>>0<1073741824){if(o=i<<2,a=(i=p[e+8>>2]-n|0)>>1,r=i>>2>>>0<536870911?a>>>0<r>>>0?r:a:1073741823,i=0,r){if(r>>>0>=1073741824)break e;i=oo(r<<2)}return p[(a=o+i|0)>>2]=p[t>>2],t=i+(r<<2)|0,r=a+4|0,(0|s)>=1&&Io(i,n,s),p[e>>2]=i,p[e+8>>2]=t,p[e+4>>2]=r,void(n&&Mo(n))}Ao(),E()}Wt(11160),E()}function cn(e,t){t|=0;var i=0,r=0;e:{if((0|(i=p[(e|=0)+172>>2]))!=(0|(e=p[e+176>>2])))for(r=(e-i|0)/136|0,e=0;;){if(p[y(e,136)+i>>2]==(0|t))break e;if(!((e=e+1|0)>>>0<r>>>0))break}return 0}return e=y(e,136)+i|0,0|(_[e+100|0]?e+4|0:0)}function fn(e,t){t|=0;var i=0,r=0,n=0;e:{if((0|(r=p[(e|=0)+172>>2]))!=(0|(i=p[e+176>>2])))for(n=(i-r|0)/136|0,i=0;;){if(p[y(i,136)+r>>2]==(0|t))break e;if(!((i=i+1|0)>>>0<n>>>0))break}return e+40|0}return 104+(y(i,136)+r|0)|0}function hn(e,t,i){var r=0,n=0,a=0,s=0,o=0;if((r=p[e+8>>2])-(n=p[e>>2])>>2>>>0>=t>>>0){if(o=(s=(a=p[e+4>>2])-n>>2)>>>0<t>>>0?s:t)for(r=n;p[r>>2]=p[i>>2],r=r+4|0,o=o+-1|0;);if(s>>>0<t>>>0){for(r=t-s|0;p[a>>2]=p[i>>2],a=a+4|0,r=r+-1|0;);return void(p[e+4>>2]=a)}p[e+4>>2]=(t<<2)+n}else if(n&&(p[e+4>>2]=n,Mo(n),p[e+8>>2]=0,p[e>>2]=0,p[e+4>>2]=0,r=0),t>>>0>=1073741824||(n=r>>1,(n=r>>2>>>0<536870911?n>>>0<t>>>0?t:n:1073741823)>>>0>=1073741824))Ao(),E();else{for(r=oo(n<<=2),p[e>>2]=r,p[e+4>>2]=r,p[e+8>>2]=r+n;p[r>>2]=p[i>>2],r=r+4|0,t=t+-1|0;);p[e+4>>2]=r}}function un(e,t,i){var r,n,a,s,o=0,c=0,f=0,h=0;V=r=V-112|0,n=oo(120),a=p[t+8>>2],p[n+12>>2]=0,p[n+16>>2]=0,p[n>>2]=12168,p[n+4>>2]=0,p[n+20>>2]=0,p[n+24>>2]=0,p[n+28>>2]=0,p[n+32>>2]=0,p[n+36>>2]=0,p[n+40>>2]=0,p[n+44>>2]=0,p[n+48>>2]=0,p[n+52>>2]=0,p[n+56>>2]=0,p[n+60>>2]=0,p[n+8>>2]=12380,p[(c=n- -64|0)>>2]=0,p[c+4>>2]=0,p[n+72>>2]=0,p[n+76>>2]=0,p[n+80>>2]=0,p[n+84>>2]=0,p[n+88>>2]=0,p[n+116>>2]=0,p[n+112>>2]=i,p[n+108>>2]=a,p[n+104>>2]=0,p[n+96>>2]=0,p[n+100>>2]=0,c=p[t+12>>2],p[r+48>>2]=0,p[r+52>>2]=0,p[r+40>>2]=0,p[r+44>>2]=0,p[(o=s=r+24|0)>>2]=0,p[o+4>>2]=0,p[(o=r- -64|0)>>2]=0,p[o+4>>2]=0,p[r+72>>2]=0,p[r+76>>2]=0,p[(o=r+80|0)>>2]=0,p[o+4>>2]=0,p[r+88>>2]=0,p[r+104>>2]=0,p[r+32>>2]=0,p[r+36>>2]=0,p[r+16>>2]=0,p[r+20>>2]=0,p[r+56>>2]=0,p[r+60>>2]=0,p[r+8>>2]=12380,p[r+96>>2]=0,p[r+100>>2]=0,p[r+12>>2]=c,f=p[c>>2],h=p[c+4>>2],l[r+111|0]=0,dn(r+32|0,(h-f>>2>>>0)/3|0,r+111|0),f=p[r+12>>2],h=p[f+28>>2],f=p[f+24>>2],l[r+111|0]=0,dn(r+44|0,h-f>>2,r+111|0),p[r+28>>2]=n,p[s>>2]=a,p[r+20>>2]=i,p[r+16>>2]=c,p[n+116>>2]=t+72,function(e,t){var i=0;if(i=p[t+8>>2],p[e+12>>2]=p[t+4>>2],p[e+16>>2]=i,p[e+28>>2]=p[t+20>>2],i=p[t+16>>2],p[e+20>>2]=p[t+12>>2],p[e+24>>2]=i,Un(e+32|0,t+24|0),Un(e+44|0,t+36|0),(e+8|0)==(0|t))return void(p[e+92>>2]=p[t+84>>2]);pn(e+56|0,p[t+48>>2],p[t+52>>2]),pn(e+68|0,p[t+60>>2],p[t- -64>>2]),pn(e+80|0,p[t+72>>2],p[t+76>>2]),p[e+92>>2]=p[t+84>>2],qt(e+96|0,p[t+88>>2],p[t+92>>2])}(n,r+8|0),p[e>>2]=n,p[r+8>>2]=12380,(e=p[r+96>>2])&&(p[r+100>>2]=e,Mo(e)),(e=p[o>>2])&&(p[r+84>>2]=e,Mo(e)),(e=p[r+68>>2])&&(p[r+72>>2]=e,Mo(e)),(e=p[r+56>>2])&&(p[r+60>>2]=e,Mo(e)),p[r+8>>2]=12616,(e=p[r+44>>2])&&Mo(e),(e=p[r+32>>2])&&Mo(e),V=r+112|0}function dn(e,t,i){var r,n=0,a=0,s=0;V=r=V-16|0,p[e+4>>2]=0;e:{t:if(t){if((n=(a=p[e+8>>2])<<5)>>>0>=t>>>0)p[e+4>>2]=t;else{if(p[r+8>>2]=0,p[r>>2]=0,p[r+4>>2]=0,(0|t)<=-1)break e;Lr(r,s=n>>>0<=1073741822?(n=a<<6)>>>0<(s=t+31&-32)>>>0?s:n:2147483647),s=p[e>>2],p[e>>2]=p[r>>2],p[r>>2]=s,a=p[e+4>>2],p[e+4>>2]=t,p[r+4>>2]=a,a=p[(n=e+8|0)>>2],p[n>>2]=p[r+8>>2],p[r+8>>2]=a,s&&Mo(s)}if(a=(n=t>>>5)<<2,e=p[e>>2],_[0|i]){if(e=Do(e,255,a),!(t&=31))break t;p[(e=e+(n<<2)|0)>>2]=p[e>>2]|-1>>>32-t}else e=Do(e,0,a),(t&=31)&&(p[(e=e+(n<<2)|0)>>2]=p[e>>2]&(-1>>>32-t^-1))}return void(V=r+16|0)}Ao(),E()}function pn(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0,c=0;e:{t:{if((a=(r=i-t|0)>>2)>>>0<=(s=p[e+8>>2])-(n=p[e>>2])>>2>>>0){if((0|(r=a>>>0>(s=(r=(o=p[e+4>>2])-n|0)>>2)>>>0?t+r|0:i))!=(0|t))for(;p[n>>2]=p[t>>2],n=n+4|0,(0|r)!=(0|(t=t+4|0)););if(a>>>0>s>>>0){if((0|(t=i-r|0))<1)break t;return Io(o,r,t),void(p[(e=e+4|0)>>2]=t+p[e>>2])}return void(p[e+4>>2]=n)}if(n&&(p[e+4>>2]=n,Mo(n),p[e+8>>2]=0,p[e>>2]=0,p[e+4>>2]=0,s=0),a>>>0>=1073741824)break e;if(i=s>>1,(i=s>>2>>>0<536870911?i>>>0<a>>>0?a:i:1073741823)>>>0>=1073741824)break e;i=oo(n=i<<2),p[e>>2]=i,p[(a=e+4|0)>>2]=i,p[e+8>>2]=i+n,(0|r)<1||(l=a,c=Io(i,t,r)+r|0,p[l>>2]=c)}return}Ao(),E()}function _n(e,t,i){var r,n,a,s,o,c,f,h,u=0,d=0,_=0,m=0,b=0;V=r=V+-64|0,n=oo(80),d=p[t+8>>2],p[(u=a=n+12|0)>>2]=0,p[u+4>>2]=0,p[n>>2]=12636,p[n+4>>2]=0,p[(u=s=n+20|0)>>2]=0,p[u+4>>2]=0,p[(u=c=n+28|0)>>2]=0,p[u+4>>2]=0,p[n+36>>2]=0,p[n+40>>2]=0,p[(u=o=n+44|0)>>2]=0,p[u+4>>2]=0,p[n+52>>2]=0,p[n+76>>2]=0,p[n+72>>2]=i,p[n+68>>2]=d,p[n- -64>>2]=0,p[(u=f=n+56|0)>>2]=0,p[u+4>>2]=0,p[n+8>>2]=12800,u=p[t+12>>2],p[(m=h=r+40|0)>>2]=0,p[m+4>>2]=0,p[r+32>>2]=0,p[r+36>>2]=0,p[(_=m=r+16|0)>>2]=0,p[_+4>>2]=0,p[r+56>>2]=0,p[r+24>>2]=0,p[r+28>>2]=0,p[r+8>>2]=0,p[r+12>>2]=0,p[r+48>>2]=0,p[r+52>>2]=0,p[r>>2]=12800,p[r+4>>2]=u,_=p[u>>2],b=p[u+4>>2],l[r+63|0]=0,dn(r+24|0,(b-_>>2>>>0)/3|0,r+63|0),_=p[r+4>>2],b=p[_+28>>2],_=p[_+24>>2],l[r+63|0]=0,dn(r+36|0,b-_>>2,r+63|0),p[(_=r+20|0)>>2]=n,p[m>>2]=d,p[(d=r+12|0)>>2]=i,p[r+8>>2]=u,p[n+76>>2]=t+72,p[c>>2]=p[_>>2],t=p[d+4>>2],p[s>>2]=p[d>>2],p[s+4>>2]=t,t=p[r+8>>2],p[a>>2]=p[r+4>>2],p[a+4>>2]=t;e:{t:{if(t=n,u=p[r+28>>2]){if(d=n+32|0,u>>>0<=p[n+40>>2]<<5>>>0)i=u+-1>>>5,u=p[d>>2];else{if((i=p[d>>2])&&(Mo(i),p[n+40>>2]=0,p[n+32>>2]=0,p[n+36>>2]=0,u=p[r+28>>2]),(0|u)<=-1)break t;u=oo((d=(i=u+-1>>>5)+1|0)<<2),p[n+40>>2]=d,p[n+36>>2]=0,p[n+32>>2]=u}Fo(u,p[r+24>>2],4+(i<<2)|0),i=p[r+28>>2]}else i=0;if(p[t+36>>2]=i,i=n,u=p[h>>2]){if(u>>>0<=p[n+52>>2]<<5>>>0)t=u+-1>>>5,u=p[o>>2];else{if((t=p[o>>2])&&(Mo(t),p[n+52>>2]=0,p[n+44>>2]=0,p[n+48>>2]=0,u=p[r+40>>2]),(0|u)<=-1)break e;u=oo((d=(t=u+-1>>>5)+1|0)<<2),p[n+52>>2]=d,p[n+48>>2]=0,p[n+44>>2]=u}Fo(u,p[r+36>>2],4+(t<<2)|0),t=p[r+40>>2]}else t=0;return p[i+48>>2]=t,pn(f,p[r+48>>2],p[r+52>>2]),p[e>>2]=n,p[r>>2]=12800,(e=p[r+48>>2])&&(p[r+52>>2]=e,Mo(e)),p[r>>2]=12616,(e=p[r+36>>2])&&Mo(e),(e=p[r+24>>2])&&Mo(e),void(V=r- -64|0)}Ao(),E()}Ao(),E()}function mn(e,t){var i=0,r=0,n=0,s=0,o=0;e:{t:{i:{if(n=p[e>>2],(i=(s=p[e+4>>2]-n>>2)+1|0)>>>0<1073741824){if(o=(n=p[e+8>>2]-n|0)>>1,i=n>>2>>>0<536870911?o>>>0<i>>>0?i:o:1073741823){if(i>>>0>=1073741824)break i;r=oo(i<<2)}if(n=p[t>>2],p[t>>2]=0,p[(t=(s<<2)+r|0)>>2]=n,n=(i<<2)+r|0,s=t+4|0,(0|(i=p[e+4>>2]))==(0|(r=p[e>>2])))break t;for(;o=p[(i=i+-4|0)>>2],p[i>>2]=0,p[(t=t+-4|0)>>2]=o,(0|i)!=(0|r););r=p[e+4>>2],i=p[e>>2];break e}Ao(),E()}Wt(11752),E()}i=r}if(p[e>>2]=t,p[e+8>>2]=n,p[e+4>>2]=s,(0|i)!=(0|r))for(;e=p[(r=r+-4|0)>>2],p[r>>2]=0,e&&a[p[p[e>>2]+4>>2]](e),(0|i)!=(0|r););i&&Mo(i)}function bn(e,t){t|=0;var i,r=0,n=0,s=0,o=0;V=i=V-16|0,t=p[p[(e|=0)+184>>2]+(t<<2)>>2],l[i+15|0]=t;e:{t:{if(r=p[p[e+4>>2]+44>>2],((0|(n=p[r+20>>2]))<0||(0|n)<=0&&!(b[r+16>>2]>0))&&(Yt(r,p[r+4>>2],i+15|0,i+16|0),t=_[i+15|0]),t<<24>>24<=-1)t=p[e+68>>2];else{if(n=p[p[(r=e+172|0)>>2]+y(255&t,136)>>2],o=0|a[p[p[e>>2]+40>>2]](e),r=p[r>>2],s=l[i+15|0],t=p[132+(r+y(s,136)|0)>>2],(n=p[p[p[o+56>>2]+84>>2]+(n<<2)>>2])>>>0>1)break t;if(!(n-1)&&!_[28+(y(s,136)+r|0)|0])break t}if(r=p[p[e+4>>2]+44>>2],l[i+14|0]=0,(0|(n=p[r+20>>2]))>0||(0|n)>=0&&!(b[r+16>>2]<=0))break e;Yt(r,p[r+4>>2],i+14|0,i+15|0);break e}r=p[p[e+4>>2]+44>>2],l[i+13|0]=1,(0|(n=p[r+20>>2]))>0||(0|n)>=0&&!(b[r+16>>2]<=0)||Yt(r,p[r+4>>2],i+13|0,i+14|0)}return e=p[p[e+4>>2]+44>>2],l[i+12|0]=t,((0|(t=p[e+20>>2]))<0||(0|t)<=0&&!(b[e+16>>2]>0))&&Yt(e,p[e+4>>2],i+12|0,i+13|0),V=i+16|0,1}function An(e){var t=0;e&&((t=p[e+76>>2])&&(p[e+80>>2]=t,Mo(t)),(t=p[e- -64>>2])&&(p[e+68>>2]=t,Mo(t)),(t=p[e+48>>2])&&(p[e+52>>2]=t,Mo(t)),(t=p[e+24>>2])&&(p[e+28>>2]=t,Mo(t)),(t=p[e+12>>2])&&(p[e+16>>2]=t,Mo(t)),(t=p[e>>2])&&(p[e+4>>2]=t,Mo(t)),Mo(e))}function vn(e){var t=0,i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,b=0;e:{t:if(t=p[(l=e+12|0)>>2],r=p[t+4>>2]-p[t>>2]|0)for(h=r>>2,u=e+140|0,f=e+152|0,d=e+148|0;;){if(!Ta(t,(a>>>0)/3|0)&&(t=p[l>>2],-1==p[p[t+12>>2]+(a<<2)>>2]&&(s=o=p[f>>2],t=-1!=(0|(i=((i=a+1|0)>>>0)%3|0?i:a+-2|0))?p[p[t>>2]+(i<<2)>>2]:-1,-1==p[s+(r=t<<2)>>2]))){if(n=-1,(0|(t=s=p[e+144>>2]))==(i=p[d>>2])<<5){if((s+1|0)<=-1)break e;Lr(t=u,i=s>>>0<=1073741822?(i<<=6)>>>0<(n=s+32&-32)>>>0?n:i:2147483647),o=p[f>>2],n=p[r+o>>2],t=p[e+144>>2]}if(p[e+144>>2]=t+1,i=p[e+140>>2]+(t>>>3&536870908)|0,c=p[i>>2],m=i,b=zo(-2,t)&c,p[m>>2]=b,-1==(0|n))for(r=r+o|0,c=p[l>>2],t=a;;){i=t,p[r>>2]=s,t=-1,n=-1;i:if(-1!=(0|i)&&-1!=(0|(r=((r=i+1|0)>>>0)%3|0?r:i+-2|0))){for(_=p[c+12>>2];;){if(-1!=(0|(i=p[(r<<2)+_>>2]))){if(-1!=(0|(r=((r=i+1|0)>>>0)%3|0?r:i+-2|0)))continue;break i}break}-1!=(0|(t=((t=r+1|0)>>>0)%3|0?t:r+-2|0))&&(n=p[p[c>>2]+(t<<2)>>2]),t=r}if(-1!=p[(r=(n<<2)+o|0)>>2])break}}if((a=a+1|0)>>>0>=h>>>0)break t;t=p[l>>2]}return 1}Ao(),E()}function yn(e){var t=0,i=0,r=0,n=0;if(ve(e),!((0|(i=p[e+84>>2]))<1)){for(t=i<<5,r=oo((0|i)!=(134217727&i)?-1:4|t),p[r>>2]=i,i=(r=r+4|0)+t|0,t=r;(0|i)!=(0|(t=me(t)+32|0)););if(n=p[e+80>>2],p[e+80>>2]=r,n){if(r=p[(i=n+-4|0)>>2])for(t=n+(r<<5)|0;(0|n)!=(0|(t=be(t+-32|0))););Mo(i)}if(!(p[e+84>>2]<1))for(t=0;ve(p[e+80>>2]+(t<<5)|0),(0|(t=t+1|0))<p[e+84>>2];);}}function gn(e,t,i){var r=0,n=0,a=0;e:{t:{if(-1!=(0|(t=y(t,3)))){if(n=p[e+12>>2],a=p[n+12>>2],-1==p[a+(r=t<<2)>>2])break t;if(e=p[e+152>>2],n=p[n>>2],-1!=p[e+(p[n+r>>2]<<2)>>2])break e;if(-1!=(0|(t=((r=t+1|0)>>>0)%3|0?r:t+-2|0))){if(-1==p[(r=t<<2)+a>>2])break t;if(-1!=p[e+(p[r+n>>2]<<2)>>2])break e;if(-1!=(0|(t=((r=t+1|0)>>>0)%3|0?r:t+-2|0))){if(-1==p[(r=t<<2)+a>>2])break t;if(-1!=p[e+(p[r+n>>2]<<2)>>2])break e;return e=t+1|0,p[i>>2]=(e>>>0)%3|0?e:t+-2|0,1}}}t=-1}return p[i>>2]=t,0}for(;e=t,-1!=(0|(t=((t>>>0)%3|0?-1:2)+t|0))&&-1!=(0|(t=p[(t<<2)+a>>2]))&&-1!=(0|(t=t+((t>>>0)%3|0?-1:2)|0)););return p[i>>2]=e+((e>>>0)%3|0?-1:2),0}function kn(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;e:{if(n=p[e>>2],(r=(i=(s=p[e+4>>2]-n|0)>>2)+1|0)>>>0<1073741824){if(o=i<<2,a=(i=p[e+8>>2]-n|0)>>1,r=i>>2>>>0<536870911?a>>>0<r>>>0?r:a:1073741823,i=0,r){if(r>>>0>=1073741824)break e;i=oo(r<<2)}return p[(a=o+i|0)>>2]=p[t>>2],t=i+(r<<2)|0,r=a+4|0,(0|s)>=1&&Io(i,n,s),p[e>>2]=i,p[e+8>>2]=t,p[e+4>>2]=r,void(n&&Mo(n))}Ao(),E()}Wt(11752),E()}function xn(e,t){var i,r,n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,b=0,A=0,v=0,y=0,g=0,k=0,x=0,S=0,T=0,w=0,E=0;if(V=i=V-48|0,p[i+16>>2]=t,o=e+20|0,a=p[e+16>>2],p[o>>2]=a,r=e+16|0,p[e+24>>2]==(0|a)?(kn(r,i+16|0),t=p[o>>2],a=p[e+16>>2]):(p[a>>2]=t,t=a+4|0,p[o>>2]=t),o=p[e+8>>2],n=(p[o+100>>2]-p[o+96>>2]|0)/12|0,(0|t)!=(0|a))for(S=e+120|0,h=e+268|0,T=e+72|0,f=e+20|0,w=e+80|0,b=e+76|0,A=e+152|0,u=e+276|0,o=e+272|0,E=e+24|0;;){a=p[(t=t+-4|0)>>2],p[i+16>>2]=a;e:{t:{if(-1==(0|a)||(a=(a>>>0)/3|0,p[p[e+28>>2]+(a>>>3&268435452)>>2]>>>(31&a)&1)){p[f>>2]=t;break e}for(d=0;;){if((0|d)>=(0|n))break t;p[e+164>>2]=p[e+164>>2]+1,_=-1==(0|(t=p[i+16>>2]))?-1:(t>>>0)/3|0,a=p[e+28>>2]+(_>>>3&536870908)|0,p[a>>2]=p[a>>2]|1<<(31&_),(0|(a=p[b>>2]))==p[w>>2]?kn(T,i+16|0):(p[a>>2]=t,p[b>>2]=a+4),a=-1,-1!=(0|(t=p[i+16>>2]))&&(a=p[p[p[e+12>>2]>>2]+(t<<2)>>2]),y=p[(v=a<<2)+p[A>>2]>>2],d=d+1|0;i:{r:{n:{a:{s:{o:{l:{if(s=p[e+84>>2]+(a>>>3&536870908)|0,!((l=p[s>>2])&(a=1<<(31&a)))){if(p[s>>2]=a|l,-1==(0|y))break l;t=p[i+16>>2]}if(-1==(0|t))break a;if(a=-1,-1!=(0|(c=((s=t+1|0)>>>0)%3|0?s:t+-2|0))&&(a=p[p[p[e+12>>2]+12>>2]+(c<<2)>>2]),p[i+8>>2]=a,g=-1==(0|(m=((t>>>0)%3|0?-1:2)+t|0)))break o;s=-1==(0|(l=p[p[p[e+12>>2]+12>>2]+(m<<2)>>2]))?-1:(l>>>0)/3|0,a=-1==(0|a)?-1:(a>>>0)/3|0;break s}p[i+40>>2]=0,(0|(t=p[o>>2]))==p[u>>2]?kn(h,i+40|0):(p[t>>2]=0,p[o>>2]=t+4),a=t=i,s=p[t+16>>2],t=-1,-1!=(0|s)&&(t=-1,-1!=(0|(s=((l=s+1|0)>>>0)%3|0?l:s+-2|0))&&(t=p[p[p[e+12>>2]+12>>2]+(s<<2)>>2])),p[a+16>>2]=t,t=4;break i}s=-1,l=-1,a=-1==(0|a)?-1:(a>>>0)/3|0}if(-1==(0|c)||(k=p[p[e+12>>2]+12>>2],-1==(0|(c=p[k+(c<<2)>>2]))||(x=p[e+28>>2],p[x+((c=(c>>>0)/3|0)>>>3&268435452)>>2]>>>(31&c)&1))){if(-1!=(0|a)&&(Rn(e,p[e+164>>2],1,a),-1==(0|(t=p[i+16>>2])))||-1==(0|(t=((t>>>0)%3|0?-1:2)+t|0))||-1==(0|(t=p[p[p[e+12>>2]+12>>2]+(t<<2)>>2]))||(t=(t>>>0)/3|0,p[p[e+28>>2]+(t>>>3&268435452)>>2]>>>(31&t)&1)){if(-1==(0|s))break n;Rn(e,p[e+164>>2],0,s);break n}p[i+40>>2]=5,(0|(t=p[o>>2]))==p[u>>2]?kn(h,i+40|0):(p[t>>2]=5,p[o>>2]=t+4),p[i+16>>2]=l,t=0;break i}if(g||-1==(0|(t=p[(m<<2)+k>>2]))||p[((t=(t>>>0)/3|0)>>>3&268435452)+x>>2]>>>(31&t)&1){-1!=(0|s)&&Rn(e,p[e+164>>2],0,s),p[i+40>>2]=3,(0|(t=p[o>>2]))==p[u>>2]?kn(h,i+40|0):(p[t>>2]=3,p[o>>2]=t+4),p[i+16>>2]=p[i+8>>2],t=0;break i}if(p[i+40>>2]=1,(0|(t=p[o>>2]))==p[u>>2]?kn(h,i+40|0):(p[t>>2]=1,p[o>>2]=t+4),p[e+168>>2]=p[e+168>>2]+1,-1!=(0|y)&&(t=p[p[A>>2]+v>>2],p[p[e+140>>2]+(t>>>3&536870908)>>2]>>>(31&t)&1||Sn(e,p[i+16>>2],0)),t=p[e+164>>2],p[i+4>>2]=_,p[i+32>>2]=i+4,Cn(i+40|0,S,i+4|0,i+32|0),p[p[i+40>>2]+12>>2]=t,t=p[f>>2],p[t+-4>>2]=l,(0|t)!=p[E>>2]){p[t>>2]=p[i+8>>2],p[f>>2]=t+4;break r}kn(r,i+8|0);break r}p[i+8>>2]=-1}p[i+40>>2]=7,(0|(t=p[o>>2]))==p[u>>2]?kn(h,i+40|0):(p[t>>2]=7,p[o>>2]=t+4),p[f>>2]=p[f>>2]+-4}t=5}if(5==(0|t))break}}t=p[f>>2]}if(p[r>>2]==(0|t))break}return V=i+48|0,1}function Sn(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0,c=0;s=-1;e:if(-1!=(0|t)){if(o=p[e+12>>2],-1!=(0|(r=((t>>>0)%3|0?-1:2)+t|0))){for(l=p[o+12>>2];;){if(-1!=(0|(a=p[l+(r<<2)>>2]))){if(n=1,-1!=(0|(r=((r=a+1|0)>>>0)%3|0?r:a+-2|0)))continue}else n=0,s=r;break}if(a=-1,-1==(0|t))break e}else n=1;a=p[p[o>>2]+(t<<2)>>2]}else o=p[e+12>>2],n=1,a=-1;if(t=0,i&&(t=p[e+84>>2]+(a>>>3&536870908)|0,p[t>>2]=p[t>>2]|1<<(31&a),t=1),i=p[p[e+152>>2]+(a<<2)>>2],r=p[e+140>>2]+(i>>>3&536870908)|0,p[r>>2]=p[r>>2]|1<<(31&i),c=a,r=-1,n||(r=-1,-1!=(0|(i=((s>>>0)%3|0?-1:2)+s|0))&&(r=p[p[o>>2]+(i<<2)>>2])),(0|c)!=(0|r))for(i=p[e+84>>2],l=o+12|0;;){e=s,p[(s=i+(r>>>3&536870908)|0)>>2]=p[s>>2]|1<<(31&r),s=-1,r=-1;e:if(-1!=(0|e)&&-1!=(0|(n=((n=e+1|0)>>>0)%3|0?n:e+-2|0))){for(c=p[l>>2];;){if(-1!=(0|(e=p[c+(n<<2)>>2]))){if(-1!=(0|(n=((n=e+1|0)>>>0)%3|0?n:e+-2|0)))continue;break e}break}-1!=(0|(e=((n>>>0)%3|0?-1:2)+n|0))&&(r=p[p[o>>2]+(e<<2)>>2]),s=n}if(t=t+1|0,(0|r)==(0|a))break}}function Tn(e,t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0;if(!((0|(n=r-i|0))<1)){e:{if((0|(o=n>>2))<=(a=p[e+8>>2])-(c=p[e+4>>2])>>2){if((0|o)<=(0|(a=(l=c-t|0)>>2))){n=c,a=r;break e}if(n=c,(0|(a=(a<<2)+i|0))!=(0|r)){for(s=a;p[n>>2]=p[s>>2],n=n+4|0,(0|(s=s+4|0))!=(0|r););p[e+4>>2]=n}if((0|l)>=1)break e;return}t:{if((o=o+(c-(s=p[e>>2])>>2)|0)>>>0<1073741824){if(a=(l=a-s|0)>>1,n=0,f=l>>2>>>0<536870911?a>>>0<o>>>0?o:a:1073741823){if(f>>>0>=1073741824)break t;n=oo(f<<2)}if(l=n,n=a=n+((o=t-s|0)>>2<<2)|0,(0|i)!=(0|r))for(n=a;p[n>>2]=p[i>>2],n=n+4|0,(0|r)!=(0|(i=i+4|0)););return i=f<<2,(0|o)>=1&&Io(l,s,o),i=i+l|0,(0|(r=c-t|0))>=1&&(n=Io(n,t,r)+r|0,s=p[e>>2]),p[e>>2]=l,p[e+8>>2]=i,p[e+4>>2]=n,void(s&&Mo(s))}Ao(),E()}Wt(11752),E()}if(o=n-((r=o<<2)+t|0)|0,(r=n-r|0)>>>0<c>>>0){for(s=n,l=r;p[s>>2]=p[l>>2],s=s+4|0,(l=l+4|0)>>>0<c>>>0;);p[e+4>>2]=s}if(o)for(;r=r+-4|0,p[(n=n+-4|0)>>2]=p[r>>2],(0|t)!=(0|r););if((0|i)!=(0|a))for(n=t;p[n>>2]=p[i>>2],n=n+4|0,(0|a)!=(0|(i=i+4|0)););}}function wn(e,t){var i,r,n,a=0,s=0,o=0,l=0;for(V=i=V-16|0,p[i>>2]=t,a=-1,-1!=(0|t)?(a=t+1|0,p[i+4>>2]=(a>>>0)%3|0?a:t+-2|0,a=(t>>>0)%3?t+-1|0:t+2|0):p[i+4>>2]=-1,p[i+8>>2]=a,a=-1==(0|t)?-1:(t>>>0)/3|0,s=p[e+28>>2]+(a>>>3&536870908)|0,p[s>>2]=p[s>>2]|1<<(31&a),r=e+176|0,n=e+280|0,s=0;;){if(-1!=(0|t)&&-1!=(0|(a=p[p[p[e+12>>2]+12>>2]+(t<<2)>>2]))&&(a=(a>>>0)/3|0,!(p[p[e+28>>2]+(a>>>3&268435452)>>2]>>>(31&a)&1)&&(0|(a=p[e+172>>2]))!=p[r>>2]))for(o=t>>>5,l=1<<(31&t),t=0;ye(p[n>>2]+(t<<5)|0,0!=(p[p[4+(y(t,136)+a|0)>>2]+(o<<2)>>2]&l)),t=t+1|0,a=p[e+172>>2],t>>>0<(p[r>>2]-a|0)/136>>>0;);if(3==(0|(s=s+1|0)))break;t=p[(s<<2)+i>>2]}V=i+16|0}function En(e){var t,i=0,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0;if(Ki(t=(0|(i=p[e+112>>2]-p[e+108>>2]|0))/12|0,p[p[e+4>>2]+44>>2]),i){for(;i=p[e+108>>2]+y(n,12)|0,Ki(p[i+4>>2]-r|0,p[p[e+4>>2]+44>>2]),Ki(p[i+4>>2]-p[i>>2]|0,p[p[e+4>>2]+44>>2]),r=p[i+4>>2],(n=n+1|0)>>>0<t>>>0;);for(n=0,ca(p[p[e+4>>2]+44>>2],t,0,0);i=p[p[e+4>>2]+44>>2],((0|(r=p[i+20>>2]))>0||(0|r)>=0&&!(b[i+16>>2]<1))&&(o=_[8+(p[e+108>>2]+y(n,12)|0)|0],i=p[i+12>>2],s=(r=(a=p[i+4>>2])>>>3)+p[i>>2]|0,c=_[0|s],f=s,h=zo(-2,a&=7)&c,l[0|f]=h,r=r+p[i>>2]|0,l[0|r]=_[0|r]|(1&o)<<a,p[i+4>>2]=p[i+4>>2]+1),(n=n+1|0)>>>0<t>>>0;);fa(p[p[e+4>>2]+44>>2])}return 1}function Mn(e,t){var i=0,r=0,n=0,a=0,s=0;e:{if(((n=p[e+8>>2])-(i=p[(r=e+4|0)>>2])|0)/136>>>0>=t>>>0)for(;;)if(p[i>>2]=-1,Ma(i+4|0),p[i+104>>2]=0,p[i+108>>2]=0,l[i+100|0]=1,p[i+112>>2]=0,p[i+116>>2]=0,p[i+120>>2]=0,p[i+124>>2]=0,p[i+128>>2]=0,i=p[r>>2]+136|0,p[r>>2]=i,!(t=t+-1|0))break e;t:{i:{r:{if((r=(s=(i-(a=p[e>>2])|0)/136|0)+t|0)>>>0<31580642){if(i=0,a=(n=(n-a|0)/136|0)<<1,r=n>>>0<15790320?a>>>0<r>>>0?r:a:31580641){if(r>>>0>=31580642)break r;i=oo(y(r,136))}for(a=y(r,136)+i|0,i=n=y(s,136)+i|0;p[i>>2]=-1,Ma(i+4|0),p[i+104>>2]=0,p[i+108>>2]=0,l[i+100|0]=1,p[i+112>>2]=0,p[i+116>>2]=0,p[i+120>>2]=0,p[i+124>>2]=0,p[i+128>>2]=0,i=i+136|0,t=t+-1|0;);if((0|(t=p[e>>2]))==(0|(r=p[e+4>>2])))break i;for(;n=Wn(n+-136|0,r=r+-136|0),(0|t)!=(0|r););t=p[e+4>>2],r=p[e>>2];break t}Ao(),E()}Wt(11752),E()}r=t}if(p[e>>2]=n,p[e+8>>2]=a,p[e+4>>2]=i,(0|t)!=(0|r))for(;(e=p[t+-20>>2])&&(p[t+-16>>2]=e,Mo(e)),e=t+-136|0,(i=p[t+-32>>2])&&(p[t+-28>>2]=i,Mo(i)),Pn(t+-132|0),(0|(t=e))!=(0|r););r&&Mo(r)}}function Pn(e){var t=0;(t=p[e+84>>2])&&(p[e+88>>2]=t,Mo(t)),(t=p[e+72>>2])&&(p[e+76>>2]=t,Mo(t)),(t=p[e+52>>2])&&(p[e+56>>2]=t,Mo(t)),(t=p[e+40>>2])&&(p[e+44>>2]=t,Mo(t)),(t=p[e+28>>2])&&(p[e+32>>2]=t,Mo(t)),(t=p[e+12>>2])&&Mo(t),(e=p[e>>2])&&Mo(e)}function Rn(e,t,i,r){var n,a,s=0,o=0,c=0,f=0,h=0;V=n=V-16|0;e:if((a=p[e+124>>2])&&(o=p[e+120>>2],s=a+-1&r,(c=Vo(a))>>>0<=1||(s=r,a>>>0>r>>>0||(s=(r>>>0)%(a>>>0)|0)),f=s,(s=p[o+(s<<2)>>2])&&(o=p[s>>2]))){for(h=a+-1|0,c=c>>>0>1;;){t:{i:{if((0|(s=p[o+4>>2]))!=(0|r)){if(c?s>>>0<a>>>0||(s=(s>>>0)%(a>>>0)|0):s&=h,(0|s)==(0|f))break i;break e}if(p[o+8>>2]==(0|r))break t}if(o=p[o>>2])continue;break e}break}-1!=(0|(r=p[o+12>>2]))&&(p[n+4>>2]=t,p[n>>2]=r,l[n+8|0]=1&i,(0|(t=p[(i=e+112|0)>>2]))==p[e+116>>2]?function(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;t:{if(a=p[e>>2],s=p[e+4>>2]-a|0,(r=(i=(0|s)/12|0)+1|0)>>>0<357913942){if(o=y(i,12),n=(p[e+8>>2]-a|0)/12|0,i=n<<1,n=n>>>0<178956970?i>>>0<r>>>0?r:i:357913941,i=0,n){if(n>>>0>=357913942)break t;i=oo(y(n,12))}return r=o+i|0,o=p[t+4>>2],p[r>>2]=p[t>>2],p[r+4>>2]=o,p[r+8>>2]=p[t+8>>2],t=r+y((0|s)/-12|0,12)|0,i=i+y(n,12)|0,r=r+12|0,(0|s)>=1&&Io(t,a,s),p[e>>2]=t,p[e+8>>2]=i,p[e+4>>2]=r,void(a&&Mo(a))}Ao(),E()}Wt(11752),E()}(e+108|0,n):(e=p[n+4>>2],p[t>>2]=p[n>>2],p[t+4>>2]=e,p[t+8>>2]=p[n+8>>2],p[i>>2]=p[i>>2]+12))}V=n+16|0}function Cn(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=g(0),u=0,d=g(0);a=p[i>>2],n=e;e:{t:if((s=p[t+4>>2])&&(u=p[t>>2],i=s+-1&a,(c=Vo(s))>>>0<=1||(i=a,a>>>0<s>>>0||(i=(a>>>0)%(s>>>0)|0)),o=i,i=p[(i<<2)+u>>2])){for(u=s+-1|0,c=c>>>0>1;;){if(!(i=p[i>>2]))break t;if((0|(f=p[i+4>>2]))!=(0|a)&&(c?f>>>0<s>>>0||(f=(f>>>0)%(s>>>0)|0):f&=u,(0|o)!=(0|f)))break t;if(p[i+8>>2]==(0|a))break}t=0;break e}i=oo(16),r=p[p[r>>2]>>2],p[i+12>>2]=0,p[i+8>>2]=r,p[i+4>>2]=a,p[i>>2]=0,d=A[t+16>>2],h=g(p[t+12>>2]+1>>>0),!s|!!(g(d*g(s>>>0))<h)?(Gn(r=t,(o=0!=(s+-1&s)|s>>>0<3|s<<1)>>>0<(c=(h=g(w(g(h/d))))<g(4294967296)&h>=g(0)?~~h>>>0:0)>>>0?c:o),(s=p[t+4>>2])&s+-1?a>>>0<s>>>0||(a=(a>>>0)%(s>>>0)|0):a&=s+-1):a=o,r=p[t>>2]+(a<<2)|0;t:{if(a=p[r>>2])p[i>>2]=p[a>>2];else{if(o=t+8|0,p[i>>2]=p[o>>2],p[o>>2]=i,p[r>>2]=o,!(r=p[i>>2]))break t;a=p[r+4>>2],(r=s+-1|0)&s?a>>>0<s>>>0||(a=(a>>>0)%(s>>>0)|0):a&=r,a=p[t>>2]+(a<<2)|0}p[a>>2]=i}p[(t=t+12|0)>>2]=p[t>>2]+1,t=1}l[n+4|0]=t,p[e>>2]=i}function On(e){return p[(e|=0)+12>>2]}function In(e,t){return t|=0,p[p[(e|=0)+28>>2]+(t>>>3&536870908)>>2]>>>(31&t)&1}function Dn(e,t){var i,r,n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,A=0,v=0,g=0,k=0,x=0,S=0,T=0,w=0,E=0,M=0,P=0,R=0;if(V=i=V-48|0,p[i+16>>2]=t,l=e+20|0,a=p[e+16>>2],p[l>>2]=a,r=e+16|0,p[e+24>>2]==(0|a)?(kn(r,i+16|0),t=p[l>>2],a=p[e+16>>2]):(p[a>>2]=t,t=a+4|0,p[l>>2]=t),l=p[e+8>>2],n=(p[l+100>>2]-p[l+96>>2]|0)/12|0,(0|t)!=(0|a))for(S=e+120|0,f=e+200|0,T=e+72|0,l=e+20|0,w=e+80|0,_=e+76|0,m=e+152|0,E=e+292|0,M=e+304|0,P=e+336|0,R=e+24|0;;){a=p[(t=t+-4|0)>>2],p[i+16>>2]=a;e:{t:{if(-1==(0|a)||(a=(a>>>0)/3|0,p[p[e+28>>2]+(a>>>3&268435452)>>2]>>>(31&a)&1)){p[l>>2]=t;break e}for(h=0;;){if((0|h)>=(0|n))break t;p[e+164>>2]=p[e+164>>2]+1,u=-1==(0|(t=p[i+16>>2]))?-1:(t>>>0)/3|0,a=p[e+28>>2]+(u>>>3&536870908)|0,p[a>>2]=p[a>>2]|1<<(31&u),(0|(a=p[_>>2]))==p[w>>2]?kn(T,i+16|0):(p[a>>2]=t,p[_>>2]=a+4),t=p[i+16>>2],p[e+320>>2]=t,a=-1,a=-1!=(0|t)?p[p[p[e+12>>2]>>2]+(t<<2)>>2]:a,v=p[(A=a<<2)+p[m>>2]>>2],h=h+1|0;i:{r:{n:{a:{s:{o:{l:{if(s=p[e+84>>2]+(a>>>3&536870908)|0,!((o=p[s>>2])&(a=1<<(31&a)))){if(p[s>>2]=a|o,-1==(0|v))break l;t=p[i+16>>2]}if(-1==(0|t))break a;if(a=-1,-1!=(0|(c=((s=t+1|0)>>>0)%3|0?s:t+-2|0))&&(a=p[p[p[e+12>>2]+12>>2]+(c<<2)>>2]),p[i+8>>2]=a,g=-1==(0|(d=((t>>>0)%3|0?-1:2)+t|0)))break o;s=-1==(0|(o=p[p[p[e+12>>2]+12>>2]+(d<<2)>>2]))?-1:(o>>>0)/3|0,a=-1==(0|a)?-1:(a>>>0)/3|0;break s}p[e+324>>2]=p[e+324>>2]+1,a=-1,s=-1,-1!=(0|(t=p[e+320>>2]))&&(a=((a=t+1|0)>>>0)%3|0?a:t+-2|0,s=t+-1|0,(t>>>0)%3||(s=t+2|0)),o=p[M>>2],t=a<<2,a=p[E>>2],c=o+(p[t+a>>2]<<2)|0,t=p[c>>2],p[c>>2]=t+-1,a=o+(p[a+(s<<2)>>2]<<2)|0,p[a>>2]=p[a>>2]+-1,-1!=(0|(o=p[e+316>>2]))&&(s=a=p[e+328>>2],(0|t)>=(0|a)&&(s=(0|t)>(0|(s=p[e+332>>2]))?s:t),t=p[P>>2],o=p[12128+(o<<2)>>2],p[i+40>>2]=o,t=t+y(s-a|0,12)|0,(a=p[(s=t+4|0)>>2])>>>0<b[t+8>>2]?(p[a>>2]=o,p[s>>2]=a+4):$e(t,i+40|0)),p[e+316>>2]=0,a=t=i,s=p[t+16>>2],t=-1,-1!=(0|s)&&(t=-1,-1!=(0|(s=((o=s+1|0)>>>0)%3|0?o:s+-2|0))&&(t=p[p[p[e+12>>2]+12>>2]+(s<<2)>>2])),p[a+16>>2]=t,t=4;break i}s=-1,o=-1,a=-1==(0|a)?-1:(a>>>0)/3|0}if(-1==(0|c)||(k=p[p[e+12>>2]+12>>2],-1==(0|(c=p[k+(c<<2)>>2]))||(x=p[e+28>>2],p[x+((c=(c>>>0)/3|0)>>>3&268435452)>>2]>>>(31&c)&1))){if(-1!=(0|a)&&(Rn(e,p[e+164>>2],1,a),-1==(0|(t=p[i+16>>2])))||-1==(0|(t=((t>>>0)%3|0?-1:2)+t|0))||-1==(0|(t=p[p[p[e+12>>2]+12>>2]+(t<<2)>>2]))||(t=(t>>>0)/3|0,p[p[e+28>>2]+(t>>>3&268435452)>>2]>>>(31&t)&1)){if(-1==(0|s))break n;Rn(e,p[e+164>>2],0,s);break n}Nn(f,5),p[i+16>>2]=o,t=0;break i}if(g||-1==(0|(t=p[(d<<2)+k>>2]))||p[((t=(t>>>0)/3|0)>>>3&268435452)+x>>2]>>>(31&t)&1){-1!=(0|s)&&Rn(e,p[e+164>>2],0,s),Nn(f,3),p[i+16>>2]=p[i+8>>2],t=0;break i}if(Nn(f,1),p[e+168>>2]=p[e+168>>2]+1,-1!=(0|v)&&(t=p[p[m>>2]+A>>2],p[p[e+140>>2]+(t>>>3&536870908)>>2]>>>(31&t)&1||Sn(e,p[i+16>>2],0)),t=p[e+164>>2],p[i+4>>2]=u,p[i+32>>2]=i+4,Cn(i+40|0,S,i+4|0,i+32|0),p[p[i+40>>2]+12>>2]=t,t=p[l>>2],p[t+-4>>2]=o,(0|t)!=p[R>>2]){p[t>>2]=p[i+8>>2],p[l>>2]=t+4;break r}kn(r,i+8|0);break r}p[i+8>>2]=-1}Nn(f,7),p[l>>2]=p[l>>2]+-4}t=5}if(5==(0|t))break}}t=p[l>>2]}if(p[r>>2]==(0|t))break}return V=i+48|0,1}function Fn(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;if((r=p[e+8>>2])-(i=p[(n=e+4|0)>>2])>>2>>>0>=t>>>0)return c=n,f=Do(i,0,e=t<<2)+e|0,void(p[c>>2]=f);e:{if((a=(i=(s=i-(n=p[e>>2])|0)>>2)+t|0)>>>0<1073741824){if(l=i<<2,i=(r=r-n|0)>>1,r=r>>2>>>0<536870911?i>>>0<a>>>0?a:i:1073741823,i=0,r){if(r>>>0>=1073741824)break e;i=o=oo(r<<2)}return Do(l+i|0,0,t<<2),t=i+(a<<2)|0,a=i+(r<<2)|0,(0|s)>=1&&Io(o,n,s),p[e>>2]=i,p[e+8>>2]=a,p[e+4>>2]=t,void(n&&Mo(n))}Ao(),E()}Wt(11752),E()}function Nn(e,t){var i,r,n=0,s=0,o=0,l=0,c=0,f=0,h=0;V=i=V-16|0,p[e+124>>2]=p[e+124>>2]+1,f=-1,n=-1,-1!=(0|(s=p[e+120>>2]))&&(f=((n=s+1|0)>>>0)%3|0?n:s+-2|0,n=s+-1|0,(s>>>0)%3||(n=s+2|0)),o=p[e+104>>2],l=p[e+92>>2],h=o+(p[(c=l+(f<<2)|0)>>2]<<2)|0,r=p[h>>2];e:if(!(t>>>0>7)){t:switch(t-2|0){default:if(p[h>>2]=r+-1,s=(p[(n<<2)+l>>2]<<2)+o|0,p[s>>2]=p[s>>2]+-1,s=1,1!=(0|t))break e;if(-1!=(0|n)&&-1!=(0|(n=p[p[p[e+88>>2]+12>>2]+(n<<2)>>2]))){for(l=e- -64|0;;){if(o=p[l>>2],!a[p[p[o>>2]+36>>2]](o,(n>>>0)/3|0))if(-1!=(0|(n=((o=n+1|0)>>>0)%3|0?o:n+-2|0))){if(s=s+1|0,-1!=(0|(n=p[p[p[e+88>>2]+12>>2]+(n<<2)>>2])))continue}else s=s+1|0;break}l=p[e+92>>2],o=p[e+104>>2]}if(p[(p[(p[e+120>>2]<<2)+l>>2]<<2)+o>>2]=s,l=p[e+108>>2],s=1,-1!=(0|f)&&-1!=(0|(n=p[p[p[e+88>>2]+12>>2]+(f<<2)>>2]))){for(l=l-o>>2,o=e- -64|0,f=e+92|0;;){if(c=p[o>>2],h=(n>>>0)/3|0,!a[p[p[c>>2]+36>>2]](c,h))if(c=n+1|0,p[p[f>>2]+(((c>>>0)%3|0?c:n+-2|0)<<2)>>2]=l,-1!=(0|(n=(n-y(h,3)|0?-1:2)+n|0))){if(s=s+1|0,-1!=(0|(n=p[p[p[e+88>>2]+12>>2]+(n<<2)>>2])))continue}else s=s+1|0;break}l=p[e+108>>2]}if(p[i+12>>2]=s,l>>>0<b[e+112>>2]){p[l>>2]=s,p[e+108>>2]=l+4;break e}kn(e+104|0,i+12|0);break e;case 3:s=(p[(s<<2)+l>>2]<<2)+o|0,p[s>>2]=p[s>>2]+-1,s=(p[c>>2]<<2)+o|0,p[s>>2]=p[s>>2]+-1,n=(p[(n<<2)+l>>2]<<2)+o|0,p[n>>2]=p[n>>2]+-2;break e;case 1:s=(p[(s<<2)+l>>2]<<2)+o|0,p[s>>2]=p[s>>2]+-1,s=(p[c>>2]<<2)+o|0,p[s>>2]=p[s>>2]+-2,n=(p[(n<<2)+l>>2]<<2)+o|0,p[n>>2]=p[n>>2]+-1;break e;case 0:case 2:case 4:break e;case 5:break t}s=(p[(s<<2)+l>>2]<<2)+o|0,p[s>>2]=p[s>>2]+-2,s=(p[c>>2]<<2)+o|0,p[s>>2]=p[s>>2]+-2,n=(p[(n<<2)+l>>2]<<2)+o|0,p[n>>2]=p[n>>2]+-2}-1!=(0|(l=p[e+116>>2]))&&(f=n=p[e+128>>2],(0|r)>=(0|n)&&(f=(0|r)>(0|(o=p[e+132>>2]))?o:r),o=p[e+136>>2],s=p[12128+(l<<2)>>2],p[i+8>>2]=s,n=o+y(f-n|0,12)|0,(l=p[(o=n+4|0)>>2])>>>0<b[n+8>>2]?(p[l>>2]=s,p[o>>2]=l+4):$e(n,i+8|0)),p[e+116>>2]=t,V=i+16|0}function Bn(e){var t=0,i=0,r=0,n=0,a=0;if(p[(e|=0)>>2]=11236,i=p[(t=e+280|0)>>2],p[t>>2]=0,i){if(t=p[(r=i+-4|0)>>2])for(t=i+(t<<5)|0;(0|i)!=(0|(t=be(t+-32|0))););Mo(r)}if((t=p[e+268>>2])&&(p[e+272>>2]=t,Mo(t)),t=p[(i=e+244|0)>>2],p[i>>2]=0,t&&Mo(t),(t=p[e+232>>2])&&(p[e+236>>2]=t,Mo(t)),be(e+200|0),(t=p[e+184>>2])&&(p[e+188>>2]=t,Mo(t)),i=p[e+172>>2]){if(r=i,(0|i)!=(0|(t=p[(a=e+176|0)>>2]))){for(;(r=p[t+-20>>2])&&(p[t+-16>>2]=r,Mo(r)),r=t+-136|0,(n=p[t+-32>>2])&&(p[t+-28>>2]=n,Mo(n)),Pn(t+-132|0),(0|i)!=(0|(t=r)););r=p[e+172>>2]}p[a>>2]=i,Mo(r)}if((t=p[e+152>>2])&&(p[e+156>>2]=t,Mo(t)),(t=p[e+140>>2])&&Mo(t),t=p[e+128>>2])for(;i=p[t>>2],Mo(t),t=i;);return t=p[(i=e+120|0)>>2],p[i>>2]=0,t&&Mo(t),(t=p[e+108>>2])&&(p[e+112>>2]=t,Mo(t)),(t=p[e+96>>2])&&(p[e+100>>2]=t,Mo(t)),(t=p[e+84>>2])&&Mo(t),(t=p[e+72>>2])&&(p[e+76>>2]=t,Mo(t)),(t=p[e+52>>2])&&(p[e+56>>2]=t,Mo(t)),(t=p[e+40>>2])&&(p[e+44>>2]=t,Mo(t)),(t=p[e+28>>2])&&Mo(t),(t=p[e+16>>2])&&(p[e+20>>2]=t,Mo(t)),t=p[e+12>>2],p[e+12>>2]=0,t&&An(t),0|e}function Ln(e){var t=0,i=0,r=0,n=0,a=0;if(p[(e|=0)>>2]=11468,t=p[e+336>>2]){if(r=t,(0|t)!=(0|(i=p[(a=e+340|0)>>2]))){for(;(n=p[(r=i+-12|0)>>2])&&(p[i+-8>>2]=n,Mo(n)),(0|(i=r))!=(0|t););r=p[e+336>>2]}p[a>>2]=t,Mo(r)}if((t=p[e+304>>2])&&(p[e+308>>2]=t,Mo(t)),(t=p[e+292>>2])&&(p[e+296>>2]=t,Mo(t)),i=p[(t=e+280|0)>>2],p[t>>2]=0,i){if(t=p[(r=i+-4|0)>>2])for(t=i+(t<<5)|0;(0|i)!=(0|(t=be(t+-32|0))););Mo(r)}if((t=p[e+268>>2])&&(p[e+272>>2]=t,Mo(t)),t=p[(i=e+244|0)>>2],p[i>>2]=0,t&&Mo(t),(t=p[e+232>>2])&&(p[e+236>>2]=t,Mo(t)),be(e+200|0),(t=p[e+184>>2])&&(p[e+188>>2]=t,Mo(t)),i=p[e+172>>2]){if(r=i,(0|i)!=(0|(t=p[(a=e+176|0)>>2]))){for(;(r=p[t+-20>>2])&&(p[t+-16>>2]=r,Mo(r)),r=t+-136|0,(n=p[t+-32>>2])&&(p[t+-28>>2]=n,Mo(n)),Pn(t+-132|0),(0|i)!=(0|(t=r)););r=p[e+172>>2]}p[a>>2]=i,Mo(r)}if((t=p[e+152>>2])&&(p[e+156>>2]=t,Mo(t)),(t=p[e+140>>2])&&Mo(t),t=p[e+128>>2])for(;i=p[t>>2],Mo(t),t=i;);return t=p[(i=e+120|0)>>2],p[i>>2]=0,t&&Mo(t),(t=p[e+108>>2])&&(p[e+112>>2]=t,Mo(t)),(t=p[e+96>>2])&&(p[e+100>>2]=t,Mo(t)),(t=p[e+84>>2])&&Mo(t),(t=p[e+72>>2])&&(p[e+76>>2]=t,Mo(t)),(t=p[e+52>>2])&&(p[e+56>>2]=t,Mo(t)),(t=p[e+40>>2])&&(p[e+44>>2]=t,Mo(t)),(t=p[e+28>>2])&&Mo(t),(t=p[e+16>>2])&&(p[e+20>>2]=t,Mo(t)),t=p[e+12>>2],p[e+12>>2]=0,t&&An(t),0|e}function Un(e,t){var i=0,r=0,n=0;e:{if((0|e)!=(0|t)){if(n=e,r=0,i=p[t+4>>2]){if(i>>>0<=p[e+8>>2]<<5>>>0)r=p[e>>2];else{if((r=p[e>>2])&&(Mo(r),p[e+8>>2]=0,p[e>>2]=0,p[e+4>>2]=0,i=p[t+4>>2]),(0|i)<=-1)break e;r=oo((i=1+(i+-1>>>5)|0)<<2),p[e+8>>2]=i,p[e+4>>2]=0,p[e>>2]=r,i=p[t+4>>2]}Fo(r,p[t>>2],4+(i+-1>>>3&536870908)|0),r=p[t+4>>2]}p[n+4>>2]=r}return}Ao(),E()}function Vn(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0;V=i=V-32|0,p[i+8>>2]=t;e:if(p[e+92>>2]!=p[e+88>>2]){(0|(r=p[(a=e+52|0)>>2]))==p[e+56>>2]?kn(e+48|0,i+8|0):(p[r>>2]=t,p[a>>2]=r+4),p[e+84>>2]=0,t=-1,a=-1,-1!=(0|(r=p[i+8>>2]))&&(n=p[e+4>>2],-1!=(0|(s=((s=r+1|0)>>>0)%3|0?s:r+-2|0))&&(t=p[p[n>>2]+(s<<2)>>2]),-1!=(0|(r=r+((r>>>0)%3|0?-1:2)|0))&&(a=p[p[n>>2]+(r<<2)>>2])),r=p[e+36>>2],(s=p[(n=r+(t>>>3&536870908)|0)>>2])&(l=1<<(31&t))||(p[n>>2]=s|l,r=-1,-1!=(0|(n=p[i+8>>2]))&&(r=((r=n+1|0)>>>0)%3|0?r:n+-2|0),p[i+16>>2]=r,n=p[e+20>>2],s=(r>>>0)/3|0,s=p[(p[p[e+16>>2]+96>>2]+y(s,12)|0)+(r-y(s,3)<<2)>>2],p[i+24>>2]=s,n=p[n+4>>2],(0|(r=p[(l=n+4|0)>>2]))==p[n+8>>2]?kn(n,i+24|0):(p[r>>2]=s,p[l>>2]=r+4),r=p[(s=e+12|0)>>2],(0|(n=p[(l=r+4|0)>>2]))==p[r+8>>2]?(kn(r,i+16|0),r=p[s>>2]):(p[n>>2]=p[i+16>>2],p[l>>2]=n+4),p[p[r+12>>2]+(t<<2)>>2]=p[r+24>>2],p[r+24>>2]=p[r+24>>2]+1,r=p[e+36>>2]),(r=p[(t=r+(a>>>3&536870908)|0)>>2])&(n=1<<(31&a))||(p[t>>2]=r|n,c=t=i,r=-1,-1!=(0|(n=p[t+8>>2]))&&(r=n+-1|0,(n>>>0)%3||(r=n+2|0)),p[c+16>>2]=r,t=p[e+20>>2],n=(r>>>0)/3|0,n=p[(p[p[e+16>>2]+96>>2]+y(n,12)|0)+(r-y(n,3)<<2)>>2],p[i+24>>2]=n,r=p[t+4>>2],(0|(t=p[(s=r+4|0)>>2]))==p[r+8>>2]?kn(r,i+24|0):(p[t>>2]=n,p[s>>2]=t+4),t=p[(n=e+12|0)>>2],(0|(r=p[(s=t+4|0)>>2]))==p[t+8>>2]?(kn(t,i+16|0),t=p[n>>2]):(p[r>>2]=p[i+16>>2],p[s>>2]=r+4),p[p[t+12>>2]+(a<<2)>>2]=p[t+24>>2],p[t+24>>2]=p[t+24>>2]+1),t=-1,-1!=(0|(r=p[i+8>>2]))&&(t=p[p[p[e+4>>2]>>2]+(r<<2)>>2]),r=p[e+36>>2]+(t>>>3&536870908)|0,(a=p[r>>2])&(n=1<<(31&t))||(p[r>>2]=n|a,r=p[i+8>>2],p[i+16>>2]=r,a=p[e+20>>2],n=(r>>>0)/3|0,n=p[(p[p[e+16>>2]+96>>2]+y(n,12)|0)+(r-y(n,3)<<2)>>2],p[i+24>>2]=n,a=p[a+4>>2],(0|(r=p[(s=a+4|0)>>2]))==p[a+8>>2]?kn(a,i+24|0):(p[r>>2]=n,p[s>>2]=r+4),a=p[(n=e+12|0)>>2],(0|(r=p[(s=a+4|0)>>2]))==p[a+8>>2]?(kn(a,i+16|0),a=p[n>>2]):(p[r>>2]=p[i+16>>2],p[s>>2]=r+4),p[p[a+12>>2]+(t<<2)>>2]=p[a+24>>2],p[a+24>>2]=p[a+24>>2]+1);t:if(!((0|(r=p[e+84>>2]))>2))for(s=e+24|0,l=e+36|0,d=e+16|0,_=e+20|0,h=e+88|0;;){if(a=y(r,12)+e|0,(0|(t=p[(n=a+52|0)>>2]))==p[a+48>>2]){if(t=(0|r)<2,r=r+1|0,t)continue;break t}if(t=p[(a=t+-4|0)>>2],p[n>>2]=a,p[e+84>>2]=r,p[i+8>>2]=t,-1==(0|t))break e;a=p[s>>2];i:if(!(p[a+((n=(t>>>0)/3|0)>>>3&268435452)>>2]>>>(31&n)&1)){r:{for(;;){if(p[(r=((t=(t>>>0)/3|0)>>>3&268435452)+a|0)>>2]=p[r>>2]|1<<(31&t),t=-1,-1!=(0|(a=p[i+8>>2]))&&(t=p[p[p[e+4>>2]>>2]+(a<<2)>>2]),r=p[l>>2]+(t>>>3&536870908)|0,(n=p[r>>2])&(o=1<<(31&t))||(p[r>>2]=n|o,r=p[i+8>>2],p[i+16>>2]=r,a=p[_>>2],n=(r>>>0)/3|0,n=p[(p[p[d>>2]+96>>2]+y(n,12)|0)+(r-y(n,3)<<2)>>2],p[i+24>>2]=n,a=p[a+4>>2],(0|(r=p[(o=a+4|0)>>2]))==p[a+8>>2]?kn(a,i+24|0):(p[r>>2]=n,p[o>>2]=r+4),a=p[(n=e+12|0)>>2],(0|(r=p[(o=a+4|0)>>2]))==p[a+8>>2]?(kn(a,i+16|0),a=p[n>>2]):(p[r>>2]=p[i+16>>2],p[o>>2]=r+4),p[p[a+12>>2]+(t<<2)>>2]=p[a+24>>2],p[a+24>>2]=p[a+24>>2]+1,a=p[i+8>>2]),-1==(0|a))break r;o=p[(u=e+4|0)>>2],t=-1,r=-1,-1!=(0|(n=((n=a+1|0)>>>0)%3|0?n:a+-2|0))&&(r=p[p[o+12>>2]+(n<<2)>>2]),-1!=(0|(a=((a>>>0)%3|0?-1:2)+a|0))&&(t=p[p[o+12>>2]+(a<<2)>>2]),n=(t>>>0)/3|0,f=(r>>>0)/3|0,a=1,(c=-1==(0|r))||(a=c?-1:f,a=p[p[s>>2]+(a>>>3&536870908)>>2]>>>(31&a)&1);n:{a:{s:{if(-1==(0|t)){if(!a)break s;break r}if(n=-1==(0|t)?-1:n,!(p[p[s>>2]+(n>>>3&536870908)>>2]>>>(31&n)&1)){if(n=0,c=a,o=p[p[o>>2]+(t<<2)>>2],p[p[l>>2]+(o>>>3&536870908)>>2]>>>(31&o)&1||(o=p[h>>2]+(o<<2)|0,n=p[o>>2],p[o>>2]=n+1,n=(0|n)<1?2:1),(0|n)<=p[e+84>>2]&&c)break a;p[i+24>>2]=t,f=y(n,12)+e|0,(0|(o=p[(c=f+52|0)>>2]))==p[f+56>>2]?kn(f+48|0,i+24|0):(p[o>>2]=t,p[c>>2]=o+4),p[e+84>>2]<=(0|n)||(p[e+84>>2]=n)}if(a)break r}if(t=-1,a=0,t=-1!=(0|r)?p[p[p[u>>2]>>2]+(r<<2)>>2]:t,p[p[l>>2]+(t>>>3&536870908)>>2]>>>(31&t)&1||(a=p[h>>2]+(t<<2)|0,t=p[a>>2],p[a>>2]=t+1,a=(0|t)<1?2:1),(0|a)>p[e+84>>2])break n;t=r}p[i+8>>2]=t,a=p[s>>2];continue}break}if(p[i+24>>2]=r,n=y(a,12)+e|0,(0|(t=p[(o=n+52|0)>>2]))==p[n+56>>2]?kn(n+48|0,i+24|0):(p[t>>2]=r,p[o>>2]=t+4),(0|(r=p[e+84>>2]))<=(0|a))break i;p[e+84>>2]=a,r=a;break i}r=p[e+84>>2]}if(!((0|r)<3))break}p[i+8>>2]=-1}return V=i+32|0,1}function zn(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,b=0;V=i=V-32|0,p[i+8>>2]=t;e:if(-1!=(0|t)){if(s=1,r=(t>>>0)/3|0,!(p[p[e+24>>2]+(r>>>3&268435452)>>2]>>>(31&r)&1))if(r=e+52|0,a=p[e+48>>2],p[r>>2]=a,h=e+48|0,(0|a)==p[e+56>>2]?kn(h,i+8|0):(p[a>>2]=t,p[r>>2]=a+4),s=-1,-1!=(0|(a=p[i+8>>2])))if(r=p[e+4>>2],-1!=(0|(t=((t=a+1|0)>>>0)%3|0?t:a+-2|0))&&(s=p[p[r>>2]+(t<<2)>>2]),-1!=(0|(t=a+((a>>>0)%3|0?-1:2)|0)))if(-1!=(0|s))if(-1!=(0|(o=p[p[r>>2]+(t<<2)>>2])))if(t=p[e+36>>2],(a=p[(n=t+(s>>>3&536870908)|0)>>2])&(r=1<<(31&s))||(p[n>>2]=r|a,n=-1,-1!=(0|(r=p[i+8>>2]))&&(n=((t=r+1|0)>>>0)%3|0?t:r+-2|0),p[i+16>>2]=n,a=p[e+20>>2],t=(n>>>0)/3|0,r=p[(p[p[e+16>>2]+96>>2]+y(t,12)|0)+(n-y(t,3)<<2)>>2],p[i+24>>2]=r,a=p[a+4>>2],(0|(n=p[(t=a+4|0)>>2]))==p[a+8>>2]?kn(a,i+24|0):(p[n>>2]=r,p[t>>2]=n+4),n=p[(r=e+12|0)>>2],(0|(a=p[(t=n+4|0)>>2]))==p[n+8>>2]?(kn(n,i+16|0),n=p[r>>2]):(p[a>>2]=p[i+16>>2],p[t>>2]=a+4),p[p[n+12>>2]+(s<<2)>>2]=p[n+24>>2],p[n+24>>2]=p[n+24>>2]+1,t=p[e+36>>2]),(r=p[(a=(o>>>3&536870908)+t|0)>>2])&(t=1<<(31&o))||(p[a>>2]=t|r,a=t=i,n=-1,-1!=(0|(r=p[t+8>>2]))&&(n=r+-1|0,(r>>>0)%3||(n=r+2|0)),p[a+16>>2]=n,a=p[e+20>>2],t=(n>>>0)/3|0,r=p[(p[p[e+16>>2]+96>>2]+y(t,12)|0)+(n-y(t,3)<<2)>>2],p[i+24>>2]=r,a=p[a+4>>2],(0|(n=p[(t=a+4|0)>>2]))==p[a+8>>2]?kn(a,i+24|0):(p[n>>2]=r,p[t>>2]=n+4),s=p[(r=e+12|0)>>2],(0|(a=p[(t=s+4|0)>>2]))==p[s+8>>2]?(kn(s,i+16|0),s=p[r>>2]):(p[a>>2]=p[i+16>>2],p[t>>2]=a+4),p[p[s+12>>2]+(o<<2)>>2]=p[s+24>>2],p[s+24>>2]=p[s+24>>2]+1),(0|(t=p[(c=e+52|0)>>2]))!=p[e+48>>2])for(f=e+24|0,u=e+4|0,d=e+36|0,_=e+16|0,m=e+20|0,b=e+56|0;;){r=p[(n=t+-4|0)>>2],p[i+8>>2]=r,t=(r>>>0)/3|0;t:{i:{if(-1!=(0|r)&&(a=p[f>>2]+(t>>>3&268435452)|0,!((r=p[a>>2])&(t=1<<(31&t))))){if(p[a>>2]=t|r,-1!=(0|(t=p[i+8>>2])))break i;s=0;break e}p[c>>2]=n;break t}i:{r:{n:{for(;;){if(l=p[u>>2],-1==(0|(r=p[p[l>>2]+(t<<2)>>2]))){s=0;break e}o=p[d>>2]+(r>>>3&536870908)|0;a:{if(!((n=p[o>>2])&(a=1<<(31&r)))){if(-1!=(0|(r=p[(s=r<<2)+p[l+24>>2]>>2]))&&-1!=(0|(t=((t=r+1|0)>>>0)%3|0?t:r+-2|0))&&-1!=(0|(l=p[p[l+12>>2]+(t<<2)>>2]))&&(r=0,-1!=(0|(((t=l+1|0)>>>0)%3|0?t:l+-2|0)))||(r=1),p[o>>2]=a|n,a=p[i+8>>2],p[i+16>>2]=a,n=p[m>>2],t=(a>>>0)/3|0,a=p[(p[p[_>>2]+96>>2]+y(t,12)|0)+(a-y(t,3)<<2)>>2],p[i+24>>2]=a,n=p[n+4>>2],(0|(o=p[(t=n+4|0)>>2]))==p[n+8>>2]?kn(n,i+24|0):(p[o>>2]=a,p[t>>2]=o+4),t=p[(n=e+12|0)>>2],(0|(o=p[(a=t+4|0)>>2]))==p[t+8>>2]?(kn(t,i+16|0),t=p[n>>2]):(p[o>>2]=p[i+16>>2],p[a>>2]=o+4),p[p[t+12>>2]+s>>2]=p[t+24>>2],p[t+24>>2]=p[t+24>>2]+1,l=p[u>>2],t=p[i+8>>2],!r){r=i,n=-1,-1!=(0|t)&&(n=-1,-1!=(0|(t=((a=t+1|0)>>>0)%3|0?a:t+-2|0))&&(n=p[p[l+12>>2]+(t<<2)>>2])),p[r+8>>2]=n,t=(n>>>0)/3|0;break a}if(-1==(0|t))break r}n=-1,s=-1,-1!=(0|(r=((r=t+1|0)>>>0)%3|0?r:t+-2|0))&&(s=p[p[l+12>>2]+(r<<2)>>2]),p[i+24>>2]=s,-1!=(0|(t=((t>>>0)%3|0?-1:2)+t|0))&&(n=p[p[l+12>>2]+(t<<2)>>2]),a=(n>>>0)/3|0,t=(s>>>0)/3|0,(r=-1==(0|s))?(t=-1,r=1):(r=r?-1:t,r=p[p[f>>2]+(r>>>3&536870908)>>2]>>>(31&r)&1);s:{if(-1!=(0|n)){if(o=-1==(0|n)?-1:a,o=p[p[f>>2]+(o>>>3&536870908)>>2]&1<<(31&o),r){if(s=n,t=a,!o)break s;break i}if(o)break s;if(t=p[c>>2],p[t+-4>>2]=n,(0|t)==p[b>>2])break n;p[t>>2]=p[i+24>>2],p[c>>2]=t+4;break t}if(r)break i}p[i+8>>2]=s}if(r=p[f>>2]+(t>>>3&536870908)|0,p[r>>2]=p[r>>2]|1<<(31&t),-1==(0|(t=p[i+8>>2])))break}s=0;break e}kn(h,i+24|0);break t}p[i+24>>2]=-1}p[c>>2]=p[c>>2]+-4}if(s=1,(0|(t=p[c>>2]))==p[e+48>>2])break}else s=1;else s=0;else s=0;else s=0;else s=0}else s=1;return V=i+32|0,s}function jn(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,b=0;V=i=V-32|0,p[i+8>>2]=t;e:if(-1!=(0|t)){if(r=1,s=(t>>>0)/3|0,!(p[p[e+24>>2]+(s>>>3&268435452)>>2]>>>(31&s)&1))if(s=e+52|0,r=p[e+48>>2],p[s>>2]=r,h=e+48|0,(0|r)==p[e+56>>2]?kn(h,i+8|0):(p[r>>2]=t,p[s>>2]=r+4),n=-1,r=p[e+4>>2],-1!=(0|(t=p[i+8>>2]))?(s=p[r+28>>2],r=p[s+((((r=t+1|0)>>>0)%3|0?r:t+-2|0)<<2)>>2],n=(t>>>0)%3?t+-1|0:t+2|0):(s=p[r+28>>2],r=p[s+-4>>2]),-1!=(0|r))if(-1!=(0|(s=p[(n<<2)+s>>2])))if(t=p[e+36>>2],(n=p[(a=t+(r>>>3&536870908)|0)>>2])&(o=1<<(31&r))||(p[a>>2]=n|o,n=-1,-1!=(0|(t=p[i+8>>2]))&&(n=((a=t+1|0)>>>0)%3|0?a:t+-2|0),p[i+16>>2]=n,t=p[e+20>>2],a=(n>>>0)/3|0,n=p[(p[p[e+16>>2]+96>>2]+y(a,12)|0)+(n-y(a,3)<<2)>>2],p[i+24>>2]=n,a=p[t+4>>2],(0|(t=p[(o=a+4|0)>>2]))==p[a+8>>2]?kn(a,i+24|0):(p[t>>2]=n,p[o>>2]=t+4),n=p[(a=e+12|0)>>2],(0|(t=p[(o=n+4|0)>>2]))==p[n+8>>2]?(kn(n,i+16|0),n=p[a>>2]):(p[t>>2]=p[i+16>>2],p[o>>2]=t+4),p[p[n+12>>2]+(r<<2)>>2]=p[n+24>>2],p[n+24>>2]=p[n+24>>2]+1,t=p[e+36>>2]),(r=p[(t=(s>>>3&536870908)+t|0)>>2])&(a=1<<(31&s))||(p[t>>2]=r|a,n=t=i,r=-1,-1!=(0|(a=p[t+8>>2]))&&(r=a+-1|0,(a>>>0)%3||(r=a+2|0)),p[n+16>>2]=r,t=p[e+20>>2],a=(r>>>0)/3|0,a=p[(p[p[e+16>>2]+96>>2]+y(a,12)|0)+(r-y(a,3)<<2)>>2],p[i+24>>2]=a,r=p[t+4>>2],(0|(t=p[(n=r+4|0)>>2]))==p[r+8>>2]?kn(r,i+24|0):(p[t>>2]=a,p[n>>2]=t+4),r=p[(a=e+12|0)>>2],(0|(t=p[(n=r+4|0)>>2]))==p[r+8>>2]?(kn(r,i+16|0),r=p[a>>2]):(p[t>>2]=p[i+16>>2],p[n>>2]=t+4),p[p[r+12>>2]+(s<<2)>>2]=p[r+24>>2],p[r+24>>2]=p[r+24>>2]+1),(0|(t=p[(o=e+52|0)>>2]))!=p[e+48>>2])for(c=e+24|0,f=e+4|0,d=e+36|0,_=e+16|0,m=e+20|0,b=e+56|0;;){t=p[(s=t+-4|0)>>2],p[i+8>>2]=t,r=(t>>>0)/3|0;t:{i:{if(-1!=(0|t)&&(t=p[c>>2]+(r>>>3&268435452)|0,!((a=p[t>>2])&(r=1<<(31&r))))){if(p[t>>2]=r|a,n=p[f>>2],t=p[i+8>>2],-1!=(0|(r=p[p[n+28>>2]+(t<<2)>>2])))break i;r=0;break e}p[o>>2]=s;break t}i:{r:{n:{for(;;){if(s=p[d>>2]+(r>>>3&536870908)|0,(a=p[s>>2])&(l=1<<(31&r))||(t=1,-1!=(0|(r=p[(u=r<<2)+p[n+40>>2]>>2]))&&(-1==(0|(t=((t=r+1|0)>>>0)%3|0?t:r+-2|0))|p[p[n>>2]+(t>>>3&536870908)>>2]>>>(31&t)&1||-1==(0|(r=p[p[p[n+64>>2]+12>>2]+(t<<2)>>2]))||(t=0,-1==(0|(((n=r+1|0)>>>0)%3|0?n:r+-2|0))))&&(t=1),r=t,p[s>>2]=a|l,t=p[i+8>>2],p[i+16>>2]=t,s=p[m>>2],a=(t>>>0)/3|0,a=p[(p[p[_>>2]+96>>2]+y(a,12)|0)+(t-y(a,3)<<2)>>2],p[i+24>>2]=a,s=p[s+4>>2],(0|(t=p[(n=s+4|0)>>2]))==p[s+8>>2]?kn(s,i+24|0):(p[t>>2]=a,p[n>>2]=t+4),t=p[(a=e+12|0)>>2],(0|(s=p[(n=t+4|0)>>2]))==p[t+8>>2]?(kn(t,i+16|0),t=p[a>>2]):(p[s>>2]=p[i+16>>2],p[n>>2]=s+4),p[p[t+12>>2]+u>>2]=p[t+24>>2],p[t+24>>2]=p[t+24>>2]+1,n=p[f>>2],t=p[i+8>>2],r)){if(-1==(0|t))break r;s=-1,a=i,r=-1,-1!=(0|(l=((l=t+1|0)>>>0)%3|0?l:t+-2|0))&&(r=-1,p[p[n>>2]+(l>>>3&536870908)>>2]>>>(31&l)&1||(r=p[p[p[n+64>>2]+12>>2]+(l<<2)>>2])),p[a+24>>2]=r,-1==(0|(t=((t>>>0)%3|0?-1:2)+t|0))|p[p[n>>2]+(t>>>3&536870908)>>2]>>>(31&t)&1||(s=p[p[p[n+64>>2]+12>>2]+(t<<2)>>2]),a=(s>>>0)/3|0,t=(r>>>0)/3|0,(n=-1==(0|r))?(t=-1,n=1):(n=n?-1:t,n=p[p[c>>2]+(n>>>3&536870908)>>2]>>>(31&n)&1);a:{if(-1!=(0|s)){if(l=-1==(0|s)?-1:a,l=p[p[c>>2]+(l>>>3&536870908)>>2]&1<<(31&l),n){if(r=s,t=a,!l)break a;break i}if(l)break a;if(t=p[o>>2],p[t+-4>>2]=s,(0|t)==p[b>>2])break n;p[t>>2]=p[i+24>>2],p[o>>2]=t+4;break t}if(n)break i}p[i+8>>2]=r}else r=-1,-1!=(0|t)&&(-1==(0|(t=((s=t+1|0)>>>0)%3|0?s:t+-2|0))|p[p[n>>2]+(t>>>3&536870908)>>2]>>>(31&t)&1||(r=p[p[p[n+64>>2]+12>>2]+(t<<2)>>2])),p[i+8>>2]=r,t=(r>>>0)/3|0;if(r=p[c>>2]+(t>>>3&536870908)|0,p[r>>2]=p[r>>2]|1<<(31&t),n=p[f>>2],t=p[i+8>>2],-1==(0|(r=p[p[n+28>>2]+(t<<2)>>2])))break}r=0;break e}kn(h,i+24|0);break t}p[i+24>>2]=-1}p[o>>2]=p[o>>2]+-4}if(r=1,(0|(t=p[o>>2]))==p[e+48>>2])break}else r=1;else r=0;else r=0}else r=1;return V=i+32|0,r}function Wn(e,t){var i=0,r=0,n=0;return p[e>>2]=p[t>>2],p[e+4>>2]=p[t+4>>2],p[e+8>>2]=p[t+8>>2],i=t+12|0,p[e+12>>2]=p[i>>2],p[i>>2]=0,p[t+4>>2]=0,p[t+8>>2]=0,i=t+16|0,p[e+16>>2]=p[i>>2],p[e+20>>2]=p[t+20>>2],r=t+24|0,p[e+24>>2]=p[r>>2],p[r>>2]=0,p[i>>2]=0,p[i+4>>2]=0,r=_[t+28|0],p[(n=e+40|0)>>2]=0,p[(i=e+32|0)>>2]=0,p[i+4>>2]=0,l[e+28|0]=r,r=i,i=t+32|0,p[r>>2]=p[i>>2],p[e+36>>2]=p[t+36>>2],r=t+40|0,p[n>>2]=p[r>>2],p[r>>2]=0,p[i>>2]=0,p[i+4>>2]=0,p[(r=e+52|0)>>2]=0,p[(i=e+44|0)>>2]=0,p[i+4>>2]=0,n=i,i=t+44|0,p[n>>2]=p[i>>2],p[e+48>>2]=p[t+48>>2],n=r,r=t+52|0,p[n>>2]=p[r>>2],p[r>>2]=0,p[i>>2]=0,p[i+4>>2]=0,p[(r=e- -64|0)>>2]=0,p[(i=e+56|0)>>2]=0,p[i+4>>2]=0,n=i,i=t+56|0,p[n>>2]=p[i>>2],p[e+60>>2]=p[t+60>>2],n=r,r=t- -64|0,p[n>>2]=p[r>>2],p[r>>2]=0,p[i>>2]=0,p[i+4>>2]=0,p[e+68>>2]=p[t+68>>2],r=p[t+72>>2],p[(n=e+84|0)>>2]=0,p[(i=e+76|0)>>2]=0,p[i+4>>2]=0,p[e+72>>2]=r,r=i,i=t+76|0,p[r>>2]=p[i>>2],p[e+80>>2]=p[t+80>>2],r=t+84|0,p[n>>2]=p[r>>2],p[r>>2]=0,p[i>>2]=0,p[i+4>>2]=0,p[(r=e+96|0)>>2]=0,p[(i=e+88|0)>>2]=0,p[i+4>>2]=0,n=i,i=t+88|0,p[n>>2]=p[i>>2],p[e+92>>2]=p[t+92>>2],n=r,r=t+96|0,p[n>>2]=p[r>>2],p[r>>2]=0,p[i>>2]=0,p[i+4>>2]=0,i=_[t+100|0],p[(r=e+112|0)>>2]=0,p[e+104>>2]=0,p[e+108>>2]=0,l[e+100|0]=i,p[e+104>>2]=p[t+104>>2],p[e+108>>2]=p[t+108>>2],i=t+112|0,p[r>>2]=p[i>>2],p[i>>2]=0,p[t+104>>2]=0,p[t+108>>2]=0,p[(r=e+124|0)>>2]=0,p[(i=e+116|0)>>2]=0,p[i+4>>2]=0,n=i,i=t+116|0,p[n>>2]=p[i>>2],p[e+120>>2]=p[t+120>>2],n=r,r=t+124|0,p[n>>2]=p[r>>2],p[r>>2]=0,p[i>>2]=0,p[i+4>>2]=0,p[e+128>>2]=p[t+128>>2],p[e+132>>2]=p[t+132>>2],e}function Gn(e,t){var i,r=0,n=g(0);r=2,1!=(0|t)&&(r=t,t+-1&t&&(r=Vs(t))),r>>>0>(i=p[e+4>>2])>>>0?Hn(e,r):r>>>0>=i>>>0||(t=(n=g(w(g(g(b[e+12>>2])/A[e+16>>2]))))<g(4294967296)&n>=g(0)?~~n>>>0:0,(t=r>>>0<(t=i>>>0<3||Vo(i)>>>0>1?Vs(t):t>>>0<2?t:1<<32-x(t+-1|0))>>>0?t:r)>>>0>=i>>>0||Hn(e,t))}function Hn(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;e:{t:if(t){if(t>>>0>=1073741824)break e;for(i=oo(t<<2),r=p[e>>2],p[e>>2]=i,r&&Mo(r),p[e+4>>2]=t,i=0;p[p[e>>2]+(i<<2)>>2]=0,(0|(i=i+1|0))!=(0|t););if(!(a=p[(r=e+8|0)>>2]))break t;if(s=p[a+4>>2],(i=Vo(t))>>>0<=1?s&=t+-1:s>>>0<t>>>0||(s=(s>>>0)%(t>>>0)|0),p[p[e>>2]+(s<<2)>>2]=r,!(r=p[a>>2]))break t;for(c=t+-1|0,f=i>>>0>1;;){if(n=p[r+4>>2],f?n>>>0<t>>>0||(n=(n>>>0)%(t>>>0)|0):n&=c,(0|n)!=(0|s))if(i=r,l=(o=n<<2)+p[e>>2]|0,p[l>>2]){for(;n=i,i=p[i>>2],p[r+8>>2]==p[i+8>>2]&&i;);p[a>>2]=i,p[n>>2]=p[p[p[e>>2]+o>>2]>>2],p[p[p[e>>2]+o>>2]>>2]=r}else p[l>>2]=a,a=r,s=n;else a=r;if(!(r=p[a>>2]))break}}else t=p[e>>2],p[e>>2]=0,t&&Mo(t),p[e+4>>2]=0;return}Wt(11752),E()}function Yn(e){Qn(e),p[e+56>>2]=0,p[e+60>>2]=0,p[e>>2]=13108}function Xn(e,t){e|=0;var i,r=0,n=0,s=0;V=i=V-32|0;e:if(t|=0)e=p[p[e+8>>2]>>2],p[i+28>>2]=t,(0|(r=p[(n=e+8|0)>>2]))==p[e+12>>2]?Zi(e+4|0,i+28|0):(p[r>>2]=t,p[n>>2]=r+4),t=p[i+28>>2],r=p[e+16>>2],(0|t)<(0|(n=p[e+20>>2]-r>>2))||(p[i+24>>2]=-1,(s=t+1|0)>>>0>n>>>0?(Qi(t=e+16|0,s-n|0,i+24|0),r=p[t>>2],t=p[i+28>>2]):s>>>0>=n>>>0||(p[e+20>>2]=(s<<2)+r)),p[(t<<2)+r>>2]=(p[e+8>>2]-p[e+4>>2]>>2)-1;else{if(t=oo(76),r=oo(12),p[r+8>>2]=p[p[e+4>>2]+80>>2],p[r>>2]=13468,p[r+4>>2]=0,p[i+8>>2]=r,Nr(t,i+8|0,0),p[i+16>>2]=t,(r=p[(n=e+12|0)>>2])>>>0<b[e+16>>2]?(p[i+16>>2]=0,p[r>>2]=t,p[n>>2]=r+4):mn(e+8|0,i+16|0),e=p[i+16>>2],p[i+16>>2]=0,e&&a[p[p[e>>2]+4>>2]](e),e=p[i+8>>2],p[i+8>>2]=0,!e)break e;a[p[p[e>>2]+4>>2]](e)}return V=i+32|0,1}function Zn(e){var t,i=0,r=0,n=0,s=0;if(p[(e|=0)>>2]=13532,(i=p[e+32>>2])&&(p[e+36>>2]=i,Mo(i)),(i=p[e+20>>2])&&(p[e+24>>2]=i,Mo(i)),t=p[e+8>>2]){if(n=i=t,(0|i)!=(0|(r=p[(s=e+12|0)>>2]))){for(;i=p[(r=r+-4|0)>>2],p[r>>2]=0,i&&a[p[p[i>>2]+4>>2]](i),(0|r)!=(0|t););n=p[e+8>>2]}i=n,p[s>>2]=t,Mo(i)}Mo(e)}function Qn(e){return p[e+52>>2]=0,p[e>>2]=13532,p[e+4>>2]=0,p[e+8>>2]=0,p[e+12>>2]=0,p[e+16>>2]=0,p[e+20>>2]=0,p[e+24>>2]=0,p[e+28>>2]=0,p[e+32>>2]=0,p[e+36>>2]=0,p[e+40>>2]=0,p[e+44>>2]=0,e}function Jn(e,t,i,r){var n,s,o=0,c=0;if(V=n=V-16|0,p[t+44>>2]=r,p[t+48>>2]=i,(0|(r=p[(s=t+12|0)>>2]))!=(0|(c=p[t+8>>2])))for(;o=p[(r=r+-4|0)>>2],p[r>>2]=0,o&&a[p[p[o>>2]+4>>2]](o),(0|r)!=(0|c););p[s>>2]=c,p[t+24>>2]=p[t+20>>2],p[t+36>>2]=p[t+32>>2];e:if(p[t+4>>2]){if(function(e,t){var i,r,n,s=0,o=0;V=i=V-16|0,s=p[t+44>>2],((0|(o=p[s+20>>2]))<0?1:(0|o)<=0?b[s+16>>2]>0?0:1:0)&&Yt(s,p[s+4>>2],13736,13741);s=0|a[p[p[t>>2]+8>>2]](t),l[i+15|0]=s,l[i+14|0]=2,l[i+13|0]=255&s?2:3,s=p[t+44>>2];(0|(o=p[s+20>>2]))>0||(0|o)>=0&&!(b[s+16>>2]<=0)||(Yt(s,p[s+4>>2],i+14|0,i+15|0),s=p[t+44>>2],(0|(o=p[s+20>>2]))>0||(0|o)>=0&&!(b[s+16>>2]<=0)||(Yt(s,p[s+4>>2],i+13|0,i+14|0),s=p[t+44>>2],(0|(o=p[s+20>>2]))>0||(0|o)>=0&&!(b[s+16>>2]<=0)||(Yt(s,p[s+4>>2],i+15|0,i+16|0),s=p[t+44>>2])));r=i,n=0|a[p[p[t>>2]+12>>2]](t),l[r+12|0]=n,((0|(o=p[s+20>>2]))<0?1:(0|o)<=0?b[s+16>>2]>0?0:1:0)&&Yt(s,p[s+4>>2],i+12|0,i+13|0);d[i+10>>1]=(0!=p[p[t+4>>2]+4>>2])<<15,t=p[t+44>>2],((0|(s=p[t+20>>2]))<0?1:(0|s)<=0?b[t+16>>2]>0?0:1:0)&&Yt(t,p[t+4>>2],i+10|0,i+12|0);p[e>>2]=0,p[e+4>>2]=0,p[e+8>>2]=0,p[e+12>>2]=0,V=i+16|0}(e,t),!p[e>>2]&&(r=e+4|0,l[e+15|0]<=-1&&Mo(p[r>>2]),function(e,t){var i,r=0,n=0;V=i=V-32|0;t:if(r=p[p[t+4>>2]+4>>2])if(function(e,t,i){var r,n=0,a=0;if(!i)return 0;if(Ki(p[(n=i+28|0)>>2]-p[i+24>>2]>>2,t),a=p[i+24>>2],r=p[n>>2],(0|a)!=(0|r))for(;(n=p[a>>2])&&(Ki(p[n+24>>2],t),Da(e,t,n)),(0|r)!=(0|(a=a+4|0)););return Da(e,t,i),1}(i+24|0,p[t+44>>2],r))p[e>>2]=0,p[e+4>>2]=0,p[e+8>>2]=0,p[e+12>>2]=0;else{if(t=oo(32),p[i+8>>2]=t,p[i+12>>2]=26,p[i+16>>2]=-2147483616,l[t+26|0]=0,r=_[13766]|_[13767]<<8,l[t+24|0]=r,l[t+25|0]=r>>>8,r=_[13762]|_[13763]<<8|_[13764]<<16|_[13765]<<24,n=_[13758]|_[13759]<<8|_[13760]<<16|_[13761]<<24,l[t+16|0]=n,l[t+17|0]=n>>>8,l[t+18|0]=n>>>16,l[t+19|0]=n>>>24,l[t+20|0]=r,l[t+21|0]=r>>>8,l[t+22|0]=r>>>16,l[t+23|0]=r>>>24,r=_[13754]|_[13755]<<8|_[13756]<<16|_[13757]<<24,n=_[13750]|_[13751]<<8|_[13752]<<16|_[13753]<<24,l[t+8|0]=n,l[t+9|0]=n>>>8,l[t+10|0]=n>>>16,l[t+11|0]=n>>>24,l[t+12|0]=r,l[t+13|0]=r>>>8,l[t+14|0]=r>>>16,l[t+15|0]=r>>>24,r=_[13746]|_[13747]<<8|_[13748]<<16|_[13749]<<24,n=_[13742]|_[13743]<<8|_[13744]<<16|_[13745]<<24,l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=r,l[t+5|0]=r>>>8,l[t+6|0]=r>>>16,l[t+7|0]=r>>>24,p[e>>2]=-1,fo(e+4|0,i+8|0),l[i+19|0]>-1)break t;Mo(p[i+8>>2])}else p[e>>2]=0,p[e+4>>2]=0,p[e+8>>2]=0,p[e+12>>2]=0;V=i+32|0}(e,t),!p[e>>2]))if(l[r+11|0]<=-1&&Mo(p[r>>2]),a[p[p[t>>2]+16>>2]](t))if(a[p[p[t>>2]+20>>2]](t)){if(a[p[p[t>>2]+24>>2]](e,t),!p[e>>2])if(l[r+11|0]<=-1&&Mo(p[r>>2]),a[p[p[t>>2]+28>>2]](t))r=oo(32),p[n>>2]=r,p[n+4>>2]=30,p[n+8>>2]=-2147483616,l[r+30|0]=0,o=_[13731]|_[13732]<<8|_[13733]<<16|_[13734]<<24,c=_[13727]|_[13728]<<8|_[13729]<<16|_[13730]<<24,l[r+22|0]=c,l[r+23|0]=c>>>8,l[r+24|0]=c>>>16,l[r+25|0]=c>>>24,l[r+26|0]=o,l[r+27|0]=o>>>8,l[r+28|0]=o>>>16,l[r+29|0]=o>>>24,o=_[13725]|_[13726]<<8|_[13727]<<16|_[13728]<<24,c=_[13721]|_[13722]<<8|_[13723]<<16|_[13724]<<24,l[r+16|0]=c,l[r+17|0]=c>>>8,l[r+18|0]=c>>>16,l[r+19|0]=c>>>24,l[r+20|0]=o,l[r+21|0]=o>>>8,l[r+22|0]=o>>>16,l[r+23|0]=o>>>24,o=_[13717]|_[13718]<<8|_[13719]<<16|_[13720]<<24,c=_[13713]|_[13714]<<8|_[13715]<<16|_[13716]<<24,l[r+8|0]=c,l[r+9|0]=c>>>8,l[r+10|0]=c>>>16,l[r+11|0]=c>>>24,l[r+12|0]=o,l[r+13|0]=o>>>8,l[r+14|0]=o>>>16,l[r+15|0]=o>>>24,o=_[13709]|_[13710]<<8|_[13711]<<16|_[13712]<<24,c=_[13705]|_[13706]<<8|_[13707]<<16|_[13708]<<24,l[0|r]=c,l[r+1|0]=c>>>8,l[r+2|0]=c>>>16,l[r+3|0]=c>>>24,l[r+4|0]=o,l[r+5|0]=o>>>8,l[r+6|0]=o>>>16,l[r+7|0]=o>>>24,i=Aa(i,n,0),l[n+11|0]<=-1&&Mo(p[n>>2]),i&&a[p[p[t>>2]+48>>2]](t),p[e>>2]=0,p[e+4>>2]=0,p[e+8>>2]=0,p[e+12>>2]=0;else{if(t=oo(48),p[n>>2]=t,p[n+4>>2]=34,p[n+8>>2]=-2147483600,l[t+34|0]=0,i=_[13702]|_[13703]<<8,l[t+32|0]=i,l[t+33|0]=i>>>8,i=_[13698]|_[13699]<<8|_[13700]<<16|_[13701]<<24,o=_[13694]|_[13695]<<8|_[13696]<<16|_[13697]<<24,l[t+24|0]=o,l[t+25|0]=o>>>8,l[t+26|0]=o>>>16,l[t+27|0]=o>>>24,l[t+28|0]=i,l[t+29|0]=i>>>8,l[t+30|0]=i>>>16,l[t+31|0]=i>>>24,i=_[13690]|_[13691]<<8|_[13692]<<16|_[13693]<<24,o=_[13686]|_[13687]<<8|_[13688]<<16|_[13689]<<24,l[t+16|0]=o,l[t+17|0]=o>>>8,l[t+18|0]=o>>>16,l[t+19|0]=o>>>24,l[t+20|0]=i,l[t+21|0]=i>>>8,l[t+22|0]=i>>>16,l[t+23|0]=i>>>24,i=_[13682]|_[13683]<<8|_[13684]<<16|_[13685]<<24,o=_[13678]|_[13679]<<8|_[13680]<<16|_[13681]<<24,l[t+8|0]=o,l[t+9|0]=o>>>8,l[t+10|0]=o>>>16,l[t+11|0]=o>>>24,l[t+12|0]=i,l[t+13|0]=i>>>8,l[t+14|0]=i>>>16,l[t+15|0]=i>>>24,i=_[13674]|_[13675]<<8|_[13676]<<16|_[13677]<<24,o=_[13670]|_[13671]<<8|_[13672]<<16|_[13673]<<24,l[0|t]=o,l[t+1|0]=o>>>8,l[t+2|0]=o>>>16,l[t+3|0]=o>>>24,l[t+4|0]=i,l[t+5|0]=i>>>8,l[t+6|0]=i>>>16,l[t+7|0]=i>>>24,p[e>>2]=-1,fo(r,n),l[n+11|0]>-1)break e;Mo(p[n>>2])}}else{if(t=oo(32),p[n>>2]=t,p[n+4>>2]=31,p[n+8>>2]=-2147483616,l[t+31|0]=0,i=_[13665]|_[13666]<<8|_[13667]<<16|_[13668]<<24,o=_[13661]|_[13662]<<8|_[13663]<<16|_[13664]<<24,l[t+23|0]=o,l[t+24|0]=o>>>8,l[t+25|0]=o>>>16,l[t+26|0]=o>>>24,l[t+27|0]=i,l[t+28|0]=i>>>8,l[t+29|0]=i>>>16,l[t+30|0]=i>>>24,i=_[13658]|_[13659]<<8|_[13660]<<16|_[13661]<<24,o=_[13654]|_[13655]<<8|_[13656]<<16|_[13657]<<24,l[t+16|0]=o,l[t+17|0]=o>>>8,l[t+18|0]=o>>>16,l[t+19|0]=o>>>24,l[t+20|0]=i,l[t+21|0]=i>>>8,l[t+22|0]=i>>>16,l[t+23|0]=i>>>24,i=_[13650]|_[13651]<<8|_[13652]<<16|_[13653]<<24,o=_[13646]|_[13647]<<8|_[13648]<<16|_[13649]<<24,l[t+8|0]=o,l[t+9|0]=o>>>8,l[t+10|0]=o>>>16,l[t+11|0]=o>>>24,l[t+12|0]=i,l[t+13|0]=i>>>8,l[t+14|0]=i>>>16,l[t+15|0]=i>>>24,i=_[13642]|_[13643]<<8|_[13644]<<16|_[13645]<<24,o=_[13638]|_[13639]<<8|_[13640]<<16|_[13641]<<24,l[0|t]=o,l[t+1|0]=o>>>8,l[t+2|0]=o>>>16,l[t+3|0]=o>>>24,l[t+4|0]=i,l[t+5|0]=i>>>8,l[t+6|0]=i>>>16,l[t+7|0]=i>>>24,p[e>>2]=-1,fo(r,n),l[n+11|0]>-1)break e;Mo(p[n>>2])}else{if(t=oo(32),p[n>>2]=t,p[n+4>>2]=29,p[n+8>>2]=-2147483616,l[t+29|0]=0,i=_[13633]|_[13634]<<8|_[13635]<<16|_[13636]<<24,o=_[13629]|_[13630]<<8|_[13631]<<16|_[13632]<<24,l[t+21|0]=o,l[t+22|0]=o>>>8,l[t+23|0]=o>>>16,l[t+24|0]=o>>>24,l[t+25|0]=i,l[t+26|0]=i>>>8,l[t+27|0]=i>>>16,l[t+28|0]=i>>>24,i=_[13628]|_[13629]<<8|_[13630]<<16|_[13631]<<24,o=_[13624]|_[13625]<<8|_[13626]<<16|_[13627]<<24,l[t+16|0]=o,l[t+17|0]=o>>>8,l[t+18|0]=o>>>16,l[t+19|0]=o>>>24,l[t+20|0]=i,l[t+21|0]=i>>>8,l[t+22|0]=i>>>16,l[t+23|0]=i>>>24,i=_[13620]|_[13621]<<8|_[13622]<<16|_[13623]<<24,o=_[13616]|_[13617]<<8|_[13618]<<16|_[13619]<<24,l[t+8|0]=o,l[t+9|0]=o>>>8,l[t+10|0]=o>>>16,l[t+11|0]=o>>>24,l[t+12|0]=i,l[t+13|0]=i>>>8,l[t+14|0]=i>>>16,l[t+15|0]=i>>>24,i=_[13612]|_[13613]<<8|_[13614]<<16|_[13615]<<24,o=_[13608]|_[13609]<<8|_[13610]<<16|_[13611]<<24,l[0|t]=o,l[t+1|0]=o>>>8,l[t+2|0]=o>>>16,l[t+3|0]=o>>>24,l[t+4|0]=i,l[t+5|0]=i>>>8,l[t+6|0]=i>>>16,l[t+7|0]=i>>>24,p[e>>2]=-1,fo(r,n),l[n+11|0]>-1)break e;Mo(p[n>>2])}}else{if(t=oo(32),p[n>>2]=t,p[n+4>>2]=23,p[n+8>>2]=-2147483616,l[t+23|0]=0,i=_[13603]|_[13604]<<8|_[13605]<<16|_[13606]<<24,r=_[13599]|_[13600]<<8|_[13601]<<16|_[13602]<<24,l[t+15|0]=r,l[t+16|0]=r>>>8,l[t+17|0]=r>>>16,l[t+18|0]=r>>>24,l[t+19|0]=i,l[t+20|0]=i>>>8,l[t+21|0]=i>>>16,l[t+22|0]=i>>>24,i=_[13596]|_[13597]<<8|_[13598]<<16|_[13599]<<24,r=_[13592]|_[13593]<<8|_[13594]<<16|_[13595]<<24,l[t+8|0]=r,l[t+9|0]=r>>>8,l[t+10|0]=r>>>16,l[t+11|0]=r>>>24,l[t+12|0]=i,l[t+13|0]=i>>>8,l[t+14|0]=i>>>16,l[t+15|0]=i>>>24,i=_[13588]|_[13589]<<8|_[13590]<<16|_[13591]<<24,r=_[13584]|_[13585]<<8|_[13586]<<16|_[13587]<<24,l[0|t]=r,l[t+1|0]=r>>>8,l[t+2|0]=r>>>16,l[t+3|0]=r>>>24,l[t+4|0]=i,l[t+5|0]=i>>>8,l[t+6|0]=i>>>16,l[t+7|0]=i>>>24,p[e>>2]=-1,fo(e+4|0,n),l[n+11|0]>-1)break e;Mo(p[n>>2])}V=n+16|0}function qn(e,t,i){var r=0,n=0,a=0;p[e>>2]=0,p[e+4>>2]=0,p[e+8>>2]=0;e:{t:if(t){if((0|t)<=-1)break e;if(r=oo((a=(n=t+-1>>>5)+1|0)<<2),p[e+8>>2]=a,p[e>>2]=r,a=_[0|i],p[e+4>>2]=t,p[(t>>>0<33?r:r+(n<<2)|0)>>2]=0,n=(i=t>>>5)<<2,a){if(r=Do(r,255,n),!(t&=31))break t;return p[(i=r+(i<<2)|0)>>2]=p[i>>2]|-1>>>32-t,e}r=Do(r,0,n),(t&=31)&&(p[(i=r+(i<<2)|0)>>2]=p[i>>2]&(-1>>>32-t^-1))}return e}Ao(),E()}function Kn(e,t){var i,r,n,a,s=0,o=0,l=0,c=0,f=0,h=0,u=0;if(V=i=V-16|0,r=e+8|0,s=p[e+4>>2],p[r>>2]=s,n=e+20|0,l=p[e+16>>2],p[n>>2]=l,(0|(c=p[t>>2]))!=(0|(a=p[t+4>>2])))for(t=e+16|0,h=e+4|0,u=e+12|0;o=p[c>>2],p[i+12>>2]=o,p[u>>2]==(0|s)?(Zi(h,i+12|0),l=p[t>>2]):(p[s>>2]=o,p[r>>2]=s+4),(0|(s=p[i+12>>2]))<(0|(o=p[n>>2]-l>>2))||(p[i+8>>2]=-1,(f=s+1|0)>>>0>o>>>0?(Qi(t,f-o|0,i+8|0),l=p[t>>2],s=p[i+12>>2]):f>>>0>=o>>>0||(p[n>>2]=(f<<2)+l)),o=(s<<2)+l|0,s=p[r>>2],p[o>>2]=(s-p[e+4>>2]>>2)-1,(0|a)!=(0|(c=c+4|0)););V=i+16|0}function $n(e,t){var i=0;(0|t)<0||(i=p[e+4>>2],p[i+12>>2]-p[i+8>>2]>>2<=(0|t)||(e=p[p[e+8>>2]+(p[p[e+20>>2]+(t<<2)>>2]<<2)>>2],a[p[p[e>>2]+32>>2]](e,t)))}function ea(e,t){var i=0,r=0;return(0|t)<0||(i=p[e+4>>2],p[i+12>>2]-p[i+8>>2]>>2<=(0|t)||(e=p[p[e+8>>2]+(p[p[e+20>>2]+(t<<2)>>2]<<2)>>2],r=0|a[p[p[e>>2]+36>>2]](e,t))),r}function ta(e,t){e|=0,t|=0;var i,r;V=i=V-16|0,p[i+12>>2]=p[p[t+4>>2]+80>>2],t=p[t+44>>2],((0|(r=p[t+20>>2]))<0||(0|r)<=0&&!(b[t+16>>2]>0))&&Yt(t,p[t+4>>2],i+12|0,i+16|0),p[e>>2]=0,p[e+4>>2]=0,p[e+8>>2]=0,p[e+12>>2]=0,V=i+16|0}function ia(e){p[(e|=0)+52>>2]=p[p[e+4>>2]+80>>2]}function ra(e){p[e+16>>2]=0,p[e+20>>2]=0,p[e>>2]=0,p[e+4>>2]=0,p[e+8>>2]=0,p[e+24>>2]=0,p[e+28>>2]=0}function na(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;e:{t:{if((r=p[e+8>>2])-(i=p[(n=e+4|0)>>2])>>>0>=t>>>0)for(;;)if(l[0|i]=0,i=p[n>>2]+1|0,p[n>>2]=i,!(t=t+-1|0))break t;if((0|(i=(s=i-(a=p[e>>2])|0)+t|0))<=-1)break e;for(n=0,o=(r=r-a|0)<<1,(r=r>>>0<1073741823?o>>>0<i>>>0?i:o:2147483647)&&(n=oo(r)),Do(i=n+s|0,0,t),r=r+n|0;i=i+1|0,t=t+-1|0;);(0|s)>=1&&Io(n,a,s),p[e>>2]=n,p[e+8>>2]=r,p[e+4>>2]=i,a&&Mo(a)}return}Ao(),E()}function aa(e,t){var i=0,r=0;r=p[e>>2],(i=p[e+4>>2]-r|0)>>>0<t>>>0?na(e,t-i|0):i>>>0<=t>>>0||(p[e+4>>2]=t+r),i=t=e+24|0,r=t,e=p[t+4>>2],(t=p[t>>2]+1|0)>>>0<1&&(e=e+1|0),p[r>>2]=t,p[i+4>>2]=e}function sa(e){return(e=e+-1|0)>>>0<=10?p[16080+(e<<2)>>2]:-1}function oa(e){return p[e>>2]=0,p[e+4>>2]=0,l[e+24|0]=0,p[e+16>>2]=0,p[e+20>>2]=0,p[e+8>>2]=0,p[e+12>>2]=0,e}function la(e,t){var i,r;r=p[e>>2],(i=p[e+4>>2]-r|0)>>>0<t>>>0?na(e,t-i|0):i>>>0>t>>>0&&(p[e+4>>2]=t+r)}function ca(e,t,i,r){var n=0,a=0,s=0;(0|i)<0||(0|i)<=0&&!(t>>>0>=1)||(0|(n=p[e+20>>2]))>0||(0|n)>=0&&!(b[e+16>>2]<=0)||(l[e+24|0]=r,n=e,a=e,(t=t+7|0)>>>0<7&&(i=i+1|0),i=Lo(t,i,8,0),p[a+16>>2]=i,p[n+20>>2]=z,n=p[e>>2],s=i,a=(i=t=p[e+4>>2]-n|0)+8|0,t>>>0<(i=a=s+(r=r?a:i)|0)>>>0?(na(e,i-t|0),n=p[e>>2]):t>>>0<=i>>>0||(p[e+4>>2]=i+n),t=oo(8),p[t+4>>2]=0,p[t>>2]=r+n,i=p[e+12>>2],p[e+12>>2]=t,i&&Mo(i))}function fa(e){var t,i=0,r=0,n=0,a=0,s=0,o=0;V=t=V-32|0,r=p[e+16>>2],((0|(i=p[e+20>>2]))>0||(0|i)>=0&&!(r>>>0<1))&&((i=p[p[e+12>>2]+4>>2]+7|0)>>>0<7&&(a=1),n=i,i=a>>>3,a=a<<29|n>>>3,n=i,_[e+24|0]&&(s=p[e+4>>2],l[t+24|0]=0,p[(i=t)+16>>2]=0,p[i+20>>2]=0,p[i+8>>2]=0,p[i+12>>2]=0,p[i>>2]=0,p[i+4>>2]=0,rt(a,n,i),Fo((s=(r=s-r|0)+-8|0)+(n=p[i+4>>2]-p[i>>2]|0)|0,r,a),Io(s,p[i>>2],n),o=i=e,r=p[i+20>>2],(s=(n=8-n|0)+p[i+16>>2]|0)>>>0<n>>>0&&(r=r+1|0),p[o+16>>2]=s,p[i+20>>2]=r,i=p[t+12>>2],p[t+12>>2]=0,i&&Mo(i),(i=p[t>>2])&&(p[t+4>>2]=i,Mo(i)),r=p[e+16>>2]),n=p[e>>2],(r=(i=p[e+4>>2]-n|0)+(a=a-r|0)|0)>>>0>i>>>0?na(e,a):r>>>0>=i>>>0||(p[e+4>>2]=r+n),p[e+16>>2]=0,p[e+20>>2]=0),V=t+32|0}function ha(e){var t;return p[(t=e+4|0)>>2]=0,p[t+4>>2]=0,p[e>>2]=t,e}function ua(e,t,i){var r;V=r=V-48|0,function(e,t){var i;V=i=V-16|0,mo(i),function(e,t,i){var r,n=0,a=0,s=0;V=r=V-16|0,n=Ys(t);for(;;){e:{if(a=Ks(t),p[r>>2]=i,s=t,(0|(a=Hs(a,n+1|0,17873,r)))>=0){if(a>>>0<=n>>>0)break e;n=a}else n=n<<1|1;Zs(s,n);continue}break}Zs(t,a),to(e,t),V=r+16|0}(e,i,t),ho(i),V=i+16|0}(r+8|0,i),p[r+32>>2]=t,Ne(r+40|0,e,t,r+32|0),t=(e=p[r+40>>2])+28|0,l[e+39|0]>=0?(l[t+11|0]=0,l[0|t]=0):(l[p[e+28>>2]]=0,p[e+32>>2]=0,l[e+39|0]>-1||(Mo(p[e+28>>2]),p[e+36>>2]=0)),e=p[r+12>>2],p[t>>2]=p[r+8>>2],p[t+4>>2]=e,p[t+8>>2]=p[r+16>>2],V=r+48|0}function da(e,t,i){var r;V=r=V-48|0,bo(r+8|0,i),p[r+32>>2]=t,Ne(r+40|0,e,t,r+32|0),t=(e=p[r+40>>2])+28|0,l[e+39|0]>=0?(l[t+11|0]=0,l[0|t]=0):(l[p[e+28>>2]]=0,p[e+32>>2]=0,l[e+39|0]>-1||(Mo(p[e+28>>2]),p[e+36>>2]=0)),e=p[r+12>>2],p[t>>2]=p[r+8>>2],p[t+4>>2]=e,p[t+8>>2]=p[r+16>>2],V=r+48|0}function pa(e,t){return(0|(t=Sr(e,t)))==(e+4|0)?-1:(e=t+28|0,l[t+39|0]<=-1&&(e=p[e>>2]),ms(e))}function _a(e,t,i){return(0|(t=Sr(e,t)))!=(e+4|0)&&(e=t+28|0,l[t+39|0]<=-1&&(e=p[e>>2]),i=ms(e)),i}function ma(e,t){var i=g(0);return(0|(t=Sr(e,t)))!=(e+4|0)?(e=t+28|0,l[t+39|0]<=-1&&(e=p[e>>2]),i=g(function(e){var t,i;return V=t=V-16|0,ps(t,e,0,1),i=Us(p[t>>2],p[t+4>>2],p[t+8>>2],p[t+12>>2]),V=t+16|0,i}(e))):i=g(1),i}function ba(e,t){return(0|(t=Sr(e,t)))!=(e+4|0)&&(e=t+28|0,l[t+39|0]<=-1&&(e=p[e>>2]),-1!=(0|(e=ms(e))))?0!=(0|e):0}function Aa(e,t,i){return(0|(t=Sr(e,t)))!=(e+4|0)&&(e=t+28|0,l[t+39|0]<=-1&&(e=p[e>>2]),-1!=(0|(e=ms(e)))&&(i=0!=(0|e))),i}function va(e){return p[e>>2]=1065353216,e}function ya(e,t,i){A[e>>2]=g(0|i)/t}function ga(e,t){var i,r,n=0;V=r=V-16|0,i=oo(88),p[(n=i)>>2]=0,p[n+4>>2]=0,p[n+56>>2]=0,p[n+48>>2]=0,p[n+52>>2]=0,p[n+40>>2]=0,p[n+44>>2]=0,p[n+32>>2]=0,p[n+36>>2]=0,p[n+24>>2]=0,p[n+28>>2]=0,p[n+16>>2]=0,p[n+20>>2]=0,p[n+8>>2]=0,p[n+12>>2]=0,p[(n=n- -64|0)>>2]=0,p[n+4>>2]=0,p[i+72>>2]=0,p[i+76>>2]=0,p[i+80>>2]=0,p[i+84>>2]=0,p[i+60>>2]=i,p[r+8>>2]=i,!function(e,t){var i,r,n=0,a=0,s=0,o=0,c=0;V=i=V-16|0,p[e+80>>2]=0,p[e+84>>2]=0,a=p[(n=e+76|0)>>2],p[n>>2]=0,a&&Mo(a);p[e+68>>2]=0,p[e+72>>2]=0,a=p[(n=e- -64|0)>>2],p[n>>2]=0,a&&Mo(a);n=p[(c=t+4|0)>>2],a=p[t>>2],s=y((n-a|0)/12|0,3),r=p[e>>2],o=p[e+4>>2]-r>>2;s>>>0>o>>>0?(Fn(e,s-o|0),n=p[c>>2],a=p[t>>2]):s>>>0>=o>>>0||(p[e+4>>2]=(s<<2)+r);if((0|n)!=(0|a))for(o=(n-a|0)/12|0,c=p[e>>2],t=0;s=y(t,12),n=s+c|0,s=a+s|0,p[n>>2]=p[s>>2],p[n+4>>2]=p[s+4>>2],p[n+8>>2]=p[s+8>>2],(t=t+1|0)>>>0<o>>>0;);p[i+12>>2]=-1,t=0,function(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,b=0,A=0,v=0,y=0,g=0,k=0,x=0;if(V=i=V-48|0,t){y=e+12|0,c=p[(n=e+4|0)>>2],f=p[e>>2],a=(o=c-f|0)>>2,r=p[e+12>>2],s=p[e+16>>2]-r>>2,a>>>0>s>>>0?(ka(y,a-s|0),c=p[n>>2],f=p[e>>2],a=(o=c-f|0)>>2):a>>>0>=s>>>0||(p[e+16>>2]=r+(a<<2)),n=0,p[i+40>>2]=0,p[i+32>>2]=0,p[i+36>>2]=0;e:{t:{if(a){if(a>>>0>=1073741824)break t;r=oo(o),p[i+36>>2]=r,p[i+32>>2]=r,p[i+40>>2]=(a<<2)+r,s=r}else r=0,s=0;i:if(o)for(l=e+4|0,u=n=s,o=0;;){if((h=p[(o<<2)+f>>2])>>>0>=(u=u-n>>2)>>>0&&(p[i+16>>2]=0,(r=h+1|0)>>>0>u>>>0?(Qi(i+32|0,r-u|0,i+16|0),c=p[l>>2],f=p[e>>2]):r>>>0>=u>>>0||(p[i+36>>2]=(r<<2)+n),r=p[i+32>>2],s=r),p[(n=(h<<2)+r|0)>>2]=p[n>>2]+1,(o=o+1|0)>>>0>=(a=(n=c-f|0)>>2)>>>0)break i;u=p[i+36>>2],n=r}p[i+24>>2]=0,p[i+16>>2]=0,p[i+20>>2]=0,o=0;i:{if(n){if(a>>>0>=536870912)break i;for(o=oo(n<<1),p[i+16>>2]=o,p[i+20>>2]=o,n=a<<3,p[i+24>>2]=n+o,n=Do(o,255,n);n=n+8|0,a=a+-1|0;);p[i+20>>2]=n}p[i+8>>2]=0,p[i>>2]=0,p[i+4>>2]=0,n=p[i+36>>2]-s|0,b=n>>2;r:{if(n){if(b>>>0>=1073741824)break r;for(d=oo(n),p[i>>2]=d,p[i+8>>2]=(b<<2)+d,a=0,l=Do(d,0,n),p[i+4>>2]=l+n,n=0;p[(s=n<<2)+l>>2]=a,a=p[r+s>>2]+a|0,(n=n+1|0)>>>0<b>>>0;);}if((0|c)==(0|f))break e;for(x=c-f>>2,l=0,g=p[i+32>>2];;){if(u=p[(A=l<<2)+f>>2],c=-1,-1!=(0|(r=((n=l+1|0)>>>0)%3|0?n:l+-2|0))&&(c=p[(r<<2)+f>>2]),_=-1,-1!=(0|(r=((s=(l>>>0)%3|0)?-1:2)+l|0))&&(_=p[(r<<2)+f>>2]),s||(0|c)!=(0|_)&&(0|(r=p[f+A>>2]))!=(0|c)&&(0|r)!=(0|_))n:{a:if(!((0|(v=p[(r=_<<2)+g>>2]))<1))for(r=p[r+d>>2],a=0;;){if(-1==(0|(s=p[(h=(r<<3)+o|0)>>2])))break a;if((0|s)==(0|c)&&(m=p[h+4>>2],(0|(s=-1!=(0|m)?p[(m<<2)+f>>2]:-1))!=(0|u))){for(;s=r,!((0|(a=a+1|0))>=(0|v)||(k=(s<<3)+o|0,h=p[(u=((r=s+1|0)<<3)+o|0)>>2],p[k>>2]=h,p[k+4>>2]=p[u+4>>2],-1==(0|h))););if(p[(s<<3)+o>>2]=-1,-1==(0|m))break a;r=p[y>>2],p[r+A>>2]=m,p[r+(m<<2)>>2]=l;break n}if(r=r+1|0,(0|v)==(0|(a=a+1|0)))break}if(!((0|(s=p[(r=c<<2)+g>>2]))<1))for(r=p[r+d>>2],a=0;;){if(-1==p[(h=(r<<3)+o|0)>>2]){p[h>>2]=_,p[h+4>>2]=l;break n}if(r=r+1|0,(0|s)==(0|(a=a+1|0)))break}}else p[e+40>>2]=p[e+40>>2]+1,n=l+3|0;if(!((l=n)>>>0<x>>>0))break}break e}Ao(),E()}Ao(),E()}Wt(16132),E()}p[t>>2]=b,d&&(p[i+4>>2]=d,Mo(d)),(e=p[i+16>>2])&&(p[i+20>>2]=e,Mo(e)),(e=p[i+32>>2])&&(p[i+36>>2]=e,Mo(e)),e=1}else e=0;return V=i+48|0,e}(e,i+12|0)&&(!function(e){var t,i,r,n,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,b=0;V=t=V-48|0,a=p[(r=e+4|0)>>2],u=p[e>>2],l[t+16|0]=0,n=qn(t+32|0,a-u>>2,t+16|0),p[t+24>>2]=0,p[t+16>>2]=0,p[t+20>>2]=0,a=p[r>>2],h=p[e>>2],i=e+12|0;for(;;){if(_=0,f=0,(0|a)!=(0|h)){for(;;){o=p[n>>2];e:if(!(p[o+(f>>>3&536870908)>>2]>>>(31&f)&1)){for(c=p[t+16>>2],p[t+20>>2]=c,a=f;u=a,!(-1==(0|(a=((s=a+1|0)>>>0)%3|0?s:a+-2|0))||-1==(0|(a=p[p[i>>2]+(a<<2)>>2]))||(0|f)==(0|(a=((s=a+1|0)>>>0)%3|0?s:a+-2|0))|-1==(0|a)||p[(a>>>3&536870908)+o>>2]>>>(31&a)&1););for(a=c,s=u;;){if(p[(o=(s>>>3&536870908)+o|0)>>2]=p[o>>2]|1<<(31&s),m=((o=s+1|0)>>>0)%3|0?o:s+-2|0,o=((s>>>0)%3|0?-1:2)+s|0,(0|a)!=(0|c))for(b=p[(m<<2)+h>>2];;){if((0|b)==p[a>>2]&&(s=-1,d=p[a+4>>2],s=-1!=(0|o)?p[p[i>>2]+(o<<2)>>2]:s,(0|d)!=(0|s))){c=-1,c=-1!=(0|d)?p[p[i>>2]+(d<<2)>>2]:c,-1!=(0|s)&&(p[p[i>>2]+(s<<2)>>2]=-1),a=p[i>>2],-1!=(0|c)&&(p[a+(c<<2)>>2]=-1),p[a+(o<<2)>>2]=-1,p[a+(d<<2)>>2]=-1,_=1;break e}if((0|c)==(0|(a=a+8|0)))break}if(p[t+8>>2]=0,s=p[(a=o<<2)+h>>2],p[t+12>>2]=m,p[t+8>>2]=s,p[t+24>>2]==(0|c)?xa(t+16|0,t+8|0):(s=p[t+12>>2],p[c>>2]=p[t+8>>2],p[c+4>>2]=s,p[t+20>>2]=p[t+20>>2]+8),-1==(0|o)||-1==(0|(a=p[a+p[i>>2]>>2]))||(0|u)==(0|(s=a+((a>>>0)%3|0?-1:2)|0))|-1==(0|s))break;h=p[e>>2],o=p[n>>2],c=p[t+20>>2],a=p[t+16>>2]}h=p[e>>2]}if(f=f+1|0,a=p[r>>2],!(f>>>0<a-h>>2>>>0))break}if(_)continue}break}(e=p[t+16>>2])&&(p[t+20>>2]=e,Mo(e));(e=p[n>>2])&&Mo(e);V=t+48|0}(e),function(e,t){var i,r,n,a,s,o=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,b=0,A=0,v=0,g=0,k=0,x=0,S=0,T=0,w=0,M=0;V=i=V-48|0,p[e+36>>2]=t,a=e+24|0,f=p[e+24>>2];(o=p[e+28>>2]-f>>2)>>>0<t>>>0?ka(a,t-o|0):o>>>0<=t>>>0||(p[e+28>>2]=f+(t<<2));l[i+16|0]=0,r=qn(i+32|0,t,i+16|0),o=p[(s=e+4|0)>>2],f=p[e>>2],l[i+8|0]=0,n=qn(i+16|0,o-f>>2,i+8|0);e:if(o=p[e>>2],!(p[s>>2]-o>>2>>>0<3)){for(x=e+48|0,b=e+12|0,S=e+32|0,v=e+28|0,T=e+56|0,g=e+52|0;;){_=y(A,3),h=p[(_<<2)+o>>2],u=0,c=-1,-1!=(0|(f=_+1|0))&&(c=p[(f<<2)+o>>2],f=-1,-1==(0|(u=_+2|0)))||(f=p[(u<<2)+o>>2]);t:{if(!((0|f)==(0|c)|(0|c)==(0|h)|(0|f)==(0|h)))for(d=p[n>>2],m=0;;){i:if(!(p[((f=_+m|0)>>>3&536870908)+d>>2]>>>(31&f)&1)){if(u=p[p[e>>2]+(f<<2)>>2],p[i+8>>2]=u,o=1<<(31&u),c=p[r>>2],d=p[c+((u>>>=5)<<2)>>2],h=0,o&d){if((0|(o=p[v>>2]))==p[S>>2]?kn(a,16128):(p[o>>2]=-1,p[v>>2]=o+4),(0|(o=p[g>>2]))==p[T>>2]?Sa(x,i+8|0):(p[o>>2]=p[i+8>>2],p[g>>2]=o+4),o=p[r+4>>2],h=p[r+8>>2],(0|o)==h<<5){if((o+1|0)<=-1)break t;o=o>>>0<=1073741822?(h<<=6)>>>0<(o=o+32&-32)>>>0?o:h:2147483647,Lr(c=r,o),o=p[r+4>>2]}p[r+4>>2]=o+1,c=p[r>>2],u=p[(h=c+(o>>>3&536870908)|0)>>2],w=h,M=zo(-2,o)&u,p[w>>2]=M,p[i+8>>2]=t,o=1<<(31&t),d=p[((u=t>>>5)<<2)+c>>2],t=t+1|0,h=1}p[(u<<2)+c>>2]=o|d,d=p[n>>2],o=f;r:{for(;;){if(-1==(0|o))break r;if(p[(c=(o>>>3&536870908)+d|0)>>2]=p[c>>2]|1<<(31&o),c=p[i+8>>2],p[p[a>>2]+(c<<2)>>2]=o,h&&(p[p[e>>2]+(o<<2)>>2]=c),u=f,o=((c=o+1|0)>>>0)%3|0?c:o+-2|0,c=-1,-1!=(0|o)&&(o=p[p[b>>2]+(o<<2)>>2],c=-1,-1!=(0|o)&&(c=((c=o+1|0)>>>0)%3|0?c:o+-2|0)),(0|u)==(0|(o=c)))break}if(-1!=(0|f))break i}if(-1!=(0|(o=f+((f>>>0)%3|0?-1:2)|0))&&-1!=(0|(o=p[p[b>>2]+(o<<2)>>2]))&&-1!=(0|(o=o+((o>>>0)%3|0?-1:2)|0)))for(d=p[n>>2];;){if(p[(f=(o>>>3&536870908)+d|0)>>2]=p[f>>2]|1<<(31&o),h&&(p[p[e>>2]+(o<<2)>>2]=p[i+8>>2]),-1==(0|(o=((o>>>0)%3|0?-1:2)+o|0)))break i;if(-1==(0|(o=p[p[b>>2]+(o<<2)>>2])))break i;if(-1==(0|(o=o+((o>>>0)%3|0?-1:2)|0)))break}}if(3==(0|(m=m+1|0)))break}if(A=A+1|0,o=p[e>>2],A>>>0<(p[s>>2]-o>>2>>>0)/3>>>0)continue;break e}break}Ao(),E()}if(p[e+44>>2]=0,t=p[r>>2],o=p[r+4>>2],(f=o>>>5)|(h=31&o))for(f=(f<<2)+t|0,c=t,o=0;p[c>>2]>>>o&1||(k=k+1|0,p[e+44>>2]=k),(0|f)!=(0|(c=(u=31==(0|o))?c+4|0:c))|(0|(o=u?0:o+1|0))!=(0|h););(e=p[n>>2])&&(Mo(e),t=p[r>>2]);t&&Mo(t);V=i+48|0}(e,p[i+12>>2]),t=1);return V=i+16|0,t}(i,t)?(p[e>>2]=0,e=p[r+8>>2],p[r+8>>2]=0,e&&An(e)):(p[e>>2]=p[r+8>>2],p[r+8>>2]=0),V=r+16|0}function ka(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;if((n=p[e+8>>2])-(i=p[e+4>>2])>>2>>>0>=t>>>0){for(;p[i>>2]=p[4032],i=i+4|0,t=t+-1|0;);p[e+4>>2]=i}else{e:{if((i=(o=(s=i-(a=p[e>>2])|0)>>2)+t|0)>>>0<1073741824){if(r=(n=n-a|0)>>1,i=n>>2>>>0<536870911?r>>>0<i>>>0?i:r:1073741823,r=0,i){if(i>>>0>=1073741824)break e;r=oo(i<<2)}for(n=r+(i<<2)|0,i=r+(o<<2)|0;p[i>>2]=p[4032],i=i+4|0,t=t+-1|0;);return(0|s)>=1&&Io(r,a,s),p[e>>2]=r,p[e+8>>2]=n,p[e+4>>2]=i,void(a&&Mo(a))}Ao(),E()}Wt(16132),E()}}function xa(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;e:{if(n=p[e>>2],(r=(i=(o=p[e+4>>2]-n|0)>>3)+1|0)>>>0<536870912){if(a=i<<3,i=(s=p[e+8>>2]-n|0)>>2,r=s>>3>>>0<268435455?i>>>0<r>>>0?r:i:536870911,i=0,r){if(r>>>0>=536870912)break e;i=oo(r<<3)}return a=a+i|0,s=p[t+4>>2],p[a>>2]=p[t>>2],p[a+4>>2]=s,t=i+(r<<3)|0,r=a+8|0,(0|o)>=1&&Io(i,n,o),p[e>>2]=i,p[e+8>>2]=t,p[e+4>>2]=r,void(n&&Mo(n))}Ao(),E()}Wt(16132),E()}function Sa(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;e:{if(n=p[e>>2],(r=(i=(s=p[e+4>>2]-n|0)>>2)+1|0)>>>0<1073741824){if(o=i<<2,a=(i=p[e+8>>2]-n|0)>>1,r=i>>2>>>0<536870911?a>>>0<r>>>0?r:a:1073741823,i=0,r){if(r>>>0>=1073741824)break e;i=oo(r<<2)}return p[(a=o+i|0)>>2]=p[t>>2],t=i+(r<<2)|0,r=a+4|0,(0|s)>=1&&Io(i,n,s),p[e>>2]=i,p[e+8>>2]=t,p[e+4>>2]=r,void(n&&Mo(n))}Ao(),E()}Wt(16132),E()}function Ta(e,t){var i=0,r=0,n=0,a=0;return-1!=(0|t)&&-1!=(0|(t=y(t,3)))?(r=-1,n=p[e>>2],a=p[n+(t<<2)>>2],e=-1,-1!=(0|(i=((i=t+1|0)>>>0)%3|0?i:t+-2|0))&&(e=p[(i<<2)+n>>2]),-1!=(0|(t=t+((t>>>0)%3|0?-1:2)|0))&&(r=p[(t<<2)+n>>2]),(0|e)==(0|a)|(0|r)==(0|a)|(0|e)==(0|r)):1}function wa(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;n=-1;e:if(-1!=(0|t)){if(-1==(0|(r=p[p[e+24>>2]+(t<<2)>>2])))return 0;for(n=0,a=e+12|0,e=1,t=r;;){n=n+1|0,o=e;t:{if(255&e){if(e=0,-1==(0|(t=((i=t+1|0)>>>0)%3|0?i:t+-2|0))){t=r;break t}if(-1==(0|(i=p[p[a>>2]+(t<<2)>>2]))){t=r;break t}if(t=r,-1==(0|(i=((s=i+1|0)>>>0)%3|0?s:i+-2|0)))break t;if(e=o,(0|r)!=(0|(t=i)))break t;break e}if(-1==(0|(e=((t>>>0)%3|0?-1:2)+t|0)))break e;if(-1==(0|(e=p[p[a>>2]+(e<<2)>>2])))break e;t=(e>>>0)%3?e+-1|0:e+2|0,e=0}if(-1==(0|t))break}}return n}function Ea(e){var t,i=0,r=0,n=0,a=0;if(p[(e|=0)>>2]=16484,(i=p[e+68>>2])&&(p[e+72>>2]=i,Mo(i)),(i=p[e+56>>2])&&(p[e+60>>2]=i,Mo(i)),(i=p[e+44>>2])&&(p[e+48>>2]=i,Mo(i)),(i=p[e+32>>2])&&(p[e+36>>2]=i,Mo(i)),(i=p[e+20>>2])&&(p[e+24>>2]=i,Mo(i)),t=p[e+8>>2]){if(n=i=t,(0|i)!=(0|(r=p[(a=e+12|0)>>2]))){for(;i=p[(r=r+-4|0)>>2],p[r>>2]=0,i&&pt(i),(0|r)!=(0|t););n=p[e+8>>2]}i=n,p[a>>2]=t,Mo(i)}return i=p[e+4>>2],p[e+4>>2]=0,i&&Vt(i),0|e}function Ma(e){p[e>>2]=0,p[e+4>>2]=0,l[e+24|0]=1,p[e+16>>2]=0,p[e+20>>2]=0,p[e+8>>2]=0,p[e+12>>2]=0,p[e+28>>2]=0,p[e+32>>2]=0,p[e+36>>2]=0,p[e+40>>2]=0,p[e+44>>2]=0,p[e+48>>2]=0,p[e+52>>2]=0,p[e+56>>2]=0,p[e+60>>2]=0,p[e+64>>2]=0,p[e+72>>2]=0,p[e+76>>2]=0,p[e+80>>2]=0,p[e+84>>2]=0,p[e+88>>2]=0,p[e+92>>2]=0,p[e+68>>2]=e}function Pa(e,t,i,r){var n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=0,A=0,v=0,g=0;if(function(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0;V=i=V-16|0;e:{t:{if(t){if(p[e+88>>2]=0,p[e+92>>2]=0,n=p[(r=e+84|0)>>2],p[r>>2]=0,n&&Mo(n),p[e+76>>2]=0,p[e+80>>2]=0,n=p[(r=e+72|0)>>2],p[r>>2]=0,n&&Mo(n),r=p[(n=t+4|0)>>2],a=p[t>>2],l[i+15|0]=0,dn(e,r-a>>2,i+15|0),r=p[(a=t+28|0)>>2],s=p[t+24>>2],l[i+14|0]=0,dn(e+12|0,r-s>>2,i+14|0),hn(e+28|0,p[n>>2]-p[t>>2]>>2,16332),n=p[e+52>>2],r=(s=p[a>>2]-p[t+24>>2]|0)>>2,!(p[e+60>>2]-n>>2>>>0>=r>>>0)){if(r>>>0>=1073741824)break t;o=p[(c=e+56|0)>>2],f=(f=r<<2)+(r=oo(s))|0,o=(s=o-n|0)+r|0,(0|s)>=1&&Io(r,n,s),p[e+52>>2]=r,p[e+60>>2]=f,p[c>>2]=o,n&&Mo(n)}if(n=p[e+40>>2],r=(a=p[a>>2]-p[t+24>>2]|0)>>2,!(p[e+48>>2]-n>>2>>>0>=r>>>0)){if(r>>>0>=1073741824)break e;c=p[(s=e+44|0)>>2],o=(o=r<<2)+(r=oo(a))|0,c=(a=c-n|0)+r|0,(0|a)>=1&&Io(r,n,a),p[e+40>>2]=r,p[e+48>>2]=o,p[s>>2]=c,n&&Mo(n)}l[e+24|0]=1,p[e+64>>2]=t,e=1}else e=0;return V=i+16|0,e}Wt(16336),E()}Wt(16336),E()}(e,i)){if(p[e+88>>2]=0,p[e+92>>2]=0,i=p[(o=e+84|0)>>2],p[o>>2]=0,i&&Mo(i),p[e+76>>2]=0,p[e+80>>2]=0,i=p[(o=e+72|0)>>2],p[o>>2]=0,i&&Mo(i),i=p[e+64>>2],p[i+4>>2]!=p[i>>2])for(d=r+68|0,h=t+96|0,o=0;a=Ta(i,m=(o>>>0)/3|0),i=p[e+64>>2],a||(-1!=(0|(f=p[p[i+12>>2]+(o<<2)>>2]))?f>>>0<o>>>0||(a=-1,c=f+((f>>>0)%3|0?-1:2)|0,A=_[r+84|0],n=-1,v=o+-2|0,(0|(s=((u=o+1|0)>>>0)%3|0?u:v))>=0&&(n=(s>>>0)/3|0,n=p[(p[h>>2]+y(n,12)|0)+(s-y(n,3)<<2)>>2]),a=(0|c)>=0?p[(p[h>>2]+y((c>>>0)/3|0,12)|0)+((c>>>0)%3<<2)>>2]:a,A||(g=p[d>>2],a=p[g+(a<<2)>>2],n=p[(n<<2)+g>>2]),(0|n)==(0|a)&&(a=-1,n=-1,-1!=(0|s)&&(n=((n=s+1|0)>>>0)%3|0?n:s+-2|0),-1!=(0|c)&&(a=(c>>>0)%3?c+-1|0:c+2|0),c=-1,s=-1,(0|n)>=0&&(s=(n>>>0)/3|0,s=p[(p[h>>2]+y(s,12)|0)+(n-y(s,3)<<2)>>2]),(0|a)>=0&&(n=(a>>>0)/3|0,c=p[(p[h>>2]+y(n,12)|0)+(a-y(n,3)<<2)>>2]),A||(a=p[d>>2],c=p[a+(c<<2)>>2],s=p[a+(s<<2)>>2]),(0|s)==(0|c))||(l[e+24|0]=0,a=p[e>>2],p[(n=a+(o>>>3&536870908)|0)>>2]=p[n>>2]|1<<(31&o),p[(a=a+(f>>>3&536870908)|0)>>2]=p[a>>2]|1<<(31&f),a=-1,n=-1,-1!=(0|(c=(u>>>0)%3|0?u:v))&&(n=p[p[i>>2]+(c<<2)>>2]),c=p[e+12>>2],p[(s=c+(n>>>3&536870908)|0)>>2]=p[s>>2]|1<<(31&n),-1!=(0|(n=(o-y(m,3)|0?-1:2)+o|0))&&(a=p[p[i>>2]+(n<<2)>>2]),p[(n=c+(a>>>3&536870908)|0)>>2]=p[n>>2]|1<<(31&a),a=-1,n=-1,-1!=(0|(s=((s=f+1|0)>>>0)%3|0?s:f+-2|0))&&(n=p[p[i>>2]+(s<<2)>>2]),p[(s=c+(n>>>3&536870908)|0)>>2]=p[s>>2]|1<<(31&n),-1!=(0|(n=f+((f>>>0)%3|0?-1:2)|0))&&(a=p[p[i>>2]+(n<<2)>>2]),p[(n=c+(a>>>3&536870908)|0)>>2]=p[n>>2]|1<<(31&a))):(a=p[e>>2]+(o>>>3&536870908)|0,p[a>>2]=p[a>>2]|1<<(31&o),n=-1,a=-1,-1!=(0|(f=((f=o+1|0)>>>0)%3|0?f:o+-2|0))&&(a=p[p[i>>2]+(f<<2)>>2]),f=p[e+12>>2],p[(c=f+(a>>>3&536870908)|0)>>2]=p[c>>2]|1<<(31&a),-1!=(0|(a=((o>>>0)%3|0?-1:2)+o|0))&&(n=p[p[i>>2]+(a<<2)>>2]),p[(a=f+(n>>>3&536870908)|0)>>2]=p[a>>2]|1<<(31&n))),(o=o+1|0)>>>0<p[i+4>>2]-p[i>>2]>>2>>>0;);!t|!r?function(e){var t,i,r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0;if(V=t=V-32|0,p[(i=e+56|0)>>2]=p[e+52>>2],p[(r=e+44|0)>>2]=p[e+40>>2],n=p[e+64>>2],p[n+28>>2]!=p[n+24>>2])for(c=e+40|0,f=e+52|0,h=e+60|0,u=e+48|0;;){e:if(-1!=(0|(a=p[p[n+24>>2]+(l<<2)>>2]))){p[t+24>>2]=o,(0|(n=p[i>>2]))==p[h>>2]?Ra(f,t+24|0):(p[n>>2]=o,p[i>>2]=n+4),p[t+16>>2]=a,p[t+8>>2]=0;t:if(p[p[e+12>>2]+(l>>>3&536870908)>>2]>>>(31&l)&1)if(-1==(0|(n=((n=a+1|0)>>>0)%3|0?n:a+-2|0))|p[p[e>>2]+(n>>>3&536870908)>>2]>>>(31&n)&1||-1==(0|(n=p[p[p[e+64>>2]+12>>2]+(n<<2)>>2])))p[t+8>>2]=-1;else if(n=((s=n+1|0)>>>0)%3|0?s:n+-2|0,p[t+8>>2]=n,-1!=(0|n))for(;;){if(p[t+16>>2]=n,a=n,-1==(0|(n=((s=n+1|0)>>>0)%3|0?s:n+-2|0))|p[p[e>>2]+(n>>>3&536870908)>>2]>>>(31&n)&1||-1==(0|(n=p[p[p[e+64>>2]+12>>2]+(n<<2)>>2]))){p[t+8>>2]=-1;break t}if(n=((s=n+1|0)>>>0)%3|0?s:n+-2|0,p[t+8>>2]=n,-1==(0|n))break}p[p[(d=e+28|0)>>2]+(a<<2)>>2]=p[t+24>>2],(0|(n=p[r>>2]))==p[u>>2]?kn(c,t+16|0):(p[n>>2]=p[t+16>>2],p[r>>2]=n+4),o=o+1|0,n=p[e+64>>2];t:if(-1!=(0|(s=p[t+16>>2]))&&-1!=(0|(a=s+((s>>>0)%3|0?-1:2)|0))&&-1!=(0|(a=p[p[n+12>>2]+(a<<2)>>2]))){if(a=a+((a>>>0)%3|0?-1:2)|0,p[t+8>>2]=a,-1==(0|a)|(0|a)==(0|s))break e;for(;;){if(n=((n=a+1|0)>>>0)%3|0?n:a+-2|0,p[p[e>>2]+(n>>>3&536870908)>>2]>>>(31&n)&1&&(p[t+24>>2]=o,(0|(n=p[i>>2]))==p[h>>2]?Ra(f,t+24|0):(p[n>>2]=o,p[i>>2]=n+4),o=o+1|0,(0|(n=p[r>>2]))==p[u>>2]?kn(c,t+8|0):(p[n>>2]=p[t+8>>2],p[r>>2]=n+4)),p[p[d>>2]+(p[t+8>>2]<<2)>>2]=p[t+24>>2],n=p[e+64>>2],-1==(0|(a=p[t+8>>2])))break t;if(-1==(0|(a=a+((a>>>0)%3|0?-1:2)|0)))break t;if(-1==(0|(a=p[p[n+12>>2]+(a<<2)>>2])))break t;if(a=a+((a>>>0)%3|0?-1:2)|0,p[t+8>>2]=a,-1==(0|a))break e;if(p[t+16>>2]==(0|a))break}break e}p[t+8>>2]=-1}if(!((l=l+1|0)>>>0<p[n+28>>2]-p[n+24>>2]>>2>>>0))break}V=t+32|0}(e):function(e,t,i){var r,n,a,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,m=0,A=0,v=0,g=0;if(V=r=V-32|0,p[(n=e+56|0)>>2]=p[e+52>>2],p[(a=e+44|0)>>2]=p[e+40>>2],s=p[e+64>>2],p[s+28>>2]!=p[s+24>>2])for(h=e+40|0,u=e+52|0,d=i+68|0,m=e+60|0,A=e+48|0,v=t+96|0;;){if(-1!=(0|(t=p[p[s+24>>2]+(l<<2)>>2]))){(0|t)<0?s=-1:(o=(t>>>0)/3|0,s=p[(p[v>>2]+y(o,12)|0)+(t-y(o,3)<<2)>>2]),s=_[i+84|0]?s:p[p[d>>2]+(s<<2)>>2],p[r+24>>2]=s,(o=p[n>>2])>>>0<b[m>>2]?(p[o>>2]=s,p[n>>2]=o+4):Ra(u,r+24|0),p[r+24>>2]=t,p[r+16>>2]=0;e:if(p[p[e+12>>2]+(l>>>3&536870908)>>2]>>>(31&l)&1)if(-1==(0|(o=((o=t+1|0)>>>0)%3|0?o:t+-2|0))|p[p[e>>2]+(o>>>3&536870908)>>2]>>>(31&o)&1||-1==(0|(o=p[p[p[e+64>>2]+12>>2]+(o<<2)>>2])))p[r+16>>2]=-1;else if(s=((s=o+1|0)>>>0)%3|0?s:o+-2|0,p[r+16>>2]=s,-1!=(0|s))for(;;){if(p[r+24>>2]=s,t=s,-1==(0|(o=((o=s+1|0)>>>0)%3|0?o:t+-2|0))|p[p[e>>2]+(o>>>3&536870908)>>2]>>>(31&o)&1||-1==(0|(o=p[p[p[e+64>>2]+12>>2]+(o<<2)>>2]))){p[r+16>>2]=-1;break e}if(s=((s=o+1|0)>>>0)%3|0?s:o+-2|0,p[r+16>>2]=s,-1==(0|s))break}p[p[(g=e+28|0)>>2]+(t<<2)>>2]=c,(0|(t=p[a>>2]))==p[A>>2]?kn(h,r+24|0):(p[t>>2]=p[r+24>>2],p[a>>2]=t+4),o=c+1|0,s=p[e+64>>2];e:{t:if(-1!=(0|(f=p[r+24>>2]))&&-1!=(0|(t=((f>>>0)%3|0?-1:2)+f|0))&&-1!=(0|(t=p[p[s+12>>2]+(t<<2)>>2]))){if(t=t+((t>>>0)%3|0?-1:2)|0,p[r+16>>2]=t,-1==(0|t)|(0|t)==(0|f))break e;for(;;){if(s=((s=t+1|0)>>>0)%3|0?s:t+-2|0,p[p[e>>2]+(s>>>3&536870908)>>2]>>>(31&s)&1&&((0|t)<0?t=-1:(s=(t>>>0)/3|0,t=p[(p[v>>2]+y(s,12)|0)+(t-y(s,3)<<2)>>2]),t=_[i+84|0]?t:p[p[d>>2]+(t<<2)>>2],p[r+8>>2]=t,(s=p[n>>2])>>>0<b[m>>2]?(p[s>>2]=t,p[n>>2]=s+4):Ra(u,r+8|0),t=o+1|0,(0|(s=p[a>>2]))==p[A>>2]?kn(h,r+16|0):(p[s>>2]=p[r+16>>2],p[a>>2]=s+4),c=o,o=t),p[p[g>>2]+(p[r+16>>2]<<2)>>2]=c,s=p[e+64>>2],-1==(0|(t=p[r+16>>2])))break t;if(-1==(0|(t=t+((t>>>0)%3|0?-1:2)|0)))break t;if(-1==(0|(t=p[p[s+12>>2]+(t<<2)>>2])))break t;if(t=t+((t>>>0)%3|0?-1:2)|0,p[r+16>>2]=t,-1==(0|t))break e;if(p[r+24>>2]==(0|t))break}break e}p[r+16>>2]=-1}c=o}if(!((l=l+1|0)>>>0<p[s+28>>2]-p[s+24>>2]>>2>>>0))break}V=r+32|0}(e,t,r)}}function Ra(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;e:{if(n=p[e>>2],(r=(i=(s=p[e+4>>2]-n|0)>>2)+1|0)>>>0<1073741824){if(o=i<<2,a=(i=p[e+8>>2]-n|0)>>1,r=i>>2>>>0<536870911?a>>>0<r>>>0?r:a:1073741823,i=0,r){if(r>>>0>=1073741824)break e;i=oo(r<<2)}return p[(a=o+i|0)>>2]=p[t>>2],t=i+(r<<2)|0,r=a+4|0,(0|s)>=1&&Io(i,n,s),p[e>>2]=i,p[e+8>>2]=t,p[e+4>>2]=r,void(n&&Mo(n))}Ao(),E()}Wt(16336),E()}function Ca(e,t){Oa(e,t)}function Oa(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0;V=i=V-16|0;e:if(n=function(e){var t=0,i=0;t=p[e+20>>2];(p[e+24>>2]-t|0)<1||-1!=(0|(t=p[t>>2]))&&(i=p[p[e+8>>2]+(t<<2)>>2]);return i}(t)){a=p[t+100>>2],c=p[t+96>>2],p[i+8>>2]=0,p[i>>2]=0,p[i+4>>2]=0,l=(0|(t=a-c|0))/12|0;t:{if(t){if(l>>>0>=357913942)break t;for(s=oo(t),p[i>>2]=s,p[i+4>>2]=s,p[i+8>>2]=y(l,12)+s,t=Do(s,0,t),r=l;t=t+12|0,r=r+-1|0;);p[i+4>>2]=t}if((0|a)!=(0|c))for(t=0,h=_[n+84|0],u=n+68|0;f=y(t,12),n=p[(r=f+c|0)>>2],h?(a=r+8|0,r=r+4|0):(a=(o=p[u>>2])+(p[r+8>>2]<<2)|0,n=p[o+(n<<2)>>2],r=o+(p[r+4>>2]<<2)|0),o=p[r>>2],p[(r=s+f|0)+8>>2]=p[a>>2],p[r+4>>2]=o,p[r>>2]=n,(t=t+1|0)>>>0<l>>>0;);if(ga(e,i),!(e=p[i>>2]))break e;p[i+4>>2]=e,Mo(e);break e}Ao(),E()}else p[e>>2]=0;V=i+16|0}function Ia(e,t){var i,r,n,a=0,s=0,o=0,l=0,c=0,f=0;V=i=V-32|0,a=p[t+100>>2],n=p[t+96>>2],p[i+24>>2]=0,p[i+16>>2]=0,p[i+20>>2]=0,r=(0|(t=a-n|0))/12|0;e:{if(t){if(r>>>0>=357913942)break e;for(o=oo(t),p[i+16>>2]=o,p[i+20>>2]=o,p[i+24>>2]=y(r,12)+o,t=Do(o,0,t),s=r;t=t+12|0,s=s+-1|0;);p[i+20>>2]=t}if(p[(s=i+8|0)>>2]=0,p[i>>2]=0,p[i+4>>2]=0,(0|a)!=(0|n))for(t=0;a=(l=y(t,12))+n|0,p[s>>2]=p[a+8>>2],f=p[a+4>>2],c=p[a>>2],p[i>>2]=c,p[i+4>>2]=f,p[(a=o+l|0)>>2]=c,p[a+4>>2]=p[i+4>>2],p[a+8>>2]=p[s>>2],(t=t+1|0)>>>0<r>>>0;);return ga(e,i+16|0),(e=p[i+16>>2])&&(p[i+20>>2]=e,Mo(e)),void(V=i+32|0)}Ao(),E()}function Da(e,t,i){var r,n=0,a=0,s=0;if(Ki(p[i+8>>2],t),(0|(n=p[i>>2]))!=(0|(r=i+4|0)))for(;;){if(s=n,!Fa(t,n+16|0))return;Ki(n=p[s+32>>2]-p[s+28>>2]|0,t),((0|(a=p[t+20>>2]))<0||(0|a)<=0&&!(b[t+16>>2]>0))&&(a=p[s+28>>2],Yt(t,p[t+4>>2],a,a+n|0));e:if(a=p[s+4>>2])for(;a=p[(n=a)>>2];);else{if(n=p[s+8>>2],(0|s)==p[n>>2])break e;for(a=s+8|0;a=(s=p[a>>2])+8|0,n=p[s+8>>2],(0|s)!=p[n>>2];);}if((0|n)==(0|r))break}if(Ki(p[i+20>>2],t),(0|(n=p[i+12>>2]))!=(0|(s=i+16|0)))for(;;){if(i=n,!Fa(t,n+16|0))return;Da(e,t,p[i+28>>2]);e:if(a=p[i+4>>2])for(;a=p[(n=a)>>2];);else{if(n=p[i+8>>2],(0|i)==p[n>>2])break e;for(a=i+8|0;a=(i=p[a>>2])+8|0,n=p[i+8>>2],(0|i)!=p[n>>2];);}if((0|n)==(0|s))break}}function Fa(e,t){var i,r=0,n=0,a=0,s=0;V=i=V-16|0;e:{t:{if((0|(a=(r=_[t+11|0])<<24>>24))<=-1){if((n=p[t+4>>2])>>>0<=255)break t;break e}n=r}n?(l[i+14|0]=(0|a)<0?p[t+4>>2]:r,r=n=p[e+20>>2],n=p[e+16>>2],((0|r)<0||(0|r)<=0&&!(n>>>0>0))&&(Yt(e,p[e+4>>2],i+14|0,i+15|0),n=p[e+16>>2],a=_[t+11|0],r=p[e+20>>2]),s=1,(0|r)>0||(0|r)>=0&&!(n>>>0<=0)||Yt(n=e,p[e+4>>2],r=(0|(e=a<<24>>24))<0?p[t>>2]:t,r+((0|e)<0?p[t+4>>2]:255&a)|0)):(l[i+15|0]=0,((0|(t=p[e+20>>2]))<0||(0|t)<=0&&!(b[e+16>>2]>0))&&Yt(e,p[e+4>>2],i+15|0,i+16|0),s=1)}return V=i+16|0,s}function Na(e,t){var i,r,n=0,a=0,s=0,o=0;if(V=i=V-32|0,p[(o=e+4|0)>>2]=0,p[o+4>>2]=0,p[(n=e+16|0)>>2]=0,p[n+4>>2]=0,p[e>>2]=o,p[e+12>>2]=n,(0|(n=p[t>>2]))!=(0|(r=t+4|0)))for(;;){s=n,Ba(e,o,a=n+16|0,a);e:if(a=p[n+4>>2])for(;a=p[(n=a)>>2];);else{if(n=p[s+8>>2],(0|s)==p[n>>2])break e;for(a=s+8|0;a=(s=p[a>>2])+8|0,n=p[s+8>>2],(0|s)!=p[n>>2];);}if((0|n)==(0|r))break}if((0|(n=p[t+12>>2]))!=(0|(s=t+16|0)))for(o=e+12|0;;){e=n,Na(a=oo(24),p[n+28>>2]),t=n+16|0,p[i+16>>2]=t,La(i+24|0,o,t,i+16|0),n=p[i+24>>2]+28|0,t=p[n>>2],p[n>>2]=a,t&&(Mt(t+12|0,p[t+16>>2]),Pt(t,p[t+4>>2]),Mo(t));e:if(a=p[e+4>>2])for(;a=p[(n=a)>>2];);else{if(n=p[e+8>>2],(0|e)==p[n>>2])break e;for(a=e+8|0;a=(e=p[a>>2])+8|0,n=p[e+8>>2],(0|e)!=p[n>>2];);}if((0|n)==(0|s))break}V=i+32|0}function Ba(e,t,i,r){var n;V=n=V-16|0,i=De(e,t,n+12|0,n+8|0,i),p[i>>2]||(function(e,t){var i,r,n=0,a=0;fo(e,t),p[e+20>>2]=0,p[e+12>>2]=0,p[e+16>>2]=0,a=p[(i=t+16|0)>>2],n=p[t+12>>2],(r=a-n|0)?(na(e=e+12|0,r),a=p[i>>2],n=p[t+12>>2],e=p[e>>2]):e=0;Io(e,n,a-n|0)}((t=oo(40))+16|0,r),p[t+8>>2]=p[n+12>>2],p[t>>2]=0,p[t+4>>2]=0,p[i>>2]=t,r=t,(t=p[p[e>>2]>>2])&&(p[e>>2]=t,r=p[i>>2]),Ce(p[e+4>>2],r),p[(e=e+8|0)>>2]=p[e>>2]+1),V=n+16|0}function La(e,t,i,r){var n,a,s,o=0;V=n=V-16|0,s=e,a=Fe(t,n+12|0,i),(i=p[a>>2])?t=0:(fo((i=oo(32))+16|0,p[r>>2]),p[i+28>>2]=0,p[i+8>>2]=p[n+12>>2],p[i>>2]=0,p[i+4>>2]=0,p[a>>2]=i,r=i,(o=p[p[t>>2]>>2])&&(p[t>>2]=o,r=p[a>>2]),Ce(p[t+4>>2],r),p[(t=t+8|0)>>2]=p[t>>2]+1,t=1),l[s+4|0]=t,p[e>>2]=i,V=n+16|0}function Ua(e,t){var i=0,r=0,n=0;e:if(i=p[t+4>>2])for(;r=i,i=p[i>>2];);else{if(r=p[t+8>>2],p[r>>2]==(0|t))break e;for(n=t+8|0;n=(i=p[n>>2])+8|0,r=p[i+8>>2],(0|i)!=p[r>>2];);}p[e>>2]==(0|t)&&(p[e>>2]=r),p[(r=e+8|0)>>2]=p[r>>2]+-1,function(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;e:{t:{if(r=t,n=p[t>>2]){if(!(i=p[t+4>>2]))break t;for(;r=i,i=p[i>>2];);}if(!(n=p[r+4>>2])){n=0,s=0;break e}}p[n+8>>2]=p[r+8>>2],s=1}a=p[r+8>>2];e:if((0|(i=p[a>>2]))!=(0|r))p[a+4>>2]=n;else{if(p[a>>2]=n,(0|e)==(0|r)){i=0,e=n;break e}i=p[a+4>>2]}e:{t:{i:{if(o=!_[r+12|0],(0|t)!=(0|r)&&(a=p[t+8>>2],p[r+8>>2]=a,p[a+((p[p[t+8>>2]>>2]!=(0|t))<<2)>>2]=r,a=p[t>>2],p[r>>2]=a,p[a+8>>2]=r,a=p[t+4>>2],p[r+4>>2]=a,a&&(p[a+8>>2]=r),l[r+12|0]=_[t+12|0],e=(0|e)==(0|t)?r:e),!(o|!e)){if(!s)for(;;){t=_[i+12|0];r:{if(n=p[i+8>>2],p[n>>2]!=(0|i)){if(t||(l[i+12|0]=1,l[n+12|0]=0,s=p[(t=n+4|0)>>2],r=p[s>>2],p[t>>2]=r,r&&(p[r+8>>2]=n),p[s+8>>2]=p[n+8>>2],t=p[n+8>>2],p[((0|n)==p[t>>2]?t:t+4|0)>>2]=s,p[s>>2]=n,p[n+8>>2]=s,t=p[i>>2],e=(0|t)==(0|e)?i:e,i=p[t+4>>2]),r=p[i>>2],_[r+12|0]||!r){if(t=p[i+4>>2],!_[t+12|0]&&t)break i;if(l[i+12|0]=0,(0|(i=p[i+8>>2]))!=(0|e)){if(_[i+12|0])break r}else i=e;return void(l[i+12|0]=1)}if(t=p[i+4>>2])break i;break t}t?t=i:(l[i+12|0]=1,l[n+12|0]=0,t=p[i+4>>2],p[n>>2]=t,t&&(p[t+8>>2]=n),p[i+8>>2]=p[n+8>>2],r=p[n+8>>2],(0|n)!=p[r>>2]?p[r+4>>2]=i:(p[r>>2]=i,t=p[n>>2]),p[i+4>>2]=n,p[n+8>>2]=i,e=(0|e)==(0|n)?i:e);n:if(!(r=p[t>>2])|_[r+12|0]){if(i=p[t+4>>2],_[i+12|0]||!i){if(l[t+12|0]=0,i=p[t+8>>2],_[i+12|0]&&(0|i)!=(0|e))break r;return void(l[i+12|0]=1)}if(r){if(!_[r+12|0]){i=t;break n}i=p[t+4>>2]}l[i+12|0]=1,l[t+12|0]=0,e=p[i>>2],p[t+4>>2]=e,e&&(p[e+8>>2]=t),p[i+8>>2]=p[t+8>>2],e=p[t+8>>2],p[(p[e>>2]==(0|t)?e:e+4|0)>>2]=i,p[i>>2]=t,p[t+8>>2]=i,r=t}else i=t;return e=i,i=p[i+8>>2],l[e+12|0]=_[i+12|0],l[i+12|0]=1,l[r+12|0]=1,t=p[i>>2],e=p[t+4>>2],p[i>>2]=e,e&&(p[e+8>>2]=i),p[t+8>>2]=p[i+8>>2],e=p[i+8>>2],p[((0|i)==p[e>>2]?e:e+4|0)>>2]=t,p[t+4>>2]=i,void(p[i+8>>2]=t)}t=p[i+8>>2],i=p[(p[t>>2]==(0|i)?t+4|0:t)>>2]}l[n+12|0]=1}return}if(!_[t+12|0]){r=i;break e}}l[r+12|0]=1,l[i+12|0]=0,e=p[r+4>>2],p[i>>2]=e,e&&(p[e+8>>2]=i),p[r+8>>2]=p[i+8>>2],e=p[i+8>>2],p[(p[e>>2]==(0|i)?e:e+4|0)>>2]=r,p[r+4>>2]=i,p[i+8>>2]=r,t=i}i=p[r+8>>2],l[r+12|0]=_[i+12|0],l[i+12|0]=1,l[t+12|0]=1,t=p[i+4>>2],e=p[t>>2],p[i+4>>2]=e,e&&(p[e+8>>2]=i);p[t+8>>2]=p[i+8>>2],e=p[i+8>>2],p[((0|i)==p[e>>2]?e:e+4|0)>>2]=t,p[t>>2]=i,p[i+8>>2]=t}(p[e+4>>2],t),(e=p[t+28>>2])&&(p[t+32>>2]=e,Mo(e)),l[t+27|0]<=-1&&Mo(p[t+16>>2]),Mo(t)}function Va(e,t,i){var r,n,a,s=0,o=0;r=oo(40),l[e+8|0]=0,p[e+4>>2]=t+4,p[e>>2]=r,t=i+8|0,p[r+24>>2]=p[t>>2],s=p[i+4>>2],p[r+16>>2]=p[i>>2],p[r+20>>2]=s,p[i>>2]=0,p[i+4>>2]=0,p[t>>2]=0,p[r+36>>2]=0,p[r+28>>2]=0,p[r+32>>2]=0,(a=(s=p[(n=i+16|0)>>2])-(t=p[i+12>>2])|0)&&(na(t=r+28|0,a),s=p[n>>2],o=p[t>>2],t=p[i+12>>2]),Io(o,t,s-t|0),l[e+8|0]=1}function za(e,t,i){var r,n=0,a=0,s=0;V=r=V+-64|0,(0|(n=Sr(e,t)))!=(e+4|0)&&Ua(e,n),p[r+16>>2]=0,p[r+8>>2]=0,p[r+12>>2]=0,na(r+8|0,8),a=p[i+4>>2],n=p[r+8>>2],i=p[i>>2],l[0|n]=i,l[n+1|0]=i>>>8,l[n+2|0]=i>>>16,l[n+3|0]=i>>>24,l[n+4|0]=a,l[n+5|0]=a>>>8,l[n+6|0]=a>>>16,l[n+7|0]=a>>>24,n=fo(r+24|0,t),p[r+44>>2]=0,p[r+36>>2]=0,p[r+40>>2]=0,(a=(i=p[r+12>>2])-(t=p[r+8>>2])|0)&&(na(r+36|0,a),i=p[r+12>>2],s=p[r+36>>2],t=p[r+8>>2]),Io(s,t,i-t|0),i=Fe(e,r+60|0,n),p[i>>2]||(Va(r+48|0,e,r+24|0),t=p[r+48>>2],p[t+8>>2]=p[r+60>>2],p[t>>2]=0,p[t+4>>2]=0,p[i>>2]=t,(n=p[p[e>>2]>>2])&&(p[e>>2]=n,t=p[i>>2]),Ce(p[e+4>>2],t),p[(e=e+8|0)>>2]=p[e>>2]+1),(e=p[r+36>>2])&&(p[r+40>>2]=e,Mo(e)),l[r+35|0]<=-1&&Mo(p[r+24>>2]),(e=p[r+8>>2])&&(p[r+12>>2]=e,Mo(e)),V=r- -64|0}function ja(e,t,i){var r,n,a=0,s=0,o=0,c=0,f=0,h=0;V=r=V+-64|0,(0|(a=Sr(e,t)))!=(e+4|0)&&Ua(e,a),p[r+16>>2]=0,p[r+8>>2]=0,p[r+12>>2]=0,s=p[i+4>>2],o=255&(a=l[i+11|0]),(c=(0|a)<0?s:o)&&(na(r+8|0,c),s=p[i+4>>2],f=p[r+8>>2],a=o=_[i+11|0]),n=p[i>>2],c=i,Io(f,(i=a<<24>>24<0)?n:c,i?s:o),t=fo(r+24|0,t),p[r+44>>2]=0,p[r+36>>2]=0,p[r+40>>2]=0,(s=(a=p[r+12>>2])-(i=p[r+8>>2])|0)&&(na(r+36|0,s),a=p[r+12>>2],h=p[r+36>>2],i=p[r+8>>2]),Io(h,i,a-i|0),t=Fe(e,r+60|0,t),p[t>>2]||(Va(r+48|0,e,r+24|0),i=p[r+48>>2],p[i+8>>2]=p[r+60>>2],p[i>>2]=0,p[i+4>>2]=0,p[t>>2]=i,(a=p[p[e>>2]>>2])&&(p[e>>2]=a,i=p[t>>2]),Ce(p[e+4>>2],i),p[(e=e+8|0)>>2]=p[e>>2]+1),(e=p[r+36>>2])&&(p[r+40>>2]=e,Mo(e)),l[r+35|0]<=-1&&Mo(p[r+24>>2]),(e=p[r+8>>2])&&(p[r+12>>2]=e,Mo(e)),V=r- -64|0}function Wa(e){return p[e>>2]=16484,Do(e+4|0,0,80),e}function Ga(e,t){var i=0;return i=-1,-1==(0|t)|(0|t)>4||(t=y(t,12)+e|0,e=p[t+20>>2],(p[t+24>>2]-e|0)<1||(i=p[e>>2])),i}function Ha(e,t){var i,r,n,s,o;return V=i=V-16|0,n=p[(r=e+12|0)>>2],s=p[e+8>>2],o=p[t>>2],p[t>>2]=0,p[i+8>>2]=o,a[p[p[e>>2]+8>>2]](e,n-s>>2,i+8|0),t=p[i+8>>2],p[i+8>>2]=0,t&&pt(t),V=i+16|0,(p[r>>2]-p[e+8>>2]>>2)-1|0}function Ya(e,t,i){e|=0,t|=0,i|=0;var r,n,a,s=0,o=0,l=0;if(V=r=V-16|0,p[r+12>>2]=t,n=e+8|0,!((0|(o=(s=p[e+12>>2])-(a=p[e+8>>2])>>2))>(0|t)))if((l=t+1|0)>>>0>o>>>0)!function(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;if(r=p[e+8>>2],i=p[(n=e+4|0)>>2],r-i>>2>>>0>=t>>>0)return c=n,f=Do(i,0,e=t<<2)+e|0,void(p[c>>2]=f);e:{if(n=p[e>>2],(s=(a=i-n>>2)+t|0)>>>0<1073741824){if(a<<=2,l=(r=r-n|0)>>1,r=r>>2>>>0<536870911?l>>>0<s>>>0?s:l:1073741823){if(r>>>0>=1073741824)break e;o=oo(r<<2)}if(Do(a=a+o|0,0,t<<2),t=(s<<2)+o|0,s=(r<<2)+o|0,(0|i)!=(0|n)){for(;r=p[(i=i+-4|0)>>2],p[i>>2]=0,p[(a=a+-4|0)>>2]=r,(0|i)!=(0|n););n=p[e>>2],i=p[e+4>>2]}if(p[e>>2]=a,p[e+8>>2]=s,p[e+4>>2]=t,(0|i)!=(0|n))for(;e=p[(i=i+-4|0)>>2],p[i>>2]=0,e&&pt(e),(0|i)!=(0|n););return void(n&&Mo(n))}Ao(),E()}Wt(16548),E()}(n,l-o|0);else if(!(l>>>0>=o>>>0)){if((0|(o=a+(l<<2)|0))!=(0|s))for(;l=p[(s=s+-4|0)>>2],p[s>>2]=0,l&&pt(l),(0|s)!=(0|o););p[e+12>>2]=o}(0|(s=p[p[i>>2]+56>>2]))>4||(s=y(s,12)+e|0,(0|(e=p[(o=s+24|0)>>2]))==p[s+28>>2]?Zi(s+20|0,r+12|0):(p[e>>2]=t,p[o>>2]=e+4)),t=p[i>>2],e=p[r+12>>2],p[t+60>>2]=e,s=p[n>>2],p[i>>2]=0,e=p[(i=s+(e<<2)|0)>>2],p[i>>2]=t,e&&pt(e),V=r+16|0}function Xa(e,t){e|=0;var i=0,r=0,n=0,a=0,s=0,o=0,l=0;if(!((0|(t|=0))<0)&&!((i=p[e+12>>2])-(r=p[e+8>>2])>>2>>>0<=t>>>0)){n=p[(r=r+(t<<2)|0)>>2],o=p[n+60>>2],a=p[n+56>>2];e:{if((0|(n=r+4|0))!=(0|i)){for(;l=p[n>>2],p[n>>2]=0,s=p[r>>2],p[r>>2]=l,s&&pt(s),r=r+4|0,(0|(n=n+4|0))!=(0|i););if((0|r)==(0|(i=p[e+12>>2])))break e}for(;n=p[(i=i+-4|0)>>2],p[i>>2]=0,n&&pt(n),(0|i)!=(0|r););}p[e+12>>2]=r,(i=p[e+4>>2])&&function(e,t){var i=0,r=0,n=0,a=0;e:if(!((0|t)<0)){for(i=p[e+28>>2],n=p[e+24>>2];;){if((0|i)==(0|(r=n)))break e;if(n=r+4|0,p[p[r>>2]+24>>2]==(0|t))break}t:{if((0|i)!=(0|n)){for(;t=p[n>>2],p[n>>2]=0,a=p[r>>2],p[r>>2]=t,a&&(Mt(a+12|0,p[a+16>>2]),Pt(a,p[a+4>>2]),Mo(a)),r=r+4|0,(0|i)!=(0|(n=n+4|0)););if((0|(i=p[e+28>>2]))==(0|r))break t}for(;t=p[(i=i+-4|0)>>2],p[i>>2]=0,t&&(Mt(t+12|0,p[t+16>>2]),Pt(t,p[t+4>>2]),Mo(t)),(0|r)!=(0|i););}p[e+28>>2]=r}}(i,o);e:if(!((0|a)>4)){t:if(r=y(a,12)+e|0,(0|(i=p[r+20>>2]))!=(0|(r=p[(n=r+24|0)>>2]))){for(;;){if(p[i>>2]==(0|t))break t;if((0|r)==(0|(i=i+4|0)))break}break e}(0|i)!=(0|r)&&(s=(r=r-(a=i+4|0)|0)>>2,r&&Fo(i,a,r),p[n>>2]=(s<<2)+i)}if((0|(i=p[e+24>>2]))!=(0|(r=p[e+20>>2])))for(n=i-r>>2,i=0;(0|(s=p[(a=r+(i<<2)|0)>>2]))>(0|t)&&(p[a>>2]=s+-1),(i=i+1|0)>>>0<n>>>0;);if((0|(i=p[e+36>>2]))!=(0|(r=p[e+32>>2])))for(n=i-r>>2,i=0;(0|(s=p[(a=r+(i<<2)|0)>>2]))>(0|t)&&(p[a>>2]=s+-1),(i=i+1|0)>>>0<n>>>0;);if((0|(i=p[e+48>>2]))!=(0|(r=p[e+44>>2])))for(n=i-r>>2,i=0;(0|(s=p[(a=r+(i<<2)|0)>>2]))>(0|t)&&(p[a>>2]=s+-1),(i=i+1|0)>>>0<n>>>0;);if((0|(i=p[e+60>>2]))!=(0|(r=p[e+56>>2])))for(n=i-r>>2,i=0;(0|(s=p[(a=r+(i<<2)|0)>>2]))>(0|t)&&(p[a>>2]=s+-1),(i=i+1|0)>>>0<n>>>0;);if((0|(i=p[e+72>>2]))!=(0|(e=p[e+68>>2])))for(r=i-e>>2,i=0;(0|(a=p[(n=e+(i<<2)|0)>>2]))>(0|t)&&(p[n>>2]=a+-1),(i=i+1|0)>>>0<r>>>0;);}}function Za(e,t){var i,r=0,n=g(0);r=2,1!=(0|t)&&(r=t,t+-1&t&&(r=Vs(t))),r>>>0>(i=p[e+4>>2])>>>0?Ja(e,r):r>>>0>=i>>>0||(t=(n=g(w(g(g(b[e+12>>2])/A[e+20>>2]))))<g(4294967296)&n>=g(0)?~~n>>>0:0,(t=r>>>0<(t=i>>>0<3||Vo(i)>>>0>1?Vs(t):t>>>0<2?t:1<<32-x(t+-1|0))>>>0?t:r)>>>0>=i>>>0||Ja(e,t))}function Qa(e,t,i){e|=0,t|=0;var r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=0,b=0,A=0;if((0|(n=p[(i|=0)>>2]))!=(0|(s=p[i+4>>2])))for(o=p[t>>2],c=e+12|0;;){if(i=p[n>>2],(a=p[(h=i<<2)+o>>2])>>>0>=r>>>0){if(u=p[e+8>>2],(0|(t=p[c>>2]-u|0))>=1)for(b=t>>>2,r=0;t=i,d=p[u+(r<<2)>>2],A=(m=p[d+68>>2])+(a<<2)|0,_[d+84|0]||(t=p[h+m>>2]),p[A>>2]=t,(r=r+1|0)>>>0<b>>>0;);r=a+1|0}if((0|s)==(0|(n=n+4|0)))break}if(((n=p[(s=e+12|0)>>2])-(t=p[e+8>>2])|0)>0)for(;i=p[(f<<2)+t>>2],l[i+84|0]=0,o=i+72|0,c=p[i+68>>2],r>>>0>(a=p[o>>2]-c>>2)>>>0?(ri(i+68|0,r-a|0,16544),n=p[s>>2],t=p[e+8>>2]):r>>>0>=a>>>0||(p[o>>2]=c+(r<<2)),(0|(f=f+1|0))<n-t>>2;);}function Ja(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,m=0,b=0,A=0,v=0,y=0;e:{if(t){if(t>>>0<1073741824){for(r=oo(t<<2),n=p[e>>2],p[e>>2]=r,n&&Mo(n),p[e+4>>2]=t;p[p[e>>2]+(i<<2)>>2]=0,(0|(i=i+1|0))!=(0|t););if(!(a=p[(n=e+8|0)>>2]))break e;if(s=p[a+4>>2],(r=Vo(t))>>>0<=1?s&=t+-1:s>>>0<t>>>0||(s=(s>>>0)%(t>>>0)|0),p[p[e>>2]+(s<<2)>>2]=n,!(n=p[a>>2]))break e;for(A=t+-1|0,v=r>>>0>1;;){if(i=p[n+4>>2],v?i>>>0<t>>>0||(i=(i>>>0)%(t>>>0)|0):i&=A,(0|i)!=(0|s))if(r=(l=i<<2)+p[e>>2]|0,p[r>>2]){r=n;t:if(i=p[n>>2])for(r=p[e+24>>2],c=p[r+8>>2],y=(f=p[r+12>>2]-c|0)>>>2,h=p[n+8>>2],u=n;;){r=i,i=0;i:if(!((0|f)<=0)){for(d=p[r+8>>2];o=h,m=d,b=p[(i<<2)+c>>2],_[b+84|0]||(o=p[b+68>>2],m=p[o+(d<<2)>>2],o=p[o+(h<<2)>>2]),(0|o)==(0|m);)if((i=i+1|0)>>>0>=y>>>0)break i;r=u;break t}if(u=r,!(i=p[r>>2]))break}p[a>>2]=p[r>>2],p[r>>2]=p[p[p[e>>2]+l>>2]>>2],p[p[p[e>>2]+l>>2]>>2]=n}else p[r>>2]=a,a=n,s=i;else a=n;if(!(n=p[a>>2]))break}break e}Wt(16548),E()}t=p[e>>2],p[e>>2]=0,t&&Mo(t),p[e+4>>2]=0}}function qa(e){0}function Ka(e){var t=0;return t=_[e+74|0],l[e+74|0]=t+-1|t,8&(t=p[e>>2])?(p[e>>2]=32|t,-1):(p[e+4>>2]=0,p[e+8>>2]=0,t=p[e+44>>2],p[e+28>>2]=t,p[e+20>>2]=t,p[e+16>>2]=t+p[e+48>>2],0)}function $a(e,t,i){var r=0,n=0,s=0;e:{if(!(r=p[i+16>>2])){if(Ka(i))break e;r=p[i+16>>2]}if(r-(s=p[i+20>>2])>>>0<t>>>0)return void a[p[i+36>>2]](i,e,t);t:if(!(l[i+75|0]<0)){for(r=t;;){if(!(n=r))break t;if(10==_[(r=n+-1|0)+e|0])break}if(a[p[i+36>>2]](i,e,n)>>>0<n>>>0)break e;t=t-n|0,e=e+n|0,s=p[i+20>>2]}Io(s,e,t),p[i+20>>2]=p[i+20>>2]+t}}function es(e,t,i){var r,n=0,s=0,o=0;return V=r=V-208|0,p[r+204>>2]=i,i=0,Do(r+160|0,0,40),p[r+200>>2]=p[r+204>>2],(0|ts(0,t,r+200|0,r+80|0,r+160|0))<0?t=-1:(i=p[e+76>>2]>=0?1:i,n=p[e>>2],l[e+74|0]<=0&&(p[e>>2]=-33&n),o=32&n,p[e+48>>2]?t=ts(e,t,r+200|0,r+80|0,r+160|0):(p[e+48>>2]=80,p[e+16>>2]=r+80,p[e+28>>2]=r,p[e+20>>2]=r,n=p[e+44>>2],p[e+44>>2]=r,t=s=ts(e,t,r+200|0,r+80|0,r+160|0),n&&(a[p[e+36>>2]](e,0,0),p[e+48>>2]=0,p[e+44>>2]=n,p[e+28>>2]=0,p[e+16>>2]=0,t=p[e+20>>2],p[e+20>>2]=0,t=t?s:-1)),s=e,e=p[e>>2],p[s>>2]=e|o,t=32&e?-1:t),V=r+208|0,t}function ts(e,t,i,r,n){var s,o,c,f=0,h=0,u=0,m=0,b=0,A=0,g=0,k=0,x=0,S=0,T=0,w=0;V=s=V-80|0,p[s+76>>2]=t,c=s+55|0,o=s+56|0,t=0;e:{t:for(;;){(0|k)<0||((0|t)>(2147483647-k|0)?(p[4681]=61,k=-1):k=t+k|0);i:{r:{n:{a:{s:{o:{l:{c:{f:{h:{u:{d:{p:{_:{if(m=p[s+76>>2],u=_[0|(t=m)]){for(;;){m:{b:{A:if(f=255&u){if(37!=(0|f))break b;for(u=t;;){if(37!=_[t+1|0])break A;if(f=t+2|0,p[s+76>>2]=f,u=u+1|0,h=_[t+2|0],t=f,37!=(0|h))break}}else u=t;if(t=u-m|0,e&&is(e,m,t),t)continue t;x=-1,u=1,f=s,b=!fs(l[p[s+76>>2]+1|0]),t=p[s+76>>2],b|36!=_[t+2|0]||(x=l[t+1|0]+-48|0,T=1,u=3),t=u+t|0,p[f+76>>2]=t,u=0;A:if((h=(S=l[0|t])+-32|0)>>>0>31)f=t;else if(f=t,75913&(h=1<<h))for(;;){if(f=t+1|0,p[s+76>>2]=f,u|=h,(h=(S=l[t+1|0])+-32|0)>>>0>31)break A;if(t=f,!(75913&(h=1<<h)))break}A:if(42!=(0|S)){if((0|(A=rs(s+76|0)))<0)break _;t=p[s+76>>2]}else{if(b=s,fs(l[f+1|0])&&(t=p[s+76>>2],36==_[t+2|0]))p[((l[t+1|0]<<2)+n|0)-192>>2]=10,A=p[((l[t+1|0]<<3)+r|0)-384>>2],T=1,t=t+3|0;else{if(T)break _;T=0,A=0,e&&(t=p[i>>2],p[i>>2]=t+4,A=p[t>>2]),t=p[s+76>>2]+1|0}if(p[b+76>>2]=t,(0|A)>-1)break A;A=0-A|0,u|=8192}h=-1;A:if(46==_[0|t])if(42!=_[t+1|0])p[s+76>>2]=t+1,h=rs(s+76|0),t=p[s+76>>2];else{if(fs(l[t+2|0])&&(t=p[s+76>>2],36==_[t+3|0])){p[((l[t+2|0]<<2)+n|0)-192>>2]=10,h=p[((l[t+2|0]<<3)+r|0)-384>>2],t=t+4|0,p[s+76>>2]=t;break A}if(T)break _;e?(t=p[i>>2],p[i>>2]=t+4,h=p[t>>2]):h=0,t=p[s+76>>2]+2|0,p[s+76>>2]=t}for(f=0;;){if(w=f,g=-1,l[0|t]+-65>>>0>57)break e;if(S=t+1|0,p[s+76>>2]=S,f=l[0|t],t=S,!((f=_[16575+(f+y(w,58)|0)|0])+-1>>>0<8))break}if(!f)break e;A:{v:{y:{if(19==(0|f)){if((0|x)<=-1)break y;break e}if((0|x)<0)break v;p[(x<<2)+n>>2]=f,f=p[(t=(x<<3)+r|0)+4>>2],p[s+64>>2]=p[t>>2],p[s+68>>2]=f}if(t=0,!e)continue t;break A}if(!e)break i;ns(s- -64|0,f,i),S=p[s+76>>2]}if(b=-65537&u,u=8192&u?b:u,g=0,x=16616,f=o,t=l[S+-1|0],(S=(t=w&&3==(15&t)?-33&t:t)+-88|0)>>>0<=32)break m;A:{v:{y:{g:{if((b=t+-65|0)>>>0>6){if(83!=(0|t))break r;if(!h)break g;f=p[s+64>>2];break v}switch(b-1|0){case 1:break y;case 0:case 2:break r;default:break p}}t=0,as(e,32,A,0,u);break A}p[s+12>>2]=0,p[s+8>>2]=p[s+64>>2],p[s+64>>2]=s+8,h=-1,f=s+8|0}t=0;v:{for(;;){if(!(m=p[f>>2]))break v;if(!((b=(0|(m=hs(s+4|0,m)))<0)|m>>>0>h-t>>>0)){if(f=f+4|0,h>>>0>(t=t+m|0)>>>0)continue;break v}break}if(g=-1,b)break e}if(as(e,32,A,t,u),t)for(h=0,f=p[s+64>>2];;){if(!(m=p[f>>2]))break A;if((0|(h=(m=hs(s+4|0,m))+h|0))>(0|t))break A;if(is(e,s+4|0,m),f=f+4|0,!(h>>>0<t>>>0))break}else t=0}as(e,32,A,t,8192^u),t=(0|A)>(0|t)?A:t;continue t}f=t+1|0,p[s+76>>2]=f,u=_[t+1|0],t=f;continue}break}switch(S-1|0){case 21:break o;case 23:break c;case 22:break f;case 11:case 16:break h;case 10:break u;case 26:break d;case 8:case 12:case 13:case 14:break p;case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 9:case 15:case 17:case 18:case 19:case 20:case 24:case 25:case 27:case 29:case 30:break r;case 28:break s;default:break l}}if(g=k,e)break e;if(!T)break i;for(t=1;;){if(e=p[(t<<2)+n>>2]){if(ns((t<<3)+r|0,e,i),g=1,10!=(0|(t=t+1|0)))continue;break e}break}if(g=1,t>>>0>=10)break e;for(;;){if(p[(t<<2)+n>>2])break _;if(e=t>>>0>8,t=t+1|0,e)break}break e}g=-1;break e}t=0|a[356](e,v[s+64>>3],A,h,u,t);continue}f=(t=vs(m=(t=p[s+64>>2])||16626,h))||h+m|0,u=b,h=t?t-m|0:h;break r}l[s+55|0]=p[s+64>>2],h=1,m=c,u=b;break r}if(t=b=p[s+68>>2],m=p[s+64>>2],(0|t)<-1||(0|t)<=-1&&!(m>>>0>4294967295)){t=0-(t+(0<m>>>0)|0)|0,m=0-m|0,p[s+64>>2]=m,p[s+68>>2]=t,g=1,x=16616;break a}if(2048&u){g=1,x=16617;break a}x=(g=1&u)?16618:16616;break a}if(m=ss(p[s+64>>2],p[s+68>>2],o),!(8&u))break n;h=(0|h)>(0|(t=o-m|0))?h:t+1|0;break n}h=h>>>0>8?h:8,u|=8,t=120}if(m=os(p[s+64>>2],p[s+68>>2],o,32&t),!(8&u)|!(p[s+64>>2]|p[s+68>>2]))break n;x=16616+(t>>>4)|0,g=2;break n}if(t=0,(f=255&w)>>>0>7)continue;o:switch(f-1|0){default:case 0:p[p[s+64>>2]>>2]=k;continue;case 1:f=p[s+64>>2],p[f>>2]=k,p[f+4>>2]=k>>31;continue;case 2:d[p[s+64>>2]>>1]=k;continue;case 3:l[p[s+64>>2]]=k;continue;case 5:p[p[s+64>>2]>>2]=k;continue;case 4:continue;case 6:break o}f=p[s+64>>2],p[f>>2]=k,p[f+4>>2]=k>>31;continue}m=p[s+64>>2],t=p[s+68>>2],x=16616}m=ls(m,t,o)}u=(0|h)>-1?-65537&u:u,!!((t=p[s+64>>2])|(b=p[s+68>>2]))|h?h=(0|h)>(0|(t=!(t|b)+(o-m|0)|0))?h:t:(m=o,h=0)}as(e,32,t=(0|A)<(0|(f=(h=(0|h)<(0|(b=f-m|0))?b:h)+g|0))?f:A,f,u),is(e,x,g),as(e,48,t,f,65536^u),as(e,48,h,b,0),is(e,m,b),as(e,32,t,f,8192^u);continue}break}g=0}return V=s+80|0,g}function is(e,t,i){32&_[0|e]||$a(t,i,e)}function rs(e){var t=0,i=0,r=0;if(fs(l[p[e>>2]]))for(;t=p[e>>2],r=l[0|t],p[e>>2]=t+1,i=(y(i,10)+r|0)-48|0,fs(l[t+1|0]););return i}function ns(e,t,i){e:{if(!(t>>>0>20)&&!((t=t+-9|0)>>>0>9)){t:switch(t-1|0){default:return t=p[i>>2],p[i>>2]=t+4,void(p[e>>2]=p[t>>2]);case 0:return t=p[i>>2],p[i>>2]=t+4,t=p[t>>2],p[e>>2]=t,void(p[e+4>>2]=t>>31);case 1:return t=p[i>>2],p[i>>2]=t+4,p[e>>2]=p[t>>2],void(p[e+4>>2]=0);case 3:return t=p[i>>2],p[i>>2]=t+4,t=d[t>>1],p[e>>2]=t,void(p[e+4>>2]=t>>31);case 4:return t=p[i>>2],p[i>>2]=t+4,p[e>>2]=m[t>>1],void(p[e+4>>2]=0);case 5:return t=p[i>>2],p[i>>2]=t+4,t=l[0|t],p[e>>2]=t,void(p[e+4>>2]=t>>31);case 6:return t=p[i>>2],p[i>>2]=t+4,p[e>>2]=_[0|t],void(p[e+4>>2]=0);case 2:case 7:break e;case 8:break t}a[357](e,i)}return}t=p[i>>2]+7&-8,p[i>>2]=t+8,i=p[t+4>>2],p[e>>2]=p[t>>2],p[e+4>>2]=i}function as(e,t,i,r,n){var a,s=0,o=0;if(V=a=V-256|0,!(73728&n|(0|i)<=(0|r))){if(Do(a,t,(s=(n=i-r|0)>>>0<256)?n:256),t=e,o=a,!s){for(i=i-r|0;is(e,a,256),(n=n+-256|0)>>>0>255;);n=255&i}is(t,o,n)}V=a+256|0}function ss(e,t,i){if(e|t)for(;l[0|(i=i+-1|0)]=7&e|48,(e=(7&t)<<29|e>>>3)|(t>>>=3););return i}function os(e,t,i,r){if(e|t)for(;l[0|(i=i+-1|0)]=_[17104+(15&e)|0]|r,(e=(15&t)<<28|e>>>4)|(t>>>=4););return i}function ls(e,t,i){var r=0,n=0,a=0;if(1==(0|t)&e>>>0<0|t>>>0<1)r=e;else for(;r=Uo(e,t,10,0),a=n=z,n=Bo(r,n,10,0),l[0|(i=i+-1|0)]=e-n|48,n=9==(0|t)&e>>>0>4294967295|t>>>0>9,e=r,t=a,n;);if(r)for(;e=(r>>>0)/10|0,l[0|(i=i+-1|0)]=r-y(e,10)|48,t=r>>>0>9,r=e,t;);return i}function cs(e,t,i){return es(e,t,i)}function fs(e){return e+-48>>>0<10}function hs(e,t){return e?us(e,t):0}function us(e,t){e:{if(e){if(t>>>0<=127)break e;if(p[p[4665]>>2]){if(t>>>0<=2047)return l[e+1|0]=63&t|128,l[0|e]=t>>>6|192,2;if(!(57344!=(-8192&t)&&t>>>0>=55296))return l[e+2|0]=63&t|128,l[0|e]=t>>>12|224,l[e+1|0]=t>>>6&63|128,3;if(t+-65536>>>0<=1048575)return l[e+3|0]=63&t|128,l[0|e]=t>>>18|240,l[e+2|0]=t>>>6&63|128,l[e+1|0]=t>>>12&63|128,4}else if(57216==(-128&t))break e;p[4681]=25,e=-1}else e=1;return e}return l[0|e]=t,1}function ds(e,t){var i,r=g(0);return V=i=V-16|0,ps(i,e,t,0),r=function(e,t,i,r){var n,a=0,s=0,l=0,c=0,h=0;V=n=V-32|0,l=s=2147483647&r,a=s+-1065418752|0,(s=i)>>>0<0&&(a=a+1|0);h=l+-1082064896|0,s>>>0<0&&(h=h+1|0);e:if((0|a)==(0|h)&(c=s)>>>0<(c=s)>>>0|a>>>0<h>>>0){if(l=(33554431&r)<<7|i>>>25,h=s=0,!(!s&16777216==(0|(c=33554431&i))?!(e|t):!s&c>>>0<16777216|s>>>0<0)){a=l+1073741825|0;break e}if(a=l+1073741824|0,16777216^c|e|t|h)break e;a=(1&a)+a|0}else(!s&2147418112==(0|l)?!(e|t):2147418112==(0|l)&s>>>0<0|l>>>0<2147418112)?(a=2139095040,1082064895==(0|l)&s>>>0>4294967295|l>>>0>1082064895||(a=0,(l>>>=16)>>>0<16145||(Fs(n,e,t,i,a=65535&r|65536,16257-l|0),Ms(n+16|0,e,t,s,a,l+-16129|0),t=p[n+8>>2],a=(33554431&p[n+12>>2])<<7|t>>>25,s=p[n+4>>2],l=s,c=e=0,h=p[n>>2]|0!=(p[n+16>>2]|p[n+24>>2])|0!=(p[n+20>>2]|p[n+28>>2]),(!e&16777216==(0|(t&=33554431))?!(s|h):!e&t>>>0<16777216|e>>>0<0)?16777216^t|h|l|c||(a=(1&a)+a|0):a=a+1|0))):a=4194303&((33554431&r)<<7|i>>>25)|2143289344;return V=n+32|0,f(0,-2147483648&r|a),function(){return o[0]}()}(p[i>>2],p[i+4>>2],p[i+8>>2],p[i+12>>2]),V=i+16|0,r}function ps(e,t,i,r){var n,a,s,f,h=0,u=0,d=0;V=n=V-160|0,Do(n+16|0,0,144),p[n+92>>2]=-1,p[n+60>>2]=t,p[n+24>>2]=-1,p[n+20>>2]=t,Ss(n+16|0),function(e,t,i){var r,n=0,a=0,s=0,f=0,h=0,u=0,d=0,m=0,A=0;if(V=r=V-48|0,i>>>0<=2){for(a=t+4|0,m=p[(i<<=2)+17244>>2],A=p[i+17232>>2];(i=p[t+4>>2])>>>0<b[t+104>>2]?(p[a>>2]=i+1,i=_[0|i]):i=Ts(t),_s(i););(n=i+-43|0)>>>0>2?s=1:(s=1,n-1&&(s=45==(0|i)?-1:1,(i=p[t+4>>2])>>>0<b[t+104>>2]?(p[a>>2]=i+1,i=_[0|i]):i=Ts(t))),n=0;e:{t:{i:{for(;;){if(l[n+17164|0]==(32|i)){if(n>>>0>6||((i=p[t+4>>2])>>>0<b[t+104>>2]?(p[a>>2]=i+1,i=_[0|i]):i=Ts(t)),8!=(0|(n=n+1|0)))continue;break i}break}if(3!=(0|n)){if(8==(0|n))break i;if(n>>>0<4)break t;if(8==(0|n))break i}if((t=p[t+104>>2])&&(p[a>>2]=p[a>>2]+-1),!(n>>>0<4))for(;t&&(p[a>>2]=p[a>>2]+-1),(n=n+-1|0)>>>0>3;);}!function(e,t){var i,r,n=0,a=0,s=0,l=0,f=0;V=i=V-16|0,h=t,o[0]=h,a=c(0),r=-2147483648&a;var h;(n=2147483647&a)-8388608>>>0<=2130706431?(a=n,n=(n>>>=7)+1065353216|0,s=a<<=25,n=a>>>0<0?n+1|0:n):n>>>0>=2139095040?(s=a<<25,n=a>>>7|2147418112):n?(a=n,n=x(n),Ms(i,a,0,0,0,n+81|0),l=p[i>>2],f=p[i+4>>2],s=p[i+8>>2],n=65536^p[i+12>>2]|16265-n<<16):n=0;p[e>>2]=l,p[e+4>>2]=f,p[e+8>>2]=s,p[e+12>>2]=n|r,V=i+16|0}(r,g(g(0|s)*g(M))),h=p[r+8>>2],f=p[r+12>>2],u=p[r>>2],d=p[r+4>>2];break e}t:{i:{r:if(!n){for(n=0;;){if(l[n+17173|0]!=(32|i))break r;if(n>>>0>1||((i=p[t+4>>2])>>>0<b[t+104>>2]?(p[a>>2]=i+1,i=_[0|i]):i=Ts(t)),3==(0|(n=n+1|0)))break}break i}r:{n:if(!(n>>>0>3))switch(n-1|0){case 2:break i;case 0:case 1:break n;default:break r}p[t+104>>2]&&(p[a>>2]=p[a>>2]+-1),p[4681]=28;break t}if(48==(0|i)){if((n=p[t+4>>2])>>>0<b[t+104>>2]?(p[a>>2]=n+1,n=_[0|n]):n=Ts(t),120==(32|n)){!function(e,t,i,r,n){var a,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,m=0,A=0,v=0,y=0,g=0,k=0,x=0,S=0,T=0,w=0,E=0,M=0,P=0;V=a=V-432|0;(s=p[t+4>>2])>>>0<b[t+104>>2]?(p[t+4>>2]=s+1,o=_[0|s]):o=Ts(t);r:{n:{for(;;){a:{if(48!=(0|o)){if(46!=(0|o))break r;if((s=p[t+4>>2])>>>0>=b[t+104>>2])break a;p[t+4>>2]=s+1,o=_[0|s];break n}(s=p[t+4>>2])>>>0<b[t+104>>2]?(k=1,p[t+4>>2]=s+1,o=_[0|s]):(o=Ts(t),k=1);continue}break}o=Ts(t)}if(g=1,48==(0|o)){for(;s=x+-1|0,(o=S+-1|0)>>>0<4294967295&&(s=s+1|0),S=o,x=s,(s=p[t+4>>2])>>>0<b[t+104>>2]?(p[t+4>>2]=s+1,o=_[0|s]):o=Ts(t),48==(0|o););k=1}}s=1073676288;for(;;){r:{T=32|o;n:{if(!((w=o+-48|0)>>>0<10)){if(T+-97>>>0>5&&46!=(0|o))break r;if(46==(0|o)){if(g)break r;g=1,S=d,x=l;break n}}o=(0|o)>57?T+-87|0:w,(0|l)<0||(0|l)<=0&&!(d>>>0>7)?m=o+(m<<4)|0:(0|l)<0||(0|l)<=0&&!(d>>>0>28)?(Ns(a+32|0,f,A,c,s,0,0,0,1073414144),Is(a+48|0,o),f=p[a+32>>2],A=p[a+36>>2],c=p[a+40>>2],s=p[a+44>>2],Ns(a+16|0,f,A,c,s,p[a+48>>2],p[a+52>>2],p[a+56>>2],p[a+60>>2]),Es(a,h,u,v,y,p[a+16>>2],p[a+20>>2],p[a+24>>2],p[a+28>>2]),v=p[a+8>>2],y=p[a+12>>2],h=p[a>>2],u=p[a+4>>2]):!o|P||(Ns(a+80|0,f,A,c,s,0,0,0,1073610752),Es(a- -64|0,h,u,v,y,p[a+80>>2],p[a+84>>2],p[a+88>>2],p[a+92>>2]),v=p[a+72>>2],y=p[a+76>>2],P=1,h=p[a+64>>2],u=p[a+68>>2]),(o=d+1|0)>>>0<1&&(l=l+1|0),d=o,k=1}(o=p[t+4>>2])>>>0<b[t+104>>2]?(p[t+4>>2]=o+1,o=_[0|o]):o=Ts(t);continue}break}if(k){if((0|l)<0||(0|l)<=0&&!(d>>>0>7))for(c=d,s=l;m<<=4,A=(0|s)<0?1:(0|s)<=0?c>>>0>=7?0:1:0,f=s,(s=c+1|0)>>>0<1&&(f=f+1|0),c=s,s=f,A;);r:if(112!=(32|o))c=0,s=0,p[t+104>>2]&&(p[t+4>>2]=p[t+4>>2]+-1);else{if((c=ks(t))|-2147483648!=(0|(s=o=z)))break r;if(c=0,s=0,!p[t+104>>2])break r;p[t+4>>2]=p[t+4>>2]+-1}if(m)if(f=(g?x:l)<<2|(t=g?S:d)>>>30,l=c+(t<<2)|0,t=s+f|0,s=l+-32|0,l=(l>>>0<c>>>0?t+1|0:t)+-1|0,d=s,o=s>>>0<=(t=0-r|0)>>>0?0:1,(0|(l=s>>>0<4294967264?l+1|0:l))>(0|(t>>=31))||(0|l)>=(0|t)&&o)Is(a+160|0,n),Ns(a+144|0,p[a+160>>2],p[a+164>>2],p[a+168>>2],p[a+172>>2],-1,-1,-1,2147418111),Ns(a+128|0,p[a+144>>2],p[a+148>>2],p[a+152>>2],p[a+156>>2],-1,-1,-1,2147418111),p[4681]=68,h=p[a+128>>2],u=p[a+132>>2],i=p[a+140>>2],t=p[a+136>>2];else if(s=d>>>0<(t=r+-226|0)>>>0?0:1,(0|l)>(0|(t>>=31))||(0|l)>=(0|t)&&s){if((0|m)>-1)for(;Es(a+416|0,h,u,v,y,0,0,0,-1073807360),t=Rs(h,u,v,y),Es(a+400|0,h,u,v,y,(s=(0|t)<0)?h:p[a+416>>2],s?u:p[a+420>>2],s?v:p[a+424>>2],s?y:p[a+428>>2]),s=l+-1|0,(l=d+-1|0)>>>0<4294967295&&(s=s+1|0),d=l,l=s,v=p[a+408>>2],y=p[a+412>>2],h=p[a+400>>2],u=p[a+404>>2],(0|(m=m<<1|(0|t)>-1))>-1;);f=l-(((o=r)>>31)+((s=d)>>>0<o>>>0)|0)|0,r=(l=c=32+(s-o|0)|0)>>>0>=(t=i)>>>0?0:1,(0|(t=(0|(f=l>>>0<32?f+1|0:f))<(0|(t>>=31))||(0|f)<=(0|t)&&r?(0|l)>0?l:0:i))>=113?(Is(a+384|0,n),c=p[a+392>>2],s=p[a+396>>2],f=p[a+384>>2],A=p[a+388>>2],r=0,i=0):(Is(a+336|0,n),Os(a+352|0,Oo(144-t|0)),f=p[a+336>>2],A=p[a+340>>2],c=p[a+344>>2],s=p[a+348>>2],ys(a+368|0,p[a+352>>2],p[a+356>>2],p[a+360>>2],p[a+364>>2],f,A,c,s),E=p[a+376>>2],M=p[a+380>>2],r=p[a+372>>2],i=p[a+368>>2]),t=!(1&m)&0!=(0|Ps(h,u,v,y,0,0,0,0))&(0|t)<32,Ds(a+320|0,t+m|0),Ns(a+304|0,f,A,c,s,p[a+320>>2],p[a+324>>2],p[a+328>>2],p[a+332>>2]),Ns(a+288|0,t?0:h,t?0:u,t?0:v,t?0:y,f,A,c,s),Es(a+272|0,p[a+304>>2],p[a+308>>2],p[a+312>>2],p[a+316>>2],i,r,E,M),Es(a+256|0,p[a+288>>2],p[a+292>>2],p[a+296>>2],p[a+300>>2],p[a+272>>2],p[a+276>>2],p[a+280>>2],p[a+284>>2]),Ls(a+240|0,p[a+256>>2],p[a+260>>2],p[a+264>>2],p[a+268>>2],i,r,E,M),t=p[a+240>>2],i=p[a+244>>2],r=p[a+248>>2],n=p[a+252>>2],Ps(t,i,r,n,0,0,0,0)||(p[4681]=68),gs(a+224|0,t,i,r,n,d),h=p[a+224>>2],u=p[a+228>>2],i=p[a+236>>2],t=p[a+232>>2]}else Is(a+208|0,n),Ns(a+192|0,p[a+208>>2],p[a+212>>2],p[a+216>>2],p[a+220>>2],0,0,0,65536),Ns(a+176|0,p[a+192>>2],p[a+196>>2],p[a+200>>2],p[a+204>>2],0,0,0,65536),p[4681]=68,h=p[a+176>>2],u=p[a+180>>2],i=p[a+188>>2],t=p[a+184>>2];else Os(a+112|0,0*+(0|n)),h=p[a+112>>2],u=p[a+116>>2],i=p[a+124>>2],t=p[a+120>>2]}else(i=p[t+104>>2])&&(p[t+4>>2]=p[t+4>>2]+-1),i&&(p[t+4>>2]=p[t+4>>2]+-1,!g|!i||(p[t+4>>2]=p[t+4>>2]+-1)),Os(a+96|0,0*+(0|n)),h=p[a+96>>2],u=p[a+100>>2],i=p[a+108>>2],t=p[a+104>>2];p[e>>2]=h,p[e+4>>2]=u,p[e+8>>2]=t,p[e+12>>2]=i,V=a+432|0}(r+16|0,t,A,m,s),h=p[r+24>>2],f=p[r+28>>2],u=p[r+16>>2],d=p[r+20>>2];break e}p[t+104>>2]&&(p[a>>2]=p[a>>2]+-1)}!function(e,t,i,r,n,a){var s,o,l,c,f,h=0,u=0,d=0,m=0,A=0,v=0,g=0,x=0,S=0,T=0,w=0,E=0,M=0,P=0,R=0,C=0,O=0,I=0;V=s=V-8960|0,l=0-(o=r+n|0)|0;r:{n:{for(;;){a:{if(48!=(0|i)){if(46!=(0|i))break r;if((i=p[t+4>>2])>>>0>=b[t+104>>2])break a;p[t+4>>2]=i+1,i=_[0|i];break n}(i=p[t+4>>2])>>>0<b[t+104>>2]?(x=1,p[t+4>>2]=i+1,i=_[0|i]):(i=Ts(t),x=1);continue}break}i=Ts(t)}if(m=1,48==(0|i)){for(;h=h+-1|0,(i=u+-1|0)>>>0<4294967295&&(h=h+1|0),u=i,(i=p[t+4>>2])>>>0<b[t+104>>2]?(p[t+4>>2]=i+1,i=_[0|i]):i=Ts(t),48==(0|i););x=1}}p[s+768>>2]=0,c=e,f=e;r:{n:{a:{s:{if((d=46==(0|i))|(S=i+-48|0)>>>0<=9)for(;;){o:{if(1&d){if(!m){u=g,h=v,m=1;break o}x=0!=(0|x);break s}(d=g+1|0)>>>0<1&&(v=v+1|0),g=d,(0|A)<=2044?(M=48!=(0|i)?g:M,x=d=(s+768|0)+(A<<2)|0,T&&(S=(y(p[d>>2],10)+i|0)-48|0),p[x>>2]=S,x=1,T=(i=9==(0|(d=T+1|0)))?0:d,A=i+A|0):48!=(0|i)&&(p[s+8944>>2]=1|p[s+8944>>2])}if((i=p[t+4>>2])>>>0<b[t+104>>2]?(p[t+4>>2]=i+1,i=_[0|i]):i=Ts(t),!((d=46==(0|i))|(S=i+-48|0)>>>0<10))break}if(u=m?u:g,h=m?h:v,!(!x|101!=(32|i))){i=ks(t),m=d=z,i|-2147483648!=(0|d)||(i=0,m=0,p[t+104>>2]&&(p[t+4>>2]=p[t+4>>2]+-1)),h=h+m|0,(t=i+u|0)>>>0<i>>>0&&(h=h+1|0),u=t;break n}if(x=0!=(0|x),(0|i)<0)break a}p[t+104>>2]&&(p[t+4>>2]=p[t+4>>2]+-1)}if(!x){p[4681]=28,Ss(t),u=0,h=0,i=0,t=0;break r}}if(t=p[s+768>>2])if((0|u)!=(0|g)|(0|h)!=(0|v)|((0|v)>0?1:(0|v)>=0?g>>>0<=9?0:1:0)|(t>>>r?(0|r)<=30:0))if(i=u>>>0<=(t=(0|n)/-2|0)>>>0?0:1,(0|h)>(0|(t>>=31))||(0|h)>=(0|t)&&i)Is(s+96|0,a),Ns(s+80|0,p[s+96>>2],p[s+100>>2],p[s+104>>2],p[s+108>>2],-1,-1,-1,2147418111),Ns(s- -64|0,p[s+80>>2],p[s+84>>2],p[s+88>>2],p[s+92>>2],-1,-1,-1,2147418111),p[4681]=68,u=p[s+72>>2],h=p[s+76>>2],i=p[s+68>>2],t=p[s+64>>2];else if(i=u>>>0>=(t=n+-226|0)>>>0?0:1,(0|h)<(0|(t>>=31))||(0|h)<=(0|t)&&i)Is(s+144|0,a),Ns(s+128|0,p[s+144>>2],p[s+148>>2],p[s+152>>2],p[s+156>>2],0,0,0,65536),Ns(s+112|0,p[s+128>>2],p[s+132>>2],p[s+136>>2],p[s+140>>2],0,0,0,65536),p[4681]=68,u=p[s+120>>2],h=p[s+124>>2],i=p[s+116>>2],t=p[s+112>>2];else{if(T){if((0|T)<=8){for(t=p[(i=(s+768|0)+(A<<2)|0)>>2];t=y(t,10),h=(0|T)<8,T=T+1|0,h;);p[i>>2]=t}A=A+1|0}if(m=u,!((0|M)>8|(0|M)>(0|u)|(0|u)>17)){if(9==(0|m)){Ds(s+176|0,p[s+768>>2]),Is(s+192|0,a),Ns(s+160|0,p[s+192>>2],p[s+196>>2],p[s+200>>2],p[s+204>>2],p[s+176>>2],p[s+180>>2],p[s+184>>2],p[s+188>>2]),u=p[s+168>>2],h=p[s+172>>2],i=p[s+164>>2],t=p[s+160>>2];break r}if((0|m)<=8){Ds(s+256|0,p[s+768>>2]),Is(s+272|0,a),Ns(s+240|0,p[s+272>>2],p[s+276>>2],p[s+280>>2],p[s+284>>2],p[s+256>>2],p[s+260>>2],p[s+264>>2],p[s+268>>2]),Is(s+224|0,p[17232+(0-m<<2)>>2]),Cs(s+208|0,p[s+240>>2],p[s+244>>2],p[s+248>>2],p[s+252>>2],p[s+224>>2],p[s+228>>2],p[s+232>>2],p[s+236>>2]),u=p[s+216>>2],h=p[s+220>>2],i=p[s+212>>2],t=p[s+208>>2];break r}if(t=27+(y(m,-3)+r|0)|0,!((i=p[s+768>>2])>>>t&&(0|t)<=30)){Ds(s+336|0,i),Is(s+352|0,a),Ns(s+320|0,p[s+352>>2],p[s+356>>2],p[s+360>>2],p[s+364>>2],p[s+336>>2],p[s+340>>2],p[s+344>>2],p[s+348>>2]),Is(s+304|0,p[17160+(m<<2)>>2]),Ns(s+288|0,p[s+320>>2],p[s+324>>2],p[s+328>>2],p[s+332>>2],p[s+304>>2],p[s+308>>2],p[s+312>>2],p[s+316>>2]),u=p[s+296>>2],h=p[s+300>>2],i=p[s+292>>2],t=p[s+288>>2];break r}}if(T=0,t=(0|m)%9|0){if(h=(0|m)>-1?t:t+9|0,A){for(u=p[17232+(0-h<<2)>>2],v=1e9/(0|u)|0,x=0,t=0,i=0;d=x,x=p[(g=(s+768|0)+(t<<2)|0)>>2],d=d+(S=(x>>>0)/(u>>>0)|0)|0,p[g>>2]=d,i=(d=!d&(0|t)==(0|i))?i+1&2047:i,m=d?m+-9|0:m,x=y(v,x-y(u,S)|0),(0|A)!=(0|(t=t+1|0)););x&&(p[(s+768|0)+(A<<2)>>2]=x,A=A+1|0)}else i=0,A=0;m=9+(m-h|0)|0}else i=0;for(;;){g=(s+768|0)+(i<<2)|0;n:{for(;;){if(36!=(0|m)|b[g>>2]>=10384593&&(0|m)>=36)break n;for(S=A+2047|0,x=0,d=A;A=d,t=p[(S=(s+768|0)+((v=2047&S)<<2)|0)>>2],h=t>>>3,(t=(u=t<<29)+x|0)>>>0<u>>>0&&(h=h+1|0),u=t,d=0,!h&t>>>0<1000000001|h>>>0<0||(d=Uo(t,h,1e9,0),u=u-Bo(d,z,1e9,0)|0),x=d,p[S>>2]=u,d=(0|v)!=(A+-1&2047)||(0|i)==(0|v)||u?A:v,S=v+-1|0,(0|i)!=(0|v););if(T=T+-29|0,x)break}(0|d)==(0|(i=i+-1&2047))&&(A=d+-1&2047,p[(t=(s+768|0)+((d+2046&2047)<<2)|0)>>2]=p[t>>2]|p[(s+768|0)+(A<<2)>>2]),m=m+9|0,p[(s+768|0)+(i<<2)>>2]=x;continue}break}n:{a:for(;;){for(h=A+1&2047,v=(s+768|0)+((A+-1&2047)<<2)|0;;){u=(0|m)>45?9:1;s:{for(;;){d=i,t=0;o:{for(;;){if((0|(i=t+d&2047))!=(0|A)&&(i=p[(s+768|0)+(i<<2)>>2],g=p[17184+(t<<2)>>2],!(i>>>0<g>>>0))){if(i>>>0>g>>>0)break o;if(4!=(0|(t=t+1|0)))continue}break}if(36==(0|m)){for(u=0,h=0,t=0,g=0,v=0;(0|(i=t+d&2047))==(0|A)&&(p[764+(((A=A+1&2047)<<2)+s|0)>>2]=0),Ns(s+752|0,u,h,g,v,0,0,1342177280,1075633366),Ds(s+736|0,p[(s+768|0)+(i<<2)>>2]),Es(s+720|0,p[s+752>>2],p[s+756>>2],p[s+760>>2],p[s+764>>2],p[s+736>>2],p[s+740>>2],p[s+744>>2],p[s+748>>2]),g=p[s+728>>2],v=p[s+732>>2],u=p[s+720>>2],h=p[s+724>>2],4!=(0|(t=t+1|0)););if(Is(s+704|0,a),Ns(s+688|0,u,h,g,v,p[s+704>>2],p[s+708>>2],p[s+712>>2],p[s+716>>2]),g=p[s+696>>2],v=p[s+700>>2],u=0,h=0,i=p[s+688>>2],m=p[s+692>>2],(0|(r=(x=(0|(n=(S=T+113|0)-n|0))<(0|r))?(0|n)>0?n:0:r))<=112)break s;break n}}if(T=u+T|0,(0|d)!=(0|(i=A)))break}for(g=1e9>>>u,x=-1<<u^-1,t=0,i=d;M=p[(S=(s+768|0)+(d<<2)|0)>>2],t=(M>>>u)+t|0,p[S>>2]=t,i=(t=!t&(0|i)==(0|d))?i+1&2047:i,m=t?m+-9|0:m,t=y(g,x&M),(0|(d=d+1&2047))!=(0|A););if(!t)continue;if((0|i)!=(0|h)){p[(s+768|0)+(A<<2)>>2]=t,A=h;continue a}p[v>>2]=1|p[v>>2],i=h;continue}break}break}Os(s+640|0,Oo(225-r|0)),ys(s+672|0,p[s+640>>2],p[s+644>>2],p[s+648>>2],p[s+652>>2],i,m,g,v),P=p[s+680>>2],R=p[s+684>>2],C=p[s+672>>2],O=p[s+676>>2],Os(s+624|0,Oo(113-r|0)),Ro(s+656|0,i,m,g,v,p[s+624>>2],p[s+628>>2],p[s+632>>2],p[s+636>>2]),u=p[s+656>>2],h=p[s+660>>2],w=p[s+664>>2],E=p[s+668>>2],Ls(s+608|0,i,m,g,v,u,h,w,E),Es(s+592|0,C,O,P,R,p[s+608>>2],p[s+612>>2],p[s+616>>2],p[s+620>>2]),g=p[s+600>>2],v=p[s+604>>2],i=p[s+592>>2],m=p[s+596>>2]}if((0|(t=d+4&2047))!=(0|A)){n:if((t=p[(s+768|0)+(t<<2)>>2])>>>0<=499999999){if((d+5&2047)==(0|A)&&!t)break n;Os(s+480|0,.25*+(0|a)),Es(s+464|0,u,h,w,E,p[s+480>>2],p[s+484>>2],p[s+488>>2],p[s+492>>2]),w=p[s+472>>2],E=p[s+476>>2],u=p[s+464>>2],h=p[s+468>>2]}else 5e8==(0|t)?(I=+(0|a),(d+5&2047)!=(0|A)?(Os(s+544|0,.75*I),Es(s+528|0,u,h,w,E,p[s+544>>2],p[s+548>>2],p[s+552>>2],p[s+556>>2]),w=p[s+536>>2],E=p[s+540>>2],u=p[s+528>>2],h=p[s+532>>2]):(Os(s+512|0,.5*I),Es(s+496|0,u,h,w,E,p[s+512>>2],p[s+516>>2],p[s+520>>2],p[s+524>>2]),w=p[s+504>>2],E=p[s+508>>2],u=p[s+496>>2],h=p[s+500>>2])):(Os(s+576|0,.75*+(0|a)),Es(s+560|0,u,h,w,E,p[s+576>>2],p[s+580>>2],p[s+584>>2],p[s+588>>2]),w=p[s+568>>2],E=p[s+572>>2],u=p[s+560>>2],h=p[s+564>>2]);(0|r)>111||(Ro(s+448|0,u,h,w,E,0,0,0,1073676288),Ps(p[s+448>>2],p[s+452>>2],p[s+456>>2],p[s+460>>2],0,0,0,0)||(Es(s+432|0,u,h,w,E,0,0,0,1073676288),w=p[s+440>>2],E=p[s+444>>2],u=p[s+432>>2],h=p[s+436>>2]))}Es(s+416|0,i,m,g,v,u,h,w,E),Ls(s+400|0,p[s+416>>2],p[s+420>>2],p[s+424>>2],p[s+428>>2],C,O,P,R),g=p[s+408>>2],v=p[s+412>>2],i=p[s+400>>2],m=p[s+404>>2],(2147483647&S)<=(-2-o|0)||(Ns(s+384|0,i,m,g,v,0,0,0,1073610752),a=Ps(u,h,w,E,0,0,0,0),t=k(Us(i,m,g,v))>=10384593717069655e18,g=t?p[s+392>>2]:g,v=t?p[s+396>>2]:v,i=t?p[s+384>>2]:i,m=t?p[s+388>>2]:m,((T=t+T|0)+110|0)<=(0|l)&&!(x&(1^t|(0|r)!=(0|n))&0!=(0|a))||(p[4681]=68)),gs(s+368|0,i,m,g,v,T),u=p[s+376>>2],h=p[s+380>>2],i=p[s+372>>2],t=p[s+368>>2]}else Ds(s+32|0,t),Is(s+48|0,a),Ns(s+16|0,p[s+48>>2],p[s+52>>2],p[s+56>>2],p[s+60>>2],p[s+32>>2],p[s+36>>2],p[s+40>>2],p[s+44>>2]),u=p[s+24>>2],h=p[s+28>>2],i=p[s+20>>2],t=p[s+16>>2];else Os(s,0*+(0|a)),u=p[s+8>>2],h=p[s+12>>2],i=p[s+4>>2],t=p[s>>2]}p[f>>2]=t,p[c+4>>2]=i,p[e+8>>2]=u,p[e+12>>2]=h,V=s+8960|0}(r+32|0,t,i,A,m,s),h=p[r+40>>2],f=p[r+44>>2],u=p[r+32>>2],d=p[r+36>>2];break e}if((i=p[t+4>>2])>>>0<b[t+104>>2]?(p[a>>2]=i+1,i=_[0|i]):i=Ts(t),40!=(0|i)){if(f=2147450880,!p[t+104>>2])break e;p[a>>2]=p[a>>2]+-1;break e}for(n=1;(i=p[t+4>>2])>>>0<b[t+104>>2]?(p[a>>2]=i+1,i=_[0|i]):i=Ts(t),i+-48>>>0<10|i+-65>>>0<26|95==(0|i)||!(i+-97>>>0>=26);)n=n+1|0;if(f=2147450880,41==(0|i))break e;if((t=p[t+104>>2])&&(p[a>>2]=p[a>>2]+-1),!n)break e;for(;n=n+-1|0,t&&(p[a>>2]=p[a>>2]+-1),n;);break e}Ss(t)}}p[e>>2]=u,p[e+4>>2]=d,p[e+8>>2]=h,p[e+12>>2]=f,V=r+48|0}(n,n+16|0,r),r=p[n+8>>2],a=p[n+12>>2],s=p[n>>2],f=p[n+4>>2],i&&(u=i,h=t,d=t=p[n+20>>2]-p[n+24>>2]|0,i=t+p[n+136>>2]|0,t=p[n+140>>2]+(t>>31)|0,t=i>>>0<d>>>0?t+1|0:t,p[u>>2]=t|i?h+i|0:h),p[e>>2]=s,p[e+4>>2]=f,p[e+8>>2]=r,p[e+12>>2]=a,V=n+160|0}function _s(e){return 32==(0|e)|e+-9>>>0<5}function ms(e){for(var t,i=0,r=0,n=0,a=0,s=0;e=(i=e)+1|0,_s(l[0|i]););e:if(!((t=(r=l[0|i])+-43|0)>>>0>2)){t:switch(t-1|0){case 1:a=1;break;case 0:break e;default:break t}r=l[0|e],i=e,s=a}if(fs(r))for(;n=48+(y(n,10)-l[0|i]|0)|0,e=l[i+1|0],i=i+1|0,fs(e););return s?n:0-n|0}function bs(e,t,i){var r=0,n=0,a=0;e:if(i){for(;;){if((0|(r=_[0|e]))==(0|(n=_[0|t]))){if(t=t+1|0,e=e+1|0,i=i+-1|0)continue;break e}break}a=r-n|0}return a}function As(e){var t=0,i=0,r=0;e:{t:if(3&(t=e)){if(!_[0|e])break e;for(;;){if(!(3&(t=t+1|0)))break t;if(!_[0|t])break}break e}for(;i=t,t=t+4|0,!((-1^(r=p[i>>2]))&r+-16843009&-2139062144););if(255&r)for(;r=_[i+1|0],i=t=i+1|0,r;);else t=i}return t-e|0}function vs(e,t){var i=0,r=0,n=0;i=0!=(0|t);e:{t:{i:{r:if(!(!t|!(3&e)))for(;;){if(!_[0|e])break i;if(e=e+1|0,i=0!=(0|(t=t+-1|0)),!t)break r;if(!(3&e))break}if(!i)break t}if(!_[0|e])break e;i:{if(t>>>0>=4){for(i=(i=t+-4|0)-(r=-4&i)|0,r=4+(e+r|0)|0;;){if((-1^(n=p[e>>2]))&n+-16843009&-2139062144)break i;if(e=e+4|0,!((t=t+-4|0)>>>0>3))break}t=i,e=r}if(!t)break t}for(;;){if(!_[0|e])break e;if(e=e+1|0,!(t=t+-1|0))break}}return 0}return e}function ys(e,t,i,r,n,a,s,o,l){p[e>>2]=t,p[e+4>>2]=i,p[e+8>>2]=r,p[e+12>>2]=65535&n|(l>>>16&32768|n>>>16&32767)<<16}function gs(e,t,i,r,n,a){var s;V=s=V-80|0;e:if((0|a)>=16384){if(Ns(s+32|0,t,i,r,n,0,0,0,2147352576),r=p[s+40>>2],n=p[s+44>>2],t=p[s+32>>2],i=p[s+36>>2],(0|a)<32767){a=a+-16383|0;break e}Ns(s+16|0,t,i,r,n,0,0,0,2147352576),a=((0|a)<49149?a:49149)+-32766|0,r=p[s+24>>2],n=p[s+28>>2],t=p[s+16>>2],i=p[s+20>>2]}else(0|a)>-16383||(Ns(s- -64|0,t,i,r,n,0,0,0,65536),r=p[s+72>>2],n=p[s+76>>2],t=p[s+64>>2],i=p[s+68>>2],(0|a)>-32765?a=a+16382|0:(Ns(s+48|0,t,i,r,n,0,0,0,65536),a=((0|a)>-49146?a:-49146)+32764|0,r=p[s+56>>2],n=p[s+60>>2],t=p[s+48>>2],i=p[s+52>>2]));Ns(s,t,i,r,n,0,0,0,a+16383<<16),t=p[s+12>>2],p[e+8>>2]=p[s+8>>2],p[e+12>>2]=t,t=p[s+4>>2],p[e>>2]=p[s>>2],p[e+4>>2]=t,V=s+80|0}function ks(e){var t=0,i=0,r=0,n=0,a=0;if((t=p[e+4>>2])>>>0<b[e+104>>2]?(p[e+4>>2]=t+1,t=_[0|t]):t=Ts(e),(r=t+-43|0)-1|0&&r>>>0<=2?(a=45==(0|t),(t=p[e+4>>2])>>>0<b[e+104>>2]?(p[e+4>>2]=t+1,t=_[0|t]):t=Ts(e),(i=t+-48|0)>>>0<10|!p[e+104>>2]||(p[e+4>>2]=p[e+4>>2]+-1)):i=t+-48|0,i>>>0<10){for(i=0;r=y(i,10)+t|0,(t=p[e+4>>2])>>>0<b[e+104>>2]?(p[e+4>>2]=t+1,t=_[0|t]):t=Ts(e),n=t+-48|0,(0|(i=r+-48|0))<214748364&&n>>>0<=9;);r=i,i>>=31;e:if(!(n>>>0>=10))for(;;){if(r=(i=Bo(r,i,10,0))+t|0,t=z,i=(t=r>>>0<i>>>0?t+1|0:t)+-1|0,i=(r=r+-48|0)>>>0<4294967248?i+1|0:i,(t=p[e+4>>2])>>>0<b[e+104>>2]?(p[e+4>>2]=t+1,t=_[0|t]):t=Ts(e),(n=t+-48|0)>>>0>9)break e;if(!((0|i)<21474836||(0|i)<=21474836&&!(r>>>0>=2061584302)))break}if(n>>>0<10)for(;(t=p[e+4>>2])>>>0<b[e+104>>2]?(p[e+4>>2]=t+1,t=_[0|t]):t=Ts(e),t+-48>>>0<10;);p[e+104>>2]&&(p[e+4>>2]=p[e+4>>2]+-1),e=r,r=a?0-e|0:e,i=a?0-(i+(0<e>>>0)|0)|0:i}else if(r=0,i=-2147483648,p[e+104>>2])return p[e+4>>2]=p[e+4>>2]+-1,z=-2147483648,0;return z=i,r}function xs(e){var t,i=0;return V=t=V-16|0,i=-1,function(e){var t,i=0;return i=_[e+74|0],l[e+74|0]=i+-1|i,b[e+20>>2]>b[e+28>>2]&&a[p[e+36>>2]](e,0,0),p[e+28>>2]=0,p[e+16>>2]=0,p[e+20>>2]=0,4&(i=p[e>>2])?(p[e>>2]=32|i,-1):(t=p[e+44>>2]+p[e+48>>2]|0,p[e+8>>2]=t,p[e+4>>2]=t,i<<27>>31)}(e)||1==(0|a[p[e+32>>2]](e,t+15|0,1))&&(i=_[t+15|0]),V=t+16|0,i}function Ss(e){var t,i;p[e+112>>2]=0,p[e+116>>2]=0,i=(t=p[e+8>>2])-p[e+4>>2]|0,p[e+120>>2]=i,p[e+124>>2]=i>>31,p[e+104>>2]=t}function Ts(e){var t=0,i=0,r=0,n=0,a=0,s=0,o=0;return i=t=p[e+116>>2],t|(a=p[e+112>>2])&&((0|(t=p[e+124>>2]))>(0|i)||(0|t)>=(0|i)&&!(b[e+120>>2]<a>>>0))||!((0|(a=xs(e)))>-1)?(p[e+104>>2]=0,-1):(t=p[e+8>>2],n=i=p[e+116>>2],!(i|(r=p[e+112>>2]))||(i=(-1^p[e+124>>2])+n|0,(r=(n=-1^p[e+120>>2])+r|0)>>>0<n>>>0&&(i=i+1|0),o=(n=r)>>>0<(s=t-(r=p[e+4>>2])|0)>>>0?0:1,(0|i)>(0|(s>>=31))||(0|i)>=(0|s)&&o)?p[e+104>>2]=t:p[e+104>>2]=n+r,t?(i=e,n=(r=1+((n=t)-(t=p[e+4>>2])|0)|0)+p[e+120>>2]|0,e=p[e+124>>2]+(r>>31)|0,p[i+120>>2]=n,p[i+124>>2]=n>>>0<r>>>0?e+1|0:e):t=p[e+4>>2],_[0|(e=t+-1|0)]!=(0|a)&&(l[0|e]=a),a)}function ws(e){return e?(p[4681]=e,-1):0}function Es(e,t,i,r,n,a,s,o,l){var c,f=0,h=0,u=0,d=0,_=0,m=0,b=0,A=0,v=0,y=0,g=0;V=c=V-112|0,u=o,_=2147483647&l,h=i+-1|0,(f=t+-1|0)>>>0<4294967295&&(h=h+1|0),d=f,b=-1==(0|f)&-1==(0|h),f=m=2147483647&n,A=r,(d=r+(h=(0|i)==(0|h)&d>>>0<t>>>0|h>>>0<i>>>0)|0)>>>0<h>>>0&&(f=f+1|0),h=f+-1|0;e:{if((-1==(0|(f=d=d+-1|0))&2147418111==(0|(h=f>>>0<4294967295?h+1|0:h))?b:2147418111==(0|h)&f>>>0>4294967295|h>>>0>2147418111)||(h=s+-1|0,(f=a+-1|0)>>>0<4294967295&&(h=h+1|0),d=f,b=-1!=(0|f)|-1!=(0|h),f=_,(d=(h=(0|s)==(0|h)&d>>>0<a>>>0|h>>>0<s>>>0)+u|0)>>>0<h>>>0&&(f=f+1|0),f=f+-1|0,!(-1==(0|(h=d+-1|0))&2147418111==(0|(f=h>>>0<4294967295?f+1|0:f))?b:2147418111==(0|f)&h>>>0<4294967295|f>>>0<2147418111))){if(!(!A&2147418112==(0|m)?!(t|i):2147418112==(0|m)&A>>>0<0|m>>>0<2147418112)){o=r,l=32768|n,a=t,s=i;break e}if(!(!u&2147418112==(0|_)?!(a|s):2147418112==(0|_)&u>>>0<0|_>>>0<2147418112)){l|=32768;break e}if(!(t|A|2147418112^m|i)){f=r,o=(r=!(t^a|r^o|i^s|n^l^-2147483648))?0:f,l=r?2147450880:n,a=r?0:t,s=r?0:i;break e}if(!(a|u|2147418112^_|s))break e;if(!(t|A|i|m)){if(a|u|s|_)break e;a&=t,s&=i,o&=r,l&=n;break e}if(!(a|u|s|_)){a=t,s=i,o=r,l=n;break e}}m=(f=h=(0|u)==(0|A)&(0|_)==(0|m)?(0|i)==(0|s)&a>>>0>t>>>0|s>>>0>i>>>0:(0|_)==(0|m)&u>>>0>A>>>0|_>>>0>m>>>0)?a:t,_=f?s:i,A=u=f?l:n,d=v=f?o:r,f=65535&u,y=l=h?n:l,n=h?r:o,b=l>>>16&32767,(u=u>>>16&32767)||(o=(r=!(f|d))<<6,l=x(r?m:d)+32|0,Ms(c+96|0,m,_,d,f,(r=o+(32==(0|(r=x(r?_:f)))?l:r)|0)+-15|0),d=p[c+104>>2],m=p[c+96>>2],_=p[c+100>>2],u=16-r|0,f=p[c+108>>2]),a=h?t:a,s=h?i:s,t=n,i=65535&y,b?(r=t,t=i):(l=t,o=(r=!(t|i))<<6,h=x(r?a:t)+32|0,Ms(c+80|0,a,s,l,i,(t=o+(32==(0|(t=x(r?s:i)))?h:t)|0)+-15|0),b=16-t|0,a=p[c+80>>2],s=p[c+84>>2],r=p[c+88>>2],t=p[c+92>>2]),o=(i=r)<<3|s>>>29,l=524288|(h=t<<3|i>>>29),h=(t=d)<<3|_>>>29,g=r=f<<3|t>>>29,v^=n,d=A^y,i=f=s<<3|(t=a)>>>29,r=t<<=3,(n=u-b|0)&&(n>>>0>127?(o=0,l=0,f=0,r=1):(Ms(c- -64|0,t,i,o,l,128-n|0),Fs(c+48|0,t,i,o,l,n),o=p[c+56>>2],l=p[c+60>>2],f=p[c+52>>2],r=p[c+48>>2]|0!=(p[c+64>>2]|p[c+72>>2])|0!=(p[c+68>>2]|p[c+76>>2]))),s=f,n=h,b=524288|g,f=_<<3|(t=m)>>>29,i=t<<3;t:if((0|d)<-1||(0|d)<=-1&&!(v>>>0>4294967295)){if(_=r,!((t=i-r|0)|(a=(m=n-o|0)-(r=(0|s)==(0|f)&i>>>0<r>>>0|f>>>0<s>>>0)|0)|(i=f-((i>>>0<_>>>0)+s|0)|0)|(s=(b-((n>>>0<o>>>0)+l|0)|0)-(m>>>0<r>>>0)|0))){a=0,s=0,o=0,l=0;break e}if(524287==(0|s)&a>>>0>4294967295|s>>>0>524287)break t;o=t,n=(r=!(a|s))<<6,l=x(r?t:a)+32|0,Ms(c+32|0,o,i,a,s,t=(t=n+(32==(0|(t=x(r?i:s)))?l:t)|0)+-12|0),u=u-t|0,a=p[c+40>>2],s=p[c+44>>2],t=p[c+32>>2],i=p[c+36>>2]}else h=s+f|0,(i=(t=r)+i|0)>>>0<t>>>0&&(h=h+1|0),t=i,s=(0|s)==(0|(i=h))&t>>>0<r>>>0|i>>>0<s>>>0,h=l+b|0,(r=n+o|0)>>>0<n>>>0&&(h=h+1|0),a=r,n=s+r|0,r=h,r=n>>>0<a>>>0?r+1|0:r,a=n,s=r,1048576&r&&(t=1&t|(1&i)<<31|t>>>1,i=a<<31|i>>>1,u=u+1|0,a=(1&s)<<31|a>>>1,s>>>=1);o=0,f=-2147483648&A,(0|u)>=32767?(l=2147418112|f,a=0,s=0):(n=0,(0|u)>0?n=u:(Ms(c+16|0,t,i,a,s,u+127|0),Fs(c,t,i,a,s,1-u|0),t=p[c>>2]|0!=(p[c+16>>2]|p[c+24>>2])|0!=(p[c+20>>2]|p[c+28>>2]),i=p[c+4>>2],a=p[c+8>>2],s=p[c+12>>2]),o=o|(7&s)<<29|a>>>3,n=f|s>>>3&65535|n<<16,a=f=a<<29,s=(7&i)<<29|t>>>3|(r=0),f=n,h=r=i>>>3|a,(i=(t=(n=7&t)>>>0>4)+s|0)>>>0<t>>>0&&(h=h+1|0),t=i,(a=(r=(0|r)==(0|(i=h))&t>>>0<s>>>0|i>>>0<r>>>0)+o|0)>>>0<r>>>0&&(f=f+1|0),r=(n=4==(0|n))?1&t:0,l=f,o=a,f=i+(n=0)|0,(i=t+r|0)>>>0<t>>>0&&(f=f+1|0),a=i,s=f,(i=o+(t=(0|n)==(0|f)&(t=i)>>>0<r>>>0|f>>>0<n>>>0)|0)>>>0<t>>>0&&(l=l+1|0),o=i)}p[e>>2]=a,p[e+4>>2]=s,p[e+8>>2]=o,p[e+12>>2]=l,V=c+112|0}function Ms(e,t,i,r,n,a){var s=0,o=0,l=0,c=0;64&a?(r=t,t=31&(n=a+-64|0),32<=(63&n)>>>0?(n=r<<t,r=0):(n=(1<<t)-1&r>>>32-t|i<<t,r<<=t),t=0,i=0):a&&(s=r,l=a,r=31&a,32<=(63&a)>>>0?(o=s<<r,c=0):(o=(1<<r)-1&s>>>32-r|n<<r,c=s<<r),r=i,s=t,n=31&(a=64-a|0),32<=(63&a)>>>0?(a=0,r>>>=n):(a=r>>>n,r=((1<<n)-1&r)<<32-n|s>>>n),r|=c,n=a|o,a=t,t=31&l,32<=(63&l)>>>0?(o=a<<t,t=0):(o=(1<<t)-1&a>>>32-t|i<<t,t=a<<t),i=o),p[e>>2]=t,p[e+4>>2]=i,p[e+8>>2]=r,p[e+12>>2]=n}function Ps(e,t,i,r,n,a,s,o){var l,c=0,f=0,h=0,u=0;f=1,l=c=2147483647&r,h=i;e:if(!(!i&2147418112==(0|c)?e|t:2147418112==(0|c)&i>>>0>0|c>>>0>2147418112)&&(c=s,!(!s&2147418112==(0|(u=2147483647&o))?n|a:2147418112==(0|u)&s>>>0>0|u>>>0>2147418112))){if(!(e|n|c|h|t|a|l|u))return 0;if((0|(h=r&o))>0||(0|h)>=0&&!((i&s)>>>0<0)){if(f=-1,(0|i)==(0|s)&(0|r)==(0|o)?(0|t)==(0|a)&e>>>0<n>>>0|t>>>0<a>>>0:(0|r)<(0|o)||(0|r)<=(0|o)&&!(i>>>0>=s>>>0))break e;return 0!=(e^n|i^s)|0!=(t^a|r^o)}f=-1,((0|i)==(0|s)&(0|r)==(0|o)?(0|t)==(0|a)&e>>>0>n>>>0|t>>>0>a>>>0:(0|r)>(0|o)||(0|r)>=(0|o)&&!(i>>>0<=s>>>0))||(f=0!=(e^n|i^s)|0!=(t^a|r^o))}return f}function Rs(e,t,i,r){var n,a=0,s=0;s=-1,a=i;e:if(!(!i&2147418112==(0|(n=2147483647&r))?e|t:2147418112==(0|n)&i>>>0>0|n>>>0>2147418112)){if(!(e|a|1073610752|n|t))return 0;if((0|(a=1073610752&r))>0||(0|a)>=0){if(!i&1073610752==(0|r)?!t&e>>>0<0|t>>>0<0:(0|r)<1073610752||(0|r)<=1073610752&&!(i>>>0>=0))break e;return 0!=(e|i)|0!=(1073610752^r|t)}(!i&1073610752==(0|r)?!t&e>>>0>0|t>>>0>0:(0|r)>1073610752||(0|r)>=1073610752&&!(i>>>0<=0))||(s=0!=(e|i)|0!=(1073610752^r|t))}return s}function Cs(e,t,i,r,n,a,s,o,l){var c,f=0,h=0,u=0,d=0,_=0,m=0,b=0,A=0,v=0,y=0,g=0,k=0,S=0,T=0,w=0,E=0,M=0,P=0,R=0,C=0,O=0,I=0,D=0,F=0,N=0,B=0,L=0,U=0,j=0,W=0,G=0;V=c=V-192|0,C=o,I=65535&l,b=r,m=65535&n,O=-2147483648&(n^l);e:{y=n>>>16&32767;t:{if(!((_=l>>>16&32767)+-1>>>0<32766&&y+-1>>>0<=32765)){if(!(!(f=r)&2147418112==(0|(h=d=2147483647&n))?!(t|i):2147418112==(0|h)&f>>>0<0|h>>>0<2147418112)){F=r,O=32768|n;break t}if(!(!(r=o)&2147418112==(0|(n=d=2147483647&l))?!(a|s):2147418112==(0|n)&r>>>0<0|n>>>0<2147418112)){F=o,O=32768|l,t=a,i=s;break t}if(!(t|f|2147418112^h|i)){if(!(r|a|2147418112^n|s)){t=0,i=0,O=2147450880;break t}O|=2147418112,t=0,i=0;break t}if(!(r|a|2147418112^n|s)){t=0,i=0;break t}if(!(t|f|i|h))break e;if(!(r|a|n|s)){O|=2147418112,t=0,i=0;break t}65535==(0|h)&f>>>0<=4294967295|h>>>0<65535&&(f=t,l=(o=!(b|m))<<6,h=x(o?t:b)+32|0,Ms(c+176|0,f,i,b,m,(t=l+(32==(0|(t=x(o?i:m)))?h:t)|0)+-15|0),u=16-t|0,b=p[c+184>>2],m=p[c+188>>2],i=p[c+180>>2],t=p[c+176>>2]),65535==(0|n)&r>>>0>4294967295|n>>>0>65535||(n=(r=!(C|I))<<6,o=x(r?a:C)+32|0,Ms(c+160|0,a,s,C,I,(r=n+(32==(0|(r=x(r?s:I)))?o:r)|0)+-15|0),u=(r+u|0)-16|0,C=p[c+168>>2],I=p[c+172>>2],a=p[c+160>>2],s=p[c+164>>2])}N=n=65536|I,W=C,n=h=n<<15|(r=C)>>>17,Bs(c+144|0,r=r<<15|s>>>17,f=h,o=-102865788-r|0,l=1963258675-(f+(4192101508<r>>>0)|0)|0),Bs(c+128|0,0-(f=p[c+152>>2])|0,0-(p[c+156>>2]+(0<f>>>0)|0)|0,o,l),Bs(c+112|0,l=(o=p[c+136>>2])<<1|p[c+132>>2]>>>31,o=p[c+140>>2]<<1|o>>>31,r,h),Bs(c+96|0,l,f=o,0-(o=p[c+120>>2])|0,0-(p[c+124>>2]+(0<o>>>0)|0)|0),Bs(c+80|0,l=(o=p[c+104>>2])<<1|p[c+100>>2]>>>31,o=p[c+108>>2]<<1|o>>>31,r,h),Bs(c- -64|0,l,f=o,0-(o=p[c+88>>2])|0,0-(p[c+92>>2]+(0<o>>>0)|0)|0),Bs(c+48|0,l=(o=p[c+72>>2])<<1|p[c+68>>2]>>>31,o=p[c+76>>2]<<1|o>>>31,r,h),Bs(c+32|0,l,f=o,0-(o=p[c+56>>2])|0,0-(p[c+60>>2]+(0<o>>>0)|0)|0),Bs(c+16|0,l=(o=p[c+40>>2])<<1|p[c+36>>2]>>>31,o=p[c+44>>2]<<1|o>>>31,r,h),Bs(c,l,f=o,0-(o=p[c+24>>2])|0,0-(p[c+28>>2]+(0<o>>>0)|0)|0),B=(y-_|0)+u|0,l=(o=p[c+8>>2])<<1,h=(f=p[c+12>>2]<<1|o>>>31)+-1|0,(l=(p[c+4>>2]>>>31|l)-1|0)>>>0<4294967295&&(h=h+1|0),g=f=0,k=n,A=Bo(o=l,f,n,u=0),v=n=z,E=h,_=r,h=Bo(h,l=0,r,y=0),f=z+n|0,d=r=h+A|0,r=r>>>0<h>>>0?f+1|0:f,_=Bo(o,g,_,y),f=(h=d)+z|0,f=(n=0+_|0)>>>0<_>>>0?f+1|0:f,y=n,_=n,n=f,f=(0|h)==(0|f)&_>>>0<S>>>0|f>>>0<h>>>0,h=(0|r)==(0|v)&h>>>0<A>>>0|r>>>0<v>>>0,d=r,r=Bo(E,l,k,u)+r|0,u=h+z|0,u=r>>>0<d>>>0?u+1|0:u,r=f+(h=r)|0,f=u,M=r,r=r>>>0<h>>>0?f+1|0:f,v=Bo(o,g,w=(131071&(f=s))<<15|a>>>17,0),k=f=z,T=Bo(E,l,u=(d=a)<<15&-32768,0),h=z+f|0,h=(d=T+v|0)>>>0<T>>>0?h+1|0:h,f=d,T=0,P=Bo(o,g,u,S),u=f,f=f+z|0,A=(0|(f=(S=T+P|0)>>>0<P>>>0?f+1|0:f))==(0|u)&S>>>0<T>>>0|f>>>0<u>>>0,f=(0|h)==(0|k)&u>>>0<v>>>0|h>>>0<k>>>0,_=h,d=Bo(E,l,w,R)+h|0,u=f+z|0,d=(h=d)>>>0<_>>>0?u+1|0:u,d=(f=A+h|0)>>>0<h>>>0?d+1|0:d,u=f,h=f+y|0,f=d+n|0,f=h>>>0<u>>>0?f+1|0:f,_=h,h=r,A=f,(n=(r=(0|n)==(0|f)&_>>>0<y>>>0|f>>>0<n>>>0)+M|0)>>>0<r>>>0&&(h=h+1|0),f=h,(n=n+(r=0!=(0|_)|0!=(0|A))|0)>>>0<r>>>0&&(f=f+1|0),y=Bo(n=0-(h=n)|0,v=0,o,g),k=r=z,S=Bo(E,l,n,v),M=n=z,v=Bo(o,g,w=0-((0<h>>>0)+f|0)|0,f=0),h=z+n|0,h=(u=v+S|0)>>>0<v>>>0?h+1|0:h,u=r+(n=u)|0,u=(0|k)==(0|(r=u=(v=0+y|0)>>>0<R>>>0?u+1|0:u))&(d=v)>>>0<y>>>0|r>>>0<k>>>0,d=(0|h)==(0|M)&n>>>0<S>>>0|h>>>0<M>>>0,n=Bo(E,l,w,f)+h|0,f=d+z|0,f=n>>>0<h>>>0?f+1|0:f,(n=u+(h=n)|0)>>>0<h>>>0&&(f=f+1|0),M=n,n=f,h=0-_|0,S=Bo(w=0-((0<_>>>0)+A|0)|0,_=0,o,g),k=z,A=h,d=Bo(h,0,E,l),h=z+k|0,h=(f=d+S|0)>>>0<d>>>0?h+1|0:h,d=f,g=Bo(o,g,A,R),o=f,f=f+z|0,f=(0|o)==(0|(f=(A=0+g|0)>>>0<g>>>0?f+1|0:f))&A>>>0<T>>>0|f>>>0<o>>>0,o=Bo(w,_,E,l),d=z+((0|h)==(0|k)&d>>>0<S>>>0|h>>>0<k>>>0)|0,d=(o=o+h|0)>>>0<h>>>0?d+1|0:d,l=o,o=f+o|0,f=d,f=o>>>0<l>>>0?f+1|0:f,l=o,f=f+r|0,f=(o=o+v|0)>>>0<l>>>0?f+1|0:f,l=o,h=n,n=f,(o=(r=(0|r)==(0|f)&o>>>0<v>>>0|f>>>0<r>>>0)+M|0)>>>0<r>>>0&&(h=h+1|0),f=h,d=r=o,u=n+-1|0,(r=l+-2|0)>>>0<4294967294&&(u=u+1|0),o=r,h=r,(l=d+(n=(0|n)==(0|(r=u))&h>>>0<l>>>0|r>>>0<n>>>0)|0)>>>0<n>>>0&&(f=f+1|0),f=f+-1|0,f=(n=l+-1|0)>>>0<4294967295?f+1|0:f,k=l=0,_=n,d=Bo(n,l,S=(h=b)<<2|i>>>30,w=0),A=l=z,h=l,T=f,f=Bo(R=(1073741823&(l=i))<<2|t>>>30,y=0,f,l=0),u=z+h|0,v=u=(n=f+d|0)>>>0<f>>>0?u+1|0:u,g=(0|A)==(0|u)&(h=n)>>>0<d>>>0|u>>>0<A>>>0,d=u,A=u=0,f=0,M=r,n=Bo(r,u,P=-262145&((1073741823&m)<<2|b>>>30)|262144,0),d=z+d|0,m=r=n+h|0,(h=(r=(0|v)==(0|(n=d=r>>>0<n>>>0?d+1|0:d))&r>>>0<h>>>0|n>>>0<v>>>0)+g|0)>>>0<r>>>0&&(f=1),i=h,h=Bo(T,l,P,D),f=z+f|0,h=(r=i+h|0)>>>0<h>>>0?f+1|0:f,u=Bo(_,k,P,D),f=z,i=r,b=Bo(S,w,T,l),d=z+f|0,d=(r=b+u|0)>>>0<b>>>0?d+1|0:d,b=r,h=h+(d=(0|f)==(0|(r=d))&b>>>0<u>>>0|r>>>0<f>>>0)|0,d=(f=u=i+r|0)>>>0<r>>>0?h+1|0:h,u=n+b|0,(r=(h=0)+m|0)>>>0<h>>>0&&(u=u+1|0),h=r,(f=(i=f)+(n=(0|n)==(0|(r=u))&(f=h)>>>0<m>>>0|r>>>0<n>>>0)|0)>>>0<n>>>0&&(d=d+1|0),L=f,m=r,b=Bo(R,y,M,A),u=z,v=o,g=Bo(o,0,S,w),f=z+u|0,f=(o=g+b|0)>>>0<g>>>0?f+1|0:f,E=o,g=o,o=f,b=(0|u)==(0|f)&g>>>0<b>>>0|f>>>0<u>>>0,U=h,f=0,G=b,b=Bo(_,k,i=t<<2&-4,0),u=z+o|0,u=(n=b+g|0)>>>0<b>>>0?u+1|0:u,g=n,b=n,(u=G+(o=(0|o)==(0|(n=u))&b>>>0<E>>>0|n>>>0<o>>>0)|0)>>>0<o>>>0&&(f=1),f=f+m|0,f=(o=U+u|0)>>>0<u>>>0?f+1|0:f,b=o,u=d,o=f,(f=(r=(0|r)==(0|f)&b>>>0<h>>>0|f>>>0<r>>>0)+L|0)>>>0<r>>>0&&(u=u+1|0),U=f,m=b,E=o,L=Bo(T,l,i,0),T=z,l=Bo(P,D,v,j),d=z+T|0,d=(r=l+L|0)>>>0<l>>>0?d+1|0:d,P=r,h=Bo(S,w,M,A),l=d,f=d+z|0,f=(r=r+h|0)>>>0<h>>>0?f+1|0:f,S=r,d=Bo(_,k,R,y),h=f,f=f+z|0,_=r=r+d|0,f=r>>>0<d>>>0?f+1|0:f,d=u,r=f,h=((f=l=(f=(0|f)==(0|h)&_>>>0<S>>>0|f>>>0<h>>>0)+(h=(u=(0|l)==(0|T)&P>>>0<L>>>0|l>>>0<T>>>0)+(l=(0|l)==(0|h)&S>>>0<P>>>0|h>>>0<l>>>0)|0)|0)|(k=0))+E|0,E=l=(u=0|r)+m|0,(l=(o=(0|o)==(0|(h=l>>>0<u>>>0?h+1|0:h))&l>>>0<b>>>0|h>>>0<o>>>0)+U|0)>>>0<o>>>0&&(d=d+1|0),w=l,l=d,d=E,b=m=h,M=Bo(M,A,i,0),A=z,f=Bo(R,y,v,j),u=z+A|0,y=h=u=(o=f+M|0)>>>0<f>>>0?u+1|0:u,f=(0|h)==(0|A)&o>>>0<M>>>0|h>>>0<A>>>0,o=h+g|0,h=(f|(u=0))+n|0,i=d,n=f=(0|n)==(0|(h=o>>>0<y>>>0?h+1|0:h))&(f=o)>>>0<g>>>0|h>>>0<n>>>0,f=h+_|0,(r=(d=0)+(y=o)|0)>>>0<d>>>0&&(f=f+1|0),(n=n+(r=(0|(o=h))==(0|f)&r>>>0<y>>>0|f>>>0<o>>>0)|0)>>>0<r>>>0&&(u=1),d=u+b|0,o=r=i+n|0,f=l,l=d=r>>>0<n>>>0?d+1|0:d,(n=(r=(0|m)==(0|d)&r>>>0<E>>>0|d>>>0<m>>>0)+w|0)>>>0<r>>>0&&(f=f+1|0),r=n,n=f,131071==(0|f)&r>>>0<=4294967295|f>>>0<131071?(f=t<<17,_=(t=0)-(i=0!=(0|(h=Bo(o,k=0,m=a,S=0)))|0!=(0|(u=z)))|0,P=f-(t>>>0<i>>>0)|0,y=0-h|0,A=0-((0<h>>>0)+u|0)|0,w=Bo(l,i=0,m,S),R=t=z,h=Bo(o,k,T=s,b=0),u=z+t|0,u=(f=h+w|0)>>>0<h>>>0?u+1|0:u,t=f,g=h=f,E=_-(f=(0|h)==(0|A)&y>>>0<(f=v=0)>>>0|A>>>0<h>>>0)|0,_=P-(_>>>0<f>>>0)|0,f=Bo(r,0,m,S),h=z,m=Bo(o,k,C,0),d=z+h|0,d=(f=m+f|0)>>>0<m>>>0?d+1|0:d,m=Bo(l,i,T,b),h=z+d|0,d=h=(f=m+f|0)>>>0<m>>>0?h+1|0:h,h=(0|u)==(0|R)&t>>>0<w>>>0|u>>>0<R>>>0,t=u+f|0,f=h+d|0,t=(d=t)>>>0<u>>>0?f+1|0:f,f=Bo(o,l,N,0),u=z,m=d,h=(d=Bo(a,T,n,0))+f|0,f=z+u|0,f=h>>>0<d>>>0?f+1|0:f,d=(u=Bo(r,n,T,b))+h|0,h=z+f|0,f=t+(f=i=(f=d)+(d=Bo(l,i,C,I))|0)|0,C=E-(t=i=m+(h=0)|0)|0,f=_-((E>>>0<t>>>0)+(t>>>0<h>>>0?f+1|0:f)|0)|0,B=B+-1|0,i=A-((y>>>0<v>>>0)+g|0)|0,h=y-v|0):(v=l>>>1,u=0,d=t<<16,i=0,o=(1&l)<<31|o>>>1,l=l>>>1|(h=r<<31),t=Bo(o,w=0,_=a,R=0),h=f=z,m=i-(f=0!=(0|t)|0!=(0|f))|0,D=d-(i>>>0<f>>>0)|0,g=0-t|0,d=E=0-((0<t>>>0)+h|0)|0,A=Bo(o,w,T=s,y=0),P=t=z,j=n<<31|(h=r)>>>1|u,k=Bo(i=v|=h<<31,0,_,R),f=z+t|0,t=f=(h=k+A|0)>>>0<k>>>0?f+1|0:f,S=f=h,M=m-(f=(0|f)==(0|d)&g>>>0<(k=0)>>>0|d>>>0<f>>>0)|0,D=D-(m>>>0<f>>>0)|0,f=Bo(T,y,i,u),u=z,i=n>>>1,d=(_=Bo(m=(1&n)<<31|r>>>1,0,_,R))+f|0,f=z+u|0,f=d>>>0<_>>>0?f+1|0:f,u=Bo(o,w,C,0),f=z+f|0,f=(d=u+d|0)>>>0<u>>>0?f+1|0:f,u=d,d=f,f=(0|t)==(0|P)&h>>>0<A>>>0|t>>>0<P>>>0,b=t,t=t+u|0,u=f+d|0,t=(d=t)>>>0<b>>>0?u+1|0:u,f=Bo(o,l,N,0),h=z,r=(n=Bo(a,T,n>>>1,0))+f|0,f=z+h|0,f=r>>>0<n>>>0?f+1|0:f,r=(n=Bo(T,y,m,i))+r|0,f=z+f|0,h=t+(f=r=(n=Bo(v,j,C,I))+r|0)|0,C=M-(r=(n=0)+d|0)|0,f=D-((M>>>0<r>>>0)+(r>>>0<n>>>0?h+1|0:h)|0)|0,r=m,n=i,i=E-((g>>>0<k>>>0)+S|0)|0,h=g-k|0),t=i,(0|B)>=16384?(O|=2147418112,t=0,i=0):(0|B)<=-16383?(t=0,i=0):(u=l,s=(0|s)==(0|(d=t<<1|h>>>31))&(m=h<<1)>>>0>=a>>>0|d>>>0>s>>>0,(i=(t=(0|(i=(a=C)<<1|t>>>31))==(0|W)&(0|(d=f<<1|a>>>31))==(0|N)?s:(0|N)==(0|d)&i>>>0>=W>>>0|d>>>0>N>>>0)+o|0)>>>0<t>>>0&&(u=u+1|0),t=i,i=u,a=r,f=(n&=65535)|(h=B+16383<<16),F|=r=((0|l)==(0|u)&t>>>0<o>>>0|u>>>0<l>>>0)+r|0,O|=r>>>0<a>>>0?f+1|0:f)}return p[e>>2]=t,p[e+4>>2]=i,p[e+8>>2]=F,p[e+12>>2]=O,void(V=c+192|0)}p[e>>2]=0,p[e+4>>2]=0,t=0!=(r|a)|0!=(n|s),p[e+8>>2]=t?F:0,p[e+12>>2]=t?O:2147450880,V=c+192|0}function Os(e,t){var i,r,n,a=0,s=0,o=0,l=0,f=0,h=0;V=i=V-16|0,u(+t),n=-2147483648&(s=0|c(1)),l=(a=o=2147483647&s)+-1048576|0,(o=r=0|c(0))>>>0<0&&(l=l+1|0),2145386495==(0|l)&o>>>0<=4294967295|l>>>0<2145386495?(f=o<<28,s=(15&a)<<28|o>>>4,a=1006632960+(a>>>4)|0,a=s>>>0<0?a+1|0:a):2146435072==(0|a)&o>>>0>=0|a>>>0>2146435072?(f=r<<28,a=s>>>4,s=(15&s)<<28|r>>>4,a|=2147418112):a|o?(Ms(i,o,a,0,0,(a=1==(0|a)&o>>>0>=0|a>>>0>1?x(a):x(r)+32|0)+49|0),h=p[i>>2],f=p[i+4>>2],s=p[i+8>>2],a=65536^p[i+12>>2]|15372-a<<16):(s=0,a=0),p[e>>2]=h,p[e+4>>2]=f,p[e+8>>2]=0|s,p[e+12>>2]=a|n,V=i+16|0}function Is(e,t){var i,r,n,a=0,s=0,o=0;V=i=V-16|0,r=e,n=e,t?(Ms(i,s=(a=t>>31)+t^a,0,0,0,(a=x(s))+81|0),a=(65536^p[i+12>>2])+(16414-a<<16)|0,(s=0+p[i+8>>2]|0)>>>0<o>>>0&&(a=a+1|0),o=-2147483648&t|a,a=p[i+4>>2],t=p[i>>2]):t=0,p[n>>2]=t,p[r+4>>2]=a,p[e+8>>2]=s,p[e+12>>2]=o,V=i+16|0}function Ds(e,t){var i,r,n,a=0,s=0,o=0;V=i=V-16|0,r=e,n=e,t?(Ms(i,a=t,0,0,0,(t=x(t))+81|0),t=(65536^p[i+12>>2])+(16414-t<<16)|0,(a=0+p[i+8>>2]|0)>>>0<o>>>0&&(t=t+1|0),o=a,a=t,t=p[i+4>>2],s=p[i>>2]):(t=0,s=0),p[n>>2]=s,p[r+4>>2]=t,p[e+8>>2]=o,p[e+12>>2]=a,V=i+16|0}function Fs(e,t,i,r,n,a){var s=0,o=0,l=0,c=0;e:if(64&a)t=31&(i=a+-64|0),32<=(63&i)>>>0?(i=0,t=n>>>t):(i=n>>>t,t=((1<<t)-1&n)<<32-t|r>>>t),r=0,n=0;else{if(!a)break e;o=n,l=r,s=31&(c=64-a|0),32<=(63&c)>>>0?(o=l<<s,c=0):(o=(1<<s)-1&l>>>32-s|o<<s,c=l<<s),l=t,t=31&(s=a),32<=(63&s)>>>0?(s=0,t=i>>>t):(s=i>>>t,t=((1<<t)-1&i)<<32-t|l>>>t),t|=c,i=s|o,s=r,r=31&a,32<=(63&a)>>>0?(o=0,r=n>>>r):(o=n>>>r,r=((1<<r)-1&n)<<32-r|s>>>r),n=o}p[e>>2]=t,p[e+4>>2]=i,p[e+8>>2]=r,p[e+12>>2]=n}function Ns(e,t,i,r,n,a,s,o,l){var c,f,h,u=0,d=0,_=0,m=0,b=0,A=0,v=0,y=0,g=0,k=0,S=0,T=0,w=0,E=0,M=0,P=0,R=0,C=0,O=0,I=0,D=0,F=0,N=0,B=0,L=0,U=0,j=0,W=0,G=0,H=0,Y=0,X=0;V=c=V-96|0,g=(131071&(d=s))<<15|a>>>17,k=i,m=u=65535&l,T=o,P=(d=o)<<15|s>>>17,A=-2147483648&(n^l),O=(131071&(d=u))<<15|o>>>17,y=r,R=u=v=65535&n,v=0,f=l>>>16&32767;e:{if(!((h=n>>>16&32767)+-1>>>0<=32765&&(S=0,f+-1>>>0<32766))){if(d=r,!(!r&2147418112==(0|(b=w=2147483647&n))?!(t|i):2147418112==(0|b)&r>>>0<0|b>>>0<2147418112)){E=r,A=32768|n;break e}if(!(!(r=o)&2147418112==(0|(n=w=2147483647&l))?!(a|s):2147418112==(0|n)&r>>>0<0|n>>>0<2147418112)){E=o,A=32768|l,t=a,i=s;break e}if(!(t|d|2147418112^b|i)){if(!(r|a|n|s)){A=2147450880,t=0,i=0;break e}A|=2147418112,t=0,i=0;break e}if(!(r|a|2147418112^n|s)){if(r=t|d,n=i|b,t=0,i=0,!(r|n)){A=2147450880;break e}A|=2147418112;break e}if(!(t|d|i|b)){t=0,i=0;break e}if(!(r|a|n|s)){t=0,i=0;break e}65535==(0|b)&d>>>0<=4294967295|b>>>0<65535&&(d=t,l=(o=!(u|y))<<6,_=x(o?t:y)+32|0,Ms(c+80|0,d,i,y,u,(t=l+(32==(0|(t=x(o?i:u)))?_:t)|0)+-15|0),k=p[c+84>>2],y=p[c+88>>2],R=p[c+92>>2],_=16-t|0,t=p[c+80>>2]),S=_,65535==(0|n)&r>>>0>4294967295|n>>>0>65535||(r=(i=!(m|T))<<6,n=x(i?a:T)+32|0,o=i=r+(32==(0|(i=x(i?s:m)))?n:i)|0,Ms(c- -64|0,a,s,T,m,i+-15|0),i=a=p[c+76>>2],s=l=p[c+68>>2],P=(r=n=p[c+72>>2])<<15|s>>>17,g=(131071&(r=s))<<15|(a=p[c+64>>2])>>>17,O=(131071&i)<<15|n>>>17,S=16+(_-o|0)|0)}if(l=Bo(r=g,0,t,g=0),C=i=z,a=Bo(M=a<<15&-32768,0,b=k,0),_=z+i|0,_=(n=a+l|0)>>>0<a>>>0?_+1|0:_,i=n,a=0,s=Bo(M,I,t,g),u=z+i|0,k=n=a+s|0,s=u=n>>>0<s>>>0?u+1|0:u,X=(0|i)==(0|u)&n>>>0<a>>>0|u>>>0<i>>>0,W=Bo(r,D,b,0),B=z,w=y,a=Bo(M,I,y,0),m=z+B|0,m=(n=a+W|0)>>>0<a>>>0?m+1|0:m,G=n,o=Bo(P,0,t,g),a=z+m|0,L=n=n+o|0,T=a=n>>>0<o>>>0?a+1|0:a,o=a,u=(a=(0|_)==(0|C)&i>>>0<l>>>0|_>>>0<C>>>0)+o|0,C=i=(n=_)+L|0,n=u=i>>>0<n>>>0?u+1|0:u,o=i,H=Bo(r,D,y,0),U=z,i=M,M=v,a=Bo(i,I,F=65536|R,v),u=z+U|0,u=(i=a+H|0)>>>0<a>>>0?u+1|0:u,Y=i,d=Bo(b,0,P,0),v=u,a=u+z|0,a=(i=i+d|0)>>>0<d>>>0?a+1|0:a,j=i,i=Bo(N=2147483647&O|-2147483648,0,t,g),g=a,d=a+z|0,I=t=j+i|0,i=t>>>0<i>>>0?d+1|0:d,u=n+t|0,(t=(a=0)+o|0)>>>0<a>>>0&&(u=u+1|0),O=t,R=u,a=u,(o=t+X|0)>>>0<t>>>0&&(a=a+1|0),l=a,y=(S+(f+h|0)|0)-16383|0,a=Bo(w,0,P,0),t=z,_=0,d=Bo(r,D,F,M),u=z+t|0,u=(r=d+a|0)>>>0<d>>>0?u+1|0:u,S=r,d=r,u=(0|t)==(0|(r=u))&d>>>0<a>>>0|r>>>0<t>>>0,t=(a=Bo(N,0,b,0))+d|0,d=z+r|0,d=t>>>0<a>>>0?d+1|0:d,b=t,a=t,(a=u+(r=(0|r)==(0|(t=d))&a>>>0<S>>>0|t>>>0<r>>>0)|0)>>>0<r>>>0&&(_=1),d=a,a=_,D=d,u=0,(m=(d=(0|m)==(0|T)&L>>>0<G>>>0|T>>>0<m>>>0)+((0|m)==(0|B)&G>>>0<W>>>0|m>>>0<B>>>0)|0)>>>0<d>>>0&&(u=1),_=m,d=(r=t)+u|0,S=m=m+b|0,(d=D+(t=(0|t)==(0|(r=d=(u=m)>>>0<_>>>0?d+1|0:d))&u>>>0<b>>>0|r>>>0<t>>>0)|0)>>>0<t>>>0&&(a=a+1|0),t=d,d=Bo(N,0,F,M),u=z+a|0,u=(t=t+d|0)>>>0<d>>>0?u+1|0:u,_=t,m=Bo(N,0,w,0),a=z,b=Bo(P,0,F,M),d=z+a|0,d=(t=b+m|0)>>>0<b>>>0?d+1|0:d,b=t,d=(0|a)==(0|(t=d))&b>>>0<m>>>0|t>>>0<a>>>0,a=t+_|0,_=u+d|0,d=a>>>0<t>>>0?_+1|0:_,w=a,u=r+b|0,(t=(_=0)+S|0)>>>0<_>>>0&&(u=u+1|0),m=t,a=t,(a=w+(r=(0|r)==(0|(t=u))&a>>>0<S>>>0|t>>>0<r>>>0)|0)>>>0<r>>>0&&(d=d+1|0),b=a,u=0,(v=(a=(0|v)==(0|g)&j>>>0<Y>>>0|g>>>0<v>>>0)+((0|v)==(0|U)&Y>>>0<H>>>0|v>>>0<U>>>0)|0)>>>0<a>>>0&&(u=1),_=(a=v+((0|i)==(0|g)&I>>>0<j>>>0|i>>>0<g>>>0)|0)+(_=t)|0,_=(i=(r=i)+m|0)>>>0<r>>>0?_+1|0:_,v=i,r=i,(r=(t=(0|t)==(0|(i=_))&r>>>0<m>>>0|i>>>0<t>>>0)+b|0)>>>0<t>>>0&&(d=d+1|0),u=d,d=r,a=0,(n=(r=(0|n)==(0|R)&O>>>0<C>>>0|R>>>0<n>>>0)+((0|n)==(0|T)&C>>>0<L>>>0|n>>>0<T>>>0)|0)>>>0<r>>>0&&(a=1),_=(t=i)+a|0,(i=d+(t=(0|i)==(0|(n=_=(r=n+v|0)>>>0<n>>>0?_+1|0:_))&(t=r)>>>0<v>>>0|n>>>0<i>>>0)|0)>>>0<t>>>0&&(u=u+1|0),t=i,65536&(i=u)?y=y+1|0:(m=s>>>31,u=i<<1|t>>>31,t=t<<1|n>>>31,i=u,u=n<<1|r>>>31,r=r<<1|l>>>31,n=u,k=(d=k)<<1,s=u=s<<1|d>>>31,d=l<<1|o>>>31,o=o<<1|m,l=d),(0|y)>=32767)A|=2147418112,t=0,i=0;else{t:{if((0|y)<=0){if((a=1-y|0)>>>0<=127){Fs(c+16|0,k,s,o,l,a),Ms(c+32|0,r,n,t,i,d=y+127|0),Ms(c+48|0,k,s,o,l,d),Fs(c,r,n,t,i,a),k=0!=(p[c+48>>2]|p[c+56>>2])|0!=(p[c+52>>2]|p[c+60>>2])|p[c+32>>2]|p[c+16>>2],s=p[c+36>>2]|p[c+20>>2],o=p[c+40>>2]|p[c+24>>2],l=p[c+44>>2]|p[c+28>>2],r=p[c>>2],n=p[c+4>>2],i=p[c+12>>2],t=p[c+8>>2];break t}t=0,i=0;break e}i=65535&i|y<<16}E|=t,A|=i,(!o&-2147483648==(0|l)?!(s|k):(0|l)>-1||(0|l)>=-1&&!(o>>>0<=4294967295))?o|k|-2147483648^l|s?(t=r,i=n):(m=A,u=n,(i=(t=1&r)+r|0)>>>0<t>>>0&&(u=u+1|0),t=i,(n=(r=(0|n)==(0|(i=u))&t>>>0<r>>>0|i>>>0<n>>>0)+E|0)>>>0<r>>>0&&(m=m+1|0),E=n,A=m):(_=A,m=n,(t=r+1|0)>>>0<1&&(m=m+1|0),(n=(r=(0|n)==(0|(i=m))&t>>>0<r>>>0|i>>>0<n>>>0)+E|0)>>>0<r>>>0&&(_=_+1|0),E=n,A=_)}}p[e>>2]=t,p[e+4>>2]=i,p[e+8>>2]=E,p[e+12>>2]=A,V=c+96|0}function Bs(e,t,i,r,n){var a,s,o,l=0,c=0,f=0,h=0;a=n,s=n=0,c=Bo(a,n,f=i,i=0),n=z,o=c,c=c>>>0<0?n+1|0:n,h=t,r=Bo(l=r,n=0,t,0),i=(t=z)+(l=Bo(l,n,f,i))|0,t=z,f=t=i>>>0<l>>>0?t+1|0:t,l=t+o|0,t=c,c=t=l>>>0<f>>>0?t+1|0:t,t=Bo(h,0,a,s)+i|0,n=z,h=n=t>>>0<i>>>0?n+1|0:n,l=n+l|0,n=c,p[e+8>>2]=l,p[e+12>>2]=l>>>0<h>>>0?n+1|0:n,p[e>>2]=r,p[e+4>>2]=t}function Ls(e,t,i,r,n,a,s,o,l){var c;V=c=V-16|0,Es(c,t,i,r,n,a,s,o,-2147483648^l),r=p[c>>2],i=p[c+4>>2],t=p[c+12>>2],p[e+8>>2]=p[c+8>>2],p[e+12>>2]=t,p[e>>2]=r,p[e+4>>2]=i,V=c+16|0}function Us(e,t,i,r){var n,a,s,o=0,l=0,c=0;V=n=V-32|0,a=o=2147483647&r,o=o+-1006698496|0,i>>>0<0&&(o=o+1|0),s=l=i,l=o,o=a+-1140785152|0,(c=i)>>>0<0&&(o=o+1|0);e:if((0|o)==(0|l)&s>>>0<c>>>0|l>>>0<o>>>0){if(o=r<<4|i>>>28,i=i<<4|t>>>28,c=t&=268435455,134217728==(0|t)&e>>>0>=1|t>>>0>134217728){o=o+1073741824|0,(e=i+1|0)>>>0<1&&(o=o+1|0),l=e;break e}if(l=i,o=o-((i>>>0<0)+-1073741824|0)|0,e|134217728^c)break e;(e=l+(1&l)|0)>>>0<l>>>0&&(o=o+1|0),l=e}else(!c&2147418112==(0|a)?!(e|t):2147418112==(0|a)&c>>>0<0|a>>>0<2147418112)?(l=0,o=2146435072,1140785151==(0|a)&c>>>0>4294967295|a>>>0>1140785151||(o=0,(c=a>>>16)>>>0<15249||(Fs(n,e,t,i,o=65535&r|65536,15361-c|0),Ms(n+16|0,e,t,i,o,c+-15233|0),i=p[n+4>>2],e=p[n+8>>2],o=p[n+12>>2]<<4|e>>>28,l=e<<4|i>>>28,i=e=268435455&i,134217728==(0|e)&(t=p[n>>2]|0!=(p[n+16>>2]|p[n+24>>2])|0!=(p[n+20>>2]|p[n+28>>2]))>>>0>=1|e>>>0>134217728?((e=l+1|0)>>>0<1&&(o=o+1|0),l=e):t|134217728^i||((e=l+(1&l)|0)>>>0<l>>>0&&(o=o+1|0),l=e)))):(l=i<<4|t>>>28,o=524287&(o=r<<4|i>>>28)|2146959360);return V=n+32|0,f(0,0|l),f(1,-2147483648&r|o),+h()}function Vs(e){var t,i=0,r=0,n=0,a=0,s=0,o=0,l=0;V=t=V-16|0,p[t+12>>2]=e;e:if(e>>>0<=211)e=p[zs(17264,17456,t+12|0)>>2];else{n=y(a=(e>>>0)/210|0,210),p[t+8>>2]=e-n,s=zs(17456,17648,t+8|0)-17456>>2;t:{for(;;){e=p[17456+(s<<2)>>2]+n|0,n=5;i:{r:{n:{for(;;){if(47==(0|n))break n;if(l=(o=(r=(e>>>0)/((i=p[17264+(n<<2)>>2])>>>0)|0)>>>0<i>>>0)?e:l,n=n+1|0,i=o?1:(0|y(i,r))==(0|e)?7:0)break}if((n=i+-4|0)>>>0>3)break t;switch(n-1|0){case 0:case 1:break t;case 2:break r;default:break n}}for(n=211;;){if((i=(e>>>0)/(n>>>0)|0)>>>0<n>>>0)break i;if((0|y(i,n))==(0|e))break r;if((r=(e>>>0)/((i=n+10|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+12|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+16|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+18|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+22|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+28|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+30|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+36|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+40|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+42|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+46|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+52|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+58|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+60|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+66|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+70|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+72|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+78|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+82|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+88|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+96|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+100|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+102|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+106|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+108|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+112|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+120|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+126|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+130|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+136|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+138|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+142|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+148|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+150|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+156|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+162|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+166|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+168|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+172|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+178|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+180|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+186|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+190|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+192|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+196|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+198|0)>>>0)|0)>>>0<i>>>0)break i;if((0|y(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+208|0)>>>0)|0)>>>0<i>>>0)break i;if(n=n+210|0,(0|y(i,r))==(0|e))break}}s=(e=48==(0|(n=s+1|0)))?0:n,n=y(a=e+a|0,210);continue}break}p[t+12>>2]=e;break e}p[t+12>>2]=e,e=l}return V=t+16|0,e}function zs(e,t,i){return function(e,t,i){var r;return V=r=V-16|0,e=function(e,t,i){var r,n=0,a=0,s=0;V=r=V-16|0,t=t-e>>2;for(;t;)p[r+12>>2]=e,a=n=r+12|0,s=p[n>>2],n=t>>>1,p[a>>2]=s+(n<<2),js(p[r+12>>2],i)?(e=p[r+12>>2]+4|0,p[r+12>>2]=e,t=(-1^n)+t|0):t=n;return V=r+16|0,e}(e,t,i),V=r+16|0,e}(e,t,i)}function js(e,t){return b[e>>2]<b[t>>2]}function Ws(e,t,i){i&&Io(e,t,i)}function Gs(e,t){return function(e,t){var i,r;return V=i=V-16|0,r=js(e,t),V=i+16|0,r?t:e}(e,t)}function Hs(e,t,i,r){var n;return V=n=V-16|0,p[n+12>>2]=r,e=function(e,t,i,r){var n,a=0;V=n=V-160|0,Io(n+8|0,17648,144);e:{t:{if(t+-1>>>0>=2147483647){if(t)break t;t=1,e=n+159|0}if(p[n+52>>2]=e,p[n+28>>2]=e,t=t>>>0>(a=-2-e|0)>>>0?a:t,p[n+56>>2]=t,e=e+t|0,p[n+36>>2]=e,p[n+24>>2]=e,e=cs(n+8|0,i,r),!t)break e;t=p[n+28>>2],l[t-((0|t)==p[n+24>>2])|0]=0;break e}p[4681]=61,e=-1}return V=n+160|0,e}(e,t,i,r),V=n+16|0,e}function Ys(e){return Js(e)?p[e+4>>2]:_[e+11|0]}function Xs(e){return e=Js(e)?qs(e)+-1|0:10}function Zs(e,t){!function(e,t){var i;if((i=Ys(e))>>>0<t>>>0)return void function(e,t){var i,r=0,n=0,a=0;V=i=V-16|0,t&&(n=Xs(e),r=Ys(e),a=r+t|0,n-r>>>0<t>>>0&&function(e,t,i,r,n){var a,s=0,o=0;if(V=a=V-16|0,-17-t>>>0>=i>>>0)return s=Ks(e),2147483623>t>>>0?(p[a+8>>2]=t<<1,p[a+12>>2]=t+i,i=io(p[Gs(a+12|0,a+8|0)>>2])):i=-18,i=ro(o=i+1|0),n&&Ws(i,s,n),(r=r-n|0)&&Ws(i+n|0,n+s|0,r),10!=(0|t)&&Mo(s),no(e,i),ao(e,o),void(V=a+16|0);co(),E()}(e,n,a-n|0,r,r),n=r,r=Ks(e),n=n+r|0,t&&Do(n,0,t),so(e,a),l[i+15|0]=0,$s(r+a|0,i+15|0));V=i+16|0}(e,t-i|0);!function(e,t){var i,r=0;V=i=V-16|0;Js(e)?(r=p[e>>2],l[i+15|0]=0,$s(t+r|0,i+15|0),Gt(e,t)):(l[i+14|0]=0,$s(e+t|0,i+14|0),eo(e,t));V=i+16|0}(e,t)}(e,t)}function Qs(e){var t;for(t=e,e=0;3!=(0|e);)p[(e<<2)+t>>2]=0,e=e+1|0}function Js(e){return l[e+11|0]<0}function qs(e){return 2147483647&p[e+8>>2]}function Ks(e){return Js(e)?p[e>>2]:e}function $s(e,t){l[0|e]=_[0|t]}function eo(e,t){l[e+11|0]=t}function to(e,t){var i;i=p[t+4>>2],p[e>>2]=p[t>>2],p[e+4>>2]=i,p[e+8>>2]=p[t+8>>2],Qs(t)}function io(e){var t=0;return e=e>>>0>=11?11==(0|(e=(t=e+16&-16)+-1|0))?t:e:10}function ro(e){return 4294967295<e>>>0&&(Wt(17792),E()),oo(e)}function no(e,t){p[e>>2]=t}function ao(e,t){p[e+8>>2]=-2147483648|t}function so(e,t){Js(e)?Gt(e,t):eo(e,t)}function oo(e){var t=0,i=0;for(e=e||1;!(t=Eo(e))&&(i=p[4699]);)a[i]();return t}function lo(e){var t,i=0,r=0;V=t=V-16|0,l[t+15|0]=10;e:{if(!(i=p[e+16>>2])){if(Ka(e))break e;i=p[e+16>>2]}r=p[e+20>>2],10==l[e+75|0]|r>>>0>=i>>>0?a[p[e+36>>2]](e,t+15|0,1):(p[e+20>>2]=r+1,l[0|r]=10)}V=t+16|0}function co(){Wt(17860),E()}function fo(e,t){var i,r,n=0;return V=r=V-16|0,Dt(e),i=e,Js(t)?function(e,t,i){var r,n=0,a=0;if(V=r=V-16|0,4294967279>=i>>>0)return i>>>0<=10?(eo(e,i),n=e):(a=io(i)+1|0,n=ro(a),no(e,n),ao(e,a),Gt(e,i)),Ws(n,t,i),l[r+15|0]=0,$s(i+n|0,r+15|0),void(V=r+16|0);co(),E()}(e,p[t>>2],p[t+4>>2]):(p[i+8>>2]=p[t+8>>2],n=p[t+4>>2],p[i>>2]=p[t>>2],p[i+4>>2]=n),V=r+16|0,e}function ho(e){var t=0;Js(e)&&(t=p[e>>2],qs(e),Mo(t))}function uo(e,t){(0|e)!=(0|t)&&function(e,t,i){var r,n=0,a=0,s=0;V=r=V-16|0;(n=Xs(e))>>>0>=i>>>0?(a=Ks(e),s=a,n=i,i&&Fo(s,t,n),l[r+15|0]=0,$s(i+a|0,r+15|0),so(e,i)):(a=e,e=Ys(e),po(a,n,i-n|0,e,0,e,i,t));V=r+16|0}(e,Ks(t),Ys(t))}function po(e,t,i,r,n,a,s,o){var c,f=0,h=0;if(V=c=V-16|0,(-1^t)-17>>>0>=i>>>0)return f=Ks(e),2147483623>t>>>0?(p[c+8>>2]=t<<1,p[c+12>>2]=t+i,i=io(p[Gs(c+12|0,c+8|0)>>2])):i=-18,i=ro(h=i+1|0),n&&Ws(i,f,n),s&&Ws(i+n|0,o,s),(o=(r=r-a|0)-n|0)&&Ws((i+n|0)+s|0,(n+f|0)+a|0,o),10!=(0|t)&&Mo(f),no(e,i),ao(e,h),Gt(t=e,e=r+s|0),l[c+7|0]=0,$s(e+i|0,c+7|0),void(V=c+16|0);co(),E()}function _o(e,t,i){var r,n,a=0;V=n=V-16|0;e:if((a=Xs(e))-(r=Ys(e))>>>0>=i>>>0){if(!i)break e;Ws((a=Ks(e))+r|0,t,i),so(t=e,e=i+r|0),l[n+15|0]=0,$s(e+a|0,n+15|0)}else po(e,a,(i+r|0)-a|0,r,r,0,i,t);V=n+16|0}function mo(e){Dt(e),Qs(e),Zs(e,Xs(e))}function bo(e,t){var i;V=i=V-16|0,mo(i),function(e,t,i){var r,n,a=0,s=0,o=0;V=r=V-16|0,n=+i,a=Ys(t);for(;;){e:{if(s=Ks(t),v[r>>3]=n,o=t,(0|(s=Hs(s,a+1|0,17876,r)))>=0){if(s>>>0<=a>>>0)break e;a=s}else a=a<<1|1;Zs(o,a);continue}break}Zs(t,s),to(e,t),V=r+16|0}(e,i,t),ho(i),V=i+16|0}function Ao(){Wt(17879),E()}function vo(){F(),E()}function yo(){var e=0;V=e=V-16|0,p[e+12>>2]=0,cs(e=p[4290],17886,0),function(e){var t=0;if(p[e+76>>2]<0)return 10==l[e+75|0]||(t=p[e+20>>2])>>>0>=b[e+16>>2]?void lo(e):(p[e+20>>2]=t+1,void(l[0|t]=10));10==l[e+75|0]||(t=p[e+20>>2])>>>0>=b[e+16>>2]?lo(e):(p[e+20>>2]=t+1,l[0|t]=10)}(e),F(),E()}function go(e){return p[(e|=0)>>2]=17984,function(e){var t,i;t=p[e>>2]+-12|0,e=p[(i=t+8|0)>>2]+-1|0,p[i>>2]=e;(0|e)>-1||Mo(t)}(e+4|0),0|e}function ko(e,t,i){return i?!function(e,t){var i=0,r=0;e:if(!(!(i=_[0|e])|(0|i)!=(0|(r=_[0|t]))))for(;;){if(r=_[t+1|0],!(i=_[e+1|0]))break e;if(t=t+1|0,e=e+1|0,(0|i)!=(0|r))break}return i-r|0}(p[e+4>>2],p[t+4>>2]):(0|e)==(0|t)}function xo(e,t,i){var r,n,s=0;return V=r=V+-64|0,s=p[e>>2],n=p[s+-8>>2],s=p[s+-4>>2],p[r+20>>2]=0,p[r+16>>2]=t,p[r+12>>2]=e,p[r+8>>2]=i,t=0,Do(r+24|0,0,39),e=e+n|0,ko(s,i,0)?(p[r+56>>2]=1,a[p[p[s>>2]+20>>2]](s,r+8|0,e,e,1,0),t=1==p[r+32>>2]?e:0):(a[p[p[s>>2]+24>>2]](s,r+8|0,e,1,0),(e=p[r+44>>2])>>>0>1||(e-1?t=1==p[r+48>>2]&&1==p[r+36>>2]&&1==p[r+40>>2]?p[r+28>>2]:0:1!=p[r+32>>2]&&p[r+48>>2]|1!=p[r+36>>2]|1!=p[r+40>>2]||(t=p[r+24>>2]))),V=r- -64|0,t}function So(e,t,i){var r;if(!(r=p[e+16>>2]))return p[e+36>>2]=1,p[e+24>>2]=i,void(p[e+16>>2]=t);e:{if((0|t)==(0|r)){if(2!=p[e+24>>2])break e;return void(p[e+24>>2]=i)}l[e+54|0]=1,p[e+24>>2]=2,p[e+36>>2]=p[e+36>>2]+1}}function To(e,t,i,r){l[e+53|0]=1;e:if(p[e+4>>2]==(0|i)){if(l[e+52|0]=1,!(i=p[e+16>>2])){if(p[e+36>>2]=1,p[e+24>>2]=r,p[e+16>>2]=t,1!=(0|r)|1!=p[e+48>>2])break e;return void(l[e+54|0]=1)}if((0|t)==(0|i)){if(2==(0|(i=p[e+24>>2]))&&(p[e+24>>2]=r,i=r),1!=p[e+48>>2]|1!=(0|i))break e;return void(l[e+54|0]=1)}l[e+54|0]=1,p[e+36>>2]=p[e+36>>2]+1}}function wo(e,t,i){1==p[e+28>>2]|p[e+4>>2]!=(0|t)||(p[e+28>>2]=i)}function Eo(e){var t,i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0;V=t=V-16|0;e:{t:{i:{r:{n:{a:{s:{o:{l:{c:{f:{if((e|=0)>>>0<=244){if(3&(e=(s=p[4700])>>>(i=(l=e>>>0<11?16:e+11&-8)>>>3))){e=(a=p[(i=(n=i+(1&(-1^e))|0)<<3)+18848>>2])+8|0,(0|(r=p[a+8>>2]))!=(0|(i=i+18840|0))?(p[r+12>>2]=i,p[i+8>>2]=r):(u=18800,d=zo(-2,n)&s,p[u>>2]=d),i=n<<3,p[a+4>>2]=3|i,p[(i=i+a|0)+4>>2]=1|p[i+4>>2];break e}if(l>>>0<=(h=p[4702])>>>0)break f;if(e){r=e=(i=(0-(e=(r=e<<i)&(0-(e=2<<i)|e))&e)-1|0)>>>12&16,r|=e=(i>>>=e)>>>5&8,r|=e=(i>>>=e)>>>2&4,o=p[(e=(r=((r|=e=(i>>>=e)>>>1&2)|(e=(i>>>=e)>>>1&1))+(i>>>e)|0)<<3)+18848>>2],(0|(i=p[o+8>>2]))!=(0|(e=e+18840|0))?(p[i+12>>2]=e,p[e+8>>2]=i):(s=zo(-2,r)&s,p[4700]=s),e=o+8|0,p[o+4>>2]=3|l,a=(i=r<<3)-l|0,p[(n=o+l|0)+4>>2]=1|a,p[i+o>>2]=a,h&&(r=18840+((i=h>>>3)<<3)|0,l=p[4705],(i=1<<i)&s?i=p[r+8>>2]:(p[4700]=i|s,i=r),p[r+8>>2]=l,p[i+12>>2]=l,p[l+12>>2]=r,p[l+8>>2]=i),p[4705]=n,p[4702]=a;break e}if(!(c=p[4701]))break f;for(r=e=(i=(c&0-c)-1|0)>>>12&16,r|=e=(i>>>=e)>>>5&8,r|=e=(i>>>=e)>>>2&4,i=p[19104+(((r|=e=(i>>>=e)>>>1&2)|(e=(i>>>=e)>>>1&1))+(i>>>e)<<2)>>2],n=(-8&p[i+4>>2])-l|0,r=i;(e=p[r+16>>2])||(e=p[r+20>>2]);)n=(a=(r=(-8&p[e+4>>2])-l|0)>>>0<n>>>0)?r:n,i=a?e:i,r=e;if(f=p[i+24>>2],(0|(a=p[i+12>>2]))!=(0|i)){e=p[i+8>>2],p[e+12>>2]=a,p[a+8>>2]=e;break t}if(!(e=p[(r=i+20|0)>>2])){if(!(e=p[i+16>>2]))break c;r=i+16|0}for(;o=r,a=e,(e=p[(r=e+20|0)>>2])||(r=a+16|0,e=p[a+16>>2]););p[o>>2]=0;break t}if(l=-1,!(e>>>0>4294967231)&&(l=-8&(e=e+11|0),c=p[4701])){o=0,(e>>>=8)&&(o=31,l>>>0>16777215||(e<<=i=e+1048320>>>16&8,o=28+((e=((e<<=n=e+520192>>>16&4)<<(r=e+245760>>>16&2)>>>15)-(r|i|n)|0)<<1|l>>>e+21&1)|0)),r=0-l|0;h:{u:{if(n=p[19104+(o<<2)>>2])for(i=l<<(31==(0|o)?0:25-(o>>>1)|0),e=0;;){if(!((s=(-8&p[n+4>>2])-l|0)>>>0>=r>>>0)&&(a=n,!(r=s))){r=0,e=n;break u}if(s=p[n+20>>2],n=p[16+((i>>>29&4)+n|0)>>2],e=s?(0|s)==(0|n)?e:s:e,i<<=0!=(0|n),!n)break}else e=0;if(!(e|a)){if(!(e=(0-(e=2<<o)|e)&c))break f;n=e=(i=(e&0-e)-1|0)>>>12&16,n|=e=(i>>>=e)>>>5&8,n|=e=(i>>>=e)>>>2&4,e=p[19104+(((n|=e=(i>>>=e)>>>1&2)|(e=(i>>>=e)>>>1&1))+(i>>>e)<<2)>>2]}if(!e)break h}for(;r=(n=(i=(-8&p[e+4>>2])-l|0)>>>0<r>>>0)?i:r,a=n?e:a,e=(i=p[e+16>>2])||p[e+20>>2];);}if(!(!a|r>>>0>=p[4702]-l>>>0)){if(o=p[a+24>>2],(0|a)!=(0|(i=p[a+12>>2]))){e=p[a+8>>2],p[e+12>>2]=i,p[i+8>>2]=e;break i}if(!(e=p[(n=a+20|0)>>2])){if(!(e=p[a+16>>2]))break l;n=a+16|0}for(;s=n,i=e,(e=p[(n=e+20|0)>>2])||(n=i+16|0,e=p[i+16>>2]););p[s>>2]=0;break i}}}if((r=p[4702])>>>0>=l>>>0){n=p[4705],(i=r-l|0)>>>0>=16?(p[4702]=i,e=n+l|0,p[4705]=e,p[e+4>>2]=1|i,p[r+n>>2]=i,p[n+4>>2]=3|l):(p[4705]=0,p[4702]=0,p[n+4>>2]=3|r,p[(e=r+n|0)+4>>2]=1|p[e+4>>2]),e=n+8|0;break e}if((f=p[4703])>>>0>l>>>0){i=f-l|0,p[4703]=i,e=(r=p[4706])+l|0,p[4706]=e,p[e+4>>2]=1|i,p[r+4>>2]=3|l,e=r+8|0;break e}if(e=0,i=c=l+47|0,p[4818]?r=p[4820]:(p[4821]=-1,p[4822]=-1,p[4819]=4096,p[4820]=4096,p[4818]=t+12&-16^1431655768,p[4823]=0,p[4811]=0,r=4096),(r=(o=i+r|0)&(s=0-r|0))>>>0<=l>>>0)break e;if((a=p[4810])&&(i=(n=p[4808])+r|0)>>>0<=n>>>0|i>>>0>a>>>0)break e;if(4&_[19244])break a;f:{h:{if(n=p[4706])for(e=19248;;){if((i=p[e>>2])+p[e+4>>2]>>>0>n>>>0&&i>>>0<=n>>>0)break h;if(!(e=p[e+8>>2]))break}if(-1==(0|(i=Po(0))))break s;if(s=r,(e=(n=p[4819])+-1|0)&i&&(s=(r-i|0)+(e+i&0-n)|0),s>>>0<=l>>>0|s>>>0>2147483646)break s;if((a=p[4810])&&(e=(n=p[4808])+s|0)>>>0<=n>>>0|e>>>0>a>>>0)break s;if((0|i)!=(0|(e=Po(s))))break f;break n}if((s&=o-f)>>>0>2147483646)break s;if((0|(i=Po(s)))==(p[e>>2]+p[e+4>>2]|0))break o;e=i}if(i=e,!(l+48>>>0<=s>>>0|s>>>0>2147483646|-1==(0|e))){if((e=(e=p[4820])+(c-s|0)&0-e)>>>0>2147483646)break n;if(-1!=(0|Po(e))){s=e+s|0;break n}Po(0-s|0);break s}if(-1!=(0|i))break n;break s}a=0;break t}i=0;break i}if(-1!=(0|i))break n}p[4811]=4|p[4811]}if(r>>>0>2147483646)break r;if((i=Po(r))>>>0>=(e=Po(0))>>>0|-1==(0|i)|-1==(0|e))break r;if((s=e-i|0)>>>0<=l+40>>>0)break r}e=p[4808]+s|0,p[4808]=e,e>>>0>b[4809]&&(p[4809]=e);n:{a:{s:{if(n=p[4706]){for(e=19248;;){if(((a=p[e>>2])+(r=p[e+4>>2])|0)==(0|i))break s;if(!(e=p[e+8>>2]))break}break a}for(i>>>0>=(e=p[4704])>>>0&&e||(p[4704]=i),e=0,p[4813]=s,p[4812]=i,p[4708]=-1,p[4709]=p[4818],p[4815]=0;r=(n=e<<3)+18840|0,p[n+18848>>2]=r,p[n+18852>>2]=r,32!=(0|(e=e+1|0)););r=(n=s+-40|0)-(e=i+8&7?-8-i&7:0)|0,p[4703]=r,e=e+i|0,p[4706]=e,p[e+4>>2]=1|r,p[4+(i+n|0)>>2]=40,p[4707]=p[4822];break n}if(!(8&_[e+12|0]|i>>>0<=n>>>0|a>>>0>n>>>0)){p[e+4>>2]=r+s,r=(e=n+8&7?-8-n&7:0)+n|0,p[4706]=r,e=(i=p[4703]+s|0)-e|0,p[4703]=e,p[r+4>>2]=1|e,p[4+(i+n|0)>>2]=40,p[4707]=p[4822];break n}}i>>>0<(a=p[4704])>>>0&&(p[4704]=i,a=0),r=i+s|0,e=19248;a:{s:{o:{l:{c:{f:{for(;;){if((0|r)!=p[e>>2]){if(e=p[e+8>>2])continue;break f}break}if(!(8&_[e+12|0]))break c}for(e=19248;;){if((r=p[e>>2])>>>0<=n>>>0&&(o=r+p[e+4>>2]|0)>>>0>n>>>0)break l;e=p[e+8>>2]}}if(p[e>>2]=i,p[e+4>>2]=p[e+4>>2]+s,p[(f=(i+8&7?-8-i&7:0)+i|0)+4>>2]=3|l,e=((i=r+(r+8&7?-8-r&7:0)|0)-f|0)-l|0,o=l+f|0,(0|i)==(0|n)){p[4706]=o,e=p[4703]+e|0,p[4703]=e,p[o+4>>2]=1|e;break s}if(p[4705]==(0|i)){p[4705]=o,e=p[4702]+e|0,p[4702]=e,p[o+4>>2]=1|e,p[e+o>>2]=e;break s}if(1==(3&(r=p[i+4>>2]))){c=-8&r;c:if(r>>>0<=255){if(a=p[i+8>>2],r>>>=3,(0|(n=p[i+12>>2]))==(0|a)){u=18800,d=p[4700]&zo(-2,r),p[u>>2]=d;break c}p[a+12>>2]=n,p[n+8>>2]=a}else{if(h=p[i+24>>2],(0|(s=p[i+12>>2]))==(0|i))if((l=p[(n=i+20|0)>>2])||(l=p[(n=i+16|0)>>2])){for(;r=n,(l=p[(n=(s=l)+20|0)>>2])||(n=s+16|0,l=p[s+16>>2]););p[r>>2]=0}else s=0;else r=p[i+8>>2],p[r+12>>2]=s,p[s+8>>2]=r;if(h){n=p[i+28>>2];f:{if(p[(r=19104+(n<<2)|0)>>2]==(0|i)){if(p[r>>2]=s,s)break f;u=18804,d=p[4701]&zo(-2,n),p[u>>2]=d;break c}if(p[h+(p[h+16>>2]==(0|i)?16:20)>>2]=s,!s)break c}p[s+24>>2]=h,(r=p[i+16>>2])&&(p[s+16>>2]=r,p[r+24>>2]=s),(r=p[i+20>>2])&&(p[s+20>>2]=r,p[r+24>>2]=s)}}i=i+c|0,e=e+c|0}if(p[i+4>>2]=-2&p[i+4>>2],p[o+4>>2]=1|e,p[e+o>>2]=e,e>>>0<=255){i=18840+((e>>>=3)<<3)|0,(r=p[4700])&(e=1<<e)?e=p[i+8>>2]:(p[4700]=e|r,e=i),p[i+8>>2]=o,p[e+12>>2]=o,p[o+12>>2]=i,p[o+8>>2]=e;break s}if(r=0,(n=e>>>8)&&(r=31,e>>>0>16777215||(r=n,r<<=n=n+1048320>>>16&8,r=28+((r=((r<<=s=r+520192>>>16&4)<<(a=r+245760>>>16&2)>>>15)-(a|n|s)|0)<<1|e>>>r+21&1)|0)),p[(i=o)+28>>2]=r,p[o+16>>2]=0,p[o+20>>2]=0,a=19104+(r<<2)|0,(n=p[4701])&(i=1<<r)){for(n=e<<(31==(0|r)?0:25-(r>>>1)|0),i=p[a>>2];;){if(r=i,(-8&p[i+4>>2])==(0|e))break o;if(i=n>>>29,n<<=1,!(i=p[(a=16+(r+(4&i)|0)|0)>>2]))break}p[a>>2]=o,p[o+24>>2]=r}else p[4701]=i|n,p[a>>2]=o,p[o+24>>2]=a;p[o+12>>2]=o,p[o+8>>2]=o;break s}for(r=(a=s+-40|0)-(e=i+8&7?-8-i&7:0)|0,p[4703]=r,e=e+i|0,p[4706]=e,p[e+4>>2]=1|r,p[4+(i+a|0)>>2]=40,p[4707]=p[4822],p[(r=(e=(o+(o+-39&7?39-o&7:0)|0)-47|0)>>>0<n+16>>>0?n:e)+4>>2]=27,e=p[4815],p[r+16>>2]=p[4814],p[r+20>>2]=e,e=p[4813],p[r+8>>2]=p[4812],p[r+12>>2]=e,p[4814]=r+8,p[4813]=s,p[4812]=i,p[4815]=0,e=r+24|0;p[e+4>>2]=7,i=e+8|0,e=e+4|0,i>>>0<o>>>0;);if((0|r)==(0|n))break n;if(p[r+4>>2]=-2&p[r+4>>2],o=r-n|0,p[n+4>>2]=1|o,p[r>>2]=o,o>>>0<=255){i=18840+((e=o>>>3)<<3)|0,(r=p[4700])&(e=1<<e)?e=p[i+8>>2]:(p[4700]=e|r,e=i),p[i+8>>2]=n,p[e+12>>2]=n,p[n+12>>2]=i,p[n+8>>2]=e;break n}if(p[n+16>>2]=0,p[n+20>>2]=0,i=0,(r=o>>>8)&&(i=31,o>>>0>16777215||(i=r,i<<=r=r+1048320>>>16&8,i=28+((i=((i<<=s=i+520192>>>16&4)<<(a=i+245760>>>16&2)>>>15)-(a|r|s)|0)<<1|o>>>i+21&1)|0)),p[(e=n)+28>>2]=i,a=19104+(i<<2)|0,(r=p[4701])&(e=1<<i)){for(e=o<<(31==(0|i)?0:25-(i>>>1)|0),i=p[a>>2];;){if(r=i,(0|o)==(-8&p[i+4>>2]))break a;if(i=e>>>29,e<<=1,!(i=p[(a=16+(r+(4&i)|0)|0)>>2]))break}p[a>>2]=n,p[n+24>>2]=r}else p[4701]=e|r,p[a>>2]=n,p[n+24>>2]=a;p[n+12>>2]=n,p[n+8>>2]=n;break n}e=p[r+8>>2],p[e+12>>2]=o,p[r+8>>2]=o,p[o+24>>2]=0,p[o+12>>2]=r,p[o+8>>2]=e}e=f+8|0;break e}e=p[r+8>>2],p[e+12>>2]=n,p[r+8>>2]=n,p[n+24>>2]=0,p[n+12>>2]=r,p[n+8>>2]=e}if(!((e=p[4703])>>>0<=l>>>0)){i=e-l|0,p[4703]=i,e=(r=p[4706])+l|0,p[4706]=e,p[e+4>>2]=1|i,p[r+4>>2]=3|l,e=r+8|0;break e}}p[4681]=48,e=0;break e}i:if(o){n=p[a+28>>2];r:{if(p[(e=19104+(n<<2)|0)>>2]==(0|a)){if(p[e>>2]=i,i)break r;c=zo(-2,n)&c,p[4701]=c;break i}if(p[o+(p[o+16>>2]==(0|a)?16:20)>>2]=i,!i)break i}p[i+24>>2]=o,(e=p[a+16>>2])&&(p[i+16>>2]=e,p[e+24>>2]=i),(e=p[a+20>>2])&&(p[i+20>>2]=e,p[e+24>>2]=i)}i:if(r>>>0<=15)e=r+l|0,p[a+4>>2]=3|e,p[(e=e+a|0)+4>>2]=1|p[e+4>>2];else if(p[a+4>>2]=3|l,p[(n=a+l|0)+4>>2]=1|r,p[r+n>>2]=r,r>>>0<=255)i=18840+((e=r>>>3)<<3)|0,(r=p[4700])&(e=1<<e)?e=p[i+8>>2]:(p[4700]=e|r,e=i),p[i+8>>2]=n,p[e+12>>2]=n,p[n+12>>2]=i,p[n+8>>2]=e;else{i=0,(s=r>>>8)&&(i=31,r>>>0>16777215||(i=s,i<<=s=s+1048320>>>16&8,i=28+((i=((i<<=o=i+520192>>>16&4)<<(l=i+245760>>>16&2)>>>15)-(l|s|o)|0)<<1|r>>>i+21&1)|0)),p[(e=n)+28>>2]=i,p[n+16>>2]=0,p[n+20>>2]=0,s=19104+(i<<2)|0;r:{if((e=1<<i)&c){for(e=r<<(31==(0|i)?0:25-(i>>>1)|0),l=p[s>>2];;){if((-8&p[(i=l)+4>>2])==(0|r))break r;if(s=e>>>29,e<<=1,!(l=p[(s=16+(i+(4&s)|0)|0)>>2]))break}p[s>>2]=n,p[n+24>>2]=i}else p[4701]=e|c,p[s>>2]=n,p[n+24>>2]=s;p[n+12>>2]=n,p[n+8>>2]=n;break i}e=p[i+8>>2],p[e+12>>2]=n,p[i+8>>2]=n,p[n+24>>2]=0,p[n+12>>2]=i,p[n+8>>2]=e}e=a+8|0;break e}t:if(f){r=p[i+28>>2];i:{if(p[(e=19104+(r<<2)|0)>>2]==(0|i)){if(p[e>>2]=a,a)break i;u=18804,d=zo(-2,r)&c,p[u>>2]=d;break t}if(p[(p[f+16>>2]==(0|i)?16:20)+f>>2]=a,!a)break t}p[a+24>>2]=f,(e=p[i+16>>2])&&(p[a+16>>2]=e,p[e+24>>2]=a),(e=p[i+20>>2])&&(p[a+20>>2]=e,p[e+24>>2]=a)}n>>>0<=15?(e=n+l|0,p[i+4>>2]=3|e,p[(e=e+i|0)+4>>2]=1|p[e+4>>2]):(p[i+4>>2]=3|l,p[(a=i+l|0)+4>>2]=1|n,p[n+a>>2]=n,h&&(r=18840+((e=h>>>3)<<3)|0,l=p[4705],(e=1<<e)&s?e=p[r+8>>2]:(p[4700]=e|s,e=r),p[r+8>>2]=l,p[e+12>>2]=l,p[l+12>>2]=r,p[l+8>>2]=e),p[4705]=a,p[4702]=n),e=i+8|0}return V=t+16|0,0|e}function Mo(e){var t=0,i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0;e:if(e|=0){a=(r=e+-8|0)+(e=-8&(i=p[e+-4>>2]))|0;t:if(!(1&i)){if(!(3&i))break e;if((r=r-(i=p[r>>2])|0)>>>0<b[4704])break e;if(e=e+i|0,p[4705]==(0|r)){if(3==(3&(i=p[a+4>>2])))return p[4702]=e,p[a+4>>2]=-2&i,p[r+4>>2]=1|e,void(p[e+r>>2]=e)}else{if(i>>>0<=255){if(n=p[r+8>>2],i>>>=3,(0|(t=p[r+12>>2]))==(0|n)){l=18800,c=p[4700]&zo(-2,i),p[l>>2]=c;break t}p[n+12>>2]=t,p[t+8>>2]=n;break t}if(o=p[r+24>>2],(0|(i=p[r+12>>2]))==(0|r))if((t=p[(n=r+20|0)>>2])||(t=p[(n=r+16|0)>>2])){for(;s=n,(t=p[(n=(i=t)+20|0)>>2])||(n=i+16|0,t=p[i+16>>2]););p[s>>2]=0}else i=0;else t=p[r+8>>2],p[t+12>>2]=i,p[i+8>>2]=t;if(!o)break t;n=p[r+28>>2];i:{if(p[(t=19104+(n<<2)|0)>>2]==(0|r)){if(p[t>>2]=i,i)break i;l=18804,c=p[4701]&zo(-2,n),p[l>>2]=c;break t}if(p[o+(p[o+16>>2]==(0|r)?16:20)>>2]=i,!i)break t}if(p[i+24>>2]=o,(t=p[r+16>>2])&&(p[i+16>>2]=t,p[t+24>>2]=i),!(t=p[r+20>>2]))break t;p[i+20>>2]=t,p[t+24>>2]=i}}if(!(a>>>0<=r>>>0)&&1&(i=p[a+4>>2])){t:{if(!(2&i)){if((0|a)==p[4706]){if(p[4706]=r,e=p[4703]+e|0,p[4703]=e,p[r+4>>2]=1|e,p[4705]!=(0|r))break e;return p[4702]=0,void(p[4705]=0)}if((0|a)==p[4705])return p[4705]=r,e=p[4702]+e|0,p[4702]=e,p[r+4>>2]=1|e,void(p[e+r>>2]=e);e=(-8&i)+e|0;i:if(i>>>0<=255){if(i>>>=3,(0|(t=p[a+8>>2]))==(0|(n=p[a+12>>2]))){l=18800,c=p[4700]&zo(-2,i),p[l>>2]=c;break i}p[t+12>>2]=n,p[n+8>>2]=t}else{if(o=p[a+24>>2],(0|a)==(0|(i=p[a+12>>2])))if((t=p[(n=a+20|0)>>2])||(t=p[(n=a+16|0)>>2])){for(;s=n,(t=p[(n=(i=t)+20|0)>>2])||(n=i+16|0,t=p[i+16>>2]););p[s>>2]=0}else i=0;else t=p[a+8>>2],p[t+12>>2]=i,p[i+8>>2]=t;if(o){n=p[a+28>>2];r:{if((0|a)==p[(t=19104+(n<<2)|0)>>2]){if(p[t>>2]=i,i)break r;l=18804,c=p[4701]&zo(-2,n),p[l>>2]=c;break i}if(p[o+((0|a)==p[o+16>>2]?16:20)>>2]=i,!i)break i}p[i+24>>2]=o,(t=p[a+16>>2])&&(p[i+16>>2]=t,p[t+24>>2]=i),(t=p[a+20>>2])&&(p[i+20>>2]=t,p[t+24>>2]=i)}}if(p[r+4>>2]=1|e,p[e+r>>2]=e,p[4705]!=(0|r))break t;return void(p[4702]=e)}p[a+4>>2]=-2&i,p[r+4>>2]=1|e,p[e+r>>2]=e}if(e>>>0<=255)return i=18840+((e>>>=3)<<3)|0,(t=p[4700])&(e=1<<e)?e=p[i+8>>2]:(p[4700]=e|t,e=i),p[i+8>>2]=r,p[e+12>>2]=r,p[r+12>>2]=i,void(p[r+8>>2]=e);p[r+16>>2]=0,p[r+20>>2]=0,t=0,(n=e>>>8)&&(t=31,e>>>0>16777215||(t=n,t<<=n=n+1048320>>>16&8,t=28+((t=((t<<=o=t+520192>>>16&4)<<(s=t+245760>>>16&2)>>>15)-(s|n|o)|0)<<1|e>>>t+21&1)|0)),p[(i=r)+28>>2]=t,s=19104+(t<<2)|0;t:if((n=p[4701])&(i=1<<t)){n=e<<(31==(0|t)?0:25-(t>>>1)|0),i=p[s>>2];i:{for(;;){if(t=i,(-8&p[i+4>>2])==(0|e))break i;if(i=n>>>29,n<<=1,!(i=p[(s=16+(t+(4&i)|0)|0)>>2]))break}p[s>>2]=r,p[r+12>>2]=r,p[r+24>>2]=t,p[r+8>>2]=r;break t}e=p[t+8>>2],p[e+12>>2]=r,p[t+8>>2]=r,p[r+24>>2]=0,p[r+12>>2]=t,p[r+8>>2]=e}else p[4701]=i|n,p[s>>2]=r,p[r+12>>2]=r,p[r+24>>2]=s,p[r+8>>2]=r;if(e=p[4708]+-1|0,p[4708]=e,!e){for(r=19256;r=(e=p[r>>2])+8|0,e;);p[4708]=-1}}}}function Po(e){var t;return(0|(e=(t=p[4828])+e|0))<=-1?(p[4681]=48,-1):e>>>0<=Wo()<<16>>>0||N(0|e)?(p[4828]=e,t):(p[4681]=48,-1)}function Ro(e,t,i,r,n,a,s,o,l){var c,f=0,h=0,u=0,d=0,_=0,m=0,b=0,A=0,v=0,y=0,g=0,k=0;V=c=V-128|0;e:if(Ps(a,s,o,l,0,0,0,0)&&(h=function(e,t,i,r){var n,a=0;n=65535&r;t:{if(32767!=(0|(r=r>>>16&32767))){if(a=4,r)break t;return e|i|t|n?3:2}a=!(e|i|t|n)}return a}(a,s,o,l),32767!=(0|(_=32767&(y=n>>>16)))&&h))if(d=f=65535&n|_<<16,m=o,(0|Ps(t,i,u=r,f,a,s,o,h=65535&l|(v=l>>>16&32767)<<16))<=0){if(Ps(t,i,u,d,a,s,m,h)){o=t,l=i;break e}Ns(c+112|0,t,i,r,n,0,0,0,0),r=p[c+120>>2],n=p[c+124>>2],o=p[c+112>>2],l=p[c+116>>2]}else{if(_?(l=i,o=t):(Ns(c+96|0,t,i,u,d,0,0,0,1081540608),d=o=p[c+108>>2],u=p[c+104>>2],_=(o>>>16)-120|0,l=p[c+100>>2],o=p[c+96>>2]),v||(Ns(c+80|0,a,s,m,h,0,0,0,1081540608),h=a=p[c+92>>2],m=p[c+88>>2],v=(h>>>16)-120|0,s=p[c+84>>2],a=p[c+80>>2]),k=m,g=65535&h|65536,b=(m=u-(f=m)|0)-(h=(0|s)==(0|l)&o>>>0<a>>>0|l>>>0<s>>>0)|0,A=(0|(f=((d=65535&d|65536)-(g+(u>>>0<f>>>0)|0)|0)-(m>>>0<h>>>0)|0))>-1?1:(0|f)>=-1?b>>>0<=4294967295?0:1:0,m=o-a|0,h=l-((o>>>0<a>>>0)+s|0)|0,(0|_)>(0|v)){for(;;){if(1&A){if(!(m|b|f|h)){Ns(c+32|0,t,i,r,n,0,0,0,0),r=p[c+40>>2],n=p[c+44>>2],o=p[c+32>>2],l=p[c+36>>2];break e}b=(o=b)<<1,f=A=f<<1|o>>>31,A=0,o=h>>>31}else f=0,h=l,b=l>>>31,m=o,A=d<<1|(o=u)>>>31,o<<=1;if(f=(f=(d=f|A)-(((l=u=o|b)>>>0<(o=k)>>>0)+g|0)|0)-((b=l-o|0)>>>0<(h=(0|s)==(0|(l=A=h<<1|(o=m)>>>31))&(o<<=1)>>>0<a>>>0|l>>>0<s>>>0)>>>0)|0,b=b-h|0,A=(0|f)>-1?1:(0|f)>=-1?b>>>0<=4294967295?0:1:0,m=o-a|0,h=l-((o>>>0<a>>>0)+s|0)|0,!((0|(_=_+-1|0))>(0|v)))break}_=v}if(!A||(d=f,(o=m)|(u=b)|(l=h)|f)){if(65535==(0|d)&u>>>0<=4294967295|d>>>0<65535)for(;r=l>>>31,t=0,_=_+-1|0,f=l<<1|o>>>31,o<<=1,l=f,d=t|=A=d<<1|u>>>31,65536==(0|t)&(u=u<<1|r)>>>0<0|t>>>0<65536;);t=32768&y,(0|_)<=0?(Ns(c- -64|0,o,l,u,65535&d|(t|_+120)<<16,0,0,0,1065811968),r=p[c+72>>2],n=p[c+76>>2],o=p[c+64>>2],l=p[c+68>>2]):(r=u,n=65535&d|(t|_)<<16)}else Ns(c+48|0,t,i,r,n,0,0,0,0),r=p[c+56>>2],n=p[c+60>>2],o=p[c+48>>2],l=p[c+52>>2]}else Ns(c+16|0,t,i,r,n,a,s,o,l),Cs(c,n=p[c+16>>2],r=p[c+20>>2],i=p[c+24>>2],t=p[c+28>>2],n,r,i,t),r=p[c+8>>2],n=p[c+12>>2],o=p[c>>2],l=p[c+4>>2];p[e>>2]=o,p[e+4>>2]=l,p[e+8>>2]=r,p[e+12>>2]=n,V=c+128|0}function Co(e){var t=0,i=0,r=0,n=0,a=0,s=0,o=0,l=0,d=0,p=0,_=0,m=0;e:{t:{i:{if(u(+e),t=0|c(1),i=0|c(0),!(((0|t)>0||(0|t)>=0&&!(i>>>0<0))&&(n=t,t>>>0>1048575))){if(!(2147483647&t|i))return-1/(e*e);if((0|t)>-1||(0|t)>=-1&&!(i>>>0<=4294967295))break i;return(e-e)/0}if(n>>>0>2146435071)break e;if(t=1072693248,d=-1023,1072693248!=(0|n)){t=n;break t}if(i)break t;return 0}u(0x40000000000000*e),t=0|c(1),i=0|c(0),d=-1077}f(0,0|i),f(1,1072079006+(1048575&(i=t+614242|0))|0),e=(o=(s=(r=+h()-1)/(r+2))*s)*o,u(+(r-(a=r*(.5*r)))),t=0|c(1),c(0),f(0,0),f(1,0|t),e=(m=(p=1.4426950407214463*(l=+h()))+(_=+((i>>>20)+d|0)))+(p+(_-m)+(1.4426950407214463*(e=r-l-a+s*(a+(e*(e*(.15313837699209373*e+.22222198432149784)+.3999999999940942)+o*(e*(e*(.14798198605116586*e+.1818357216161805)+.2857142874366239)+.6666666666666735))))+1.6751713164886512e-10*(e+l)))}return e}function Oo(e){var t=0;t=1;e:if((0|e)>=1024){if(t=898846567431158e293,(0|e)<2047){e=e+-1023|0;break e}t=M,e=((0|e)<3069?e:3069)+-2046|0}else(0|e)>-1023||(t=22250738585072014e-324,(0|e)>-2045?e=e+1022|0:(t=0,e=((0|e)>-3066?e:-3066)+2044|0));return f(0,0),f(1,e+1023<<20),t*+h()}function Io(e,t,i){var r,n=0,a=0;if(i>>>0>=8192)return B(0|e,0|t,0|i),e;r=e+i|0;e:if(3&(e^t))if(r>>>0<4)i=e;else if((n=r+-4|0)>>>0<e>>>0)i=e;else for(i=e;l[0|i]=_[0|t],l[i+1|0]=_[t+1|0],l[i+2|0]=_[t+2|0],l[i+3|0]=_[t+3|0],t=t+4|0,(i=i+4|0)>>>0<=n>>>0;);else{t:if((0|i)<1)i=e;else if(3&e)for(i=e;;){if(l[0|i]=_[0|t],t=t+1|0,(i=i+1|0)>>>0>=r>>>0)break t;if(!(3&i))break}else i=e;if(!((n=-4&r)>>>0<64)&&!(i>>>0>(a=n+-64|0)>>>0))for(;p[i>>2]=p[t>>2],p[i+4>>2]=p[t+4>>2],p[i+8>>2]=p[t+8>>2],p[i+12>>2]=p[t+12>>2],p[i+16>>2]=p[t+16>>2],p[i+20>>2]=p[t+20>>2],p[i+24>>2]=p[t+24>>2],p[i+28>>2]=p[t+28>>2],p[i+32>>2]=p[t+32>>2],p[i+36>>2]=p[t+36>>2],p[i+40>>2]=p[t+40>>2],p[i+44>>2]=p[t+44>>2],p[i+48>>2]=p[t+48>>2],p[i+52>>2]=p[t+52>>2],p[i+56>>2]=p[t+56>>2],p[i+60>>2]=p[t+60>>2],t=t- -64|0,(i=i- -64|0)>>>0<=a>>>0;);if(i>>>0>=n>>>0)break e;for(;p[i>>2]=p[t>>2],t=t+4|0,(i=i+4|0)>>>0<n>>>0;);}if(i>>>0<r>>>0)for(;l[0|i]=_[0|t],t=t+1|0,(0|r)!=(0|(i=i+1|0)););return e}function Do(e,t,i){var r=0,n=0,a=0,s=0;if(i&&(l[(r=e+i|0)+-1|0]=t,l[0|e]=t,!(i>>>0<3)&&(l[r+-2|0]=t,l[e+1|0]=t,l[r+-3|0]=t,l[e+2|0]=t,!(i>>>0<7)&&(l[r+-4|0]=t,l[e+3|0]=t,!(i>>>0<9)&&(n=(r=0-e&3)+e|0,t=y(255&t,16843009),p[n>>2]=t,p[(r=(i=i-r&-4)+n|0)+-4>>2]=t,!(i>>>0<9)&&(p[n+8>>2]=t,p[n+4>>2]=t,p[r+-8>>2]=t,p[r+-12>>2]=t,!(i>>>0<25)&&(p[n+24>>2]=t,p[n+20>>2]=t,p[n+16>>2]=t,p[n+12>>2]=t,p[r+-16>>2]=t,p[r+-20>>2]=t,p[r+-24>>2]=t,p[r+-28>>2]=t,!((i=i-(s=4&n|24)|0)>>>0<32))))))))for(r=t,a=t,t=n+s|0;p[t+24>>2]=a,p[t+28>>2]=r,p[t+16>>2]=a,p[t+20>>2]=r,p[t+8>>2]=a,p[t+12>>2]=r,p[t>>2]=a,p[t+4>>2]=r,t=t+32|0,(i=i+-32|0)>>>0>31;);return e}function Fo(e,t,i){var r=0,n=0;e:if((0|e)!=(0|t)){if(!(t+i>>>0>e>>>0&&(n=e+i|0)>>>0>t>>>0))return Io(e,t,i);if(r=3&(e^t),e>>>0<t>>>0){if(r)r=e;else{if(3&e)for(r=e;;){if(!i)break e;if(l[0|r]=_[0|t],t=t+1|0,i=i+-1|0,!(3&(r=r+1|0)))break}else r=e;if(!(i>>>0<=3)){for(n=i;p[r>>2]=p[t>>2],t=t+4|0,r=r+4|0,(n=n+-4|0)>>>0>3;);i&=3}}if(i)for(;l[0|r]=_[0|t],r=r+1|0,t=t+1|0,i=i+-1|0;);}else{if(!r){if(3&n)for(;;){if(!i)break e;if(l[0|(r=(i=i+-1|0)+e|0)]=_[t+i|0],!(3&r))break}if(!(i>>>0<=3))for(;p[(i=i+-4|0)+e>>2]=p[t+i>>2],i>>>0>3;);}if(!i)break e;for(;l[(i=i+-1|0)+e|0]=_[t+i|0],i;);}}return e}function No(e,t){var i,r;i=0|e,r=0|t,s[0]=i,s[1]=r}function Bo(e,t,i,r){return e=function(e,t,i,r){var n,a,s,o,l=0,c=0;return o=y(l=i>>>16,c=e>>>16),l=(65535&(c=((s=y(n=65535&i,a=65535&e))>>>16)+y(c,n)|0))+y(l,a)|0,e=(((y(t,i)+o|0)+y(e,r)|0)+(c>>>16)|0)+(l>>>16)|0,z=e,t=65535&s|l<<16}(e,t,i,r)}function Lo(e,t,i,r){return e=function(e,t,i,r){var n,a,s=0,o=0;return o=(s=t)>>31,n=(e^=s>>=31)-s|0,a=(t^o)-((e>>>0<s>>>0)+o|0)|0,o=(s=r)>>31,s=Uo(n,a,(e=i^(s>>=31))-s|0,(r^o)-((e>>>0<s>>>0)+o|0)|0),z=((i=(t^=r)>>31)^z)-(((t=s^(e=t>>31))>>>0<e>>>0)+i|0)|0,r=t-e|0}(e,t,i,r)}function Uo(e,t,i,r){return e=function(e,t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0;e:{t:{i:{r:{n:{a:{s:{o:{l:{c:{if(s=t){if(!(n=i))break c;if(!(a=r))break l;if((a=x(a)-x(s)|0)>>>0<=31)break o;break t}if(1==(0|r)&i>>>0>=0|r>>>0>1)break t;return No(e-y(t=(e>>>0)/(i>>>0)|0,i)|0,0),z=0,t}if(n=r,!e)break s;if(!n)break a;if((a=n+-1|0)&n)break a;return No(e,a&s),e=s>>>(31&jo(n)),z=0,e}if(!((a=n+-1|0)&n))break n;o=0-(c=(x(n)+33|0)-x(s)|0)|0;break i}c=a+1|0,o=63-a|0;break i}return No(0,s-y(e=(s>>>0)/(n>>>0)|0,n)|0),z=0,e}if((a=x(n)-x(s)|0)>>>0<31)break r;break t}if(No(e&a,0),1==(0|n))break e;return i=e,r=31&(e=jo(n)),32<=(63&e)>>>0?(a=0,e=t>>>r):(a=t>>>r,e=((1<<r)-1&t)<<32-r|i>>>r),z=a,e}c=a+1|0,o=63-a|0}if(n=t,s=e,l=31&(a=63&c),32<=(63&a)>>>0?(a=0,h=n>>>l):(a=n>>>l,h=((1<<l)-1&n)<<32-l|s>>>l),o=31&(e=63&o),32<=(63&e)>>>0?(n=s<<o,e=0):(n=(1<<o)-1&s>>>32-o|t<<o,e=s<<o),t=n,c)for(s=r+-1|0,(n=i+-1|0)>>>0<4294967295&&(s=s+1|0),o=n;u=f=a=a<<1|(n=h)>>>31,n=(l=s-((o>>>0<(a=t>>>31|(n<<=1))>>>0)+(n=f)|0)|0)>>31,h=(f=a)-(a=i&(l>>=31))|0,a=u-((r&n)+(f>>>0<a>>>0)|0)|0,n=t<<1|e>>>31,e=d|e<<1,t=0|n,u=n=0,d=f=1&l,c=c+-1|0;);return No(h,a),z=(n=t<<1|e>>>31)|u,e=f|e<<1}No(e,t),e=0,t=0}return z=t,e}(e,t,i,r)}function Vo(e){for(var t=0,i=0;i=t,e;)e&=e-1,t=t+1|0;return i}function zo(e,t){var i=0;return(-1>>>(i=31&t)&e)<<i|((i=e)&-1<<(e=0-t&31))>>>e}function jo(e){return e?31-x(e+-1^e)|0:32}function Wo(){return r.byteLength/65536|0}return a[1]=function(e){return p[(e|=0)>>2]=1032,_t(e+28|0,p[e+32>>2]),mt(e+16|0,p[e+20>>2]),_t(e+4|0,p[e+8>>2]),0|e},a[2]=It,a[3]=go,a[4]=Nt,a[5]=Zt,a[6]=Qt,a[7]=function(e,t){e|=0;var i=0;return!(t=p[(t|=0)+88>>2])|2!=p[t>>2]||(i=e,e=p[t+8>>2],p[i+4>>2]=_[0|e]|_[e+1|0]<<8|_[e+2|0]<<16|_[e+3|0]<<24,i=1),0|i},a[8]=function(e,t){e|=0;var i,r=0;p[(t|=0)>>2]=2,r=p[t+8>>2],(i=p[t+12>>2]-r|0)>>>0<=4294967291&&(aa(t=t+8|0,i+4|0),r=p[t>>2]),t=r+i|0,e=_[e+4|0]|_[e+5|0]<<8|_[e+6|0]<<16|_[e+7|0]<<24,l[0|t]=e,l[t+1|0]=e>>>8,l[t+2|0]=e>>>16,l[t+3|0]=e>>>24},a[9]=function(e){var t;return p[(e|=0)>>2]=1384,(t=p[e+8>>2])&&(p[e+12>>2]=t,Mo(t)),0|e},a[10]=function(e){var t;p[(e|=0)>>2]=1384,(t=p[e+8>>2])&&(p[e+12>>2]=t,Mo(t)),Mo(e)},a[11]=ti,a[12]=function(e,t){e|=0;var i=0,r=0,n=0,a=0,s=0,o=0;if(!(!(n=p[(t|=0)+88>>2])|1!=p[n>>2])){if(i=n=p[(a=n+8|0)>>2],p[e+4>>2]=_[0|i]|_[i+1|0]<<8|_[i+2|0]<<16|_[i+3|0]<<24,s=e+8|0,o=p[e+8>>2],(r=p[e+12>>2]-o>>2)>>>0<(i=l[t+24|0])>>>0?(!function(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;if(r=p[e+8>>2],i=p[(n=e+4|0)>>2],r-i>>2>>>0>=t>>>0)return c=n,f=Do(i,0,e=t<<2)+e|0,void(p[c>>2]=f);e:{if(n=p[e>>2],(a=(i=(s=i-n|0)>>2)+t|0)>>>0<1073741824){if(l=i<<2,i=(r=r-n|0)>>1,r=r>>2>>>0<536870911?i>>>0<a>>>0?a:i:1073741823,i=0,r){if(r>>>0>=1073741824)break e;o=oo(r<<2),i=o}return Do(l+i|0,0,t<<2),t=i+(a<<2)|0,a=i+(r<<2)|0,(0|s)>=1&&Io(o,n,s),p[e>>2]=i,p[e+8>>2]=a,p[e+4>>2]=t,void(n&&Mo(n))}Ao(),E()}Wt(1460),E()}(s,i-r|0),n=p[a>>2],i=_[t+24|0]):r>>>0<=i>>>0||(p[e+12>>2]=o+(i<<2)),a=1,r=_[(t=n)+4|0]|_[t+5|0]<<8|_[t+6|0]<<16|_[t+7|0]<<24,i<<24>>24>=1)for(o=255&i,s=p[s>>2],t=0,i=4;p[s+(t<<2)>>2]=r,r=_[0|(r=n+(i=i+4|0)|0)]|_[r+1|0]<<8|_[r+2|0]<<16|_[r+3|0]<<24,(t=t+1|0)>>>0<o>>>0;);p[e+20>>2]=r}return 0|a},a[13]=function(e,t){e|=0;var i,r=0,n=0,a=0,s=0,o=0;if(p[(t|=0)>>2]=1,i=t+8|0,r=p[t+8>>2],(n=p[t+12>>2]-r|0)>>>0<=4294967291&&(aa(i,n+4|0),r=p[i>>2]),n=r+n|0,r=_[e+4|0]|_[e+5|0]<<8|_[e+6|0]<<16|_[e+7|0]<<24,l[0|n]=r,l[n+1|0]=r>>>8,l[n+2|0]=r>>>16,l[n+3|0]=r>>>24,(0|(r=p[e+8>>2]))!=p[e+12>>2])for(o=t+12|0;n=(s<<2)+r|0,r=p[t+8>>2],(a=p[o>>2]-r|0)>>>0<=4294967291&&(aa(i,a+4|0),r=p[i>>2]),a=r+a|0,r=_[0|n]|_[n+1|0]<<8|_[n+2|0]<<16|_[n+3|0]<<24,l[0|a]=r,l[a+1|0]=r>>>8,l[a+2|0]=r>>>16,l[a+3|0]=r>>>24,s=s+1|0,r=p[e+8>>2],s>>>0<p[e+12>>2]-r>>2>>>0;);(r=(r=p[t+12>>2])-(t=p[t+8>>2])|0)>>>0<=4294967291&&(aa(i,r+4|0),t=p[i>>2]),t=t+r|0,e=_[e+20|0]|_[e+21|0]<<8|_[e+22|0]<<16|_[e+23|0]<<24,l[0|t]=e,l[t+1|0]=e>>>8,l[t+2|0]=e>>>16,l[t+3|0]=e>>>24},a[14]=function(e){var t=0;return p[(e|=0)>>2]=1680,(t=p[e+16>>2])&&(p[e+20>>2]=t,Mo(t)),(t=p[e+4>>2])&&(p[e+8>>2]=t,Mo(t)),0|e},a[15]=$i,a[16]=Ji,a[17]=qi,a[18]=function(){yo(),E()},a[19]=function(e,t){t|=0;var i=0;return a[p[p[(e|=0)>>2]+40>>2]](e)&&a[p[p[e>>2]+44>>2]](e,t)&&(i=0|a[p[p[e>>2]+48>>2]](e,t)),0|i},a[20]=er,a[21]=function(e,t,i){return 0,0,0,-1},a[22]=er,a[23]=er,a[24]=ti,a[25]=tr,a[26]=xr,a[27]=function(e){Mo(xr(e|=0))},a[28]=Qt,a[29]=function(e){e|=0;var t,i=0,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=0,A=0,v=0,y=0,k=0,x=0,S=0,T=0,w=0,M=g(0),P=0,R=0,C=0,O=0,I=0,D=0,F=0,N=0,B=0,L=0,U=0;V=t=V+-64|0;e:if((0|(s=p[e+4>>2]))!=(0|(h=p[e+8>>2]))){for(u=p[e+28>>2],d=p[u+4>>2],P=p[d+80>>2],n=h-s>>2,i=p[d+8>>2];o=l[p[i+(p[(r<<2)+s>>2]<<2)>>2]+24|0]+o|0,(r=r+1|0)>>>0<n>>>0;);if(p[e+72>>2]=o,r=1,(0|s)!=(0|h))for(R=e+60|0,C=e+36|0,O=e+48|0,I=t+48|0,D=e+4|0,F=e+56|0,T=e+52|0,N=e+44|0,x=e+40|0,B=e+68|0,w=e- -64|0;;){m=p[(S<<2)+s>>2],v=p[p[d+8>>2]+(m<<2)>>2];t:if(!((i=p[v+28>>2]+-1|0)>>>0>8)){i:{r:{n:{a:{s:{o:switch(i-1|0){case 7:p[t+44>>2]=-1,p[t+40>>2]=1384,p[(i=I)+8>>2]=0,p[i+12>>2]=0,p[i>>2]=0,p[i+4>>2]=0,o=p[u+48>>2],p[(h=t+32|0)>>2]=0,p[t+24>>2]=0,p[t+28>>2]=0,c=oo(32),p[t+24>>2]=c,p[t+28>>2]=17,p[t+32>>2]=-2147483616,l[c+17|0]=0,l[c+16|0]=_[1912],n=_[1908]|_[1909]<<8|_[1910]<<16|_[1911]<<24,i=_[1904]|_[1905]<<8|_[1906]<<16|_[1907]<<24,l[c+8|0]=i,l[c+9|0]=i>>>8,l[c+10|0]=i>>>16,l[c+11|0]=i>>>24,l[c+12|0]=n,l[c+13|0]=n>>>8,l[c+14|0]=n>>>16,l[c+15|0]=n>>>24,n=_[1900]|_[1901]<<8|_[1902]<<16|_[1903]<<24,i=_[1896]|_[1897]<<8|_[1898]<<16|_[1899]<<24,l[0|c]=i,l[c+1|0]=i>>>8,l[c+2|0]=i>>>16,l[c+3|0]=i>>>24,l[c+4|0]=n,l[c+5|0]=n>>>8,l[c+6|0]=n>>>16,l[c+7|0]=n>>>24;l:{if(s=n=o+16|0,r=p[n>>2]){for(;s=(i=p[r+16>>2]<(0|m))?s:r,r=p[(i<<2)+r>>2];);if(!((0|n)==(0|s)|(0|m)<p[s+16>>2])&&ir(i=s+20|0,t+24|0)){A=_a(i,t+24|0,-1);break l}}A=_a(o,t+24|0,-1)}if(l[t+35|0]<=-1&&Mo(p[t+24>>2]),r=1,(0|A)>=1){u=p[p[(k=e+28|0)>>2]+48>>2],p[h>>2]=0,p[t+24>>2]=0,p[t+28>>2]=0,a=oo(32),p[t+24>>2]=a,p[t+28>>2]=19,p[t+32>>2]=-2147483616,l[a+19|0]=0,y=_[1929]|_[1930]<<8|_[1931]<<16|_[1932]<<24,l[a+15|0]=y,l[a+16|0]=y>>>8,l[a+17|0]=y>>>16,l[a+18|0]=y>>>24,c=n=_[1926]|_[1927]<<8|_[1928]<<16|_[1929]<<24,i=o=_[1922]|_[1923]<<8|_[1924]<<16|_[1925]<<24,l[a+8|0]=i,l[a+9|0]=i>>>8,l[a+10|0]=i>>>16,l[a+11|0]=i>>>24,l[a+12|0]=n,l[a+13|0]=n>>>8,l[a+14|0]=n>>>16,l[a+15|0]=n>>>24,h=f=_[1918]|_[1919]<<8|_[1920]<<16|_[1921]<<24,i=n=_[1914]|_[1915]<<8|_[1916]<<16|_[1917]<<24,l[0|a]=i,l[a+1|0]=i>>>8,l[a+2|0]=i>>>16,l[a+3|0]=i>>>24,l[a+4|0]=f,l[a+5|0]=f>>>8,l[a+6|0]=f>>>16,l[a+7|0]=f>>>24;l:{if(r=p[(s=f=u+16|0)>>2]){for(;s=(i=p[r+16>>2]<(0|m))?s:r,r=p[(i<<2)+r>>2];);if(!((0|s)==(0|f)|(0|m)<p[s+16>>2])){f=ir(s+20|0,t+24|0);break l}}f=ir(u,t+24|0)}if(i=0,f){u=p[p[k>>2]+48>>2],p[t+16>>2]=0,p[t+8>>2]=0,p[t+12>>2]=0,a=oo(32),p[t+8>>2]=a,p[t+12>>2]=18,p[t+16>>2]=-2147483616,l[a+18|0]=0,i=_[1950]|_[1951]<<8,l[a+16|0]=i,l[a+17|0]=i>>>8,f=_[1946]|_[1947]<<8|_[1948]<<16|_[1949]<<24,i=_[1942]|_[1943]<<8|_[1944]<<16|_[1945]<<24,l[a+8|0]=i,l[a+9|0]=i>>>8,l[a+10|0]=i>>>16,l[a+11|0]=i>>>24,l[a+12|0]=f,l[a+13|0]=f>>>8,l[a+14|0]=f>>>16,l[a+15|0]=f>>>24,f=_[1938]|_[1939]<<8|_[1940]<<16|_[1941]<<24,i=_[1934]|_[1935]<<8|_[1936]<<16|_[1937]<<24,l[0|a]=i,l[a+1|0]=i>>>8,l[a+2|0]=i>>>16,l[a+3|0]=i>>>24,l[a+4|0]=f,l[a+5|0]=f>>>8,l[a+6|0]=f>>>16,l[a+7|0]=f>>>24;l:{if(r=p[(s=f=u+16|0)>>2]){for(;s=(i=p[r+16>>2]<(0|m))?s:r,r=p[(i<<2)+r>>2];);if(!((0|s)==(0|f)|(0|m)<p[s+16>>2])){i=ir(s+20|0,t+8|0);break l}}i=ir(u,t+8|0)}l[t+19|0]<=-1&&Mo(p[t+8>>2]),i=0!=(0|i)}l[t+35|0]<=-1&&Mo(p[t+24>>2]);l:if(i){if(i=l[0|(a=v+24|0)],d=0,p[t+32>>2]=0,p[t+24>>2]=0,p[t+28>>2]=0,i){if((0|i)<=-1)break s;d=oo(f=i<<2),p[t+24>>2]=d,i=f+d|0,p[t+32>>2]=i,Do(d,0,f),p[t+28>>2]=i}u=p[p[k>>2]+48>>2],p[(f=t+16|0)>>2]=0,p[t+8>>2]=0,p[t+12>>2]=0,i=oo(32),p[t+8>>2]=i,p[t+12>>2]=19,p[t+16>>2]=-2147483616,l[i+19|0]=0,l[i+15|0]=y,l[i+16|0]=y>>>8,l[i+17|0]=y>>>16,l[i+18|0]=y>>>24,l[i+8|0]=o,l[i+9|0]=o>>>8,l[i+10|0]=o>>>16,l[i+11|0]=o>>>24,l[i+12|0]=c,l[i+13|0]=c>>>8,l[i+14|0]=c>>>16,l[i+15|0]=c>>>24,l[0|i]=n,l[i+1|0]=n>>>8,l[i+2|0]=n>>>16,l[i+3|0]=n>>>24,l[i+4|0]=h,l[i+5|0]=h>>>8,l[i+6|0]=h>>>16,l[i+7|0]=h>>>24,h=l[0|a];c:{if(s=n=u+16|0,r=p[n>>2]){for(;s=(i=p[r+16>>2]<(0|m))?s:r,r=p[(i<<2)+r>>2];);if(!((0|n)==(0|s)|(0|m)<p[s+16>>2])&&ir(i=s+20|0,t+8|0)){rr(i,t+8|0,h,d);break c}}rr(u,t+8|0,h,d)}l[t+19|0]<=-1&&Mo(p[t+8>>2]),h=p[p[k>>2]+48>>2],p[f>>2]=0,p[t+8>>2]=0,p[t+12>>2]=0,o=oo(32),p[t+8>>2]=o,p[t+12>>2]=18,p[t+16>>2]=-2147483616,l[o+18|0]=0,i=_[1950]|_[1951]<<8,l[o+16|0]=i,l[o+17|0]=i>>>8,n=_[1946]|_[1947]<<8|_[1948]<<16|_[1949]<<24,i=_[1942]|_[1943]<<8|_[1944]<<16|_[1945]<<24,l[o+8|0]=i,l[o+9|0]=i>>>8,l[o+10|0]=i>>>16,l[o+11|0]=i>>>24,l[o+12|0]=n,l[o+13|0]=n>>>8,l[o+14|0]=n>>>16,l[o+15|0]=n>>>24,n=_[1938]|_[1939]<<8|_[1940]<<16|_[1941]<<24,i=_[1934]|_[1935]<<8|_[1936]<<16|_[1937]<<24,l[0|o]=i,l[o+1|0]=i>>>8,l[o+2|0]=i>>>16,l[o+3|0]=i>>>24,l[o+4|0]=n,l[o+5|0]=n>>>8,l[o+6|0]=n>>>16,l[o+7|0]=n>>>24;c:{if(s=n=h+16|0,r=p[n>>2]){for(;s=(i=p[r+16>>2]<(0|m))?s:r,r=p[(i<<2)+r>>2];);if(!((0|n)==(0|s)|(0|m)<p[s+16>>2])&&ir(i=s+20|0,t+8|0)){M=ma(i,t+8|0);break c}}M=ma(h,t+8|0)}if(l[t+19|0]<=-1&&Mo(p[t+8>>2]),Jt(t+40|0,A,p[t+24>>2],l[0|a],M),!(i=p[t+24>>2]))break l;p[t+28>>2]=i,Mo(i)}else Kt(t+40|0,v,A);if((0|(c=p[x>>2]))==p[N>>2])nr(C,t+40|0);else{if(p[c>>2]=1384,i=p[t+44>>2],p[(h=c+16|0)>>2]=0,p[c+8>>2]=0,p[c+12>>2]=0,p[c+4>>2]=i,n=p[t+52>>2]-p[t+48>>2]|0){if((i=n>>2)>>>0>=1073741824)break a;o=oo(n),p[c+8>>2]=o,p[(n=c+12|0)>>2]=o,p[h>>2]=o+(i<<2),i=p[t+48>>2],(0|(h=p[t+52>>2]-i|0))<1||(L=n,U=Io(o,i,h)+h|0,p[L>>2]=U)}p[c+20>>2]=p[t+60>>2],p[x>>2]=p[x>>2]+24}ei(t+24|0,t+40|0,v,P),(n=p[w>>2])>>>0<b[B>>2]?(i=p[t+24>>2],p[t+24>>2]=0,p[n>>2]=i,p[w>>2]=n+4):ar(R,t+24|0),i=p[t+24>>2],p[t+24>>2]=0,i&&pt(i),r=0}if(p[t+40>>2]=1384,(i=p[t+48>>2])&&(p[t+52>>2]=i,Mo(i)),!r)break t;r=0;break e;case 0:case 2:case 4:case 5:case 6:break t;default:break o}if(o=l[0|(f=v+24|0)],s=0,p[t+48>>2]=0,p[t+40>>2]=0,p[t+44>>2]=0,r=0,o){if((0|o)<=-1)break n;for(r=oo(i=o<<2),p[t+40>>2]=r,p[t+44>>2]=r,p[t+48>>2]=i+r;p[r>>2]=2147483647,r=r+4|0,o=o+-1|0;);p[t+44>>2]=r,r=_[0|f]}if(p[t+32>>2]=0,p[t+24>>2]=0,p[t+28>>2]=0,255&r){if((0|(i=r<<24>>24))<=-1)break r;s=oo(n=i<<2),p[t+24>>2]=s,i=n+s|0,p[t+32>>2]=i,Do(s,0,n),p[t+28>>2]=i}if(u=_[0|f],A=0,!p[v+80>>2])break i;for(;;){if(sr(v,A,u<<24>>24,s),(0|(u=(c=_[0|f])<<24>>24))>=1)for(r=0,o=p[t+24>>2],h=p[t+40>>2];n=(i=r<<2)+h|0,i=p[i+o>>2],p[n>>2]>(0|i)&&(p[n>>2]=i),(r=r+1|0)>>>0<c>>>0;);if((A=A+1|0)>>>0>=b[v+80>>2])break i;s=p[t+24>>2]}}Ao(),E()}Ao(),E()}Ao(),E()}Ao(),E()}if(r=0,u<<24>>24>0)for(;n=p[t+40>>2]+(r<<2)|0,(0|(i=p[T>>2]))==p[F>>2]?(Zi(O,n),u=_[0|f]):(p[i>>2]=p[n>>2],p[T>>2]=i+4),(0|(r=r+1|0))<u<<24>>24;);(i=p[t+24>>2])&&(p[t+28>>2]=i,Mo(i)),(i=p[t+40>>2])&&(p[t+44>>2]=i,Mo(i))}if(r=1,S=S+1|0,s=p[D>>2],S>>>0>=p[e+8>>2]-s>>2>>>0)break e;u=p[e+28>>2],d=p[u+4>>2]}}else p[e+72>>2]=0,r=1;return V=t- -64|0,0|r},a[30]=function(e,t){t|=0;var i,r,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=0,A=0,v=0,g=0,k=0,S=0,T=0,w=0,M=0;V=i=V-1696|0,n=(0|(n=10-or(p[p[(e|=0)+28>>2]+48>>2])|0))<6?n:6,l[i+1695|0]=n,6!=(255&n)|p[e+72>>2]<16||(l[i+1695|0]=5),((0|(n=p[t+20>>2]))<0||(0|n)<=0&&!(b[t+16>>2]>0))&&Yt(t,p[t+4>>2],i+1695|0,i+1696|0),s=p[e+28>>2],r=p[p[s+4>>2]+80>>2],a=p[e+72>>2],p[i+1684>>2]=0,p[i+1676>>2]=0,p[i+1680>>2]=0,p[i+1668>>2]=a,p[i+1664>>2]=r,p[i+1672>>2]=a<<2;e:{if(c=y(a,r)){if(c>>>0>=1073741824)break e;o=oo(n=c<<2),p[i+1676>>2]=o,f=n+o|0,p[i+1684>>2]=f,Do(o,0,n),p[i+1680>>2]=f}p[i+1688>>2]=o;t:{i:{if((0|(n=p[(v=e+4|0)>>2]))!=p[(g=e+8|0)>>2]){for(T=e+48|0,w=e+60|0;;){if(s=p[p[p[s+4>>2]+8>>2]+(p[(d<<2)+n>>2]<<2)>>2],(n=p[s+28>>2])+-1>>>0>=6){if(9!=(0|n))break i;s=p[p[w>>2]+(k<<2)>>2],k=k+1|0}if(!s)break i;r:{n:if(!((n=p[s+28>>2]+-1|0)>>>0>5)){a:switch(n-1|0){case 4:if(!r)break r;for(n=0;a=n,o=(p[i+1688>>2]+(h<<2)|0)+(y(p[i+1668>>2],n)<<2)|0,c=p[p[s>>2]>>2],f=p[s+48>>2],m=p[s+40>>2],A=p[s+44>>2],_[s+84|0]||(a=p[p[s+68>>2]+(n<<2)>>2]),Io(u=o,(o=Bo(m,A,a,0)+f|0)+c|0,l[s+24|0]<<2),(0|r)!=(0|(n=n+1|0)););break r;case 0:case 2:break n;default:break a}a=l[0|(f=s+24|0)],n=0,p[i+464>>2]=0,p[i+456>>2]=0,p[i+460>>2]=0,c=0;a:{if(a){if((0|a)<=-1)break a;o=oo(a<<=2),p[i+456>>2]=o,c=a+o|0,p[i+464>>2]=c,Do(o,0,a),p[i+460>>2]=c,c=_[0|f]}p[i+1656>>2]=0,p[i+1648>>2]=0,p[i+1652>>2]=0;s:{if(255&c){if((0|(n=c<<24>>24))<=-1)break s;n=oo(a=n<<2),p[i+1648>>2]=n,o=n+a|0,p[i+1656>>2]=o,Do(n,0,a),p[i+1652>>2]=o}if(r){for(a=0;;){if(n=a,o=s,_[s+84|0]||(n=p[p[s+68>>2]+(a<<2)>>2]),sr(o,n,l[0|f],p[i+456>>2]),(0|(c=l[0|f]))<=0)o=p[i+1648>>2];else for(c&=255,m=p[T>>2],n=0,o=p[i+1648>>2],A=p[i+456>>2];p[(u=n<<2)+o>>2]=p[A+u>>2]-p[m+(n+S<<2)>>2],(n=n+1|0)>>>0<c>>>0;);if(Io((p[i+1688>>2]+(h<<2)|0)+(y(p[i+1668>>2],a)<<2)|0,o,c<<2),(0|(a=a+1|0))==(0|r))break}n=p[i+1648>>2]}a=l[0|f],n&&(p[i+1652>>2]=n,Mo(n)),(n=p[i+456>>2])&&(p[i+460>>2]=n,Mo(n)),S=a+S|0;break r}Ao(),E()}Ao(),E()}if(a=l[0|(c=s+24|0)],n=0,p[i+464>>2]=0,p[i+456>>2]=0,p[i+460>>2]=0,a){if((0|a)<=-1)break t;n=oo(a<<=2),p[i+456>>2]=n,o=n+a|0,p[i+464>>2]=o,Do(n,0,a),p[i+460>>2]=o}if(r){for(n=0;a=n,o=s,_[s+84|0]||(a=p[p[s+68>>2]+(n<<2)>>2]),lr(o,a,l[0|c],p[i+456>>2]),Io((p[i+1688>>2]+(h<<2)|0)+(y(p[i+1668>>2],n)<<2)|0,p[i+456>>2],l[0|c]<<2),(0|r)!=(0|(n=n+1|0)););n=p[i+456>>2]}n&&(p[i+460>>2]=n,Mo(n))}if(d=d+1|0,n=p[v>>2],!(d>>>0<p[g>>2]-n>>2>>>0))break;h=l[s+24|0]+h|0,s=p[e+28>>2]}a=p[e+72>>2],c=y(r,a),o=p[i+1688>>2]}if(s=0,(0|c)>0)for(n=0;(e=p[(n<<2)+o>>2])&&(s=(0|(e=31^x(e)))<(0|s)?s:e+1|0),(0|(n=n+1|0))<(0|c););if(!((e=_[i+1695|0])>>>0>6)){r:{n:switch(e-1|0){case 5:if(n=fr(i+456|0,a),e=p[i+1668>>2],p[i+32>>2]=e,p[i+16>>2]=e,p[i+440>>2]=0,p[i+448>>2]=e,p[i+424>>2]=p[i+1664>>2],p[i+432>>2]=e,p[i+444>>2]=i+1664,e=p[i+444>>2],p[i+24>>2]=p[i+440>>2],p[i+28>>2]=e,p[i+428>>2]=i+1664,p[i+1648>>2]=s,e=p[i+428>>2],p[i+8>>2]=p[i+424>>2],p[i+12>>2]=e,e=function(e,t,i,r,n){var a,s=0,o=0,l=0;V=a=V-32|0,p[e>>2]=p[r>>2],r=p[i>>2]-p[t>>2]|0,p[e+4>>2]=r,((0|(s=p[n+20>>2]))<0?1:(0|s)<=0?b[n+16>>2]>0?0:1:0)&&(r=e+4|0,Yt(n,p[n+4>>2],e,r),((0|(s=p[n+20>>2]))<0||(0|s)<=0&&!(b[n+16>>2]>0))&&Yt(n,p[n+4>>2],r,r+4|0),r=p[r>>2]);if(r){for(Ar(e+12|0),pe(r=e+1068|0),pe(s=e+1088|0),pe(o=e+1108|0),p[a+24>>2]=p[t+8>>2],l=p[t+4>>2],p[a+16>>2]=p[t>>2],p[a+20>>2]=l,p[a+8>>2]=p[i+8>>2],t=p[i+4>>2],p[a>>2]=p[i>>2],p[a+4>>2]=t,vr(e,a+16|0,a),i=0;ke(12+((i<<5)+e|0)|0,n),32!=(0|(i=i+1|0)););ke(e+1036|0,n),_e(r,n),_e(s,n),_e(o,n)}return V=a+32|0,1}(n,i+24|0,i+8|0,i+1648|0,t),cr(n),e)break r;break i;case 4:if(n=fr(i+456|0,a),e=p[i+1668>>2],p[i- -64>>2]=e,p[i+48>>2]=e,p[i+408>>2]=0,p[i+416>>2]=e,p[i+392>>2]=p[i+1664>>2],p[i+400>>2]=e,p[i+412>>2]=i+1664,e=p[i+412>>2],p[i+56>>2]=p[i+408>>2],p[i+60>>2]=e,p[i+396>>2]=i+1664,p[i+1648>>2]=s,e=p[i+396>>2],p[i+40>>2]=p[i+392>>2],p[i+44>>2]=e,e=hr(n,i+56|0,i+40|0,i+1648|0,t),cr(n),e)break r;break i;case 3:if(n=fr(i+456|0,a),e=p[i+1668>>2],p[i+96>>2]=e,p[i+80>>2]=e,p[i+376>>2]=0,p[i+384>>2]=e,p[i+360>>2]=p[i+1664>>2],p[i+368>>2]=e,p[i+380>>2]=i+1664,e=p[i+380>>2],p[i+88>>2]=p[i+376>>2],p[i+92>>2]=e,p[i+364>>2]=i+1664,p[i+1648>>2]=s,e=p[i+364>>2],p[i+72>>2]=p[i+360>>2],p[i+76>>2]=e,e=hr(n,i+88|0,i+72|0,i+1648|0,t),cr(n),e)break r;break i;case 2:if(n=ur(i+456|0,a),e=p[i+1668>>2],p[i+128>>2]=e,p[i+112>>2]=e,p[i+344>>2]=0,p[i+352>>2]=e,p[i+328>>2]=p[i+1664>>2],p[i+336>>2]=e,p[i+348>>2]=i+1664,e=p[i+348>>2],p[i+120>>2]=p[i+344>>2],p[i+124>>2]=e,p[i+332>>2]=i+1664,p[i+1648>>2]=s,e=p[i+332>>2],p[i+104>>2]=p[i+328>>2],p[i+108>>2]=e,e=dr(n,i+120|0,i+104|0,i+1648|0,t),pr(n),e)break r;break i;case 1:if(n=ur(i+456|0,a),e=p[i+1668>>2],p[i+160>>2]=e,p[i+144>>2]=e,p[i+312>>2]=0,p[i+320>>2]=e,p[i+296>>2]=p[i+1664>>2],p[i+304>>2]=e,p[i+316>>2]=i+1664,e=p[i+316>>2],p[i+152>>2]=p[i+312>>2],p[i+156>>2]=e,p[i+300>>2]=i+1664,p[i+1648>>2]=s,e=p[i+300>>2],p[i+136>>2]=p[i+296>>2],p[i+140>>2]=e,e=dr(n,i+152|0,i+136|0,i+1648|0,t),pr(n),e)break r;break i;case 0:if(n=_r(i+456|0,a),e=p[i+1668>>2],p[i+192>>2]=e,p[i+176>>2]=e,p[i+280>>2]=0,p[i+288>>2]=e,p[i+264>>2]=p[i+1664>>2],p[i+272>>2]=e,p[i+284>>2]=i+1664,e=p[i+284>>2],p[i+184>>2]=p[i+280>>2],p[i+188>>2]=e,p[i+268>>2]=i+1664,p[i+1648>>2]=s,e=p[i+268>>2],p[i+168>>2]=p[i+264>>2],p[i+172>>2]=e,e=mr(n,i+184|0,i+168|0,i+1648|0,t),br(n),e)break r;break i;default:break n}if(n=_r(i+456|0,a),e=p[i+1668>>2],p[i+224>>2]=e,p[i+208>>2]=e,p[i+248>>2]=0,p[i+256>>2]=e,p[i+232>>2]=p[i+1664>>2],p[i+240>>2]=e,p[i+252>>2]=i+1664,e=p[i+252>>2],p[i+216>>2]=p[i+248>>2],p[i+220>>2]=e,p[i+236>>2]=i+1664,p[i+1648>>2]=s,e=p[i+236>>2],p[i+200>>2]=p[i+232>>2],p[i+204>>2]=e,e=mr(n,i+216|0,i+200|0,i+1648|0,t),br(n),!e)break i}M=1}}return(e=p[i+1676>>2])&&(p[i+1680>>2]=e,Mo(e)),V=i+1696|0,0|M}Ao(),E()}Ao(),E()},a[31]=function(e,t){t|=0;var i=0,r=0,n=0;if((0|(i=p[(e|=0)+36>>2]))!=p[(n=e+40|0)>>2])for(;$t(y(r,24)+i|0,t),r=r+1|0,i=p[e+36>>2],r>>>0<(p[n>>2]-i|0)/24>>>0;);if((0|(i=p[e+48>>2]))!=p[(n=e+52|0)>>2])for(r=0;Ki((i=p[(r<<2)+i>>2])<<1^i>>31,t),r=r+1|0,i=p[e+48>>2],r>>>0<p[n>>2]-i>>2>>>0;);return 1},a[32]=function(e){var t=0;return p[(e|=0)>>2]=2108,t=p[e+32>>2],p[e+32>>2]=0,t&&pt(t),(t=p[e+16>>2])&&(p[e+20>>2]=t,Mo(t)),0|e},a[33]=function(e){var t=0;p[(e|=0)>>2]=2108,t=p[e+32>>2],p[e+32>>2]=0,t&&pt(t),(t=p[e+16>>2])&&(p[e+20>>2]=t,Mo(t)),Mo(e)},a[34]=Ir,a[35]=function(e,t){return t|=0,p[(e|=0)+12>>2]=-1,p[e+8>>2]=t,1},a[36]=tr,a[37]=function(e,t,i){return t|=0,i|=0,0|a[p[p[(e|=0)>>2]+44>>2]](e,t,i)},a[38]=tr,a[39]=Fr,a[40]=Fr,a[41]=function(e,t){e|=0;var i,r=0,n=0,s=0,o=0,l=0,c=0;V=i=V-16|0,r=1;e:if(!((0|a[p[p[(t|=0)>>2]+20>>2]](t))<1)){for(l=e+16|0,c=e+24|0,o=e+20|0;;){if(r=Ga(p[p[e+4>>2]+4>>2],0|a[p[p[t>>2]+24>>2]](t,n)),p[i+12>>2]=r,-1!=(0|r)){if((0|(s=p[o>>2]))==p[c>>2]?Zi(l,i+12|0):(p[s>>2]=r,p[o>>2]=s+4),$n(p[e+4>>2],p[i+12>>2]),r=1,(0|(n=n+1|0))<(0|a[p[p[t>>2]+20>>2]](t)))continue;break e}break}r=0}return V=i+16|0,0|r},a[42]=function(e,t){e|=0;var i=0,r=0,n=0,s=0,o=0,l=0;i=1;e:if(!((0|a[p[p[(t|=0)>>2]+20>>2]](t))<1)){for(i=0;;){if(-1==(0|(n=Ga(p[p[e+4>>2]+4>>2],0|a[p[p[t>>2]+24>>2]](t,r)))))break e;if(o=t,l=ea(p[e+4>>2],n),s=p[p[t>>2]+28>>2],!(0|a[s](0|o,0|l)))break e;if(!((0|(r=r+1|0))<(0|a[p[p[t>>2]+20>>2]](t))))break}i=1}return 0|i},a[43]=function(e,t,i){t|=0,i|=0;var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,m=0,A=0,v=0;n=p[(e|=0)+8>>2],r=oo((0|(a=p[n+40>>2]))>-1?a:-1);e:if((0|(o=p[t>>2]))!=(0|(l=p[(f=t+4|0)>>2])))for(u=a+r|0;;){if(s=p[(c<<2)+o>>2],a=r,d=p[p[n>>2]>>2],m=p[n+48>>2],A=h=p[n+40>>2],v=p[n+44>>2],_[n+84|0]||(s=p[p[n+68>>2]+(s<<2)>>2]),s=Io(n=a,(a=Bo(A,v,s,0)+m|0)+d|0,h),((0|(a=p[i+20>>2]))<0||(0|a)<=0&&!(b[i+16>>2]>0))&&(Yt(i,p[i+4>>2],s,u),o=p[t>>2],l=p[f>>2]),(c=c+1|0)>>>0>=l-o>>2>>>0)break e;n=p[e+8>>2]}return Mo(r),1},a[44]=Br,a[45]=function(e){Mo(Br(e|=0))},a[46]=function(e,t,i){var r=0,n=0,s=0,o=0,l=0,c=0;e:if(Ji(e|=0,t|=0,i|=0)&&a[p[p[e>>2]+52>>2]](e)&&(r=1,(0|(i=p[(n=e+4|0)>>2]))!=p[(s=e+8|0)>>2])){for(r=0,c=e+36|0,e=0;;){if(l=p[(o=e<<2)+p[c>>2]>>2],!a[p[p[l>>2]+8>>2]](l,t,p[i+o>>2]))break e;if(e=e+1|0,i=p[n>>2],!(e>>>0<p[s>>2]-i>>2>>>0))break}r=1}return 0|r},a[47]=function(e,t){var i,r=0,n=0,s=0,o=0,c=0,f=0,h=0,u=0;if(V=i=V-16|0,qi(e|=0,t|=0)&&(o=1,(0|(r=p[e+36>>2]))!=p[(s=e+40|0)>>2]))for(c=i+16|0,f=t+4|0;r=p[(n<<2)+r>>2],h=i,u=0|a[p[p[r>>2]+32>>2]](r),l[h+15|0]=u,((0|(r=p[t+20>>2]))<0||(0|r)<=0&&!(b[t+16>>2]>0))&&Yt(t,p[f>>2],i+15|0,c),n=n+1|0,r=p[e+36>>2],n>>>0<p[s>>2]-r>>2>>>0;);return V=i+16|0,0|o},a[48]=Fr,a[49]=function(e,t){t|=0;var i,r=0;return(i=p[(e|=0)+72>>2])&&(p[i+4>>2]=e+60,a[p[p[i>>2]+12>>2]](i)&&a[p[p[e>>2]+40>>2]](e)&&a[p[p[e>>2]+44>>2]](e,t)&&(r=0|a[p[p[e>>2]+48>>2]](e,t))),0|r},a[50]=function(e,t){t|=0;var i,r=0;return i=p[(e|=0)+16>>2],r=0,p[e+20>>2]-i>>2<=(0|t)||(r=0,(0|(t=p[(t<<2)+i>>2]))<0||(e=p[p[e+36>>2]+(t<<2)>>2],r=p[e+20>>2]-p[e+16>>2]>>2)),0|r},a[51]=function(e,t,i){t|=0,i|=0;var r,n=0;return n=-1,r=p[(e|=0)+16>>2],p[e+20>>2]-r>>2<=(0|t)||(0|(t=p[(t<<2)+r>>2]))<0||(n=p[p[p[p[e+36>>2]+(t<<2)>>2]+16>>2]+(i<<2)>>2]),0|n},a[52]=function(e,t){t|=0;var i=0,r=0;return i=p[(e|=0)+16>>2],p[e+20>>2]-i>>2<=(0|t)||(0|(t=p[i+(t<<2)>>2]))<0||(b[e+52>>2]<=t>>>0&&function(e,t){var i,r=0,n=0,a=0,s=0,o=0;V=i=V-32|0;e:{t:if((r=p[e+4>>2])>>>0<t>>>0){if(s=p[e+8>>2],(n=s<<5)>>>0<(a=t-r|0)>>>0|r>>>0>n-a>>>0){if(p[i+24>>2]=0,p[i+16>>2]=0,p[i+20>>2]=0,(0|t)<=-1)break e;t=n>>>0<=1073741822?(n=s<<6)>>>0<(t=t+31&-32)>>>0?t:n:2147483647,Lr(r=i+16|0,t),r=p[e+4>>2],p[i+20>>2]=r+a,t=p[i+16>>2],(0|r)<1?r=0:(s=p[e>>2],t=Fo(t,s,n=r>>>5<<2)+n|0,(r&=31)?(o=-1>>>32-r,p[t>>2]=p[t>>2]&(-1^o)|p[n+s>>2]&o):r=0),p[i+12>>2]=r,p[i+8>>2]=t,r=p[i+8>>2],t=p[i+12>>2],n=p[e>>2],p[e>>2]=p[i+16>>2],p[i+16>>2]=n,s=p[e+4>>2],p[e+4>>2]=p[i+20>>2],p[i+20>>2]=s,s=p[(e=e+8|0)>>2],p[e>>2]=p[i+24>>2],p[i+24>>2]=s,n&&Mo(n),e=r}else p[e+4>>2]=t,t=31&r,e=p[e>>2]+(r>>>3&536870908)|0;if(!a)break t;if(t&&(n=(r=32-t|0)>>>0>a>>>0?a:r,p[e>>2]=p[e>>2]&(-1<<t&-1>>>r-n^-1),a=a-n|0,e=e+4|0),t=Do(t=e,0,e=a>>>5<<2),!(r=31&a))break t;p[(e=e+t|0)>>2]=p[e>>2]&(-1>>>32-r^-1)}else p[e+4>>2]=t;return void(V=i+32|0)}Ao(),E()}(e+48|0,t+1|0),r=1,i=p[e+48>>2]+(t>>>3&536870908)|0,p[i>>2]=p[i>>2]|1<<(31&t),(i=p[e+40>>2])-(e=p[e+36>>2])>>2>>>0<=t>>>0||Dr(p[e+(t<<2)>>2])),0|r},a[53]=function(e,t){t|=0;var i,r=0;return i=p[(e|=0)+16>>2],p[e+20>>2]-i>>2<=(0|t)||(0|(t=p[(t<<2)+i>>2]))<0||(e=p[p[e+36>>2]+(t<<2)>>2],(r=p[e+32>>2])||(r=p[e+8>>2])),0|r},a[54]=function(e){var t,i=0,r=0,n=0,s=0;r=1;e:if((0|(i=p[(e|=0)+36>>2]))!=p[(t=e+40|0)>>2]){for(s=e+60|0,r=0;;){if(i=p[(n<<2)+i>>2],!a[p[p[i>>2]+16>>2]](i,s))break e;if(n=n+1|0,i=p[e+36>>2],!(n>>>0<p[t>>2]-i>>2>>>0))break}r=1}return 0|r},a[55]=function(e,t){t|=0;var i,r=0,n=0,s=0,o=0;n=1;e:if((0|(r=p[(e|=0)+36>>2]))!=p[(i=e+40|0)>>2]){for(o=e+60|0,n=0;;){if(r=p[(s<<2)+r>>2],!a[p[p[r>>2]+20>>2]](r,o,t))break e;if(s=s+1|0,r=p[e+36>>2],!(s>>>0<p[i>>2]-r>>2>>>0))break}n=1}return 0|n},a[56]=function(e,t){t|=0;var i,r=0,n=0;if((0|(r=p[(e|=0)+36>>2]))!=p[(i=e+40|0)>>2]){e:{for(;;){if(r=p[(n<<2)+r>>2],!a[p[p[r>>2]+24>>2]](r,t))break e;if(n=n+1|0,r=p[e+36>>2],!(n>>>0<p[i>>2]-r>>2>>>0))break}return 1}e=0}else e=1;return 0|e},a[57]=function(e){var t,i,r=0,n=0,s=0,o=0,l=0,c=0,f=0;if(V=t=V-16|0,i=(e|=0)+36|0,(r=p[e+8>>2]-p[e+4>>2]>>2)>>>0>(s=(n=p[e+40>>2])-(o=p[e+36>>2])>>2)>>>0)!function(e,t){var i=0,r=0,n=0,s=0,o=0,l=0,c=0,f=0,h=0;if(r=p[e+8>>2],i=p[(n=e+4|0)>>2],r-i>>2>>>0>=t>>>0)return f=n,h=Do(i,0,e=t<<2)+e|0,void(p[f>>2]=h);e:{if(n=p[e>>2],(o=(s=i-n>>2)+t|0)>>>0<1073741824){if(s<<=2,c=(r=r-n|0)>>1,r=r>>2>>>0<536870911?c>>>0<o>>>0?o:c:1073741823){if(r>>>0>=1073741824)break e;l=oo(r<<2)}if(Do(s=s+l|0,0,t<<2),t=(o<<2)+l|0,o=(r<<2)+l|0,(0|i)!=(0|n)){for(;r=p[(i=i+-4|0)>>2],p[i>>2]=0,p[(s=s+-4|0)>>2]=r,(0|i)!=(0|n););n=p[e>>2],i=p[e+4>>2]}if(p[e>>2]=s,p[e+8>>2]=o,p[e+4>>2]=t,(0|i)!=(0|n))for(;e=p[(i=i+-4|0)>>2],p[i>>2]=0,e&&a[p[p[e>>2]+4>>2]](e),(0|i)!=(0|n););return void(n&&Mo(n))}Ao(),E()}Wt(2352),E()}(i,r-s|0);else if(!(r>>>0>=s>>>0)){if((0|(s=o+(r<<2)|0))!=(0|n))for(;r=p[(n=n+-4|0)>>2],p[n>>2]=0,r&&a[p[p[r>>2]+4>>2]](r),(0|n)!=(0|s););p[e+40>>2]=s}r=1,o=e+4|0;e:if(p[(s=e+8|0)>>2]!=p[o>>2])for(n=0;;){if(a[p[p[e>>2]+56>>2]](t+8|0,e,n),r=p[e+36>>2],f=p[t+8>>2],p[t+8>>2]=0,r=p[(c=(l=n<<2)+r|0)>>2],p[c>>2]=f,r&&a[p[p[r>>2]+4>>2]](r),r=p[t+8>>2],p[t+8>>2]=0,r&&a[p[p[r>>2]+4>>2]](r),!(r=p[l+p[i>>2]>>2])){r=0;break e}if(!(p[p[e+48>>2]+(n>>>3&536870908)>>2]>>>(31&n)&1)|n>>>0>=b[e+52>>2]||Dr(r),r=1,!((n=n+1|0)>>>0<p[s>>2]-p[o>>2]>>2>>>0))break}return V=t+16|0,0|r},a[58]=function(e,t,i){e|=0,i|=0;var r,n,a,s=0,o=0,c=0;V=r=V-16|0,s=p[(t|=0)+28>>2],n=p[p[t+4>>2]+(i<<2)>>2],a=p[p[p[s+4>>2]+8>>2]+(n<<2)>>2];e:if((t=p[a+28>>2])+-1>>>0>=6){if(9==(0|t)){o=p[s+48>>2],t=oo(32),p[r>>2]=t,p[r+4>>2]=17,p[r+8>>2]=-2147483616,l[t+17|0]=0,l[t+16|0]=_[2288],i=_[2284]|_[2285]<<8|_[2286]<<16|_[2287]<<24,s=_[2280]|_[2281]<<8|_[2282]<<16|_[2283]<<24,l[t+8|0]=s,l[t+9|0]=s>>>8,l[t+10|0]=s>>>16,l[t+11|0]=s>>>24,l[t+12|0]=i,l[t+13|0]=i>>>8,l[t+14|0]=i>>>16,l[t+15|0]=i>>>24,i=_[2276]|_[2277]<<8|_[2278]<<16|_[2279]<<24,s=_[2272]|_[2273]<<8|_[2274]<<16|_[2275]<<24,l[0|t]=s,l[t+1|0]=s>>>8,l[t+2|0]=s>>>16,l[t+3|0]=s>>>24,l[t+4|0]=i,l[t+5|0]=i>>>8,l[t+6|0]=i>>>16,l[t+7|0]=i>>>24;t:{if(t=p[(s=o+16|0)>>2]){for(i=s;i=(c=p[t+16>>2]<(0|n))?i:t,t=p[(c<<2)+t>>2];);if(!((0|i)==(0|s)|(0|n)<p[i+16>>2])&&ir(t=i+20|0,r)){t=_a(t,r,-1);break t}}t=_a(o,r,-1)}if(l[r+11|0]<=-1&&Mo(p[r>>2]),!((0|t)<1)){if(1==p[a+56>>2]){t=oo(48),p[t>>2]=0,p[t+4>>2]=0,p[(i=t+40|0)>>2]=0,p[i+4>>2]=0,p[t+32>>2]=0,p[t+36>>2]=0,p[t+24>>2]=0,p[t+28>>2]=0,p[t+16>>2]=0,p[t+20>>2]=0,p[t+8>>2]=0,p[t+12>>2]=0,Ur(t),p[t+44>>2]=-1,p[i>>2]=1268,p[t>>2]=6180;break e}(function(e){Ur(e),p[e+48>>2]=0,p[e+52>>2]=0,p[e+44>>2]=-1,p[e+40>>2]=1384,p[e>>2]=10048,p[e+56>>2]=0,p[e+60>>2]=0})(t=oo(64));break e}}Or(t=oo(36))}else Ur(t=oo(40));p[e>>2]=t,V=r+16|0},a[59]=zr,a[60]=jr,a[61]=Vr,a[62]=function(e,t){t|=0;var i,r=0,n=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0;V=i=V-16|0;e:{t:{i:{if(r=p[(e|=0)+4>>2]){if(a[p[p[e>>2]+52>>2]](e,t,p[p[r+4>>2]+80>>2]))break i;break t}if(!a[p[p[e>>2]+52>>2]](e,t,0))break t}if(u=1,_[e+28|0]){if(d=p[e+32>>2],o=p[e+8>>2],r=p[o+80>>2],p[i+8>>2]=0,p[i>>2]=0,p[i+4>>2]=0,r){if(r>>>0>=1073741824)break e;s=oo(n=r<<2),p[i>>2]=s,r=n+s|0,p[i+8>>2]=r,Do(s,0,n),p[i+4>>2]=r}if((0|(r=p[t+4>>2]))!=(0|(c=p[t>>2])))for(l=r-c>>2,t=0,f=_[o+84|0],h=o+68|0;n=p[c+(t<<2)>>2],r=s,f||(n=p[p[h>>2]+(n<<2)>>2]),p[(n<<2)+r>>2]=t,(t=t+1|0)>>>0<l>>>0;);if(l=p[p[p[e+4>>2]+4>>2]+80>>2])for(f=p[d+68>>2],t=0,h=_[o+84|0];e=t,n=f+(t<<2)|0,r=s,h||(e=p[p[o+68>>2]+(t<<2)>>2]),p[n>>2]=p[(e<<2)+r>>2],(t=t+1|0)>>>0<l>>>0;);s&&(p[i+4>>2]=s,Mo(s))}}return V=i+16|0,0|u}Ao(),E()},a[63]=ti,a[64]=function(e,t,i){t|=0,i|=0;var r,n=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=0;V=r=V-32|0;e:{t:if(p[p[(e|=0)+8>>2]+80>>2]){if(l[r+31|0]=254,c=p[e+36>>2]){if(!a[p[p[e>>2]+40>>2]](e,c))break t;n=p[e+36>>2],d=r,m=0|a[p[p[n>>2]+8>>2]](n),l[d+31|0]=m}if(((0|(n=p[i+20>>2]))<0||(0|n)<=0&&!(b[i+16>>2]>0))&&Yt(i,p[i+4>>2],r+31|0,r+32|0),(n=p[e+36>>2])&&(d=r,m=0|a[p[p[n>>2]+36>>2]](n),l[d+16|0]=m,(0|(n=p[i+20>>2]))>0||(0|n)>=0&&!(b[i+16>>2]<=0)||Yt(i,p[i+4>>2],r+16|0,r+17|0)),n=p[e+32>>2],c=p[n+80>>2],f=l[n+24|0],o=p[p[n>>2]>>2],h=p[n+48>>2],n=0,p[r+24>>2]=0,p[r+16>>2]=0,p[r+20>>2]=0,c=y(c,f)){if(c>>>0>=1073741824)break e;n=oo(s=c<<2),p[r+16>>2]=n,u=n+s|0,p[r+24>>2]=u,Do(n,0,s),p[r+20>>2]=u}s=o+h|0;i:{if(o=p[(h=e+36|0)>>2])if(a[p[p[o>>2]+44>>2]](o,s,n,c,f,p[t>>2]),n=p[h>>2]){if(a[p[p[n>>2]+32>>2]](n))break i;n=p[r+16>>2],s=p[e+36>>2]?n:s}else n=p[r+16>>2];!function(e,t,i){var r=0,n=0,a=0;if((0|t)>0)for(;a=p[(n=r<<2)+e>>2],p[i+n>>2]=a<<1^a>>31,(0|(r=r+1|0))!=(0|t););}(s,c,n)}i:{r:{n:{a:{if((n=p[e+4>>2])&&(h=p[n+48>>2],p[r+8>>2]=0,p[r>>2]=0,p[r+4>>2]=0,n=oo(48),p[r>>2]=n,p[r+4>>2]=34,p[r+8>>2]=-2147483600,l[n+34|0]=0,s=_[2516]|_[2517]<<8,l[n+32|0]=s,l[n+33|0]=s>>>8,s=_[2512]|_[2513]<<8|_[2514]<<16|_[2515]<<24,o=_[2508]|_[2509]<<8|_[2510]<<16|_[2511]<<24,l[n+24|0]=o,l[n+25|0]=o>>>8,l[n+26|0]=o>>>16,l[n+27|0]=o>>>24,l[n+28|0]=s,l[n+29|0]=s>>>8,l[n+30|0]=s>>>16,l[n+31|0]=s>>>24,s=_[2504]|_[2505]<<8|_[2506]<<16|_[2507]<<24,o=_[2500]|_[2501]<<8|_[2502]<<16|_[2503]<<24,l[n+16|0]=o,l[n+17|0]=o>>>8,l[n+18|0]=o>>>16,l[n+19|0]=o>>>24,l[n+20|0]=s,l[n+21|0]=s>>>8,l[n+22|0]=s>>>16,l[n+23|0]=s>>>24,s=_[2496]|_[2497]<<8|_[2498]<<16|_[2499]<<24,o=_[2492]|_[2493]<<8|_[2494]<<16|_[2495]<<24,l[n+8|0]=o,l[n+9|0]=o>>>8,l[n+10|0]=o>>>16,l[n+11|0]=o>>>24,l[n+12|0]=s,l[n+13|0]=s>>>8,l[n+14|0]=s>>>16,l[n+15|0]=s>>>24,s=_[2488]|_[2489]<<8|_[2490]<<16|_[2491]<<24,o=_[2484]|_[2485]<<8|_[2486]<<16|_[2487]<<24,l[0|n]=o,l[n+1|0]=o>>>8,l[n+2|0]=o>>>16,l[n+3|0]=o>>>24,l[n+4|0]=s,l[n+5|0]=s>>>8,l[n+6|0]=s>>>16,l[n+7|0]=s>>>24,n=Aa(h,r,1),l[r+11|0]<=-1&&Mo(p[r>>2]),!n)){if(!c)break a;for(n=0,f=p[r+16>>2],t=0;t=p[f+(n<<2)>>2]|t,(0|c)!=(0|(n=n+1|0)););if(!t)break a;t=1+(x(t)>>>3^3)|0;break n}if(l[0|r]=1,((0|(n=p[i+20>>2]))<0||(0|n)<=0&&!(b[i+16>>2]>0))&&Yt(i,p[i+4>>2],r,r+1|0),n=ha(r),(c=p[e+4>>2])&&function(e,t){var i,r=0,n=0,a=0;V=i=V-16|0,t>>>0<=10&&(r=oo(48),p[i>>2]=r,p[i+4>>2]=33,p[i+8>>2]=-2147483600,l[r+33|0]=0,l[r+32|0]=_[10901],n=_[10897]|_[10898]<<8|_[10899]<<16|_[10900]<<24,a=_[10893]|_[10894]<<8|_[10895]<<16|_[10896]<<24,l[r+24|0]=a,l[r+25|0]=a>>>8,l[r+26|0]=a>>>16,l[r+27|0]=a>>>24,l[r+28|0]=n,l[r+29|0]=n>>>8,l[r+30|0]=n>>>16,l[r+31|0]=n>>>24,n=_[10889]|_[10890]<<8|_[10891]<<16|_[10892]<<24,a=_[10885]|_[10886]<<8|_[10887]<<16|_[10888]<<24,l[r+16|0]=a,l[r+17|0]=a>>>8,l[r+18|0]=a>>>16,l[r+19|0]=a>>>24,l[r+20|0]=n,l[r+21|0]=n>>>8,l[r+22|0]=n>>>16,l[r+23|0]=n>>>24,n=_[10881]|_[10882]<<8|_[10883]<<16|_[10884]<<24,a=_[10877]|_[10878]<<8|_[10879]<<16|_[10880]<<24,l[r+8|0]=a,l[r+9|0]=a>>>8,l[r+10|0]=a>>>16,l[r+11|0]=a>>>24,l[r+12|0]=n,l[r+13|0]=n>>>8,l[r+14|0]=n>>>16,l[r+15|0]=n>>>24,n=_[10873]|_[10874]<<8|_[10875]<<16|_[10876]<<24,a=_[10869]|_[10870]<<8|_[10871]<<16|_[10872]<<24,l[0|r]=a,l[r+1|0]=a>>>8,l[r+2|0]=a>>>16,l[r+3|0]=a>>>24,l[r+4|0]=n,l[r+5|0]=n>>>8,l[r+6|0]=n>>>16,l[r+7|0]=n>>>24,ua(e,i,t),l[i+11|0]<=-1&&Mo(p[i>>2])),V=i+16|0}(n,10-or(p[c+48>>2])|0),t=Ke(p[r+16>>2],y(f,p[t+4>>2]-p[t>>2]>>2),f,n,i),_t(n,p[n+4>>2]),n=0,t)break r;break i}t=1}if(l[0|r]=0,n=f=p[i+20>>2],s=p[i+16>>2],((0|n)<0||(0|n)<=0&&!(s>>>0>0))&&(Yt(i,p[i+4>>2],r,r+1|0),s=p[i+16>>2],n=p[i+20>>2]),l[0|r]=t,((0|n)<0||(0|n)<=0&&!(s>>>0>0))&&Yt(i,p[i+4>>2],r,r+1|0),(0|sa(5))==(0|t))(0|(t=p[i+20>>2]))>0||(0|t)>=0&&!(b[i+16>>2]<=0)||(t=p[r+16>>2],Yt(i,p[i+4>>2],t,t+(c<<2)|0));else{if(!c)break r;for(n=0,f=i+4|0;((0|(s=p[i+20>>2]))<0||(0|s)<=0&&!(b[i+16>>2]>0))&&(s=p[r+16>>2]+(n<<2)|0,Yt(i,p[f>>2],s,t+s|0)),(0|c)!=(0|(n=n+1|0)););}}n=1,(e=p[e+36>>2])&&a[p[p[e>>2]+40>>2]](e,i)}(e=p[r+16>>2])&&(p[r+20>>2]=e,Mo(e))}else n=1;return V=r+32|0,0|n}Ao(),E()},a[65]=function(e,t,i){var r,n,s;e|=0,i|=0,V=r=V-48|0,s=p[(t|=0)+4>>2],t=p[t+12>>2],p[r+40>>2]=0,p[(n=r+32|0)>>2]=0,p[n+4>>2]=0,p[r+24>>2]=0,p[r+28>>2]=0,p[r+16>>2]=0,p[r+20>>2]=0,p[r+8>>2]=0,p[r+12>>2]=0,function(e,t,i,r,n){var s,o=0;s=p[p[p[r+4>>2]+8>>2]+(i<<2)>>2],-1==(0|t)&&(t=he(i,r));e:{if(-2!=(0|t)){if(1==(0|a[p[p[r>>2]+8>>2]](r))){if(function(e,t,i,r,n){var s,o,l=0,c=0;V=s=V-32|0,o=p[p[p[t+4>>2]+8>>2]+(r<<2)>>2];t:{if(!(1!=(0|a[p[p[t>>2]+8>>2]](t))|i+-1>>>0>5)){if(c=0|a[p[p[t>>2]+52>>2]](t),!(l=0|a[p[p[t>>2]+60>>2]](t,r))||!c){p[e>>2]=0;break t}if(r=0|a[p[p[t>>2]+56>>2]](t,r)){if(t=p[t+56>>2],p[s+20>>2]=r,p[s+16>>2]=t,p[s+28>>2]=l,p[s+24>>2]=l+12,function(e,t,i,r,n){var a=0;i:{r:if(!((t=t+-1|0)>>>0>5)){n:switch(t-1|0){default:Wr(t=oo(60),i,r,n),p[t>>2]=2656;break i;case 2:(function(e,t,i,r){Wr(e,t,i,r),p[e+60>>2]=0,p[e+64>>2]=0,p[e>>2]=3420,p[e+68>>2]=0,p[e+72>>2]=0,p[e+76>>2]=0,p[e+80>>2]=0,p[e+84>>2]=0,p[e+88>>2]=0,p[e+92>>2]=0,p[e+96>>2]=0,p[e+100>>2]=0,p[e+104>>2]=0,p[e+108>>2]=0,He(e+112|0),p[e+160>>2]=0,p[e+152>>2]=0,p[e+156>>2]=0})(t=oo(168),i,r,n);break i;case 3:Wr(t=oo(104),i,r,n),p[t+76>>2]=0,p[t+80>>2]=0,p[t+60>>2]=0,p[t+64>>2]=0,p[t>>2]=3668,p[t+84>>2]=0,i=p[n+4>>2],p[t+88>>2]=p[n>>2],p[t+92>>2]=i,i=p[n+12>>2],p[t+96>>2]=p[n+8>>2],p[t+100>>2]=i;break i;case 0:case 1:break r;case 4:break n}Wr(a=oo(140),i,r,n),p[a>>2]=3904,p[(t=a- -64|0)>>2]=0,p[t+4>>2]=0,t=p[n+4>>2],p[a+72>>2]=p[n>>2],p[a+76>>2]=t,t=p[n+12>>2],p[a+80>>2]=p[n+8>>2],p[a+84>>2]=t,p[a+92>>2]=-1,p[a+96>>2]=-1,p[a+88>>2]=1,p[a+60>>2]=4140,p[a+100>>2]=-1,p[a+104>>2]=-1,me(a+108|0)}return void(p[e>>2]=a)}p[e>>2]=t}(e,i,o,n,s+16|0),p[e>>2])break t;p[e>>2]=0}else{if(t=p[t+56>>2],p[s+20>>2]=c,p[s+16>>2]=t,p[s+28>>2]=l,p[s+24>>2]=l+12,function(e,t,i,r,n){var a=0;i:{r:if(!((t=t+-1|0)>>>0>5)){n:switch(t-1|0){default:Gr(t=oo(60),i,r,n),p[t>>2]=4532;break i;case 2:(function(e,t,i,r){Gr(e,t,i,r),p[e+60>>2]=0,p[e+64>>2]=0,p[e>>2]=4956,p[e+68>>2]=0,p[e+72>>2]=0,p[e+76>>2]=0,p[e+80>>2]=0,p[e+84>>2]=0,p[e+88>>2]=0,p[e+92>>2]=0,p[e+96>>2]=0,p[e+100>>2]=0,p[e+104>>2]=0,p[e+108>>2]=0,He(e+112|0),p[e+160>>2]=0,p[e+152>>2]=0,p[e+156>>2]=0})(t=oo(168),i,r,n);break i;case 3:Gr(t=oo(104),i,r,n),p[t+76>>2]=0,p[t+80>>2]=0,p[t+60>>2]=0,p[t+64>>2]=0,p[t>>2]=5192,p[t+84>>2]=0,i=p[n+4>>2],p[t+88>>2]=p[n>>2],p[t+92>>2]=i,i=p[n+12>>2],p[t+96>>2]=p[n+8>>2],p[t+100>>2]=i;break i;case 0:case 1:break r;case 4:break n}Gr(a=oo(140),i,r,n),p[a>>2]=5416,p[(t=a- -64|0)>>2]=0,p[t+4>>2]=0,t=p[n+4>>2],p[a+72>>2]=p[n>>2],p[a+76>>2]=t,t=p[n+12>>2],p[a+80>>2]=p[n+8>>2],p[a+84>>2]=t,p[a+92>>2]=-1,p[a+96>>2]=-1,p[a+88>>2]=1,p[a+60>>2]=5636,p[a+100>>2]=-1,p[a+104>>2]=-1,me(a+108|0)}return void(p[e>>2]=a)}p[e>>2]=t}(e,i,o,n,s+16|0),p[e>>2])break t;p[e>>2]=0}}p[e>>2]=0}V=s+32|0}(e,r,t,i,n),p[e>>2])break e;p[e>>2]=0}(function(e,t,i){var r,n,a,s,o=0,l=0,c=0,f=0;p[e>>2]=3364,p[e+4>>2]=t,t=p[i+8>>2],o=p[i+12>>2],l=p[i+16>>2],n=p[i+20>>2],a=p[i>>2],s=p[i+4>>2],p[e+40>>2]=0,p[(r=e+32|0)>>2]=0,p[r+4>>2]=0,p[e+24>>2]=l,p[e+28>>2]=n,p[e+16>>2]=t,p[e+20>>2]=o,p[e+8>>2]=a,p[e+12>>2]=s;t:{if(t=p[i+28>>2]-p[i+24>>2]|0){if((o=t>>2)>>>0>=1073741824)break t;t=oo(t),p[e+32>>2]=t,p[(l=e+36|0)>>2]=t,p[e+40>>2]=t+(o<<2),o=p[i+24>>2],(0|(i=p[i+28>>2]-o|0))<1||(c=l,f=Io(t,o,i)+i|0,p[c>>2]=f)}return void(p[e>>2]=6e3)}Ao(),E()})(o=oo(44),s,n)}p[e>>2]=o}}(r,i,t,s,r+8|0),(t=p[n>>2])&&(p[r+36>>2]=t,Mo(t)),p[e>>2]=p[r>>2],V=r+48|0},a[66]=function(e,t,i){i|=0;var r,n,a,s,o=0,c=0,f=0;if(o=(t|=0)+4|0,r=p[(e|=0)+8>>2],a=l[0|(n=r+24|0)],function(e,t,i,r){var n,a,s,o=0;V=n=V-80|0,o=ni(n+16|0),a=p[p[e+8>>2]+56>>2],s=i<<24>>24,i=y(sa(5),i),ai(o,a,0,s,5,i,i>>31),i=oo(96),o=oi(i,o),p[n+8>>2]=i,ci(o,t),p[n>>2]=0,i=p[n+8>>2],p[n+8>>2]=0,t=p[(o=e+32|0)>>2],p[o>>2]=i;t?(pt(t),t=p[n>>2],p[n>>2]=0,t&&pt(t)):p[n>>2]=0;r&&(e=p[e+32>>2],l[e+84|0]=0,i=p[e+68>>2],(t=p[e+72>>2]-i>>2)>>>0<r>>>0?ri(e+68|0,r-t|0,2644):t>>>0<=r>>>0||(p[e+72>>2]=i+(r<<2)));e=p[n+8>>2],p[n+8>>2]=0,e&&pt(e);V=n+80|0}(e,p[o>>2]-p[t>>2]>>2,a,i),(0|(t=p[t>>2]))!=(0|(s=p[o>>2])))for(e=p[e+32>>2],c=p[p[e>>2]>>2]+p[e+48>>2]|0,e=0,f=r+68|0;;){if(i=p[t>>2],o=r,_[r+84|0]||(i=p[p[f>>2]+(i<<2)>>2]),!sr(o,i,l[0|n],(e<<2)+c|0))return 0;if(e=e+a|0,(0|s)==(0|(t=t+4|0)))break}return 1},a[67]=function(e){var t;return p[(e|=0)>>2]=3364,(t=p[e+32>>2])&&(p[e+36>>2]=t,Mo(t)),0|e},a[68]=Hr,a[69]=ti,a[70]=Yr,a[71]=Xr,a[72]=Fr,a[73]=Zr,a[74]=er,a[75]=Fr,a[76]=ti,a[77]=function(e,t){e|=0,t|=0;var i,r,n=0,a=0;return V=i=V-16|0,p[i+12>>2]=p[e+12>>2],n=r=p[t+20>>2],a=p[t+16>>2],((0|r)<0||(0|r)<=0&&!(a>>>0>0))&&(Yt(t,p[t+4>>2],i+12|0,i+16|0),a=p[t+16>>2],n=p[t+20>>2]),p[i+8>>2]=p[e+16>>2],((0|n)<0||(0|n)<=0&&!(a>>>0>0))&&Yt(t,p[t+4>>2],i+8|0,i+12|0),V=i+16|0,1},a[78]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,b=0,A=0,v=0,g=0,k=0,x=0,S=0,T=0,w=0,M=0,P=0;if(p[(e|=0)+8>>2]=n,f=p[(s=e+32|0)>>2],(a=p[e+36>>2]-f>>2)>>>0<n>>>0?Qr(s,n-a|0):a>>>0<=n>>>0||(p[e+36>>2]=f+(n<<2)),r){if(f=1,s=p[t>>2],(0|r)<=1)a=s;else for(a=s;a=(_=(0|(l=p[(f<<2)+t>>2]))<(0|a))?l:a,s=_?s:(0|l)>(0|s)?l:s,(0|(f=f+1|0))!=(0|r););p[e+16>>2]=s,p[e+12>>2]=a,!(r=(s>>31)-((a>>31)+(s>>>0<a>>>0)|0)|0)&(a=s-a|0)>>>0>2147483646|r>>>0>0||(r=a+1|0,p[e+20>>2]=r,a=(0|r)/2|0,p[(s=e+24|0)>>2]=a,p[e+28>>2]=0-a,1&r||(p[s>>2]=a+-1))}if(f=Do(oo(r=(1073741823&n)!=(0|n)?-1:n<<2),0,r),r=p[e+56>>2],g=p[r>>2],(0|(r=p[r+4>>2]-g|0))>=5)for(v=p[e+48>>2],P=p[e+52>>2],d=e+8|0,m=e+16|0,b=e+32|0,S=e+12|0,T=e+28|0,A=e+20|0,w=e+24|0,l=M=r>>2;;){_=l;e:{t:{if(M>>>0>(l=l+-1|0)>>>0){if(a=y(n,l),-1==(0|(r=p[(l<<2)+g>>2]))|p[p[v>>2]+(r>>>3&536870908)>>2]>>>(31&r)&1)break t;if(-1==(0|(r=p[p[p[v+64>>2]+12>>2]+(r<<2)>>2])))break t;if(o=p[P>>2],s=p[v+28>>2],(0|(c=p[o+(p[s+(r<<2)>>2]<<2)>>2]))>=(0|l))break t;if((0|(h=p[o+(p[s+((((h=r+1|0)>>>0)%3|0?h:r+-2|0)<<2)>>2]<<2)>>2]))>=(0|l))break t;if((0|(r=p[o+(p[s+(r+((r>>>0)%3|0?-1:2)<<2)>>2]<<2)>>2]))>=(0|l))break t;if((0|n)>=1)for(r=y(r,n),o=y(n,h),c=y(n,c),s=0;p[(s<<2)+f>>2]=(p[(r+s<<2)+t>>2]+p[(s+o<<2)+t>>2]|0)-p[(s+c<<2)+t>>2],(0|(s=s+1|0))!=(0|n););if((0|(r=p[d>>2]))<1)break e;for(k=(a<<=2)+i|0,x=t+a|0,a=f,o=0;;){if(s=0,(0|r)<=0)r=p[b>>2];else for(;(0|(h=p[(c=s<<2)+a>>2]))>(0|(u=p[m>>2]))?(r=p[b>>2],p[c+r>>2]=u):(c=c+(r=p[b>>2])|0,u=p[S>>2],p[c>>2]=(0|h)<(0|u)?u:h),(0|(s=s+1|0))<p[d>>2];);a=(s=o<<2)+k|0,s=p[s+x>>2]-p[r+s>>2]|0,p[a>>2]=s;i:{if((0|s)<p[T>>2])s=s+p[A>>2]|0;else{if((0|s)<=p[w>>2])break i;s=s-p[A>>2]|0}p[a>>2]=s}if(a=r,!((0|(o=o+1|0))<(0|(r=p[d>>2]))))break}break e}vo(),E()}if(!((0|(r=p[d>>2]))<1))for(k=(a<<=2)+i|0,x=t+a|0,a=(y(_+-2|0,n)<<2)+t|0,o=0;;){if(s=0,(0|r)<=0)r=p[b>>2];else for(;(0|(h=p[(c=s<<2)+a>>2]))>(0|(u=p[m>>2]))?(r=p[b>>2],p[c+r>>2]=u):(c=c+(r=p[b>>2])|0,u=p[S>>2],p[c>>2]=(0|h)<(0|u)?u:h),(0|(s=s+1|0))<p[d>>2];);a=(s=o<<2)+k|0,s=p[s+x>>2]-p[r+s>>2]|0,p[a>>2]=s;t:{if((0|s)<p[T>>2])s=s+p[A>>2]|0;else{if((0|s)<=p[w>>2])break t;s=s-p[A>>2]|0}p[a>>2]=s}if(a=r,!((0|(o=o+1|0))<(0|(r=p[d>>2]))))break}}if(!((0|_)>2))break}if((0|n)>=1&&Do(f,0,n<<2),(0|(r=p[(l=e+8|0)>>2]))>=1)for(b=e+16|0,a=e+32|0,A=e+12|0,v=e+28|0,_=e+20|0,g=e+24|0,e=f,o=0;;){if(s=0,(0|r)<=0)r=p[a>>2];else for(;(0|(d=p[(n=s<<2)+e>>2]))>(0|(m=p[b>>2]))?(r=p[a>>2],p[n+r>>2]=m):(n=n+(r=p[a>>2])|0,m=p[A>>2],p[n>>2]=(0|d)<(0|m)?m:d),(0|(s=s+1|0))<p[l>>2];);e=(n=o<<2)+i|0,n=p[t+n>>2]-p[r+n>>2]|0,p[e>>2]=n;e:{if((0|n)<p[v>>2])n=n+p[_>>2]|0;else{if((0|n)<=p[g>>2])break e;n=n-p[_>>2]|0}p[e>>2]=n}if(e=r,!((0|(o=o+1|0))<(0|(r=p[l>>2]))))break}return Mo(f),1},a[79]=$i,a[80]=$i,a[81]=Jr,a[82]=function(e){Mo(Jr(e|=0))},a[83]=qr,a[84]=Xr,a[85]=Kr,a[86]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s,o,c,f=0,h=0,u=0,d=0,m=0,b=0,A=0,v=0,g=0,x=0,M=0,P=0,R=0,C=0,O=0,I=0,D=0,F=0,N=0,B=0,L=0,U=0,j=0,W=0,G=0,H=0,Y=0,X=0,Z=0,Q=0,J=0,q=0,K=0,$=0,ee=0,te=0,ie=0,re=0;if(V=s=V-240|0,p[(e|=0)+8>>2]=n,f=p[(h=e+32|0)>>2],(a=p[e+36>>2]-f>>2)>>>0<n>>>0?Qr(h,n-a|0):a>>>0<=n>>>0||(p[e+36>>2]=f+(n<<2)),r){if(u=1,f=p[t>>2],(0|r)<=1)h=f;else for(h=f;h=(d=(0|(a=p[(u<<2)+t>>2]))<(0|h))?a:h,f=d?f:(0|a)>(0|f)?a:f,(0|(u=u+1|0))!=(0|r););p[e+16>>2]=f,p[e+12>>2]=h,!(a=(f>>31)-((f>>>0<(r=h)>>>0)+(r>>31)|0)|0)&(r=f-r|0)>>>0>2147483646|a>>>0>0||(r=r+1|0,p[e+20>>2]=r,a=(0|r)/2|0,p[(h=e+24|0)>>2]=a,p[e+28>>2]=0-a,1&r||(p[h>>2]=a+-1))}c=p[e+52>>2],o=p[e+48>>2],p[s+200>>2]=0,p[s+204>>2]=0,p[s+192>>2]=0,p[s+196>>2]=0,p[s+184>>2]=0,p[s+188>>2]=0,p[(r=s+176|0)>>2]=0,p[r+4>>2]=0,p[s+168>>2]=0,p[s+172>>2]=0,p[s+160>>2]=0,p[s+164>>2]=0,n?(Qr(s+160|0,n),u=p[r>>2],r=p[s+172>>2]):(u=0,r=0);e:if((a=u-r>>2)>>>0>=n>>>0){if(a>>>0<=n>>>0)break e;p[s+176>>2]=r+(n<<2)}else Qr(s+160|12,n-a|0);a=p[s+184>>2];e:if((r=p[s+188>>2]-a>>2)>>>0>=n>>>0){if(r>>>0<=n>>>0)break e;p[s+188>>2]=a+(n<<2)}else Qr(s+184|0,n-r|0);a=p[s+196>>2];e:if((r=p[s+200>>2]-a>>2)>>>0>=n>>>0){if(r>>>0<=n>>>0)break e;p[s+200>>2]=a+(n<<2)}else Qr(s+196|0,n-r|0);p[s+152>>2]=0,p[s+144>>2]=0,p[s+148>>2]=0;e:{t:{if(n){if(n>>>0>=1073741824)break t;a=oo(r=n<<2),p[s+144>>2]=a,h=r+a|0,p[s+152>>2]=h,Do(a,0,r),p[s+148>>2]=h}if(B=e+152|0,a=p[e+152>>2],(r=p[e+156>>2]-a>>2)>>>0<n>>>0?Qr(B,n-r|0):r>>>0<=n>>>0||(p[e+156>>2]=a+(n<<2)),p[s+120>>2]=0,p[s+124>>2]=0,p[s+112>>2]=0,p[s+116>>2]=0,p[s+104>>2]=0,p[s+108>>2]=0,p[s+96>>2]=0,p[s+100>>2]=0,p[s+88>>2]=0,p[s+92>>2]=0,p[s+80>>2]=0,p[s+84>>2]=0,p[s+72>>2]=0,p[s+76>>2]=0,p[s+64>>2]=0,p[s+68>>2]=0,p[s+56>>2]=0,p[s+48>>2]=0,p[s+52>>2]=0,n&&(I=oo(r=n<<2),p[s+48>>2]=I,L=r+I|0,p[s+56>>2]=L,Do(I,0,r),p[s+52>>2]=L),r=p[e+56>>2],u=p[r>>2],(0|(r=p[r+4>>2]-u|0))<5)break e;if(r>>2>>>0>(h=(D=r>>>2)+-1|0)>>>0)for(W=n<<2,U=e+112|0,J=s+141|0,G=s+36|0,H=s+24|0,q=(M=s+20|0)+24|0,Y=M+16|0,j=e+152|0,K=e+28|0,X=e+20|0;;){a=0,P=h;i:if(-1!=(0|(r=p[(h<<2)+u>>2])))for(g=(d=r+((r>>>0)%3|0?-1:2)|0)>>>5,h=1,R=1<<(31&d),A=p[o>>2],m=0,u=r;;){if(!(p[A+(u>>>3&536870908)>>2]>>>(31&u)&1)&&-1!=(0|(a=p[p[p[o+64>>2]+12>>2]+(u<<2)>>2]))&&(b=p[c>>2],f=p[o+28>>2],!((0|(C=p[b+(p[f+(a<<2)>>2]<<2)>>2]))>=(0|P))&&!((0|(v=p[b+(p[f+((((v=a+1|0)>>>0)%3|0?v:a+-2|0)<<2)>>2]<<2)>>2]))>=(0|P))&&!((0|(a=p[b+(p[f+(a+((a>>>0)%3|0?-1:2)<<2)>>2]<<2)>>2]))>=(0|P)))){if((0|n)>=1)for(b=p[(s+160|0)+y(m,12)>>2],a=y(n,a),v=y(n,v),C=y(n,C),f=0;p[b+(f<<2)>>2]=(p[(a+f<<2)+t>>2]+p[(f+v<<2)+t>>2]|0)-p[(f+C<<2)+t>>2],(0|(f=f+1|0))!=(0|n););if(a=4,4==(0|(m=m+1|0)))break i}r:if(1&h){if(f=-1,-1==(0|(a=((a=u+1|0)>>>0)%3|0?a:u+-2|0))|p[p[o>>2]+(a>>>3&536870908)>>2]>>>(31&a)&1)break r;if(-1==(0|(a=p[p[p[o+64>>2]+12>>2]+(a<<2)>>2])))break r;f=((f=a+1|0)>>>0)%3|0?f:a+-2|0}else f=-1,-1==(0|(a=((u>>>0)%3|0?-1:2)+u|0))|p[p[o>>2]+(a>>>3&536870908)>>2]>>>(31&a)&1||-1!=(0|(a=p[p[p[o+64>>2]+12>>2]+(a<<2)>>2]))&&(f=(a>>>0)%3?a+-1|0:a+2|0);if((0|r)==(0|f)){a=m;break i}if(u=f,u=(f=1&((a=-1!=(0|f))|-1^h))?u:-1,h&=a,!(-1==(0|d)|f)){if(R&p[p[o>>2]+(g<<2)>>2]){a=m;break i}if(-1==(0|(a=p[p[p[o+64>>2]+12>>2]+(d<<2)>>2]))){a=m;break i}u=(a>>>0)%3?a+-1|0:a+2|0,h=0}if(a=m,-1==(0|u))break}if(u=0,l[s+16|0]=0,p[s+8>>2]=0,p[s+12>>2]=0,p[q>>2]=0,p[Y>>2]=0,p[Y+4>>2]=0,p[(r=M)+8>>2]=0,p[r+12>>2]=0,p[r>>2]=0,p[r+4>>2]=0,C=(Z=y(n,P)<<2)+t|0,m=(y(D+-2|0,n)<<2)+t|0,d=p[j>>2],h=0,(0|n)>0)for(;r=p[(f=h<<2)+m>>2]-p[f+C>>2]|0,p[f+I>>2]=r,R=f+d|0,f=r>>31,p[R>>2]=f^r<<1,u=(f^r+f)+u|0,(0|(h=h+1|0))!=(0|n););if(Ye(s+216|0,U,d,n),r=Qe(s+216|0),f=z,h=(d=Je(s+216|0))+r|0,r=z+f|0,r=h>>>0<d>>>0?r+1|0:r,f=h,(v=(0|a)>0)&&(g=d=(b=(a<<3)-8|0)+(s- -64|0)|0,F=d,h=p[d+4>>2],(R=a+p[d>>2]|0)>>>0<a>>>0&&(h=h+1|0),d=R,p[F>>2]=d,p[g+4>>2]=h,x=w(Ge(d,p[b+(s+96|0)>>2])*(+(d>>>0)+4294967296*+(0|h))),k(x)<0x8000000000000000?(d=k(x)>=1?x>0?~~S(T(x/4294967296),4294967295)>>>0:~~w((x-+(~~x>>>0>>>0))/4294967296)>>>0:0,h=~~x>>>0):(d=-2147483648,h=0),r=r+d|0,(h=f+h|0)>>>0<f>>>0&&(r=r+1|0),f=h),p[s+20>>2]=0,l[s+16|0]=0,p[s+8>>2]=f,p[s+12>>2]=u,qt(H,m,m+W|0),$r(G,I,L),(0|a)>=1)for(R=(g=(s+140|0)+a|0)+-2|0,b=g+-1|0,Q=(r=(a<<3)-8|0)+(s- -64|0)|0,$=r+(s+96|0)|0,m=1,N=0;;){Do(s+140|0,1,a),Do(s+140|0,0,N=N+1|0),ee=p[s+52>>2],te=p[s+48>>2];i:{r:for(;;){for((h=(0|n)<1)||Do(p[s+144>>2],0,W),r=0,d=p[s+144>>2],A=0;;){if(!_[(s+140|0)+r|0]){if(!h)for(u=p[(s+160|0)+y(r,12)>>2],f=0;p[(F=(O=f<<2)+d|0)>>2]=p[F>>2]+p[u+O>>2],(0|(f=f+1|0))!=(0|n););A|=1<<r}if((0|a)==(0|(r=r+1|0)))break}f=0;n:if((0|n)>0){for(O=p[s+144>>2];p[(r=O+(f<<2)|0)>>2]=p[r>>2]/(0|m),(0|(f=f+1|0))!=(0|n););if(d=0,r=p[j>>2],(0|n)<=0)break n;for(h=0;f=p[(u=h<<2)+O>>2]-p[u+C>>2]|0,p[u+I>>2]=f,F=r+u|0,u=f>>31,p[F>>2]=u^f<<1,d=(u^f+u)+d|0,(0|(h=h+1|0))!=(0|n););}else r=p[j>>2],d=0;if(Ye(s+216|0,U,r,n),f=h=Qe(s+216|0)+Je(s+216|0)|0,v&&(r=p[Q+4>>2],h=p[Q>>2],x=w(Ge(h,p[$>>2]+m|0)*(+(h>>>0)+4294967296*+(0|r))),f=(r=k(x)<0x8000000000000000?~~x>>>0:0)+f|0),(0|f)>(0|(r=p[s+8>>2]))|(0|d)>=p[s+12>>2]&&(0|f)>=(0|r)||(p[s+20>>2]=m,l[s+16|0]=A,p[s+8>>2]=f,p[s+12>>2]=d,$r(H,p[s+144>>2],p[s+148>>2]),$r(G,te,ee)),(0|b)==(s+140|0))break i;for(u=-1,f=r=_[0|b];;){if(d=255&f,(f=_[0|(A=(h=u+-1|0)+g|0)])>>>0<d>>>0){if(d=b,h=g,f>>>0>=(255&r)>>>0){for(;d=(r=d)+-1|0,O=h+-2|0,h=r,f>>>0>=_[0|O];);r=1}if(h=u+g|0,l[0|A]=r,l[0|d]=f,f=b,-1==(0|u))continue r;for(;r=_[0|h],l[0|h]=_[0|f],l[0|f]=r,(h=h+1|0)>>>0<(f=f+-1|0)>>>0;);continue r}if(u=h,(0|A)==(s+140|0))break}break}if(!(b>>>0<=s+140>>>0)&&(h=_[s+140|0],l[s+140|0]=r,l[0|b]=h,!((u=J)>>>0>=(f=R)>>>0)))for(;r=_[0|u],l[0|u]=_[0|f],l[0|f]=r,(u=u+1|0)>>>0<(f=f+-1|0)>>>0;);}if(m=m+1|0,(0|a)==(0|N))break}if(v&&(f=r=88+((a<<3)+s|0)|0,h=(u=d=p[s+20>>2])+p[r>>2]|0,r=p[r+4>>2]+(u>>31)|0,p[f>>2]=h,p[f+4>>2]=h>>>0<u>>>0?r+1|0:r),(0|n)<=0)h=p[B>>2];else for(h=p[B>>2],f=0,d=p[s+36>>2];r=p[(u=f<<2)+d>>2],p[h+u>>2]=r<<1^r>>31,(0|(f=f+1|0))!=(0|n););Ze(s+216|0,U,h,n);i:if(v){for(b=(r=y(a,12)+e|0)+56|0,d=r+52|0,r=r+48|0,u=0;;){r:{if(h=(m=p[b>>2])<<5,f=p[d>>2],_[s+16|0]>>>u&1){if((0|f)==(0|h)){if((f+1|0)<=-1)break r;Lr(h=r,f=f>>>0<=1073741822?(m<<=6)>>>0<(f=f+32&-32)>>>0?f:m:2147483647),f=p[d>>2]}p[d>>2]=f+1,h=p[r>>2]+(f>>>3&536870908)|0,m=p[h>>2],ie=h,re=zo(-2,f)&m,p[ie>>2]=re}else{if((0|f)==(0|h)){if((f+1|0)<=-1)break r;Lr(h=r,f=f>>>0<=1073741822?(m<<=6)>>>0<(f=f+32&-32)>>>0?f:m:2147483647),f=p[d>>2]}p[d>>2]=f+1,h=p[r>>2]+(f>>>3&536870908)|0,p[h>>2]=p[h>>2]|1<<(31&f)}if((0|(u=u+1|0))!=(0|a))continue;break i}break}Ao(),E()}if((0|(u=p[(h=e+8|0)>>2]))>=1)for(m=i+Z|0,a=p[s+24>>2],A=0;;){if(f=0,(0|u)<=0)d=p[e+32>>2];else for(;(0|(u=p[(r=f<<2)+a>>2]))>(0|(b=p[e+16>>2]))?(d=p[e+32>>2],p[r+d>>2]=b):(r=r+(d=p[e+32>>2])|0,b=p[e+12>>2],p[r>>2]=(0|u)<(0|b)?b:u),(0|(f=f+1|0))<p[h>>2];);r=(a=A<<2)+m|0,a=p[a+C>>2]-p[a+d>>2]|0,p[r>>2]=a;i:{if((0|a)<p[K>>2])a=a+p[X>>2]|0;else{if((0|a)<=p[e+24>>2])break i;a=a-p[X>>2]|0}p[r>>2]=a}if(a=d,!((0|(A=A+1|0))<(0|(u=p[h>>2]))))break}if((r=p[s+36>>2])&&(p[s+40>>2]=r,Mo(r)),(r=p[s+24>>2])&&(p[s+28>>2]=r,Mo(r)),(0|D)<3)break e;if(D=P,r=p[e+56>>2],u=p[r>>2],h=P+-1|0,!(p[r+4>>2]-u>>2>>>0>h>>>0))break}vo(),E()}Ao(),E()}if(f=0,d=p[s+160>>2],(0|n)>0)for(;p[(f<<2)+d>>2]=0,(0|(f=f+1|0))!=(0|n););if((0|(u=p[(h=e+8|0)>>2]))>=1)for(P=e+16|0,a=e+32|0,b=e+12|0,g=e+28|0,m=e+20|0,D=e+24|0,e=0;;){if(f=0,(0|u)<=0)u=p[a>>2];else for(;(0|(n=p[(r=f<<2)+d>>2]))>(0|(M=p[P>>2]))?(u=p[a>>2],p[r+u>>2]=M):(r=r+(u=p[a>>2])|0,M=p[b>>2],p[r>>2]=(0|n)<(0|M)?M:n),(0|(f=f+1|0))<p[h>>2];);r=(n=e<<2)+i|0,n=p[t+n>>2]-p[n+u>>2]|0,p[r>>2]=n;e:{if((0|n)<p[g>>2])n=n+p[m>>2]|0;else{if((0|n)<=p[D>>2])break e;n=n-p[m>>2]|0}p[r>>2]=n}if(d=u,!((0|(e=e+1|0))<(0|(u=p[h>>2]))))break}return(e=p[s+48>>2])&&(p[s+52>>2]=e,Mo(e)),(e=p[s+144>>2])&&(p[s+148>>2]=e,Mo(e)),(e=p[s+196>>2])&&(p[s+200>>2]=e,Mo(e)),(e=p[s+184>>2])&&(p[s+188>>2]=e,Mo(e)),(e=p[s+172>>2])&&(p[s+176>>2]=e,Mo(e)),(e=p[s+160>>2])&&(p[s+164>>2]=e,Mo(e)),V=s+240|0,1},a[87]=function(e){var t=0;return p[(e|=0)>>2]=3668,(t=p[e+76>>2])&&Mo(t),p[e>>2]=3364,(t=p[e+32>>2])&&(p[e+36>>2]=t,Mo(t)),0|e},a[88]=function(e){var t=0;p[(e|=0)>>2]=3668,(t=p[e+76>>2])&&Mo(t),p[e>>2]=3364,(t=p[e+32>>2])&&(p[e+36>>2]=t,Mo(t)),Mo(e)},a[89]=en,a[90]=tn,a[91]=ti,a[92]=er,a[93]=rn,a[94]=nn,a[95]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,b=0,A=0,v=0,g=0,k=0,x=0,S=0;if(p[(e|=0)+8>>2]=n,p[e- -64>>2]=a,o=p[(s=e+32|0)>>2],(a=p[e+36>>2]-o>>2)>>>0<n>>>0?Qr(s,n-a|0):a>>>0<=n>>>0||(p[e+36>>2]=o+(n<<2)),r){if(o=1,a=p[t>>2],(0|r)<=1)s=a;else for(s=a;s=(c=(0|(l=p[(o<<2)+t>>2]))<(0|s))?l:s,a=c?a:(0|l)>(0|a)?l:a,(0|(o=o+1|0))!=(0|r););p[e+16>>2]=a,p[e+12>>2]=s,!(r=(a>>31)-((s>>31)+(a>>>0<s>>>0)|0)|0)&(a=a-s|0)>>>0>2147483646|r>>>0>0||(r=a+1|0,p[e+20>>2]=r,a=(0|r)/2|0,p[(s=e+24|0)>>2]=a,p[e+28>>2]=0-a,1&r||(p[s>>2]=a+-1))}a=p[e+56>>2],r=p[a>>2];e:if(!((0|(a=p[a+4>>2]-r|0))<1)){if(a>>2>>>0>(o=(a>>>2)-1|0)>>>0)for(m=e+60|0,s=e+68|0,l=e+8|0,b=e+16|0,c=e+32|0,A=e+12|0,v=e+28|0,_=e+20|0,g=e+24|0,k=e+56|0;;){if(j(m,p[(o<<2)+r>>2],t,o),(0|(r=p[l>>2]))>=1)for(x=(e=y(n,o)<<2)+i|0,S=e+t|0,e=s,u=0;;){if(a=0,(0|r)<=0)r=p[c>>2];else for(;(0|(d=p[(f=a<<2)+e>>2]))>(0|(h=p[b>>2]))?(r=p[c>>2],p[f+r>>2]=h):(f=f+(r=p[c>>2])|0,h=p[A>>2],p[f>>2]=(0|d)<(0|h)?h:d),(0|(a=a+1|0))<p[l>>2];);e=(a=u<<2)+x|0,a=p[a+S>>2]-p[r+a>>2]|0,p[e>>2]=a;t:{if((0|a)<p[v>>2])a=a+p[_>>2]|0;else{if((0|a)<=p[g>>2])break t;a=a-p[_>>2]|0}p[e>>2]=a}if(e=r,!((0|(u=u+1|0))<(0|(r=p[l>>2]))))break}if((0|(o=o+-1|0))<0)break e;if(e=p[k>>2],r=p[e>>2],!(p[e+4>>2]-r>>2>>>0>o>>>0))break}vo(),E()}return 1},a[96]=function(e){var t;return p[(e|=0)>>2]=3904,be(e+108|0),p[e>>2]=3364,(t=p[e+32>>2])&&(p[e+36>>2]=t,Mo(t)),0|e},a[97]=function(e){var t;p[(e|=0)>>2]=3904,be(e+108|0),p[e>>2]=3364,(t=p[e+32>>2])&&(p[e+36>>2]=t,Mo(t)),Mo(e)},a[98]=G,a[99]=H,a[100]=ti,a[101]=er,a[102]=Y,a[103]=X,a[104]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s,o,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,b=0,A=0,v=0,y=0,g=0,k=0,x=0,S=0,T=0,w=0;V=s=V-48|0,p[(e|=0)+68>>2]=a,ve(o=e+108|0),r=p[e+56>>2],n=p[r>>2],l=p[(a=r+4|0)>>2],p[s+40>>2]=0,p[s+32>>2]=0,p[s+36>>2]=0,p[s+24>>2]=0,p[s+28>>2]=0,p[s+16>>2]=0,p[s+20>>2]=0,p[s+8>>2]=0,p[s+12>>2]=0,p[s>>2]=0,p[s+4>>2]=0;e:if(!((0|(n=l-n|0))<1)){if((0|(c=p[r>>2]))!=p[a>>2])for(x=n>>2,S=e+60|0,T=i+4|0,b=e+8|0,v=e+16|0,A=e+32|0,y=e+12|0,g=e+28|0,m=e+20|0,k=e+24|0,w=e+56|0;;){if(Z(S,p[(_<<2)+c>>2],s+32|0),l=(a=p[s+36>>2])>>31,f=(n=p[s+32>>2])>>31,h=(c=p[s+40>>2])>>31,r=0,(l=(h^=c+h)+((l^a+l)+(f^n+f)|0)|0)>>>0<h>>>0&&(r=1),r|l?(a=Lo(Bo(f=u=p[e+104>>2],h=f>>31,a,a>>31),z,l,r),p[s+36>>2]=a,n=Lo(Bo(f,h,n,n>>31),z,l,r),p[s+32>>2]=n,r=(f-((r=n>>31)+n^r)|0)+((0|a)<0?a:0-a|0)|0,c=(0|c)>-1?r:0-r|0,p[s+40>>2]=c):(u=p[e+104>>2],p[s+32>>2]=u,n=u),(0|n)>=0?(l=a+u|0,h=c+u|0):((0|a)<=-1?l=(r=c>>31)+c^r:(r=c>>31,l=p[e+100>>2]-(r+c^r)|0),(0|c)<=-1?h=(r=a>>31)+a^r:(r=a>>31,h=p[e+100>>2]-(r+a^r)|0)),d=r=p[e+100>>2],f=r,l|h&&((0|r)!=(0|h)|l?(0|r)!=(0|l)|h?(0|u)>=(0|h)|l?(0|r)!=(0|l)|(0|u)<=(0|h)?(0|r)!=(0|h)|(0|u)<=(0|l)?h?(d=h,f=l):(d=0,f=l,(0|u)>=(0|l)||(f=(u<<1)-l|0)):(d=h,f=(u<<1)-l|0):(d=(u<<1)-h|0,f=l):(d=(u<<1)-h|0,f=0):(d=l,f=l):(d=h,f=h)),p[s+28>>2]=d,p[s+24>>2]=f,p[s+40>>2]=0-c,p[s+36>>2]=0-a,p[s+32>>2]=0-n,(0|n)<=0?(n=u-c|0,a=u-a|0):(n=a>>31,n^=n+a,n=(0|c)>0?n:r-n|0,l=c>>31,l^=l+c,a=(0|a)>0?l:r-l|0),n|a&&(0|r)!=(0|n)|a&&n|(l=(0|r)!=(0|a))?(0|u)>=(0|n)|a?(0|u)<=(0|n)|l?(0|r)!=(0|n)|(0|u)<=(0|a)?n?r=a:(n=0,r=(0|u)>=(0|a)?a:(u<<1)-a|0):(n=r,r=(u<<1)-a|0):n=(u<<1)-n|0:(n=(u<<1)-n|0,r=0):n=r,p[s+20>>2]=n,p[s+16>>2]=r,!((0|(c=p[b>>2]))<1)){for(h=(_<<3)+t|0,f=s+24|0,l=0;;){if(a=0,(0|c)<=0)r=p[A>>2];else for(;(0|(d=p[(n=a<<2)+f>>2]))>(0|(c=p[v>>2]))?(r=p[A>>2],p[n+r>>2]=c):(n=n+(r=p[A>>2])|0,c=p[y>>2],p[n>>2]=(0|d)<(0|c)?c:d),(0|(a=a+1|0))<(0|(c=p[b>>2])););n=(a=l<<2)+(s+8|0)|0,f=p[a+h>>2]-p[r+a>>2]|0,p[n>>2]=f,a=n,n=p[g>>2],d=f+p[m>>2]|0;t:{if(!((0|f)<(0|n))){if((0|f)<=p[k>>2])break t;d=f-p[m>>2]|0}p[a>>2]=d}if(f=r,!((0|(l=l+1|0))<(0|c)))break}if(l=0,f=s+16|0,!((0|c)<1))for(;;){if(a=0,(0|c)>=1){for(;(0|(d=p[(n=a<<2)+f>>2]))>(0|(c=p[v>>2]))?p[r+n>>2]=c:(n=r+n|0,c=p[y>>2],p[n>>2]=(0|d)<(0|c)?c:d),(0|(a=a+1|0))<(0|(c=p[b>>2])););n=p[g>>2]}a=(f=l<<2)+s|0,f=p[f+h>>2]-p[r+f>>2]|0,p[a>>2]=f;t:{if((0|f)<(0|n))f=f+p[m>>2]|0;else{if((0|f)<=p[k>>2])break t;f=f-p[m>>2]|0}p[a>>2]=f}if(f=r,!((0|(l=l+1|0))<(0|c)))break}}(0|(l=p[e+104>>2]))<(0|(c=p[s+8>>2]))?c=c-p[e+96>>2]|0:(0|c)>=(0-l|0)||(c=p[e+96>>2]+c|0),p[s+8>>2]=c,(0|l)<(0|(n=p[s+12>>2]))?n=n-p[e+96>>2]|0:(0|n)>=(0-l|0)||(n=p[e+96>>2]+n|0),p[s+12>>2]=n,(0|l)<(0|(r=p[s>>2]))?r=r-p[e+96>>2]|0:(0|r)>=(0-l|0)||(r=p[e+96>>2]+r|0),p[s>>2]=r,(0|l)<(0|(a=p[s+4>>2]))?a=a-p[e+96>>2]|0:(0|a)>=(0-l|0)||(a=p[e+96>>2]+a|0),l=_<<1,p[s+4>>2]=a;t:if((0|(h=(h=(f=n>>31)+n^f)+((f=c>>31)+c^f)|0))<((d=(f=a>>31)+a^f)+((f=r>>31)+r^f)|0)){if(ye(o,0),r=(l<<2)+i|0,(0|c)<=-1&&(c=p[e+96>>2]+c|0),p[r>>2]=c,(0|n)>-1){a=n;break t}a=p[e+96>>2]+n|0}else ye(o,1),n=(l<<2)+i|0,(0|r)<=-1&&(r=p[e+96>>2]+r|0),p[n>>2]=r,(0|a)>-1||(a=p[e+96>>2]+a|0);if(p[(l<<2)+T>>2]=a,(0|(_=_+1|0))>=(0|x))break e;if(r=p[w>>2],c=p[r>>2],!(p[r+4>>2]-c>>2>>>0>_>>>0))break}vo(),E()}return V=s+48|0,1},a[105]=Nt,a[106]=Zt,a[107]=Q,a[108]=ut,a[109]=Z,a[110]=Hr,a[111]=ti,a[112]=Xr,a[113]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,b=0,A=0,v=0,g=0,k=0,x=0,S=0,T=0,w=0,M=0,P=0;if(p[(e|=0)+8>>2]=n,f=p[(s=e+32|0)>>2],(a=p[e+36>>2]-f>>2)>>>0<n>>>0?Qr(s,n-a|0):a>>>0<=n>>>0||(p[e+36>>2]=f+(n<<2)),r){if(o=1,s=p[t>>2],(0|r)<=1)a=s;else for(a=s;a=(c=(0|(f=p[(o<<2)+t>>2]))<(0|a))?f:a,s=c?s:(0|f)>(0|s)?f:s,(0|(o=o+1|0))!=(0|r););p[e+16>>2]=s,p[e+12>>2]=a,!(r=(s>>31)-((a>>31)+(s>>>0<a>>>0)|0)|0)&(a=s-a|0)>>>0>2147483646|r>>>0>0||(r=a+1|0,p[e+20>>2]=r,a=(0|r)/2|0,p[(s=e+24|0)>>2]=a,p[e+28>>2]=0-a,1&r||(p[s>>2]=a+-1))}if(f=Do(oo(r=(1073741823&n)!=(0|n)?-1:n<<2),0,r),r=p[e+56>>2],g=p[r>>2],(0|(r=p[r+4>>2]-g|0))>=5)for(k=p[e+48>>2],P=p[e+52>>2],d=e+8|0,m=e+16|0,b=e+32|0,S=e+12|0,T=e+28|0,A=e+20|0,w=e+24|0,c=M=r>>2;;){v=c;e:{t:{if(M>>>0>(c=c+-1|0)>>>0){if(a=y(n,c),-1==(0|(r=p[(c<<2)+g>>2])))break t;if(-1==(0|(r=p[p[k+12>>2]+(r<<2)>>2])))break t;if(o=-1,l=p[P>>2],s=p[k>>2],_=p[l+(p[s+(r<<2)>>2]<<2)>>2],h=-1!=(0|(h=((h=r+1|0)>>>0)%3|0?h:r+-2|0))?p[s+(h<<2)>>2]:-1,-1!=(0|(r=r+((r>>>0)%3|0?-1:2)|0))&&(o=p[s+(r<<2)>>2]),(0|_)>=(0|c))break t;if((0|(r=p[(h<<2)+l>>2]))>=(0|c))break t;if((0|(s=p[l+(o<<2)>>2]))>=(0|c))break t;if((0|n)>=1)for(o=y(n,s),r=y(r,n),l=y(n,_),s=0;p[(s<<2)+f>>2]=(p[(s+o<<2)+t>>2]+p[(r+s<<2)+t>>2]|0)-p[(s+l<<2)+t>>2],(0|(s=s+1|0))!=(0|n););if((0|(r=p[d>>2]))<1)break e;for(h=(a<<=2)+i|0,x=t+a|0,a=f,o=0;;){if(s=0,(0|r)<=0)r=p[b>>2];else for(;(0|(_=p[(l=s<<2)+a>>2]))>(0|(u=p[m>>2]))?(r=p[b>>2],p[l+r>>2]=u):(l=l+(r=p[b>>2])|0,u=p[S>>2],p[l>>2]=(0|_)<(0|u)?u:_),(0|(s=s+1|0))<p[d>>2];);a=(s=o<<2)+h|0,s=p[s+x>>2]-p[r+s>>2]|0,p[a>>2]=s;i:{if((0|s)<p[T>>2])s=s+p[A>>2]|0;else{if((0|s)<=p[w>>2])break i;s=s-p[A>>2]|0}p[a>>2]=s}if(a=r,!((0|(o=o+1|0))<(0|(r=p[d>>2]))))break}break e}vo(),E()}if(!((0|(r=p[d>>2]))<1))for(h=(a<<=2)+i|0,x=t+a|0,a=(y(v+-2|0,n)<<2)+t|0,o=0;;){if(s=0,(0|r)<=0)r=p[b>>2];else for(;(0|(_=p[(l=s<<2)+a>>2]))>(0|(u=p[m>>2]))?(r=p[b>>2],p[l+r>>2]=u):(l=l+(r=p[b>>2])|0,u=p[S>>2],p[l>>2]=(0|_)<(0|u)?u:_),(0|(s=s+1|0))<p[d>>2];);a=(s=o<<2)+h|0,s=p[s+x>>2]-p[r+s>>2]|0,p[a>>2]=s;t:{if((0|s)<p[T>>2])s=s+p[A>>2]|0;else{if((0|s)<=p[w>>2])break t;s=s-p[A>>2]|0}p[a>>2]=s}if(a=r,!((0|(o=o+1|0))<(0|(r=p[d>>2]))))break}}if(!((0|v)>2))break}if((0|n)>=1&&Do(f,0,n<<2),(0|(r=p[(c=e+8|0)>>2]))>=1)for(b=e+16|0,a=e+32|0,A=e+12|0,g=e+28|0,v=e+20|0,k=e+24|0,e=f,o=0;;){if(s=0,(0|r)<=0)r=p[a>>2];else for(;(0|(d=p[(n=s<<2)+e>>2]))>(0|(m=p[b>>2]))?(r=p[a>>2],p[n+r>>2]=m):(n=n+(r=p[a>>2])|0,m=p[A>>2],p[n>>2]=(0|d)<(0|m)?m:d),(0|(s=s+1|0))<p[c>>2];);e=(n=o<<2)+i|0,n=p[t+n>>2]-p[r+n>>2]|0,p[e>>2]=n;e:{if((0|n)<p[g>>2])n=n+p[v>>2]|0;else{if((0|n)<=p[k>>2])break e;n=n-p[v>>2]|0}p[e>>2]=n}if(e=r,!((0|(o=o+1|0))<(0|(r=p[c>>2]))))break}return Mo(f),1},a[114]=$i,a[115]=q,a[116]=function(e){Mo(q(e|=0))},a[117]=qr,a[118]=Xr,a[119]=Kr,a[120]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s,o,c,f=0,h=0,u=0,d=0,m=0,b=0,A=0,v=0,g=0,x=0,M=0,P=0,R=0,C=0,O=0,I=0,D=0,F=0,N=0,B=0,L=0,U=0,j=0,W=0,G=0,H=0,Y=0,X=0,Z=0,Q=0,J=0,q=0,K=0,$=0,ee=0,te=0,ie=0,re=0;if(V=s=V-240|0,p[(e|=0)+8>>2]=n,f=p[(h=e+32|0)>>2],(a=p[e+36>>2]-f>>2)>>>0<n>>>0?Qr(h,n-a|0):a>>>0<=n>>>0||(p[e+36>>2]=f+(n<<2)),r){if(d=1,f=p[t>>2],(0|r)<=1)h=f;else for(h=f;h=(m=(0|(a=p[(d<<2)+t>>2]))<(0|h))?a:h,f=m?f:(0|a)>(0|f)?a:f,(0|(d=d+1|0))!=(0|r););p[e+16>>2]=f,p[e+12>>2]=h,!(a=(f>>31)-((f>>>0<(r=h)>>>0)+(r>>31)|0)|0)&(r=f-r|0)>>>0>2147483646|a>>>0>0||(r=r+1|0,p[e+20>>2]=r,a=(0|r)/2|0,p[(h=e+24|0)>>2]=a,p[e+28>>2]=0-a,1&r||(p[h>>2]=a+-1))}c=p[e+52>>2],o=p[e+48>>2],p[s+200>>2]=0,p[s+204>>2]=0,p[s+192>>2]=0,p[s+196>>2]=0,p[s+184>>2]=0,p[s+188>>2]=0,p[(r=s+176|0)>>2]=0,p[r+4>>2]=0,p[s+168>>2]=0,p[s+172>>2]=0,p[s+160>>2]=0,p[s+164>>2]=0,n?(Qr(s+160|0,n),u=p[r>>2],r=p[s+172>>2]):r=0;e:if((a=u-r>>2)>>>0>=n>>>0){if(a>>>0<=n>>>0)break e;p[s+176>>2]=r+(n<<2)}else Qr(s+160|12,n-a|0);a=p[s+184>>2];e:if((r=p[s+188>>2]-a>>2)>>>0>=n>>>0){if(r>>>0<=n>>>0)break e;p[s+188>>2]=a+(n<<2)}else Qr(s+184|0,n-r|0);a=p[s+196>>2];e:if((r=p[s+200>>2]-a>>2)>>>0>=n>>>0){if(r>>>0<=n>>>0)break e;p[s+200>>2]=a+(n<<2)}else Qr(s+196|0,n-r|0);p[s+152>>2]=0,p[s+144>>2]=0,p[s+148>>2]=0;e:{t:{if(n){if(n>>>0>=1073741824)break t;a=oo(r=n<<2),p[s+144>>2]=a,h=r+a|0,p[s+152>>2]=h,Do(a,0,r),p[s+148>>2]=h}if(B=e+152|0,a=p[e+152>>2],(r=p[e+156>>2]-a>>2)>>>0<n>>>0?Qr(B,n-r|0):r>>>0<=n>>>0||(p[e+156>>2]=a+(n<<2)),p[s+120>>2]=0,p[s+124>>2]=0,p[s+112>>2]=0,p[s+116>>2]=0,p[s+104>>2]=0,p[s+108>>2]=0,p[s+96>>2]=0,p[s+100>>2]=0,p[s+88>>2]=0,p[s+92>>2]=0,p[s+80>>2]=0,p[s+84>>2]=0,p[s+72>>2]=0,p[s+76>>2]=0,p[s+64>>2]=0,p[s+68>>2]=0,p[s+56>>2]=0,p[s+48>>2]=0,p[s+52>>2]=0,n&&(R=oo(r=n<<2),p[s+48>>2]=R,L=r+R|0,p[s+56>>2]=L,Do(R,0,r),p[s+52>>2]=L),r=p[e+56>>2],u=p[r>>2],(0|(r=p[r+4>>2]-u|0))<5)break e;if(r>>2>>>0>(h=(C=r>>>2)+-1|0)>>>0)for(W=n<<2,U=e+112|0,J=s+141|0,G=s+36|0,H=s+24|0,q=(F=s+20|0)+24|0,Y=F+16|0,j=e+152|0,K=e+28|0,X=e+20|0;;){m=0,M=h;i:if(-1!=(0|(h=p[(h<<2)+u>>2])))for(I=(u=p[o+12>>2])+((O=h+((h>>>0)%3|0?-1:2)|0)<<2)|0,A=1,d=0,r=h;;){if(-1!=(0|(f=p[u+(r<<2)>>2]))&&(a=-1,b=p[c>>2],m=p[o>>2],g=p[b+(p[m+(f<<2)>>2]<<2)>>2],v=-1!=(0|(v=((v=f+1|0)>>>0)%3|0?v:f+-2|0))?p[m+(v<<2)>>2]:-1,-1!=(0|(f=f+((f>>>0)%3|0?-1:2)|0))&&(a=p[m+(f<<2)>>2]),!((0|g)>=(0|M))&&!((0|(f=p[(v<<2)+b>>2]))>=(0|M))&&!((0|(a=p[b+(a<<2)>>2]))>=(0|M)))){if(m=p[(s+160|0)+y(d,12)>>2],(0|n)>=1)for(a=y(n,a),b=y(n,f),g=y(n,g),f=0;p[m+(f<<2)>>2]=(p[(a+f<<2)+t>>2]+p[(f+b<<2)+t>>2]|0)-p[(f+g<<2)+t>>2],(0|(f=f+1|0))!=(0|n););if(m=4,4==(0|(d=d+1|0)))break i}r:if(1&A){if(a=-1,-1==(0|(r=((m=r+1|0)>>>0)%3|0?m:r+-2|0)))break r;if(a=-1,-1==(0|(r=p[u+(r<<2)>>2])))break r;a=((a=r+1|0)>>>0)%3|0?a:r+-2|0}else a=-1,-1!=(0|(r=((r>>>0)%3|0?-1:2)+r|0))&&(a=-1,-1!=(0|(r=p[u+(r<<2)>>2]))&&(a=r+-1|0,(r>>>0)%3||(a=r+2|0)));if((0|a)==(0|h)){m=d;break i}if(r=a,r=(f=1&((a=-1!=(0|a))|-1^A))?r:-1,A&=a,!(-1==(0|O)|f)){if(-1==(0|(a=p[I>>2]))){m=d;break i}A=0,r=(a>>>0)%3?a+-1|0:a+2|0}if(m=d,-1==(0|r))break}if(d=0,l[s+16|0]=0,p[s+8>>2]=0,p[s+12>>2]=0,p[q>>2]=0,p[Y>>2]=0,p[Y+4>>2]=0,p[(r=F)+8>>2]=0,p[r+12>>2]=0,p[r>>2]=0,p[r+4>>2]=0,O=(Z=y(n,M)<<2)+t|0,u=(y(C+-2|0,n)<<2)+t|0,f=p[j>>2],h=0,(0|n)>0)for(;r=p[(a=h<<2)+u>>2]-p[a+O>>2]|0,p[a+R>>2]=r,v=a+f|0,a=r>>31,p[v>>2]=a^r<<1,d=(a^r+a)+d|0,(0|(h=h+1|0))!=(0|n););if(Ye(s+216|0,U,f,n),r=Qe(s+216|0),h=z,a=(f=Je(s+216|0))+r|0,r=z+h|0,r=a>>>0<f>>>0?r+1|0:r,h=a,(I=(0|m)>0)&&(g=f=(b=(m<<3)-8|0)+(s- -64|0)|0,D=f,a=p[f+4>>2],(v=(v=p[f>>2])+(f=m)|0)>>>0<f>>>0&&(a=a+1|0),f=v,p[D>>2]=f,p[g+4>>2]=a,x=w(Ge(f,p[b+(s+96|0)>>2])*(+(f>>>0)+4294967296*+(0|a))),k(x)<0x8000000000000000?(f=k(x)>=1?x>0?~~S(T(x/4294967296),4294967295)>>>0:~~w((x-+(~~x>>>0>>>0))/4294967296)>>>0:0,a=~~x>>>0):(f=-2147483648,a=0),r=r+f|0,(a=a+h|0)>>>0<h>>>0&&(r=r+1|0),h=a),p[s+20>>2]=0,l[s+16|0]=0,p[s+8>>2]=h,p[s+12>>2]=d,qt(H,u,u+W|0),$r(G,R,L),(0|m)>=1)for(v=(g=(s+140|0)+m|0)+-2|0,b=g+-1|0,Q=(r=(m<<3)-8|0)+(s- -64|0)|0,$=r+(s+96|0)|0,d=1,N=0;;){Do(s+140|0,1,m),Do(s+140|0,0,N=N+1|0),ee=p[s+52>>2],te=p[s+48>>2];i:{r:for(;;){for((a=(0|n)<1)||Do(p[s+144>>2],0,W),r=0,h=p[s+144>>2],A=0;;){if(!_[(s+140|0)+r|0]){if(!a)for(u=p[(s+160|0)+y(r,12)>>2],f=0;p[(D=(P=f<<2)+h|0)>>2]=p[D>>2]+p[u+P>>2],(0|(f=f+1|0))!=(0|n););A|=1<<r}if((0|m)==(0|(r=r+1|0)))break}f=0;n:if((0|n)>0){for(P=p[s+144>>2];p[(r=P+(f<<2)|0)>>2]=p[r>>2]/(0|d),(0|(f=f+1|0))!=(0|n););if(a=0,r=p[j>>2],(0|n)<=0)break n;for(h=0;f=p[(u=h<<2)+P>>2]-p[u+O>>2]|0,p[u+R>>2]=f,D=r+u|0,u=f>>31,p[D>>2]=u^f<<1,a=(u^f+u)+a|0,(0|(h=h+1|0))!=(0|n););}else r=p[j>>2],a=0;if(Ye(s+216|0,U,r,n),f=h=Qe(s+216|0)+Je(s+216|0)|0,I&&(r=p[Q+4>>2],h=p[Q>>2],x=w(Ge(h,p[$>>2]+d|0)*(+(h>>>0)+4294967296*+(0|r))),f=(r=k(x)<0x8000000000000000?~~x>>>0:0)+f|0),(0|f)>(0|(r=p[s+8>>2]))|(0|a)>=p[s+12>>2]&&(0|f)>=(0|r)||(p[s+20>>2]=d,l[s+16|0]=A,p[s+8>>2]=f,p[s+12>>2]=a,$r(H,p[s+144>>2],p[s+148>>2]),$r(G,te,ee)),(0|b)==(s+140|0))break i;for(u=-1,f=r=_[0|b];;){if(h=255&f,(f=_[0|(A=(a=u+-1|0)+g|0)])>>>0<h>>>0){if(a=b,h=g,f>>>0>=(255&r)>>>0){for(;a=(r=a)+-1|0,P=h+-2|0,h=r,f>>>0>=_[0|P];);r=1}if(h=u+g|0,l[0|A]=r,l[0|a]=f,f=b,-1==(0|u))continue r;for(;r=_[0|h],l[0|h]=_[0|f],l[0|f]=r,(h=h+1|0)>>>0<(f=f+-1|0)>>>0;);continue r}if(u=a,(0|A)==(s+140|0))break}break}if(!(b>>>0<=s+140>>>0)&&(a=_[s+140|0],l[s+140|0]=r,l[0|b]=a,!((u=J)>>>0>=(f=v)>>>0)))for(;r=_[0|u],l[0|u]=_[0|f],l[0|f]=r,(u=u+1|0)>>>0<(f=f+-1|0)>>>0;);}if(d=d+1|0,(0|m)==(0|N))break}if(I&&(h=r=88+((m<<3)+s|0)|0,a=(f=p[s+20>>2])+p[r>>2]|0,r=p[r+4>>2]+(f>>31)|0,p[h>>2]=a,p[h+4>>2]=a>>>0<f>>>0?r+1|0:r),(0|n)<=0)h=p[B>>2];else for(h=p[B>>2],f=0,a=p[s+36>>2];r=p[(d=f<<2)+a>>2],p[h+d>>2]=r<<1^r>>31,(0|(f=f+1|0))!=(0|n););Ze(s+216|0,U,h,n);i:if(I){for(b=(r=y(m,12)+e|0)+56|0,h=r+52|0,r=r+48|0,u=0;;){r:{if(a=(d=p[b>>2])<<5,f=p[h>>2],_[s+16|0]>>>u&1){if((0|a)==(0|f)){if((f+1|0)<=-1)break r;Lr(a=r,f=f>>>0<=1073741822?(d<<=6)>>>0<(f=f+32&-32)>>>0?f:d:2147483647),f=p[h>>2]}p[h>>2]=f+1,a=p[r>>2]+(f>>>3&536870908)|0,d=p[a>>2],ie=a,re=zo(-2,f)&d,p[ie>>2]=re}else{if((0|a)==(0|f)){if((f+1|0)<=-1)break r;Lr(a=r,f=f>>>0<=1073741822?(d<<=6)>>>0<(f=f+32&-32)>>>0?f:d:2147483647),f=p[h>>2]}p[h>>2]=f+1,a=p[r>>2]+(f>>>3&536870908)|0,p[a>>2]=p[a>>2]|1<<(31&f)}if((0|m)!=(0|(u=u+1|0)))continue;break i}break}Ao(),E()}if((0|(u=p[(d=e+8|0)>>2]))>=1)for(b=i+Z|0,m=p[s+24>>2],A=0;;){if(f=0,(0|u)<=0)a=p[e+32>>2];else for(;(0|(h=p[(r=f<<2)+m>>2]))>(0|(u=p[e+16>>2]))?(a=p[e+32>>2],p[r+a>>2]=u):(r=r+(a=p[e+32>>2])|0,u=p[e+12>>2],p[r>>2]=(0|h)<(0|u)?u:h),(0|(f=f+1|0))<p[d>>2];);r=(h=A<<2)+b|0,h=p[h+O>>2]-p[a+h>>2]|0,p[r>>2]=h;i:{if((0|h)<p[K>>2])h=h+p[X>>2]|0;else{if((0|h)<=p[e+24>>2])break i;h=h-p[X>>2]|0}p[r>>2]=h}if(m=a,!((0|(A=A+1|0))<(0|(u=p[d>>2]))))break}if((r=p[s+36>>2])&&(p[s+40>>2]=r,Mo(r)),(r=p[s+24>>2])&&(p[s+28>>2]=r,Mo(r)),(0|C)<3)break e;if(C=M,r=p[e+56>>2],u=p[r>>2],h=M+-1|0,!(p[r+4>>2]-u>>2>>>0>h>>>0))break}vo(),E()}Ao(),E()}if(f=0,a=p[s+160>>2],(0|n)>0)for(;p[(f<<2)+a>>2]=0,(0|(f=f+1|0))!=(0|n););if((0|(u=p[(m=e+8|0)>>2]))>=1)for(b=e+16|0,h=e+32|0,g=e+12|0,C=e+28|0,M=e+20|0,F=e+24|0,e=0;;){if(f=0,(0|u)<=0)d=p[h>>2];else for(;(0|(n=p[(r=f<<2)+a>>2]))>(0|(u=p[b>>2]))?(d=p[h>>2],p[r+d>>2]=u):(r=r+(d=p[h>>2])|0,u=p[g>>2],p[r>>2]=(0|n)<(0|u)?u:n),(0|(f=f+1|0))<p[m>>2];);r=(n=e<<2)+i|0,n=p[t+n>>2]-p[n+d>>2]|0,p[r>>2]=n;e:{if((0|n)<p[C>>2])n=n+p[M>>2]|0;else{if((0|n)<=p[F>>2])break e;n=n-p[M>>2]|0}p[r>>2]=n}if(a=d,!((0|(e=e+1|0))<(0|(u=p[m>>2]))))break}return(e=p[s+48>>2])&&(p[s+52>>2]=e,Mo(e)),(e=p[s+144>>2])&&(p[s+148>>2]=e,Mo(e)),(e=p[s+196>>2])&&(p[s+200>>2]=e,Mo(e)),(e=p[s+184>>2])&&(p[s+188>>2]=e,Mo(e)),(e=p[s+172>>2])&&(p[s+176>>2]=e,Mo(e)),(e=p[s+160>>2])&&(p[s+164>>2]=e,Mo(e)),V=s+240|0,1},a[121]=function(e){var t=0;return p[(e|=0)>>2]=5192,(t=p[e+76>>2])&&Mo(t),p[e>>2]=3364,(t=p[e+32>>2])&&(p[e+36>>2]=t,Mo(t)),0|e},a[122]=function(e){var t=0;p[(e|=0)>>2]=5192,(t=p[e+76>>2])&&Mo(t),p[e>>2]=3364,(t=p[e+32>>2])&&(p[e+36>>2]=t,Mo(t)),Mo(e)},a[123]=en,a[124]=tn,a[125]=ti,a[126]=er,a[127]=rn,a[128]=nn,a[129]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,b=0,A=0,v=0,g=0,k=0,x=0,S=0;if(p[(e|=0)+8>>2]=n,p[e- -64>>2]=a,o=p[(s=e+32|0)>>2],(a=p[e+36>>2]-o>>2)>>>0<n>>>0?Qr(s,n-a|0):a>>>0<=n>>>0||(p[e+36>>2]=o+(n<<2)),r){if(o=1,a=p[t>>2],(0|r)<=1)s=a;else for(s=a;s=(c=(0|(l=p[(o<<2)+t>>2]))<(0|s))?l:s,a=c?a:(0|l)>(0|a)?l:a,(0|(o=o+1|0))!=(0|r););p[e+16>>2]=a,p[e+12>>2]=s,!(r=(a>>31)-((s>>31)+(a>>>0<s>>>0)|0)|0)&(a=a-s|0)>>>0>2147483646|r>>>0>0||(r=a+1|0,p[e+20>>2]=r,a=(0|r)/2|0,p[(s=e+24|0)>>2]=a,p[e+28>>2]=0-a,1&r||(p[s>>2]=a+-1))}a=p[e+56>>2],r=p[a>>2];e:if(!((0|(a=p[a+4>>2]-r|0))<1)){if(a>>2>>>0>(o=(a>>>2)-1|0)>>>0)for(m=e+60|0,s=e+68|0,l=e+8|0,b=e+16|0,c=e+32|0,A=e+12|0,v=e+28|0,_=e+20|0,g=e+24|0,k=e+56|0;;){if(K(m,p[(o<<2)+r>>2],t,o),(0|(r=p[l>>2]))>=1)for(x=(e=y(n,o)<<2)+i|0,S=e+t|0,e=s,u=0;;){if(a=0,(0|r)<=0)r=p[c>>2];else for(;(0|(d=p[(f=a<<2)+e>>2]))>(0|(h=p[b>>2]))?(r=p[c>>2],p[f+r>>2]=h):(f=f+(r=p[c>>2])|0,h=p[A>>2],p[f>>2]=(0|d)<(0|h)?h:d),(0|(a=a+1|0))<p[l>>2];);e=(a=u<<2)+x|0,a=p[a+S>>2]-p[r+a>>2]|0,p[e>>2]=a;t:{if((0|a)<p[v>>2])a=a+p[_>>2]|0;else{if((0|a)<=p[g>>2])break t;a=a-p[_>>2]|0}p[e>>2]=a}if(e=r,!((0|(u=u+1|0))<(0|(r=p[l>>2]))))break}if((0|(o=o+-1|0))<0)break e;if(e=p[k>>2],r=p[e>>2],!(p[e+4>>2]-r>>2>>>0>o>>>0))break}vo(),E()}return 1},a[130]=function(e){var t;return p[(e|=0)>>2]=5416,be(e+108|0),p[e>>2]=3364,(t=p[e+32>>2])&&(p[e+36>>2]=t,Mo(t)),0|e},a[131]=function(e){var t;p[(e|=0)>>2]=5416,be(e+108|0),p[e>>2]=3364,(t=p[e+32>>2])&&(p[e+36>>2]=t,Mo(t)),Mo(e)},a[132]=G,a[133]=H,a[134]=ti,a[135]=er,a[136]=Y,a[137]=X,a[138]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s,o,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,b=0,A=0,v=0,y=0,g=0,k=0,x=0,S=0,T=0,w=0;V=s=V-48|0,p[(e|=0)+68>>2]=a,ve(o=e+108|0),r=p[e+56>>2],n=p[r>>2],l=p[(a=r+4|0)>>2],p[s+40>>2]=0,p[s+32>>2]=0,p[s+36>>2]=0,p[s+24>>2]=0,p[s+28>>2]=0,p[s+16>>2]=0,p[s+20>>2]=0,p[s+8>>2]=0,p[s+12>>2]=0,p[s>>2]=0,p[s+4>>2]=0;e:if(!((0|(n=l-n|0))<1)){if((0|(c=p[r>>2]))!=p[a>>2])for(x=n>>2,S=e+60|0,T=i+4|0,b=e+8|0,v=e+16|0,A=e+32|0,y=e+12|0,g=e+28|0,m=e+20|0,k=e+24|0,w=e+56|0;;){if($(S,p[(_<<2)+c>>2],s+32|0),l=(a=p[s+36>>2])>>31,f=(n=p[s+32>>2])>>31,h=(c=p[s+40>>2])>>31,r=0,(l=(h^=c+h)+((l^a+l)+(f^n+f)|0)|0)>>>0<h>>>0&&(r=1),r|l?(a=Lo(Bo(f=u=p[e+104>>2],h=f>>31,a,a>>31),z,l,r),p[s+36>>2]=a,n=Lo(Bo(f,h,n,n>>31),z,l,r),p[s+32>>2]=n,r=(f-((r=n>>31)+n^r)|0)+((0|a)<0?a:0-a|0)|0,c=(0|c)>-1?r:0-r|0,p[s+40>>2]=c):(u=p[e+104>>2],p[s+32>>2]=u,n=u),(0|n)>=0?(l=a+u|0,h=c+u|0):((0|a)<=-1?l=(r=c>>31)+c^r:(r=c>>31,l=p[e+100>>2]-(r+c^r)|0),(0|c)<=-1?h=(r=a>>31)+a^r:(r=a>>31,h=p[e+100>>2]-(r+a^r)|0)),d=r=p[e+100>>2],f=r,l|h&&((0|r)!=(0|h)|l?(0|r)!=(0|l)|h?(0|u)>=(0|h)|l?(0|r)!=(0|l)|(0|u)<=(0|h)?(0|r)!=(0|h)|(0|u)<=(0|l)?h?(d=h,f=l):(d=0,f=l,(0|u)>=(0|l)||(f=(u<<1)-l|0)):(d=h,f=(u<<1)-l|0):(d=(u<<1)-h|0,f=l):(d=(u<<1)-h|0,f=0):(d=l,f=l):(d=h,f=h)),p[s+28>>2]=d,p[s+24>>2]=f,p[s+40>>2]=0-c,p[s+36>>2]=0-a,p[s+32>>2]=0-n,(0|n)<=0?(n=u-c|0,a=u-a|0):(n=a>>31,n^=n+a,n=(0|c)>0?n:r-n|0,l=c>>31,l^=l+c,a=(0|a)>0?l:r-l|0),n|a&&(0|r)!=(0|n)|a&&n|(l=(0|r)!=(0|a))?(0|u)>=(0|n)|a?(0|u)<=(0|n)|l?(0|r)!=(0|n)|(0|u)<=(0|a)?n?r=a:(n=0,r=(0|u)>=(0|a)?a:(u<<1)-a|0):(n=r,r=(u<<1)-a|0):n=(u<<1)-n|0:(n=(u<<1)-n|0,r=0):n=r,p[s+20>>2]=n,p[s+16>>2]=r,!((0|(c=p[b>>2]))<1)){for(h=(_<<3)+t|0,f=s+24|0,l=0;;){if(a=0,(0|c)<=0)r=p[A>>2];else for(;(0|(d=p[(n=a<<2)+f>>2]))>(0|(c=p[v>>2]))?(r=p[A>>2],p[n+r>>2]=c):(n=n+(r=p[A>>2])|0,c=p[y>>2],p[n>>2]=(0|d)<(0|c)?c:d),(0|(a=a+1|0))<(0|(c=p[b>>2])););n=(a=l<<2)+(s+8|0)|0,f=p[a+h>>2]-p[r+a>>2]|0,p[n>>2]=f,a=n,n=p[g>>2],d=f+p[m>>2]|0;t:{if(!((0|f)<(0|n))){if((0|f)<=p[k>>2])break t;d=f-p[m>>2]|0}p[a>>2]=d}if(f=r,!((0|(l=l+1|0))<(0|c)))break}if(l=0,f=s+16|0,!((0|c)<1))for(;;){if(a=0,(0|c)>=1){for(;(0|(d=p[(n=a<<2)+f>>2]))>(0|(c=p[v>>2]))?p[r+n>>2]=c:(n=r+n|0,c=p[y>>2],p[n>>2]=(0|d)<(0|c)?c:d),(0|(a=a+1|0))<(0|(c=p[b>>2])););n=p[g>>2]}a=(f=l<<2)+s|0,f=p[f+h>>2]-p[r+f>>2]|0,p[a>>2]=f;t:{if((0|f)<(0|n))f=f+p[m>>2]|0;else{if((0|f)<=p[k>>2])break t;f=f-p[m>>2]|0}p[a>>2]=f}if(f=r,!((0|(l=l+1|0))<(0|c)))break}}(0|(l=p[e+104>>2]))<(0|(c=p[s+8>>2]))?c=c-p[e+96>>2]|0:(0|c)>=(0-l|0)||(c=p[e+96>>2]+c|0),p[s+8>>2]=c,(0|l)<(0|(n=p[s+12>>2]))?n=n-p[e+96>>2]|0:(0|n)>=(0-l|0)||(n=p[e+96>>2]+n|0),p[s+12>>2]=n,(0|l)<(0|(r=p[s>>2]))?r=r-p[e+96>>2]|0:(0|r)>=(0-l|0)||(r=p[e+96>>2]+r|0),p[s>>2]=r,(0|l)<(0|(a=p[s+4>>2]))?a=a-p[e+96>>2]|0:(0|a)>=(0-l|0)||(a=p[e+96>>2]+a|0),l=_<<1,p[s+4>>2]=a;t:if((0|(h=(h=(f=n>>31)+n^f)+((f=c>>31)+c^f)|0))<((d=(f=a>>31)+a^f)+((f=r>>31)+r^f)|0)){if(ye(o,0),r=(l<<2)+i|0,(0|c)<=-1&&(c=p[e+96>>2]+c|0),p[r>>2]=c,(0|n)>-1){a=n;break t}a=p[e+96>>2]+n|0}else ye(o,1),n=(l<<2)+i|0,(0|r)<=-1&&(r=p[e+96>>2]+r|0),p[n>>2]=r,(0|a)>-1||(a=p[e+96>>2]+a|0);if(p[(l<<2)+T>>2]=a,(0|(_=_+1|0))>=(0|x))break e;if(r=p[w>>2],c=p[r>>2],!(p[r+4>>2]-c>>2>>>0>_>>>0))break}vo(),E()}return V=s+48|0,1},a[139]=Nt,a[140]=Zt,a[141]=Q,a[142]=ut,a[143]=$,a[144]=Hr,a[145]=Fr,a[146]=ti,a[147]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,b=0,A=0,v=0,y=0,g=0,k=0;if(p[(e|=0)+8>>2]=n,o=p[(s=e+32|0)>>2],(a=p[e+36>>2]-o>>2)>>>0<n>>>0?Qr(s,n-a|0):a>>>0<=n>>>0||(p[e+36>>2]=o+(n<<2)),r){if(o=1,a=p[t>>2],(0|r)<=1)s=a;else for(s=a;s=(c=(0|(l=p[(o<<2)+t>>2]))<(0|s))?l:s,a=c?a:(0|l)>(0|a)?l:a,(0|(o=o+1|0))!=(0|r););p[e+16>>2]=a,p[e+12>>2]=s,o=a,!(a=(a>>31)-((s>>31)+(a>>>0<s>>>0)|0)|0)&(s=o-s|0)>>>0>2147483646|a>>>0>0||(a=s+1|0,p[e+20>>2]=a,s=(0|a)/2|0,p[(o=e+24|0)>>2]=s,p[e+28>>2]=0-s,1&a||(p[o>>2]=s+-1))}if((0|(l=r-n|0))>=1)for(s=p[(u=e+8|0)>>2],b=0-n<<2,A=e+16|0,c=e+32|0,h=e+12|0,y=e+28|0,d=e+20|0,g=e+24|0;;){if((0|s)>=1)for(k=(r=l<<2)+i|0,r=(v=t+r|0)+b|0,o=0;;){if(a=0,(0|s)<=0)s=p[c>>2];else for(;(0|(_=p[(f=a<<2)+r>>2]))>(0|(m=p[A>>2]))?(s=p[c>>2],p[f+s>>2]=m):(f=f+(s=p[c>>2])|0,m=p[h>>2],p[f>>2]=(0|_)<(0|m)?m:_),(0|(a=a+1|0))<p[u>>2];);r=(a=o<<2)+k|0,a=p[a+v>>2]-p[a+s>>2]|0,p[r>>2]=a;e:{if((0|a)<p[y>>2])a=a+p[d>>2]|0;else{if((0|a)<=p[g>>2])break e;a=a-p[d>>2]|0}p[r>>2]=a}if(r=s,!((0|(o=o+1|0))<(0|(s=p[u>>2]))))break}if(!((0|(l=l-n|0))>0))break}if(o=0,r=Do(oo(r=(1073741823&n)!=(0|n)?-1:n<<2),0,r),(0|(s=p[(c=e+8|0)>>2]))>=1)for(f=e+16|0,l=e+32|0,_=e+12|0,b=e+28|0,u=e+20|0,A=e+24|0,e=r;;){if(a=0,(0|s)<=0)s=p[l>>2];else for(;(0|(d=p[(n=a<<2)+e>>2]))>(0|(h=p[f>>2]))?(s=p[l>>2],p[n+s>>2]=h):(n=n+(s=p[l>>2])|0,h=p[_>>2],p[n>>2]=(0|d)<(0|h)?h:d),(0|(a=a+1|0))<p[c>>2];);e=(n=o<<2)+i|0,n=p[t+n>>2]-p[n+s>>2]|0,p[e>>2]=n;e:{if((0|n)<p[b>>2])n=n+p[u>>2]|0;else{if((0|n)<=p[A>>2])break e;n=n-p[u>>2]|0}p[e>>2]=n}if(e=s,!((0|(o=o+1|0))<(0|(s=p[c>>2]))))break}return Mo(r),1},a[148]=zr,a[149]=jr,a[150]=function(e,t,i){var r,n=0,a=0,s=0,o=0;if(V=r=V-16|0,!(!Vr(e|=0,t|=0,i|=0)|3!=_[p[e+8>>2]+24|0])){s=p[t+48>>2],t=oo(32),p[r>>2]=t,p[r+4>>2]=17,p[r+8>>2]=-2147483616,l[t+17|0]=0,l[t+16|0]=_[6168],a=_[6164]|_[6165]<<8|_[6166]<<16|_[6167]<<24,n=_[6160]|_[6161]<<8|_[6162]<<16|_[6163]<<24,l[t+8|0]=n,l[t+9|0]=n>>>8,l[t+10|0]=n>>>16,l[t+11|0]=n>>>24,l[t+12|0]=a,l[t+13|0]=a>>>8,l[t+14|0]=a>>>16,l[t+15|0]=a>>>24,a=_[6156]|_[6157]<<8|_[6158]<<16|_[6159]<<24,n=_[6152]|_[6153]<<8|_[6154]<<16|_[6155]<<24,l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=a,l[t+5|0]=a>>>8,l[t+6|0]=a>>>16,l[t+7|0]=a>>>24;e:{if(n=p[(a=s+16|0)>>2]){for(t=a;t=(o=p[n+16>>2]<(0|i))?t:n,n=p[(o<<2)+n>>2];);if(!((0|t)==(0|a)|p[t+16>>2]>(0|i))&&ir(t=t+20|0,r)){t=_a(t,r,-1);break e}}t=_a(s,r,-1)}l[r+11|0]<=-1&&Mo(p[r>>2]),n=1,(0|t)<1?n=0:Gt(e+40|0,t)}return V=r+16|0,0|n},a[151]=function(e,t){return 0|Ht((e|=0)+40|0,t|=0)},a[152]=ti,a[153]=te,a[154]=function(e,t,i){e|=0,i|=0;var r,n=0,s=0,o=0,c=0,f=0,h=0;V=r=V-32|0,o=p[(t|=0)+12>>2],c=p[p[t+4>>2]+48>>2],i=oo(32),p[r+16>>2]=i,p[r+20>>2]=17,p[r+24>>2]=-2147483616,l[i+17|0]=0,l[i+16|0]=_[6168],n=_[6164]|_[6165]<<8|_[6166]<<16|_[6167]<<24,s=_[6160]|_[6161]<<8|_[6162]<<16|_[6163]<<24,l[i+8|0]=s,l[i+9|0]=s>>>8,l[i+10|0]=s>>>16,l[i+11|0]=s>>>24,l[i+12|0]=n,l[i+13|0]=n>>>8,l[i+14|0]=n>>>16,l[i+15|0]=n>>>24,n=_[6156]|_[6157]<<8|_[6158]<<16|_[6159]<<24,s=_[6152]|_[6153]<<8|_[6154]<<16|_[6155]<<24,l[0|i]=s,l[i+1|0]=s>>>8,l[i+2|0]=s>>>16,l[i+3|0]=s>>>24,l[i+4|0]=n,l[i+5|0]=n>>>8,l[i+6|0]=n>>>16,l[i+7|0]=n>>>24;e:{if(s=p[(n=c+16|0)>>2]){for(i=n;i=(f=p[s+16>>2]<(0|o))?i:s,s=p[(f<<2)+s>>2];);if(!((0|i)==(0|n)|(0|o)<p[i+16>>2])&&ir(i=i+20|0,r+16|0)){i=_a(i,r+16|0,-1);break e}}i=_a(c,r+16|0,-1)}l[r+27|0]<=-1&&Mo(p[r+16>>2]),p[r+24>>2]=-1,p[r+28>>2]=-1,p[r+16>>2]=-1,p[r+20>>2]=-1,1&(i=-1<<i^-1)&&((i=31^x(i))+-1>>>0>28||(p[r+16>>2]=i+1,i=-2<<i,p[r+20>>2]=-1^i,i=-2-i|0,p[r+24>>2]=i,p[r+28>>2]=(0|i)/2)),n=t+4|0,o=he(p[(i=t+12|0)>>2],p[n>>2]),c=p[i>>2],f=p[p[n>>2]+48>>2],i=oo(32),p[r>>2]=i,p[r+4>>2]=17,p[r+8>>2]=-2147483616,l[i+17|0]=0,l[i+16|0]=_[6308],n=_[6304]|_[6305]<<8|_[6306]<<16|_[6307]<<24,s=_[6300]|_[6301]<<8|_[6302]<<16|_[6303]<<24,l[i+8|0]=s,l[i+9|0]=s>>>8,l[i+10|0]=s>>>16,l[i+11|0]=s>>>24,l[i+12|0]=n,l[i+13|0]=n>>>8,l[i+14|0]=n>>>16,l[i+15|0]=n>>>24,n=_[6296]|_[6297]<<8|_[6298]<<16|_[6299]<<24,s=_[6292]|_[6293]<<8|_[6294]<<16|_[6295]<<24,l[0|i]=s,l[i+1|0]=s>>>8,l[i+2|0]=s>>>16,l[i+3|0]=s>>>24,l[i+4|0]=n,l[i+5|0]=n>>>8,l[i+6|0]=n>>>16,l[i+7|0]=n>>>24;e:{if(s=p[(n=f+16|0)>>2]){for(i=n;i=(h=p[s+16>>2]<(0|c))?i:s,s=p[(h<<2)+s>>2];);if(!((0|i)==(0|n)|(0|c)<p[i+16>>2])&&ir(i=i+20|0,r)){i=_a(i,r,o);break e}}i=_a(f,r,o)}l[r+11|0]<=-1&&Mo(p[r>>2]);e:{t:if(!(i>>>0>6)){i:switch(i-1|0){case 5:if(i=p[t+4>>2],t=p[t+12>>2],n=p[p[p[i+4>>2]+8>>2]+(t<<2)>>2],1==(0|a[p[p[i>>2]+8>>2]](i))){if(function(e,t,i,r){var n,s,o=0,l=0;V=n=V-32|0,s=p[p[p[t+4>>2]+8>>2]+(i<<2)>>2];r:{if(1==(0|a[p[p[t>>2]+8>>2]](t))){if(l=0|a[p[p[t>>2]+52>>2]](t),!(o=0|a[p[p[t>>2]+60>>2]](t,i))||!l){p[e>>2]=0;break r}if(i=0|a[p[p[t>>2]+56>>2]](t,i)){if(t=p[t+56>>2],p[n+20>>2]=i,p[n+16>>2]=t,p[n+28>>2]=o,p[n+24>>2]=o+12,function(e,t,i,r){var n,a;n=oo(120),p[n+4>>2]=t,t=p[i+4>>2],p[n+8>>2]=p[i>>2],p[n+12>>2]=t,t=p[i+12>>2],p[n+16>>2]=p[i+8>>2],p[n+20>>2]=t,t=p[r+4>>2],p[n+24>>2]=p[r>>2],p[n+28>>2]=t,a=p[4+(i=t=r+8|0)>>2],p[n+32>>2]=p[i>>2],p[n+36>>2]=a,p[n+44>>2]=0,p[n+48>>2]=0,p[n>>2]=7528,i=p[r+4>>2],p[n+52>>2]=p[r>>2],p[n+56>>2]=i,i=p[t+4>>2],p[n+60>>2]=p[t>>2],p[n+64>>2]=i,p[n+72>>2]=-1,p[n+76>>2]=-1,p[n+68>>2]=1,p[n+40>>2]=7788,p[n+80>>2]=-1,p[n+84>>2]=-1,me(n+88|0),p[e>>2]=n}(e,s,r,n+16|0),p[e>>2])break r;p[e>>2]=0}else{if(t=p[t+56>>2],p[n+20>>2]=l,p[n+16>>2]=t,p[n+28>>2]=o,p[n+24>>2]=o+12,function(e,t,i,r){var n,a;n=oo(120),p[n+4>>2]=t,t=p[i+4>>2],p[n+8>>2]=p[i>>2],p[n+12>>2]=t,t=p[i+12>>2],p[n+16>>2]=p[i+8>>2],p[n+20>>2]=t,t=p[r+4>>2],p[n+24>>2]=p[r>>2],p[n+28>>2]=t,a=p[4+(i=t=r+8|0)>>2],p[n+32>>2]=p[i>>2],p[n+36>>2]=a,p[n+44>>2]=0,p[n+48>>2]=0,p[n>>2]=9208,i=p[r+4>>2],p[n+52>>2]=p[r>>2],p[n+56>>2]=i,i=p[t+4>>2],p[n+60>>2]=p[t>>2],p[n+64>>2]=i,p[n+72>>2]=-1,p[n+76>>2]=-1,p[n+68>>2]=1,p[n+40>>2]=9452,p[n+80>>2]=-1,p[n+84>>2]=-1,me(n+88|0),p[e>>2]=n}(e,s,r,n+16|0),p[e>>2])break r;p[e>>2]=0}}p[e>>2]=0}V=n+32|0}(r,i,t,r+16|0),t=p[r>>2]){p[e>>2]=t;break e}p[r>>2]=0}t=oo(24),p[t+4>>2]=n,i=p[r+20>>2],p[t+8>>2]=p[r+16>>2],p[t+12>>2]=i,i=p[r+28>>2],p[t+16>>2]=p[r+24>>2],p[t+20>>2]=i,p[t>>2]=9864,p[r>>2]=t,p[e>>2]=t;break e;case 0:case 1:case 2:case 3:case 4:break t;default:break i}i=p[t+4>>2],n=p[p[p[i+4>>2]+8>>2]+(p[t+12>>2]<<2)>>2],1==(0|a[p[p[i>>2]+8>>2]](i))&&a[p[p[i>>2]+8>>2]](i),t=oo(24),p[t+4>>2]=n,i=p[r+20>>2],p[t+8>>2]=p[r+16>>2],p[t+12>>2]=i,i=p[r+28>>2],p[t+16>>2]=p[r+24>>2],p[t+20>>2]=i,p[t>>2]=9864,p[e>>2]=t;break e}p[e>>2]=0}V=r+32|0},a[155]=function(e,t,i){var r;return t|=0,i|=0,V=r=V-16|0,function(e,t,i,r,n){var a,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,m=0;V=a=V-48|0,ii(a+40|0,p[(s=r+4|0)>>2]-p[r>>2]>>2,2,n,i),n=p[a+40>>2],o=p[n+48>>2],l=p[p[n>>2]>>2],p[a+16>>2]=-1,p[a+20>>2]=-1,p[a+8>>2]=-1,p[a+12>>2]=-1;if((t=p[t+4>>2])+-2>>>0<=28){if(p[a+8>>2]=t,t=-1<<t,p[a+12>>2]=-1^t,t=-2-t|0,p[a+16>>2]=t,p[a+20>>2]=(0|t)/2,f=e,(0|(e=p[r>>2]))!=p[s>>2]){for(o=o+l|0,n=0,l=i+68|0,t=0;e=p[(t<<2)+e>>2],h=a+28|0,u=p[p[i>>2]>>2],d=p[i+48>>2],s=p[i+44>>2],c=p[i+40>>2],m=c,_[i+84|0]||(e=p[p[l>>2]+(e<<2)>>2]),e=Bo(m,s,e,0)+d|0,Io(h,e+u|0,c),Xt(a+8|0,a+28|0,a+4|0,a),p[(e=n<<2)+o>>2]=p[a+4>>2],p[o+(4|e)>>2]=p[a>>2],n=n+2|0,t=t+1|0,e=p[r>>2],t>>>0<p[r+4>>2]-e>>2>>>0;);n=p[a+40>>2]}p[f>>2]=n,p[a+40>>2]=0}else p[e>>2]=0,p[a+40>>2]=0,n&&pt(n);V=a+48|0}(r+8|0,(e|=0)+40|0,p[e+8>>2],t,i),t=p[r+8>>2],p[r+8>>2]=0,e=p[(i=e+32|0)>>2],p[i>>2]=t,e?(pt(e),e=p[r+8>>2],p[r+8>>2]=0,e&&pt(e)):p[r+8>>2]=0,V=r+16|0,1},a[156]=Nt,a[157]=Zt,a[158]=ti,a[159]=Yr,a[160]=ie,a[161]=Fr,a[162]=Zr,a[163]=er,a[164]=ti,a[165]=te,a[166]=function(e,t){e|=0,t|=0;var i,r,n=0,a=0;return V=i=V-16|0,p[i+12>>2]=p[e+12>>2],n=r=p[t+20>>2],a=p[t+16>>2],((0|r)<0||(0|r)<=0&&!(a>>>0>0))&&(Yt(t,p[t+4>>2],i+12|0,i+16|0),a=p[t+16>>2],n=p[t+20>>2]),p[i+8>>2]=p[e+20>>2],((0|n)<0||(0|n)<=0&&!(a>>>0>0))&&Yt(t,p[t+4>>2],i+8|0,i+12|0),V=i+16|0,1},a[167]=function(e,t,i,r,n,a){e|=0,t|=0,i|=0,r|=0,a|=0;var s,o,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,b=0,A=0,v=0;V=s=V-32|0,o=Do(oo(r=(1073741823&(n|=0))!=(0|n)?-1:n<<2),0,r),r=p[e+36>>2],l=p[r>>2];e:if(!((0|(r=p[r+4>>2]-l|0))<5)){if((a=r>>2)>>>0>(r=a+-1|0)>>>0)for(m=e+8|0,b=p[e+32>>2],A=e+36|0,v=(_=p[e+28>>2])+28|0;;){if(f=y(r,n),-1==(0|(l=p[(r<<2)+l>>2]))|p[p[_>>2]+(l>>>3&536870908)>>2]>>>(31&l)&1||-1==(0|(l=p[p[p[_+64>>2]+12>>2]+(l<<2)>>2]))||(c=p[b>>2],h=p[v>>2],(0|(u=p[c+(p[h+(l<<2)>>2]<<2)>>2]))>=(0|r)||(0|(d=p[c+(p[h+((((d=l+1|0)>>>0)%3|0?d:l+-2|0)<<2)>>2]<<2)>>2]))>=(0|r)||(0|(l=p[c+(p[h+(l+((l>>>0)%3|0?-1:2)<<2)>>2]<<2)>>2]))>=(0|r)))l=(y(a+-2|0,n)<<2)+t|0,h=p[l>>2],l=p[l+4>>2],u=p[(c=(f<<=2)+t|0)+4>>2],p[s+16>>2]=p[c>>2],p[s+20>>2]=u,p[s+8>>2]=h,p[s+12>>2]=l;else{if((0|n)>=1)for(h=y(n,l),c=y(n,d),u=y(n,u),l=0;p[(l<<2)+o>>2]=(p[(l+h<<2)+t>>2]+p[(l+c<<2)+t>>2]|0)-p[(l+u<<2)+t>>2],(0|(l=l+1|0))!=(0|n););l=p[o>>2],h=p[o+4>>2],u=p[(c=(f<<=2)+t|0)+4>>2],p[s+16>>2]=p[c>>2],p[s+20>>2]=u,p[s+8>>2]=l,p[s+12>>2]=h}if(re(s+24|0,m,s+16|0,s+8|0),p[(l=i+f|0)>>2]=p[s+24>>2],p[l+4>>2]=p[s+28>>2],(0|a)<3)break e;if(a=r,f=p[A>>2],l=p[f>>2],r=r+-1|0,!(p[f+4>>2]-l>>2>>>0>r>>>0))break}vo(),E()}return(0|n)>=1&&Do(o,0,n<<2),r=p[o>>2],n=p[o+4>>2],a=p[t+4>>2],p[s+16>>2]=p[t>>2],p[s+20>>2]=a,p[s+8>>2]=r,p[s+12>>2]=n,re(s+24|0,e+8|0,s+16|0,s+8|0),p[i>>2]=p[s+24>>2],p[i+4>>2]=p[s+28>>2],Mo(o),V=s+32|0,1},a[168]=$i,a[169]=$i,a[170]=function(e){var t=0;return p[(e|=0)>>2]=6996,(t=p[e+136>>2])&&(p[e+140>>2]=t,Mo(t)),(t=p[e+96>>2])&&(p[e+100>>2]=t,Mo(t)),(t=p[e+76>>2])&&Mo(t),(t=p[e- -64>>2])&&Mo(t),(t=p[e+52>>2])&&Mo(t),(t=p[e+40>>2])&&Mo(t),0|e},a[171]=function(e){var t=0;p[(e|=0)>>2]=6996,(t=p[e+136>>2])&&(p[e+140>>2]=t,Mo(t)),(t=p[e+96>>2])&&(p[e+100>>2]=t,Mo(t)),(t=p[e+76>>2])&&Mo(t),(t=p[e- -64>>2])&&Mo(t),(t=p[e+52>>2])&&Mo(t),(t=p[e+40>>2])&&Mo(t),Mo(e)},a[172]=qr,a[173]=ie,a[174]=ne,a[175]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s,o,c,f=0,h=0,u=0,d=0,m=0,b=0,A=0,v=0,g=0,x=0,M=0,P=0,R=0,C=0,O=0,I=0,D=0,F=0,N=0,B=0,L=0,U=0,j=0,W=0,G=0,H=0,Y=0,X=0,Z=0,Q=0,J=0,q=0,K=0,$=0,ee=0,te=0,ie=0;V=s=V-256|0,c=p[(e|=0)+32>>2],o=p[e+28>>2],p[s+200>>2]=0,p[s+204>>2]=0,p[s+192>>2]=0,p[s+196>>2]=0,p[s+184>>2]=0,p[s+188>>2]=0,p[(r=s+176|0)>>2]=0,p[r+4>>2]=0,p[s+168>>2]=0,p[s+172>>2]=0,p[s+160>>2]=0,p[s+164>>2]=0,n?(Qr(s+160|0,n),h=p[r>>2],r=p[s+172>>2]):r=0;e:if((a=h-r>>2)>>>0>=n>>>0){if(a>>>0<=n>>>0)break e;p[s+176>>2]=r+(n<<2)}else Qr(s+160|12,n-a|0);a=p[s+184>>2];e:if((r=p[s+188>>2]-a>>2)>>>0>=n>>>0){if(r>>>0<=n>>>0)break e;p[s+188>>2]=a+(n<<2)}else Qr(s+184|0,n-r|0);a=p[s+196>>2];e:if((r=p[s+200>>2]-a>>2)>>>0>=n>>>0){if(r>>>0<=n>>>0)break e;p[s+200>>2]=a+(n<<2)}else Qr(s+196|0,n-r|0);p[s+152>>2]=0,p[s+144>>2]=0,p[s+148>>2]=0;e:{t:{if(n){if(n>>>0>=1073741824)break t;a=oo(r=n<<2),p[s+144>>2]=a,h=r+a|0,p[s+152>>2]=h,Do(a,0,r),p[s+148>>2]=h}if(B=e+136|0,a=p[e+136>>2],(r=p[e+140>>2]-a>>2)>>>0<n>>>0?Qr(B,n-r|0):r>>>0<=n>>>0||(p[e+140>>2]=a+(n<<2)),p[s+120>>2]=0,p[s+124>>2]=0,p[s+112>>2]=0,p[s+116>>2]=0,p[s+104>>2]=0,p[s+108>>2]=0,p[s+96>>2]=0,p[s+100>>2]=0,p[s+88>>2]=0,p[s+92>>2]=0,p[s+80>>2]=0,p[s+84>>2]=0,p[s+72>>2]=0,p[s+76>>2]=0,p[s+64>>2]=0,p[s+68>>2]=0,p[s+56>>2]=0,p[s+48>>2]=0,p[s+52>>2]=0,n&&(D=oo(r=n<<2),p[s+48>>2]=D,I=r+D|0,p[s+56>>2]=I,Do(D,0,r),p[s+52>>2]=I),r=p[e+36>>2],h=p[r>>2],(0|(r=p[r+4>>2]-h|0))<5)break e;i:{if(r>>2>>>0>(u=(F=r>>>2)+-1|0)>>>0)for(W=n<<2,J=e+8|0,L=e+96|0,q=s+141|0,G=s+36|0,H=s+24|0,K=(U=s+20|0)+24|0,Y=U+16|0,j=e+136|0;;){r=0,R=u;r:if(-1!=(0|(d=p[(u<<2)+h>>2])))for(g=(b=d+((d>>>0)%3|0?-1:2)|0)>>>5,u=1,C=1<<(31&b),O=p[o>>2],a=0,h=d;;){if(!(p[O+(h>>>3&536870908)>>2]>>>(31&h)&1)&&-1!=(0|(r=p[p[p[o+64>>2]+12>>2]+(h<<2)>>2]))&&(m=p[c>>2],f=p[o+28>>2],!((0|(x=p[m+(p[f+(r<<2)>>2]<<2)>>2]))>=(0|R))&&!((0|(A=p[m+(p[f+((((A=r+1|0)>>>0)%3|0?A:r+-2|0)<<2)>>2]<<2)>>2]))>=(0|R))&&!((0|(r=p[m+(p[f+(r+((r>>>0)%3|0?-1:2)<<2)>>2]<<2)>>2]))>=(0|R)))){if((0|n)>=1)for(m=p[(s+160|0)+y(a,12)>>2],r=y(r,n),A=y(n,A),x=y(n,x),f=0;p[m+(f<<2)>>2]=(p[(r+f<<2)+t>>2]+p[(f+A<<2)+t>>2]|0)-p[(f+x<<2)+t>>2],(0|(f=f+1|0))!=(0|n););if(r=4,4==(0|(a=a+1|0)))break r}n:if(1&u){if(f=-1,-1==(0|(r=((r=h+1|0)>>>0)%3|0?r:h+-2|0))|p[p[o>>2]+(r>>>3&536870908)>>2]>>>(31&r)&1)break n;if(-1==(0|(r=p[p[p[o+64>>2]+12>>2]+(r<<2)>>2])))break n;f=((h=r+1|0)>>>0)%3|0?h:r+-2|0}else f=-1,-1==(0|(r=((h>>>0)%3|0?-1:2)+h|0))|p[p[o>>2]+(r>>>3&536870908)>>2]>>>(31&r)&1||-1!=(0|(r=p[p[p[o+64>>2]+12>>2]+(r<<2)>>2]))&&(f=(r>>>0)%3?r+-1|0:r+2|0);if((0|f)==(0|d)){r=a;break r}if(h=f,h=(f=1&((r=-1!=(0|f))|-1^u))?h:-1,u&=r,!(-1==(0|b)|f)){if(C&p[p[o>>2]+(g<<2)>>2]){r=a;break r}if(-1==(0|(r=p[p[p[o+64>>2]+12>>2]+(b<<2)>>2]))){r=a;break r}u=0,h=(r>>>0)%3?r+-1|0:r+2|0}if(r=a,-1==(0|h))break}if(d=0,l[s+16|0]=0,p[s+8>>2]=0,p[s+12>>2]=0,p[K>>2]=0,p[Y>>2]=0,p[Y+4>>2]=0,p[(a=U)+8>>2]=0,p[a+12>>2]=0,p[a>>2]=0,p[a+4>>2]=0,O=(X=y(n,R)<<2)+t|0,b=(y(F+-2|0,n)<<2)+t|0,f=p[j>>2],u=0,(0|n)>0)for(;a=p[(h=u<<2)+b>>2]-p[h+O>>2]|0,p[h+D>>2]=a,m=f+h|0,h=a>>31,p[m>>2]=h^a<<1,d=(h^a+h)+d|0,(0|(u=u+1|0))!=(0|n););if(Ye(s+232|0,L,f,n),a=Qe(s+232|0),h=z,u=Je(s+232|0),h=z+h|0,h=(a=u+a|0)>>>0<u>>>0?h+1|0:h,u=a,(x=(0|r)>0)&&(g=f=(m=(r<<3)-8|0)+(s- -64|0)|0,A=f,a=p[f+4>>2],(C=r+p[f>>2]|0)>>>0<r>>>0&&(a=a+1|0),f=C,p[A>>2]=f,p[g+4>>2]=a,v=w(Ge(f,p[m+(s+96|0)>>2])*(+(f>>>0)+4294967296*+(0|a))),k(v)<0x8000000000000000?(f=k(v)>=1?v>0?~~S(T(v/4294967296),4294967295)>>>0:~~w((v-+(~~v>>>0>>>0))/4294967296)>>>0:0,a=~~v>>>0):(f=-2147483648,a=0),h=f+h|0,(a=a+u|0)>>>0<u>>>0&&(h=h+1|0),u=a),p[s+20>>2]=0,l[s+16|0]=0,p[s+8>>2]=u,p[s+12>>2]=d,qt(H,b,b+W|0),$r(G,Z=p[s+48>>2],I),(0|r)>=1)for(C=(g=(s+140|0)+r|0)+-2|0,b=g+-1|0,Q=(a=(r<<3)-8|0)+(s- -64|0)|0,$=a+(s+96|0)|0,a=1,A=0;;){Do(s+140|0,1,r),Do(s+140|0,0,A=A+1|0),I=p[s+52>>2],ee=p[s+48>>2];r:{n:for(;;){for((h=(0|n)<1)||Do(p[s+144>>2],0,W),m=0,u=p[s+144>>2],M=0;;){if(!_[(s+140|0)+m|0]){if(!h)for(d=p[(s+160|0)+y(m,12)>>2],f=0;p[(N=(P=f<<2)+u|0)>>2]=p[N>>2]+p[d+P>>2],(0|(f=f+1|0))!=(0|n););M|=1<<m}if((0|(m=m+1|0))==(0|r))break}f=0;a:if((0|n)>0){for(P=p[s+144>>2];p[(h=P+(f<<2)|0)>>2]=p[h>>2]/(0|a),(0|(f=f+1|0))!=(0|n););if(d=0,m=p[j>>2],(0|n)<=0)break a;for(u=0;h=p[(f=u<<2)+P>>2]-p[f+O>>2]|0,p[f+Z>>2]=h,N=f+m|0,f=h>>31,p[N>>2]=f^h<<1,d=(f^f+h)+d|0,(0|(u=u+1|0))!=(0|n););}else m=p[j>>2],d=0;if(Ye(s+232|0,L,m,n),f=u=Qe(s+232|0)+Je(s+232|0)|0,x&&(h=p[Q+4>>2],u=p[Q>>2],v=w(Ge(u,p[$>>2]+a|0)*(+(u>>>0)+4294967296*+(0|h))),f=(u=k(v)<0x8000000000000000?~~v>>>0:0)+f|0),(0|f)>(0|(h=p[s+8>>2]))|(0|d)>=p[s+12>>2]&&(0|f)>=(0|h)||(p[s+20>>2]=a,l[s+16|0]=M,p[s+8>>2]=f,p[s+12>>2]=d,$r(H,p[s+144>>2],p[s+148>>2]),$r(G,ee,I)),(0|b)==(s+140|0))break r;for(h=-1,f=m=_[0|b];;){if(d=255&f,(f=_[0|(M=(u=h+-1|0)+g|0)])>>>0<d>>>0){if(d=b,u=g,f>>>0>=(255&m)>>>0){for(;m=d,d=d+-1|0,P=u+-2|0,u=m,f>>>0>=_[0|P];);m=1}if(u=h+g|0,l[0|M]=m,l[0|d]=f,f=b,-1==(0|h))continue n;for(;h=_[0|u],l[0|u]=_[0|f],l[0|f]=h,(u=u+1|0)>>>0<(f=f+-1|0)>>>0;);continue n}if(h=u,(0|M)==(s+140|0))break}break}if(!(b>>>0<=s+140>>>0)&&(h=_[s+140|0],l[s+140|0]=m,l[0|b]=h,!((h=q)>>>0>=(f=C)>>>0)))for(;u=_[0|h],l[0|h]=_[0|f],l[0|f]=u,(h=h+1|0)>>>0<(f=f+-1|0)>>>0;);}if(a=a+1|0,(0|r)==(0|A))break}if(x&&(u=a=88+((r<<3)+s|0)|0,h=(f=d=p[s+20>>2])+p[a>>2]|0,a=p[a+4>>2]+(f>>31)|0,p[u>>2]=h,p[u+4>>2]=h>>>0<f>>>0?a+1|0:a),(0|n)<=0)u=p[B>>2];else for(u=p[B>>2],f=0,h=p[s+36>>2];a=p[(d=f<<2)+h>>2],p[u+d>>2]=a<<1^a>>31,(0|(f=f+1|0))!=(0|n););if(Ze(s+232|0,L,u,n),x)for(m=(a=y(r,12)+e|0)+36|0,d=a+32|0,a=a+28|0,h=0;;){if(u=(b=p[m>>2])<<5,f=p[d>>2],_[s+16|0]>>>h&1){if((0|f)==(0|u)){if((f+1|0)<=-1)break i;Lr(u=a,f=f>>>0<=1073741822?(b<<=6)>>>0<(f=f+32&-32)>>>0?f:b:2147483647),f=p[d>>2]}p[d>>2]=f+1,u=p[a>>2]+(f>>>3&536870908)|0,b=p[u>>2],te=u,ie=zo(-2,f)&b,p[te>>2]=ie}else{if((0|f)==(0|u)){if((f+1|0)<=-1)break i;Lr(u=a,f=f>>>0<=1073741822?(b<<=6)>>>0<(f=f+32&-32)>>>0?f:b:2147483647),f=p[d>>2]}p[d>>2]=f+1,u=p[a>>2]+(f>>>3&536870908)|0,p[u>>2]=p[u>>2]|1<<(31&f)}if((0|(h=h+1|0))==(0|r))break}if(r=p[s+24>>2],a=p[r>>2],r=p[r+4>>2],h=p[O+4>>2],p[s+224>>2]=p[O>>2],p[s+228>>2]=h,p[s+216>>2]=a,p[s+220>>2]=r,re(s+232|0,J,s+224|0,s+216|0),p[(r=i+X|0)>>2]=p[s+232>>2],p[r+4>>2]=p[s+236>>2],(r=p[s+36>>2])&&(p[s+40>>2]=r,Mo(r)),(r=p[s+24>>2])&&(p[s+28>>2]=r,Mo(r)),(0|F)<3)break e;if(F=R,r=p[e+36>>2],h=p[r>>2],u=R+-1|0,!(p[r+4>>2]-h>>2>>>0>u>>>0))break}vo(),E()}Ao(),E()}Ao(),E()}return(0|n)>=1&&Do(p[s+160>>2],0,n<<2),r=p[s+160>>2],n=p[r>>2],r=p[r+4>>2],a=p[t+4>>2],p[s+232>>2]=p[t>>2],p[s+236>>2]=a,p[s+224>>2]=n,p[s+228>>2]=r,re(s+8|0,e+8|0,s+232|0,s+224|0),p[i>>2]=p[s+8>>2],p[i+4>>2]=p[s+12>>2],(e=p[s+48>>2])&&(p[s+52>>2]=e,Mo(e)),(e=p[s+144>>2])&&(p[s+148>>2]=e,Mo(e)),(e=p[s+196>>2])&&(p[s+200>>2]=e,Mo(e)),(e=p[s+184>>2])&&(p[s+188>>2]=e,Mo(e)),(e=p[s+172>>2])&&(p[s+176>>2]=e,Mo(e)),(e=p[s+160>>2])&&(p[s+164>>2]=e,Mo(e)),V=s+256|0,1},a[176]=function(e){var t;return p[(e|=0)>>2]=7268,(t=p[e+56>>2])&&Mo(t),0|e},a[177]=function(e){var t;p[(e|=0)>>2]=7268,(t=p[e+56>>2])&&Mo(t),Mo(e)},a[178]=en,a[179]=ae,a[180]=ti,a[181]=er,a[182]=se,a[183]=oe,a[184]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0;V=r=V-32|0,p[(e|=0)+44>>2]=a,a=p[e+36>>2],s=p[a>>2];e:if(!((0|(a=p[a+4>>2]-s|0))<1)){if((o=a>>2)>>>0>(a=(a>>>2)-1|0)>>>0)for(f=e+40|0,h=e+8|0,u=e+36|0;;){if(j(f,p[(a<<2)+s>>2],t,a),s=p[e+48>>2],o=p[e+52>>2],l=y(n,a)<<2,d=p[(c=l+t|0)+4>>2],p[r+16>>2]=p[c>>2],p[r+20>>2]=d,p[r+8>>2]=s,p[r+12>>2]=o,re(r+24|0,h,r+16|0,r+8|0),p[(s=i+l|0)>>2]=p[r+24>>2],p[s+4>>2]=p[r+28>>2],(0|(a=a+-1|0))<0)break e;if(o=p[u>>2],s=p[o>>2],!(p[o+4>>2]-s>>2>>>0>a>>>0))break}vo(),E()}return V=r+32|0,1},a[185]=function(e){return p[(e|=0)>>2]=7528,be(e+88|0),0|e},a[186]=function(e){p[(e|=0)>>2]=7528,be(e+88|0),Mo(e)},a[187]=G,a[188]=le,a[189]=ti,a[190]=er,a[191]=ce,a[192]=fe,a[193]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s,o,l,c=0,f=0,h=0,u=0,d=0,_=0,m=0,b=0,A=0,v=0,y=0,g=0;V=s=V-48|0,(r=p[(o=(e|=0)+8|0)>>2])+-2>>>0<=28&&(p[e+72>>2]=r,n=-2-(r=-1<<r)|0,p[e+80>>2]=n,p[e+76>>2]=-1^r,p[e+84>>2]=(0|n)/2),p[e+48>>2]=a,ve(l=e+88|0),r=p[e+36>>2],n=p[r>>2],c=p[(a=r+4|0)>>2],p[s+16>>2]=0,p[s+8>>2]=0,p[s+12>>2]=0;e:if(!((0|(n=c-n|0))<1)){if((0|(f=p[r>>2]))!=p[a>>2])for(A=n>>2,v=e+40|0,y=i+4|0,g=e+36|0;;){Z(v,p[(b<<2)+f>>2],s+8|0),c=(a=p[s+12>>2])>>31,h=(n=p[s+8>>2])>>31,_=(f=p[s+16>>2])>>31,r=0,(c=(_^=f+_)+((c^a+c)+(h^n+h)|0)|0)>>>0<_>>>0&&(r=1),r|c?(a=Lo(Bo(u=p[e+84>>2],_=u>>31,a,a>>31),z,c,r),p[s+12>>2]=a,d=Lo(Bo(u,_,n,n>>31),z,c,r),p[s+8>>2]=d,r=(u-((r=d>>31)+d^r)|0)+((0|a)<0?a:0-a|0)|0,f=(0|f)>-1?r:0-r|0,p[s+16>>2]=f):(u=p[e+84>>2],p[s+8>>2]=u,d=u),(0|d)>=0?(c=a+u|0,h=f+u|0):((0|a)<=-1?c=(r=f>>31)+f^r:(r=f>>31,c=p[e+80>>2]-(r+f^r)|0),(0|f)<=-1?h=(r=a>>31)+a^r:(r=a>>31,h=p[e+80>>2]-(r+a^r)|0)),_=n=p[e+80>>2],m=n,c|h&&((0|n)!=(0|h)|c?(0|n)!=(0|c)|h?(0|u)>=(0|h)|c?(0|n)!=(0|c)|(0|u)<=(0|h)?(0|n)!=(0|h)|(0|u)<=(0|c)?h?(_=h,m=c):(_=0,m=r=c,(0|u)>=(0|r)||(m=(u<<1)-c|0)):(_=h,m=(u<<1)-c|0):(_=(u<<1)-h|0,m=c):(_=(u<<1)-h|0,m=0):(_=c,m=c):(_=h,m=h)),c=m,p[s+16>>2]=0-f,p[s+12>>2]=0-a,p[s+8>>2]=0-d,(0|d)<=0?(r=u-f|0,a=u-a|0):(r=a>>31,r^=r+a,r=(0|f)>0?r:n-r|0,h=f>>31,h^=h+f,a=(0|a)>0?h:n-h|0),r|a&&(0|r)!=(0|n)|a&&r|(h=(0|n)!=(0|a))?(0|u)>=(0|r)|a?(0|u)<=(0|r)|h?(0|r)!=(0|n)|(0|u)<=(0|a)?r?n=a:(r=0,n=(0|u)>=(0|a)?a:(u<<1)-a|0):(r=n,n=(u<<1)-a|0):r=(u<<1)-r|0:(r=(u<<1)-r|0,n=0):r=n,h=p[(a=(b<<3)+t|0)+4>>2],p[s+32>>2]=p[a>>2],p[s+36>>2]=h,p[s+28>>2]=_,p[s+24>>2]=c,re(s+40|0,o,s+32|0,s+24|0),d=p[s+44>>2],f=p[s+40>>2],c=p[a+4>>2],p[s+32>>2]=p[a>>2],p[s+36>>2]=c,p[s+28>>2]=r,p[s+24>>2]=n,re(s+40|0,o,s+32|0,s+24|0),a=p[s+44>>2],n=p[s+40>>2],(0|(r=p[e+84>>2]))<(0|f)?f=f-p[e+76>>2]|0:(0|f)>=(0-r|0)||(f=p[e+76>>2]+f|0),(0|r)<(0|d)?d=d-p[e+76>>2]|0:(0|d)>=(0-r|0)||(d=p[e+76>>2]+d|0),(0|r)<(0|n)?n=n-p[e+76>>2]|0:(0|n)>=(0-r|0)||(n=p[e+76>>2]+n|0),(0|r)<(0|a)?a=a-p[e+76>>2]|0:(0|a)>=(0-r|0)||(a=p[e+76>>2]+a|0),r=b<<1;t:if((0|(h=(m=(c=d>>31)+d^c)+((c=f>>31)+f^c)|0))<((m=(c=a>>31)+a^c)+((c=n>>31)+n^c)|0)){if(ye(l,0),n=(r<<2)+i|0,(0|f)<=-1&&(f=p[e+76>>2]+f|0),p[n>>2]=f,(0|d)>-1){a=d;break t}a=p[e+76>>2]+d|0}else ye(l,1),c=(r<<2)+i|0,(0|n)<=-1&&(n=p[e+76>>2]+n|0),p[c>>2]=n,(0|a)>-1||(a=p[e+76>>2]+a|0);if(p[(r<<2)+y>>2]=a,(0|(b=b+1|0))>=(0|A))break e;if(r=p[g>>2],f=p[r>>2],!(p[r+4>>2]-f>>2>>>0>b>>>0))break}vo(),E()}return V=s+48|0,1},a[194]=Nt,a[195]=Zt,a[196]=Q,a[197]=ut,a[198]=Z,a[199]=Zt,a[200]=ti,a[201]=ie,a[202]=function(e,t,i,r,n,a){e|=0,t|=0,i|=0,r|=0,a|=0;var s,o,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,b=0,A=0,v=0,g=0;V=s=V-32|0,o=Do(oo(r=(1073741823&(n|=0))!=(0|n)?-1:n<<2),0,r),r=p[e+36>>2],l=p[r>>2];e:if(!((0|(r=p[r+4>>2]-l|0))<5)){if((a=r>>2)>>>0>(r=a+-1|0)>>>0)for(b=e+8|0,A=p[e+32>>2],v=e+36|0,g=(_=p[e+28>>2])+12|0;;){if(h=y(r,n),-1==(0|(l=p[(r<<2)+l>>2]))||-1==(0|(l=p[p[g>>2]+(l<<2)>>2]))||(c=-1,u=p[A>>2],f=p[_>>2],m=p[u+(p[f+(l<<2)>>2]<<2)>>2],d=-1!=(0|(d=((d=l+1|0)>>>0)%3|0?d:l+-2|0))?p[(d<<2)+f>>2]:-1,-1!=(0|(l=l+((l>>>0)%3|0?-1:2)|0))&&(c=p[(l<<2)+f>>2]),(0|m)>=(0|r)||(0|(l=p[(d<<2)+u>>2]))>=(0|r)||(0|(c=p[u+(c<<2)>>2]))>=(0|r)))l=(y(a+-2|0,n)<<2)+t|0,c=p[l>>2],l=p[l+4>>2],u=p[(f=(h<<=2)+t|0)+4>>2],p[s+16>>2]=p[f>>2],p[s+20>>2]=u,p[s+8>>2]=c,p[s+12>>2]=l;else{if((0|n)>=1)for(c=y(n,c),f=y(n,l),u=y(n,m),l=0;p[(l<<2)+o>>2]=(p[(l+c<<2)+t>>2]+p[(l+f<<2)+t>>2]|0)-p[(l+u<<2)+t>>2],(0|(l=l+1|0))!=(0|n););l=p[o>>2],c=p[o+4>>2],u=p[(f=(h<<=2)+t|0)+4>>2],p[s+16>>2]=p[f>>2],p[s+20>>2]=u,p[s+8>>2]=l,p[s+12>>2]=c}if(re(s+24|0,b,s+16|0,s+8|0),p[(l=i+h|0)>>2]=p[s+24>>2],p[l+4>>2]=p[s+28>>2],(0|a)<3)break e;if(a=r,h=p[v>>2],l=p[h>>2],r=r+-1|0,!(p[h+4>>2]-l>>2>>>0>r>>>0))break}vo(),E()}return(0|n)>=1&&Do(o,0,n<<2),r=p[o>>2],n=p[o+4>>2],a=p[t+4>>2],p[s+16>>2]=p[t>>2],p[s+20>>2]=a,p[s+8>>2]=r,p[s+12>>2]=n,re(s+24|0,e+8|0,s+16|0,s+8|0),p[i>>2]=p[s+24>>2],p[i+4>>2]=p[s+28>>2],Mo(o),V=s+32|0,1},a[203]=$i,a[204]=function(e){var t=0;return p[(e|=0)>>2]=8700,(t=p[e+136>>2])&&(p[e+140>>2]=t,Mo(t)),(t=p[e+96>>2])&&(p[e+100>>2]=t,Mo(t)),(t=p[e+76>>2])&&Mo(t),(t=p[e- -64>>2])&&Mo(t),(t=p[e+52>>2])&&Mo(t),(t=p[e+40>>2])&&Mo(t),0|e},a[205]=function(e){var t=0;p[(e|=0)>>2]=8700,(t=p[e+136>>2])&&(p[e+140>>2]=t,Mo(t)),(t=p[e+96>>2])&&(p[e+100>>2]=t,Mo(t)),(t=p[e+76>>2])&&Mo(t),(t=p[e- -64>>2])&&Mo(t),(t=p[e+52>>2])&&Mo(t),(t=p[e+40>>2])&&Mo(t),Mo(e)},a[206]=qr,a[207]=ie,a[208]=ne,a[209]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s,o,c,f=0,h=0,u=0,d=0,m=0,b=0,A=0,v=0,g=0,x=0,M=0,P=0,R=0,C=0,O=0,I=0,D=0,F=0,N=0,B=0,L=0,U=0,j=0,W=0,G=0,H=0,Y=0,X=0,Z=0,Q=0,J=0,q=0,K=0,$=0,ee=0,te=0,ie=0;V=s=V-256|0,c=p[(e|=0)+32>>2],o=p[e+28>>2],p[s+200>>2]=0,p[s+204>>2]=0,p[s+192>>2]=0,p[s+196>>2]=0,p[s+184>>2]=0,p[s+188>>2]=0,p[(r=s+176|0)>>2]=0,p[r+4>>2]=0,p[s+168>>2]=0,p[s+172>>2]=0,p[s+160>>2]=0,p[s+164>>2]=0,n?(Qr(s+160|0,n),m=p[r>>2],r=p[s+172>>2]):r=0;e:if((a=m-r>>2)>>>0>=n>>>0){if(a>>>0<=n>>>0)break e;p[s+176>>2]=r+(n<<2)}else Qr(s+160|12,n-a|0);a=p[s+184>>2];e:if((r=p[s+188>>2]-a>>2)>>>0>=n>>>0){if(r>>>0<=n>>>0)break e;p[s+188>>2]=a+(n<<2)}else Qr(s+184|0,n-r|0);a=p[s+196>>2];e:if((r=p[s+200>>2]-a>>2)>>>0>=n>>>0){if(r>>>0<=n>>>0)break e;p[s+200>>2]=a+(n<<2)}else Qr(s+196|0,n-r|0);p[s+152>>2]=0,p[s+144>>2]=0,p[s+148>>2]=0;e:{t:{if(n){if(n>>>0>=1073741824)break t;a=oo(r=n<<2),p[s+144>>2]=a,h=r+a|0,p[s+152>>2]=h,Do(a,0,r),p[s+148>>2]=h}if(B=e+136|0,a=p[e+136>>2],(r=p[e+140>>2]-a>>2)>>>0<n>>>0?Qr(B,n-r|0):r>>>0<=n>>>0||(p[e+140>>2]=a+(n<<2)),p[s+120>>2]=0,p[s+124>>2]=0,p[s+112>>2]=0,p[s+116>>2]=0,p[s+104>>2]=0,p[s+108>>2]=0,p[s+96>>2]=0,p[s+100>>2]=0,p[s+88>>2]=0,p[s+92>>2]=0,p[s+80>>2]=0,p[s+84>>2]=0,p[s+72>>2]=0,p[s+76>>2]=0,p[s+64>>2]=0,p[s+68>>2]=0,p[s+56>>2]=0,p[s+48>>2]=0,p[s+52>>2]=0,n&&(D=oo(r=n<<2),p[s+48>>2]=D,I=r+D|0,p[s+56>>2]=I,Do(D,0,r),p[s+52>>2]=I),r=p[e+36>>2],m=p[r>>2],(0|(r=p[r+4>>2]-m|0))<5)break e;i:{if(r>>2>>>0>(h=(F=r>>>2)+-1|0)>>>0)for(W=n<<2,J=e+8|0,L=e+96|0,q=s+141|0,G=s+36|0,H=s+24|0,K=(U=s+20|0)+24|0,Y=U+16|0,j=e+136|0;;){a=0,C=h;r:if(-1!=(0|(h=p[(h<<2)+m>>2])))for(O=(b=p[o+12>>2])+((P=h+((h>>>0)%3|0?-1:2)|0)<<2)|0,m=1,r=0,u=h;;){if(-1!=(0|(a=p[b+(u<<2)>>2]))&&(d=-1,v=p[c>>2],f=p[o>>2],M=p[v+(p[f+(a<<2)>>2]<<2)>>2],g=-1!=(0|(g=((g=a+1|0)>>>0)%3|0?g:a+-2|0))?p[f+(g<<2)>>2]:-1,-1!=(0|(a=a+((a>>>0)%3|0?-1:2)|0))&&(d=p[f+(a<<2)>>2]),!((0|M)>=(0|C))&&!((0|(a=p[(g<<2)+v>>2]))>=(0|C))&&!((0|(d=p[v+(d<<2)>>2]))>=(0|C)))){if(v=p[(s+160|0)+y(r,12)>>2],(0|n)>=1)for(d=y(n,d),a=y(n,a),M=y(n,M),f=0;p[v+(f<<2)>>2]=(p[(f+d<<2)+t>>2]+p[(a+f<<2)+t>>2]|0)-p[(f+M<<2)+t>>2],(0|(f=f+1|0))!=(0|n););if(a=4,4==(0|(r=r+1|0)))break r}n:if(1&m){if(a=-1,-1==(0|(f=((f=u+1|0)>>>0)%3|0?f:u+-2|0)))break n;if(a=-1,-1==(0|(f=p[b+(f<<2)>>2])))break n;a=((a=f+1|0)>>>0)%3|0?a:f+-2|0}else a=-1,-1!=(0|(f=((u>>>0)%3|0?-1:2)+u|0))&&(a=-1,-1!=(0|(f=p[b+(f<<2)>>2]))&&(a=f+-1|0,(f>>>0)%3||(a=f+2|0)));if((0|a)==(0|h)){a=r;break r}if(u=a,u=(d=1&((a=-1!=(0|a))|-1^m))?u:-1,m&=a,!(-1==(0|P)|d)){if(-1==(0|(a=p[O>>2]))){a=r;break r}m=0,u=(a>>>0)%3?a+-1|0:a+2|0}if(a=r,-1==(0|u))break}if(d=0,l[s+16|0]=0,p[s+8>>2]=0,p[s+12>>2]=0,p[K>>2]=0,p[Y>>2]=0,p[Y+4>>2]=0,p[(r=U)+8>>2]=0,p[r+12>>2]=0,p[r>>2]=0,p[r+4>>2]=0,g=(X=y(n,C)<<2)+t|0,m=(y(F+-2|0,n)<<2)+t|0,u=p[j>>2],h=0,(0|n)>0)for(;r=p[(f=h<<2)+m>>2]-p[f+g>>2]|0,p[f+D>>2]=r,b=f+u|0,f=r>>31,p[b>>2]=f^r<<1,d=(f^r+f)+d|0,(0|(h=h+1|0))!=(0|n););if(Ye(s+232|0,L,u,n),r=Qe(s+232|0),h=z,f=Je(s+232|0),h=z+h|0,h=(r=f+r|0)>>>0<f>>>0?h+1|0:h,f=r,(P=(0|a)>0)&&(v=u=(b=(a<<3)-8|0)+(s- -64|0)|0,A=u,r=p[u+4>>2],(M=a+p[u>>2]|0)>>>0<a>>>0&&(r=r+1|0),u=M,p[A>>2]=u,p[v+4>>2]=r,x=w(Ge(u,p[b+(s+96|0)>>2])*(+(u>>>0)+4294967296*+(0|r))),k(x)<0x8000000000000000?(u=k(x)>=1?x>0?~~S(T(x/4294967296),4294967295)>>>0:~~w((x-+(~~x>>>0>>>0))/4294967296)>>>0:0,r=~~x>>>0):(u=-2147483648,r=0),h=h+u|0,(r=r+f|0)>>>0<f>>>0&&(h=h+1|0),f=r),p[s+20>>2]=0,l[s+16|0]=0,p[s+8>>2]=f,p[s+12>>2]=d,qt(H,m,m+W|0),$r(G,Z=p[s+48>>2],I),(0|a)>=1)for(M=(v=(s+140|0)+a|0)+-2|0,b=v+-1|0,Q=(r=(a<<3)-8|0)+(s- -64|0)|0,$=r+(s+96|0)|0,r=1,O=0;;){Do(s+140|0,1,a),Do(s+140|0,0,O=O+1|0),I=p[s+52>>2],ee=p[s+48>>2];r:{n:for(;;){for((h=(0|n)<1)||Do(p[s+144>>2],0,W),u=0,d=p[s+144>>2],m=0;;){if(!_[(s+140|0)+u|0]){if(!h)for(A=p[(s+160|0)+y(u,12)>>2],f=0;p[(N=(R=f<<2)+d|0)>>2]=p[N>>2]+p[A+R>>2],(0|(f=f+1|0))!=(0|n););m|=1<<u}if((0|(u=u+1|0))==(0|a))break}f=0;a:if((0|n)>0){for(R=p[s+144>>2];p[(h=R+(f<<2)|0)>>2]=p[h>>2]/(0|r),(0|(f=f+1|0))!=(0|n););if(d=0,u=p[j>>2],(0|n)<=0)break a;for(h=0;f=p[(A=h<<2)+R>>2]-p[A+g>>2]|0,p[A+Z>>2]=f,N=u+A|0,A=f>>31,p[N>>2]=A^f<<1,d=(A^f+A)+d|0,(0|(h=h+1|0))!=(0|n););}else u=p[j>>2],d=0;if(Ye(s+232|0,L,u,n),f=Qe(s+232|0)+Je(s+232|0)|0,P&&(h=p[Q+4>>2],u=p[Q>>2],x=w(Ge(u,p[$>>2]+r|0)*(+(u>>>0)+4294967296*+(0|h))),f=(u=k(x)<0x8000000000000000?~~x>>>0:0)+f|0),(0|f)>(0|(h=p[s+8>>2]))|(0|d)>=p[s+12>>2]&&(0|f)>=(0|h)||(p[s+20>>2]=r,l[s+16|0]=m,p[s+8>>2]=f,p[s+12>>2]=d,$r(H,p[s+144>>2],p[s+148>>2]),$r(G,ee,I)),(0|b)==(s+140|0))break r;for(m=-1,f=u=_[0|b];;){if(d=255&f,(f=_[0|(A=(h=m+-1|0)+v|0)])>>>0<d>>>0){if(d=b,h=v,f>>>0>=(255&u)>>>0){for(;d=(u=d)+-1|0,R=h+-2|0,h=u,f>>>0>=_[0|R];);u=1}if(h=m+v|0,l[0|A]=u,l[0|d]=f,f=b,-1==(0|m))continue n;for(;d=_[0|h],l[0|h]=_[0|f],l[0|f]=d,(h=h+1|0)>>>0<(f=f+-1|0)>>>0;);continue n}if(m=h,(0|A)==(s+140|0))break}break}if(!(b>>>0<=s+140>>>0)&&(h=_[s+140|0],l[s+140|0]=u,l[0|b]=h,!((m=q)>>>0>=(f=M)>>>0)))for(;h=_[0|m],l[0|m]=_[0|f],l[0|f]=h,(m=m+1|0)>>>0<(f=f+-1|0)>>>0;);}if(r=r+1|0,(0|a)==(0|O))break}if(P&&(d=r=88+((a<<3)+s|0)|0,h=(f=p[s+20>>2])+p[r>>2]|0,r=p[r+4>>2]+(f>>31)|0,p[d>>2]=h,p[d+4>>2]=h>>>0<f>>>0?r+1|0:r),(0|n)<=0)h=p[B>>2];else for(h=p[B>>2],f=0,d=p[s+36>>2];r=p[(u=f<<2)+d>>2],p[h+u>>2]=r<<1^r>>31,(0|(f=f+1|0))!=(0|n););if(Ze(s+232|0,L,h,n),P)for(b=(r=y(a,12)+e|0)+36|0,d=r+32|0,r=r+28|0,m=0;;){if(h=(u=p[b>>2])<<5,f=p[d>>2],_[s+16|0]>>>m&1){if((0|f)==(0|h)){if((f+1|0)<=-1)break i;Lr(h=r,u=f>>>0<=1073741822?(u<<=6)>>>0<(f=f+32&-32)>>>0?f:u:2147483647),f=p[d>>2]}p[d>>2]=f+1,h=p[r>>2]+(f>>>3&536870908)|0,u=p[h>>2],te=h,ie=zo(-2,f)&u,p[te>>2]=ie}else{if((0|f)==(0|h)){if((f+1|0)<=-1)break i;Lr(h=r,u=f>>>0<=1073741822?(u<<=6)>>>0<(f=f+32&-32)>>>0?f:u:2147483647),f=p[d>>2]}p[d>>2]=f+1,h=p[r>>2]+(f>>>3&536870908)|0,p[h>>2]=p[h>>2]|1<<(31&f)}if((0|(m=m+1|0))==(0|a))break}if(r=p[s+24>>2],a=p[r>>2],r=p[r+4>>2],h=p[g+4>>2],p[s+224>>2]=p[g>>2],p[s+228>>2]=h,p[s+216>>2]=a,p[s+220>>2]=r,re(s+232|0,J,s+224|0,s+216|0),p[(r=i+X|0)>>2]=p[s+232>>2],p[r+4>>2]=p[s+236>>2],(r=p[s+36>>2])&&(p[s+40>>2]=r,Mo(r)),(r=p[s+24>>2])&&(p[s+28>>2]=r,Mo(r)),(0|F)<3)break e;if(F=C,r=p[e+36>>2],m=p[r>>2],h=C+-1|0,!(p[r+4>>2]-m>>2>>>0>h>>>0))break}vo(),E()}Ao(),E()}Ao(),E()}return(0|n)>=1&&Do(p[s+160>>2],0,n<<2),r=p[s+160>>2],n=p[r>>2],r=p[r+4>>2],a=p[t+4>>2],p[s+232>>2]=p[t>>2],p[s+236>>2]=a,p[s+224>>2]=n,p[s+228>>2]=r,re(s+8|0,e+8|0,s+232|0,s+224|0),p[i>>2]=p[s+8>>2],p[i+4>>2]=p[s+12>>2],(e=p[s+48>>2])&&(p[s+52>>2]=e,Mo(e)),(e=p[s+144>>2])&&(p[s+148>>2]=e,Mo(e)),(e=p[s+196>>2])&&(p[s+200>>2]=e,Mo(e)),(e=p[s+184>>2])&&(p[s+188>>2]=e,Mo(e)),(e=p[s+172>>2])&&(p[s+176>>2]=e,Mo(e)),(e=p[s+160>>2])&&(p[s+164>>2]=e,Mo(e)),V=s+256|0,1},a[210]=function(e){var t;return p[(e|=0)>>2]=8960,(t=p[e+56>>2])&&Mo(t),0|e},a[211]=function(e){var t;p[(e|=0)>>2]=8960,(t=p[e+56>>2])&&Mo(t),Mo(e)},a[212]=en,a[213]=ae,a[214]=ti,a[215]=er,a[216]=se,a[217]=oe,a[218]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0;V=r=V-32|0,p[(e|=0)+44>>2]=a,a=p[e+36>>2],s=p[a>>2];e:if(!((0|(a=p[a+4>>2]-s|0))<1)){if((o=a>>2)>>>0>(a=(a>>>2)-1|0)>>>0)for(f=e+40|0,h=e+8|0,u=e+36|0;;){if(K(f,p[(a<<2)+s>>2],t,a),s=p[e+48>>2],o=p[e+52>>2],l=y(n,a)<<2,d=p[(c=l+t|0)+4>>2],p[r+16>>2]=p[c>>2],p[r+20>>2]=d,p[r+8>>2]=s,p[r+12>>2]=o,re(r+24|0,h,r+16|0,r+8|0),p[(s=i+l|0)>>2]=p[r+24>>2],p[s+4>>2]=p[r+28>>2],(0|(a=a+-1|0))<0)break e;if(o=p[u>>2],s=p[o>>2],!(p[o+4>>2]-s>>2>>>0>a>>>0))break}vo(),E()}return V=r+32|0,1},a[219]=function(e){return p[(e|=0)>>2]=9208,be(e+88|0),0|e},a[220]=function(e){p[(e|=0)>>2]=9208,be(e+88|0),Mo(e)},a[221]=G,a[222]=le,a[223]=ti,a[224]=er,a[225]=ce,a[226]=fe,a[227]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s,o,l,c=0,f=0,h=0,u=0,d=0,_=0,m=0,b=0,A=0,v=0,y=0,g=0;V=s=V-48|0,(r=p[(o=(e|=0)+8|0)>>2])+-2>>>0<=28&&(p[e+72>>2]=r,n=-2-(r=-1<<r)|0,p[e+80>>2]=n,p[e+76>>2]=-1^r,p[e+84>>2]=(0|n)/2),p[e+48>>2]=a,ve(l=e+88|0),r=p[e+36>>2],n=p[r>>2],c=p[(a=r+4|0)>>2],p[s+16>>2]=0,p[s+8>>2]=0,p[s+12>>2]=0;e:if(!((0|(n=c-n|0))<1)){if((0|(f=p[r>>2]))!=p[a>>2])for(A=n>>2,v=e+40|0,y=i+4|0,g=e+36|0;;){$(v,p[(b<<2)+f>>2],s+8|0),c=(a=p[s+12>>2])>>31,h=(n=p[s+8>>2])>>31,_=(f=p[s+16>>2])>>31,r=0,(c=(_^=f+_)+((c^a+c)+(h^n+h)|0)|0)>>>0<_>>>0&&(r=1),r|c?(a=Lo(Bo(u=p[e+84>>2],_=u>>31,a,a>>31),z,c,r),p[s+12>>2]=a,d=Lo(Bo(u,_,n,n>>31),z,c,r),p[s+8>>2]=d,r=(u-((r=d>>31)+d^r)|0)+((0|a)<0?a:0-a|0)|0,f=(0|f)>-1?r:0-r|0,p[s+16>>2]=f):(u=p[e+84>>2],p[s+8>>2]=u,d=u),(0|d)>=0?(c=a+u|0,h=f+u|0):((0|a)<=-1?c=(r=f>>31)+f^r:(r=f>>31,c=p[e+80>>2]-(r+f^r)|0),(0|f)<=-1?h=(r=a>>31)+a^r:(r=a>>31,h=p[e+80>>2]-(r+a^r)|0)),_=n=p[e+80>>2],m=n,c|h&&((0|n)!=(0|h)|c?(0|n)!=(0|c)|h?(0|u)>=(0|h)|c?(0|n)!=(0|c)|(0|u)<=(0|h)?(0|n)!=(0|h)|(0|u)<=(0|c)?h?(_=h,m=c):(_=0,m=r=c,(0|u)>=(0|r)||(m=(u<<1)-c|0)):(_=h,m=(u<<1)-c|0):(_=(u<<1)-h|0,m=c):(_=(u<<1)-h|0,m=0):(_=c,m=c):(_=h,m=h)),c=m,p[s+16>>2]=0-f,p[s+12>>2]=0-a,p[s+8>>2]=0-d,(0|d)<=0?(r=u-f|0,a=u-a|0):(r=a>>31,r^=r+a,r=(0|f)>0?r:n-r|0,h=f>>31,h^=h+f,a=(0|a)>0?h:n-h|0),r|a&&(0|r)!=(0|n)|a&&r|(h=(0|n)!=(0|a))?(0|u)>=(0|r)|a?(0|u)<=(0|r)|h?(0|r)!=(0|n)|(0|u)<=(0|a)?r?n=a:(r=0,n=(0|u)>=(0|a)?a:(u<<1)-a|0):(r=n,n=(u<<1)-a|0):r=(u<<1)-r|0:(r=(u<<1)-r|0,n=0):r=n,h=p[(a=(b<<3)+t|0)+4>>2],p[s+32>>2]=p[a>>2],p[s+36>>2]=h,p[s+28>>2]=_,p[s+24>>2]=c,re(s+40|0,o,s+32|0,s+24|0),d=p[s+44>>2],f=p[s+40>>2],c=p[a+4>>2],p[s+32>>2]=p[a>>2],p[s+36>>2]=c,p[s+28>>2]=r,p[s+24>>2]=n,re(s+40|0,o,s+32|0,s+24|0),a=p[s+44>>2],n=p[s+40>>2],(0|(r=p[e+84>>2]))<(0|f)?f=f-p[e+76>>2]|0:(0|f)>=(0-r|0)||(f=p[e+76>>2]+f|0),(0|r)<(0|d)?d=d-p[e+76>>2]|0:(0|d)>=(0-r|0)||(d=p[e+76>>2]+d|0),(0|r)<(0|n)?n=n-p[e+76>>2]|0:(0|n)>=(0-r|0)||(n=p[e+76>>2]+n|0),(0|r)<(0|a)?a=a-p[e+76>>2]|0:(0|a)>=(0-r|0)||(a=p[e+76>>2]+a|0),r=b<<1;t:if((0|(h=(m=(c=d>>31)+d^c)+((c=f>>31)+f^c)|0))<((m=(c=a>>31)+a^c)+((c=n>>31)+n^c)|0)){if(ye(l,0),n=(r<<2)+i|0,(0|f)<=-1&&(f=p[e+76>>2]+f|0),p[n>>2]=f,(0|d)>-1){a=d;break t}a=p[e+76>>2]+d|0}else ye(l,1),c=(r<<2)+i|0,(0|n)<=-1&&(n=p[e+76>>2]+n|0),p[c>>2]=n,(0|a)>-1||(a=p[e+76>>2]+a|0);if(p[(r<<2)+y>>2]=a,(0|(b=b+1|0))>=(0|A))break e;if(r=p[g>>2],f=p[r>>2],!(p[r+4>>2]-f>>2>>>0>b>>>0))break}vo(),E()}return V=s+48|0,1},a[228]=Nt,a[229]=Zt,a[230]=Q,a[231]=ut,a[232]=$,a[233]=Zt,a[234]=Fr,a[235]=ti,a[236]=function(e,t,i,r,n,a){e|=0,t|=0,i|=0,a|=0;var s=0,o=0,l=0,c=0,f=0,h=0,u=0;if(V=a=V-32|0,(0|(r=(r|=0)-(n|=0)|0))>=1)for(l=e+8|0,f=0-n<<2;h=p[(o=(s=(c=r<<2)+t|0)+f|0)>>2],o=p[o+4>>2],u=p[s+4>>2],p[a+16>>2]=p[s>>2],p[a+20>>2]=u,p[a+8>>2]=h,p[a+12>>2]=o,re(a+24|0,l,a+16|0,a+8|0),p[(s=i+c|0)>>2]=p[a+24>>2],p[s+4>>2]=p[a+28>>2],(0|(r=r-n|0))>0;);return r=Do(oo(r=(1073741823&n)!=(0|n)?-1:n<<2),0,r),n=p[r>>2],s=p[r+4>>2],l=p[t+4>>2],p[a+16>>2]=p[t>>2],p[a+20>>2]=l,p[a+8>>2]=n,p[a+12>>2]=s,re(a+24|0,e+8|0,a+16|0,a+8|0),p[i>>2]=p[a+24>>2],p[i+4>>2]=p[a+28>>2],Mo(r),V=a+32|0,1},a[237]=function(e){var t=0,i=0;return p[(e|=0)>>2]=10048,p[e+40>>2]=1384,(t=p[e+48>>2])&&(p[e+52>>2]=t,Mo(t)),p[e>>2]=2428,t=p[(i=e+36|0)>>2],p[i>>2]=0,t&&a[p[p[t>>2]+4>>2]](t),p[e>>2]=2108,t=p[(i=e+32|0)>>2],p[i>>2]=0,t&&pt(t),(t=p[e+16>>2])&&(p[e+20>>2]=t,Mo(t)),0|e},a[238]=function(e){var t=0,i=0;p[(e|=0)>>2]=10048,p[e+40>>2]=1384,(t=p[e+48>>2])&&(p[e+52>>2]=t,Mo(t)),p[e>>2]=2428,t=p[(i=e+36|0)>>2],p[i>>2]=0,t&&a[p[p[t>>2]+4>>2]](t),p[e>>2]=2108,t=p[(i=e+32|0)>>2],p[i>>2]=0,t&&pt(t),(t=p[e+16>>2])&&(p[e+20>>2]=t,Mo(t)),Mo(e)},a[239]=function(e,t,i){e|=0,t|=0,i|=0;var r,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=g(0);V=r=V-32|0;e:{t:if(Vr(e,t,i)&&(u=p[p[p[t+4>>2]+8>>2]+(i<<2)>>2],9==p[u+28>>2])){o=p[t+48>>2],n=oo(32),p[r+16>>2]=n,p[r+20>>2]=17,p[r+24>>2]=-2147483616,l[n+17|0]=0,l[n+16|0]=_[10120],c=_[10116]|_[10117]<<8|_[10118]<<16|_[10119]<<24,a=_[10112]|_[10113]<<8|_[10114]<<16|_[10115]<<24,l[n+8|0]=a,l[n+9|0]=a>>>8,l[n+10|0]=a>>>16,l[n+11|0]=a>>>24,l[n+12|0]=c,l[n+13|0]=c>>>8,l[n+14|0]=c>>>16,l[n+15|0]=c>>>24,c=_[10108]|_[10109]<<8|_[10110]<<16|_[10111]<<24,a=_[10104]|_[10105]<<8|_[10106]<<16|_[10107]<<24,l[0|n]=a,l[n+1|0]=a>>>8,l[n+2|0]=a>>>16,l[n+3|0]=a>>>24,l[n+4|0]=c,l[n+5|0]=c>>>8,l[n+6|0]=c>>>16,l[n+7|0]=c>>>24;i:{if(s=p[(c=o+16|0)>>2]){for(n=c;n=(a=p[s+16>>2]<(0|i))?n:s,s=p[(a<<2)+s>>2];);if(!((0|n)==(0|c)|p[n+16>>2]>(0|i))&&ir(n=n+20|0,r+16|0)){c=_a(n,r+16|0,-1);break i}}c=_a(o,r+16|0,-1)}if(l[r+27|0]<=-1&&Mo(p[r+16>>2]),(0|c)<1)s=0;else{o=p[t+48>>2],n=oo(32),p[r+16>>2]=n,p[r+20>>2]=19,p[r+24>>2]=-2147483616,l[n+19|0]=0,a=_[10137]|_[10138]<<8|_[10139]<<16|_[10140]<<24,l[n+15|0]=a,l[n+16|0]=a>>>8,l[n+17|0]=a>>>16,l[n+18|0]=a>>>24,a=_[10134]|_[10135]<<8|_[10136]<<16|_[10137]<<24,s=_[10130]|_[10131]<<8|_[10132]<<16|_[10133]<<24,l[n+8|0]=s,l[n+9|0]=s>>>8,l[n+10|0]=s>>>16,l[n+11|0]=s>>>24,l[n+12|0]=a,l[n+13|0]=a>>>8,l[n+14|0]=a>>>16,l[n+15|0]=a>>>24,a=_[10126]|_[10127]<<8|_[10128]<<16|_[10129]<<24,s=_[10122]|_[10123]<<8|_[10124]<<16|_[10125]<<24,l[0|n]=s,l[n+1|0]=s>>>8,l[n+2|0]=s>>>16,l[n+3|0]=s>>>24,l[n+4|0]=a,l[n+5|0]=a>>>8,l[n+6|0]=a>>>16,l[n+7|0]=a>>>24;i:{if(s=p[(a=o+16|0)>>2]){for(n=a;n=(f=p[s+16>>2]<(0|i))?n:s,s=p[(f<<2)+s>>2];);if(!((0|n)==(0|a)|p[n+16>>2]>(0|i))){a=ir(n+20|0,r+16|0);break i}}a=ir(o,r+16|0)}if(n=0,a){o=p[t+48>>2],p[r+8>>2]=0,p[r>>2]=0,p[r+4>>2]=0,n=oo(32),p[r>>2]=n,p[r+4>>2]=18,p[r+8>>2]=-2147483616,l[n+18|0]=0,a=_[10158]|_[10159]<<8,l[n+16|0]=a,l[n+17|0]=a>>>8,a=_[10154]|_[10155]<<8|_[10156]<<16|_[10157]<<24,s=_[10150]|_[10151]<<8|_[10152]<<16|_[10153]<<24,l[n+8|0]=s,l[n+9|0]=s>>>8,l[n+10|0]=s>>>16,l[n+11|0]=s>>>24,l[n+12|0]=a,l[n+13|0]=a>>>8,l[n+14|0]=a>>>16,l[n+15|0]=a>>>24,a=_[10146]|_[10147]<<8|_[10148]<<16|_[10149]<<24,s=_[10142]|_[10143]<<8|_[10144]<<16|_[10145]<<24,l[0|n]=s,l[n+1|0]=s>>>8,l[n+2|0]=s>>>16,l[n+3|0]=s>>>24,l[n+4|0]=a,l[n+5|0]=a>>>8,l[n+6|0]=a>>>16,l[n+7|0]=a>>>24;i:{if(s=p[(a=o+16|0)>>2]){for(n=a;n=(f=p[s+16>>2]<(0|i))?n:s,s=p[(f<<2)+s>>2];);if(!((0|n)==(0|a)|p[n+16>>2]>(0|i))){n=ir(n+20|0,r);break i}}n=ir(o,r)}l[r+11|0]<=-1&&Mo(p[r>>2]),n=0!=(0|n)}l[r+27|0]<=-1&&Mo(p[r+16>>2]);i:if(n){if(n=l[0|(h=u+24|0)],p[r+24>>2]=0,p[r+16>>2]=0,p[r+20>>2]=0,o=0,n){if((0|n)<=-1)break e;o=oo(n<<=2),p[r+16>>2]=o,a=n+o|0,p[r+24>>2]=a,Do(o,0,n),p[r+20>>2]=a}f=p[t+48>>2],p[r+8>>2]=0,p[r>>2]=0,p[r+4>>2]=0,n=oo(32),p[r>>2]=n,p[r+4>>2]=19,p[r+8>>2]=-2147483616,l[n+19|0]=0,a=_[10137]|_[10138]<<8|_[10139]<<16|_[10140]<<24,l[n+15|0]=a,l[n+16|0]=a>>>8,l[n+17|0]=a>>>16,l[n+18|0]=a>>>24,a=_[10134]|_[10135]<<8|_[10136]<<16|_[10137]<<24,s=_[10130]|_[10131]<<8|_[10132]<<16|_[10133]<<24,l[n+8|0]=s,l[n+9|0]=s>>>8,l[n+10|0]=s>>>16,l[n+11|0]=s>>>24,l[n+12|0]=a,l[n+13|0]=a>>>8,l[n+14|0]=a>>>16,l[n+15|0]=a>>>24,a=_[10126]|_[10127]<<8|_[10128]<<16|_[10129]<<24,s=_[10122]|_[10123]<<8|_[10124]<<16|_[10125]<<24,l[0|n]=s,l[n+1|0]=s>>>8,l[n+2|0]=s>>>16,l[n+3|0]=s>>>24,l[n+4|0]=a,l[n+5|0]=a>>>8,l[n+6|0]=a>>>16,l[n+7|0]=a>>>24,h=l[0|h];r:{if(s=p[(a=f+16|0)>>2]){for(n=a;n=(d=p[s+16>>2]<(0|i))?n:s,s=p[(d<<2)+s>>2];);if(!((0|n)==(0|a)|p[n+16>>2]>(0|i))&&ir(n=n+20|0,r)){rr(n,r,h,o);break r}}rr(f,r,h,o)}l[r+11|0]<=-1&&Mo(p[r>>2]),o=p[t+48>>2],p[r+8>>2]=0,p[r>>2]=0,p[r+4>>2]=0,t=oo(32),p[r>>2]=t,p[r+4>>2]=18,p[r+8>>2]=-2147483616,l[t+18|0]=0,n=_[10158]|_[10159]<<8,l[t+16|0]=n,l[t+17|0]=n>>>8,n=_[10154]|_[10155]<<8|_[10156]<<16|_[10157]<<24,a=_[10150]|_[10151]<<8|_[10152]<<16|_[10153]<<24,l[t+8|0]=a,l[t+9|0]=a>>>8,l[t+10|0]=a>>>16,l[t+11|0]=a>>>24,l[t+12|0]=n,l[t+13|0]=n>>>8,l[t+14|0]=n>>>16,l[t+15|0]=n>>>24,n=_[10146]|_[10147]<<8|_[10148]<<16|_[10149]<<24,a=_[10142]|_[10143]<<8|_[10144]<<16|_[10145]<<24,l[0|t]=a,l[t+1|0]=a>>>8,l[t+2|0]=a>>>16,l[t+3|0]=a>>>24,l[t+4|0]=n,l[t+5|0]=n>>>8,l[t+6|0]=n>>>16,l[t+7|0]=n>>>24;r:{if(s=p[(t=o+16|0)>>2]){for(n=t;n=(a=p[s+16>>2]<(0|i))?n:s,s=p[(a<<2)+s>>2];);if(!((0|t)==(0|n)|p[n+16>>2]>(0|i))&&ir(t=n+20|0,r)){m=ma(t,r);break r}}m=ma(o,r)}if(l[r+11|0]<=-1&&Mo(p[r>>2]),Jt(e+40|0,c,p[r+16>>2],l[u+24|0],m),!(e=p[r+16>>2]))break i;p[r+20>>2]=e,Mo(e)}else if(s=0,!Kt(e+40|0,u,c))break t;s=1}}return V=r+32|0,0|s}Ao(),E()},a[240]=function(e,t){return 0|$t((e|=0)+40|0,t|=0)},a[241]=ti,a[242]=Qt,a[243]=function(e,t,i){var r;return t|=0,i|=0,V=r=V-16|0,function(e,t,i,r,n){var a,s,o,c=0,f=0,h=0,u=0,d=0,m=0,b=g(0),v=0,y=0,x=g(0),S=0,w=0,E=0,M=0,P=0,R=0;if(V=s=V-16|0,h=r+4|0,a=l[i+24|0],ii(e,p[h>>2]-p[r>>2]>>2,a,n,i),e=p[e>>2],n=p[e+48>>2],u=p[t+4>>2],f=p[p[e>>2]>>2],ya(c=va(s+8|0),A[t+20>>2],-1<<u^-1),e=oo((1073741823&a)!=(0|a)?-1:a<<2),o=p[r>>2],r=p[h>>2],(0|o)!=(0|r))for(v=n+f|0,y=r-o>>2,x=A[c>>2],S=p[i>>2],n=p[i+48>>2],h=p[i+44>>2],u=p[i+40>>2],w=u,r=0,E=_[i+84|0],M=i+68|0,P=(0|a)<1,R=t+8|0;;){if(t=p[(d<<2)+o>>2],i=e,m=p[S>>2],f=u,c=h,E||(t=p[p[M>>2]+(t<<2)>>2]),t=Bo(f,c,t,0)+n|0,f=Io(i,t+m|0,w),!P)for(c=p[R>>2],i=0;m=v+(r<<2)|0,b=g(T(g(g(x*g(A[(t=i<<2)+f>>2]-A[t+c>>2]))+g(.5)))),t=g(k(b))<g(2147483648)?~~b:-2147483648,p[m>>2]=t,r=r+1|0,(0|a)!=(0|(i=i+1|0)););if(!((d=d+1|0)>>>0<y>>>0))break}Mo(e),V=s+16|0}(r+8|0,(e|=0)+40|0,p[e+8>>2],t,i),t=p[r+8>>2],p[r+8>>2]=0,e=p[(i=e+32|0)>>2],p[i>>2]=t,e?(pt(e),e=p[r+8>>2],p[r+8>>2]=0,e&&pt(e)):p[r+8>>2]=0,V=r+16|0,1},a[244]=It,a[245]=xe,a[246]=Me,a[247]=function(e){return p[(e|=0)>>2]=10364,_t(e+28|0,p[e+32>>2]),Te(e+16|0,p[e+20>>2]),_t(e+4|0,p[e+8>>2]),0|e},a[248]=Re,a[249]=Re,a[250]=function(e){var t=0,i=0,r=0,n=0,s=0;if(p[(e|=0)>>2]=10980,i=p[(t=e- -64|0)>>2],p[t>>2]=0,i&&a[p[p[i>>2]+4>>2]](i),p[e>>2]=13532,(t=p[e+32>>2])&&(p[e+36>>2]=t,Mo(t)),(t=p[e+20>>2])&&(p[e+24>>2]=t,Mo(t)),i=p[e+8>>2]){if(n=t=i,(0|t)!=(0|(r=p[(s=e+12|0)>>2]))){for(;t=p[(r=r+-4|0)>>2],p[r>>2]=0,t&&a[p[p[t>>2]+4>>2]](t),(0|i)!=(0|r););n=p[e+8>>2]}t=n,p[s>>2]=i,Mo(t)}return 0|e},a[251]=function(e){var t=0,i=0,r=0,n=0,s=0;if(p[(e|=0)>>2]=10980,i=p[(t=e- -64|0)>>2],p[t>>2]=0,i&&a[p[p[i>>2]+4>>2]](i),p[e>>2]=13532,(t=p[e+32>>2])&&(p[e+36>>2]=t,Mo(t)),(t=p[e+20>>2])&&(p[e+24>>2]=t,Mo(t)),i=p[e+8>>2]){if(n=t=i,(0|t)!=(0|(r=p[(s=e+12|0)>>2]))){for(;t=p[(r=r+-4|0)>>2],p[r>>2]=0,t&&a[p[p[t>>2]+4>>2]](t),(0|i)!=(0|r););n=p[e+8>>2]}t=n,p[s>>2]=i,Mo(t)}Mo(e)},a[252]=ti,a[253]=ti,a[254]=function(e){var t,i,r,n,s=0,o=0,c=0,f=0,h=0;V=t=V-16|0,h=p[(f=(e|=0)+48|0)>>2],s=oo(32),p[t>>2]=s,p[t+4>>2]=20,p[t+8>>2]=-2147483616,l[s+20|0]=0,o=_[11068]|_[11069]<<8|_[11070]<<16|_[11071]<<24,l[s+16|0]=o,l[s+17|0]=o>>>8,l[s+18|0]=o>>>16,l[s+19|0]=o>>>24,o=_[11064]|_[11065]<<8|_[11066]<<16|_[11067]<<24,c=_[11060]|_[11061]<<8|_[11062]<<16|_[11063]<<24,l[s+8|0]=c,l[s+9|0]=c>>>8,l[s+10|0]=c>>>16,l[s+11|0]=c>>>24,l[s+12|0]=o,l[s+13|0]=o>>>8,l[s+14|0]=o>>>16,l[s+15|0]=o>>>24,o=_[11056]|_[11057]<<8|_[11058]<<16|_[11059]<<24,c=_[11052]|_[11053]<<8|_[11054]<<16|_[11055]<<24,l[0|s]=c,l[s+1|0]=c>>>8,l[s+2|0]=c>>>16,l[s+3|0]=c>>>24,l[s+4|0]=o,l[s+5|0]=o>>>8,l[s+6|0]=o>>>16,l[s+7|0]=o>>>24,h=ba(h+24|0,t),l[t+11|0]<=-1&&Mo(p[t>>2]),f=p[f>>2],s=oo(32),p[t>>2]=s,p[t+4>>2]=22,p[t+8>>2]=-2147483616,l[s+22|0]=0,o=_[11091]|_[11092]<<8|_[11093]<<16|_[11094]<<24,c=_[11087]|_[11088]<<8|_[11089]<<16|_[11090]<<24,l[s+14|0]=c,l[s+15|0]=c>>>8,l[s+16|0]=c>>>16,l[s+17|0]=c>>>24,l[s+18|0]=o,l[s+19|0]=o>>>8,l[s+20|0]=o>>>16,l[s+21|0]=o>>>24,o=_[11085]|_[11086]<<8|_[11087]<<16|_[11088]<<24,c=_[11081]|_[11082]<<8|_[11083]<<16|_[11084]<<24,l[s+8|0]=c,l[s+9|0]=c>>>8,l[s+10|0]=c>>>16,l[s+11|0]=c>>>24,l[s+12|0]=o,l[s+13|0]=o>>>8,l[s+14|0]=o>>>16,l[s+15|0]=o>>>24,o=_[11077]|_[11078]<<8|_[11079]<<16|_[11080]<<24,c=_[11073]|_[11074]<<8|_[11075]<<16|_[11076]<<24,l[0|s]=c,l[s+1|0]=c>>>8,l[s+2|0]=c>>>16,l[s+3|0]=c>>>24,l[s+4|0]=o,l[s+5|0]=o>>>8,l[s+6|0]=o>>>16,l[s+7|0]=o>>>24,f=ba(f+24|0,t),l[t+11|0]<=-1&&Mo(p[t>>2]),s=p[e+64>>2],p[e+64>>2]=0,s&&a[p[p[s>>2]+4>>2]](s),i=p[e+48>>2],s=p[e+56>>2],r=p[s+96>>2],n=p[s+100>>2],s=oo(32),p[t>>2]=s,p[t+4>>2]=18,p[t+8>>2]=-2147483616,l[s+18|0]=0,o=_[11112]|_[11113]<<8,l[s+16|0]=o,l[s+17|0]=o>>>8,o=_[11108]|_[11109]<<8|_[11110]<<16|_[11111]<<24,c=_[11104]|_[11105]<<8|_[11106]<<16|_[11107]<<24,l[s+8|0]=c,l[s+9|0]=c>>>8,l[s+10|0]=c>>>16,l[s+11|0]=c>>>24,l[s+12|0]=o,l[s+13|0]=o>>>8,l[s+14|0]=o>>>16,l[s+15|0]=o>>>24,o=_[11100]|_[11101]<<8|_[11102]<<16|_[11103]<<24,c=_[11096]|_[11097]<<8|_[11098]<<16|_[11099]<<24,l[0|s]=c,l[s+1|0]=c>>>8,l[s+2|0]=c>>>16,l[s+3|0]=c>>>24,l[s+4|0]=o,l[s+5|0]=o>>>8,l[s+6|0]=o>>>16,l[s+7|0]=o>>>24,s=(n-r|0)/12|0,o=_a(i,t,-1),l[t+11|0]<=-1&&Mo(p[t>>2]);e:{t:{i:if(!((o=o+1|0)>>>0>3)){r:{n:{a:{s:switch(o-1|0){case 2:break a;case 1:break i;case 0:break n;default:break s}if(h&&s>>>0<1e3|(0|or(p[e+48>>2]))>4|1^f)break r}if(s=p[e+44>>2],l[0|t]=2,((0|(o=p[s+20>>2]))<0||(0|o)<=0&&!(b[s+16>>2]>0))&&Yt(s,p[s+4>>2],t,t+1|0),function(e){p[e+4>>2]=0,p[e+8>>2]=0,p[e>>2]=11468,p[e+120>>2]=0,p[e+124>>2]=0,p[e+12>>2]=0,p[e+16>>2]=0,p[e+20>>2]=0,p[e+24>>2]=0,p[e+28>>2]=0,p[e+32>>2]=0,p[e+36>>2]=0,p[e+40>>2]=0,p[e+44>>2]=0,p[e+48>>2]=0,p[e+52>>2]=0,p[e+56>>2]=0,p[e+60>>2]=0,p[e+64>>2]=0,p[e+72>>2]=0,p[e+76>>2]=0,p[e+80>>2]=0,p[e+84>>2]=0,p[e+88>>2]=0,p[e+92>>2]=0,p[e+96>>2]=0,p[e+100>>2]=0,p[e+104>>2]=0,p[e+108>>2]=0,p[e+112>>2]=0,p[e+116>>2]=0,p[e+128>>2]=0,p[e+132>>2]=0,p[e+136>>2]=1065353216,p[e+156>>2]=0,p[e+160>>2]=0,p[e+148>>2]=0,p[e+152>>2]=0,p[e+140>>2]=0,p[e+144>>2]=0,p[e+168>>2]=0,p[e+172>>2]=0,p[e+164>>2]=-1,p[e+176>>2]=0,p[e+180>>2]=0,p[e+184>>2]=0,p[e+188>>2]=0,p[e+192>>2]=0,me(e+200|0),oa(e+232|0),p[e+304>>2]=0,p[e+308>>2]=0,p[e+296>>2]=0,p[e+300>>2]=0,p[e+288>>2]=0,p[e+292>>2]=0,p[e+280>>2]=0,p[e+284>>2]=0,p[e+272>>2]=0,p[e+276>>2]=0,p[e+264>>2]=0,p[e+268>>2]=0,l[e+352|0]=0,p[e+344>>2]=0,p[e+336>>2]=0,p[e+340>>2]=0,p[e+328>>2]=2,p[e+332>>2]=7,p[e+320>>2]=-1,p[e+324>>2]=0,p[e+312>>2]=0,p[e+316>>2]=-1}(s=oo(360)),o=p[e+64>>2],p[e+64>>2]=s,!o)break t;a[p[p[o>>2]+4>>2]](o);break i}if(!h)break i}if(s=p[e+44>>2],l[0|t]=0,((0|(o=p[s+20>>2]))<0||(0|o)<=0&&!(b[s+16>>2]>0))&&Yt(s,p[s+4>>2],t,t+1|0),function(e){p[e+4>>2]=0,p[e+8>>2]=0,p[e>>2]=11236,p[e+120>>2]=0,p[e+124>>2]=0,p[e+12>>2]=0,p[e+16>>2]=0,p[e+20>>2]=0,p[e+24>>2]=0,p[e+28>>2]=0,p[e+32>>2]=0,p[e+36>>2]=0,p[e+40>>2]=0,p[e+44>>2]=0,p[e+48>>2]=0,p[e+52>>2]=0,p[e+56>>2]=0,p[e+60>>2]=0,p[e+64>>2]=0,p[e+72>>2]=0,p[e+76>>2]=0,p[e+80>>2]=0,p[e+84>>2]=0,p[e+88>>2]=0,p[e+92>>2]=0,p[e+96>>2]=0,p[e+100>>2]=0,p[e+104>>2]=0,p[e+108>>2]=0,p[e+112>>2]=0,p[e+116>>2]=0,p[e+128>>2]=0,p[e+132>>2]=0,p[e+136>>2]=1065353216,p[e+156>>2]=0,p[e+160>>2]=0,p[e+148>>2]=0,p[e+152>>2]=0,p[e+140>>2]=0,p[e+144>>2]=0,p[e+168>>2]=0,p[e+172>>2]=0,p[e+164>>2]=-1,p[e+176>>2]=0,p[e+180>>2]=0,p[e+184>>2]=0,p[e+188>>2]=0,p[e+192>>2]=0,me(e+200|0),oa(e+232|0),l[e+288|0]=0,p[e+280>>2]=0,p[e+284>>2]=0,p[e+272>>2]=0,p[e+276>>2]=0,p[e+264>>2]=0,p[e+268>>2]=0}(s=oo(296)),o=p[e+64>>2],p[e+64>>2]=s,!o)break t;a[p[p[o>>2]+4>>2]](o)}if(!(s=p[e+64>>2])){e=0;break e}}e=0|a[p[p[s>>2]+8>>2]](s,e)}return V=t+16|0,0|e},a[255]=ti,a[256]=function(e,t){e|=0;var i,r=0,n=0,s=0,o=0;V=i=V-16|0,a[p[p[(t|=0)>>2]+64>>2]](e,t),p[e>>2]||(l[e+15|0]<=-1&&Mo(p[e+4>>2]),o=p[t+48>>2],r=oo(32),p[i>>2]=r,p[i+4>>2]=29,p[i+8>>2]=-2147483616,l[r+29|0]=0,n=_[13205]|_[13206]<<8|_[13207]<<16|_[13208]<<24,s=_[13201]|_[13202]<<8|_[13203]<<16|_[13204]<<24,l[r+21|0]=s,l[r+22|0]=s>>>8,l[r+23|0]=s>>>16,l[r+24|0]=s>>>24,l[r+25|0]=n,l[r+26|0]=n>>>8,l[r+27|0]=n>>>16,l[r+28|0]=n>>>24,n=_[13200]|_[13201]<<8|_[13202]<<16|_[13203]<<24,s=_[13196]|_[13197]<<8|_[13198]<<16|_[13199]<<24,l[r+16|0]=s,l[r+17|0]=s>>>8,l[r+18|0]=s>>>16,l[r+19|0]=s>>>24,l[r+20|0]=n,l[r+21|0]=n>>>8,l[r+22|0]=n>>>16,l[r+23|0]=n>>>24,n=_[13192]|_[13193]<<8|_[13194]<<16|_[13195]<<24,s=_[13188]|_[13189]<<8|_[13190]<<16|_[13191]<<24,l[r+8|0]=s,l[r+9|0]=s>>>8,l[r+10|0]=s>>>16,l[r+11|0]=s>>>24,l[r+12|0]=n,l[r+13|0]=n>>>8,l[r+14|0]=n>>>16,l[r+15|0]=n>>>24,n=_[13184]|_[13185]<<8|_[13186]<<16|_[13187]<<24,s=_[13180]|_[13181]<<8|_[13182]<<16|_[13183]<<24,l[0|r]=s,l[r+1|0]=s>>>8,l[r+2|0]=s>>>16,l[r+3|0]=s>>>24,l[r+4|0]=n,l[r+5|0]=n>>>8,l[r+6|0]=n>>>16,l[r+7|0]=n>>>24,r=Aa(o,i,0),l[i+11|0]<=-1&&Mo(p[i>>2]),r&&a[p[p[t>>2]+68>>2]](t),p[e>>2]=0,p[e+4>>2]=0,p[e+8>>2]=0,p[e+12>>2]=0),V=i+16|0},a[257]=function(e){var t,i=0,r=0,n=0,s=0,o=0,c=0;V=t=V-16|0;e:if(a[p[p[(e|=0)>>2]+32>>2]](e)){if(r=p[e+44>>2],n=p[(s=e+12|0)>>2],i=p[e+8>>2],l[t+15|0]=n-i>>>2,((0|(o=p[r+20>>2]))<0||(0|o)<=0&&!(b[r+16>>2]>0))&&(Yt(r,p[r+4>>2],t+15|0,t+16|0),n=p[s>>2],i=p[e+8>>2]),(0|i)!=(0|n))for(;;){if(r=p[i>>2],!a[p[p[r>>2]+8>>2]](r,e,p[e+4>>2]))break e;if((0|n)==(0|(i=i+4|0)))break}if(function(e){var t,i,r,n=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,b=0,A=0,v=0,y=0,g=0;V=t=V+-64|0,r=e+32|0,n=p[(u=e+12|0)>>2]-p[e+8>>2]>>2,c=p[e+32>>2],s=p[e+36>>2]-c>>2;n>>>0>s>>>0?(Qr(r,n-s|0),n=p[u>>2]-p[e+8>>2]>>2):n>>>0>=s>>>0||(p[e+36>>2]=c+(n<<2));l[t+32|0]=0,i=qn(t+48|0,n,t+32|0),n=p[(d=e+12|0)>>2],o=p[e+8>>2],v=e+20|0;t:{for(;;){if(_>>>0<n-o>>2>>>0){if(s=0,f=0,u=0,h=0,(0|n)!=(0|o)){for(;;){i:if(!((b=1<<(31&h))&p[(A=h>>>5<<2)+p[i>>2]>>2])){f=1,c=0;r:if(n=p[(s=h<<2)+o>>2],p[n+8>>2]!=p[n+4>>2])n:for(;;)for(m=p[p[n+4>>2]+(c<<2)>>2],n=0;;){a:{if(o=p[s+o>>2],(0|n)<(0|a[p[p[o>>2]+24>>2]](o,m))){if(o=p[s+p[e+8>>2]>>2],(0|(o=0|a[p[p[o>>2]+28>>2]](o,m,n)))==(0|h))break a;if(o=p[p[v>>2]+(o<<2)>>2],p[p[i>>2]+(o>>>3&536870908)>>2]>>>(31&o)&1)break a;f=0}if(c=c+1|0,o=p[e+8>>2],n=p[s+o>>2],c>>>0<p[n+8>>2]-p[n+4>>2]>>2>>>0)continue n;if(!f)break i;break r}n=n+1|0,o=p[e+8>>2]}p[p[r>>2]+(_<<2)>>2]=h,s=A+p[i>>2]|0,p[s>>2]=b|p[s>>2],u=1,_=_+1|0}if(h=h+1|0,n=p[d>>2],!(h>>>0<(f=n-o>>2)>>>0))break}s=u}if(1&s|_>>>0>=f>>>0)continue;break t}break}p[t+40>>2]=0,p[t+32>>2]=0,p[t+36>>2]=0,s=p[e+4>>2],u=p[s+12>>2],s=p[s+8>>2],l[t+15|0]=0,m=qn(t+16|0,u-s>>2,t+15|0),y=1,n=p[e+8>>2],s=p[(A=e+12|0)>>2];i:if((0|n)!=(0|s))for(u=0;;){r:if(d=p[p[r>>2]+(u<<2)>>2]<<2,c=p[d+n>>2],!((0|(c=p[c+8>>2]-p[c+4>>2]|0))<8)){for(o=c>>2,n=p[t+32>>2],s=p[t+36>>2]-n>>2,o>>>0>s>>>0?Qr(t+32|0,o-s|0):o>>>0>=s>>>0||(p[t+36>>2]=n+(o<<2)),h=0;;){c=0,_=0;n:{if((0|h)<(0|o))for(;;){s=1;a:if(!((g=1<<(31&c))&p[(b=c>>>5<<2)+p[m>>2]>>2])){for(f=p[d+p[e+8>>2]>>2],v=p[p[f+4>>2]+(c<<2)>>2],n=0;(0|n)<(0|a[p[p[f>>2]+24>>2]](f,v));){if(f=p[d+p[e+8>>2]>>2],f=0|a[p[p[f>>2]+28>>2]](f,v,n),!(f=p[p[m>>2]+(f>>>3&536870908)>>2]&1<<(31&f)))break a;n=n+1|0,s&=0!=(0|f),f=p[d+p[e+8>>2]>>2]}1&s&&(p[p[t+32>>2]+(h<<2)>>2]=c,s=b+p[m>>2]|0,p[s>>2]=g|p[s>>2],_=1,h=h+1|0)}if(!((0|(c=c+1|0))<(0|o)))break n}Kn(p[d+p[e+8>>2]>>2],t+32|0),s=p[A>>2],n=p[e+8>>2];break r}if(!(1&((0|h)>=(0|o)|_)))break}y=0;break i}if(!((u=u+1|0)>>>0<s-n>>2>>>0))break}(e=p[m>>2])&&Mo(e),(e=p[t+32>>2])&&(p[t+36>>2]=e,Mo(e))}(e=p[i>>2])&&Mo(e);return V=t- -64|0,y}(e)){if((0|(i=p[e+32>>2]))!=(0|(r=p[e+36>>2]))){for(;;){if(!a[p[p[e>>2]+40>>2]](e,p[i>>2]))break e;if((0|r)==(0|(i=i+4|0)))break}if((0|(i=p[e+32>>2]))!=(0|(r=p[e+36>>2])))for(;;){if(n=p[p[e+8>>2]+(p[i>>2]<<2)>>2],!a[p[p[n>>2]+12>>2]](n,p[e+44>>2]))break e;if((0|r)==(0|(i=i+4|0)))break}}c=0|a[p[p[e>>2]+44>>2]](e)}}return V=t+16|0,0|c},a[258]=function(e){var t=0,i=0,r=0,n=0,s=0,o=0,l=0;t=p[(e|=0)+4>>2];e:{if((0|(t=p[t+12>>2]-p[t+8>>2]|0))<1)i=t>>2;else for(t=0;;){if(!a[p[p[e>>2]+36>>2]](e,t))break e;if(t=t+1|0,i=p[e+4>>2],!((0|t)<(0|(i=p[i+12>>2]-p[i+8>>2]>>2))))break}if(s=e+20|0,r=p[e+20>>2],i>>>0>(t=p[e+24>>2]-r>>2)>>>0?Qr(s,i-t|0):i>>>0>=t>>>0||(p[e+24>>2]=r+(i<<2)),r=1,(0|(i=p[e+8>>2]))!=(0|(e=p[e+12>>2])))for(o=e-i>>2,t=0;;){if(e=p[(t<<2)+i>>2],(0|(n=p[e+8>>2]))!=(0|(r=p[e+4>>2])))for(n=n-r>>2,l=p[s>>2],e=0;p[(p[r+(e<<2)>>2]<<2)+l>>2]=t,(e=e+1|0)>>>0<n>>>0;);if(r=1,!((t=t+1|0)>>>0<o>>>0))break}}return 0|r},a[259]=function(e,t){return t|=0,e=p[(e|=0)- -64>>2],0|a[p[p[e>>2]+20>>2]](e,t)},a[260]=function(e,t){return t|=0,e=p[(e|=0)- -64>>2],0|a[p[p[e>>2]+24>>2]](e,t)},a[261]=function(e){var t,i=0,r=0,n=0,s=0;r=1;e:if((0|(i=p[(e|=0)+32>>2]))!=(0|(t=p[e+36>>2]))){for(s=e+8|0;;){if(n=p[p[s>>2]+(p[i>>2]<<2)>>2],a[p[p[n>>2]+20>>2]](n,p[e+44>>2])){if((0|t)!=(0|(i=i+4|0)))continue;break e}break}r=0}return 0|r},a[262]=function(e){var t,i=0,r=0,n=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,_=0,m=0,b=0,A=0,v=0;if(V=t=V-32|0,(r=p[(e|=0)- -64>>2])&&(r=0|a[p[p[r>>2]+32>>2]](r))){if(h=(p[r+28>>2]-p[r+24>>2]>>2)-p[r+44>>2]|0,i=p[(o=e+56|0)>>2],!((p[i+12>>2]-p[i+8>>2]|0)<5)){for(p[t+24>>2]=0,p[t+16>>2]=0,p[t+20>>2]=0;p[p[p[i+8>>2]+(n<<2)>>2]+56>>2]&&(i=0|a[p[p[e>>2]+56>>2]](e,n),p[t+12>>2]=i,i&&((0|(s=p[t+20>>2]))==p[t+24>>2]?ln(t+16|0,t+12|0):(p[s>>2]=i,p[t+20>>2]=p[t+20>>2]+4)),i=p[o>>2]),(0|(n=n+1|0))<p[i+12>>2]-p[i+8>>2]>>2;);if((0|(u=p[r+24>>2]))!=(0|(o=p[r+28>>2])))for(A=o-u>>2,v=(m=p[t+20>>2])-(l=p[t+16>>2])>>2,d=r+12|0,b=i+96|0;;){if(-1!=(0|(s=p[(_<<2)+u>>2]))){(0|s)<=-1?(i=(s>>>0)%3|0,r=-1):(i=s-y(r=(s>>>0)/3|0,3)|0,r=p[(p[b>>2]+y(r,12)|0)+(i<<2)>>2]),f=0;e:if(-1!=(0|(i=s+(i?-1:2)|0))&&-1!=(0|(i=p[p[d>>2]+(i<<2)>>2]))&&(o=s,-1!=(0|(n=i+((i>>>0)%3|0?-1:2)|0))))for(;;){t:{if((0|r)==(0|(i=(0|n)<0?-1:p[(p[b>>2]+y((n>>>0)/3|0,12)|0)+((n>>>0)%3<<2)>>2]))){if(i=0,(0|l)==(0|m)){i=r;break t}i:{for(;;){if(c=p[p[(i<<2)+l>>2]+28>>2],p[c+(n<<2)>>2]!=p[c+(o<<2)>>2])break i;if(!((i=i+1|0)>>>0<v>>>0))break}i=r;break t}i=r}f=f+1|0}if((0|n)==(0|s)|-1==(0|n))break e;if(-1==(0|(r=((n>>>0)%3|0?-1:2)+n|0)))break e;if(-1==(0|(c=p[p[d>>2]+(r<<2)>>2])))break e;if(r=i,o=n,n=i=c+((c>>>0)%3|0?-1:2)|0,-1==(0|i))break}o=h+f|0,-1!=(0|(r=((r=s+1|0)>>>0)%3|0?r:s+-2|0))&&-1!=(0|(r=p[p[d>>2]+(r<<2)>>2]))&&(i=1,-1!=(0|(((n=r+1|0)>>>0)%3|0?n:r+-2|0)))||(i=0),h=o-(i&0!=(0|f))|0}if(!((_=_+1|0)>>>0<A>>>0))break}else l=p[t+16>>2];l&&(p[t+20>>2]=l,Mo(l))}p[e+52>>2]=h}V=t+32|0},a[263]=function(e){return e=p[(e|=0)- -64>>2],0|a[p[p[e>>2]+32>>2]](e)},a[264]=function(e,t){return t|=0,e=p[(e|=0)- -64>>2],0|a[p[p[e>>2]+12>>2]](e,t)},a[265]=function(e,t){return t|=0,e=p[(e|=0)- -64>>2],0|a[p[p[e>>2]+16>>2]](e,t)},a[266]=function(e,t){var i;i=e|=0,e=p[(t|=0)- -64>>2],a[p[p[e>>2]+28>>2]](i,e)},a[267]=function(e){var t=0;(t=p[(e|=0)- -64>>2])&&(t=0|a[p[p[t>>2]+32>>2]](t))&&(p[e+60>>2]=((p[t+4>>2]-p[t>>2]>>2>>>0)/3|0)-p[t+40>>2])},a[268]=Bn,a[269]=function(e){Mo(Bn(e|=0))},a[270]=function(e,t){t|=0;var i,r=0,n=0,a=0,s=0,o=0;V=i=V-16|0,p[(e|=0)+4>>2]=t,p[e+8>>2]=p[t+56>>2],p[e+188>>2]=p[e+184>>2],a=p[t+48>>2],t=oo(32),p[i>>2]=t,p[i+4>>2]=19,p[i+8>>2]=-2147483616,l[t+19|0]=0,r=_[11295]|_[11296]<<8|_[11297]<<16|_[11298]<<24,l[t+15|0]=r,l[t+16|0]=r>>>8,l[t+17|0]=r>>>16,l[t+18|0]=r>>>24,r=_[11292]|_[11293]<<8|_[11294]<<16|_[11295]<<24,n=_[11288]|_[11289]<<8|_[11290]<<16|_[11291]<<24,l[t+8|0]=n,l[t+9|0]=n>>>8,l[t+10|0]=n>>>16,l[t+11|0]=n>>>24,l[t+12|0]=r,l[t+13|0]=r>>>8,l[t+14|0]=r>>>16,l[t+15|0]=r>>>24,r=_[11284]|_[11285]<<8|_[11286]<<16|_[11287]<<24,n=_[11280]|_[11281]<<8|_[11282]<<16|_[11283]<<24,l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=r,l[t+5|0]=r>>>8,l[t+6|0]=r>>>16,l[t+7|0]=r>>>24,t=ir(a,i),l[i+11|0]<=-1&&Mo(p[i>>2]),a=p[p[e+4>>2]+48>>2];e:if(t){if(t=oo(32),p[i>>2]=t,p[i+4>>2]=19,p[i+8>>2]=-2147483616,l[t+19|0]=0,r=_[11295]|_[11296]<<8|_[11297]<<16|_[11298]<<24,l[t+15|0]=r,l[t+16|0]=r>>>8,l[t+17|0]=r>>>16,l[t+18|0]=r>>>24,r=_[11292]|_[11293]<<8|_[11294]<<16|_[11295]<<24,n=_[11288]|_[11289]<<8|_[11290]<<16|_[11291]<<24,l[t+8|0]=n,l[t+9|0]=n>>>8,l[t+10|0]=n>>>16,l[t+11|0]=n>>>24,l[t+12|0]=r,l[t+13|0]=r>>>8,l[t+14|0]=r>>>16,l[t+15|0]=r>>>24,r=_[11284]|_[11285]<<8|_[11286]<<16|_[11287]<<24,n=_[11280]|_[11281]<<8|_[11282]<<16|_[11283]<<24,l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=r,l[t+5|0]=r>>>8,l[t+6|0]=r>>>16,l[t+7|0]=r>>>24,s=e,o=Aa(a,i,0),l[s+288|0]=o,l[i+11|0]>-1)break e;Mo(p[i>>2])}else(0|or(a))>=6?l[e+288|0]=1:l[e+288|0]=0;return V=i+16|0,1},a[271]=cn,a[272]=fn,a[273]=function(e,t){t|=0;var i,r=0,n=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=0,A=0,v=0,g=0;V=i=V-96|0;e:if(!_[(e|=0)+288|0]||(r=0|a[p[p[e>>2]+40>>2]](e),(p[r+12>>2]-p[r+8>>2]|0)<1)){s=p[(r=t<<2)+p[p[56+(0|a[p[p[e>>2]+40>>2]](e))>>2]+84>>2]>>2],o=p[r+p[p[4+(0|a[p[p[e>>2]+40>>2]](e))>>2]+8>>2]>>2],p[i+88>>2]=-1;t:{if((0|(r=p[e+176>>2]))!=(0|(n=p[e+172>>2])))for(c=(r-n|0)/136|0,r=0;;){if(p[n+y(r,136)>>2]==(0|t)){p[i+88>>2]=r;break t}if(!((r=r+1|0)>>>0<c>>>0))break}r=-1}t:{i:{r:{n:{a:{s:{o:{l:{if(!_[e+288|0]){if(c=p[o+56>>2],!_[28+(n+y(r,136)|0)|0]|1!=(0|s)&&!(!s|!c))break s;if(c)break l}r=e+40|0;break o}s=p[e+12>>2],c=p[s+24>>2],s=p[s+28>>2],p[i+24>>2]=-1,hn((r=n+y(r,136)|0)+116|0,s-c>>2,i+24|0),l[100+(p[e+172>>2]+y(p[i+88>>2],136)|0)|0]=0,r=r+104|0}if(or(p[48+(0|a[p[p[e>>2]+40>>2]](e))>>2])|p[o+56>>2])break a;if(_[e+288|0]&&(n=p[e+8>>2],(p[n+12>>2]-p[n+8>>2]|0)>4))break a;un(i+24|0,e,r),s=1,r=p[i+24>>2];break n}if(n=n+y(r,136)|0,r=p[n+56>>2],s=p[n+60>>2],p[i+24>>2]=-1,hn(n+116|0,s-r>>2,i+24|0),r=oo(80),s=p[e+8>>2],p[(o=r+12|0)>>2]=0,p[o+4>>2]=0,p[r>>2]=12928,p[r+4>>2]=0,p[(c=r+20|0)>>2]=0,p[c+4>>2]=0,p[(f=A=r+28|0)>>2]=0,p[f+4>>2]=0,p[r+36>>2]=0,p[r+40>>2]=0,p[(f=r+44|0)>>2]=0,p[f+4>>2]=0,p[r+52>>2]=0,p[r+76>>2]=0,v=n+104|0,p[r+72>>2]=v,p[r+68>>2]=s,p[r- -64>>2]=0,p[(h=g=r+56|0)>>2]=0,p[h+4>>2]=0,p[r+8>>2]=11828,p[(h=i- -64|0)>>2]=0,p[h+4>>2]=0,p[i+56>>2]=0,p[i+60>>2]=0,p[(m=u=i+40|0)>>2]=0,p[m+4>>2]=0,p[i+80>>2]=0,p[i+48>>2]=0,p[i+52>>2]=0,p[i+32>>2]=0,p[i+36>>2]=0,p[i+72>>2]=0,p[i+76>>2]=0,p[i+24>>2]=11828,m=n+4|0,p[i+28>>2]=m,n=p[n+68>>2],d=p[n>>2],n=p[n+4>>2],l[i+95|0]=0,dn(i+48|0,(n-d>>2>>>0)/3|0,i+95|0),n=p[i+28>>2],d=p[n+56>>2],n=p[n+52>>2],l[i+95|0]=0,dn(i+60|0,d-n>>2,i+95|0),p[(d=i+44|0)>>2]=r,p[u>>2]=s,p[(n=i+36|0)>>2]=v,p[i+32>>2]=m,p[r+76>>2]=e+72,p[A>>2]=p[d>>2],s=p[n+4>>2],p[c>>2]=p[n>>2],p[c+4>>2]=s,n=p[i+32>>2],p[o>>2]=p[i+28>>2],p[o+4>>2]=n,u=r,s=p[i+52>>2]){if(o=r+32|0,s>>>0<=p[r+40>>2]<<5>>>0)c=s+-1>>>5,s=p[o>>2];else{if((o=p[o>>2])&&(Mo(o),p[r+40>>2]=0,p[r+32>>2]=0,p[r+36>>2]=0,s=p[i+52>>2]),(0|s)<=-1)break r;s=oo((o=(c=s+-1>>>5)+1|0)<<2),p[r+40>>2]=o,p[r+36>>2]=0,p[r+32>>2]=s}Fo(s,p[i+48>>2],4+(c<<2)|0),c=p[i+52>>2]}else c=0;if(p[u+36>>2]=c,u=r,s=p[h>>2]){if(s>>>0<=p[r+52>>2]<<5>>>0)o=s+-1>>>5,s=p[f>>2];else{if((o=p[f>>2])&&(Mo(o),p[r+52>>2]=0,p[r+44>>2]=0,p[r+48>>2]=0,s=p[i+64>>2]),(0|s)<=-1)break i;s=oo((c=(o=s+-1>>>5)+1|0)<<2),p[r+52>>2]=c,p[r+48>>2]=0,p[r+44>>2]=s}Fo(s,p[i+60>>2],4+(o<<2)|0),f=p[i+64>>2]}else f=0;p[u+48>>2]=f,pn(g,p[i+72>>2],p[i+76>>2]),p[i+24>>2]=11828,(n=p[i+72>>2])&&(p[i+76>>2]=n,Mo(n)),p[i+24>>2]=12080,(n=p[i+60>>2])&&Mo(n),(n=p[i+48>>2])&&Mo(n),s=0;break t}_n(i+24|0,e,r),s=0,r=p[i+24>>2]}if(r)break t;r=0;break e}Ao(),E()}Ao(),E()}f=e+68|0,-1!=(0|(o=p[i+88>>2]))&&(f=132+(p[e+172>>2]+y(o,136)|0)|0),p[f>>2]=s,n=oo(76),p[i+16>>2]=r,Nr(n,i+16|0,t),t=p[i+16>>2],p[i+16>>2]=0,t&&a[p[p[t>>2]+4>>2]](t),(0|(t=p[(r=e+188|0)>>2]))==p[e+192>>2]?Zi(e+184|0,i+88|0):(p[t>>2]=p[i+88>>2],p[r>>2]=t+4),e=0|a[p[p[e>>2]+40>>2]](e),p[i+8>>2]=n,(r=p[(t=e+12|0)>>2])>>>0<b[e+16>>2]?(p[i+8>>2]=0,p[r>>2]=n,p[t>>2]=p[t>>2]+4):mn(e+8|0,i+8|0),e=p[i+8>>2],p[i+8>>2]=0,r=1,e&&a[p[p[e>>2]+4>>2]](e)}else r=p[p[8+(0|a[p[p[e>>2]+40>>2]](e))>>2]>>2],p[i+24>>2]=t,(0|(e=p[r+8>>2]))==p[r+12>>2]?Zi(r+4|0,i+24|0):(p[e>>2]=t,p[r+8>>2]=e+4),e=p[i+24>>2],t=p[r+16>>2],(0|e)<(0|(n=p[r+20>>2]-t>>2))||(p[i+88>>2]=-1,(s=e+1|0)>>>0>n>>>0?(Qi(e=r+16|0,s-n|0,i+88|0),t=p[e>>2],e=p[i+24>>2]):s>>>0>=n>>>0||(p[r+20>>2]=(s<<2)+t)),p[(e<<2)+t>>2]=(p[r+8>>2]-p[r+4>>2]>>2)-1,r=1;return V=i+96|0,0|r},a[274]=bn,a[275]=function(e,t){e|=0;var i,r=0,n=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=0,A=0,v=0,g=0,k=0,x=0,S=0;V=i=V-48|0;e:if(_[(t|=0)+288|0]){if(Ia(i+32|0,p[t+8>>2]),r=p[i+32>>2],p[i+32>>2]=0,n=p[t+12>>2],p[t+12>>2]=r,!n){p[i+32>>2]=0;break e}if(An(n),n=p[i+32>>2],p[i+32>>2]=0,!n)break e;An(n)}else Ca(i+32|0,p[t+8>>2]),r=p[i+32>>2],p[i+32>>2]=0,n=p[t+12>>2],p[t+12>>2]=r,n?(An(n),n=p[i+32>>2],p[i+32>>2]=0,n&&An(n)):p[i+32>>2]=0;e:{t:{n=p[t+12>>2];i:if(p[n+40>>2]!=((p[n+4>>2]-p[n>>2]>>2>>>0)/3|0)&&n){if(p[t+264>>2]=t,Ki((p[n+28>>2]-p[n+24>>2]>>2)-p[n+44>>2]|0,p[p[t+4>>2]+44>>2]),r=p[(n=t+12|0)>>2],Ki(((p[r+4>>2]-p[r>>2]>>2>>>0)/3|0)-p[r+40>>2]|0,p[p[t+4>>2]+44>>2]),r=p[t+8>>2],s=p[r+100>>2],r=p[r+96>>2],l[i+32|0]=0,dn(u=t+28|0,(s-r|0)/12|0,i+32|0),r=p[n>>2],s=p[r+24>>2],r=p[r+28>>2],p[i+32>>2]=-1,hn(t+52|0,r-s>>2,i+32|0),r=p[t+40>>2],p[t+44>>2]=r,n=p[n>>2],s=(s=p[n+4>>2]-p[n>>2]>>2)-((s>>>0)%3|0)|0,!(p[t+48>>2]-r>>2>>>0>=s>>>0)){if(s>>>0>=1073741824)break t;s=oo(o=s<<2),p[t+44>>2]=s,p[t+40>>2]=s,p[t+48>>2]=s+o,r&&(Mo(r),n=p[t+12>>2])}if(r=p[n+28>>2],n=p[n+24>>2],l[i+32|0]=0,dn(t+84|0,r-n>>2,i+32|0),p[t+164>>2]=-1,p[t+168>>2]=0,p[t+100>>2]=p[t+96>>2],p[t+112>>2]=p[t+108>>2],p[t+132>>2]){if(n=p[(s=t+128|0)>>2])for(;r=p[n>>2],Mo(n),n=r;);if(p[s>>2]=0,r=p[t+124>>2])for(s=t+120|0,n=0;p[p[s>>2]+(n<<2)>>2]=0,(0|r)!=(0|(n=n+1|0)););p[t+132>>2]=0}if(p[t+144>>2]=0,n=p[(r=t+12|0)>>2],s=p[n+24>>2],n=p[n+28>>2],p[i+32>>2]=-1,hn(t+152|0,n-s>>2,i+32|0),n=p[t+72>>2],p[t+76>>2]=n,r=p[r>>2],s=((r=p[r+4>>2]-p[r>>2]>>2)>>>0)/3|0,!(p[t+80>>2]-n>>2>>>0>=s>>>0)){if(r>>>0>=3221225472)break e;r=oo(s<<=2),p[t+76>>2]=r,p[t+72>>2]=r,p[t+80>>2]=r+s,n&&Mo(n)}if(p[t- -64>>2]=0,vn(t))if(function(e){var t=0,i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0;r:{if(!_[e+288|0]){if(t=p[e+8>>2],a=p[t+12>>2]-p[t+8>>2]|0,r=(c=a>>2)+-1|0,i=p[e+176>>2],t=p[e+172>>2],r>>>0>(n=(i-t|0)/136|0)>>>0)Mn(e+172|0,r-n|0);else if(!(r>>>0>=n>>>0)){if((0|(r=t+y(r,136)|0))!=(0|i))for(;(t=p[i+-20>>2])&&(p[i+-16>>2]=t,Mo(t)),t=i+-136|0,(n=p[i+-32>>2])&&(p[i+-28>>2]=n,Mo(n)),Pn(i+-132|0),i=t,(0|t)!=(0|r););p[e+176>>2]=r}if(!(4==(0|a)|(0|a)<1))for(f=e+12|0,i=0;;){if(h=p[p[p[e+8>>2]+8>>2]+(i<<2)>>2],p[h+56>>2]){if(a=y(u,136),s=a+p[e+172>>2]|0,p[s>>2]=i,r=s+108|0,o=p[s+104>>2],p[r>>2]=o,n=s+112|0,t=p[f>>2],t=p[t+4>>2]-p[t>>2]|0,l=t>>2,!(p[n>>2]-o>>2>>>0>=l>>>0)){if(l>>>0>=1073741824)break r;t=oo(t),p[s+104>>2]=t,p[r>>2]=t,p[n>>2]=t+(l<<2),o&&Mo(o)}t=p[e+172>>2]+a|0,p[t+128>>2]=0,Pa(t+4|0,p[e+8>>2],p[f>>2],h),u=u+1|0}if(!((0|(i=i+1|0))<(0|c)))break}}return 1}Wt(11752),E()}(t)){n=(p[t+176>>2]-p[t+172>>2]|0)/136|0,l[i+31|0]=n,r=t,s=p[p[t+4>>2]+44>>2],((0|(o=p[s+20>>2]))<0||(0|o)<=0&&!(b[s+16>>2]>0))&&(Yt(s,p[s+4>>2],i+31|0,i+32|0),n=_[i+31|0]),p[r+284>>2]=255&n,n=p[(o=t+12|0)>>2],r=p[n>>2],n=p[n+4>>2],yn(d=t+200|0),p[i+40>>2]=0,p[i+32>>2]=0,p[i+36>>2]=0;r:{if((0|(n=n-r|0))>=1)for(k=t+96|0,x=n>>2,S=t+104|0,A=t+100|0,n=0;;){n:if(g=1<<(31&(r=(n>>>0)/3|0)),!(p[(v=r>>>5<<2)+p[u>>2]>>2]&g)&&!Ta(p[o>>2],r)){if(p[i+24>>2]=0,ye(d,r=gn(t,r,i+24|0)),s=p[i+24>>2],r){if(r=-1,c=-1,m=-1,-1!=(0|s)&&(h=p[p[o>>2]>>2],r=p[h+(s<<2)>>2],-1!=(0|(f=((f=s+1|0)>>>0)%3|0?f:s+-2|0))&&(c=p[h+(f<<2)>>2]),-1!=(0|(f=s+((s>>>0)%3|0?-1:2)|0))&&(m=p[h+(f<<2)>>2])),h=p[t+84>>2],p[(f=h+(r>>>3&536870908)|0)>>2]=p[f>>2]|1<<(31&r),p[(r=h+(c>>>3&536870908)|0)>>2]=p[r>>2]|1<<(31&c),p[(r=h+(m>>>3&536870908)|0)>>2]=p[r>>2]|1<<(31&m),p[i+8>>2]=1,(r=p[A>>2])>>>0<b[S>>2]?(p[r>>2]=1,p[A>>2]=r+4):kn(k,i+8|0),r=v+p[u>>2]|0,p[r>>2]=g|p[r>>2],r=-1,-1!=(0|s)&&(r=((r=s+1|0)>>>0)%3|0?r:s+-2|0),p[i+8>>2]=r,(c=p[i+36>>2])>>>0<b[i+40>>2]?(p[c>>2]=r,p[i+36>>2]=c+4):kn(i+32|0,i+8|0),-1==(0|s))break n;if(-1==(0|(r=((r=s+1|0)>>>0)%3|0?r:s+-2|0)))break n;if(-1==(0|(r=p[p[p[o>>2]+12>>2]+(r<<2)>>2])))break n;if(s=(r>>>0)/3|0,p[p[u>>2]+(s>>>3&268435452)>>2]>>>(31&s)&1)break n;if(xn(t,r))break n;if(p[i+16>>2]=0,p[i+8>>2]=0,p[i+12>>2]=0,t=oo(48),p[i+8>>2]=t,p[i+12>>2]=32,p[i+16>>2]=-2147483600,l[t+32|0]=0,n=_[11425]|_[11426]<<8|_[11427]<<16|_[11428]<<24,r=_[11421]|_[11422]<<8|_[11423]<<16|_[11424]<<24,l[t+24|0]=r,l[t+25|0]=r>>>8,l[t+26|0]=r>>>16,l[t+27|0]=r>>>24,l[t+28|0]=n,l[t+29|0]=n>>>8,l[t+30|0]=n>>>16,l[t+31|0]=n>>>24,n=_[11417]|_[11418]<<8|_[11419]<<16|_[11420]<<24,r=_[11413]|_[11414]<<8|_[11415]<<16|_[11416]<<24,l[t+16|0]=r,l[t+17|0]=r>>>8,l[t+18|0]=r>>>16,l[t+19|0]=r>>>24,l[t+20|0]=n,l[t+21|0]=n>>>8,l[t+22|0]=n>>>16,l[t+23|0]=n>>>24,n=_[11409]|_[11410]<<8|_[11411]<<16|_[11412]<<24,r=_[11405]|_[11406]<<8|_[11407]<<16|_[11408]<<24,l[t+8|0]=r,l[t+9|0]=r>>>8,l[t+10|0]=r>>>16,l[t+11|0]=r>>>24,l[t+12|0]=n,l[t+13|0]=n>>>8,l[t+14|0]=n>>>16,l[t+15|0]=n>>>24,n=_[11401]|_[11402]<<8|_[11403]<<16|_[11404]<<24,r=_[11397]|_[11398]<<8|_[11399]<<16|_[11400]<<24,l[0|t]=r,l[t+1|0]=r>>>8,l[t+2|0]=r>>>16,l[t+3|0]=r>>>24,l[t+4|0]=n,l[t+5|0]=n>>>8,l[t+6|0]=n>>>16,l[t+7|0]=n>>>24,p[e>>2]=-1,fo(e+4|0,i+8|0),l[i+19|0]>-1)break r;Mo(p[i+8>>2]);break r}if(Sn(r=t,s=-1!=(0|s)?((c=s+1|0)>>>0)%3|0?c:s+-2|0:-1,1),!xn(t,p[i+24>>2])){if(p[i+16>>2]=0,p[i+8>>2]=0,p[i+12>>2]=0,t=oo(48),p[i+8>>2]=t,p[i+12>>2]=32,p[i+16>>2]=-2147483600,l[t+32|0]=0,n=_[11425]|_[11426]<<8|_[11427]<<16|_[11428]<<24,r=_[11421]|_[11422]<<8|_[11423]<<16|_[11424]<<24,l[t+24|0]=r,l[t+25|0]=r>>>8,l[t+26|0]=r>>>16,l[t+27|0]=r>>>24,l[t+28|0]=n,l[t+29|0]=n>>>8,l[t+30|0]=n>>>16,l[t+31|0]=n>>>24,n=_[11417]|_[11418]<<8|_[11419]<<16|_[11420]<<24,r=_[11413]|_[11414]<<8|_[11415]<<16|_[11416]<<24,l[t+16|0]=r,l[t+17|0]=r>>>8,l[t+18|0]=r>>>16,l[t+19|0]=r>>>24,l[t+20|0]=n,l[t+21|0]=n>>>8,l[t+22|0]=n>>>16,l[t+23|0]=n>>>24,n=_[11409]|_[11410]<<8|_[11411]<<16|_[11412]<<24,r=_[11405]|_[11406]<<8|_[11407]<<16|_[11408]<<24,l[t+8|0]=r,l[t+9|0]=r>>>8,l[t+10|0]=r>>>16,l[t+11|0]=r>>>24,l[t+12|0]=n,l[t+13|0]=n>>>8,l[t+14|0]=n>>>16,l[t+15|0]=n>>>24,n=_[11401]|_[11402]<<8|_[11403]<<16|_[11404]<<24,r=_[11397]|_[11398]<<8|_[11399]<<16|_[11400]<<24,l[0|t]=r,l[t+1|0]=r>>>8,l[t+2|0]=r>>>16,l[t+3|0]=r>>>24,l[t+4|0]=n,l[t+5|0]=n>>>8,l[t+6|0]=n>>>16,l[t+7|0]=n>>>24,p[e>>2]=-1,fo(e+4|0,i+8|0),l[i+19|0]>-1)break r;Mo(p[i+8>>2]);break r}}if(!((0|(n=n+1|0))<(0|x)))break}if(o=t+72|0,(0|(n=p[t+72>>2]))!=(0|(s=p[t+76>>2]))&&!((r=s+-4|0)>>>0<=n>>>0))for(;c=p[n>>2],p[n>>2]=p[r>>2],p[r>>2]=c,(n=n+4|0)>>>0<(r=r+-4|0)>>>0;);if(Tn(o,s,p[i+32>>2],p[i+36>>2]),p[t+176>>2]!=p[t+172>>2]&&(n=p[t+8>>2],r=p[n+100>>2],n=p[n+96>>2],l[i+8|0]=0,dn(u,(r-n|0)/12|0,i+8|0),(0|(n=p[t+72>>2]))!=(0|(r=p[t+76>>2]))))for(;wn(t,p[n>>2]),(0|r)!=(0|(n=n+4|0)););if(function(e){var t,i=0,r=0,n=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=0,A=0;t=e+32|0,i=p[e+64>>2],i=p[56+(0|a[p[p[i>>2]+40>>2]](i))>>2],ca(t,y((p[i+100>>2]-p[i+96>>2]|0)/12|0,3),0,1);n:if(i=p[e+68>>2],!((0|(n=p[e+72>>2]-i|0))<1))for(n=(n>>>2)-1|0,h=e+44|0;;){if(!((0|(r=p[e+52>>2]))<0||(0|r)<=0&&!(b[e+48>>2]>=1))&&171>>>(c=p[(n<<2)+i>>2])&1)for(u=p[12096+(c<<2)>>2],i=p[h>>2],r=p[i+4>>2],o=0;f=(s=r>>>3)+p[i>>2]|0,d=_[0|f],m=f,A=zo(-2,r&=7)&d,l[0|m]=A,s=s+p[i>>2]|0,l[0|s]=_[0|s]|(c>>>o&1)<<r,r=p[i+4>>2]+1|0,p[i+4>>2]=r,(0|u)!=(0|(o=o+1|0)););if((0|(n=n+-1|0))<0)break n;i=p[e+68>>2]}fa(t)}(d),ke(d,r=t+232|0),(s=p[t+280>>2])&&(n=1,!(p[t+284>>2]<1)&&(ke(s,r),!(p[t+284>>2]<2))))for(s=t+280|0;ke(p[s>>2]+(n<<5)|0,r),(0|(n=n+1|0))<p[t+284>>2];);if(Ki(p[t+272>>2]-p[t+268>>2]>>2,p[p[t+4>>2]+44>>2]),Ki(p[t+168>>2],p[p[t+4>>2]+44>>2]),En(t))n=p[p[t+4>>2]+44>>2],((0|(r=p[n+20>>2]))<0||(0|r)<=0&&!(b[n+16>>2]>0))&&Yt(n,p[n+4>>2],p[t+232>>2],p[t+236>>2]),p[e>>2]=0,p[e+4>>2]=0,p[e+8>>2]=0,p[e+12>>2]=0;else{if(p[i+16>>2]=0,p[i+8>>2]=0,p[i+12>>2]=0,t=oo(32),p[i+8>>2]=t,p[i+12>>2]=28,p[i+16>>2]=-2147483616,l[t+28|0]=0,n=_[11454]|_[11455]<<8|_[11456]<<16|_[11457]<<24,l[t+24|0]=n,l[t+25|0]=n>>>8,l[t+26|0]=n>>>16,l[t+27|0]=n>>>24,n=_[11450]|_[11451]<<8|_[11452]<<16|_[11453]<<24,r=_[11446]|_[11447]<<8|_[11448]<<16|_[11449]<<24,l[t+16|0]=r,l[t+17|0]=r>>>8,l[t+18|0]=r>>>16,l[t+19|0]=r>>>24,l[t+20|0]=n,l[t+21|0]=n>>>8,l[t+22|0]=n>>>16,l[t+23|0]=n>>>24,n=_[11442]|_[11443]<<8|_[11444]<<16|_[11445]<<24,r=_[11438]|_[11439]<<8|_[11440]<<16|_[11441]<<24,l[t+8|0]=r,l[t+9|0]=r>>>8,l[t+10|0]=r>>>16,l[t+11|0]=r>>>24,l[t+12|0]=n,l[t+13|0]=n>>>8,l[t+14|0]=n>>>16,l[t+15|0]=n>>>24,n=_[11434]|_[11435]<<8|_[11436]<<16|_[11437]<<24,r=_[11430]|_[11431]<<8|_[11432]<<16|_[11433]<<24,l[0|t]=r,l[t+1|0]=r>>>8,l[t+2|0]=r>>>16,l[t+3|0]=r>>>24,l[t+4|0]=n,l[t+5|0]=n>>>8,l[t+6|0]=n>>>16,l[t+7|0]=n>>>24,p[e>>2]=-1,fo(e+4|0,i+8|0),l[i+19|0]>-1)break r;Mo(p[i+8>>2])}}(e=p[i+32>>2])&&(p[i+36>>2]=e,Mo(e))}else{if(t=oo(48),p[i+32>>2]=t,p[i+36>>2]=36,p[i+40>>2]=-2147483600,l[t+36|0]=0,n=_[11392]|_[11393]<<8|_[11394]<<16|_[11395]<<24,l[t+32|0]=n,l[t+33|0]=n>>>8,l[t+34|0]=n>>>16,l[t+35|0]=n>>>24,n=_[11388]|_[11389]<<8|_[11390]<<16|_[11391]<<24,r=_[11384]|_[11385]<<8|_[11386]<<16|_[11387]<<24,l[t+24|0]=r,l[t+25|0]=r>>>8,l[t+26|0]=r>>>16,l[t+27|0]=r>>>24,l[t+28|0]=n,l[t+29|0]=n>>>8,l[t+30|0]=n>>>16,l[t+31|0]=n>>>24,n=_[11380]|_[11381]<<8|_[11382]<<16|_[11383]<<24,r=_[11376]|_[11377]<<8|_[11378]<<16|_[11379]<<24,l[t+16|0]=r,l[t+17|0]=r>>>8,l[t+18|0]=r>>>16,l[t+19|0]=r>>>24,l[t+20|0]=n,l[t+21|0]=n>>>8,l[t+22|0]=n>>>16,l[t+23|0]=n>>>24,n=_[11372]|_[11373]<<8|_[11374]<<16|_[11375]<<24,r=_[11368]|_[11369]<<8|_[11370]<<16|_[11371]<<24,l[t+8|0]=r,l[t+9|0]=r>>>8,l[t+10|0]=r>>>16,l[t+11|0]=r>>>24,l[t+12|0]=n,l[t+13|0]=n>>>8,l[t+14|0]=n>>>16,l[t+15|0]=n>>>24,n=_[11364]|_[11365]<<8|_[11366]<<16|_[11367]<<24,r=_[11360]|_[11361]<<8|_[11362]<<16|_[11363]<<24,l[0|t]=r,l[t+1|0]=r>>>8,l[t+2|0]=r>>>16,l[t+3|0]=r>>>24,l[t+4|0]=n,l[t+5|0]=n>>>8,l[t+6|0]=n>>>16,l[t+7|0]=n>>>24,p[e>>2]=-1,fo(e+4|0,i+32|0),l[i+43|0]>-1)break i;Mo(p[i+32>>2])}else{if(t=oo(32),p[i+32>>2]=t,p[i+36>>2]=29,p[i+40>>2]=-2147483616,l[t+29|0]=0,n=_[11355]|_[11356]<<8|_[11357]<<16|_[11358]<<24,r=_[11351]|_[11352]<<8|_[11353]<<16|_[11354]<<24,l[t+21|0]=r,l[t+22|0]=r>>>8,l[t+23|0]=r>>>16,l[t+24|0]=r>>>24,l[t+25|0]=n,l[t+26|0]=n>>>8,l[t+27|0]=n>>>16,l[t+28|0]=n>>>24,n=_[11350]|_[11351]<<8|_[11352]<<16|_[11353]<<24,r=_[11346]|_[11347]<<8|_[11348]<<16|_[11349]<<24,l[t+16|0]=r,l[t+17|0]=r>>>8,l[t+18|0]=r>>>16,l[t+19|0]=r>>>24,l[t+20|0]=n,l[t+21|0]=n>>>8,l[t+22|0]=n>>>16,l[t+23|0]=n>>>24,n=_[11342]|_[11343]<<8|_[11344]<<16|_[11345]<<24,r=_[11338]|_[11339]<<8|_[11340]<<16|_[11341]<<24,l[t+8|0]=r,l[t+9|0]=r>>>8,l[t+10|0]=r>>>16,l[t+11|0]=r>>>24,l[t+12|0]=n,l[t+13|0]=n>>>8,l[t+14|0]=n>>>16,l[t+15|0]=n>>>24,n=_[11334]|_[11335]<<8|_[11336]<<16|_[11337]<<24,r=_[11330]|_[11331]<<8|_[11332]<<16|_[11333]<<24,l[0|t]=r,l[t+1|0]=r>>>8,l[t+2|0]=r>>>16,l[t+3|0]=r>>>24,l[t+4|0]=n,l[t+5|0]=n>>>8,l[t+6|0]=n>>>16,l[t+7|0]=n>>>24,p[e>>2]=-1,fo(e+4|0,i+32|0),l[i+43|0]>-1)break i;Mo(p[i+32>>2])}}else{if(t=oo(32),p[i+32>>2]=t,p[i+36>>2]=29,p[i+40>>2]=-2147483616,l[t+29|0]=0,n=_[11325]|_[11326]<<8|_[11327]<<16|_[11328]<<24,r=_[11321]|_[11322]<<8|_[11323]<<16|_[11324]<<24,l[t+21|0]=r,l[t+22|0]=r>>>8,l[t+23|0]=r>>>16,l[t+24|0]=r>>>24,l[t+25|0]=n,l[t+26|0]=n>>>8,l[t+27|0]=n>>>16,l[t+28|0]=n>>>24,n=_[11320]|_[11321]<<8|_[11322]<<16|_[11323]<<24,r=_[11316]|_[11317]<<8|_[11318]<<16|_[11319]<<24,l[t+16|0]=r,l[t+17|0]=r>>>8,l[t+18|0]=r>>>16,l[t+19|0]=r>>>24,l[t+20|0]=n,l[t+21|0]=n>>>8,l[t+22|0]=n>>>16,l[t+23|0]=n>>>24,n=_[11312]|_[11313]<<8|_[11314]<<16|_[11315]<<24,r=_[11308]|_[11309]<<8|_[11310]<<16|_[11311]<<24,l[t+8|0]=r,l[t+9|0]=r>>>8,l[t+10|0]=r>>>16,l[t+11|0]=r>>>24,l[t+12|0]=n,l[t+13|0]=n>>>8,l[t+14|0]=n>>>16,l[t+15|0]=n>>>24,n=_[11304]|_[11305]<<8|_[11306]<<16|_[11307]<<24,r=_[11300]|_[11301]<<8|_[11302]<<16|_[11303]<<24,l[0|t]=r,l[t+1|0]=r>>>8,l[t+2|0]=r>>>16,l[t+3|0]=r>>>24,l[t+4|0]=n,l[t+5|0]=n>>>8,l[t+6|0]=n>>>16,l[t+7|0]=n>>>24,p[e>>2]=-1,fo(e+4|0,i+32|0),l[i+43|0]>-1)break i;Mo(p[i+32>>2])}return void(V=i+48|0)}Wt(11752),E()}Wt(11752),E()},a[276]=On,a[277]=In,a[278]=Yr,a[279]=Ln,a[280]=function(e){Mo(Ln(e|=0))},a[281]=function(e,t){t|=0;var i,r=0,n=0,a=0,s=0,o=0;V=i=V-16|0,p[(e|=0)+4>>2]=t,p[e+8>>2]=p[t+56>>2],p[e+188>>2]=p[e+184>>2],a=p[t+48>>2],t=oo(32),p[i>>2]=t,p[i+4>>2]=19,p[i+8>>2]=-2147483616,l[t+19|0]=0,r=_[11295]|_[11296]<<8|_[11297]<<16|_[11298]<<24,l[t+15|0]=r,l[t+16|0]=r>>>8,l[t+17|0]=r>>>16,l[t+18|0]=r>>>24,r=_[11292]|_[11293]<<8|_[11294]<<16|_[11295]<<24,n=_[11288]|_[11289]<<8|_[11290]<<16|_[11291]<<24,l[t+8|0]=n,l[t+9|0]=n>>>8,l[t+10|0]=n>>>16,l[t+11|0]=n>>>24,l[t+12|0]=r,l[t+13|0]=r>>>8,l[t+14|0]=r>>>16,l[t+15|0]=r>>>24,r=_[11284]|_[11285]<<8|_[11286]<<16|_[11287]<<24,n=_[11280]|_[11281]<<8|_[11282]<<16|_[11283]<<24,l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=r,l[t+5|0]=r>>>8,l[t+6|0]=r>>>16,l[t+7|0]=r>>>24,t=ir(a,i),l[i+11|0]<=-1&&Mo(p[i>>2]),a=p[p[e+4>>2]+48>>2];e:if(t){if(t=oo(32),p[i>>2]=t,p[i+4>>2]=19,p[i+8>>2]=-2147483616,l[t+19|0]=0,r=_[11295]|_[11296]<<8|_[11297]<<16|_[11298]<<24,l[t+15|0]=r,l[t+16|0]=r>>>8,l[t+17|0]=r>>>16,l[t+18|0]=r>>>24,r=_[11292]|_[11293]<<8|_[11294]<<16|_[11295]<<24,n=_[11288]|_[11289]<<8|_[11290]<<16|_[11291]<<24,l[t+8|0]=n,l[t+9|0]=n>>>8,l[t+10|0]=n>>>16,l[t+11|0]=n>>>24,l[t+12|0]=r,l[t+13|0]=r>>>8,l[t+14|0]=r>>>16,l[t+15|0]=r>>>24,r=_[11284]|_[11285]<<8|_[11286]<<16|_[11287]<<24,n=_[11280]|_[11281]<<8|_[11282]<<16|_[11283]<<24,l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=r,l[t+5|0]=r>>>8,l[t+6|0]=r>>>16,l[t+7|0]=r>>>24,s=e,o=Aa(a,i,0),l[s+352|0]=o,l[i+11|0]>-1)break e;Mo(p[i>>2])}else(0|or(a))>=6?l[e+352|0]=1:l[e+352|0]=0;return V=i+16|0,1},a[282]=cn,a[283]=fn,a[284]=function(e,t){t|=0;var i,r=0,n=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=0,A=0,v=0,g=0;V=i=V-96|0;e:if(!_[(e|=0)+352|0]||(r=0|a[p[p[e>>2]+40>>2]](e),(p[r+12>>2]-p[r+8>>2]|0)<1)){s=p[(r=t<<2)+p[p[56+(0|a[p[p[e>>2]+40>>2]](e))>>2]+84>>2]>>2],o=p[r+p[p[4+(0|a[p[p[e>>2]+40>>2]](e))>>2]+8>>2]>>2],p[i+88>>2]=-1;t:{if((0|(r=p[e+176>>2]))!=(0|(n=p[e+172>>2])))for(c=(r-n|0)/136|0,r=0;;){if(p[n+y(r,136)>>2]==(0|t)){p[i+88>>2]=r;break t}if(!((r=r+1|0)>>>0<c>>>0))break}r=-1}t:{i:{r:{n:{a:{s:{o:{l:{if(!_[e+352|0]){if(c=p[o+56>>2],!_[28+(n+y(r,136)|0)|0]|1!=(0|s)&&!(!s|!c))break s;if(c)break l}r=e+40|0;break o}s=p[e+12>>2],c=p[s+24>>2],s=p[s+28>>2],p[i+24>>2]=-1,hn((r=n+y(r,136)|0)+116|0,s-c>>2,i+24|0),l[100+(p[e+172>>2]+y(p[i+88>>2],136)|0)|0]=0,r=r+104|0}if(or(p[48+(0|a[p[p[e>>2]+40>>2]](e))>>2])|p[o+56>>2])break a;if(_[e+352|0]&&(n=p[e+8>>2],(p[n+12>>2]-p[n+8>>2]|0)>4))break a;un(i+24|0,e,r),s=1,r=p[i+24>>2];break n}if(n=n+y(r,136)|0,r=p[n+56>>2],s=p[n+60>>2],p[i+24>>2]=-1,hn(n+116|0,s-r>>2,i+24|0),r=oo(80),s=p[e+8>>2],p[(o=r+12|0)>>2]=0,p[o+4>>2]=0,p[r>>2]=12928,p[r+4>>2]=0,p[(c=r+20|0)>>2]=0,p[c+4>>2]=0,p[(f=A=r+28|0)>>2]=0,p[f+4>>2]=0,p[r+36>>2]=0,p[r+40>>2]=0,p[(f=r+44|0)>>2]=0,p[f+4>>2]=0,p[r+52>>2]=0,p[r+76>>2]=0,v=n+104|0,p[r+72>>2]=v,p[r+68>>2]=s,p[r- -64>>2]=0,p[(h=g=r+56|0)>>2]=0,p[h+4>>2]=0,p[r+8>>2]=11828,p[(h=i- -64|0)>>2]=0,p[h+4>>2]=0,p[i+56>>2]=0,p[i+60>>2]=0,p[(m=u=i+40|0)>>2]=0,p[m+4>>2]=0,p[i+80>>2]=0,p[i+48>>2]=0,p[i+52>>2]=0,p[i+32>>2]=0,p[i+36>>2]=0,p[i+72>>2]=0,p[i+76>>2]=0,p[i+24>>2]=11828,m=n+4|0,p[i+28>>2]=m,n=p[n+68>>2],d=p[n>>2],n=p[n+4>>2],l[i+95|0]=0,dn(i+48|0,(n-d>>2>>>0)/3|0,i+95|0),n=p[i+28>>2],d=p[n+56>>2],n=p[n+52>>2],l[i+95|0]=0,dn(i+60|0,d-n>>2,i+95|0),p[(d=i+44|0)>>2]=r,p[u>>2]=s,p[(n=i+36|0)>>2]=v,p[i+32>>2]=m,p[r+76>>2]=e+72,p[A>>2]=p[d>>2],s=p[n+4>>2],p[c>>2]=p[n>>2],p[c+4>>2]=s,n=p[i+32>>2],p[o>>2]=p[i+28>>2],p[o+4>>2]=n,u=r,s=p[i+52>>2]){if(o=r+32|0,s>>>0<=p[r+40>>2]<<5>>>0)c=s+-1>>>5,s=p[o>>2];else{if((o=p[o>>2])&&(Mo(o),p[r+40>>2]=0,p[r+32>>2]=0,p[r+36>>2]=0,s=p[i+52>>2]),(0|s)<=-1)break r;s=oo((o=(c=s+-1>>>5)+1|0)<<2),p[r+40>>2]=o,p[r+36>>2]=0,p[r+32>>2]=s}Fo(s,p[i+48>>2],4+(c<<2)|0),c=p[i+52>>2]}else c=0;if(p[u+36>>2]=c,u=r,s=p[h>>2]){if(s>>>0<=p[r+52>>2]<<5>>>0)o=s+-1>>>5,s=p[f>>2];else{if((o=p[f>>2])&&(Mo(o),p[r+52>>2]=0,p[r+44>>2]=0,p[r+48>>2]=0,s=p[i+64>>2]),(0|s)<=-1)break i;s=oo((c=(o=s+-1>>>5)+1|0)<<2),p[r+52>>2]=c,p[r+48>>2]=0,p[r+44>>2]=s}Fo(s,p[i+60>>2],4+(o<<2)|0),f=p[i+64>>2]}else f=0;p[u+48>>2]=f,pn(g,p[i+72>>2],p[i+76>>2]),p[i+24>>2]=11828,(n=p[i+72>>2])&&(p[i+76>>2]=n,Mo(n)),p[i+24>>2]=12080,(n=p[i+60>>2])&&Mo(n),(n=p[i+48>>2])&&Mo(n),s=0;break t}_n(i+24|0,e,r),s=0,r=p[i+24>>2]}if(r)break t;r=0;break e}Ao(),E()}Ao(),E()}f=e+68|0,-1!=(0|(o=p[i+88>>2]))&&(f=132+(p[e+172>>2]+y(o,136)|0)|0),p[f>>2]=s,n=oo(76),p[i+16>>2]=r,Nr(n,i+16|0,t),t=p[i+16>>2],p[i+16>>2]=0,t&&a[p[p[t>>2]+4>>2]](t),(0|(t=p[(r=e+188|0)>>2]))==p[e+192>>2]?Zi(e+184|0,i+88|0):(p[t>>2]=p[i+88>>2],p[r>>2]=t+4),e=0|a[p[p[e>>2]+40>>2]](e),p[i+8>>2]=n,(r=p[(t=e+12|0)>>2])>>>0<b[e+16>>2]?(p[i+8>>2]=0,p[r>>2]=n,p[t>>2]=p[t>>2]+4):mn(e+8|0,i+8|0),e=p[i+8>>2],p[i+8>>2]=0,r=1,e&&a[p[p[e>>2]+4>>2]](e)}else r=p[p[8+(0|a[p[p[e>>2]+40>>2]](e))>>2]>>2],p[i+24>>2]=t,(0|(e=p[r+8>>2]))==p[r+12>>2]?Zi(r+4|0,i+24|0):(p[e>>2]=t,p[r+8>>2]=e+4),e=p[i+24>>2],t=p[r+16>>2],(0|e)<(0|(n=p[r+20>>2]-t>>2))||(p[i+88>>2]=-1,(s=e+1|0)>>>0>n>>>0?(Qi(e=r+16|0,s-n|0,i+88|0),t=p[e>>2],e=p[i+24>>2]):s>>>0>=n>>>0||(p[r+20>>2]=(s<<2)+t)),p[(e<<2)+t>>2]=(p[r+8>>2]-p[r+4>>2]>>2)-1,r=1;return V=i+96|0,0|r},a[285]=bn,a[286]=function(e,t){e|=0;var i,r=0,n=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,m=0,A=0,v=0,g=0,k=0,x=0,S=0;V=i=V-48|0;e:if(_[(t|=0)+352|0]){if(Ia(i+32|0,p[t+8>>2]),r=p[i+32>>2],p[i+32>>2]=0,n=p[t+12>>2],p[t+12>>2]=r,!n){p[i+32>>2]=0;break e}if(An(n),n=p[i+32>>2],p[i+32>>2]=0,!n)break e;An(n)}else Ca(i+32|0,p[t+8>>2]),r=p[i+32>>2],p[i+32>>2]=0,n=p[t+12>>2],p[t+12>>2]=r,n?(An(n),n=p[i+32>>2],p[i+32>>2]=0,n&&An(n)):p[i+32>>2]=0;e:{t:{n=p[t+12>>2];i:if(p[n+40>>2]!=((p[n+4>>2]-p[n>>2]>>2>>>0)/3|0)&&n){if(function(e,t){var i,r=0,n=0,s=0,o=0;p[e+128>>2]=2,p[e+132>>2]=7,p[e- -64>>2]=t,t=0|a[p[p[t>>2]+32>>2]](t),p[e+88>>2]=t,r=p[t+28>>2]-p[t+24>>2]>>2,n=p[(o=e+108|0)>>2],t=p[e+104>>2];r>>>0>(s=n-t>>2)>>>0?(Qr(e+104|0,r-s|0),n=p[o>>2],t=p[e+104>>2]):r>>>0>=s>>>0||(n=(r<<2)+t|0,p[e+108>>2]=n);if((0|t)!=(0|n))for(t=0,n=e+108|0;r=wa(p[e+88>>2],t),s=p[e+104>>2],p[s+(t<<2)>>2]=r,(t=t+1|0)>>>0<p[n>>2]-s>>2>>>0;);s=e+92|0,t=p[e+88>>2],n=p[t>>2],r=p[t+4>>2]-n>>2,i=p[e+92>>2],o=p[e+96>>2]-i>>2;r>>>0>o>>>0?(Fn(s,r-o|0),t=p[e+88>>2],n=p[t>>2]):r>>>0>=o>>>0||(p[e+96>>2]=(r<<2)+i);if((0|(r=p[t+4>>2]))!=(0|n))for(n=r-n>>2,r=p[t>>2],s=p[s>>2],t=0;p[(o=t<<2)+s>>2]=p[r+o>>2],(t=t+1|0)>>>0<n>>>0;);if(t=1+(p[e+132>>2]-p[e+128>>2]|0)|0,n=p[e+140>>2],s=p[e+136>>2],t>>>0>(r=(n-s|0)/12|0)>>>0)return void function(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;if(n=p[e+8>>2],i=p[(a=e+4|0)>>2],(n-i|0)/12>>>0>=t>>>0)return e=y(t,12),c=a,f=Do(i,0,e)+e|0,void(p[c>>2]=f);r:{if(a=p[e>>2],(s=(r=(i-a|0)/12|0)+t|0)>>>0<357913942){if(l=y(r,12),r=(n=(n-a|0)/12|0)<<1,r=n>>>0<178956970?r>>>0<s>>>0?s:r:357913941){if(r>>>0>=357913942)break r;o=oo(y(r,12))}if(Do(n=o+l|0,0,y(t,12)),t=y(s,12)+o|0,s=y(r,12)+o|0,(0|i)!=(0|a)){for(;p[(n=n+-12|0)>>2]=0,p[n+4>>2]=0,p[(r=n+8|0)>>2]=0,i=i+-12|0,p[n>>2]=p[i>>2],p[n+4>>2]=p[i+4>>2],o=r,r=i+8|0,p[o>>2]=p[r>>2],p[r>>2]=0,p[i>>2]=0,p[i+4>>2]=0,(0|i)!=(0|a););a=p[e>>2],i=p[e+4>>2]}if(p[e>>2]=n,p[e+8>>2]=s,p[e+4>>2]=t,(0|i)!=(0|a))for(;(t=p[(e=i+-12|0)>>2])&&(p[i+-8>>2]=t,Mo(t)),(0|(i=e))!=(0|a););return void(a&&Mo(a))}Ao(),E()}Wt(11752),E()}(e+136|0,t-r|0);if(t>>>0<r>>>0){if((0|(r=s+y(t,12)|0))!=(0|n))for(;(s=p[(t=n+-12|0)>>2])&&(p[n+-8>>2]=s,Mo(s)),n=t,(0|t)!=(0|r););p[e+140>>2]=r}}(d=t+200|0,t),r=p[(n=t+12|0)>>2],Ki((p[r+28>>2]-p[r+24>>2]>>2)-p[r+44>>2]|0,p[p[t+4>>2]+44>>2]),r=p[n>>2],Ki(((p[r+4>>2]-p[r>>2]>>2>>>0)/3|0)-p[r+40>>2]|0,p[p[t+4>>2]+44>>2]),r=p[t+8>>2],s=p[r+100>>2],r=p[r+96>>2],l[i+32|0]=0,dn(u=t+28|0,(s-r|0)/12|0,i+32|0),r=p[n>>2],s=p[r+24>>2],r=p[r+28>>2],p[i+32>>2]=-1,hn(t+52|0,r-s>>2,i+32|0),r=p[t+40>>2],p[t+44>>2]=r,n=p[n>>2],s=(s=p[n+4>>2]-p[n>>2]>>2)-((s>>>0)%3|0)|0,!(p[t+48>>2]-r>>2>>>0>=s>>>0)){if(s>>>0>=1073741824)break t;s=oo(o=s<<2),p[t+44>>2]=s,p[t+40>>2]=s,p[t+48>>2]=s+o,r&&(Mo(r),n=p[t+12>>2])}if(r=p[n+28>>2],n=p[n+24>>2],l[i+32|0]=0,dn(t+84|0,r-n>>2,i+32|0),p[t+164>>2]=-1,p[t+168>>2]=0,p[t+100>>2]=p[t+96>>2],p[t+112>>2]=p[t+108>>2],p[t+132>>2]){if(n=p[(s=t+128|0)>>2])for(;r=p[n>>2],Mo(n),n=r,r;);if(p[s>>2]=0,r=p[t+124>>2])for(s=t+120|0,n=0;p[p[s>>2]+(n<<2)>>2]=0,(0|r)!=(0|(n=n+1|0)););p[t+132>>2]=0}if(p[t+144>>2]=0,n=p[(r=t+12|0)>>2],s=p[n+24>>2],n=p[n+28>>2],p[i+32>>2]=-1,hn(t+152|0,n-s>>2,i+32|0),n=p[t+72>>2],p[t+76>>2]=n,r=p[r>>2],s=((r=p[r+4>>2]-p[r>>2]>>2)>>>0)/3|0,!(p[t+80>>2]-n>>2>>>0>=s>>>0)){if(r>>>0>=3221225472)break e;r=oo(s<<=2),p[t+76>>2]=r,p[t+72>>2]=r,p[t+80>>2]=r+s,n&&Mo(n)}if(p[t- -64>>2]=0,vn(t))if(function(e){var t=0,i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0;r:{if(!_[e+352|0]){if(t=p[e+8>>2],a=p[t+12>>2]-p[t+8>>2]|0,r=(c=a>>2)+-1|0,i=p[e+176>>2],t=p[e+172>>2],r>>>0>(n=(i-t|0)/136|0)>>>0)Mn(e+172|0,r-n|0);else if(!(r>>>0>=n>>>0)){if((0|(r=t+y(r,136)|0))!=(0|i))for(;(t=p[i+-20>>2])&&(p[i+-16>>2]=t,Mo(t)),t=i+-136|0,(n=p[i+-32>>2])&&(p[i+-28>>2]=n,Mo(n)),Pn(i+-132|0),i=t,(0|t)!=(0|r););p[e+176>>2]=r}if(!(4==(0|a)|(0|a)<1))for(f=e+12|0,i=0;;){if(h=p[p[p[e+8>>2]+8>>2]+(i<<2)>>2],p[h+56>>2]){if(a=y(u,136),s=a+p[e+172>>2]|0,p[s>>2]=i,r=s+108|0,o=p[s+104>>2],p[r>>2]=o,n=s+112|0,t=p[f>>2],t=p[t+4>>2]-p[t>>2]|0,l=t>>2,!(p[n>>2]-o>>2>>>0>=l>>>0)){if(l>>>0>=1073741824)break r;t=oo(t),p[s+104>>2]=t,p[r>>2]=t,p[n>>2]=t+(l<<2),o&&Mo(o)}t=p[e+172>>2]+a|0,p[t+128>>2]=0,Pa(t+4|0,p[e+8>>2],p[f>>2],h),u=u+1|0}if(!((0|(i=i+1|0))<(0|c)))break}}return 1}Wt(11752),E()}(t)){n=(p[t+176>>2]-p[t+172>>2]|0)/136|0,l[i+31|0]=n,r=t,s=p[p[t+4>>2]+44>>2],((0|(o=p[s+20>>2]))<0||(0|o)<=0&&!(b[s+16>>2]>0))&&(Yt(s,p[s+4>>2],i+31|0,i+32|0),n=_[i+31|0]),p[r+284>>2]=255&n,n=p[(o=t+12|0)>>2],r=p[n>>2],n=p[n+4>>2],yn(d),p[i+40>>2]=0,p[i+32>>2]=0,p[i+36>>2]=0;r:{if((0|(n=n-r|0))>=1)for(k=t+96|0,x=n>>2,S=t+104|0,A=t+100|0,n=0;;){n:if(g=1<<(31&(r=(n>>>0)/3|0)),!(p[(v=r>>>5<<2)+p[u>>2]>>2]&g)&&!Ta(p[o>>2],r)){if(p[i+24>>2]=0,ye(d,r=gn(t,r,i+24|0)),s=p[i+24>>2],r){if(r=-1,c=-1,m=-1,-1!=(0|s)&&(h=p[p[o>>2]>>2],r=p[h+(s<<2)>>2],-1!=(0|(f=((f=s+1|0)>>>0)%3|0?f:s+-2|0))&&(c=p[h+(f<<2)>>2]),-1!=(0|(f=s+((s>>>0)%3|0?-1:2)|0))&&(m=p[h+(f<<2)>>2])),h=p[t+84>>2],p[(f=h+(r>>>3&536870908)|0)>>2]=p[f>>2]|1<<(31&r),p[(r=h+(c>>>3&536870908)|0)>>2]=p[r>>2]|1<<(31&c),p[(r=h+(m>>>3&536870908)|0)>>2]=p[r>>2]|1<<(31&m),p[i+8>>2]=1,(r=p[A>>2])>>>0<b[S>>2]?(p[r>>2]=1,p[A>>2]=r+4):kn(k,i+8|0),r=v+p[u>>2]|0,p[r>>2]=g|p[r>>2],r=-1,-1!=(0|s)&&(r=((r=s+1|0)>>>0)%3|0?r:s+-2|0),p[i+8>>2]=r,(c=p[i+36>>2])>>>0<b[i+40>>2]?(p[c>>2]=r,p[i+36>>2]=c+4):kn(i+32|0,i+8|0),-1==(0|s))break n;if(-1==(0|(r=((r=s+1|0)>>>0)%3|0?r:s+-2|0)))break n;if(-1==(0|(r=p[p[p[o>>2]+12>>2]+(r<<2)>>2])))break n;if(s=(r>>>0)/3|0,p[p[u>>2]+(s>>>3&268435452)>>2]>>>(31&s)&1)break n;if(Dn(t,r))break n;if(p[i+16>>2]=0,p[i+8>>2]=0,p[i+12>>2]=0,t=oo(48),p[i+8>>2]=t,p[i+12>>2]=32,p[i+16>>2]=-2147483600,l[t+32|0]=0,n=_[11425]|_[11426]<<8|_[11427]<<16|_[11428]<<24,r=_[11421]|_[11422]<<8|_[11423]<<16|_[11424]<<24,l[t+24|0]=r,l[t+25|0]=r>>>8,l[t+26|0]=r>>>16,l[t+27|0]=r>>>24,l[t+28|0]=n,l[t+29|0]=n>>>8,l[t+30|0]=n>>>16,l[t+31|0]=n>>>24,n=_[11417]|_[11418]<<8|_[11419]<<16|_[11420]<<24,r=_[11413]|_[11414]<<8|_[11415]<<16|_[11416]<<24,l[t+16|0]=r,l[t+17|0]=r>>>8,l[t+18|0]=r>>>16,l[t+19|0]=r>>>24,l[t+20|0]=n,l[t+21|0]=n>>>8,l[t+22|0]=n>>>16,l[t+23|0]=n>>>24,n=_[11409]|_[11410]<<8|_[11411]<<16|_[11412]<<24,r=_[11405]|_[11406]<<8|_[11407]<<16|_[11408]<<24,l[t+8|0]=r,l[t+9|0]=r>>>8,l[t+10|0]=r>>>16,l[t+11|0]=r>>>24,l[t+12|0]=n,l[t+13|0]=n>>>8,l[t+14|0]=n>>>16,l[t+15|0]=n>>>24,n=_[11401]|_[11402]<<8|_[11403]<<16|_[11404]<<24,r=_[11397]|_[11398]<<8|_[11399]<<16|_[11400]<<24,l[0|t]=r,l[t+1|0]=r>>>8,l[t+2|0]=r>>>16,l[t+3|0]=r>>>24,l[t+4|0]=n,l[t+5|0]=n>>>8,l[t+6|0]=n>>>16,l[t+7|0]=n>>>24,p[e>>2]=-1,fo(e+4|0,i+8|0),l[i+19|0]>-1)break r;Mo(p[i+8>>2]);break r}if(Sn(r=t,s=-1!=(0|s)?((c=s+1|0)>>>0)%3|0?c:s+-2|0:-1,1),!Dn(t,p[i+24>>2])){if(p[i+16>>2]=0,p[i+8>>2]=0,p[i+12>>2]=0,t=oo(48),p[i+8>>2]=t,p[i+12>>2]=32,p[i+16>>2]=-2147483600,l[t+32|0]=0,n=_[11425]|_[11426]<<8|_[11427]<<16|_[11428]<<24,r=_[11421]|_[11422]<<8|_[11423]<<16|_[11424]<<24,l[t+24|0]=r,l[t+25|0]=r>>>8,l[t+26|0]=r>>>16,l[t+27|0]=r>>>24,l[t+28|0]=n,l[t+29|0]=n>>>8,l[t+30|0]=n>>>16,l[t+31|0]=n>>>24,n=_[11417]|_[11418]<<8|_[11419]<<16|_[11420]<<24,r=_[11413]|_[11414]<<8|_[11415]<<16|_[11416]<<24,l[t+16|0]=r,l[t+17|0]=r>>>8,l[t+18|0]=r>>>16,l[t+19|0]=r>>>24,l[t+20|0]=n,l[t+21|0]=n>>>8,l[t+22|0]=n>>>16,l[t+23|0]=n>>>24,n=_[11409]|_[11410]<<8|_[11411]<<16|_[11412]<<24,r=_[11405]|_[11406]<<8|_[11407]<<16|_[11408]<<24,l[t+8|0]=r,l[t+9|0]=r>>>8,l[t+10|0]=r>>>16,l[t+11|0]=r>>>24,l[t+12|0]=n,l[t+13|0]=n>>>8,l[t+14|0]=n>>>16,l[t+15|0]=n>>>24,n=_[11401]|_[11402]<<8|_[11403]<<16|_[11404]<<24,r=_[11397]|_[11398]<<8|_[11399]<<16|_[11400]<<24,l[0|t]=r,l[t+1|0]=r>>>8,l[t+2|0]=r>>>16,l[t+3|0]=r>>>24,l[t+4|0]=n,l[t+5|0]=n>>>8,l[t+6|0]=n>>>16,l[t+7|0]=n>>>24,p[e>>2]=-1,fo(e+4|0,i+8|0),l[i+19|0]>-1)break r;Mo(p[i+8>>2]);break r}}if(!((0|(n=n+1|0))<(0|x)))break}if(o=t+72|0,(0|(n=p[t+72>>2]))!=(0|(s=p[t+76>>2]))&&!((r=s+-4|0)>>>0<=n>>>0))for(;c=p[n>>2],p[n>>2]=p[r>>2],p[r>>2]=c,(n=n+4|0)>>>0<(r=r+-4|0)>>>0;);if(Tn(o,s,p[i+32>>2],p[i+36>>2]),p[t+176>>2]!=p[t+172>>2]&&(n=p[t+8>>2],r=p[n+100>>2],n=p[n+96>>2],l[i+8|0]=0,dn(u,(r-n|0)/12|0,i+8|0),(0|(n=p[t+72>>2]))!=(0|(r=p[t+76>>2]))))for(;wn(t,p[n>>2]),(0|r)!=(0|(n=n+4|0)););if(function(e){var t,i,r=0,n=0,a=0,s=0;ke(e,t=e+32|0);if((a=p[e+80>>2])&&(r=1,!(p[(n=e+84|0)>>2]<1)&&(ke(a,t),!(p[n>>2]<2))))for(a=e+80|0,n=e+84|0;ke(p[a>>2]+(r<<5)|0,t),(0|(r=r+1|0))<p[n>>2];);if((0|(r=p[e+136>>2]))!=p[(i=e+140|0)>>2])for(a=0;n=y(a,12),Ki(p[(r=n+r|0)+4>>2]-p[r>>2]>>2,t),r=p[e+136>>2],n=p[(s=n+r|0)>>2],(s=p[s+4>>2]-n|0)&&(Ke(n,s>>2,1,0,t),r=p[e+136>>2]),(a=a+1|0)>>>0<(p[i>>2]-r|0)/12>>>0;);}(d),Ki(p[t+324>>2],p[p[t+4>>2]+44>>2]),Ki(p[t+168>>2],p[p[t+4>>2]+44>>2]),En(t))n=p[p[t+4>>2]+44>>2],((0|(r=p[n+20>>2]))<0||(0|r)<=0&&!(b[n+16>>2]>0))&&Yt(n,p[n+4>>2],p[t+232>>2],p[t+236>>2]),p[e>>2]=0,p[e+4>>2]=0,p[e+8>>2]=0,p[e+12>>2]=0;else{if(p[i+16>>2]=0,p[i+8>>2]=0,p[i+12>>2]=0,t=oo(32),p[i+8>>2]=t,p[i+12>>2]=28,p[i+16>>2]=-2147483616,l[t+28|0]=0,n=_[11454]|_[11455]<<8|_[11456]<<16|_[11457]<<24,l[t+24|0]=n,l[t+25|0]=n>>>8,l[t+26|0]=n>>>16,l[t+27|0]=n>>>24,n=_[11450]|_[11451]<<8|_[11452]<<16|_[11453]<<24,r=_[11446]|_[11447]<<8|_[11448]<<16|_[11449]<<24,l[t+16|0]=r,l[t+17|0]=r>>>8,l[t+18|0]=r>>>16,l[t+19|0]=r>>>24,l[t+20|0]=n,l[t+21|0]=n>>>8,l[t+22|0]=n>>>16,l[t+23|0]=n>>>24,n=_[11442]|_[11443]<<8|_[11444]<<16|_[11445]<<24,r=_[11438]|_[11439]<<8|_[11440]<<16|_[11441]<<24,l[t+8|0]=r,l[t+9|0]=r>>>8,l[t+10|0]=r>>>16,l[t+11|0]=r>>>24,l[t+12|0]=n,l[t+13|0]=n>>>8,l[t+14|0]=n>>>16,l[t+15|0]=n>>>24,n=_[11434]|_[11435]<<8|_[11436]<<16|_[11437]<<24,r=_[11430]|_[11431]<<8|_[11432]<<16|_[11433]<<24,l[0|t]=r,l[t+1|0]=r>>>8,l[t+2|0]=r>>>16,l[t+3|0]=r>>>24,l[t+4|0]=n,l[t+5|0]=n>>>8,l[t+6|0]=n>>>16,l[t+7|0]=n>>>24,p[e>>2]=-1,fo(e+4|0,i+8|0),l[i+19|0]>-1)break r;Mo(p[i+8>>2])}}(e=p[i+32>>2])&&(p[i+36>>2]=e,Mo(e))}else{if(t=oo(48),p[i+32>>2]=t,p[i+36>>2]=36,p[i+40>>2]=-2147483600,l[t+36|0]=0,n=_[11392]|_[11393]<<8|_[11394]<<16|_[11395]<<24,l[t+32|0]=n,l[t+33|0]=n>>>8,l[t+34|0]=n>>>16,l[t+35|0]=n>>>24,n=_[11388]|_[11389]<<8|_[11390]<<16|_[11391]<<24,r=_[11384]|_[11385]<<8|_[11386]<<16|_[11387]<<24,l[t+24|0]=r,l[t+25|0]=r>>>8,l[t+26|0]=r>>>16,l[t+27|0]=r>>>24,l[t+28|0]=n,l[t+29|0]=n>>>8,l[t+30|0]=n>>>16,l[t+31|0]=n>>>24,n=_[11380]|_[11381]<<8|_[11382]<<16|_[11383]<<24,r=_[11376]|_[11377]<<8|_[11378]<<16|_[11379]<<24,l[t+16|0]=r,l[t+17|0]=r>>>8,l[t+18|0]=r>>>16,l[t+19|0]=r>>>24,l[t+20|0]=n,l[t+21|0]=n>>>8,l[t+22|0]=n>>>16,l[t+23|0]=n>>>24,n=_[11372]|_[11373]<<8|_[11374]<<16|_[11375]<<24,r=_[11368]|_[11369]<<8|_[11370]<<16|_[11371]<<24,l[t+8|0]=r,l[t+9|0]=r>>>8,l[t+10|0]=r>>>16,l[t+11|0]=r>>>24,l[t+12|0]=n,l[t+13|0]=n>>>8,l[t+14|0]=n>>>16,l[t+15|0]=n>>>24,n=_[11364]|_[11365]<<8|_[11366]<<16|_[11367]<<24,r=_[11360]|_[11361]<<8|_[11362]<<16|_[11363]<<24,l[0|t]=r,l[t+1|0]=r>>>8,l[t+2|0]=r>>>16,l[t+3|0]=r>>>24,l[t+4|0]=n,l[t+5|0]=n>>>8,l[t+6|0]=n>>>16,l[t+7|0]=n>>>24,p[e>>2]=-1,fo(e+4|0,i+32|0),l[i+43|0]>-1)break i;Mo(p[i+32>>2])}else{if(t=oo(32),p[i+32>>2]=t,p[i+36>>2]=29,p[i+40>>2]=-2147483616,l[t+29|0]=0,n=_[11355]|_[11356]<<8|_[11357]<<16|_[11358]<<24,r=_[11351]|_[11352]<<8|_[11353]<<16|_[11354]<<24,l[t+21|0]=r,l[t+22|0]=r>>>8,l[t+23|0]=r>>>16,l[t+24|0]=r>>>24,l[t+25|0]=n,l[t+26|0]=n>>>8,l[t+27|0]=n>>>16,l[t+28|0]=n>>>24,n=_[11350]|_[11351]<<8|_[11352]<<16|_[11353]<<24,r=_[11346]|_[11347]<<8|_[11348]<<16|_[11349]<<24,l[t+16|0]=r,l[t+17|0]=r>>>8,l[t+18|0]=r>>>16,l[t+19|0]=r>>>24,l[t+20|0]=n,l[t+21|0]=n>>>8,l[t+22|0]=n>>>16,l[t+23|0]=n>>>24,n=_[11342]|_[11343]<<8|_[11344]<<16|_[11345]<<24,r=_[11338]|_[11339]<<8|_[11340]<<16|_[11341]<<24,l[t+8|0]=r,l[t+9|0]=r>>>8,l[t+10|0]=r>>>16,l[t+11|0]=r>>>24,l[t+12|0]=n,l[t+13|0]=n>>>8,l[t+14|0]=n>>>16,l[t+15|0]=n>>>24,n=_[11334]|_[11335]<<8|_[11336]<<16|_[11337]<<24,r=_[11330]|_[11331]<<8|_[11332]<<16|_[11333]<<24,l[0|t]=r,l[t+1|0]=r>>>8,l[t+2|0]=r>>>16,l[t+3|0]=r>>>24,l[t+4|0]=n,l[t+5|0]=n>>>8,l[t+6|0]=n>>>16,l[t+7|0]=n>>>24,p[e>>2]=-1,fo(e+4|0,i+32|0),l[i+43|0]>-1)break i;Mo(p[i+32>>2])}}else{if(t=oo(32),p[i+32>>2]=t,p[i+36>>2]=29,p[i+40>>2]=-2147483616,l[t+29|0]=0,n=_[11325]|_[11326]<<8|_[11327]<<16|_[11328]<<24,r=_[11321]|_[11322]<<8|_[11323]<<16|_[11324]<<24,l[t+21|0]=r,l[t+22|0]=r>>>8,l[t+23|0]=r>>>16,l[t+24|0]=r>>>24,l[t+25|0]=n,l[t+26|0]=n>>>8,l[t+27|0]=n>>>16,l[t+28|0]=n>>>24,n=_[11320]|_[11321]<<8|_[11322]<<16|_[11323]<<24,r=_[11316]|_[11317]<<8|_[11318]<<16|_[11319]<<24,l[t+16|0]=r,l[t+17|0]=r>>>8,l[t+18|0]=r>>>16,l[t+19|0]=r>>>24,l[t+20|0]=n,l[t+21|0]=n>>>8,l[t+22|0]=n>>>16,l[t+23|0]=n>>>24,n=_[11312]|_[11313]<<8|_[11314]<<16|_[11315]<<24,r=_[11308]|_[11309]<<8|_[11310]<<16|_[11311]<<24,l[t+8|0]=r,l[t+9|0]=r>>>8,l[t+10|0]=r>>>16,l[t+11|0]=r>>>24,l[t+12|0]=n,l[t+13|0]=n>>>8,l[t+14|0]=n>>>16,l[t+15|0]=n>>>24,n=_[11304]|_[11305]<<8|_[11306]<<16|_[11307]<<24,r=_[11300]|_[11301]<<8|_[11302]<<16|_[11303]<<24,l[0|t]=r,l[t+1|0]=r>>>8,l[t+2|0]=r>>>16,l[t+3|0]=r>>>24,l[t+4|0]=n,l[t+5|0]=n>>>8,l[t+6|0]=n>>>16,l[t+7|0]=n>>>24,p[e>>2]=-1,fo(e+4|0,i+32|0),l[i+43|0]>-1)break i;Mo(p[i+32>>2])}return void(V=i+48|0)}Wt(11752),E()}Wt(11752),E()},a[287]=On,a[288]=In,a[289]=Yr,a[290]=function(e){var t=0;return p[(e|=0)>>2]=11828,(t=p[e+48>>2])&&(p[e+52>>2]=t,Mo(t)),p[e>>2]=12080,(t=p[e+36>>2])&&Mo(t),(t=p[e+24>>2])&&Mo(t),0|e},a[291]=function(e){var t=0;p[(e|=0)>>2]=11828,(t=p[e+48>>2])&&(p[e+52>>2]=t,Mo(t)),p[e>>2]=12080,(t=p[e+36>>2])&&Mo(t),(t=p[e+24>>2])&&Mo(t),Mo(e)},a[292]=function(e,t,i){t|=0,i|=0;var r,n=0;V=r=V-16|0,p[(e|=0)+4>>2]=t,t=p[t+64>>2],n=p[t+4>>2],t=p[t>>2],l[r+15|0]=0,dn(e+24|0,(n-t>>2>>>0)/3|0,r+15|0),t=p[e+4>>2],n=p[t+56>>2],t=p[t+52>>2],l[r+14|0]=0,dn(e+36|0,n-t>>2,r+14|0),t=p[i+12>>2],p[e+16>>2]=p[i+8>>2],p[e+20>>2]=t,t=p[i+4>>2],p[e+8>>2]=p[i>>2],p[e+12>>2]=t,V=r+16|0},a[293]=function(e){var t=0;return p[(e|=0)>>2]=12080,(t=p[e+36>>2])&&Mo(t),(t=p[e+24>>2])&&Mo(t),0|e},a[294]=function(e){var t=0;p[(e|=0)>>2]=12080,(t=p[e+36>>2])&&Mo(t),(t=p[e+24>>2])&&Mo(t),Mo(e)},a[295]=function(e){var t=0;return p[(e|=0)>>2]=12168,p[e+8>>2]=12380,(t=p[e+96>>2])&&(p[e+100>>2]=t,Mo(t)),(t=p[e+80>>2])&&(p[e+84>>2]=t,Mo(t)),(t=p[e+68>>2])&&(p[e+72>>2]=t,Mo(t)),(t=p[e+56>>2])&&(p[e+60>>2]=t,Mo(t)),p[e+8>>2]=12616,(t=p[e+44>>2])&&Mo(t),(t=p[e+32>>2])&&Mo(t),0|e},a[296]=function(e){var t=0;p[(e|=0)>>2]=12168,p[e+8>>2]=12380,(t=p[e+96>>2])&&(p[e+100>>2]=t,Mo(t)),(t=p[e+80>>2])&&(p[e+84>>2]=t,Mo(t)),(t=p[e+68>>2])&&(p[e+72>>2]=t,Mo(t)),(t=p[e+56>>2])&&(p[e+60>>2]=t,Mo(t)),p[e+8>>2]=12616,(t=p[e+44>>2])&&Mo(t),(t=p[e+32>>2])&&Mo(t),Mo(e)},a[297]=function(e,t){t|=0;var i,r,n,a,s=0,o=0,c=0,f=0,h=0,u=0,d=0;if(r=p[(e|=0)+12>>2],s=p[e+108>>2],o=p[s+80>>2],l[t+84|0]=0,h=p[t+68>>2],o>>>0>(c=p[t+72>>2]-h>>2)>>>0?(ri(t+68|0,o-c|0,12368),s=p[e+108>>2],o=p[s+80>>2]):o>>>0>=c>>>0||(p[t+72>>2]=h+(o<<2)),i=p[s+96>>2],n=(0|(s=p[s+100>>2]-i|0))/12|0,!s)return 1;a=t+68|0,t=0;e:{for(;;){if(1431655765!=(0|t)&&(s=p[r>>2]+(y(t,3)<<2)|0,-1!=(0|(h=p[s>>2]))&&(c=y(t,12)+i|0,!((u=p[c>>2])>>>0>=o>>>0)&&(f=h<<2,h=p[p[e+112>>2]+12>>2],!((f=p[f+h>>2])>>>0>=o>>>0)&&(d=u<<2,u=p[a>>2],p[d+u>>2]=f,-1!=(0|(f=p[s+4>>2]))&&!((d=p[c+4>>2])>>>0>=o>>>0)&&!((f=p[h+(f<<2)>>2])>>>0>=o>>>0)&&(p[u+(d<<2)>>2]=f,-1!=(0|(s=p[s+8>>2]))&&!((c=p[c+8>>2])>>>0>=o>>>0)&&!((s=p[h+(s<<2)>>2])>>>0>=o>>>0))))))){if(p[u+(c<<2)>>2]=s,s=1,(t=t+1|0)>>>0<n>>>0)continue;break e}break}s=0}return 0|s},a[298]=function(e){var t,i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0;V=t=V-16|0,r=p[(e|=0)+4>>2],i=p[r>>2];e:{if(n=p[(l=e+12|0)>>2],n=(a=p[n+28>>2]-p[n+24>>2]|0)>>2,!(p[r+8>>2]-i>>2>>>0>=n>>>0)){if(n>>>0>=1073741824)break e;s=p[(c=r+4|0)>>2],o=(o=n<<2)+(n=oo(a))|0,s=(a=s-i|0)+n|0,(0|a)>=1&&Io(n,i,a),p[r>>2]=n,p[r+8>>2]=o,p[c>>2]=s,i&&Mo(i)}i=p[l>>2],r=p[i+24>>2],i=p[i+28>>2],p[t+12>>2]=0,i=i-r>>2,a=p[(n=e+96|0)>>2],i>>>0>(r=p[e+100>>2]-a>>2)>>>0?Qi(n,i-r|0,t+12|0):i>>>0>=r>>>0||(p[e+100>>2]=a+(i<<2)),a=e+8|0;t:{i:{if(i=p[e+116>>2]){if(r=1,(0|(n=p[i>>2]))==p[i+4>>2])break t;for(i=0;;){if(!Vn(a,p[(i<<2)+n>>2]))break i;if(r=p[e+116>>2],n=p[r>>2],!((i=i+1|0)>>>0<p[r+4>>2]-n>>2>>>0))break}r=1;break t}if(i=0,e=p[e+12>>2],r=1,(0|(e=(p[e+4>>2]-p[e>>2]>>2>>>0)/3|0))<=0)break t;for(;;){if(!Vn(a,y(i,3)))break i;if(!((i=i+1|0)>>>0<e>>>0))break}r=1;break t}r=0}return V=t+16|0,0|r}Wt(11752),E()},a[299]=function(e){var t=0;return p[(e|=0)>>2]=12380,(t=p[e+88>>2])&&(p[e+92>>2]=t,Mo(t)),(t=p[e+72>>2])&&(p[e+76>>2]=t,Mo(t)),(t=p[e+60>>2])&&(p[e- -64>>2]=t,Mo(t)),(t=p[e+48>>2])&&(p[e+52>>2]=t,Mo(t)),p[e>>2]=12616,(t=p[e+36>>2])&&Mo(t),(t=p[e+24>>2])&&Mo(t),0|e},a[300]=function(e){var t=0;p[(e|=0)>>2]=12380,(t=p[e+88>>2])&&(p[e+92>>2]=t,Mo(t)),(t=p[e+72>>2])&&(p[e+76>>2]=t,Mo(t)),(t=p[e+60>>2])&&(p[e- -64>>2]=t,Mo(t)),(t=p[e+48>>2])&&(p[e+52>>2]=t,Mo(t)),p[e>>2]=12616,(t=p[e+36>>2])&&Mo(t),(t=p[e+24>>2])&&Mo(t),Mo(e)},a[301]=function(e,t,i){t|=0,i|=0;var r,n=0;V=r=V-16|0,p[(e|=0)+4>>2]=t,n=p[t+4>>2],t=p[t>>2],l[r+15|0]=0,dn(e+24|0,(n-t>>2>>>0)/3|0,r+15|0),t=p[e+4>>2],n=p[t+28>>2],t=p[t+24>>2],l[r+14|0]=0,dn(e+36|0,n-t>>2,r+14|0),t=p[i+12>>2],p[e+16>>2]=p[i+8>>2],p[e+20>>2]=t,t=p[i+4>>2],p[e+8>>2]=p[i>>2],p[e+12>>2]=t,V=r+16|0},a[302]=function(e){var t=0;return p[(e|=0)>>2]=12616,(t=p[e+36>>2])&&Mo(t),(t=p[e+24>>2])&&Mo(t),0|e},a[303]=function(e){var t=0;p[(e|=0)>>2]=12616,(t=p[e+36>>2])&&Mo(t),(t=p[e+24>>2])&&Mo(t),Mo(e)},a[304]=function(e){var t,i=0;return p[(e|=0)>>2]=12636,p[(t=e+8|0)>>2]=12800,(i=p[e+56>>2])&&(p[e+60>>2]=i,Mo(i)),p[t>>2]=12616,(i=p[e+44>>2])&&Mo(i),(i=p[e+32>>2])&&Mo(i),0|e},a[305]=function(e){var t,i=0;p[(e|=0)>>2]=12636,p[(t=e+8|0)>>2]=12800,(i=p[e+56>>2])&&(p[e+60>>2]=i,Mo(i)),p[t>>2]=12616,(i=p[e+44>>2])&&Mo(i),(i=p[e+32>>2])&&Mo(i),Mo(e)},a[306]=function(e,t){t|=0;var i,r,n,a,s=0,o=0,c=0,f=0,h=0,u=0,d=0;if(r=p[(e|=0)+12>>2],s=p[e+68>>2],o=p[s+80>>2],l[t+84|0]=0,h=p[t+68>>2],o>>>0>(c=p[t+72>>2]-h>>2)>>>0?(ri(t+68|0,o-c|0,12368),s=p[e+68>>2],o=p[s+80>>2]):o>>>0>=c>>>0||(p[t+72>>2]=h+(o<<2)),i=p[s+96>>2],n=(0|(s=p[s+100>>2]-i|0))/12|0,!s)return 1;a=t+68|0,t=0;e:{for(;;){if(1431655765!=(0|t)&&(s=p[r>>2]+(y(t,3)<<2)|0,-1!=(0|(h=p[s>>2]))&&(c=y(t,12)+i|0,!((u=p[c>>2])>>>0>=o>>>0)&&(f=h<<2,h=p[p[e+72>>2]+12>>2],!((f=p[f+h>>2])>>>0>=o>>>0)&&(d=u<<2,u=p[a>>2],p[d+u>>2]=f,-1!=(0|(f=p[s+4>>2]))&&!((d=p[c+4>>2])>>>0>=o>>>0)&&!((f=p[h+(f<<2)>>2])>>>0>=o>>>0)&&(p[u+(d<<2)>>2]=f,-1!=(0|(s=p[s+8>>2]))&&!((c=p[c+8>>2])>>>0>=o>>>0)&&!((s=p[h+(s<<2)>>2])>>>0>=o>>>0))))))){if(p[u+(c<<2)>>2]=s,s=1,(t=t+1|0)>>>0<n>>>0)continue;break e}break}s=0}return 0|s},a[307]=function(e){var t=0,i=0,r=0,n=0,a=0,s=0,o=0;n=p[(e|=0)+4>>2],t=p[n>>2];e:{if(i=p[e+12>>2],i=(r=p[i+28>>2]-p[i+24>>2]|0)>>2,!(p[n+8>>2]-t>>2>>>0>=i>>>0)){if(i>>>0>=1073741824)break e;a=p[(o=n+4|0)>>2],s=(s=i<<2)+(i=oo(r))|0,a=(r=a-t|0)+i|0,(0|r)>=1&&Io(i,t,r),p[n>>2]=i,p[n+8>>2]=s,p[o>>2]=a,t&&Mo(t)}i=e+8|0;t:{i:{if(t=p[e+76>>2]){if(r=1,(0|(n=p[t>>2]))==p[t+4>>2])break t;for(t=0;;){if(!zn(i,p[(t<<2)+n>>2]))break i;if(r=p[e+76>>2],n=p[r>>2],!((t=t+1|0)>>>0<p[r+4>>2]-n>>2>>>0))break}return 1}if(t=0,e=p[e+12>>2],(0|(e=(p[e+4>>2]-p[e>>2]>>2>>>0)/3|0))<=0)return 1;for(;;){if(!zn(i,y(t,3)))break i;if(!((t=t+1|0)>>>0<e>>>0))break}return 1}r=0}return 0|r}Wt(11752),E()},a[308]=function(e){var t=0;return p[(e|=0)>>2]=12800,(t=p[e+48>>2])&&(p[e+52>>2]=t,Mo(t)),p[e>>2]=12616,(t=p[e+36>>2])&&Mo(t),(t=p[e+24>>2])&&Mo(t),0|e},a[309]=function(e){var t=0;p[(e|=0)>>2]=12800,(t=p[e+48>>2])&&(p[e+52>>2]=t,Mo(t)),p[e>>2]=12616,(t=p[e+36>>2])&&Mo(t),(t=p[e+24>>2])&&Mo(t),Mo(e)},a[310]=function(e){var t,i=0;return p[(e|=0)>>2]=12928,p[(t=e+8|0)>>2]=11828,(i=p[e+56>>2])&&(p[e+60>>2]=i,Mo(i)),p[t>>2]=12080,(i=p[e+44>>2])&&Mo(i),(i=p[e+32>>2])&&Mo(i),0|e},a[311]=function(e){var t,i=0;p[(e|=0)>>2]=12928,p[(t=e+8|0)>>2]=11828,(i=p[e+56>>2])&&(p[e+60>>2]=i,Mo(i)),p[t>>2]=12080,(i=p[e+44>>2])&&Mo(i),(i=p[e+32>>2])&&Mo(i),Mo(e)},a[312]=function(e,t){t|=0;var i,r,n,a,s=0,o=0,c=0,f=0,h=0,u=0,d=0;if(u=p[(e|=0)+12>>2],s=p[e+68>>2],o=p[s+80>>2],l[t+84|0]=0,h=p[t+68>>2],o>>>0>(c=p[t+72>>2]-h>>2)>>>0?(ri(t+68|0,o-c|0,12368),s=p[e+68>>2],o=p[s+80>>2]):o>>>0>=c>>>0||(p[t+72>>2]=h+(o<<2)),i=p[s+96>>2],r=(0|(s=p[s+100>>2]-i|0))/12|0,!s)return 1;n=p[u+28>>2],a=t+68|0,t=0;e:{for(;;){if(s=(y(t,3)<<2)+n|0,-1!=(0|(u=p[s>>2]))&&(c=y(t,12)+i|0,!((h=p[c>>2])>>>0>=o>>>0)&&(f=u<<2,u=p[p[e+72>>2]+12>>2],!((f=p[f+u>>2])>>>0>=o>>>0)&&(d=h<<2,h=p[a>>2],p[d+h>>2]=f,-1!=(0|(f=p[s+4>>2]))&&!((d=p[c+4>>2])>>>0>=o>>>0)&&!((f=p[u+(f<<2)>>2])>>>0>=o>>>0)&&(p[h+(d<<2)>>2]=f,-1!=(0|(s=p[s+8>>2]))&&!((c=p[c+8>>2])>>>0>=o>>>0)&&!((s=p[u+(s<<2)>>2])>>>0>=o>>>0)))))){if(p[h+(c<<2)>>2]=s,s=1,(t=t+1|0)>>>0<r>>>0)continue;break e}break}s=0}return 0|s},a[313]=function(e){var t=0,i=0,r=0,n=0,a=0,s=0,o=0;n=p[(e|=0)+4>>2],t=p[n>>2];e:{if(i=p[e+12>>2],i=(r=p[i+56>>2]-p[i+52>>2]|0)>>2,!(p[n+8>>2]-t>>2>>>0>=i>>>0)){if(i>>>0>=1073741824)break e;a=p[(o=n+4|0)>>2],s=(s=i<<2)+(i=oo(r))|0,a=(r=a-t|0)+i|0,(0|r)>=1&&Io(i,t,r),p[n>>2]=i,p[n+8>>2]=s,p[o>>2]=a,t&&Mo(t)}i=e+8|0;t:{i:{if(t=p[e+76>>2]){if(r=1,(0|(n=p[t>>2]))==p[t+4>>2])break t;for(t=0;;){if(!jn(i,p[(t<<2)+n>>2]))break i;if(r=p[e+76>>2],n=p[r>>2],!((t=t+1|0)>>>0<p[r+4>>2]-n>>2>>>0))break}return 1}if(t=0,e=p[p[e+12>>2]+64>>2],(0|(e=(p[e+4>>2]-p[e>>2]>>2>>>0)/3|0))<=0)return 1;for(;;){if(!jn(i,y(t,3)))break i;if(!((t=t+1|0)>>>0<e>>>0))break}return 1}r=0}return 0|r}Wt(11752),E()},a[314]=function(e){var t,i=0,r=0,n=0,s=0;if(p[(e|=0)>>2]=13532,(i=p[e+32>>2])&&(p[e+36>>2]=i,Mo(i)),(i=p[e+20>>2])&&(p[e+24>>2]=i,Mo(i)),t=p[e+8>>2]){if(n=i=t,(0|i)!=(0|(r=p[(s=e+12|0)>>2]))){for(;i=p[(r=r+-4|0)>>2],p[r>>2]=0,i&&a[p[p[i>>2]+4>>2]](i),(0|r)!=(0|t););n=p[e+8>>2]}i=n,p[s>>2]=t,Mo(i)}return 0|e},a[315]=$i,a[316]=ti,a[317]=tr,a[318]=Fr,a[319]=er,a[320]=er,a[321]=Zn,a[322]=Fr,a[323]=Xn,a[324]=function(e){p[(e|=0)+52>>2]=p[p[e+56>>2]+80>>2]},a[325]=function(e,t){e|=0;var i,r,n=0,a=0,s=0,o=0,c=0,f=0,h=0;V=i=V-16|0,a=p[(n=(t|=0)+56|0)>>2],Ki(r=(0|(s=p[a+100>>2]-p[a+96>>2]|0))/12|0,p[(c=t+44|0)>>2]),Ki(p[p[n>>2]+80>>2],p[c>>2]),f=p[t+48>>2],n=oo(32),p[i>>2]=n,p[i+4>>2]=21,p[i+8>>2]=-2147483616,l[n+21|0]=0,a=_[13341]|_[13342]<<8|_[13343]<<16|_[13344]<<24,o=_[13337]|_[13338]<<8|_[13339]<<16|_[13340]<<24,l[n+13|0]=o,l[n+14|0]=o>>>8,l[n+15|0]=o>>>16,l[n+16|0]=o>>>24,l[n+17|0]=a,l[n+18|0]=a>>>8,l[n+19|0]=a>>>16,l[n+20|0]=a>>>24,a=_[13336]|_[13337]<<8|_[13338]<<16|_[13339]<<24,o=_[13332]|_[13333]<<8|_[13334]<<16|_[13335]<<24,l[n+8|0]=o,l[n+9|0]=o>>>8,l[n+10|0]=o>>>16,l[n+11|0]=o>>>24,l[n+12|0]=a,l[n+13|0]=a>>>8,l[n+14|0]=a>>>16,l[n+15|0]=a>>>24,a=_[13328]|_[13329]<<8|_[13330]<<16|_[13331]<<24,o=_[13324]|_[13325]<<8|_[13326]<<16|_[13327]<<24,l[0|n]=o,l[n+1|0]=o>>>8,l[n+2|0]=o>>>16,l[n+3|0]=o>>>24,l[n+4|0]=a,l[n+5|0]=a>>>8,l[n+6|0]=a>>>16,l[n+7|0]=a>>>24,a=Aa(f,i,0),l[i+11|0]<=-1&&Mo(p[i>>2]),n=p[c>>2];e:if(a)l[0|i]=0,((0|(a=p[n+20>>2]))<0||(0|a)<=0&&!(b[n+16>>2]>0))&&Yt(n,p[n+4>>2],i,i+1|0),function(e){var t,i,r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0;if(V=t=V-32|0,p[t+24>>2]=0,p[t+16>>2]=0,p[t+20>>2]=0,s=p[(i=e+56|0)>>2],n=p[s+100>>2]-p[s+96>>2]|0,r=(0|n)/12|0,n){for(n=0;s=p[s+96>>2]+y(c,12)|0,f=p[s>>2],a=((o=(a=f-o|0)>>31)^a+o)<<1|a>>>31,p[t+12>>2]=a,(0|n)==(0|l)?(Er(t+16|0,t+12|0),l=p[t+24>>2],n=p[t+20>>2]):(p[n>>2]=a,n=n+4|0,p[t+20>>2]=n),h=p[s+4>>2],a=((o=(a=h-f|0)>>31)^a+o)<<1|a>>>31,p[t+12>>2]=a,(0|n)==(0|l)?(Er(t+16|0,t+12|0),l=p[t+24>>2],n=p[t+20>>2]):(p[n>>2]=a,n=n+4|0,p[t+20>>2]=n),o=p[s+8>>2],s=((a=(s=o-h|0)>>31)^a+s)<<1|s>>>31,p[t+12>>2]=s,(0|n)==(0|l)?Er(t+16|0,t+12|0):(p[n>>2]=s,p[t+20>>2]=n+4),(c=c+1|0)>>>0<r>>>0;)s=p[i>>2],l=p[t+24>>2],n=p[t+20>>2];l=p[t+16>>2],n=p[t+20>>2]}else n=0;Ke(l,n-l>>2,1,0,p[e+44>>2]),(e=p[t+16>>2])&&(p[t+20>>2]=e,Mo(e));V=t+32|0}(t);else{if(l[0|i]=1,((0|(a=p[n+20>>2]))<0||(0|a)<=0&&!(b[n+16>>2]>0))&&Yt(n,p[n+4>>2],i,i+1|0),a=p[t+56>>2],(n=p[a+80>>2])>>>0<=255){if(!s)break e;for(o=i+1|0,n=0,c=t+44|0,h=t+56|0;;){if(t=p[c>>2],f=p[a+96>>2]+y(n,12)|0,l[0|i]=p[f>>2],s=p[t+16>>2],((0|(a=p[t+20>>2]))<0||(0|a)<=0&&!(s>>>0>0))&&(Yt(t,p[t+4>>2],i,o),t=p[c>>2],s=p[t+16>>2],a=p[t+20>>2]),l[0|i]=p[f+4>>2],((0|a)<0||(0|a)<=0&&!(s>>>0>0))&&(Yt(t,p[t+4>>2],i,o),t=p[c>>2],s=p[t+16>>2],a=p[t+20>>2]),l[0|i]=p[f+8>>2],((0|a)<0||(0|a)<=0&&!(s>>>0>0))&&Yt(t,p[t+4>>2],i,o),(n=n+1|0)>>>0>=r>>>0)break e;a=p[h>>2]}}if(n>>>0<=65535){if(!s)break e;for(o=i+2|0,n=0,c=t+44|0,h=t+56|0;;){if(t=p[c>>2],f=p[a+96>>2]+y(n,12)|0,d[i>>1]=p[f>>2],s=p[t+16>>2],((0|(a=p[t+20>>2]))<0||(0|a)<=0&&!(s>>>0>0))&&(Yt(t,p[t+4>>2],i,o),t=p[c>>2],s=p[t+16>>2],a=p[t+20>>2]),d[i>>1]=p[f+4>>2],((0|a)<0||(0|a)<=0&&!(s>>>0>0))&&(Yt(t,p[t+4>>2],i,o),t=p[c>>2],s=p[t+16>>2],a=p[t+20>>2]),d[i>>1]=p[f+8>>2],((0|a)<0||(0|a)<=0&&!(s>>>0>0))&&Yt(t,p[t+4>>2],i,o),(n=n+1|0)>>>0>=r>>>0)break e;a=p[h>>2]}}if(n>>>0>=2097152){if(!s)break e;for(n=0,o=t+44|0,c=t+56|0;;){if(t=p[o>>2],((0|(s=p[t+20>>2]))<0||(0|s)<=0&&!(b[t+16>>2]>0))&&Yt(f=t,s=p[t+4>>2],t=p[a+96>>2]+y(n,12)|0,t+12|0),(n=n+1|0)>>>0>=r>>>0)break e;a=p[c>>2]}}if(s)for(n=0,s=t+44|0,o=t+56|0;;){if(t=p[a+96>>2]+y(n,12)|0,Ki(p[t>>2],p[s>>2]),Ki(p[t+4>>2],p[s>>2]),Ki(p[t+8>>2],p[s>>2]),(n=n+1|0)>>>0>=r>>>0)break e;a=p[o>>2]}}p[e>>2]=0,p[e+4>>2]=0,p[e+8>>2]=0,p[e+12>>2]=0,V=i+16|0},a[326]=function(e){var t;t=e|=0,e=p[e+56>>2],p[t+60>>2]=(p[e+100>>2]-p[e+96>>2]|0)/12},a[327]=Nt,a[328]=Zt,a[329]=function(e,t){return 0,l[(t|=0)+84|0]=1,p[t+72>>2]=p[t+68>>2],1},a[330]=function(e){var t=0,i=0,r=0,n=0;e:{if(!((0|(t=p[(e|=0)+8>>2]))<0)&&(i=p[e+4>>2],n=p[i>>2],t>>>0>(r=p[i+4>>2]-n>>2)>>>0?(!function(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;if(r=p[e+8>>2],i=p[(n=e+4|0)>>2],r-i>>2>>>0>=t>>>0)return c=n,f=Do(i,0,e=t<<2)+e|0,void(p[c>>2]=f);t:{if(n=p[e>>2],(a=(i=(s=i-n|0)>>2)+t|0)>>>0<1073741824){if(l=i<<2,i=(r=r-n|0)>>1,r=r>>2>>>0<536870911?i>>>0<a>>>0?a:i:1073741823,i=0,r){if(r>>>0>=1073741824)break t;o=oo(r<<2),i=o}return Do(l+i|0,0,t<<2),t=i+(a<<2)|0,a=i+(r<<2)|0,(0|s)>=1&&Io(o,n,s),p[e>>2]=i,p[e+8>>2]=a,p[e+4>>2]=t,void(n&&Mo(n))}Ao(),E()}Wt(13392),E()}(i,t-r|0),t=p[e+8>>2]):t>>>0>=r>>>0||(p[i+4>>2]=n+(t<<2)),n=1,!((0|t)<1)))for(e=p[e+4>>2],i=p[e>>2],r=p[e+4>>2]-i>>2,e=0;;){if((0|e)==(0|r))break e;if(p[i+(e<<2)>>2]=e,!((0|(e=e+1|0))<(0|t)))break}return 0|n}vo(),E()},a[331]=$i,a[332]=Fr,a[333]=function(e,t){p[(e|=0)>>2]=0,p[e+4>>2]=0,p[e+8>>2]=0,p[e+12>>2]=0},a[334]=Zn,a[335]=ti,a[336]=ta,a[337]=function(e,t){t|=0;var i,r=0,n=0,s=0;V=i=V-16|0;e:if((0|(r=p[(n=(e|=0)+8|0)>>2]))!=p[(s=e+12|0)>>2])e=p[r>>2],p[i+12>>2]=t,(0|(r=p[e+8>>2]))==p[e+12>>2]?Zi(e+4|0,i+12|0):(p[r>>2]=t,p[e+8>>2]=r+4),t=p[i+12>>2],r=p[e+16>>2],(0|t)<(0|(s=p[e+20>>2]-r>>2))||(p[i+8>>2]=-1,(n=t+1|0)>>>0>s>>>0?(Qi(t=e+16|0,n-s|0,i+8|0),r=p[t>>2],t=p[i+12>>2]):n>>>0>=s>>>0||(p[e+20>>2]=(n<<2)+r)),p[(t<<2)+r>>2]=(p[e+8>>2]-p[e+4>>2]>>2)-1;else{if(function(e,t){Xi(e,t),p[e+36>>2]=0,p[e+40>>2]=0,p[e>>2]=1844,p[e+44>>2]=0,p[e+48>>2]=0,p[e+52>>2]=0,p[e+56>>2]=0,p[e+60>>2]=0,p[e+64>>2]=0,p[e+68>>2]=0,p[e+72>>2]=0}(r=oo(76),t),p[i>>2]=r,(t=p[s>>2])>>>0<b[e+16>>2]?(p[i>>2]=0,p[t>>2]=r,p[e+12>>2]=t+4):mn(n,i),e=p[i>>2],p[i>>2]=0,!e)break e;a[p[p[e>>2]+4>>2]](e)}return V=i+16|0,1},a[338]=ia,a[339]=Zn,a[340]=Fr,a[341]=ta,a[342]=Xn,a[343]=ia,a[344]=function(e){var t=0;return p[(e|=0)>>2]=16208,(t=p[e+96>>2])&&(p[e+100>>2]=t,Mo(t)),(t=p[e+84>>2])&&(p[e+88>>2]=t,Mo(t)),Ea(e),0|e},a[345]=function(e){var t=0;p[(e|=0)>>2]=16208,(t=p[e+96>>2])&&(p[e+100>>2]=t,Mo(t)),(t=p[e+84>>2])&&(p[e+88>>2]=t,Mo(t)),Ea(e),Mo(e)},a[346]=function(e,t,i){e|=0,t|=0;var r,n=0;V=r=V-16|0,n=p[(i|=0)>>2],p[i>>2]=0,p[r+8>>2]=n,Ya(e,t,r+8|0),i=p[r+8>>2],p[r+8>>2]=0,i&&pt(i),n=p[e+84>>2],(0|(i=p[e+88>>2]-n>>2))>(0|t)||((t=t+1|0)>>>0>i>>>0?function(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;if(n=p[e+8>>2],i=p[e+4>>2],n-i>>2>>>0>=t>>>0){for(;p[i>>2]=1,i=i+4|0,t=t+-1|0;);return void(p[e+4>>2]=i)}e:{if(a=p[e>>2],(i=(o=(s=i-a|0)>>2)+t|0)>>>0<1073741824){if(r=(n=n-a|0)>>1,i=n>>2>>>0<536870911?r>>>0<i>>>0?i:r:1073741823,r=0,i){if(i>>>0>=1073741824)break e;r=oo(i<<2)}for(n=r+(i<<2)|0,i=r+(o<<2)|0;p[i>>2]=1,i=i+4|0,t=t+-1|0;);return(0|s)>=1&&Io(r,a,s),p[e>>2]=r,p[e+8>>2]=n,p[e+4>>2]=i,void(a&&Mo(a))}Ao(),E()}Wt(16264),E()}(e+84|0,t-i|0):t>>>0>=i>>>0||(p[e+88>>2]=n+(t<<2))),V=r+16|0},a[347]=function(e,t){var i=0,r=0,n=0;Xa(e|=0,t|=0),(0|t)<0||(i=p[e+88>>2])-(r=p[e+84>>2])>>2<=(0|t)||(n=(i=i-(r=(t=r+(t<<2)|0)+4|0)|0)>>2,i&&Fo(t,r,i),p[e+88>>2]=t+(n<<2))},a[348]=function(e){var t=0,i=0,r=0;e:if(p[(e|=0)+80>>2]){if(r=e+12|0,t=p[e+8>>2],(p[r>>2]-t|0)<=0)return 1;for(;;){if(!fi(t=p[(i<<2)+t>>2],t))break e;if(i=i+1|0,t=p[e+8>>2],!((0|i)<p[r>>2]-t>>2))break}return 1}return 0},a[349]=function(e){e|=0;var t,i=0,r=0,n=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=g(0),m=0,b=0,v=0,y=0,k=0,x=0,S=0,T=0,M=g(0),P=0,R=0;V=t=V-80|0,i=p[e+80>>2],p[t+56>>2]=0,p[t+60>>2]=0,p[t+72>>2]=e,p[t- -64>>2]=e,p[t+48>>2]=0,p[t+52>>2]=0,p[t+68>>2]=1065353216,Za(t+48|0,i),i=p[e+80>>2],p[t+40>>2]=0,p[t+32>>2]=0,p[t+36>>2]=0;e:{if(i){if(i>>>0>=1073741824)break e;r=oo(n=i<<2),p[t+32>>2]=r,l=r+n|0,p[t+40>>2]=l,Do(r,0,n),p[t+36>>2]=l}if(p[t+24>>2]=0,p[t+16>>2]=0,p[t+20>>2]=0,p[t+8>>2]=0,i){for(P=t+56|0,i=0;;){if(n=0,r=p[t+64>>2],u=p[r+8>>2],!(k=(0|(m=p[r+12>>2]-u|0))<1))for(l=m>>>2,s=0;r=i,f=p[u+(s<<2)>>2],_[f+84|0]||(r=p[p[f+68>>2]+(i<<2)>>2]),n=r<<2^n<<1,(s=s+1|0)>>>0<l>>>0;);t:{i:if((o=p[t+52>>2])&&(l=p[t+48>>2],r=o+-1&n,(b=Vo(o)>>>0>1)&&(r=n,n>>>0<o>>>0||(r=(n>>>0)%(o>>>0)|0)),(l=p[l+(r<<2)>>2])&&(c=p[l>>2]))){x=r,R=o+-1|0,v=p[t+72>>2];r:{for(;;){n:{a:{if((0|n)!=(0|(s=p[c+4>>2]))){if(b?s>>>0<o>>>0||(s=(s>>>0)%(o>>>0)|0):s&=R,(0|s)==(0|x))break a;break i}if(S=p[v+8>>2],(0|(r=p[v+12>>2]-S|0))<1)break r;for(l=p[c+8>>2],h=r>>>2,s=0;;){if(r=l,f=i,T=p[S+(s<<2)>>2],_[T+84|0]||(r=p[T+68>>2],f=p[r+(i<<2)>>2],r=p[r+(l<<2)>>2]),(0|r)!=(0|f))break a;if(!((s=s+1|0)>>>0<h>>>0))break}break n}if(c=p[c>>2])continue;break i}break}if(!c)break i}p[p[t+32>>2]+(i<<2)>>2]=p[c+12>>2];break t}if(k)n=0;else for(l=m>>>2,n=0,s=0;r=i,f=p[u+(s<<2)>>2],_[f+84|0]||(r=p[p[f+68>>2]+(i<<2)>>2]),n=r<<2^n<<1,(s=s+1|0)>>>0<l>>>0;);i:{r:if(o&&(r=p[t+48>>2],h=o+-1&n,(u=Vo(o)>>>0>1)&&(h=n,n>>>0<o>>>0||(h=(n>>>0)%(o>>>0)|0)),(r=p[r+(h<<2)>>2])&&(c=p[r>>2])))for(m=o+-1|0,x=p[t+72>>2];;){if((0|n)!=(0|(s=p[c+4>>2]))&&(u?s>>>0<o>>>0||(s=(s>>>0)%(o>>>0)|0):s&=m,(0|s)!=(0|h)))break r;if(v=p[x+8>>2],(0|(r=p[x+12>>2]-v|0))<1)break i;for(l=p[c+8>>2],k=r>>>2,s=0;r=l,f=i,b=p[v+(s<<2)>>2],_[b+84|0]||(r=p[b+68>>2],f=p[r+(i<<2)>>2],r=p[r+(l<<2)>>2]),(0|r)==(0|f);)if((s=s+1|0)>>>0>=k>>>0)break i;if(!(c=p[c>>2]))break}r=oo(16),p[r+4>>2]=n,p[r>>2]=0,p[r+12>>2]=y,p[r+8>>2]=i,d=A[t+68>>2],M=g(p[t+60>>2]+1>>>0),!o|!!(g(d*g(o>>>0))<M)?(Za(f=t+48|0,(l=0!=(o+-1&o)|o>>>0<3|o<<1)>>>0<(i=(d=g(w(g(M/d))))<g(4294967296)&d>=g(0)?~~d>>>0:0)>>>0?i:l),(i=(o=p[t+52>>2])+-1|0)&o?n>>>0<o>>>0||(n=(n>>>0)%(o>>>0)|0):n&=i):n=h,n=p[t+48>>2]+(n<<2)|0;r:{if(i=p[n>>2])p[r>>2]=p[i>>2];else{if(p[r>>2]=p[t+56>>2],p[t+56>>2]=r,p[n>>2]=P,!(i=p[r>>2]))break r;i=p[i+4>>2],(n=o+-1|0)&o?i>>>0<o>>>0||(i=(i>>>0)%(o>>>0)|0):i&=n,i=p[t+48>>2]+(i<<2)|0}p[i>>2]=r}p[t+60>>2]=p[t+60>>2]+1,i=p[t+8>>2]}p[p[t+32>>2]+(i<<2)>>2]=y,y=y+1|0,(0|(i=p[t+20>>2]))==p[t+24>>2]?kn(t+16|0,t+8|0):(p[i>>2]=p[t+8>>2],p[t+20>>2]=i+4)}if(i=p[t+8>>2]+1|0,p[t+8>>2]=i,!(i>>>0<(n=p[e+80>>2])>>>0))break}(0|n)!=(0|y)&&(a[p[p[e>>2]+24>>2]](e,t+32|0,t+16|0),p[e+80>>2]=y)}if((e=p[t+16>>2])&&(p[t+20>>2]=e,Mo(e)),(e=p[t+32>>2])&&(p[t+36>>2]=e,Mo(e)),i=p[t+56>>2])for(;e=p[i>>2],Mo(i),i=e;);return e=p[t+48>>2],p[t+48>>2]=0,e&&Mo(e),void(V=t+80|0)}Ao(),E()},a[350]=function(e,t,i){var r,n=0;if(Qa(e|=0,t|=0,i|=0),(0|(r=p[e+96>>2]))!=(0|(e=p[e+100>>2])))for(n=(e-r|0)/12|0,t=p[t>>2],i=0;e=y(i,12)+r|0,p[e>>2]=p[t+(p[e>>2]<<2)>>2],p[e+4>>2]=p[t+(p[e+4>>2]<<2)>>2],p[e+8>>2]=p[t+(p[e+8>>2]<<2)>>2],(i=i+1|0)>>>0<n>>>0;);},a[351]=Ea,a[352]=function(e){Mo(Ea(e|=0))},a[353]=Ya,a[354]=Xa,a[355]=Qa,a[356]=function(e,t,i,r,n,a){e|=0,t=+t,i|=0,r|=0,n|=0,a|=0;var s,o=0,d=0,m=0,b=0,A=0,v=0,g=0,x=0,S=0,T=0,w=0,E=0,M=0,P=0,R=0,C=0,O=0,I=0,D=0,F=0;if(V=s=V-560|0,p[s+44>>2]=0,u(+t),o=0|c(1),D=1,F=c(0)>>>0>4294967295?0:1,((0|o)<-1?D:(0|o)<=-1?F:0)?(u(+(t=-t)),o=0|c(1),c(0),P=1,R=17120):2048&n?(P=1,R=17123):R=(P=1&n)?17126:17121,2146435072!=(2146435072&o))if(t=function e(t,i){var r,n,a=0;if(u(+t),a=0|c(1),r=0|c(0),n=a,2047!=(0|(a=a>>>20&2047))){if(!a)return a=i,0==t?i=0:(t=e(0x10000000000000000*t,i),i=p[i>>2]+-64|0),p[a>>2]=i,t;p[i>>2]=a+-1022,f(0,0|r),f(1,-2146435073&n|1071644672),t=+h()}return t}(t,s+44|0),0!=(t+=t)&&(p[s+44>>2]=p[s+44>>2]+-1),w=s+16|0,97!=(0|(C=32|a))){for(o=(0|r)<0,0!=t?(d=p[s+44>>2]+-28|0,p[s+44>>2]=d,t*=268435456):d=p[s+44>>2],A=o?6:r,b=x=(0|d)<0?s+48|0:s+336|0;o=t<4294967296&t>=0?~~t>>>0:0,p[(r=b)>>2]=o,b=b+4|0,0!=(t=1e9*(t-+(o>>>0))););if((0|d)<1)o=b,m=x;else for(m=x;;){if(g=(0|d)<29?d:29,!((o=b+-4|0)>>>0<m>>>0)){for(r=g,d=0;v=o,O=d,T=p[o>>2],S=31&r,32<=(63&r)>>>0?(d=T<<S,T=0):(d=(1<<S)-1&T>>>32-S,T<<=S),d=d+I|0,d=(S=O+T|0)>>>0<T>>>0?d+1|0:d,T=v,v=Bo(d=Uo(S,d,1e9,0),z,1e9,0),p[T>>2]=S-v,(o=o+-4|0)>>>0>=m>>>0;);d&&(p[(m=m+-4|0)>>2]=d)}for(;(o=b)>>>0>m>>>0&&!p[(b=o+-4|0)>>2];);if(d=p[s+44>>2]-g|0,p[s+44>>2]=d,b=o,!((0|d)>0))break}if((0|d)<=-1)for(M=1+((A+25|0)/9|0)|0,g=102==(0|C);;){if(r=(0|d)<-9?9:0-d|0,m>>>0>=o>>>0)m=p[m>>2]?m:m+4|0;else{for(v=1e9>>>r,S=-1<<r^-1,d=0,b=m;T=d,d=p[b>>2],p[b>>2]=T+(d>>>r),d=y(v,d&S),(b=b+4|0)>>>0<o>>>0;);m=p[m>>2]?m:m+4|0,d&&(p[o>>2]=d,o=o+4|0)}if(d=r+p[s+44>>2]|0,p[s+44>>2]=d,o=o-(r=g?x:m)>>2>(0|M)?r+(M<<2)|0:o,!((0|d)<0))break}if(b=0,!(m>>>0>=o>>>0)&&(b=y(x-m>>2,9),d=10,!((r=p[m>>2])>>>0<10)))for(;b=b+1|0,r>>>0>=(d=y(d,10))>>>0;);if((0|(r=(A-(102==(0|C)?0:b)|0)-(103==(0|C)&0!=(0|A))|0))<(y(o-x>>2,9)+-9|0)){if(g=(x+((v=(0|(d=r+9216|0))/9|0)<<2)|0)-4092|0,r=10,(0|(d=d-y(v,9)|0))<=7)for(;r=y(r,10),v=(0|d)<7,d=d+1|0,v;);if(M=g+4|0,((d=(v=p[g>>2])-y(r,S=(v>>>0)/(r>>>0)|0)|0)||(0|M)!=(0|o))&&(E=d>>>0<(T=r>>>1)>>>0?.5:(0|o)==(0|M)&&(0|T)==(0|d)?1:1.5,t=1&S?9007199254740994:9007199254740992,!P|45!=_[0|R]||(E=-E,t=-t),d=v-d|0,p[g>>2]=d,t+E!=t)){if(r=r+d|0,p[g>>2]=r,r>>>0>=1e9)for(;p[g>>2]=0,(g=g+-4|0)>>>0<m>>>0&&(p[(m=m+-4|0)>>2]=0),r=p[g>>2]+1|0,p[g>>2]=r,r>>>0>999999999;);if(b=y(x-m>>2,9),d=10,!((r=p[m>>2])>>>0<10))for(;b=b+1|0,r>>>0>=(d=y(d,10))>>>0;);}o=o>>>0>(r=g+4|0)>>>0?r:o}e:{for(;;){if(d=o,g=0,o>>>0<=m>>>0)break e;if(p[(o=d+-4|0)>>2])break}g=1}if(103==(0|C)){if(A=((o=(0|(r=A||1))>(0|b)&(0|b)>-5)?-1^b:-1)+r|0,a=(o?-1:-2)+a|0,!(S=8&n)){if(o=9,g&&(v=p[d+-4>>2])&&(r=10,o=0,!((v>>>0)%10)))for(;o=o+1|0,!((v>>>0)%((r=y(r,10))>>>0)););r=y(d-x>>2,9)+-9|0,102!=(32|a)?(S=0,A=(0|A)<(0|(r=(0|(r=(r+b|0)-o|0))>0?r:0))?A:r):(S=0,A=(0|A)<(0|(r=(0|(r=r-o|0))>0?r:0))?A:r)}}else S=8&n;if(T=0!=(0|(C=A|S)),r=e,O=i,o=(0|b)>0?b:0,102!=(0|(I=32|a))){if((w-(o=ls((o=b>>31)+b^o,0,w))|0)<=1)for(;l[0|(o=o+-1|0)]=48,(w-o|0)<2;);l[0|(M=o+-2|0)]=a,l[o+-1|0]=(0|b)<0?45:43,o=w-M|0}as(r,32,O,v=1+(o+(T+(A+P|0)|0)|0)|0,n),is(e,R,P),as(e,48,i,v,65536^n);e:{t:{i:{if(102==(0|I)){for(r=s+16|8,a=s+16|9,m=b=m>>>0>x>>>0?x:m;;){o=ls(p[m>>2],0,a);r:if((0|m)==(0|b))(0|a)==(0|o)&&(l[s+24|0]=48,o=r);else{if(o>>>0<=s+16>>>0)break r;for(;l[0|(o=o+-1|0)]=48,o>>>0>s+16>>>0;);}if(is(e,o,a-o|0),!((m=m+4|0)>>>0<=x>>>0))break}if(C&&is(e,17155,1),(0|A)<1|m>>>0>=d>>>0)break i;for(;;){if((o=ls(p[m>>2],0,a))>>>0>s+16>>>0)for(;l[0|(o=o+-1|0)]=48,o>>>0>s+16>>>0;);if(is(e,o,(0|A)<9?A:9),o=A+-9|0,(m=m+4|0)>>>0>=d>>>0)break t;if(r=(0|A)>9,A=o,!r)break}break t}r:if(!((0|A)<0))for(x=g?d:m+4|0,r=s+16|8,a=s+16|9,b=m;;){(0|a)==(0|(o=ls(p[b>>2],0,a)))&&(l[s+24|0]=48,o=r);n:if((0|m)==(0|b))is(e,o,1),o=o+1|0,(0|A)<1&&!S||is(e,17155,1);else{if(o>>>0<=s+16>>>0)break n;for(;l[0|(o=o+-1|0)]=48,o>>>0>s+16>>>0;);}if(is(e,d=o,(0|A)>(0|(o=a-o|0))?o:A),A=A-o|0,(b=b+4|0)>>>0>=x>>>0)break r;if(!((0|A)>-1))break}as(e,48,A+18|0,18,0),is(e,M,w-M|0);break e}o=A}as(e,48,o+9|0,9,0)}}else{if(d=(A=32&a)?R+9|0:R,!(r>>>0>11)&&(o=12-r|0)){for(E=8;E*=16,o=o+-1|0;);t=45!=_[0|d]?t+E-E:-(E+(-t-E))}for((0|w)==(0|(o=ls((o=(b=p[s+44>>2])>>31)^o+b,0,w)))&&(l[s+15|0]=48,o=s+15|0),b=2|P,m=p[s+44>>2],l[0|(x=o+-2|0)]=a+15,l[o+-1|0]=(0|m)<0?45:43,R=8&n,m=s+16|0;a=m,v=A,o=k(t)<2147483648?~~t:-2147483648,l[0|m]=v|_[o+17104|0],1!=((m=a+1|0)-(s+16|0)|0)|(0==(t=16*(t-+(0|o)))?!((0|r)>0|R):0)||(l[a+1|0]=46,m=a+2|0),0!=t;);as(a=e,32,o=i,v=(r=A=!r|((m-s|0)-18|0)>=(0|r)?((w-(s+16|0)|0)-x|0)+m|0:2+((r+w|0)-x|0)|0)+b|0,n),is(e,d,b),as(e,48,i,v,65536^n),is(e,s+16|0,a=m-(s+16|0)|0),as(e,48,A-((r=w-x|0)+a|0)|0,0,0),is(e,x,r)}else as(e,32,i,v=P+3|0,-65537&n),is(e,R,P),r=a>>>5&1,is(e,t!=t?r?17147:17151:r?17139:17143,3);return as(e,32,i,v,8192^n),V=s+560|0,0|((0|v)<(0|i)?i:v)},a[357]=function(e,t){var i,r,n;e|=0,i=t|=0,t=p[t>>2]+15&-16,p[i>>2]=t+16,r=e,n=Us(p[t>>2],p[t+4>>2],p[t+8>>2],p[t+12>>2]),v[r>>3]=n},a[358]=function(e){return 0|O(p[(e|=0)+60>>2])},a[359]=function(e,t,i){t|=0,i|=0;var r,n=0,a=0,s=0,o=0,l=0;for(V=r=V-32|0,n=p[(e|=0)+28>>2],p[r+16>>2]=n,a=p[e+20>>2],p[r+28>>2]=i,p[r+24>>2]=t,t=a-n|0,p[r+20>>2]=t,a=t+i|0,o=2,t=r+16|0;;){e:{if(ws(0|C(p[e+60>>2],0|t,0|o,r+12|0))?(p[r+12>>2]=-1,n=-1):n=p[r+12>>2],(0|n)!=(0|a)){if((0|n)>-1)break e;p[e+28>>2]=0,p[e+16>>2]=0,p[e+20>>2]=0,p[e>>2]=32|p[e>>2],e=0,2!=(0|o)&&(e=i-p[t+4>>2]|0)}else t=p[e+44>>2],p[e+28>>2]=t,p[e+20>>2]=t,p[e+16>>2]=t+p[e+48>>2],e=i;return V=r+32|0,0|e}s=n-((l=n>>>0>(s=p[t+4>>2])>>>0)?s:0)|0,p[(t=l?t+8|0:t)>>2]=s+p[t>>2],p[t+4>>2]=p[t+4>>2]-s,a=a-n|0,o=o-l|0}},a[360]=function(e,t,i,r){var n;return t|=0,i|=0,r|=0,V=n=V-16|0,ws(0|U(p[(e|=0)+60>>2],0|t,0|i,255&r,n+8|0))?(p[n+8>>2]=-1,p[n+12>>2]=-1,t=-1,e=-1):(t=p[n+12>>2],e=p[n+8>>2]),V=n+16|0,z=t,0|e},a[361]=function(e,t,i){t|=0,i|=0;var r,n=0;return Io(r=p[(e|=0)+20>>2],t,n=(n=p[e+16>>2]-r|0)>>>0>i>>>0?i:n),p[e+20>>2]=n+p[e+20>>2],0|i},a[362]=Nt,a[363]=Zt,a[364]=function(e){return 0,17916},a[365]=function(e){Mo(go(e|=0))},a[366]=function(e){return p[(e|=0)+4>>2]},a[367]=function(e){go(e|=0),Mo(e)},a[368]=Nt,a[369]=Zt,a[370]=qa,a[371]=qa,a[372]=function(e,t,i){i|=0;var r,n=0;return V=r=V+-64|0,n=1,ko(e|=0,t|=0,0)||(n=0,t&&(n=0,(t=xo(t,18136,18184))&&(p[r+20>>2]=-1,p[r+16>>2]=e,p[r+12>>2]=0,p[r+8>>2]=t,Do(r+24|0,0,39),p[r+56>>2]=1,a[p[p[t>>2]+28>>2]](t,r+8|0,p[i>>2],1),n=0,1==p[r+32>>2]&&(p[i>>2]=p[r+24>>2],n=1)))),V=r- -64|0,0|n},a[373]=function(e,t,i,r,n,a){i|=0,r|=0,n|=0,a|=0,ko(e|=0,p[(t|=0)+8>>2],a)&&To(t,i,r,n)},a[374]=function(e,t,i,r,n){if(i|=0,r|=0,n|=0,ko(e|=0,p[(t|=0)+8>>2],n))wo(t,i,r);else e:if(ko(e,p[t>>2],n)){if(p[t+20>>2]==(0|i)||p[t+16>>2]==(0|i)){if(1!=(0|r))break e;return void(p[t+32>>2]=1)}p[t+20>>2]=i,p[t+32>>2]=r,p[t+40>>2]=p[t+40>>2]+1,1!=p[t+36>>2]|2!=p[t+24>>2]||(l[t+54|0]=1),p[t+44>>2]=4}},a[375]=function(e,t,i,r){i|=0,r|=0,ko(e|=0,p[(t|=0)+8>>2],0)&&So(t,i,r)},a[376]=Zt,a[377]=function(e,t,i,r,n,s){i|=0,r|=0,n|=0,s|=0,ko(e|=0,p[(t|=0)+8>>2],s)?To(t,i,r,n):(e=p[e+8>>2],a[p[p[e>>2]+20>>2]](e,t,i,r,n,s))},a[378]=function(e,t,i,r,n){if(i|=0,r|=0,n|=0,ko(e|=0,p[(t|=0)+8>>2],n))wo(t,i,r);else e:{if(ko(e,p[t>>2],n)){if(p[t+20>>2]==(0|i)||p[t+16>>2]==(0|i)){if(1!=(0|r))break e;return void(p[t+32>>2]=1)}p[t+32>>2]=r;t:if(4!=p[t+44>>2]){if(d[t+52>>1]=0,e=p[e+8>>2],a[p[p[e>>2]+20>>2]](e,t,i,i,1,n),_[t+53|0]){if(p[t+44>>2]=3,!_[t+52|0])break t;break e}p[t+44>>2]=4}if(p[t+20>>2]=i,p[t+40>>2]=p[t+40>>2]+1,1!=p[t+36>>2]|2!=p[t+24>>2])break e;return void(l[t+54|0]=1)}e=p[e+8>>2],a[p[p[e>>2]+24>>2]](e,t,i,r,n)}},a[379]=function(e,t,i,r){i|=0,r|=0,ko(e|=0,p[(t|=0)+8>>2],0)?So(t,i,r):(e=p[e+8>>2],a[p[p[e>>2]+28>>2]](e,t,i,r))},{__wasm_call_ctors:function(){!function(){var e,t=0,i=0;V=e=V-16|0;I(e+12|0,e+8|0)||(t=Eo(4+(p[e+12>>2]<<2)|0),p[4698]=t,t&&((t=Eo(p[e+8>>2]))&&(i=p[4698])?(p[(p[e+12>>2]<<2)+i>>2]=0,D(p[4698],0|t)&&(p[4698]=0)):p[4698]=0));V=e+16|0}()},emscripten_bind_PointCloud_PointCloud_0:function(){return 0|Wa(oo(84))},emscripten_bind_PointCloud_num_attributes_0:ct,emscripten_bind_PointCloud_num_points_0:ft,emscripten_bind_PointCloud___destroy___0:ht,emscripten_bind_ExpertEncoder_ExpertEncoder_1:function(e){return e|=0,0|function(e,t){var i=0;p[e+4>>2]=t,p[e>>2]=0;e:{if(t&&(i=xo(t,16536,16252))){if(Ue(t=oo(56),i),i=p[e>>2],p[e>>2]=t,!i)break e;return a[p[p[i>>2]+4>>2]](i),e}Be(i=oo(56),t),t=p[e>>2],p[e>>2]=i,t&&a[p[p[t>>2]+4>>2]](t)}return e}(oo(8),e)},emscripten_bind_ExpertEncoder_SetEncodingMethod_1:function(e,t){t|=0,function(e,t){var i,r,n=0,a=0;V=r=V-16|0,i=oo(16),p[r>>2]=i,p[r+4>>2]=15,p[r+8>>2]=-2147483632,l[i+15|0]=0,n=_[10579]|_[10580]<<8|_[10581]<<16|_[10582]<<24,a=_[10575]|_[10576]<<8|_[10577]<<16|_[10578]<<24,l[i+7|0]=a,l[i+8|0]=a>>>8,l[i+9|0]=a>>>16,l[i+10|0]=a>>>24,l[i+11|0]=n,l[i+12|0]=n>>>8,l[i+13|0]=n>>>16,l[i+14|0]=n>>>24,n=_[10572]|_[10573]<<8|_[10574]<<16|_[10575]<<24,a=_[10568]|_[10569]<<8|_[10570]<<16|_[10571]<<24,l[0|i]=a,l[i+1|0]=a>>>8,l[i+2|0]=a>>>16,l[i+3|0]=a>>>24,l[i+4|0]=n,l[i+5|0]=n>>>8,l[i+6|0]=n>>>16,l[i+7|0]=n>>>24,ua(e+4|0,r,t),l[r+11|0]<=-1&&Mo(p[r>>2]),V=r+16|0}(p[(e|=0)>>2],t)},emscripten_bind_ExpertEncoder_SetAttributeQuantization_2:function(e,t,i){t|=0,i|=0,function(e,t,i){var r,n=0,a=0;V=r=V-16|0,p[r+12>>2]=t,t=oo(32),p[r>>2]=t,p[r+4>>2]=17,p[r+8>>2]=-2147483616,l[t+17|0]=0,l[t+16|0]=_[10600],n=_[10596]|_[10597]<<8|_[10598]<<16|_[10599]<<24,a=_[10592]|_[10593]<<8|_[10594]<<16|_[10595]<<24,l[t+8|0]=a,l[t+9|0]=a>>>8,l[t+10|0]=a>>>16,l[t+11|0]=a>>>24,l[t+12|0]=n,l[t+13|0]=n>>>8,l[t+14|0]=n>>>16,l[t+15|0]=n>>>24,n=_[10588]|_[10589]<<8|_[10590]<<16|_[10591]<<24,a=_[10584]|_[10585]<<8|_[10586]<<16|_[10587]<<24,l[0|t]=a,l[t+1|0]=a>>>8,l[t+2|0]=a>>>16,l[t+3|0]=a>>>24,l[t+4|0]=n,l[t+5|0]=n>>>8,l[t+6|0]=n>>>16,l[t+7|0]=n>>>24,ua(Ee(e+4|0,r+12|0),r,i),l[r+11|0]<=-1&&Mo(p[r>>2]),V=r+16|0}(p[(e|=0)>>2],t,i)},emscripten_bind_ExpertEncoder_SetAttributeExplicitQuantization_5:function(e,t,i,r,n,a){e|=0,t|=0,i|=0,r|=0,n|=0,a=g(a),function(e,t,i,r,n,a){var s,o=0,c=0;V=s=V-16|0,p[s+12>>2]=t,t=oo(32),p[s>>2]=t,p[s+4>>2]=17,p[s+8>>2]=-2147483616,l[t+17|0]=0,l[t+16|0]=_[10600],o=_[10596]|_[10597]<<8|_[10598]<<16|_[10599]<<24,c=_[10592]|_[10593]<<8|_[10594]<<16|_[10595]<<24,l[t+8|0]=c,l[t+9|0]=c>>>8,l[t+10|0]=c>>>16,l[t+11|0]=c>>>24,l[t+12|0]=o,l[t+13|0]=o>>>8,l[t+14|0]=o>>>16,l[t+15|0]=o>>>24,o=_[10588]|_[10589]<<8|_[10590]<<16|_[10591]<<24,c=_[10584]|_[10585]<<8|_[10586]<<16|_[10587]<<24,l[0|t]=c,l[t+1|0]=c>>>8,l[t+2|0]=c>>>16,l[t+3|0]=c>>>24,l[t+4|0]=o,l[t+5|0]=o>>>8,l[t+6|0]=o>>>16,l[t+7|0]=o>>>24,ua(Ee(o=e+4|0,s+12|0),s,i),l[s+11|0]<=-1&&Mo(p[s>>2]),e=oo(32),p[s>>2]=e,p[s+4>>2]=19,p[s+8>>2]=-2147483616,l[e+19|0]=0,t=_[10642]|_[10643]<<8|_[10644]<<16|_[10645]<<24,l[e+15|0]=t,l[e+16|0]=t>>>8,l[e+17|0]=t>>>16,l[e+18|0]=t>>>24,t=_[10639]|_[10640]<<8|_[10641]<<16|_[10642]<<24,i=_[10635]|_[10636]<<8|_[10637]<<16|_[10638]<<24,l[e+8|0]=i,l[e+9|0]=i>>>8,l[e+10|0]=i>>>16,l[e+11|0]=i>>>24,l[e+12|0]=t,l[e+13|0]=t>>>8,l[e+14|0]=t>>>16,l[e+15|0]=t>>>24,t=_[10631]|_[10632]<<8|_[10633]<<16|_[10634]<<24,i=_[10627]|_[10628]<<8|_[10629]<<16|_[10630]<<24,l[0|e]=i,l[e+1|0]=i>>>8,l[e+2|0]=i>>>16,l[e+3|0]=i>>>24,l[e+4|0]=t,l[e+5|0]=t>>>8,l[e+6|0]=t>>>16,l[e+7|0]=t>>>24,Pe(Ee(o,s+12|0),s,n,r),l[s+11|0]<=-1&&Mo(p[s>>2]),e=oo(32),p[s>>2]=e,p[s+4>>2]=18,p[s+8>>2]=-2147483616,l[e+18|0]=0,t=_[10663]|_[10664]<<8,l[e+16|0]=t,l[e+17|0]=t>>>8,t=_[10659]|_[10660]<<8|_[10661]<<16|_[10662]<<24,i=_[10655]|_[10656]<<8|_[10657]<<16|_[10658]<<24,l[e+8|0]=i,l[e+9|0]=i>>>8,l[e+10|0]=i>>>16,l[e+11|0]=i>>>24,l[e+12|0]=t,l[e+13|0]=t>>>8,l[e+14|0]=t>>>16,l[e+15|0]=t>>>24,t=_[10651]|_[10652]<<8|_[10653]<<16|_[10654]<<24,i=_[10647]|_[10648]<<8|_[10649]<<16|_[10650]<<24,l[0|e]=i,l[e+1|0]=i>>>8,l[e+2|0]=i>>>16,l[e+3|0]=i>>>24,l[e+4|0]=t,l[e+5|0]=t>>>8,l[e+6|0]=t>>>16,l[e+7|0]=t>>>24,da(Ee(o,s+12|0),s,a),l[s+11|0]<=-1&&Mo(p[s>>2]),V=s+16|0}(p[e>>2],t,i,r,n,a)},emscripten_bind_ExpertEncoder_SetSpeedOptions_2:function(e,t,i){t|=0,i|=0,function(e,t,i){var r,n=0,a=0,s=0;V=r=V-16|0,n=oo(16),p[r>>2]=n,p[r+4>>2]=14,p[r+8>>2]=-2147483632,l[n+14|0]=0,s=_[10758]|_[10759]<<8|_[10760]<<16|_[10761]<<24,a=_[10754]|_[10755]<<8|_[10756]<<16|_[10757]<<24,l[n+6|0]=a,l[n+7|0]=a>>>8,l[n+8|0]=a>>>16,l[n+9|0]=a>>>24,l[n+10|0]=s,l[n+11|0]=s>>>8,l[n+12|0]=s>>>16,l[n+13|0]=s>>>24,s=_[10752]|_[10753]<<8|_[10754]<<16|_[10755]<<24,a=_[10748]|_[10749]<<8|_[10750]<<16|_[10751]<<24,l[0|n]=a,l[n+1|0]=a>>>8,l[n+2|0]=a>>>16,l[n+3|0]=a>>>24,l[n+4|0]=s,l[n+5|0]=s>>>8,l[n+6|0]=s>>>16,l[n+7|0]=s>>>24,ua(e,r,t),l[r+11|0]<=-1&&Mo(p[r>>2]),t=oo(16),p[r>>2]=t,p[r+4>>2]=14,p[r+8>>2]=-2147483632,l[t+14|0]=0,a=_[10773]|_[10774]<<8|_[10775]<<16|_[10776]<<24,n=_[10769]|_[10770]<<8|_[10771]<<16|_[10772]<<24,l[t+6|0]=n,l[t+7|0]=n>>>8,l[t+8|0]=n>>>16,l[t+9|0]=n>>>24,l[t+10|0]=a,l[t+11|0]=a>>>8,l[t+12|0]=a>>>16,l[t+13|0]=a>>>24,a=_[10767]|_[10768]<<8|_[10769]<<16|_[10770]<<24,n=_[10763]|_[10764]<<8|_[10765]<<16|_[10766]<<24,l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=a,l[t+5|0]=a>>>8,l[t+6|0]=a>>>16,l[t+7|0]=a>>>24,ua(e,r,i),l[r+11|0]<=-1&&Mo(p[r>>2]),V=r+16|0}(p[(e|=0)>>2]+4|0,t,i)},emscripten_bind_ExpertEncoder_SetTrackEncodedProperties_1:function(e,t){t|=0,jt(p[(e|=0)>>2],t)},emscripten_bind_ExpertEncoder_EncodeToDracoBuffer_2:function(e,t,i){return 0|function(e,t,i){var r,n,s=0;V=r=V-48|0;e:if(n=p[e+4>>2]){if(t){if(!a[p[p[n>>2]+16>>2]](n))break e;t=p[e+4>>2],a[p[p[t>>2]+20>>2]](t)}t=oa(r+16|0),Ve(r,p[e>>2],t),e=p[r>>2],l[r+15|0]<=-1&&Mo(p[r+4>>2]),e||(Ft(i,p[t>>2],p[t+4>>2]),s=p[t+4>>2]-p[t>>2]|0),e=p[t+12>>2],p[t+12>>2]=0,e&&Mo(e),(e=p[t>>2])&&(p[t+4>>2]=e,Mo(e))}return V=r+48|0,s}(e|=0,t|=0,i|=0)},emscripten_bind_ExpertEncoder_GetNumberOfEncodedPoints_0:function(e){return p[p[(e|=0)>>2]+40>>2]},emscripten_bind_ExpertEncoder_GetNumberOfEncodedFaces_0:function(e){return p[p[(e|=0)>>2]+44>>2]},emscripten_bind_ExpertEncoder___destroy___0:function(e){var t=0;(e|=0)&&(t=p[e>>2],p[e>>2]=0,t&&a[p[p[t>>2]+4>>2]](t),Mo(e))},emscripten_bind_PointAttribute_PointAttribute_0:function(){return 0|si(oo(96))},emscripten_bind_PointAttribute_size_0:ft,emscripten_bind_PointAttribute_attribute_type_0:function(e){return p[(e|=0)+56>>2]},emscripten_bind_PointAttribute_data_type_0:ut,emscripten_bind_PointAttribute_num_components_0:function(e){return l[(e|=0)+24|0]},emscripten_bind_PointAttribute_normalized_0:function(e){return _[(e|=0)+32|0]},emscripten_bind_PointAttribute_byte_stride_0:dt,emscripten_bind_PointAttribute_byte_offset_0:function(e){return p[(e|=0)+48>>2]},emscripten_bind_PointAttribute_unique_id_0:function(e){return p[(e|=0)+60>>2]},emscripten_bind_PointAttribute___destroy___0:pt,emscripten_bind_Encoder_Encoder_0:function(){var e;return e=oo(48),p[e>>2]=1032,function(e){var t,i,r,n=0,a=0;V=t=V-16|0,ha(e),p[(n=e+16|0)>>2]=0,p[n+4>>2]=0,p[e+12>>2]=n,i=ha(e+24|0),p[(r=t+8|0)>>2]=0,p[t>>2]=0,p[t+4>>2]=0,e=oo(32),p[t>>2]=e,p[t+4>>2]=20,p[t+8>>2]=-2147483616,l[e+20|0]=0,n=_[10448]|_[10449]<<8|_[10450]<<16|_[10451]<<24,l[e+16|0]=n,l[e+17|0]=n>>>8,l[e+18|0]=n>>>16,l[e+19|0]=n>>>24,n=_[10444]|_[10445]<<8|_[10446]<<16|_[10447]<<24,a=_[10440]|_[10441]<<8|_[10442]<<16|_[10443]<<24,l[e+8|0]=a,l[e+9|0]=a>>>8,l[e+10|0]=a>>>16,l[e+11|0]=a>>>24,l[e+12|0]=n,l[e+13|0]=n>>>8,l[e+14|0]=n>>>16,l[e+15|0]=n>>>24,n=_[10436]|_[10437]<<8|_[10438]<<16|_[10439]<<24,a=_[10432]|_[10433]<<8|_[10434]<<16|_[10435]<<24,l[0|e]=a,l[e+1|0]=a>>>8,l[e+2|0]=a>>>16,l[e+3|0]=a>>>24,l[e+4|0]=n,l[e+5|0]=n>>>8,l[e+6|0]=n>>>16,l[e+7|0]=n>>>24,ua(i,t,1),l[t+11|0]<=-1&&Mo(p[t>>2]),p[r>>2]=0,p[t>>2]=0,p[t+4>>2]=0,e=oo(32),p[t>>2]=e,p[t+4>>2]=22,p[t+8>>2]=-2147483616,l[e+22|0]=0,n=_[10471]|_[10472]<<8|_[10473]<<16|_[10474]<<24,a=_[10467]|_[10468]<<8|_[10469]<<16|_[10470]<<24,l[e+14|0]=a,l[e+15|0]=a>>>8,l[e+16|0]=a>>>16,l[e+17|0]=a>>>24,l[e+18|0]=n,l[e+19|0]=n>>>8,l[e+20|0]=n>>>16,l[e+21|0]=n>>>24,n=_[10465]|_[10466]<<8|_[10467]<<16|_[10468]<<24,a=_[10461]|_[10462]<<8|_[10463]<<16|_[10464]<<24,l[e+8|0]=a,l[e+9|0]=a>>>8,l[e+10|0]=a>>>16,l[e+11|0]=a>>>24,l[e+12|0]=n,l[e+13|0]=n>>>8,l[e+14|0]=n>>>16,l[e+15|0]=n>>>24,n=_[10457]|_[10458]<<8|_[10459]<<16|_[10460]<<24,a=_[10453]|_[10454]<<8|_[10455]<<16|_[10456]<<24,l[0|e]=a,l[e+1|0]=a>>>8,l[e+2|0]=a>>>16,l[e+3|0]=a>>>24,l[e+4|0]=n,l[e+5|0]=n>>>8,l[e+6|0]=n>>>16,l[e+7|0]=n>>>24,ua(i,t,1),l[t+11|0]<=-1&&Mo(p[t>>2]),V=t+16|0}(e+4|0),p[e+40>>2]=0,p[e+44>>2]=0,p[e>>2]=10252,0|e},emscripten_bind_Encoder_SetEncodingMethod_1:function(e,t){!function(e,t){var i,r,n=0,a=0;V=r=V-16|0,i=oo(16),p[r>>2]=i,p[r+4>>2]=15,p[r+8>>2]=-2147483632,l[i+15|0]=0,n=_[10520]|_[10521]<<8|_[10522]<<16|_[10523]<<24,a=_[10516]|_[10517]<<8|_[10518]<<16|_[10519]<<24,l[i+7|0]=a,l[i+8|0]=a>>>8,l[i+9|0]=a>>>16,l[i+10|0]=a>>>24,l[i+11|0]=n,l[i+12|0]=n>>>8,l[i+13|0]=n>>>16,l[i+14|0]=n>>>24,n=_[10513]|_[10514]<<8|_[10515]<<16|_[10516]<<24,a=_[10509]|_[10510]<<8|_[10511]<<16|_[10512]<<24,l[0|i]=a,l[i+1|0]=a>>>8,l[i+2|0]=a>>>16,l[i+3|0]=a>>>24,l[i+4|0]=n,l[i+5|0]=n>>>8,l[i+6|0]=n>>>16,l[i+7|0]=n>>>24,ua(e+4|0,r,t),l[r+11|0]<=-1&&Mo(p[r>>2]),V=r+16|0}(e|=0,t|=0)},emscripten_bind_Encoder_SetAttributeQuantization_2:function(e,t,i){!function(e,t,i){var r,n=0,a=0;V=r=V-16|0,p[r+12>>2]=t,t=oo(32),p[r>>2]=t,p[r+4>>2]=17,p[r+8>>2]=-2147483616,l[t+17|0]=0,l[t+16|0]=_[10284],n=_[10280]|_[10281]<<8|_[10282]<<16|_[10283]<<24,a=_[10276]|_[10277]<<8|_[10278]<<16|_[10279]<<24,l[t+8|0]=a,l[t+9|0]=a>>>8,l[t+10|0]=a>>>16,l[t+11|0]=a>>>24,l[t+12|0]=n,l[t+13|0]=n>>>8,l[t+14|0]=n>>>16,l[t+15|0]=n>>>24,n=_[10272]|_[10273]<<8|_[10274]<<16|_[10275]<<24,a=_[10268]|_[10269]<<8|_[10270]<<16|_[10271]<<24,l[0|t]=a,l[t+1|0]=a>>>8,l[t+2|0]=a>>>16,l[t+3|0]=a>>>24,l[t+4|0]=n,l[t+5|0]=n>>>8,l[t+6|0]=n>>>16,l[t+7|0]=n>>>24,ua(Ee(e+4|0,r+12|0),r,i),l[r+11|0]<=-1&&Mo(p[r>>2]),V=r+16|0}(e|=0,t|=0,i|=0)},emscripten_bind_Encoder_SetAttributeExplicitQuantization_5:function(e,t,i,r,n,a){!function(e,t,i,r,n,a){var s,o=0,c=0;V=s=V-16|0,p[s+12>>2]=t,t=oo(32),p[s>>2]=t,p[s+4>>2]=17,p[s+8>>2]=-2147483616,l[t+17|0]=0,l[t+16|0]=_[10284],o=_[10280]|_[10281]<<8|_[10282]<<16|_[10283]<<24,c=_[10276]|_[10277]<<8|_[10278]<<16|_[10279]<<24,l[t+8|0]=c,l[t+9|0]=c>>>8,l[t+10|0]=c>>>16,l[t+11|0]=c>>>24,l[t+12|0]=o,l[t+13|0]=o>>>8,l[t+14|0]=o>>>16,l[t+15|0]=o>>>24,o=_[10272]|_[10273]<<8|_[10274]<<16|_[10275]<<24,c=_[10268]|_[10269]<<8|_[10270]<<16|_[10271]<<24,l[0|t]=c,l[t+1|0]=c>>>8,l[t+2|0]=c>>>16,l[t+3|0]=c>>>24,l[t+4|0]=o,l[t+5|0]=o>>>8,l[t+6|0]=o>>>16,l[t+7|0]=o>>>24,ua(Ee(o=e+4|0,s+12|0),s,i),l[s+11|0]<=-1&&Mo(p[s>>2]),e=oo(32),p[s>>2]=e,p[s+4>>2]=19,p[s+8>>2]=-2147483616,l[e+19|0]=0,t=_[10301]|_[10302]<<8|_[10303]<<16|_[10304]<<24,l[e+15|0]=t,l[e+16|0]=t>>>8,l[e+17|0]=t>>>16,l[e+18|0]=t>>>24,t=_[10298]|_[10299]<<8|_[10300]<<16|_[10301]<<24,i=_[10294]|_[10295]<<8|_[10296]<<16|_[10297]<<24,l[e+8|0]=i,l[e+9|0]=i>>>8,l[e+10|0]=i>>>16,l[e+11|0]=i>>>24,l[e+12|0]=t,l[e+13|0]=t>>>8,l[e+14|0]=t>>>16,l[e+15|0]=t>>>24,t=_[10290]|_[10291]<<8|_[10292]<<16|_[10293]<<24,i=_[10286]|_[10287]<<8|_[10288]<<16|_[10289]<<24,l[0|e]=i,l[e+1|0]=i>>>8,l[e+2|0]=i>>>16,l[e+3|0]=i>>>24,l[e+4|0]=t,l[e+5|0]=t>>>8,l[e+6|0]=t>>>16,l[e+7|0]=t>>>24,Pe(Ee(o,s+12|0),s,n,r),l[s+11|0]<=-1&&Mo(p[s>>2]),e=oo(32),p[s>>2]=e,p[s+4>>2]=18,p[s+8>>2]=-2147483616,l[e+18|0]=0,t=_[10322]|_[10323]<<8,l[e+16|0]=t,l[e+17|0]=t>>>8,t=_[10318]|_[10319]<<8|_[10320]<<16|_[10321]<<24,i=_[10314]|_[10315]<<8|_[10316]<<16|_[10317]<<24,l[e+8|0]=i,l[e+9|0]=i>>>8,l[e+10|0]=i>>>16,l[e+11|0]=i>>>24,l[e+12|0]=t,l[e+13|0]=t>>>8,l[e+14|0]=t>>>16,l[e+15|0]=t>>>24,t=_[10310]|_[10311]<<8|_[10312]<<16|_[10313]<<24,i=_[10306]|_[10307]<<8|_[10308]<<16|_[10309]<<24,l[0|e]=i,l[e+1|0]=i>>>8,l[e+2|0]=i>>>16,l[e+3|0]=i>>>24,l[e+4|0]=t,l[e+5|0]=t>>>8,l[e+6|0]=t>>>16,l[e+7|0]=t>>>24,da(Ee(o,s+12|0),s,a),l[s+11|0]<=-1&&Mo(p[s>>2]),V=s+16|0}(e|=0,t|=0,i|=0,r|=0,n|=0,a=g(a))},emscripten_bind_Encoder_SetSpeedOptions_2:function(e,t,i){!function(e,t,i){var r,n=0,a=0,s=0;V=r=V-16|0,n=oo(16),p[r>>2]=n,p[r+4>>2]=14,p[r+8>>2]=-2147483632,l[n+14|0]=0,s=_[10486]|_[10487]<<8|_[10488]<<16|_[10489]<<24,a=_[10482]|_[10483]<<8|_[10484]<<16|_[10485]<<24,l[n+6|0]=a,l[n+7|0]=a>>>8,l[n+8|0]=a>>>16,l[n+9|0]=a>>>24,l[n+10|0]=s,l[n+11|0]=s>>>8,l[n+12|0]=s>>>16,l[n+13|0]=s>>>24,s=_[10480]|_[10481]<<8|_[10482]<<16|_[10483]<<24,a=_[10476]|_[10477]<<8|_[10478]<<16|_[10479]<<24,l[0|n]=a,l[n+1|0]=a>>>8,l[n+2|0]=a>>>16,l[n+3|0]=a>>>24,l[n+4|0]=s,l[n+5|0]=s>>>8,l[n+6|0]=s>>>16,l[n+7|0]=s>>>24,ua(e,r,t),l[r+11|0]<=-1&&Mo(p[r>>2]),t=oo(16),p[r>>2]=t,p[r+4>>2]=14,p[r+8>>2]=-2147483632,l[t+14|0]=0,a=_[10501]|_[10502]<<8|_[10503]<<16|_[10504]<<24,n=_[10497]|_[10498]<<8|_[10499]<<16|_[10500]<<24,l[t+6|0]=n,l[t+7|0]=n>>>8,l[t+8|0]=n>>>16,l[t+9|0]=n>>>24,l[t+10|0]=a,l[t+11|0]=a>>>8,l[t+12|0]=a>>>16,l[t+13|0]=a>>>24,a=_[10495]|_[10496]<<8|_[10497]<<16|_[10498]<<24,n=_[10491]|_[10492]<<8|_[10493]<<16|_[10494]<<24,l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=a,l[t+5|0]=a>>>8,l[t+6|0]=a>>>16,l[t+7|0]=a>>>24,ua(e,r,i),l[r+11|0]<=-1&&Mo(p[r>>2]),V=r+16|0}((e|=0)+4|0,t|=0,i|=0)},emscripten_bind_Encoder_SetTrackEncodedProperties_1:function(e,t){jt(e|=0,t|=0)},emscripten_bind_Encoder_EncodeMeshToDracoBuffer_2:function(e,t,i){return 0|function(e,t,i){var r,n=0,s=0;V=r=V-48|0;t?(n=oa(r+16|0),s=0,-1!=(0|Ga(t,0))&&(s=0,a[p[p[t>>2]+16>>2]](t)&&(a[p[p[t>>2]+20>>2]](t),Me(r,e,t,n),e=p[r>>2],l[r+15|0]<=-1&&Mo(p[r+4>>2]),s=0,e||(Ft(i,p[n>>2],p[n+4>>2]),s=p[n+4>>2]-p[n>>2]|0))),e=s,t=p[n+12>>2],p[n+12>>2]=0,t&&Mo(t),(t=p[n>>2])&&(p[n+4>>2]=t,Mo(t))):e=0;return V=r+48|0,e}(e|=0,t|=0,i|=0)},emscripten_bind_Encoder_EncodePointCloudToDracoBuffer_3:function(e,t,i,r){return 0|function(e,t,i,r){var n,s=0,o=0;V=n=V-48|0;if(t){s=oa(n+16|0),o=0;e:if(-1!=(0|Ga(t,0))){if(i){if(o=0,!a[p[p[t>>2]+16>>2]](t))break e;a[p[p[t>>2]+20>>2]](t)}xe(n,e,t,s),e=p[n>>2],l[n+15|0]<=-1&&Mo(p[n+4>>2]),o=0,e||(Ft(r,p[s>>2],p[s+4>>2]),o=p[s+4>>2]-p[s>>2]|0)}e=o,t=p[s+12>>2],p[s+12>>2]=0,t&&Mo(t),(t=p[s>>2])&&(p[s+4>>2]=t,Mo(t))}else e=0;return V=n+48|0,e}(e|=0,t|=0,i|=0,r|=0)},emscripten_bind_Encoder_GetNumberOfEncodedPoints_0:dt,emscripten_bind_Encoder_GetNumberOfEncodedFaces_0:function(e){return p[(e|=0)+44>>2]},emscripten_bind_Encoder___destroy___0:function(e){(e|=0)&&(p[e>>2]=1032,_t(e+28|0,p[e+32>>2]),mt(e+16|0,p[e+20>>2]),_t(e+4|0,p[e+8>>2]),Mo(e))},emscripten_bind_MeshBuilder_MeshBuilder_0:bt,emscripten_bind_MeshBuilder_AddFacesToMesh_3:function(e,t,i,r){return 0,0|function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0;if(V=r=V-16|0,e){p[r+8>>2]=0,p[r>>2]=0,p[r+4>>2]=0,s=e+96|0,n=p[e+96>>2];e:{if((a=(p[e+100>>2]-n|0)/12|0)>>>0<t>>>0)zt(s,t-a|0,r);else if(a>>>0>t>>>0&&(p[e+100>>2]=n+y(t,12)),!t)break e;for(a=p[s>>2],l=e+100|0,e=0;o=y(e,12),c=p[(n=o+i|0)>>2],f=p[n+8>>2],h=p[n+4>>2],(n=(p[l>>2]-a|0)/12|0)>>>0>e>>>0?e=e+1|0:(p[r+8>>2]=0,p[r>>2]=0,p[r+4>>2]=0,zt(s,(e=e+1|0)-n|0,r),a=p[s>>2]),p[(n=a+o|0)+8>>2]=f,p[n+4>>2]=h,p[n>>2]=c,(0|e)!=(0|t););}e=1}else e=0;return V=r+16|0,e}(t|=0,i|=0,r|=0)},emscripten_bind_MeshBuilder_AddFloatAttributeToMesh_5:At,emscripten_bind_MeshBuilder_AddInt32AttributeToMesh_5:vt,emscripten_bind_MeshBuilder_AddMetadataToMesh_2:function(e,t,i){return 0,0|function(e,t){var i=0,r=0;e&&(p[(i=e+4|0)>>2]||(Na(e=oo(36),t),p[e+32>>2]=0,p[e+24>>2]=0,p[e+28>>2]=0,t=p[i>>2],p[i>>2]=e,r=1,t&&Vt(t)));return r}(t|=0,i|=0)},emscripten_bind_MeshBuilder_AddFloatAttribute_5:At,emscripten_bind_MeshBuilder_AddInt8Attribute_5:yt,emscripten_bind_MeshBuilder_AddUInt8Attribute_5:gt,emscripten_bind_MeshBuilder_AddInt16Attribute_5:kt,emscripten_bind_MeshBuilder_AddUInt16Attribute_5:xt,emscripten_bind_MeshBuilder_AddInt32Attribute_5:vt,emscripten_bind_MeshBuilder_AddUInt32Attribute_5:St,emscripten_bind_MeshBuilder_AddMetadata_2:Tt,emscripten_bind_MeshBuilder_SetMetadataForAttribute_3:wt,emscripten_bind_MeshBuilder___destroy___0:Et,emscripten_bind_DracoInt8Array_DracoInt8Array_0:function(){return 0|Dt(oo(12))},emscripten_bind_DracoInt8Array_GetValue_1:function(e,t){return t|=0,l[p[(e|=0)>>2]+t|0]},emscripten_bind_DracoInt8Array_size_0:function(e){return p[(e|=0)+4>>2]-p[e>>2]|0},emscripten_bind_DracoInt8Array___destroy___0:function(e){var t=0;(e|=0)&&((t=p[e>>2])&&(p[e+4>>2]=t,Mo(t)),Mo(e))},emscripten_bind_MetadataBuilder_MetadataBuilder_0:bt,emscripten_bind_MetadataBuilder_AddStringEntry_3:function(e,t,i,r){return 0,0|function(e,t,i){var r,n=0,a=0,s=0,o=0;V=r=V+-64|0;e:{t:{if(e){if(p[r+56>>2]=0,p[r+48>>2]=0,p[r+52>>2]=0,(a=As(t))>>>0>=4294967280)break t;i:{if(a>>>0>=11)n=oo(s=a+16&-16),p[r+56>>2]=-2147483648|s,p[r+48>>2]=n,p[r+52>>2]=a;else if(l[r+59|0]=a,n=r+48|0,!a)break i;Io(n,t,a)}if(l[n+a|0]=0,p[r+40>>2]=0,p[r+32>>2]=0,p[r+36>>2]=0,(n=As(i))>>>0>=4294967280)break e;i:{if(n>>>0>=11)s=oo(o=n+16&-16),p[r+40>>2]=-2147483648|o,p[r+32>>2]=s,p[r+36>>2]=n;else if(l[r+43|0]=n,s=r+32|0,!n)break i;Io(s,i,n)}l[n+s|0]=0,p[r+24>>2]=0,p[r+16>>2]=0,p[r+20>>2]=0;i:{if(a>>>0>=11)s=oo(o=a+16&-16),p[r+24>>2]=-2147483648|o,p[r+16>>2]=s,p[r+20>>2]=a;else if(l[r+27|0]=a,s=r+16|0,!a)break i;Io(s,t,a)}l[a+s|0]=0,p[r+8>>2]=0,p[r>>2]=0,p[r+4>>2]=0;i:{if(n>>>0>=11)t=oo(a=n+16&-16),p[r+8>>2]=-2147483648|a,p[r>>2]=t,p[r+4>>2]=n;else if(l[r+11|0]=n,t=r,!n)break i;Io(t,i,n)}l[t+n|0]=0,ja(e,r+16|0,r),l[r+11|0]<=-1&&Mo(p[r>>2]),l[r+27|0]<=-1&&Mo(p[r+16>>2]),l[r+43|0]<=-1&&Mo(p[r+32>>2]),l[r+59|0]<=-1&&Mo(p[r+48>>2]),e=1}else e=0;return V=r- -64|0,e}co(),E()}co(),E()}(t|=0,i|=0,r|=0)},emscripten_bind_MetadataBuilder_AddIntEntry_3:function(e,t,i,r){return 0,0|function(e,t,i){var r,n=0,a=0,s=0;V=r=V-16|0;e:{if(e){if(p[r+8>>2]=0,p[r>>2]=0,p[r+4>>2]=0,(n=As(t))>>>0>=4294967280)break e;t:{if(n>>>0>=11)a=oo(s=n+16&-16),p[r+8>>2]=-2147483648|s,p[r>>2]=a,p[r+4>>2]=n;else if(l[r+11|0]=n,a=r,!n)break t;Io(a,t,n)}l[n+a|0]=0,function(e,t,i){var r;V=r=V-16|0,p[r+12>>2]=i,function(e,t,i){var r,n,a=0,s=0;V=r=V+-64|0,(0|(a=Sr(e,t)))!=(e+4|0)&&Ua(e,a);p[r+16>>2]=0,p[r+8>>2]=0,p[r+12>>2]=0,na(r+8|0,4),a=p[r+8>>2],i=p[i>>2],l[0|a]=i,l[a+1|0]=i>>>8,l[a+2|0]=i>>>16,l[a+3|0]=i>>>24,a=fo(r+24|0,t),p[r+44>>2]=0,p[r+36>>2]=0,p[r+40>>2]=0,i=p[r+12>>2],t=p[r+8>>2],(n=i-t|0)&&(na(r+36|0,n),i=p[r+12>>2],s=p[r+36>>2],t=p[r+8>>2]);Io(s,t,i-t|0),i=Fe(e,r+60|0,a),p[i>>2]||(Va(r+48|0,e,r+24|0),t=p[r+48>>2],p[t+8>>2]=p[r+60>>2],p[t>>2]=0,p[t+4>>2]=0,p[i>>2]=t,(a=p[p[e>>2]>>2])&&(p[e>>2]=a,t=p[i>>2]),Ce(p[e+4>>2],t),p[(e=e+8|0)>>2]=p[e>>2]+1);(e=p[r+36>>2])&&(p[r+40>>2]=e,Mo(e));l[r+35|0]<=-1&&Mo(p[r+24>>2]);(e=p[r+8>>2])&&(p[r+12>>2]=e,Mo(e));V=r- -64|0}(e,t,r+12|0),V=r+16|0}(e,r,i),l[r+11|0]<=-1&&Mo(p[r>>2]),e=1}else e=0;return V=r+16|0,e}co(),E()}(t|=0,i|=0,r|=0)},emscripten_bind_MetadataBuilder_AddDoubleEntry_3:function(e,t,i,r){return 0,0|function(e,t,i){var r,n=0,a=0,s=0;V=r=V-16|0;e:{if(e){if(p[r+8>>2]=0,p[r>>2]=0,p[r+4>>2]=0,(n=As(t))>>>0>=4294967280)break e;t:{if(n>>>0>=11)a=oo(s=n+16&-16),p[r+8>>2]=-2147483648|s,p[r>>2]=a,p[r+4>>2]=n;else if(l[r+11|0]=n,a=r,!n)break t;Io(a,t,n)}l[n+a|0]=0,function(e,t,i){var r;V=r=V-16|0,v[r+8>>3]=i,za(e,t,r+8|0),V=r+16|0}(e,r,i),l[r+11|0]<=-1&&Mo(p[r>>2]),e=1}else e=0;return V=r+16|0,e}co(),E()}(t|=0,i|=0,r=+r)},emscripten_bind_MetadataBuilder___destroy___0:Et,emscripten_bind_GeometryAttribute_GeometryAttribute_0:function(){return 0|ni(oo(64))},emscripten_bind_GeometryAttribute___destroy___0:Et,emscripten_bind_Mesh_Mesh_0:function(){return 0|function(e){return Wa(e),p[e+84>>2]=0,p[e+88>>2]=0,p[e>>2]=16208,p[e+92>>2]=0,p[e+96>>2]=0,p[e+100>>2]=0,p[e+104>>2]=0,e}(oo(108))},emscripten_bind_Mesh_num_faces_0:function(e){return(p[(e|=0)+100>>2]-p[e+96>>2]|0)/12|0},emscripten_bind_Mesh_num_attributes_0:ct,emscripten_bind_Mesh_num_points_0:ft,emscripten_bind_Mesh_set_num_points_1:function(e,t){t|=0,p[(e|=0)+80>>2]=t},emscripten_bind_Mesh___destroy___0:ht,emscripten_bind_PointCloudBuilder_PointCloudBuilder_0:bt,emscripten_bind_PointCloudBuilder_AddFloatAttribute_5:At,emscripten_bind_PointCloudBuilder_AddInt8Attribute_5:yt,emscripten_bind_PointCloudBuilder_AddUInt8Attribute_5:gt,emscripten_bind_PointCloudBuilder_AddInt16Attribute_5:kt,emscripten_bind_PointCloudBuilder_AddUInt16Attribute_5:xt,emscripten_bind_PointCloudBuilder_AddInt32Attribute_5:vt,emscripten_bind_PointCloudBuilder_AddUInt32Attribute_5:St,emscripten_bind_PointCloudBuilder_AddMetadata_2:Tt,emscripten_bind_PointCloudBuilder_SetMetadataForAttribute_3:wt,emscripten_bind_PointCloudBuilder___destroy___0:Et,emscripten_bind_VoidPtr___destroy___0:Et,emscripten_bind_Metadata_Metadata_0:function(){var e,t,i=0;return e=oo(24),p[(i=t=e+4|0)>>2]=0,p[i+4>>2]=0,p[(i=e+16|0)>>2]=0,p[i+4>>2]=0,p[e>>2]=t,p[e+12>>2]=i,0|e},emscripten_bind_Metadata___destroy___0:function(e){(e|=0)&&(Mt(e+12|0,p[e+16>>2]),Pt(e,p[e+4>>2]),Mo(e))},emscripten_enum_draco_MeshEncoderMethod_MESH_SEQUENTIAL_ENCODING:Rt,emscripten_enum_draco_MeshEncoderMethod_MESH_EDGEBREAKER_ENCODING:Ct,emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE:Ot,emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD:Rt,emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH:Ct,emscripten_enum_draco_GeometryAttribute_Type_INVALID:Ot,emscripten_enum_draco_GeometryAttribute_Type_POSITION:Rt,emscripten_enum_draco_GeometryAttribute_Type_NORMAL:Ct,emscripten_enum_draco_GeometryAttribute_Type_COLOR:function(){return 2},emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD:function(){return 3},emscripten_enum_draco_GeometryAttribute_Type_GENERIC:function(){return 4},setThrew:function(e,t){e|=0,t|=0,p[4824]||(p[4825]=t,p[4824]=e)},_ZSt18uncaught_exceptionv:Rt,free:Mo,malloc:Eo,stackSave:function(){return 0|V},stackAlloc:function(e){return V=e=V-(e|=0)&-16,0|e},stackRestore:function(e){V=e|=0},__growWasmMemory:function(t){return 0|function(t){t|=0;var i=0|Wo(),a=i+t|0;if(i<a&&a<65536){var s=new ArrayBuffer(y(a,65536)),o=new e.Int8Array(s);o.set(l),l=o,l=new e.Int8Array(s),d=new e.Int16Array(s),p=new e.Int32Array(s),_=new e.Uint8Array(s),m=new e.Uint16Array(s),b=new e.Uint32Array(s),A=new e.Float32Array(s),v=new e.Float64Array(s),r=s,n.buffer=s}return i}(0|(t|=0))},dynCall_ii:function(e,t){return t|=0,0|a[e|=0](t)},dynCall_vi:function(e,t){t|=0,a[e|=0](t)},dynCall_iii:function(e,t,i){return t|=0,i|=0,0|a[e|=0](t,i)},dynCall_vii:function(e,t,i){t|=0,i|=0,a[e|=0](t,i)},dynCall_iiii:function(e,t,i,r){return t|=0,i|=0,r|=0,0|a[e|=0](t,i,r)},dynCall_v:function(e){a[e|=0]()},dynCall_viii:function(e,t,i,r){t|=0,i|=0,r|=0,a[e|=0](t,i,r)},dynCall_iiiiiii:function(e,t,i,r,n,s,o){return t|=0,i|=0,r|=0,n|=0,s|=0,o|=0,0|a[e|=0](t,i,r,n,s,o)},dynCall_viiii:function(e,t,i,r,n){t|=0,i|=0,r|=0,n|=0,a[e|=0](t,i,r,n)},dynCall_iidiiii:function(e,t,i,r,n,s,o){return t|=0,i=+i,r|=0,n|=0,s|=0,o|=0,0|a[e|=0](t,i,r,n,s,o)},dynCall_jiji:function(e,t,i,r,n){return t|=0,i|=0,r|=0,n|=0,e=0|a[e|=0](t,i,r,n),L(0|z),0|e},dynCall_viiiiii:function(e,t,i,r,n,s,o){t|=0,i|=0,r|=0,n|=0,s|=0,o|=0,a[e|=0](t,i,r,n,s,o)},dynCall_viiiii:function(e,t,i,r,n,s){t|=0,i|=0,r|=0,n|=0,s|=0,a[e|=0](t,i,r,n,s)}}}({Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0,Math:Math},e,t.buffer)}(Ze,C,I)}},instantiate:function(e,t){return{then:function(i,r){i({instance:new O.Instance(new O.Module(e,t))})}}},RuntimeError:Error};E=[],"object"!==typeof O&&w("no native wasm support detected");var I=new O.Table({initial:380,maximum:380,element:"anyfunc"}),D=!1;function F(e,t){e||Ae("Assertion failed: "+t)}var N="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function B(e,t,i){for(var r=t+i,n=t;e[n]&&!(n>=r);)++n;if(n-t>16&&e.subarray&&N)return N.decode(e.subarray(t,n));for(var a="";t<n;){var s=e[t++];if(128&s){var o=63&e[t++];if(192!=(224&s)){var l=63&e[t++];if((s=224==(240&s)?(15&s)<<12|o<<6|l:(7&s)<<18|o<<12|l<<6|63&e[t++])<65536)a+=String.fromCharCode(s);else{var c=s-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&s)<<6|o)}else a+=String.fromCharCode(s)}return a}function L(e,t){return e?B(G,e,t):""}function U(e,t,i,r){if(!(r>0))return 0;for(var n=i,a=i+r-1,s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o>=55296&&o<=57343)o=65536+((1023&o)<<10)|1023&e.charCodeAt(++s);if(o<=127){if(i>=a)break;t[i++]=o}else if(o<=2047){if(i+1>=a)break;t[i++]=192|o>>6,t[i++]=128|63&o}else if(o<=65535){if(i+2>=a)break;t[i++]=224|o>>12,t[i++]=128|o>>6&63,t[i++]=128|63&o}else{if(i+3>=a)break;t[i++]=240|o>>18,t[i++]=128|o>>12&63,t[i++]=128|o>>6&63,t[i++]=128|63&o}}return t[i]=0,i-n}function V(e){for(var t=0,i=0;i<e.length;++i){var r=e.charCodeAt(i);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++i)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");function z(e,t,i){for(var r=0;r<e.length;++r)W[t++>>0]=e.charCodeAt(r);i||(W[t>>0]=0)}var j,W,G,H,Y,X,Z=65536;function Q(e,t){return e%t>0&&(e+=t-e%t),e}function J(e){j=e,s.HEAP8=W=new Int8Array(e),s.HEAP16=H=new Int16Array(e),s.HEAP32=Y=new Int32Array(e),s.HEAPU8=G=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAPU32=new Uint32Array(e),s.HEAPF32=X=new Float32Array(e),s.HEAPF64=new Float64Array(e)}var q=5262352,K=19312,$=s.TOTAL_MEMORY||16777216;function ee(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var i=t.func;"number"===typeof i?void 0===t.arg?s.dynCall_v(i):s.dynCall_vi(i,t.arg):i(void 0===t.arg?null:t.arg)}else t()}}(C=s.wasmMemory?s.wasmMemory:new O.Memory({initial:$/Z}))&&(j=C.buffer),$=j.byteLength,J(j),Y[K>>2]=q;var te=[],ie=[],re=[],ne=[],ae=!1;function se(){if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)fe(s.preRun.shift());ee(te)}function oe(){ae=!0,ee(ie)}function le(){ee(re)}function ce(){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;)ue(s.postRun.shift());ee(ne)}function fe(e){te.unshift(e)}function he(e){re.unshift(e)}function ue(e){ne.unshift(e)}Math.abs,Math.ceil,Math.floor,Math.min;var de=0,pe=null,_e=null;function me(e){de++,s.monitorRunDependencies&&s.monitorRunDependencies(de)}function be(e){if(de--,s.monitorRunDependencies&&s.monitorRunDependencies(de),0==de&&(null!==pe&&(clearInterval(pe),pe=null),_e)){var t=_e;_e=null,t()}}function Ae(e){throw s.onAbort&&s.onAbort(e),T(e+=""),w(e),D=!0,1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new O.RuntimeError(e)}s.preloadedImages={},s.preloadedAudios={};var ve="data:application/octet-stream;base64,";function ye(e){return String.prototype.startsWith?e.startsWith(ve):0===e.indexOf(ve)}var ge="draco_encoder.wasm";function ke(){try{if(E)return new Uint8Array(E);var e=Xe(ge);if(e)return e;if(y)return y(ge);throw"both async and sync fetching of the wasm failed"}catch(w){Ae(w)}}function xe(){return E||!p&&!_||"function"!==typeof fetch?new Promise((function(e,t){e(ke())})):fetch(ge,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ge+"'";return e.arrayBuffer()})).catch((function(){return ke()}))}function Se(){var e={env:Ze,wasi_unstable:Ze};function t(e,t){var i=e.exports;s.asm=i,be()}function i(e){t(e.instance)}function r(t){return xe().then((function(t){return O.instantiate(t,e)})).then(t,(function(e){w("failed to asynchronously prepare wasm: "+e),Ae(e)}))}if(me(),s.instantiateWasm)try{return s.instantiateWasm(e,t)}catch(n){return w("Module.instantiateWasm callback failed with error: "+n),!1}return function(){if(E||"function"!==typeof O.instantiateStreaming||ye(ge)||"function"!==typeof fetch)return r(i);fetch(ge,{credentials:"same-origin"}).then((function(t){return O.instantiateStreaming(t,e).then(i,(function(e){w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),r(i)}))}))}(),{}}function Te(e){return Bi(e)}ye(ge)||(ge=S(ge)),ie.push({func:function(){qe()}});var we={};function Ee(e,t,i){throw we[e]={ptr:e,adjusted:[e],type:t,destructor:i,refcount:0,caught:!1,rethrown:!1},e,"uncaught_exception"in Ni?Ni.uncaught_exceptions++:Ni.uncaught_exceptions=1,e}function Me(){Ae()}function Pe(){return W.length}function Re(){return 19312}function Ce(e,t,i){G.set(G.subarray(t,t+i),e)}function Oe(e){try{return C.grow(e-j.byteLength+65535>>16),J(C.buffer),1}catch(t){}}function Ie(e){var t=Pe();if(e>2147418112)return!1;for(var i=Math.max(t,16777216);i<e;)i=i<=536870912?Q(2*i,65536):Math.min(Q((3*i+2147483648)/4,65536),2147418112);return!!Oe(i)}var De={};function Fe(){if(!Fe.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"===typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d};for(var t in De)e[t]=De[t];var i=[];for(var t in e)i.push(t+"="+e[t]);Fe.strings=i}return Fe.strings}function Ne(e,t){var i=Fe(),r=0;return i.forEach((function(i,n){var a=t+r;Y[e+4*n>>2]=a,z(i,a),r+=i.length+1})),0}function Be(e,t){var i=Fe();Y[e>>2]=i.length;var r=0;return i.forEach((function(e){r+=e.length+1})),Y[t>>2]=r,0}var Le={buffers:[null,[],[]],printChar:function(e,t){var i=Le.buffers[e];0===t||10===t?((1===e?T:w)(B(i,0)),i.length=0):i.push(t)},varargs:0,get:function(e){return Le.varargs+=4,Y[Le.varargs-4>>2]},getStr:function(){return L(Le.get())},get64:function(){var e=Le.get();Le.get();return e},getZero:function(){Le.get()}};function Ue(e){try{return 0}catch(t){return"undefined"!==typeof FS&&t instanceof FS.ErrnoError||Ae(t),t.errno}}function Ve(e,t,i,r,n){try{return 0}catch(a){return"undefined"!==typeof FS&&a instanceof FS.ErrnoError||Ae(a),a.errno}}function ze(e,t,i,r){try{for(var n=0,a=0;a<i;a++){for(var s=Y[t+8*a>>2],o=Y[t+(8*a+4)>>2],l=0;l<o;l++)Le.printChar(e,G[s+l]);n+=o}return Y[r>>2]=n,0}catch(c){return"undefined"!==typeof FS&&c instanceof FS.ErrnoError||Ae(c),c.errno}}var je=!1;function We(e,t,i){var r=i>0?i:V(e)+1,n=new Array(r),a=U(e,n,0,n.length);return t&&(n.length=a),n}function Ge(e){for(var t=[],i=0;i<e.length;i++){var r=e[i];r>255&&(je&&F(!1,"Character code "+r+" ("+String.fromCharCode(r)+")  at offset "+i+" not in 0x00-0xFF."),r&=255),t.push(String.fromCharCode(r))}return t.join("")}var He="function"===typeof atob?atob:function(e){var t,i,r,n,a,s,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",c=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=o.indexOf(e.charAt(c++))<<2|(n=o.indexOf(e.charAt(c++)))>>4,i=(15&n)<<4|(a=o.indexOf(e.charAt(c++)))>>2,r=(3&a)<<6|(s=o.indexOf(e.charAt(c++))),l+=String.fromCharCode(t),64!==a&&(l+=String.fromCharCode(i)),64!==s&&(l+=String.fromCharCode(r))}while(c<e.length);return l};function Ye(e){if("boolean"===typeof m&&m){var t;try{t=a.from(e,"base64")}catch(s){t=new a(e,"base64")}return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}try{for(var i=He(e),r=new Uint8Array(i.length),n=0;n<i.length;++n)r[n]=i.charCodeAt(n);return r}catch(s){throw new Error("Converting base64 string to bytes failed.")}}function Xe(e){if(ye(e))return Ye(e.slice(ve.length))}var Ze={__cxa_allocate_exception:Te,__cxa_throw:Ee,abort:Me,emscripten_get_sbrk_ptr:Re,emscripten_memcpy_big:Ce,emscripten_resize_heap:Ie,environ_get:Ne,environ_sizes_get:Be,fd_close:Ue,fd_seek:Ve,fd_write:ze,getTempRet0:R,memory:C,setTempRet0:P,table:I},Qe=Se();s.asm=Qe;var Je,qe=s.___wasm_call_ctors=function(){return s.asm.__wasm_call_ctors.apply(null,arguments)},Ke=s._emscripten_bind_PointCloud_PointCloud_0=function(){return s.asm.emscripten_bind_PointCloud_PointCloud_0.apply(null,arguments)},$e=s._emscripten_bind_PointCloud_num_attributes_0=function(){return s.asm.emscripten_bind_PointCloud_num_attributes_0.apply(null,arguments)},et=s._emscripten_bind_PointCloud_num_points_0=function(){return s.asm.emscripten_bind_PointCloud_num_points_0.apply(null,arguments)},tt=s._emscripten_bind_PointCloud___destroy___0=function(){return s.asm.emscripten_bind_PointCloud___destroy___0.apply(null,arguments)},it=s._emscripten_bind_ExpertEncoder_ExpertEncoder_1=function(){return s.asm.emscripten_bind_ExpertEncoder_ExpertEncoder_1.apply(null,arguments)},rt=s._emscripten_bind_ExpertEncoder_SetEncodingMethod_1=function(){return s.asm.emscripten_bind_ExpertEncoder_SetEncodingMethod_1.apply(null,arguments)},nt=s._emscripten_bind_ExpertEncoder_SetAttributeQuantization_2=function(){return s.asm.emscripten_bind_ExpertEncoder_SetAttributeQuantization_2.apply(null,arguments)},at=s._emscripten_bind_ExpertEncoder_SetAttributeExplicitQuantization_5=function(){return s.asm.emscripten_bind_ExpertEncoder_SetAttributeExplicitQuantization_5.apply(null,arguments)},st=s._emscripten_bind_ExpertEncoder_SetSpeedOptions_2=function(){return s.asm.emscripten_bind_ExpertEncoder_SetSpeedOptions_2.apply(null,arguments)},ot=s._emscripten_bind_ExpertEncoder_SetTrackEncodedProperties_1=function(){return s.asm.emscripten_bind_ExpertEncoder_SetTrackEncodedProperties_1.apply(null,arguments)},lt=s._emscripten_bind_ExpertEncoder_EncodeToDracoBuffer_2=function(){return s.asm.emscripten_bind_ExpertEncoder_EncodeToDracoBuffer_2.apply(null,arguments)},ct=s._emscripten_bind_ExpertEncoder_GetNumberOfEncodedPoints_0=function(){return s.asm.emscripten_bind_ExpertEncoder_GetNumberOfEncodedPoints_0.apply(null,arguments)},ft=s._emscripten_bind_ExpertEncoder_GetNumberOfEncodedFaces_0=function(){return s.asm.emscripten_bind_ExpertEncoder_GetNumberOfEncodedFaces_0.apply(null,arguments)},ht=s._emscripten_bind_ExpertEncoder___destroy___0=function(){return s.asm.emscripten_bind_ExpertEncoder___destroy___0.apply(null,arguments)},ut=s._emscripten_bind_PointAttribute_PointAttribute_0=function(){return s.asm.emscripten_bind_PointAttribute_PointAttribute_0.apply(null,arguments)},dt=s._emscripten_bind_PointAttribute_size_0=function(){return s.asm.emscripten_bind_PointAttribute_size_0.apply(null,arguments)},pt=s._emscripten_bind_PointAttribute_attribute_type_0=function(){return s.asm.emscripten_bind_PointAttribute_attribute_type_0.apply(null,arguments)},_t=s._emscripten_bind_PointAttribute_data_type_0=function(){return s.asm.emscripten_bind_PointAttribute_data_type_0.apply(null,arguments)},mt=s._emscripten_bind_PointAttribute_num_components_0=function(){return s.asm.emscripten_bind_PointAttribute_num_components_0.apply(null,arguments)},bt=s._emscripten_bind_PointAttribute_normalized_0=function(){return s.asm.emscripten_bind_PointAttribute_normalized_0.apply(null,arguments)},At=s._emscripten_bind_PointAttribute_byte_stride_0=function(){return s.asm.emscripten_bind_PointAttribute_byte_stride_0.apply(null,arguments)},vt=s._emscripten_bind_PointAttribute_byte_offset_0=function(){return s.asm.emscripten_bind_PointAttribute_byte_offset_0.apply(null,arguments)},yt=s._emscripten_bind_PointAttribute_unique_id_0=function(){return s.asm.emscripten_bind_PointAttribute_unique_id_0.apply(null,arguments)},gt=s._emscripten_bind_PointAttribute___destroy___0=function(){return s.asm.emscripten_bind_PointAttribute___destroy___0.apply(null,arguments)},kt=s._emscripten_bind_Encoder_Encoder_0=function(){return s.asm.emscripten_bind_Encoder_Encoder_0.apply(null,arguments)},xt=s._emscripten_bind_Encoder_SetEncodingMethod_1=function(){return s.asm.emscripten_bind_Encoder_SetEncodingMethod_1.apply(null,arguments)},St=s._emscripten_bind_Encoder_SetAttributeQuantization_2=function(){return s.asm.emscripten_bind_Encoder_SetAttributeQuantization_2.apply(null,arguments)},Tt=s._emscripten_bind_Encoder_SetAttributeExplicitQuantization_5=function(){return s.asm.emscripten_bind_Encoder_SetAttributeExplicitQuantization_5.apply(null,arguments)},wt=s._emscripten_bind_Encoder_SetSpeedOptions_2=function(){return s.asm.emscripten_bind_Encoder_SetSpeedOptions_2.apply(null,arguments)},Et=s._emscripten_bind_Encoder_SetTrackEncodedProperties_1=function(){return s.asm.emscripten_bind_Encoder_SetTrackEncodedProperties_1.apply(null,arguments)},Mt=s._emscripten_bind_Encoder_EncodeMeshToDracoBuffer_2=function(){return s.asm.emscripten_bind_Encoder_EncodeMeshToDracoBuffer_2.apply(null,arguments)},Pt=s._emscripten_bind_Encoder_EncodePointCloudToDracoBuffer_3=function(){return s.asm.emscripten_bind_Encoder_EncodePointCloudToDracoBuffer_3.apply(null,arguments)},Rt=s._emscripten_bind_Encoder_GetNumberOfEncodedPoints_0=function(){return s.asm.emscripten_bind_Encoder_GetNumberOfEncodedPoints_0.apply(null,arguments)},Ct=s._emscripten_bind_Encoder_GetNumberOfEncodedFaces_0=function(){return s.asm.emscripten_bind_Encoder_GetNumberOfEncodedFaces_0.apply(null,arguments)},Ot=s._emscripten_bind_Encoder___destroy___0=function(){return s.asm.emscripten_bind_Encoder___destroy___0.apply(null,arguments)},It=s._emscripten_bind_MeshBuilder_MeshBuilder_0=function(){return s.asm.emscripten_bind_MeshBuilder_MeshBuilder_0.apply(null,arguments)},Dt=s._emscripten_bind_MeshBuilder_AddFacesToMesh_3=function(){return s.asm.emscripten_bind_MeshBuilder_AddFacesToMesh_3.apply(null,arguments)},Ft=s._emscripten_bind_MeshBuilder_AddFloatAttributeToMesh_5=function(){return s.asm.emscripten_bind_MeshBuilder_AddFloatAttributeToMesh_5.apply(null,arguments)},Nt=s._emscripten_bind_MeshBuilder_AddInt32AttributeToMesh_5=function(){return s.asm.emscripten_bind_MeshBuilder_AddInt32AttributeToMesh_5.apply(null,arguments)},Bt=s._emscripten_bind_MeshBuilder_AddMetadataToMesh_2=function(){return s.asm.emscripten_bind_MeshBuilder_AddMetadataToMesh_2.apply(null,arguments)},Lt=s._emscripten_bind_MeshBuilder_AddFloatAttribute_5=function(){return s.asm.emscripten_bind_MeshBuilder_AddFloatAttribute_5.apply(null,arguments)},Ut=s._emscripten_bind_MeshBuilder_AddInt8Attribute_5=function(){return s.asm.emscripten_bind_MeshBuilder_AddInt8Attribute_5.apply(null,arguments)},Vt=s._emscripten_bind_MeshBuilder_AddUInt8Attribute_5=function(){return s.asm.emscripten_bind_MeshBuilder_AddUInt8Attribute_5.apply(null,arguments)},zt=s._emscripten_bind_MeshBuilder_AddInt16Attribute_5=function(){return s.asm.emscripten_bind_MeshBuilder_AddInt16Attribute_5.apply(null,arguments)},jt=s._emscripten_bind_MeshBuilder_AddUInt16Attribute_5=function(){return s.asm.emscripten_bind_MeshBuilder_AddUInt16Attribute_5.apply(null,arguments)},Wt=s._emscripten_bind_MeshBuilder_AddInt32Attribute_5=function(){return s.asm.emscripten_bind_MeshBuilder_AddInt32Attribute_5.apply(null,arguments)},Gt=s._emscripten_bind_MeshBuilder_AddUInt32Attribute_5=function(){return s.asm.emscripten_bind_MeshBuilder_AddUInt32Attribute_5.apply(null,arguments)},Ht=s._emscripten_bind_MeshBuilder_AddMetadata_2=function(){return s.asm.emscripten_bind_MeshBuilder_AddMetadata_2.apply(null,arguments)},Yt=s._emscripten_bind_MeshBuilder_SetMetadataForAttribute_3=function(){return s.asm.emscripten_bind_MeshBuilder_SetMetadataForAttribute_3.apply(null,arguments)},Xt=s._emscripten_bind_MeshBuilder___destroy___0=function(){return s.asm.emscripten_bind_MeshBuilder___destroy___0.apply(null,arguments)},Zt=s._emscripten_bind_DracoInt8Array_DracoInt8Array_0=function(){return s.asm.emscripten_bind_DracoInt8Array_DracoInt8Array_0.apply(null,arguments)},Qt=s._emscripten_bind_DracoInt8Array_GetValue_1=function(){return s.asm.emscripten_bind_DracoInt8Array_GetValue_1.apply(null,arguments)},Jt=s._emscripten_bind_DracoInt8Array_size_0=function(){return s.asm.emscripten_bind_DracoInt8Array_size_0.apply(null,arguments)},qt=s._emscripten_bind_DracoInt8Array___destroy___0=function(){return s.asm.emscripten_bind_DracoInt8Array___destroy___0.apply(null,arguments)},Kt=s._emscripten_bind_MetadataBuilder_MetadataBuilder_0=function(){return s.asm.emscripten_bind_MetadataBuilder_MetadataBuilder_0.apply(null,arguments)},$t=s._emscripten_bind_MetadataBuilder_AddStringEntry_3=function(){return s.asm.emscripten_bind_MetadataBuilder_AddStringEntry_3.apply(null,arguments)},ei=s._emscripten_bind_MetadataBuilder_AddIntEntry_3=function(){return s.asm.emscripten_bind_MetadataBuilder_AddIntEntry_3.apply(null,arguments)},ti=s._emscripten_bind_MetadataBuilder_AddDoubleEntry_3=function(){return s.asm.emscripten_bind_MetadataBuilder_AddDoubleEntry_3.apply(null,arguments)},ii=s._emscripten_bind_MetadataBuilder___destroy___0=function(){return s.asm.emscripten_bind_MetadataBuilder___destroy___0.apply(null,arguments)},ri=s._emscripten_bind_GeometryAttribute_GeometryAttribute_0=function(){return s.asm.emscripten_bind_GeometryAttribute_GeometryAttribute_0.apply(null,arguments)},ni=s._emscripten_bind_GeometryAttribute___destroy___0=function(){return s.asm.emscripten_bind_GeometryAttribute___destroy___0.apply(null,arguments)},ai=s._emscripten_bind_Mesh_Mesh_0=function(){return s.asm.emscripten_bind_Mesh_Mesh_0.apply(null,arguments)},si=s._emscripten_bind_Mesh_num_faces_0=function(){return s.asm.emscripten_bind_Mesh_num_faces_0.apply(null,arguments)},oi=s._emscripten_bind_Mesh_num_attributes_0=function(){return s.asm.emscripten_bind_Mesh_num_attributes_0.apply(null,arguments)},li=s._emscripten_bind_Mesh_num_points_0=function(){return s.asm.emscripten_bind_Mesh_num_points_0.apply(null,arguments)},ci=s._emscripten_bind_Mesh_set_num_points_1=function(){return s.asm.emscripten_bind_Mesh_set_num_points_1.apply(null,arguments)},fi=s._emscripten_bind_Mesh___destroy___0=function(){return s.asm.emscripten_bind_Mesh___destroy___0.apply(null,arguments)},hi=s._emscripten_bind_PointCloudBuilder_PointCloudBuilder_0=function(){return s.asm.emscripten_bind_PointCloudBuilder_PointCloudBuilder_0.apply(null,arguments)},ui=s._emscripten_bind_PointCloudBuilder_AddFloatAttribute_5=function(){return s.asm.emscripten_bind_PointCloudBuilder_AddFloatAttribute_5.apply(null,arguments)},di=s._emscripten_bind_PointCloudBuilder_AddInt8Attribute_5=function(){return s.asm.emscripten_bind_PointCloudBuilder_AddInt8Attribute_5.apply(null,arguments)},pi=s._emscripten_bind_PointCloudBuilder_AddUInt8Attribute_5=function(){return s.asm.emscripten_bind_PointCloudBuilder_AddUInt8Attribute_5.apply(null,arguments)},_i=s._emscripten_bind_PointCloudBuilder_AddInt16Attribute_5=function(){return s.asm.emscripten_bind_PointCloudBuilder_AddInt16Attribute_5.apply(null,arguments)},mi=s._emscripten_bind_PointCloudBuilder_AddUInt16Attribute_5=function(){return s.asm.emscripten_bind_PointCloudBuilder_AddUInt16Attribute_5.apply(null,arguments)},bi=s._emscripten_bind_PointCloudBuilder_AddInt32Attribute_5=function(){return s.asm.emscripten_bind_PointCloudBuilder_AddInt32Attribute_5.apply(null,arguments)},Ai=s._emscripten_bind_PointCloudBuilder_AddUInt32Attribute_5=function(){return s.asm.emscripten_bind_PointCloudBuilder_AddUInt32Attribute_5.apply(null,arguments)},vi=s._emscripten_bind_PointCloudBuilder_AddMetadata_2=function(){return s.asm.emscripten_bind_PointCloudBuilder_AddMetadata_2.apply(null,arguments)},yi=s._emscripten_bind_PointCloudBuilder_SetMetadataForAttribute_3=function(){return s.asm.emscripten_bind_PointCloudBuilder_SetMetadataForAttribute_3.apply(null,arguments)},gi=s._emscripten_bind_PointCloudBuilder___destroy___0=function(){return s.asm.emscripten_bind_PointCloudBuilder___destroy___0.apply(null,arguments)},ki=s._emscripten_bind_VoidPtr___destroy___0=function(){return s.asm.emscripten_bind_VoidPtr___destroy___0.apply(null,arguments)},xi=s._emscripten_bind_Metadata_Metadata_0=function(){return s.asm.emscripten_bind_Metadata_Metadata_0.apply(null,arguments)},Si=s._emscripten_bind_Metadata___destroy___0=function(){return s.asm.emscripten_bind_Metadata___destroy___0.apply(null,arguments)},Ti=s._emscripten_enum_draco_MeshEncoderMethod_MESH_SEQUENTIAL_ENCODING=function(){return s.asm.emscripten_enum_draco_MeshEncoderMethod_MESH_SEQUENTIAL_ENCODING.apply(null,arguments)},wi=s._emscripten_enum_draco_MeshEncoderMethod_MESH_EDGEBREAKER_ENCODING=function(){return s.asm.emscripten_enum_draco_MeshEncoderMethod_MESH_EDGEBREAKER_ENCODING.apply(null,arguments)},Ei=s._emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE=function(){return s.asm.emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE.apply(null,arguments)},Mi=s._emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD=function(){return s.asm.emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD.apply(null,arguments)},Pi=s._emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH=function(){return s.asm.emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH.apply(null,arguments)},Ri=s._emscripten_enum_draco_GeometryAttribute_Type_INVALID=function(){return s.asm.emscripten_enum_draco_GeometryAttribute_Type_INVALID.apply(null,arguments)},Ci=s._emscripten_enum_draco_GeometryAttribute_Type_POSITION=function(){return s.asm.emscripten_enum_draco_GeometryAttribute_Type_POSITION.apply(null,arguments)},Oi=s._emscripten_enum_draco_GeometryAttribute_Type_NORMAL=function(){return s.asm.emscripten_enum_draco_GeometryAttribute_Type_NORMAL.apply(null,arguments)},Ii=s._emscripten_enum_draco_GeometryAttribute_Type_COLOR=function(){return s.asm.emscripten_enum_draco_GeometryAttribute_Type_COLOR.apply(null,arguments)},Di=s._emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD=function(){return s.asm.emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD.apply(null,arguments)},Fi=s._emscripten_enum_draco_GeometryAttribute_Type_GENERIC=function(){return s.asm.emscripten_enum_draco_GeometryAttribute_Type_GENERIC.apply(null,arguments)},Ni=(s._setThrew=function(){return s.asm.setThrew.apply(null,arguments)},s.__ZSt18uncaught_exceptionv=function(){return s.asm._ZSt18uncaught_exceptionv.apply(null,arguments)}),Bi=(s._free=function(){return s.asm.free.apply(null,arguments)},s._malloc=function(){return s.asm.malloc.apply(null,arguments)}),Li=(s.stackSave=function(){return s.asm.stackSave.apply(null,arguments)},s.stackAlloc=function(){return s.asm.stackAlloc.apply(null,arguments)},s.stackRestore=function(){return s.asm.stackRestore.apply(null,arguments)},s.__growWasmMemory=function(){return s.asm.__growWasmMemory.apply(null,arguments)});s.dynCall_ii=function(){return s.asm.dynCall_ii.apply(null,arguments)},s.dynCall_vi=function(){return s.asm.dynCall_vi.apply(null,arguments)},s.dynCall_iii=function(){return s.asm.dynCall_iii.apply(null,arguments)},s.dynCall_vii=function(){return s.asm.dynCall_vii.apply(null,arguments)},s.dynCall_iiii=function(){return s.asm.dynCall_iiii.apply(null,arguments)},s.dynCall_v=function(){return s.asm.dynCall_v.apply(null,arguments)},s.dynCall_viii=function(){return s.asm.dynCall_viii.apply(null,arguments)},s.dynCall_iiiiiii=function(){return s.asm.dynCall_iiiiiii.apply(null,arguments)},s.dynCall_viiii=function(){return s.asm.dynCall_viiii.apply(null,arguments)},s.dynCall_iidiiii=function(){return s.asm.dynCall_iidiiii.apply(null,arguments)},s.dynCall_jiji=function(){return s.asm.dynCall_jiji.apply(null,arguments)},s.dynCall_viiiiii=function(){return s.asm.dynCall_viiiiii.apply(null,arguments)},s.dynCall_viiiii=function(){return s.asm.dynCall_viiiii.apply(null,arguments)};function Ui(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Vi(e){function t(){Je||(Je=!0,D||(oe(),le(),s.onRuntimeInitialized&&s.onRuntimeInitialized(),ce()))}e=e||u,de>0||(se(),de>0||(s.setStatus?(s.setStatus("Running..."),setTimeout((function(){setTimeout((function(){s.setStatus("")}),1),t()}),1)):t()))}if(s.asm=Qe,s.then=function(e){if(Je)e(s);else{var t=s.onRuntimeInitialized;s.onRuntimeInitialized=function(){t&&t(),e(s)}}return s},_e=function e(){Je||Vi(),Je||(_e=e)},s.run=Vi,s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();function zi(){}function ji(e){return(e||zi).__cache__}function Wi(e,t){var i=ji(t),r=i[e];return r||((r=Object.create((t||zi).prototype)).ptr=e,i[e]=r)}function Gi(e,t){return Wi(e.ptr,t)}function Hi(e){if(!e.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";e.__destroy__(),delete ji(e.__class__)[e.ptr]}function Yi(e,t){return e.ptr===t.ptr}function Xi(e){return e.ptr}function Zi(e){return e.__class__}Vi(),zi.prototype=Object.create(zi.prototype),zi.prototype.constructor=zi,zi.prototype.__class__=zi,zi.__cache__={},s.WrapperObject=zi,s.getCache=ji,s.wrapPointer=Wi,s.castObject=Gi,s.NULL=Wi(0),s.destroy=Hi,s.compare=Yi,s.getPointer=Xi,s.getClass=Zi;var Qi={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Qi.needed){for(var e=0;e<Qi.temps.length;e++)s._free(Qi.temps[e]);Qi.temps.length=0,s._free(Qi.buffer),Qi.buffer=0,Qi.size+=Qi.needed,Qi.needed=0}Qi.buffer||(Qi.size+=128,Qi.buffer=s._malloc(Qi.size),F(Qi.buffer)),Qi.pos=0},alloc:function(e,t){F(Qi.buffer);var i,r=t.BYTES_PER_ELEMENT,n=e.length*r;return n=n+7&-8,Qi.pos+n>=Qi.size?(F(n>0),Qi.needed+=n,i=s._malloc(n),Qi.temps.push(i)):(i=Qi.buffer+Qi.pos,Qi.pos+=n),i},copy:function(e,t,i){var r=i;switch(t.BYTES_PER_ELEMENT){case 2:r>>=1;break;case 4:r>>=2;break;case 8:r>>=3}for(var n=0;n<e.length;n++)t[r+n]=e[n]}};function Ji(e){if("string"===typeof e){var t=We(e),i=Qi.alloc(t,W);return Qi.copy(t,W,i),i}return e}function qi(e){if("object"===typeof e){var t=Qi.alloc(e,W);return Qi.copy(e,W,t),t}return e}function Ki(e){if("object"===typeof e){var t=Qi.alloc(e,H);return Qi.copy(e,H,t),t}return e}function $i(e){if("object"===typeof e){var t=Qi.alloc(e,Y);return Qi.copy(e,Y,t),t}return e}function er(e){if("object"===typeof e){var t=Qi.alloc(e,X);return Qi.copy(e,X,t),t}return e}function tr(){this.ptr=Ke(),ji(tr)[this.ptr]=this}function ir(e){e&&"object"===typeof e&&(e=e.ptr),this.ptr=it(e),ji(ir)[this.ptr]=this}function rr(){this.ptr=ut(),ji(rr)[this.ptr]=this}function nr(){this.ptr=kt(),ji(nr)[this.ptr]=this}function ar(){this.ptr=It(),ji(ar)[this.ptr]=this}function sr(){this.ptr=Zt(),ji(sr)[this.ptr]=this}function or(){this.ptr=Kt(),ji(or)[this.ptr]=this}function lr(){this.ptr=ri(),ji(lr)[this.ptr]=this}function cr(){this.ptr=ai(),ji(cr)[this.ptr]=this}function fr(){this.ptr=hi(),ji(fr)[this.ptr]=this}function hr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function ur(){this.ptr=xi(),ji(ur)[this.ptr]=this}return tr.prototype=Object.create(zi.prototype),tr.prototype.constructor=tr,tr.prototype.__class__=tr,tr.__cache__={},s.PointCloud=tr,tr.prototype.num_attributes=tr.prototype.num_attributes=function(){var e=this.ptr;return $e(e)},tr.prototype.num_points=tr.prototype.num_points=function(){var e=this.ptr;return et(e)},tr.prototype.__destroy__=tr.prototype.__destroy__=function(){var e=this.ptr;tt(e)},ir.prototype=Object.create(zi.prototype),ir.prototype.constructor=ir,ir.prototype.__class__=ir,ir.__cache__={},s.ExpertEncoder=ir,ir.prototype.SetEncodingMethod=ir.prototype.SetEncodingMethod=function(e){var t=this.ptr;e&&"object"===typeof e&&(e=e.ptr),rt(t,e)},ir.prototype.SetAttributeQuantization=ir.prototype.SetAttributeQuantization=function(e,t){var i=this.ptr;e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),nt(i,e,t)},ir.prototype.SetAttributeExplicitQuantization=ir.prototype.SetAttributeExplicitQuantization=function(e,t,i,r,n){var a=this.ptr;Qi.prepare(),e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),"object"==typeof r&&(r=er(r)),n&&"object"===typeof n&&(n=n.ptr),at(a,e,t,i,r,n)},ir.prototype.SetSpeedOptions=ir.prototype.SetSpeedOptions=function(e,t){var i=this.ptr;e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),st(i,e,t)},ir.prototype.SetTrackEncodedProperties=ir.prototype.SetTrackEncodedProperties=function(e){var t=this.ptr;e&&"object"===typeof e&&(e=e.ptr),ot(t,e)},ir.prototype.EncodeToDracoBuffer=ir.prototype.EncodeToDracoBuffer=function(e,t){var i=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),lt(i,e,t)},ir.prototype.GetNumberOfEncodedPoints=ir.prototype.GetNumberOfEncodedPoints=function(){var e=this.ptr;return ct(e)},ir.prototype.GetNumberOfEncodedFaces=ir.prototype.GetNumberOfEncodedFaces=function(){var e=this.ptr;return ft(e)},ir.prototype.__destroy__=ir.prototype.__destroy__=function(){var e=this.ptr;ht(e)},rr.prototype=Object.create(zi.prototype),rr.prototype.constructor=rr,rr.prototype.__class__=rr,rr.__cache__={},s.PointAttribute=rr,rr.prototype.size=rr.prototype.size=function(){var e=this.ptr;return dt(e)},rr.prototype.attribute_type=rr.prototype.attribute_type=function(){var e=this.ptr;return pt(e)},rr.prototype.data_type=rr.prototype.data_type=function(){var e=this.ptr;return _t(e)},rr.prototype.num_components=rr.prototype.num_components=function(){var e=this.ptr;return mt(e)},rr.prototype.normalized=rr.prototype.normalized=function(){var e=this.ptr;return!!bt(e)},rr.prototype.byte_stride=rr.prototype.byte_stride=function(){var e=this.ptr;return At(e)},rr.prototype.byte_offset=rr.prototype.byte_offset=function(){var e=this.ptr;return vt(e)},rr.prototype.unique_id=rr.prototype.unique_id=function(){var e=this.ptr;return yt(e)},rr.prototype.__destroy__=rr.prototype.__destroy__=function(){var e=this.ptr;gt(e)},nr.prototype=Object.create(zi.prototype),nr.prototype.constructor=nr,nr.prototype.__class__=nr,nr.__cache__={},s.Encoder=nr,nr.prototype.SetEncodingMethod=nr.prototype.SetEncodingMethod=function(e){var t=this.ptr;e&&"object"===typeof e&&(e=e.ptr),xt(t,e)},nr.prototype.SetAttributeQuantization=nr.prototype.SetAttributeQuantization=function(e,t){var i=this.ptr;e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),St(i,e,t)},nr.prototype.SetAttributeExplicitQuantization=nr.prototype.SetAttributeExplicitQuantization=function(e,t,i,r,n){var a=this.ptr;Qi.prepare(),e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),"object"==typeof r&&(r=er(r)),n&&"object"===typeof n&&(n=n.ptr),Tt(a,e,t,i,r,n)},nr.prototype.SetSpeedOptions=nr.prototype.SetSpeedOptions=function(e,t){var i=this.ptr;e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),wt(i,e,t)},nr.prototype.SetTrackEncodedProperties=nr.prototype.SetTrackEncodedProperties=function(e){var t=this.ptr;e&&"object"===typeof e&&(e=e.ptr),Et(t,e)},nr.prototype.EncodeMeshToDracoBuffer=nr.prototype.EncodeMeshToDracoBuffer=function(e,t){var i=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),Mt(i,e,t)},nr.prototype.EncodePointCloudToDracoBuffer=nr.prototype.EncodePointCloudToDracoBuffer=function(e,t,i){var r=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),Pt(r,e,t,i)},nr.prototype.GetNumberOfEncodedPoints=nr.prototype.GetNumberOfEncodedPoints=function(){var e=this.ptr;return Rt(e)},nr.prototype.GetNumberOfEncodedFaces=nr.prototype.GetNumberOfEncodedFaces=function(){var e=this.ptr;return Ct(e)},nr.prototype.__destroy__=nr.prototype.__destroy__=function(){var e=this.ptr;Ot(e)},ar.prototype=Object.create(zi.prototype),ar.prototype.constructor=ar,ar.prototype.__class__=ar,ar.__cache__={},s.MeshBuilder=ar,ar.prototype.AddFacesToMesh=ar.prototype.AddFacesToMesh=function(e,t,i){var r=this.ptr;return Qi.prepare(),e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),"object"==typeof i&&(i=$i(i)),!!Dt(r,e,t,i)},ar.prototype.AddFloatAttributeToMesh=ar.prototype.AddFloatAttributeToMesh=function(e,t,i,r,n){var a=this.ptr;return Qi.prepare(),e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),r&&"object"===typeof r&&(r=r.ptr),"object"==typeof n&&(n=er(n)),Ft(a,e,t,i,r,n)},ar.prototype.AddInt32AttributeToMesh=ar.prototype.AddInt32AttributeToMesh=function(e,t,i,r,n){var a=this.ptr;return Qi.prepare(),e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),r&&"object"===typeof r&&(r=r.ptr),"object"==typeof n&&(n=$i(n)),Nt(a,e,t,i,r,n)},ar.prototype.AddMetadataToMesh=ar.prototype.AddMetadataToMesh=function(e,t){var i=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),!!Bt(i,e,t)},ar.prototype.AddFloatAttribute=ar.prototype.AddFloatAttribute=function(e,t,i,r,n){var a=this.ptr;return Qi.prepare(),e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),r&&"object"===typeof r&&(r=r.ptr),"object"==typeof n&&(n=er(n)),Lt(a,e,t,i,r,n)},ar.prototype.AddInt8Attribute=ar.prototype.AddInt8Attribute=function(e,t,i,r,n){var a=this.ptr;return Qi.prepare(),e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),r&&"object"===typeof r&&(r=r.ptr),"object"==typeof n&&(n=qi(n)),Ut(a,e,t,i,r,n)},ar.prototype.AddUInt8Attribute=ar.prototype.AddUInt8Attribute=function(e,t,i,r,n){var a=this.ptr;return Qi.prepare(),e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),r&&"object"===typeof r&&(r=r.ptr),"object"==typeof n&&(n=qi(n)),Vt(a,e,t,i,r,n)},ar.prototype.AddInt16Attribute=ar.prototype.AddInt16Attribute=function(e,t,i,r,n){var a=this.ptr;return Qi.prepare(),e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),r&&"object"===typeof r&&(r=r.ptr),"object"==typeof n&&(n=Ki(n)),zt(a,e,t,i,r,n)},ar.prototype.AddUInt16Attribute=ar.prototype.AddUInt16Attribute=function(e,t,i,r,n){var a=this.ptr;return Qi.prepare(),e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),r&&"object"===typeof r&&(r=r.ptr),"object"==typeof n&&(n=Ki(n)),jt(a,e,t,i,r,n)},ar.prototype.AddInt32Attribute=ar.prototype.AddInt32Attribute=function(e,t,i,r,n){var a=this.ptr;return Qi.prepare(),e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),r&&"object"===typeof r&&(r=r.ptr),"object"==typeof n&&(n=$i(n)),Wt(a,e,t,i,r,n)},ar.prototype.AddUInt32Attribute=ar.prototype.AddUInt32Attribute=function(e,t,i,r,n){var a=this.ptr;return Qi.prepare(),e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),r&&"object"===typeof r&&(r=r.ptr),"object"==typeof n&&(n=$i(n)),Gt(a,e,t,i,r,n)},ar.prototype.AddMetadata=ar.prototype.AddMetadata=function(e,t){var i=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),!!Ht(i,e,t)},ar.prototype.SetMetadataForAttribute=ar.prototype.SetMetadataForAttribute=function(e,t,i){var r=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),!!Yt(r,e,t,i)},ar.prototype.__destroy__=ar.prototype.__destroy__=function(){var e=this.ptr;Xt(e)},sr.prototype=Object.create(zi.prototype),sr.prototype.constructor=sr,sr.prototype.__class__=sr,sr.__cache__={},s.DracoInt8Array=sr,sr.prototype.GetValue=sr.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),Qt(t,e)},sr.prototype.size=sr.prototype.size=function(){var e=this.ptr;return Jt(e)},sr.prototype.__destroy__=sr.prototype.__destroy__=function(){var e=this.ptr;qt(e)},or.prototype=Object.create(zi.prototype),or.prototype.constructor=or,or.prototype.__class__=or,or.__cache__={},s.MetadataBuilder=or,or.prototype.AddStringEntry=or.prototype.AddStringEntry=function(e,t,i){var r=this.ptr;return Qi.prepare(),e&&"object"===typeof e&&(e=e.ptr),t=t&&"object"===typeof t?t.ptr:Ji(t),i=i&&"object"===typeof i?i.ptr:Ji(i),!!$t(r,e,t,i)},or.prototype.AddIntEntry=or.prototype.AddIntEntry=function(e,t,i){var r=this.ptr;return Qi.prepare(),e&&"object"===typeof e&&(e=e.ptr),t=t&&"object"===typeof t?t.ptr:Ji(t),i&&"object"===typeof i&&(i=i.ptr),!!ei(r,e,t,i)},or.prototype.AddDoubleEntry=or.prototype.AddDoubleEntry=function(e,t,i){var r=this.ptr;return Qi.prepare(),e&&"object"===typeof e&&(e=e.ptr),t=t&&"object"===typeof t?t.ptr:Ji(t),i&&"object"===typeof i&&(i=i.ptr),!!ti(r,e,t,i)},or.prototype.__destroy__=or.prototype.__destroy__=function(){var e=this.ptr;ii(e)},lr.prototype=Object.create(zi.prototype),lr.prototype.constructor=lr,lr.prototype.__class__=lr,lr.__cache__={},s.GeometryAttribute=lr,lr.prototype.__destroy__=lr.prototype.__destroy__=function(){var e=this.ptr;ni(e)},cr.prototype=Object.create(zi.prototype),cr.prototype.constructor=cr,cr.prototype.__class__=cr,cr.__cache__={},s.Mesh=cr,cr.prototype.num_faces=cr.prototype.num_faces=function(){var e=this.ptr;return si(e)},cr.prototype.num_attributes=cr.prototype.num_attributes=function(){var e=this.ptr;return oi(e)},cr.prototype.num_points=cr.prototype.num_points=function(){var e=this.ptr;return li(e)},cr.prototype.set_num_points=cr.prototype.set_num_points=function(e){var t=this.ptr;e&&"object"===typeof e&&(e=e.ptr),ci(t,e)},cr.prototype.__destroy__=cr.prototype.__destroy__=function(){var e=this.ptr;fi(e)},fr.prototype=Object.create(zi.prototype),fr.prototype.constructor=fr,fr.prototype.__class__=fr,fr.__cache__={},s.PointCloudBuilder=fr,fr.prototype.AddFloatAttribute=fr.prototype.AddFloatAttribute=function(e,t,i,r,n){var a=this.ptr;return Qi.prepare(),e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),r&&"object"===typeof r&&(r=r.ptr),"object"==typeof n&&(n=er(n)),ui(a,e,t,i,r,n)},fr.prototype.AddInt8Attribute=fr.prototype.AddInt8Attribute=function(e,t,i,r,n){var a=this.ptr;return Qi.prepare(),e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),r&&"object"===typeof r&&(r=r.ptr),"object"==typeof n&&(n=qi(n)),di(a,e,t,i,r,n)},fr.prototype.AddUInt8Attribute=fr.prototype.AddUInt8Attribute=function(e,t,i,r,n){var a=this.ptr;return Qi.prepare(),e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),r&&"object"===typeof r&&(r=r.ptr),"object"==typeof n&&(n=qi(n)),pi(a,e,t,i,r,n)},fr.prototype.AddInt16Attribute=fr.prototype.AddInt16Attribute=function(e,t,i,r,n){var a=this.ptr;return Qi.prepare(),e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),r&&"object"===typeof r&&(r=r.ptr),"object"==typeof n&&(n=Ki(n)),_i(a,e,t,i,r,n)},fr.prototype.AddUInt16Attribute=fr.prototype.AddUInt16Attribute=function(e,t,i,r,n){var a=this.ptr;return Qi.prepare(),e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),r&&"object"===typeof r&&(r=r.ptr),"object"==typeof n&&(n=Ki(n)),mi(a,e,t,i,r,n)},fr.prototype.AddInt32Attribute=fr.prototype.AddInt32Attribute=function(e,t,i,r,n){var a=this.ptr;return Qi.prepare(),e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),r&&"object"===typeof r&&(r=r.ptr),"object"==typeof n&&(n=$i(n)),bi(a,e,t,i,r,n)},fr.prototype.AddUInt32Attribute=fr.prototype.AddUInt32Attribute=function(e,t,i,r,n){var a=this.ptr;return Qi.prepare(),e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),r&&"object"===typeof r&&(r=r.ptr),"object"==typeof n&&(n=$i(n)),Ai(a,e,t,i,r,n)},fr.prototype.AddMetadata=fr.prototype.AddMetadata=function(e,t){var i=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),!!vi(i,e,t)},fr.prototype.SetMetadataForAttribute=fr.prototype.SetMetadataForAttribute=function(e,t,i){var r=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),!!yi(r,e,t,i)},fr.prototype.__destroy__=fr.prototype.__destroy__=function(){var e=this.ptr;gi(e)},hr.prototype=Object.create(zi.prototype),hr.prototype.constructor=hr,hr.prototype.__class__=hr,hr.__cache__={},s.VoidPtr=hr,hr.prototype.__destroy__=hr.prototype.__destroy__=function(){var e=this.ptr;ki(e)},ur.prototype=Object.create(zi.prototype),ur.prototype.constructor=ur,ur.prototype.__class__=ur,ur.__cache__={},s.Metadata=ur,ur.prototype.__destroy__=ur.prototype.__destroy__=function(){var e=this.ptr;Si(e)},function(){function e(){s.MESH_SEQUENTIAL_ENCODING=Ti(),s.MESH_EDGEBREAKER_ENCODING=wi(),s.INVALID_GEOMETRY_TYPE=Ei(),s.POINT_CLOUD=Mi(),s.TRIANGULAR_MESH=Pi(),s.INVALID=Ri(),s.POSITION=Ci(),s.NORMAL=Oi(),s.COLOR=Ii(),s.TEX_COORD=Di(),s.GENERIC=Fi()}ae?e():he(e)}(),"function"===typeof s.onModuleParsed&&s.onModuleParsed(),t}}();e.exports=s}).call(this,"/index.js",i(54),"/",i(68).Buffer)},function(e,t,i){"use strict";t.byteLength=function(e){var t=c(e),i=t[0],r=t[1];return 3*(i+r)/4-r},t.toByteArray=function(e){var t,i,r=c(e),s=r[0],o=r[1],l=new a(function(e,t,i){return 3*(t+i)/4-i}(0,s,o)),f=0,h=o>0?s-4:s;for(i=0;i<h;i+=4)t=n[e.charCodeAt(i)]<<18|n[e.charCodeAt(i+1)]<<12|n[e.charCodeAt(i+2)]<<6|n[e.charCodeAt(i+3)],l[f++]=t>>16&255,l[f++]=t>>8&255,l[f++]=255&t;2===o&&(t=n[e.charCodeAt(i)]<<2|n[e.charCodeAt(i+1)]>>4,l[f++]=255&t);1===o&&(t=n[e.charCodeAt(i)]<<10|n[e.charCodeAt(i+1)]<<4|n[e.charCodeAt(i+2)]>>2,l[f++]=t>>8&255,l[f++]=255&t);return l},t.fromByteArray=function(e){for(var t,i=e.length,n=i%3,a=[],s=0,o=i-n;s<o;s+=16383)a.push(f(e,s,s+16383>o?o:s+16383));1===n?(t=e[i-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===n&&(t=(e[i-2]<<8)+e[i-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],n=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,l=s.length;o<l;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function f(e,t,i){for(var n,a,s=[],o=t;o<i;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(r[(a=n)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,i,r,n){var a,s,o=8*n-r-1,l=(1<<o)-1,c=l>>1,f=-7,h=i?n-1:0,u=i?-1:1,d=e[t+h];for(h+=u,a=d&(1<<-f)-1,d>>=-f,f+=o;f>0;a=256*a+e[t+h],h+=u,f-=8);for(s=a&(1<<-f)-1,a>>=-f,f+=r;f>0;s=256*s+e[t+h],h+=u,f-=8);if(0===a)a=1-c;else{if(a===l)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),a-=c}return(d?-1:1)*s*Math.pow(2,a-r)},t.write=function(e,t,i,r,n,a){var s,o,l,c=8*a-n-1,f=(1<<c)-1,h=f>>1,u=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,p=r?1:-1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+h>=1?u/l:u*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=f?(o=0,s=f):s+h>=1?(o=(t*l-1)*Math.pow(2,n),s+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,n),s=0));n>=8;e[i+d]=255&o,d+=p,o/=256,n-=8);for(s=s<<n|o,c+=n;c>0;e[i+d]=255&s,d+=p,s/=256,c-=8);e[i+d-p]|=128*_}},function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},function(e,t,i){(function(t,r,n,a){var s=function(){var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return e=e||t,function(t){var s="undefined"!==typeof(t=t||{})?t:{},o=!1,l=!1;function c(e){if("string"!==typeof e)return!1;var t=e.split(".");return!(t.length<2||t.length>3)&&(1==t[0]&&t[1]>=0&&t[1]<=3||!(0!=t[0]||t[1]>10))}s.onRuntimeInitialized=function(){o=!0,l&&"function"===typeof s.onModuleLoaded&&s.onModuleLoaded(s)},s.onModuleParsed=function(){l=!0,o&&"function"===typeof s.onModuleLoaded&&s.onModuleLoaded(s)},s.isVersionSupported=c;var f,h={};for(f in s)s.hasOwnProperty(f)&&(h[f]=s[f]);var u=[],d="./this.program",p=!1,_=!1,m=!1,b=!1,A=!1;p="object"===typeof window,_="function"===typeof importScripts,b="object"===typeof r&&"object"===typeof r.versions&&"string"===typeof r.versions.node,m=b&&!p&&!_,A=!p&&!m&&!_;var v,y,g,k,x="";function S(e){return s.locateFile?s.locateFile(e,x):x+e}m?(x=n+"/",v=function(e,t){var r=He(e);return r?t?r:r.toString():(g||(g=i(69)),k||(k=i(43)),e=k.normalize(e),g.readFileSync(e,t?null:"utf8"))},y=function(e){var t=v(e,!0);return t.buffer||(t=new Uint8Array(t)),F(t.buffer),t},r.argv.length>1&&(d=r.argv[1].replace(/\\/g,"/")),u=r.argv.slice(2),r.on("uncaughtException",(function(e){if(!(e instanceof Or))throw e})),r.on("unhandledRejection",me),function(e){r.exit(e)},s.inspect=function(){return"[Emscripten Module object]"}):A?("undefined"!=typeof read&&(v=function(e){var t=He(e);return t?je(t):read(e)}),y=function(e){var t;return(t=He(e))?t:"function"===typeof readbuffer?new Uint8Array(readbuffer(e)):(F("object"===typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?u=scriptArgs:"undefined"!=typeof arguments&&(u=arguments),"function"===typeof quit&&function(e){quit(e)},"undefined"!==typeof print&&("undefined"===typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!==typeof printErr?printErr:print)):(p||_)&&(_?x=self.location.href:document.currentScript&&(x=document.currentScript.src),e&&(x=e),x=0!==x.indexOf("blob:")?x.substr(0,x.lastIndexOf("/")+1):"",v=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText}catch(w){var i=He(e);if(i)return je(i);throw w}},_&&(y=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}catch(w){var i=He(e);if(i)return i;throw w}}),function(e,t,i){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){if(200==r.status||0==r.status&&r.response)t(r.response);else{var n=He(e);n?t(n.buffer):i()}},r.onerror=i,r.send(null)});var T=s.print||console.log.bind(console),w=s.printErr||console.warn.bind(console);for(f in h)h.hasOwnProperty(f)&&(s[f]=h[f]);h=null,s.arguments&&(u=s.arguments),s.thisProgram&&(d=s.thisProgram),s.quit&&s.quit;var E,M=0,P=function(e){M=e},R=function(){return M};s.wasmBinary&&(E=s.wasmBinary),s.noExitRuntime&&s.noExitRuntime;var C,O={Memory:function(e){return{buffer:new ArrayBuffer(65536*e.initial),grow:function(e){return Cr(e)}}},Table:function(e){var t=new Array(e.initial);return t.grow=function(e){t.length>=381&&me("Unable to grow wasm table. Use a higher value for RESERVED_FUNCTION_POINTERS or set ALLOW_TABLE_GROWTH."),t.push(null)},t.set=function(e,i){t[e]=i},t.get=function(e){return t[e]},t},Module:function(e){return{}},Instance:function(e,t){var i="function"===typeof r?r:function(e){var t,i,r,n,a,s,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",c=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=o.indexOf(e.charAt(c++))<<2|(n=o.indexOf(e.charAt(c++)))>>4,i=(15&n)<<4|(a=o.indexOf(e.charAt(c++)))>>2,r=(3&a)<<6|(s=o.indexOf(e.charAt(c++))),l+=String.fromCharCode(t),64!==a&&(l+=String.fromCharCode(i)),64!==s&&(l+=String.fromCharCode(r))}while(c<e.length);return l};var r=i;return{exports:function(e,t,i){var n=new ArrayBuffer(8),s=new Int32Array(n),o=new Float32Array(n),l=new Float64Array(n);function c(e){return s[e]}function f(e,t){s[e]=t}function h(){return l[0]}function u(e){l[0]=e}function d(e){o[0]=e}var p=function(e){var t=new Uint8Array(e);return function(e,i){var n,s;if("undefined"===typeof a)for(n=r(i),s=0;s<n.length;s++)t[e+s]=n.charCodeAt(s);else for(n=a.from(i,"base64"),s=0;s<n.length;s++)t[e+s]=n[s]}}(t.buffer);return p(1027,"wAAAAMAAAADAAAAAwGFsbG9jYXRvcjxUPjo6YWxsb2NhdGUoc2l6ZV90IG4pICduJyBleGNlZWRzIG1heGltdW0gc3VwcG9ydGVkIHNpemUAAAAAALwEAAACAAAAAwAAAAQAAAAFAAAABgAAAE41ZHJhY28yOEF0dHJpYnV0ZU9jdGFoZWRyb25UcmFuc2Zvcm1FAE41ZHJhY28xOEF0dHJpYnV0ZVRyYW5zZm9ybUUA+D4AAJcEAAAgPwAAcAQAALQEAAAAAAAAEAUAAAcAAAAIAAAACQAAAAoAAAALAAAATjVkcmFjbzMwQXR0cmlidXRlUXVhbnRpemF0aW9uVHJhbnNmb3JtRQAAAAAgPwAA5AQAALQEAABhbGxvY2F0b3I8VD46OmFsbG9jYXRlKHNpemVfdCBuKSAnbicgZXhjZWVkcyBtYXhpbXVtIHN1cHBvcnRlZCBzaXplAAAAAADkBQAADAAAAA0AAAAOAAAADwAAABAAAAARAAAAEgAAABMAAAAUAAAAFQAAABYAAAAXAAAATjVkcmFjbzE3QXR0cmlidXRlc0RlY29kZXJFAE41ZHJhY28yNkF0dHJpYnV0ZXNEZWNvZGVySW50ZXJmYWNlRQAAAAD4PgAAtAUAACA/AACYBQAA3AUAAGFsbG9jYXRvcjxUPjo6YWxsb2NhdGUoc2l6ZV90IG4pICduJyBleGNlZWRzIG1heGltdW0gc3VwcG9ydGVkIHNpemUAAAAAAOgGAAAYAAAAGQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAaAAAAGwAAABwAAABLZFRyZWVBdHRyaWJ1dGVzRGVjb2RlcjogY29tcHJlc3Npb24gbGV2ZWwgJWkgbm90IHN1cHBvcnRlZC4KAHNraXBfYXR0cmlidXRlX3RyYW5zZm9ybQBONWRyYWNvMjNLZFRyZWVBdHRyaWJ1dGVzRGVjb2RlckUAAAAAID8AAMMGAADkBQAAYWxsb2NhdG9yPFQ+OjphbGxvY2F0ZShzaXplX3QgbikgJ24nIGV4Y2VlZHMgbWF4aW11bSBzdXBwb3J0ZWQgc2l6ZQBNZXRob2Qgbm90IHN1cHBvcnRlZC4gCgBWZXJzaW9uIG5vdCBzdXBwb3J0ZWQuIAo="),p(1904,"wAcAAB0AAAAeAAAAHwAAACAAAAAhAAAAIgAAACMAAAAkAAAAJQAAAE41ZHJhY28yNlNlcXVlbnRpYWxBdHRyaWJ1dGVEZWNvZGVyRQAAAAD4PgAAmAcAAP////8AAAAAVAgAACYAAAAnAAAADgAAACgAAAApAAAAEQAAABIAAAATAAAAKgAAACsAAAAsAAAALQAAAC4AAABza2lwX2F0dHJpYnV0ZV90cmFuc2Zvcm0ATjVkcmFjbzM3U2VxdWVudGlhbEF0dHJpYnV0ZURlY29kZXJzQ29udHJvbGxlckUAAAAAID8AACEIAADkBQAAYWxsb2NhdG9yPFQ+OjphbGxvY2F0ZShzaXplX3QgbikgJ24nIGV4Y2VlZHMgbWF4aW11bSBzdXBwb3J0ZWQgc2l6ZQAAAAAADAkAAC8AAAAwAAAAMQAAACAAAAAhAAAAIgAAADIAAAAkAAAAMwAAADQAAAA1AAAANgAAADcAAABONWRyYWNvMzNTZXF1ZW50aWFsSW50ZWdlckF0dHJpYnV0ZURlY29kZXJFACA/AADgCAAAwAcAAAAAAACYCwAAOAAAADkAAAA6AAAAOwAAADwAAAA9AAAAPgAAAD8AAABAAAAAQQAAAEIAAABDAAAATjVkcmFjbzQwTWVzaFByZWRpY3Rpb25TY2hlbWVQYXJhbGxlbG9ncmFtRGVjb2RlcklpTlNfMzdQcmVkaWN0aW9uU2NoZW1lV3JhcERlY29kaW5nVHJhbnNmb3JtSWlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18yNE1lc2hBdHRyaWJ1dGVDb3JuZXJUYWJsZUVFRUVFAE41ZHJhY28yN01lc2hQcmVkaWN0aW9uU2NoZW1lRGVjb2RlcklpTlNfMzdQcmVkaWN0aW9uU2NoZW1lV3JhcERlY29kaW5nVHJhbnNmb3JtSWlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18yNE1lc2hBdHRyaWJ1dGVDb3JuZXJUYWJsZUVFRUVFAE41ZHJhY28yM1ByZWRpY3Rpb25TY2hlbWVEZWNvZGVySWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRGVjb2RpbmdUcmFuc2Zvcm1JaWlFRUVFAE41ZHJhY28zN1ByZWRpY3Rpb25TY2hlbWVUeXBlZERlY29kZXJJbnRlcmZhY2VJaWlFRQBONWRyYWNvMzJQcmVkaWN0aW9uU2NoZW1lRGVjb2RlckludGVyZmFjZUUATjVkcmFjbzI1UHJlZGljdGlvblNjaGVtZUludGVyZmFjZUUA+D4AADwLAAAgPwAAEQsAAGALAAAgPwAA3QoAAGgLAAAgPwAAiQoAAHQLAAAgPwAA8wkAAIALAAAgPwAAUAkAAIwLAAAAAAAAjAsAADgAAABEAAAAFQAAADsAAAAVAAAAPQAAAD4AAAA/AAAAQAAAAEEAAABCAAAAFQAAAAAAAACACwAAOAAAAEUAAAAVAAAAOwAAABUAAAA9AAAAPgAAAD8AAABAAAAAQQAAAEIAAAAVAAAAAAAAAPQMAAA4AAAARgAAAEcAAAA7AAAASAAAAD0AAAA+AAAAPwAAAEAAAABBAAAAQgAAAEkAAABONWRyYWNvNDVNZXNoUHJlZGljdGlvblNjaGVtZU11bHRpUGFyYWxsZWxvZ3JhbURlY29kZXJJaU5TXzM3UHJlZGljdGlvblNjaGVtZVdyYXBEZWNvZGluZ1RyYW5zZm9ybUlpaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFRUVFRQAgPwAATAwAAIwLAAAAAAAA7A0AAEoAAABLAAAATAAAADsAAABNAAAAPQAAAD4AAAA/AAAAQAAAAEEAAABOAAAATwAAAE41ZHJhY281Nk1lc2hQcmVkaWN0aW9uU2NoZW1lQ29uc3RyYWluZWRNdWx0aVBhcmFsbGVsb2dyYW1EZWNvZGVySWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRGVjb2RpbmdUcmFuc2Zvcm1JaWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUAACA/AAA4DQAAjAsAAAAAAADQDgAAUAAAAFEAAABSAAAAOwAAAFMAAABUAAAAVQAAAFYAAABAAAAAQQAAAFcAAABYAAAATjVkcmFjbzM2TWVzaFByZWRpY3Rpb25TY2hlbWVUZXhDb29yZHNEZWNvZGVySWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRGVjb2RpbmdUcmFuc2Zvcm1JaWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUAACA/AAAwDgAAjAsAAAAAAAC8DwAAWQAAAFoAAABbAAAAOwAAAFwAAABdAAAAXgAAAF8AAABAAAAAQQAAAGAAAABhAAAATjVkcmFjbzQ0TWVzaFByZWRpY3Rpb25TY2hlbWVUZXhDb29yZHNQb3J0YWJsZURlY29kZXJJaU5TXzM3UHJlZGljdGlvblNjaGVtZVdyYXBEZWNvZGluZ1RyYW5zZm9ybUlpaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFRUVFRQAAID8AABQPAACMCwAAAAAAAKgQAABiAAAAYwAAAGQAAAA7AAAAZQAAAGYAAABnAAAAaAAAAEAAAABBAAAAaQAAAGoAAABONWRyYWNvNDJNZXNoUHJlZGljdGlvblNjaGVtZUdlb21ldHJpY05vcm1hbERlY29kZXJJaU5TXzM3UHJlZGljdGlvblNjaGVtZVdyYXBEZWNvZGluZ1RyYW5zZm9ybUlpaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFRUVFRQAAAAAgPwAAABAAAIwLAAAAAAAAMBIAAGsAAABsAAAAbQAAAG4AAABvAAAATjVkcmFjbzQ4TWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxQcmVkaWN0b3JBcmVhSWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRGVjb2RpbmdUcmFuc2Zvcm1JaWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQ4TWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxQcmVkaWN0b3JCYXNlSWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRGVjb2RpbmdUcmFuc2Zvcm1JaWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUAAAD4PgAAexEAACA/AADQEAAAKBIAAAAAAACgEwAAOAAAAHAAAABxAAAAOwAAAHIAAAA9AAAAPgAAAD8AAABAAAAAQQAAAEIAAABzAAAATjVkcmFjbzQwTWVzaFByZWRpY3Rpb25TY2hlbWVQYXJhbGxlbG9ncmFtRGVjb2RlcklpTlNfMzdQcmVkaWN0aW9uU2NoZW1lV3JhcERlY29kaW5nVHJhbnNmb3JtSWlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzI3TWVzaFByZWRpY3Rpb25TY2hlbWVEZWNvZGVySWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRGVjb2RpbmdUcmFuc2Zvcm1JaWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzExQ29ybmVyVGFibGVFRUVFRQAAID8AAAoTAACACwAAID8AAHQSAACUEwAAAAAAAJQTAAA4AAAAdAAAABUAAAA7AAAAFQAAAD0AAAA+AAAAPwAAAEAAAABBAAAAQgAAABUAAAAAAAAAuBQAADgAAAB1AAAAdgAAADsAAAB3AAAAPQAAAD4AAAA/AAAAQAAAAEEAAABCAAAAeAAAAE41ZHJhY280NU1lc2hQcmVkaWN0aW9uU2NoZW1lTXVsdGlQYXJhbGxlbG9ncmFtRGVjb2RlcklpTlNfMzdQcmVkaWN0aW9uU2NoZW1lV3JhcERlY29kaW5nVHJhbnNmb3JtSWlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUAACA/AAAcFAAAlBMAAAAAAACkFQAAeQAAAHoAAAB7AAAAOwAAAHwAAAA9AAAAPgAAAD8AAABAAAAAQQAAAH0AAAB+AAAATjVkcmFjbzU2TWVzaFByZWRpY3Rpb25TY2hlbWVDb25zdHJhaW5lZE11bHRpUGFyYWxsZWxvZ3JhbURlY29kZXJJaU5TXzM3UHJlZGljdGlvblNjaGVtZVdyYXBEZWNvZGluZ1RyYW5zZm9ybUlpaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMTFDb3JuZXJUYWJsZUVFRUVFAAAAID8AAPwUAACUEwAAAAAAAHwWAAB/AAAAgAAAAIEAAAA7AAAAggAAAIMAAACEAAAAhQAAAEAAAABBAAAAhgAAAIcAAABONWRyYWNvMzZNZXNoUHJlZGljdGlvblNjaGVtZVRleENvb3Jkc0RlY29kZXJJaU5TXzM3UHJlZGljdGlvblNjaGVtZVdyYXBEZWNvZGluZ1RyYW5zZm9ybUlpaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMTFDb3JuZXJUYWJsZUVFRUVFAAAAID8AAOgVAACUEwAAAAAAAFwXAACIAAAAiQAAAIoAAAA7AAAAiwAAAIwAAACNAAAAjgAAAEAAAABBAAAAjwAAAJAAAABONWRyYWNvNDRNZXNoUHJlZGljdGlvblNjaGVtZVRleENvb3Jkc1BvcnRhYmxlRGVjb2RlcklpTlNfMzdQcmVkaWN0aW9uU2NoZW1lV3JhcERlY29kaW5nVHJhbnNmb3JtSWlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUAAAAgPwAAwBYAAJQTAAAAAAAAOBgAAJEAAACSAAAAkwAAADsAAACUAAAAlQAAAJYAAACXAAAAQAAAAEEAAACYAAAAmQAAAE41ZHJhY280Mk1lc2hQcmVkaWN0aW9uU2NoZW1lR2VvbWV0cmljTm9ybWFsRGVjb2RlcklpTlNfMzdQcmVkaWN0aW9uU2NoZW1lV3JhcERlY29kaW5nVHJhbnNmb3JtSWlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUAID8AAKAXAACUEwAAAAAAAKQZAACaAAAAmwAAAJwAAACdAAAAngAAAE41ZHJhY280OE1lc2hQcmVkaWN0aW9uU2NoZW1lR2VvbWV0cmljTm9ybWFsUHJlZGljdG9yQXJlYUlpTlNfMzdQcmVkaWN0aW9uU2NoZW1lV3JhcERlY29kaW5nVHJhbnNmb3JtSWlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQ4TWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxQcmVkaWN0b3JCYXNlSWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRGVjb2RpbmdUcmFuc2Zvcm1JaWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzExQ29ybmVyVGFibGVFRUVFRQD4PgAA/hgAACA/AABgGAAAnBkAAAAAAABEGgAAOAAAAJ8AAACgAAAAOwAAAKEAAAA9AAAAPgAAAD8AAABAAAAAQQAAAEIAAACiAAAATjVkcmFjbzI4UHJlZGljdGlvblNjaGVtZURlbHRhRGVjb2RlcklpTlNfMzdQcmVkaWN0aW9uU2NoZW1lV3JhcERlY29kaW5nVHJhbnNmb3JtSWlpRUVFRQAAAAAgPwAA6BkAAIALAAAAAAAAuBoAAC8AAACjAAAApAAAACAAAAAhAAAApQAAADIAAAAkAAAAMwAAAKYAAACnAAAAqAAAAKkAAABONWRyYWNvMzJTZXF1ZW50aWFsTm9ybWFsQXR0cmlidXRlRGVjb2RlckUAACA/AACMGgAADAkAAAAAAADEHAAAqgAAAKsAAACsAAAArQAAAK4AAACvAAAAsAAAALEAAACyAAAAswAAALQAAAC1AAAATjVkcmFjbzQyTWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxEZWNvZGVySWlOU180OVByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uRGVjb2RpbmdUcmFuc2Zvcm1JaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFRUVFRQBONWRyYWNvMjdNZXNoUHJlZGljdGlvblNjaGVtZURlY29kZXJJaU5TXzQ5UHJlZGljdGlvblNjaGVtZU5vcm1hbE9jdGFoZWRyb25EZWNvZGluZ1RyYW5zZm9ybUlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18yNE1lc2hBdHRyaWJ1dGVDb3JuZXJUYWJsZUVFRUVFAE41ZHJhY28yM1ByZWRpY3Rpb25TY2hlbWVEZWNvZGVySWlOU180OVByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uRGVjb2RpbmdUcmFuc2Zvcm1JaUVFRUUAID8AAE0cAAB0CwAAID8AAKwbAACsHAAAID8AAPwaAAC4HAAAAAAAAGAeAAC2AAAAtwAAALgAAAC5AAAAugAAAE41ZHJhY280OE1lc2hQcmVkaWN0aW9uU2NoZW1lR2VvbWV0cmljTm9ybWFsUHJlZGljdG9yQXJlYUlpTlNfNDlQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkRlY29kaW5nVHJhbnNmb3JtSWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQ4TWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxQcmVkaWN0b3JCYXNlSWlOU180OVByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uRGVjb2RpbmdUcmFuc2Zvcm1JaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFRUVFRQD4PgAAoh0AACA/AADsHAAAWB4AAAAAAADoHwAAuwAAALwAAAC9AAAArQAAAL4AAAC/AAAAwAAAAMEAAACyAAAAswAAAMIAAADDAAAATjVkcmFjbzQyTWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxEZWNvZGVySWlOU180OVByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uRGVjb2RpbmdUcmFuc2Zvcm1JaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMTFDb3JuZXJUYWJsZUVFRUVFAE41ZHJhY28yN01lc2hQcmVkaWN0aW9uU2NoZW1lRGVjb2RlcklpTlNfNDlQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkRlY29kaW5nVHJhbnNmb3JtSWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzExQ29ybmVyVGFibGVFRUVFRQAAID8AAEcfAACsHAAAID8AAKQeAADcHwAAAAAAAGwhAADEAAAAxQAAAMYAAADHAAAAyAAAAE41ZHJhY280OE1lc2hQcmVkaWN0aW9uU2NoZW1lR2VvbWV0cmljTm9ybWFsUHJlZGljdG9yQXJlYUlpTlNfNDlQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkRlY29kaW5nVHJhbnNmb3JtSWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzExQ29ybmVyVGFibGVFRUVFRQBONWRyYWNvNDhNZXNoUHJlZGljdGlvblNjaGVtZUdlb21ldHJpY05vcm1hbFByZWRpY3RvckJhc2VJaU5TXzQ5UHJlZGljdGlvblNjaGVtZU5vcm1hbE9jdGFoZWRyb25EZWNvZGluZ1RyYW5zZm9ybUlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUAAAD4PgAAuSAAACA/AAAQIAAAZCEAAAAAAAAUIgAAyQAAAMoAAADLAAAArQAAAMwAAADNAAAAzgAAAM8AAACyAAAAswAAANAAAADRAAAATjVkcmFjbzI4UHJlZGljdGlvblNjaGVtZURlbHRhRGVjb2RlcklpTlNfNDlQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkRlY29kaW5nVHJhbnNmb3JtSWlFRUVFACA/AACwIQAArBwAAAAAAABIJAAA0gAAANMAAADUAAAA1QAAANYAAADXAAAA2AAAANkAAADaAAAA2wAAANwAAADdAAAATjVkcmFjbzQyTWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxEZWNvZGVySWlOU182MlByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uQ2Fub25pY2FsaXplZERlY29kaW5nVHJhbnNmb3JtSWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzI3TWVzaFByZWRpY3Rpb25TY2hlbWVEZWNvZGVySWlOU182MlByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uQ2Fub25pY2FsaXplZERlY29kaW5nVHJhbnNmb3JtSWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzIzUHJlZGljdGlvblNjaGVtZURlY29kZXJJaU5TXzYyUHJlZGljdGlvblNjaGVtZU5vcm1hbE9jdGFoZWRyb25DYW5vbmljYWxpemVkRGVjb2RpbmdUcmFuc2Zvcm1JaUVFRUUAACA/AADDIwAAdAsAACA/AAAVIwAAMCQAACA/AABYIgAAPCQAAAAAAAAAJgAA3gAAAN8AAADgAAAA4QAAAOIAAABONWRyYWNvNDhNZXNoUHJlZGljdGlvblNjaGVtZUdlb21ldHJpY05vcm1hbFByZWRpY3RvckFyZWFJaU5TXzYyUHJlZGljdGlvblNjaGVtZU5vcm1hbE9jdGFoZWRyb25DYW5vbmljYWxpemVkRGVjb2RpbmdUcmFuc2Zvcm1JaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFRUVFRQBONWRyYWNvNDhNZXNoUHJlZGljdGlvblNjaGVtZUdlb21ldHJpY05vcm1hbFByZWRpY3RvckJhc2VJaU5TXzYyUHJlZGljdGlvblNjaGVtZU5vcm1hbE9jdGFoZWRyb25DYW5vbmljYWxpemVkRGVjb2RpbmdUcmFuc2Zvcm1JaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFRUVFRQAAAPg+AAAzJQAAID8AAHAkAAD4JQAAAAAAAKQnAADjAAAA5AAAAOUAAADVAAAA5gAAAOcAAADoAAAA6QAAANoAAADbAAAA6gAAAOsAAABONWRyYWNvNDJNZXNoUHJlZGljdGlvblNjaGVtZUdlb21ldHJpY05vcm1hbERlY29kZXJJaU5TXzYyUHJlZGljdGlvblNjaGVtZU5vcm1hbE9jdGFoZWRyb25DYW5vbmljYWxpemVkRGVjb2RpbmdUcmFuc2Zvcm1JaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMTFDb3JuZXJUYWJsZUVFRUVFAE41ZHJhY28yN01lc2hQcmVkaWN0aW9uU2NoZW1lRGVjb2RlcklpTlNfNjJQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkNhbm9uaWNhbGl6ZWREZWNvZGluZ1RyYW5zZm9ybUlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUAAAAAID8AAPQmAAAwJAAAID8AAEQmAACYJwAAAAAAAEApAADsAAAA7QAAAO4AAADvAAAA8AAAAE41ZHJhY280OE1lc2hQcmVkaWN0aW9uU2NoZW1lR2VvbWV0cmljTm9ybWFsUHJlZGljdG9yQXJlYUlpTlNfNjJQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkNhbm9uaWNhbGl6ZWREZWNvZGluZ1RyYW5zZm9ybUlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQ4TWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxQcmVkaWN0b3JCYXNlSWlOU182MlByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uQ2Fub25pY2FsaXplZERlY29kaW5nVHJhbnNmb3JtSWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzExQ29ybmVyVGFibGVFRUVFRQD4PgAAgigAACA/AADMJwAAOCkAAAAAAAD4KQAAyQAAAPEAAADyAAAA1QAAAPMAAAD0AAAA9QAAAPYAAADaAAAA2wAAAPcAAAD4AAAATjVkcmFjbzI4UHJlZGljdGlvblNjaGVtZURlbHRhRGVjb2RlcklpTlNfNjJQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkNhbm9uaWNhbGl6ZWREZWNvZGluZ1RyYW5zZm9ybUlpRUVFRQAAAAAgPwAAhCkAADAkAAAAAAAAfCoAAPkAAAD6AAAA+wAAACAAAAAhAAAA/AAAADIAAAAkAAAAMwAAAP0AAAA1AAAANgAAAP4AAAD/AAAAAAEAAE41ZHJhY28zOFNlcXVlbnRpYWxRdWFudGl6YXRpb25BdHRyaWJ1dGVEZWNvZGVyRQAAAAAgPwAASCoAAAwJAABVbnN1cHBvcnRlZCBlbmNvZGluZyBtZXRob2QuAElucHV0IGlzIG5vdCBhIHBvaW50IGNsb3VkLgBJbnB1dCBpcyBub3QgYSBtZXNoLgBza2lwX2F0dHJpYnV0ZV90cmFuc2Zvcm0AYWxsb2NhdG9yPFQ+OjphbGxvY2F0ZShzaXplX3QgbikgJ24nIGV4Y2VlZHMgbWF4aW11bSBzdXBwb3J0ZWQgc2l6ZQAAAAAAAIgrAAABAQAAAgEAAAMBAAAEAQAAFQAAAAUBAAAGAQAABwEAAAgBAAAJAQAACgEAAAsBAAAVAAAATjVkcmFjbzExTWVzaERlY29kZXJFAAAAID8AAHArAABUNQAAAAAAAPQrAAAMAQAADQEAAAMBAAAOAQAADwEAAAUBAAAGAQAABwEAABABAAARAQAAEgEAABMBAAAUAQAATjVkcmFjbzIyTWVzaEVkZ2VicmVha2VyRGVjb2RlckUAAAAAID8AANArAACIKwAAAAAAABgtAAAVAQAAFgEAABcBAAAYAQAAGQEAABoBAAAbAQAAHAEAAB0BAAAeAQAA/////wAAAAB8LQAAHwEAACABAAAhAQAAIgEAACMBAAAkAQAAJQEAACYBAAAnAQAAKAEAAAAAAADcLQAAKQEAACoBAAArAQAALAEAAC0BAAAuAQAALwEAADABAAAxAQAAMgEAAE41ZHJhY28yNk1lc2hFZGdlYnJlYWtlckRlY29kZXJJbXBsSU5TXzMxTWVzaEVkZ2VicmVha2VyVHJhdmVyc2FsRGVjb2RlckVFRQBONWRyYWNvMzVNZXNoRWRnZWJyZWFrZXJEZWNvZGVySW1wbEludGVyZmFjZUUAAAD4PgAA4CwAACA/AACULAAAEC0AAE41ZHJhY28yNk1lc2hFZGdlYnJlYWtlckRlY29kZXJJbXBsSU5TXzQxTWVzaEVkZ2VicmVha2VyVHJhdmVyc2FsUHJlZGljdGl2ZURlY29kZXJFRUUAAAAgPwAAJC0AABAtAABONWRyYWNvMjZNZXNoRWRnZWJyZWFrZXJEZWNvZGVySW1wbElOU18zOE1lc2hFZGdlYnJlYWtlclRyYXZlcnNhbFZhbGVuY2VEZWNvZGVyRUVFAAAgPwAAiC0AABAtAAAAAAAA2C4AADMBAAA0AQAANQEAAE41ZHJhY28xOURlcHRoRmlyc3RUcmF2ZXJzZXJJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFTlNfMzZNZXNoQXR0cmlidXRlSW5kaWNlc0VuY29kaW5nT2JzZXJ2ZXJJUzFfRUVFRQBONWRyYWNvMTNUcmF2ZXJzZXJCYXNlSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRU5TXzM2TWVzaEF0dHJpYnV0ZUluZGljZXNFbmNvZGluZ09ic2VydmVySVMxX0VFRUUA+D4AAGkuAAAgPwAA/C0AANAuAAAAAAAA0C4AADYBAAA3AQAANQEAAGFsbG9jYXRvcjxUPjo6YWxsb2NhdGUoc2l6ZV90IG4pICduJyBleGNlZWRzIG1heGltdW0gc3VwcG9ydGVkIHNpemU="),p(12100,"AQAAAAMAAAAFAAAABwAAAAAAAAAYMAAAOAEAADkBAAA6AQAAOwEAAE41ZHJhY28yMk1lc2hUcmF2ZXJzYWxTZXF1ZW5jZXJJTlNfMjhNYXhQcmVkaWN0aW9uRGVncmVlVHJhdmVyc2VySU5TXzExQ29ybmVyVGFibGVFTlNfMzZNZXNoQXR0cmlidXRlSW5kaWNlc0VuY29kaW5nT2JzZXJ2ZXJJUzJfRUVFRUVFAE41ZHJhY28xNVBvaW50c1NlcXVlbmNlckUAAAAA+D4AAPMvAAAgPwAAbC8AABAwAAD/////AAAAAAgxAAA8AQAAPQEAAD4BAABONWRyYWNvMjhNYXhQcmVkaWN0aW9uRGVncmVlVHJhdmVyc2VySU5TXzExQ29ybmVyVGFibGVFTlNfMzZNZXNoQXR0cmlidXRlSW5kaWNlc0VuY29kaW5nT2JzZXJ2ZXJJUzFfRUVFRQBONWRyYWNvMTNUcmF2ZXJzZXJCYXNlSU5TXzExQ29ybmVyVGFibGVFTlNfMzZNZXNoQXR0cmlidXRlSW5kaWNlc0VuY29kaW5nT2JzZXJ2ZXJJUzFfRUVFRQAA+D4AAKUwAAAgPwAAPDAAAAAxAAAAAAAAADEAAD8BAABAAQAAPgEAAAAAAADAMQAAQQEAAEIBAABDAQAARAEAAE41ZHJhY28yMk1lc2hUcmF2ZXJzYWxTZXF1ZW5jZXJJTlNfMTlEZXB0aEZpcnN0VHJhdmVyc2VySU5TXzExQ29ybmVyVGFibGVFTlNfMzZNZXNoQXR0cmlidXRlSW5kaWNlc0VuY29kaW5nT2JzZXJ2ZXJJUzJfRUVFRUVFAAAAID8AAEAxAAAQMAAAAAAAAEAyAABFAQAARgEAAD4BAABONWRyYWNvMTlEZXB0aEZpcnN0VHJhdmVyc2VySU5TXzExQ29ybmVyVGFibGVFTlNfMzZNZXNoQXR0cmlidXRlSW5kaWNlc0VuY29kaW5nT2JzZXJ2ZXJJUzFfRUVFRQAgPwAA4DEAAAAxAAAAAAAA8DIAAEcBAABIAQAASQEAAEoBAABONWRyYWNvMjJNZXNoVHJhdmVyc2FsU2VxdWVuY2VySU5TXzE5RGVwdGhGaXJzdFRyYXZlcnNlcklOU18yNE1lc2hBdHRyaWJ1dGVDb3JuZXJUYWJsZUVOU18zNk1lc2hBdHRyaWJ1dGVJbmRpY2VzRW5jb2RpbmdPYnNlcnZlcklTMl9FRUVFRUUAACA/AABkMgAAEDA="),p(13060,"XDMAAAEBAABLAQAAAwEAAAQBAABMAQAABQEAAAYBAAAHAQAACAEAAAkBAAAKAQAACwEAAE0BAABONWRyYWNvMjFNZXNoU2VxdWVudGlhbERlY29kZXJFACA/AAA8MwAAiCsAAGFsbG9jYXRvcjxUPjo6YWxsb2NhdGUoc2l6ZV90IG4pICduJyBleGNlZWRzIG1heGltdW0gc3VwcG9ydGVkIHNpemUAAAAAAOAzAABOAQAATwEAAFABAABRAQAATjVkcmFjbzE1TGluZWFyU2VxdWVuY2VyRQAAACA/AADEMwAAEDAAAAAAAABUNQAAAQEAAFIBAABTAQAABAEAABUAAABUAQAABgEAAAcBAAAIAQ=="),p(13344,"RmFpbGVkIHRvIHBhcnNlIERyYWNvIGhlYWRlci4ARFJBQ08ATm90IGEgRHJhY28gZmlsZS4ARmFpbGVkIHRvIGRlY29kZSBtZXRhZGF0YS4AVXNpbmcgaW5jb21wYXRpYmxlIGRlY29kZXIgZm9yIHRoZSBpbnB1dCBnZW9tZXRyeS4AVW5rbm93biBtYWpvciB2ZXJzaW9uLgBVbmtub3duIG1pbm9yIHZlcnNpb24uAEZhaWxlZCB0byBpbml0aWFsaXplIHRoZSBkZWNvZGVyLgBGYWlsZWQgdG8gZGVjb2RlIGdlb21ldHJ5IGRhdGEuAEZhaWxlZCB0byBkZWNvZGUgcG9pbnQgYXR0cmlidXRlcy4ATjVkcmFjbzE3UG9pbnRDbG91ZERlY29kZXJFAAD4PgAANzUAAAAAAACsNQAAAQEAAFUBAABTAQAABAEAAFYBAABXAQAABgEAAAcBAAAIAQAATjVkcmFjbzIzUG9pbnRDbG91ZEtkVHJlZURlY29kZXJFAAAAID8AAIg1AABUNQAAAAAAAAw2AAABAQAAWAEAAFMBAAAEAQAAWQEAAFoBAAAGAQAABwEAAAgBAABONWRyYWNvMjdQb2ludENsb3VkU2VxdWVudGlhbERlY29kZXJFAAAAID8AAOQ1AABUNQAAAQAAAAEAAAACAAAAAgAAAAQAAAAEAAAACAAAAAgAAAAEAAAACAAAAAEAAAAAAAAA//////////9hbGxvY2F0b3I8VD46OmFsbG9jYXRlKHNpemVfdCBuKSAnbicgZXhjZWVkcyBtYXhpbXVtIHN1cHBvcnRlZCBzaXplAAAAAAC8NgAAWwEAAFwBAABdAQAAXgEAAE41ZHJhY280TWVzaEUAAAAgPwAArDYAAFQ4AABhbGxvY2F0b3I8VD46OmFsbG9jYXRlKHNpemVfdCBuKSAnbicgZXhjZWVkcyBtYXhpbXVtIHN1cHBvcnRlZCBzaXplAGFsbG9jYXRvcjxUPjo6YWxsb2NhdGUoc2l6ZV90IG4pICduJyBleGNlZWRzIG1heGltdW0gc3VwcG9ydGVkIHNpemUA/////2FsbG9jYXRvcjxUPjo6YWxsb2NhdGUoc2l6ZV90IG4pICduJyBleGNlZWRzIG1heGltdW0gc3VwcG9ydGVkIHNpemUAYWxsb2NhdG9yPFQ+OjphbGxvY2F0ZShzaXplX3QgbikgJ24nIGV4Y2VlZHMgbWF4aW11bSBzdXBwb3J0ZWQgc2l6ZQBhbGxvY2F0b3I8VD46OmFsbG9jYXRlKHNpemVfdCBuKSAnbicgZXhjZWVkcyBtYXhpbXVtIHN1cHBvcnRlZCBzaXpl"),p(14376,"VDgAAF8BAABgAQAAYQEAAGIBAABONWRyYWNvMTBQb2ludENsb3VkRQAAAAD4PgAAPDgAAGFsbG9jYXRvcjxUPjo6YWxsb2NhdGUoc2l6ZV90IG4pICduJyBleGNlZWRzIG1heGltdW0gc3VwcG9ydGVkIHNpemUARmxvYXRQb2ludHNUcmVlRGVjb2RlcjogY29tcHJlc3Npb24gbGV2ZWwgJWkgbm90IHN1cHBvcnRlZC4KAGFsbG9jYXRvcjxUPjo6YWxsb2NhdGUoc2l6ZV90IG4pICduJyBleGNlZWRzIG1heGltdW0gc3VwcG9ydGVkIHNpemUALSsgICAwWDB4AChudWxsKQ=="),p(14656,"EQAKABEREQAAAAAFAAAAAAAACQAAAAAL"),p(14688,"EQAPChEREQMKBwABEwkLCwAACQYLAAALAAYRAAAAERER"),p(14737,"Cw=="),p(14746,"EQAKChEREQAKAAACAAkLAAAACQALAAAL"),p(14795,"DA=="),p(14807,"DAAAAAAMAAAAAAkMAAAAAAAMAAAM"),p(14853,"Dg=="),p(14865,"DQAAAAQNAAAAAAkOAAAAAAAOAAAO"),p(14911,"EA=="),p(14923,"DwAAAAAPAAAAAAkQAAAAAAAQAAAQAAASAAAAEhIS"),p(14978,"EgAAABISEgAAAAAAAAk="),p(15027,"Cw=="),p(15039,"CgAAAAAKAAAAAAkLAAAAAAALAAAL"),p(15085,"DA=="),p(15097,"DAAAAAAMAAAAAAkMAAAAAAAMAAAMAAAwMTIzNDU2Nzg5QUJDREVGLTBYKzBYIDBYLTB4KzB4IDB4AGluZgBJTkYAbmFuAE5BTgAuAAAAAHg/AAAIQAAAAAAAAAIAAAADAAAABQAAAAcAAAALAAAADQAAABEAAAATAAAAFwAAAB0AAAAfAAAAJQAAACkAAAArAAAALwAAADUAAAA7AAAAPQAAAEMAAABHAAAASQAAAE8AAABTAAAAWQAAAGEAAABlAAAAZwAAAGsAAABtAAAAcQAAAH8AAACDAAAAiQAAAIsAAACVAAAAlwAAAJ0AAACjAAAApwAAAK0AAACzAAAAtQAAAL8AAADBAAAAxQAAAMcAAADTAAAAAQAAAAsAAAANAAAAEQAAABMAAAAXAAAAHQAAAB8AAAAlAAAAKQAAACsAAAAvAAAANQAAADsAAAA9AAAAQwAAAEcAAABJAAAATwAAAFMAAABZAAAAYQAAAGUAAABnAAAAawAAAG0AAABxAAAAeQAAAH8AAACDAAAAiQAAAIsAAACPAAAAlQAAAJcAAACdAAAAowAAAKcAAACpAAAArQAAALMAAAC1AAAAuwAAAL8AAADBAAAAxQAAAMcAAADR"),p(15604,"agE="),p(15643,"//////8="),p(15712,"YWxsb2NhdG9yPFQ+OjphbGxvY2F0ZShzaXplX3QgbikgJ24nIGV4Y2VlZHMgbWF4aW11bSBzdXBwb3J0ZWQgc2l6ZQBiYXNpY19zdHJpbmcAJWQAdmVjdG9yAFB1cmUgdmlydHVhbCBmdW5jdGlvbiBjYWxsZWQhAHN0ZDo6ZXhjZXB0aW9uAAAAAAAMPgAAawEAAGwBAABtAQAAU3Q5ZXhjZXB0aW9uAAAAAPg+AAD8PQAAAAAAADg+AAABAAAAbgEAAG8BAABTdDExbG9naWNfZXJyb3IAID8AACg+AAAMPgAAAAAAAGw+AAABAAAAcAEAAG8BAABTdDEybGVuZ3RoX2Vycm9yAAAAACA/AABYPgAAOD4AAFN0OXR5cGVfaW5mbwAAAAD4PgAAeD4AAE4xMF9fY3h4YWJpdjExNl9fc2hpbV90eXBlX2luZm9FAAAAACA/AACQPgAAiD4AAE4xMF9fY3h4YWJpdjExN19fY2xhc3NfdHlwZV9pbmZvRQAAACA/AADAPgAAtD4AAAAAAADkPgAAcQEAAHIBAABzAQAAdAEAAHUBAAB2AQAAdwEAAHgBAAAAAAAAaD8AAHEBAAB5AQAAcwEAAHQBAAB1AQAAegEAAHsBAAB8AQAATjEwX19jeHhhYml2MTIwX19zaV9jbGFzc190eXBlX2luZm9FAAAAACA/AABAPwAA5D4="),p(16248,"BQ=="),p(16260,"ZQE="),p(16284,"ZgEAAGcBAACYQQ=="),p(16308,"Ag=="),p(16323,"//////8="),p(16392,"BQ=="),p(16404,"aAE="),p(16428,"ZgEAAGkBAACoQQAAAAQ="),p(16452,"AQ=="),p(16467,"Cv////8="),p(16724,"1EU="),function(e,t,r){var n=t.memory,a=i,l=new e.Int8Array(r),p=new e.Int16Array(r),_=new e.Int32Array(r),m=new e.Uint8Array(r),b=new e.Uint16Array(r),A=new e.Uint32Array(r),v=new e.Float32Array(r),y=new e.Float64Array(r),g=e.Math.imul,k=e.Math.fround,x=e.Math.abs,S=e.Math.clz32,T=e.Math.min,w=(e.Math.max,e.Math.floor),E=e.Math.ceil,M=e.Math.sqrt,P=t.abort,R=(e.NaN,e.Infinity,t.__cxa_allocate_exception),C=t.__cxa_throw,O=t.fd_write,I=t.fd_close,D=t.environ_sizes_get,F=t.environ_get,N=t.abort,B=t.emscripten_resize_heap,L=t.emscripten_memcpy_big,U=t.setTempRet0,V=t.fd_seek,z=5261296,j=0;function W(e,t){var i,r,n=0,a=0;if(z=i=z-16|0,_[i+8>>2]=0,_[i>>2]=0,_[i+4>>2]=0,(r=fa(t))>>>0<4294967280){e:{if(r>>>0>=11)n=Fa(a=r+16&-16),_[i+8>>2]=-2147483648|a,_[i>>2]=n,_[i+4>>2]=r;else if(l[i+11|0]=r,n=i,!r)break e;es(n,t,r)}return l[r+n|0]=0,e=G(e,i),l[i+11|0]<=-1&&Ka(_[i>>2]),z=i+16|0,0!=(0|e)}Ba(),P()}function G(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0;if(e=_[e+4>>2])for(r=(n=(r=m[t+11|0])<<24>>24<0)?_[t+4>>2]:r,o=n?_[t>>2]:t;;){t=e+16|0;e:{t:{i:{r:{if((i=(l=(a=(n=(i=m[e+27|0])<<24>>24<0)?_[e+20>>2]:i)>>>0<r>>>0)?a:r)&&(c=ca(o,s=n?_[t>>2]:t,i))){if((0|c)<=-1)break e}else{if(r>>>0<a>>>0)break e;if(!i)break r;s=n?_[t>>2]:t}if(t=ca(s,o,i))break i}if(l)break t;return 1}if(!((0|t)<=-1))return 1}e=e+4|0}if(!(e=_[e>>2]))break}return 0}function H(e,t){var i,r,n=0,a=0;if(z=i=z-16|0,_[i+12>>2]=0,_[i+8>>2]=0,_[i>>2]=0,_[i+4>>2]=0,(r=fa(t))>>>0<4294967280){e:{if(r>>>0>=11)n=Fa(a=r+16&-16),_[i+8>>2]=-2147483648|a,_[i>>2]=n,_[i+4>>2]=r;else if(l[i+11|0]=r,n=i,!r)break e;es(n,t,r)}return l[r+n|0]=0,Cn(e,i,i+12|0),e=_[i+12>>2],l[i+11|0]<=-1&&Ka(_[i>>2]),z=i+16|0,e}Ba(),P()}function Y(e,t,i){var r,n,a=0,s=0;if(z=r=z-32|0,_[r+24>>2]=0,_[r+16>>2]=0,_[r+20>>2]=0,(n=fa(t))>>>0<4294967280){e:{if(n>>>0>=11)a=Fa(s=n+16&-16),_[r+24>>2]=-2147483648|s,_[r+16>>2]=a,_[r+20>>2]=n;else if(l[r+27|0]=n,a=r+16|0,!n)break e;es(a,t,n)}return l[n+a|0]=0,_[r+8>>2]=0,_[r>>2]=0,_[r+4>>2]=0,function(e,t,i){var r=0,n=0,a=0,s=0;e:{if((0|(t=on(e,t)))!=(e+4|0)&&(e=_[t+28>>2],r=_[t+32>>2],(0|e)!=(0|r)&&!(3&(e=r-e|0)))){if(r=e>>>2,n=_[(s=i+4|0)>>2],e=_[i>>2],r>>>0>(a=n-e>>2)>>>0?(de(i,r-a|0),n=_[s>>2],e=_[i>>2]):r>>>0>=a>>>0||(n=(r<<2)+e|0,_[i+4>>2]=n),(0|e)==(0|n))break e;i=e,e=_[t+28>>2],es(i,e,_[t+32>>2]-e|0)}return}Ga(),P()}(e,r+16|0,r),(e=_[i>>2])&&(_[i+4>>2]=e,Ka(e),_[i+8>>2]=0,_[i>>2]=0,_[i+4>>2]=0),_[i>>2]=_[r>>2],_[i+4>>2]=_[r+4>>2],_[i+8>>2]=_[r+8>>2],l[r+27|0]<=-1&&Ka(_[r+16>>2]),void(z=r+32|0)}Ba(),P()}function X(e,t){var i,r,n=0,a=0,s=0;if(z=i=z-32|0,_[i+24>>2]=0,_[i+28>>2]=0,_[i+16>>2]=0,_[i+8>>2]=0,_[i+12>>2]=0,(r=fa(t))>>>0<4294967280){e:{if(r>>>0>=11)n=Fa(a=r+16&-16),_[i+16>>2]=-2147483648|a,_[i+8>>2]=n,_[i+12>>2]=r;else if(l[i+19|0]=r,n=i+8|0,!r)break e;es(n,t,r)}return l[r+n|0]=0,function(e,t,i){var r;r=e+4|0,e=on(e,t);(0|r)!=(0|e)&&(t=_[e+32>>2],e=_[e+28>>2],8==(t-e|0)&&(t=m[e+4|0]|m[e+5|0]<<8|m[e+6|0]<<16|m[e+7|0]<<24,_[i>>2]=m[0|e]|m[e+1|0]<<8|m[e+2|0]<<16|m[e+3|0]<<24,_[i+4>>2]=t))}(e,i+8|0,i+24|0),s=y[i+24>>3],l[i+19|0]<=-1&&Ka(_[i+8>>2]),z=i+32|0,s}Ba(),P()}function Z(e,t,i){var r,n,a=0,s=0;if(z=r=z-16|0,_[r+8>>2]=0,_[r>>2]=0,_[r+4>>2]=0,(n=fa(i))>>>0<4294967280){e:{if(n>>>0>=11)a=Fa(s=n+16&-16),_[r+8>>2]=-2147483648|s,_[r>>2]=a,_[r+4>>2]=n;else if(l[r+11|0]=n,a=r,!n)break e;es(a,i,n)}return l[n+a|0]=0,i=0,On(t,r,e=e+16|0)&&(i=_[e>>2],l[e+11|0]<=-1||(i=e)),l[r+11|0]<=-1&&Ka(_[r>>2]),z=r+16|0,i}Ba(),P()}function Q(e,t,i){var r=0,n=0,a=0,s=0;e:if(_[e+12>>2]!=(0|t)){if((0|(r=_[e>>2]))!=(0|(n=_[(a=e+4|0)>>2])))for(;s=n+-12|0,l[n+-1|0]<=-1&&Ka(_[s>>2]),(0|(n=s))!=(0|r););if(_[e+12>>2]=t,_[a>>2]=r,(0|(n=_[t>>2]))!=(0|(a=t+4|0)))for(s=e+8|0;;){t=n+16|0,_[s>>2]==(0|r)?J(e,t):(Ua(r,t),_[(t=e+4|0)>>2]=_[t>>2]+12);t:if(r=_[n+4>>2])for(;t=r,r=_[r>>2];);else{if(t=_[n+8>>2],_[t>>2]==(0|n))break t;for(n=n+8|0;n=(r=_[n>>2])+8|0,t=_[r+8>>2],(0|r)!=_[t>>2];);}if((0|t)==(0|a))break e;r=_[e+4>>2],n=t}}return r=0,(0|i)<0||((t=_[e+4>>2])-(e=_[e>>2])|0)/12>>>0<=i>>>0||(r=e+g(i,12)|0,l[r+11|0]>-1||(r=_[r>>2])),r}function J(e,t){var i=0,r=0,n=0,a=0,s=0;e:{t:{i:{if(n=_[e>>2],(i=(s=(_[e+4>>2]-n|0)/12|0)+1|0)>>>0<357913942){if(a=(n=(_[e+8>>2]-n|0)/12|0)<<1,r=0,i=n>>>0<178956970?a>>>0<i>>>0?i:a:357913941){if(i>>>0>=357913942)break i;r=Fa(g(i,12))}if(n=r+g(i,12)|0,s=(t=Ua(r+g(s,12)|0,t))+12|0,(0|(i=_[e+4>>2]))==(0|(r=_[e>>2])))break t;for(;a=_[(i=i+-12|0)+4>>2],_[(t=t+-12|0)>>2]=_[i>>2],_[t+4>>2]=a,a=i+8|0,_[t+8>>2]=_[a>>2],_[i>>2]=0,_[i+4>>2]=0,_[a>>2]=0,(0|i)!=(0|r););r=_[e+4>>2],i=_[e>>2];break e}Wa(),P()}Re(1040),P()}i=r}if(_[e>>2]=t,_[e+8>>2]=n,_[e+4>>2]=s,(0|i)!=(0|r))for(;e=r+-12|0,l[r+-1|0]<=-1&&Ka(_[e>>2]),r=e,(0|e)!=(0|i););i&&Ka(i)}function q(e){var t;return z=t=z-32|0,function(e,t){var i,r,n=0;z=i=z-80|0,n=_[t+36>>2],_[i+72>>2]=_[t+32>>2],_[i+76>>2]=n,r=_[t+28>>2],_[(n=i- -64|0)>>2]=_[t+24>>2],_[n+4>>2]=r,n=_[t+20>>2],_[i+56>>2]=_[t+16>>2],_[i+60>>2]=n,n=_[t+12>>2],_[i+48>>2]=_[t+8>>2],_[i+52>>2]=n,n=_[t+4>>2],_[i+40>>2]=_[t>>2],_[i+44>>2]=n,Hr(i+8|0,i+40|0,i+24|0);e:if(t=_[i+8>>2]){if(_[e>>2]=t,Ua(e+4|0,i+8|4),l[i+23|0]>=0)break e;Ka(_[i+12>>2])}else l[i+23|0]<=-1&&Ka(_[i+12>>2]),t=m[i+31|0],_[e>>2]=0,_[e+4>>2]=0,_[e+16>>2]=t,_[e+8>>2]=0,_[e+12>>2]=0;z=i+80|0}(t+8|0,e),e=_[t+24>>2],l[t+23|0]<=-1&&Ka(_[t+12>>2]),z=t+32|0,e}function K(e,t,i){var r;return z=r=z-16|0,function(e,t,i,r){var n,s=0,o=0;z=n=z-80|0,s=_[i+36>>2],_[n+72>>2]=_[i+32>>2],_[n+76>>2]=s,o=_[i+28>>2],_[(s=n- -64|0)>>2]=_[i+24>>2],_[s+4>>2]=o,s=_[i+20>>2],_[n+56>>2]=_[i+16>>2],_[n+60>>2]=s,s=_[i+12>>2],_[n+48>>2]=_[i+8>>2],_[n+52>>2]=s,s=_[i+4>>2],_[n+40>>2]=_[i>>2],_[n+44>>2]=s,Hr(e,n+40|0,n+24|0);e:if(!_[e>>2])if(o=e+4|0,l[e+15|0]<=-1&&Ka(_[o>>2]),m[n+31|0]){if(_[n+8>>2]=0,_[n>>2]=0,_[n+4>>2]=0,t=Fa(32),_[n>>2]=t,_[n+4>>2]=27,_[n+8>>2]=-2147483616,l[t+27|0]=0,i=m[10940]|m[10941]<<8|m[10942]<<16|m[10943]<<24,l[t+23|0]=i,l[t+24|0]=i>>>8,l[t+25|0]=i>>>16,l[t+26|0]=i>>>24,i=m[10937]|m[10938]<<8|m[10939]<<16|m[10940]<<24,r=m[10933]|m[10934]<<8|m[10935]<<16|m[10936]<<24,l[t+16|0]=r,l[t+17|0]=r>>>8,l[t+18|0]=r>>>16,l[t+19|0]=r>>>24,l[t+20|0]=i,l[t+21|0]=i>>>8,l[t+22|0]=i>>>16,l[t+23|0]=i>>>24,i=m[10929]|m[10930]<<8|m[10931]<<16|m[10932]<<24,r=m[10925]|m[10926]<<8|m[10927]<<16|m[10928]<<24,l[t+8|0]=r,l[t+9|0]=r>>>8,l[t+10|0]=r>>>16,l[t+11|0]=r>>>24,l[t+12|0]=i,l[t+13|0]=i>>>8,l[t+14|0]=i>>>16,l[t+15|0]=i>>>24,i=m[10921]|m[10922]<<8|m[10923]<<16|m[10924]<<24,r=m[10917]|m[10918]<<8|m[10919]<<16|m[10920]<<24,l[0|t]=r,l[t+1|0]=r>>>8,l[t+2|0]=r>>>16,l[t+3|0]=r>>>24,l[t+4|0]=i,l[t+5|0]=i>>>8,l[t+6|0]=i>>>16,l[t+7|0]=i>>>24,_[e>>2]=-1,Ua(o,n),l[n+11|0]>-1)break e;Ka(_[n>>2])}else!function(e,t){var i,r=0,n=0;z=i=z-32|0;t:if(t>>>0<=1){if(t-1){r=Fa(44),_[(t=r)>>2]=0,_[t+4>>2]=0,_[t+40>>2]=0,_[t+32>>2]=0,_[t+36>>2]=0,_[t+24>>2]=0,_[t+28>>2]=0,_[t+16>>2]=0,_[t+20>>2]=0,_[t+8>>2]=0,_[t+12>>2]=0,Gr(t),_[t>>2]=13760,_[e+8>>2]=0,_[e+12>>2]=0,_[e>>2]=0,_[e+4>>2]=0,_[e+16>>2]=t;break t}r=Fa(44),_[(t=r)>>2]=0,_[t+4>>2]=0,_[t+40>>2]=0,_[t+32>>2]=0,_[t+36>>2]=0,_[t+24>>2]=0,_[t+28>>2]=0,_[t+16>>2]=0,_[t+20>>2]=0,_[t+8>>2]=0,_[t+12>>2]=0,Gr(t),_[t>>2]=13668,_[e+8>>2]=0,_[e+12>>2]=0,_[e>>2]=0,_[e+4>>2]=0,_[e+16>>2]=t}else t=Fa(32),_[i>>2]=t,_[i+4>>2]=28,_[i+8>>2]=-2147483616,l[t+28|0]=0,r=m[10912]|m[10913]<<8|m[10914]<<16|m[10915]<<24,l[t+24|0]=r,l[t+25|0]=r>>>8,l[t+26|0]=r>>>16,l[t+27|0]=r>>>24,r=m[10908]|m[10909]<<8|m[10910]<<16|m[10911]<<24,n=m[10904]|m[10905]<<8|m[10906]<<16|m[10907]<<24,l[t+16|0]=n,l[t+17|0]=n>>>8,l[t+18|0]=n>>>16,l[t+19|0]=n>>>24,l[t+20|0]=r,l[t+21|0]=r>>>8,l[t+22|0]=r>>>16,l[t+23|0]=r>>>24,r=m[10900]|m[10901]<<8|m[10902]<<16|m[10903]<<24,n=m[10896]|m[10897]<<8|m[10898]<<16|m[10899]<<24,l[t+8|0]=n,l[t+9|0]=n>>>8,l[t+10|0]=n>>>16,l[t+11|0]=n>>>24,l[t+12|0]=r,l[t+13|0]=r>>>8,l[t+14|0]=r>>>16,l[t+15|0]=r>>>24,r=m[10892]|m[10893]<<8|m[10894]<<16|m[10895]<<24,n=m[10888]|m[10889]<<8|m[10890]<<16|m[10891]<<24,l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=r,l[t+5|0]=r>>>8,l[t+6|0]=r>>>16,l[t+7|0]=r>>>24,_[i+16>>2]=-1,t=Ua(i+16|4,i),_[e>>2]=_[i+16>>2],Ua(e+4|0,t),_[e+16>>2]=0,l[t+11|0]<=-1&&Ka(_[t>>2]),l[i+11|0]>-1||Ka(_[i>>2]);z=i+32|0}(n,l[n+32|0]),(s=_[n>>2])?(_[e>>2]=s,Ua(o,4|n)):(s=_[n+16>>2],_[n+16>>2]=0,Zr(e,s,t,i,r),_[e>>2]||(l[o+11|0]<=-1&&Ka(_[o>>2]),_[e>>2]=0,_[e+4>>2]=0,_[e+8>>2]=0,_[e+12>>2]=0),s&&a[_[_[s>>2]+4>>2]](s)),e=_[n+16>>2],_[n+16>>2]=0,e&&a[_[_[e>>2]+4>>2]](e),l[n+15|0]>-1||Ka(_[n+4>>2]);z=n+80|0}(r,e,t,i),_[e+24>>2]=_[r>>2],Va(e+28|0,4|r),e=e+24|0,l[r+15|0]<=-1&&Ka(_[r+4>>2]),z=r+16|0,e}function $(e,t,i){var r;return z=r=z-16|0,function(e,t,i,r){var n,s=0,o=0;z=n=z-80|0,s=_[i+36>>2],_[n+72>>2]=_[i+32>>2],_[n+76>>2]=s,o=_[i+28>>2],_[(s=n- -64|0)>>2]=_[i+24>>2],_[s+4>>2]=o,s=_[i+20>>2],_[n+56>>2]=_[i+16>>2],_[n+60>>2]=s,s=_[i+12>>2],_[n+48>>2]=_[i+8>>2],_[n+52>>2]=s,s=_[i+4>>2],_[n+40>>2]=_[i>>2],_[n+44>>2]=s,Hr(e,n+40|0,n+24|0);e:if(!_[e>>2])if(s=e+4|0,l[e+15|0]<=-1&&Ka(_[s>>2]),1==m[n+31|0])!function(e,t){var i,r=0,n=0;z=i=z-32|0;t:if(t>>>0<=1){if(t-1){or(t=Fa(48)),_[t>>2]=13064,_[e+8>>2]=0,_[e+12>>2]=0,_[e>>2]=0,_[e+4>>2]=0,_[e+16>>2]=t;break t}or(t=Fa(52)),_[t+48>>2]=0,_[t>>2]=11164,_[e+8>>2]=0,_[e+12>>2]=0,_[e>>2]=0,_[e+4>>2]=0,_[e+16>>2]=t}else t=Fa(32),_[i>>2]=t,_[i+4>>2]=28,_[i+8>>2]=-2147483616,l[t+28|0]=0,r=m[10912]|m[10913]<<8|m[10914]<<16|m[10915]<<24,l[t+24|0]=r,l[t+25|0]=r>>>8,l[t+26|0]=r>>>16,l[t+27|0]=r>>>24,r=m[10908]|m[10909]<<8|m[10910]<<16|m[10911]<<24,n=m[10904]|m[10905]<<8|m[10906]<<16|m[10907]<<24,l[t+16|0]=n,l[t+17|0]=n>>>8,l[t+18|0]=n>>>16,l[t+19|0]=n>>>24,l[t+20|0]=r,l[t+21|0]=r>>>8,l[t+22|0]=r>>>16,l[t+23|0]=r>>>24,r=m[10900]|m[10901]<<8|m[10902]<<16|m[10903]<<24,n=m[10896]|m[10897]<<8|m[10898]<<16|m[10899]<<24,l[t+8|0]=n,l[t+9|0]=n>>>8,l[t+10|0]=n>>>16,l[t+11|0]=n>>>24,l[t+12|0]=r,l[t+13|0]=r>>>8,l[t+14|0]=r>>>16,l[t+15|0]=r>>>24,r=m[10892]|m[10893]<<8|m[10894]<<16|m[10895]<<24,n=m[10888]|m[10889]<<8|m[10890]<<16|m[10891]<<24,l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=r,l[t+5|0]=r>>>8,l[t+6|0]=r>>>16,l[t+7|0]=r>>>24,_[i+16>>2]=-1,t=Ua(i+16|4,i),_[e>>2]=_[i+16>>2],Ua(e+4|0,t),_[e+16>>2]=0,l[t+11|0]<=-1&&Ka(_[t>>2]),l[i+11|0]>-1||Ka(_[i>>2]);z=i+32|0}(n,m[n+32|0]),(o=_[n>>2])?(_[e>>2]=o,Ua(s,4|n)):(o=_[n+16>>2],_[n+16>>2]=0,_[o+44>>2]=r,Zr(e,o,t,i,r),_[e>>2]||(l[s+11|0]<=-1&&Ka(_[s>>2]),_[e>>2]=0,_[e+4>>2]=0,_[e+8>>2]=0,_[e+12>>2]=0),o&&a[_[_[o>>2]+4>>2]](o)),e=_[n+16>>2],_[n+16>>2]=0,e&&a[_[_[e>>2]+4>>2]](e),l[n+15|0]>-1||Ka(_[n+4>>2]);else{if(_[n+8>>2]=0,_[n>>2]=0,_[n+4>>2]=0,t=Fa(32),_[n>>2]=t,_[n+4>>2]=20,_[n+8>>2]=-2147483616,l[t+20|0]=0,i=m[10961]|m[10962]<<8|m[10963]<<16|m[10964]<<24,l[t+16|0]=i,l[t+17|0]=i>>>8,l[t+18|0]=i>>>16,l[t+19|0]=i>>>24,i=m[10957]|m[10958]<<8|m[10959]<<16|m[10960]<<24,r=m[10953]|m[10954]<<8|m[10955]<<16|m[10956]<<24,l[t+8|0]=r,l[t+9|0]=r>>>8,l[t+10|0]=r>>>16,l[t+11|0]=r>>>24,l[t+12|0]=i,l[t+13|0]=i>>>8,l[t+14|0]=i>>>16,l[t+15|0]=i>>>24,i=m[10949]|m[10950]<<8|m[10951]<<16|m[10952]<<24,r=m[10945]|m[10946]<<8|m[10947]<<16|m[10948]<<24,l[0|t]=r,l[t+1|0]=r>>>8,l[t+2|0]=r>>>16,l[t+3|0]=r>>>24,l[t+4|0]=i,l[t+5|0]=i>>>8,l[t+6|0]=i>>>16,l[t+7|0]=i>>>24,_[e>>2]=-1,Ua(s,n),l[n+11|0]>-1)break e;Ka(_[n>>2])}z=n+80|0}(r,e,t,i),_[e+24>>2]=_[r>>2],Va(e+28|0,4|r),e=e+24|0,l[r+15|0]<=-1&&Ka(_[r+4>>2]),z=r+16|0,e}function ee(e,t){var i,r=0,n=0,a=0;if(z=i=z-32|0,_[i+24>>2]=0,_[i+16>>2]=0,_[i+20>>2]=0,(r=fa(t))>>>0<4294967280){e:{if(r>>>0>=11)n=Fa(a=r+16&-16),_[i+24>>2]=-2147483648|a,_[i+16>>2]=n,_[i+20>>2]=r;else if(l[i+27|0]=r,n=i+16|0,!r)break e;es(n,t,r)}return l[r+n|0]=0,_[i+8>>2]=67108864,_[i>>2]=0,_[i+4>>2]=0,l[i+4|0]=0,_[i>>2]=1701667182,t=-1,(r=_[e+4>>2])&&(t=-1,(r=Pn(r,i,i+16|0))&&(t=Bn(e,_[r+24>>2]))),l[i+11|0]<=-1&&Ka(_[i>>2]),l[i+27|0]<=-1&&Ka(_[i+16>>2]),z=i+32|0,t}Ba(),P()}function te(e,t,i){var r,n=0,a=0,s=0;z=r=z-32|0,_[r+24>>2]=0,_[r+16>>2]=0,_[r+20>>2]=0;e:{if((s=fa(t))>>>0<4294967280){t:{if(s>>>0>=11)a=Fa(n=s+16&-16),_[r+24>>2]=-2147483648|n,_[r+16>>2]=a,_[r+20>>2]=s;else if(l[r+27|0]=s,a=r+16|0,!s)break t;es(a,t,s)}if(l[a+s|0]=0,_[r+8>>2]=0,_[r>>2]=0,_[r+4>>2]=0,(n=fa(i))>>>0>=4294967280)break e;t:{if(n>>>0>=11)a=Fa(t=n+16&-16),_[r+8>>2]=-2147483648|t,_[r>>2]=a,_[r+4>>2]=n;else if(l[r+11|0]=n,a=r,!n)break t;es(a,i,n)}return l[n+a|0]=0,t=-1,(i=_[e+4>>2])&&(t=-1,(i=Pn(i,r+16|0,r))&&(t=Bn(e,_[i+24>>2]))),e=t,l[r+11|0]<=-1&&Ka(_[r>>2]),l[r+27|0]<=-1&&Ka(_[r+16>>2]),z=r+32|0,e}Ba(),P()}Ba(),P()}function ie(e,t,i){var r,n,a=0;return z=r=z-16|0,a=_[e+96>>2],_[r+8>>2]=0,_[r>>2]=0,_[r+4>>2]=0,e=Fa(12),_[r>>2]=e,_[r+4>>2]=e,n=e+12|0,_[r+8>>2]=n,a=es(e,a+g(t,12)|0,12)+12|0,_[r+4>>2]=a,(t=_[i>>2])&&(_[i+4>>2]=t,Ka(t),_[i+8>>2]=0,_[i>>2]=0,_[i+4>>2]=0),_[i>>2]=e,_[i+8>>2]=n,_[i+4>>2]=a,z=r+16|0,1}function re(e,t){var i,r=0;return z=i=z-96|0,ts(i+16|0,0,76),_[i+92>>2]=-1,_[i+8>>2]=0,_[i>>2]=0,_[i+4>>2]=0,!function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0;z=r=z-16|0;if(ae(e,t)&&(s=1,a=_[t+96>>2],n=_[(h=t+100|0)>>2],(0|a)!=(0|n)))for(u=e+12|0,d=e+24|0,p=e+36|0,f=i+8|0,l=i+4|0;_[_[e+56>>2]+(c>>>3&536870908)>>2]>>>(31&c)&1||(s=g(c,3),Sn(e,0,s),m=_[u>>2],o=_[e+8>>2],Sn(e,1,s+1|0),a=_[d>>2],n=_[e+20>>2],Sn(e,2,s+2|0),o=(s=a-n>>2)>>>0>(n=(a=m-o|0)>>2)>>>0,o=_[p>>2]-_[e+32>>2]>>2>>>0>(o?s:n)>>>0?2:o?1:a?0:-1,_[e+68>>2]<1||(n=_[e+76>>2],_[r+12>>2]=n,(a=_[l>>2])>>>0<A[f>>2]?(_[a>>2]=n,_[l>>2]=a+4):se(i,r+12|0),n=r,s=_[44+((o<<2)+e|0)>>2],a=-1,(0|s)<0||(a=(s>>>0)/3|0,a=_[(_[_[e>>2]+96>>2]+g(a,12)|0)+(s-g(a,3)<<2)>>2]),_[n+8>>2]=a,(n=_[l>>2])>>>0<A[f>>2]?(_[n>>2]=a,_[l>>2]=n+4):se(i,r+8|0),n=_[e+72>>2]+2|0,_[e+72>>2]=n,1&n&&(_[r+4>>2]=a,(n=_[l>>2])>>>0<A[f>>2]?(_[n>>2]=a,_[l>>2]=n+4):se(i,r+4|0),_[e+72>>2]=_[e+72>>2]+1)),oe(e,o,i),a=_[t+96>>2],n=_[h>>2]),s=1,(c=c+1|0)>>>0<(n-a|0)/12>>>0;);return z=r+16|0,s}(i+16|0,e,i)?(e=_[i>>2])&&(_[i+4>>2]=e,Ka(e)):((e=_[t>>2])&&(_[t+4>>2]=e,Ka(e),_[t+8>>2]=0,_[t>>2]=0,_[t+4>>2]=0),_[t>>2]=_[i>>2],_[t+4>>2]=_[i+4>>2],_[t+8>>2]=_[i+8>>2],_[i+8>>2]=0,_[i>>2]=0,_[i+4>>2]=0,r=_[i+84>>2]),(e=_[i+72>>2])&&Ka(e),(e=_[i+48>>2])&&(_[i+52>>2]=e,Ka(e)),(e=_[i+36>>2])&&(_[i+40>>2]=e,Ka(e)),(e=_[i+24>>2])&&(_[i+28>>2]=e,Ka(e)),e=_[i+20>>2],_[i+20>>2]=0,e&&ne(i+16|4,e),z=i+96|0,r}function ne(e,t){t&&((e=_[t+76>>2])&&(_[t+80>>2]=e,Ka(e)),(e=_[t- -64>>2])&&(_[t+68>>2]=e,Ka(e)),(e=_[t+48>>2])&&(_[t+52>>2]=e,Ka(e)),(e=_[t+24>>2])&&(_[t+28>>2]=e,Ka(e)),(e=_[t+12>>2])&&(_[t+16>>2]=e,Ka(e)),(e=_[t>>2])&&(_[t+4>>2]=e,Ka(e)),Ka(t))}function ae(e,t){var i,r=0,n=0;return z=i=z-16|0,_[e+68>>2]=0,_[e+72>>2]=0,_[e>>2]=t,function(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0;z=i=z-16|0;e:if(n=function(e){var t=0,i=0;t=_[e+20>>2];(_[e+24>>2]-t|0)<1||-1!=(0|(t=_[t>>2]))&&(i=_[_[e+8>>2]+(t<<2)>>2]);return i}(t)){a=_[t+100>>2],f=_[t+96>>2],_[i+8>>2]=0,_[i>>2]=0,_[i+4>>2]=0,c=(0|(t=a-f|0))/12|0;t:{if(t){if(c>>>0>=357913942)break t;for(s=Fa(t),_[i>>2]=s,_[i+4>>2]=s,_[i+8>>2]=g(c,12)+s,t=ts(s,0,t),r=c;t=t+12|0,r=r+-1|0;);_[i+4>>2]=t}if((0|a)!=(0|f))for(t=0,u=m[n+84|0],d=n+68|0;h=g(t,12),n=_[(r=h+f|0)>>2],u?(a=r+8|0,r=r+4|0):(o=_[d>>2],a=o+(_[r+8>>2]<<2)|0,n=_[o+(n<<2)>>2],r=o+(_[r+4>>2]<<2)|0),o=_[r>>2],_[(r=s+h|0)+8>>2]=_[a>>2],_[r+4>>2]=o,_[r>>2]=n,(t=t+1|0)>>>0<c>>>0;);if(function(e,i){var r,n,a=0;z=n=z-16|0,r=Fa(88),_[(a=r)>>2]=0,_[a+4>>2]=0,_[a+56>>2]=0,_[a+48>>2]=0,_[a+52>>2]=0,_[a+40>>2]=0,_[a+44>>2]=0,_[a+32>>2]=0,_[a+36>>2]=0,_[a+24>>2]=0,_[a+28>>2]=0,_[a+16>>2]=0,_[a+20>>2]=0,_[a+8>>2]=0,_[a+12>>2]=0,_[(a=a- -64|0)>>2]=0,_[a+4>>2]=0,_[r+72>>2]=0,_[r+76>>2]=0,_[r+80>>2]=0,_[r+84>>2]=0,_[r+60>>2]=r,_[n+8>>2]=r;!function(e,i){var r,n,a=0,s=0,o=0,c=0,f=0;z=r=z-16|0,_[e+80>>2]=0,_[e+84>>2]=0,s=_[(a=e+76|0)>>2],_[a>>2]=0,s&&Ka(s);_[e+68>>2]=0,_[e+72>>2]=0,s=_[(a=e- -64|0)>>2],_[a>>2]=0,s&&Ka(s);a=_[(f=i+4|0)>>2],s=_[i>>2],o=g((a-s|0)/12|0,3),n=_[e>>2],c=_[e+4>>2]-n>>2;o>>>0>c>>>0?(!function(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;if(r=_[e+8>>2],i=_[(n=e+4|0)>>2],r-i>>2>>>0>=t>>>0)return c=n,f=ts(i,0,e=t<<2)+e|0,void(_[c>>2]=f);i:{if(n=_[e>>2],(a=(i=(s=i-n|0)>>2)+t|0)>>>0<1073741824){if(l=i<<2,i=(r=r-n|0)>>1,r=r>>2>>>0<536870911?i>>>0<a>>>0?a:i:1073741823,i=0,r){if(r>>>0>=1073741824)break i;o=Fa(r<<2),i=o}return ts(l+i|0,0,t<<2),t=i+(a<<2)|0,a=i+(r<<2)|0,(0|s)>=1&&es(o,n,s),_[e>>2]=i,_[e+8>>2]=a,_[e+4>>2]=t,void(n&&Ka(n))}Wa(),P()}Re(13904),P()}(e,o-c|0),a=_[f>>2],s=_[i>>2]):o>>>0>=c>>>0||(_[e+4>>2]=(o<<2)+n);if((0|a)!=(0|s))for(c=(a-s|0)/12|0,f=_[e>>2],i=0;o=g(i,12),a=o+f|0,o=s+o|0,_[a>>2]=_[o>>2],_[a+4>>2]=_[o+4>>2],_[a+8>>2]=_[o+8>>2],(i=i+1|0)>>>0<c>>>0;);_[r+12>>2]=-1,i=0,function(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0,A=0,v=0,y=0,g=0,k=0,x=0;if(z=i=z-48|0,t){y=e+12|0,c=_[(n=e+4|0)>>2],f=_[e>>2],a=(o=c-f|0)>>2,r=_[e+12>>2],s=_[e+16>>2]-r>>2,a>>>0>s>>>0?(un(y,a-s|0),c=_[n>>2],f=_[e>>2],a=(o=c-f|0)>>2):a>>>0>=s>>>0||(_[e+16>>2]=r+(a<<2)),n=0,_[i+40>>2]=0,_[i+32>>2]=0,_[i+36>>2]=0;i:{r:{if(a){if(a>>>0>=1073741824)break r;r=Fa(o),_[i+36>>2]=r,_[i+32>>2]=r,_[i+40>>2]=(a<<2)+r,s=r}else r=0,s=0;n:if(o)for(l=e+4|0,u=n=s,o=0;;){if((h=_[(o<<2)+f>>2])>>>0>=(u=u-n>>2)>>>0&&(_[i+16>>2]=0,(r=h+1|0)>>>0>u>>>0?(kt(i+32|0,r-u|0,i+16|0),c=_[l>>2],f=_[e>>2]):r>>>0>=u>>>0||(_[i+36>>2]=(r<<2)+n),r=_[i+32>>2],s=r),_[(n=(h<<2)+r|0)>>2]=_[n>>2]+1,(o=o+1|0)>>>0>=(a=(n=c-f|0)>>2)>>>0)break n;u=_[i+36>>2],n=r}_[i+24>>2]=0,_[i+16>>2]=0,_[i+20>>2]=0,o=0;n:{if(n){if(a>>>0>=536870912)break n;for(o=Fa(n<<1),_[i+16>>2]=o,_[i+20>>2]=o,n=a<<3,_[i+24>>2]=n+o,n=ts(o,255,n);n=n+8|0,a=a+-1|0;);_[i+20>>2]=n}_[i+8>>2]=0,_[i>>2]=0,_[i+4>>2]=0,n=_[i+36>>2]-s|0,b=n>>2;a:{if(n){if(b>>>0>=1073741824)break a;for(d=Fa(n),_[i>>2]=d,_[i+8>>2]=(b<<2)+d,a=0,l=ts(d,0,n),_[i+4>>2]=l+n,n=0;_[(s=n<<2)+l>>2]=a,a=_[r+s>>2]+a|0,(n=n+1|0)>>>0<b>>>0;);}if((0|c)==(0|f))break i;for(x=c-f>>2,l=0,g=_[i+32>>2];;){if(u=_[(A=l<<2)+f>>2],c=-1,-1!=(0|(r=((n=l+1|0)>>>0)%3|0?n:l+-2|0))&&(c=_[(r<<2)+f>>2]),p=-1,-1!=(0|(r=((s=(l>>>0)%3|0)?-1:2)+l|0))&&(p=_[(r<<2)+f>>2]),s||(0|c)!=(0|p)&&(0|(r=_[f+A>>2]))!=(0|c)&&(0|r)!=(0|p))s:{o:if(!((0|(v=_[(r=p<<2)+g>>2]))<1))for(r=_[r+d>>2],a=0;;){if(-1==(0|(s=_[(h=(r<<3)+o|0)>>2])))break o;if((0|s)==(0|c)&&(m=_[h+4>>2],(0|(s=-1!=(0|m)?_[(m<<2)+f>>2]:-1))!=(0|u))){for(;s=r,!((0|(a=a+1|0))>=(0|v)||(k=(s<<3)+o|0,h=_[(u=((r=s+1|0)<<3)+o|0)>>2],_[k>>2]=h,_[k+4>>2]=_[u+4>>2],-1==(0|h))););if(_[(s<<3)+o>>2]=-1,-1==(0|m))break o;r=_[y>>2],_[r+A>>2]=m,_[r+(m<<2)>>2]=l;break s}if(r=r+1|0,(0|v)==(0|(a=a+1|0)))break}if(!((0|(s=_[(r=c<<2)+g>>2]))<1))for(r=_[r+d>>2],a=0;;){if(-1==_[(h=(r<<3)+o|0)>>2]){_[h>>2]=p,_[h+4>>2]=l;break s}if(r=r+1|0,(0|s)==(0|(a=a+1|0)))break}}else _[e+40>>2]=_[e+40>>2]+1,n=l+3|0;if(!((l=n)>>>0<x>>>0))break}break i}Wa(),P()}Wa(),P()}Re(13904),P()}_[t>>2]=b,d&&(_[i+4>>2]=d,Ka(d)),(e=_[i+16>>2])&&(_[i+20>>2]=e,Ka(e)),(e=_[i+32>>2])&&(_[i+36>>2]=e,Ka(e)),e=1}else e=0;return z=i+48|0,e}(e,r+12|0)&&(!function(e){var t,i,r,n,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0;z=t=z-48|0,a=_[(r=e+4|0)>>2],u=_[e>>2],l[t+16|0]=0,n=dn(t+32|0,a-u>>2,t+16|0),_[t+24>>2]=0,_[t+16>>2]=0,_[t+20>>2]=0,a=_[r>>2],h=_[e>>2],i=e+12|0;for(;;){if(p=0,f=0,(0|a)!=(0|h)){for(;;){o=_[n>>2];i:if(!(_[o+(f>>>3&536870908)>>2]>>>(31&f)&1)){for(c=_[t+16>>2],_[t+20>>2]=c,a=f;u=a,!(-1==(0|(a=((s=a+1|0)>>>0)%3|0?s:a+-2|0))||-1==(0|(a=_[_[i>>2]+(a<<2)>>2]))||(0|f)==(0|(a=((s=a+1|0)>>>0)%3|0?s:a+-2|0))|-1==(0|a)||_[(a>>>3&536870908)+o>>2]>>>(31&a)&1););for(a=c,s=u;;){if(_[(o=(s>>>3&536870908)+o|0)>>2]=_[o>>2]|1<<(31&s),m=((o=s+1|0)>>>0)%3|0?o:s+-2|0,o=((s>>>0)%3|0?-1:2)+s|0,(0|a)!=(0|c))for(b=_[(m<<2)+h>>2];;){if((0|b)==_[a>>2]&&(s=-1,d=_[a+4>>2],s=-1!=(0|o)?_[_[i>>2]+(o<<2)>>2]:s,(0|d)!=(0|s))){c=-1,c=-1!=(0|d)?_[_[i>>2]+(d<<2)>>2]:c,-1!=(0|s)&&(_[_[i>>2]+(s<<2)>>2]=-1),a=_[i>>2],-1!=(0|c)&&(_[a+(c<<2)>>2]=-1),_[a+(o<<2)>>2]=-1,_[a+(d<<2)>>2]=-1,p=1;break i}if((0|c)==(0|(a=a+8|0)))break}if(_[t+8>>2]=0,s=_[(a=o<<2)+h>>2],_[t+12>>2]=m,_[t+8>>2]=s,_[t+24>>2]==(0|c)?pn(t+16|0,t+8|0):(s=_[t+12>>2],_[c>>2]=_[t+8>>2],_[c+4>>2]=s,_[t+20>>2]=_[t+20>>2]+8),-1==(0|o)||-1==(0|(a=_[a+_[i>>2]>>2]))||(0|u)==(0|(s=a+((a>>>0)%3|0?-1:2)|0))|-1==(0|s))break;h=_[e>>2],o=_[n>>2],c=_[t+20>>2],a=_[t+16>>2]}h=_[e>>2]}if(f=f+1|0,a=_[r>>2],!(f>>>0<a-h>>2>>>0))break}if(p)continue}break}(e=_[t+16>>2])&&(_[t+20>>2]=e,Ka(e));(e=_[n>>2])&&Ka(e);z=t+48|0}(e),function(e,i){var r,n,a,s,o,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0,A=0,v=0,y=0,k=0,x=0,S=0,T=0,w=0,E=0,M=0;z=r=z-48|0,_[e+36>>2]=i,s=e+24|0,h=_[e+24>>2];(c=_[e+28>>2]-h>>2)>>>0<i>>>0?un(s,i-c|0):c>>>0<=i>>>0||(_[e+28>>2]=h+(i<<2));l[r+16|0]=0,n=dn(r+32|0,i,r+16|0),c=_[(o=e+4|0)>>2],h=_[e>>2],l[r+8|0]=0,a=dn(r+16|0,c-h>>2,r+8|0);i:if(c=_[e>>2],!(_[o>>2]-c>>2>>>0<3)){for(S=e+48|0,A=e+12|0,T=e+32|0,y=e+28|0,w=e+56|0,k=e+52|0;;){m=g(v,3),u=_[(m<<2)+c>>2],d=0,f=-1,-1!=(0|(h=m+1|0))&&(f=_[(h<<2)+c>>2],h=-1,-1==(0|(d=m+2|0)))||(h=_[(d<<2)+c>>2]);r:{if(!((0|h)==(0|f)|(0|f)==(0|u)|(0|h)==(0|u)))for(p=_[a>>2],b=0;;){n:if(!(_[((h=m+b|0)>>>3&536870908)+p>>2]>>>(31&h)&1)){if(d=_[_[e>>2]+(h<<2)>>2],_[r+8>>2]=d,c=1<<(31&d),f=_[n>>2],p=_[f+((d>>>=5)<<2)>>2],u=0,c&p){if((0|(c=_[y>>2]))==_[T>>2]?t(s,13900):(_[c>>2]=-1,_[y>>2]=c+4),(0|(c=_[k>>2]))==_[w>>2]?t(S,r+8|0):(_[c>>2]=_[r+8>>2],_[k>>2]=c+4),c=_[n+4>>2],u=_[n+8>>2],(0|c)==u<<5){if((c+1|0)<=-1)break r;c=c>>>0<=1073741822?(u<<=6)>>>0<(c=c+32&-32)>>>0?c:u:2147483647,Oe(f=n,c),c=_[n+4>>2]}_[n+4>>2]=c+1,f=_[n>>2],d=_[(u=f+(c>>>3&536870908)|0)>>2],E=u,M=cs(c)&d,_[E>>2]=M,_[r+8>>2]=i,c=1<<(31&i),p=_[((d=i>>>5)<<2)+f>>2],i=i+1|0,u=1}_[(d<<2)+f>>2]=c|p,p=_[a>>2],c=h;a:{for(;;){if(-1==(0|c))break a;if(_[(f=(c>>>3&536870908)+p|0)>>2]=_[f>>2]|1<<(31&c),f=_[r+8>>2],_[_[s>>2]+(f<<2)>>2]=c,u&&(_[_[e>>2]+(c<<2)>>2]=f),d=h,c=((f=c+1|0)>>>0)%3|0?f:c+-2|0,f=-1,-1!=(0|c)&&(c=_[_[A>>2]+(c<<2)>>2],f=-1,-1!=(0|c)&&(f=((f=c+1|0)>>>0)%3|0?f:c+-2|0)),(0|d)==(0|(c=f)))break}if(-1!=(0|h))break n}if(-1!=(0|(c=h+((h>>>0)%3|0?-1:2)|0))&&-1!=(0|(c=_[_[A>>2]+(c<<2)>>2]))&&-1!=(0|(c=c+((c>>>0)%3|0?-1:2)|0)))for(p=_[a>>2];;){if(_[(h=(c>>>3&536870908)+p|0)>>2]=_[h>>2]|1<<(31&c),u&&(_[_[e>>2]+(c<<2)>>2]=_[r+8>>2]),-1==(0|(c=((c>>>0)%3|0?-1:2)+c|0)))break n;if(-1==(0|(c=_[_[A>>2]+(c<<2)>>2])))break n;if(-1==(0|(c=c+((c>>>0)%3|0?-1:2)|0)))break}}if(3==(0|(b=b+1|0)))break}if(v=v+1|0,c=_[e>>2],v>>>0<(_[o>>2]-c>>2>>>0)/3>>>0)continue;break i}break}Wa(),P()}if(_[e+44>>2]=0,i=_[n>>2],c=_[n+4>>2],(h=c>>>5)|(u=31&c))for(h=(h<<2)+i|0,f=i,c=0;_[f>>2]>>>c&1||(x=x+1|0,_[e+44>>2]=x),(0|h)!=(0|(f=(d=31==(0|c))?f+4|0:f))|(0|(c=d?0:c+1|0))!=(0|u););(e=_[a>>2])&&(Ka(e),i=_[n>>2]);i&&Ka(i);z=r+48|0}(e,_[r+12>>2]),i=1);return z=r+16|0,i}(r,i)?(_[e>>2]=0,e=_[n+8>>2],_[n+8>>2]=0,e&&ne(n+8|0,e)):(_[e>>2]=_[n+8>>2],_[n+8>>2]=0);z=n+16|0}(e,i),!(e=_[i>>2]))break e;_[i+4>>2]=e,Ka(e);break e}Wa(),P()}else _[e>>2]=0;z=i+16|0}(i+8|0,t),r=_[i+8>>2],_[i+8>>2]=0,n=_[e+4>>2],_[e+4>>2]=r,n?(ne(r=e+4|0,n),n=_[i+8>>2],_[i+8>>2]=0,n&&ne(i+8|0,n),r=_[r>>2]):_[i+8>>2]=0,r?(r=_[t+100>>2],t=_[t+96>>2],l[i+7|0]=0,Ce(e+56|0,(r-t|0)/12|0,i+7|0),e=1):e=0,z=i+16|0,e}function se(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;e:{if(n=_[e>>2],(r=(i=(s=_[e+4>>2]-n|0)>>2)+1|0)>>>0<1073741824){if(o=i<<2,a=(i=_[e+8>>2]-n|0)>>1,r=i>>2>>>0<536870911?a>>>0<r>>>0?r:a:1073741823,i=0,r){if(r>>>0>=1073741824)break e;i=Fa(r<<2)}return _[(a=o+i|0)>>2]=_[t>>2],t=i+(r<<2)|0,r=a+4|0,(0|s)>=1&&es(i,n,s),_[e>>2]=i,_[e+8>>2]=t,_[e+4>>2]=r,void(n&&Ka(n))}Wa(),P()}Re(1040),P()}function oe(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0;if(z=r=z-16|0,_[e+68>>2]=_[e+68>>2]+1,n=g(t,12)+e|0,(0|(n=_[n+12>>2]-_[n+8>>2]|0))>=1)for(f=n>>2,n=_[44+((t<<2)+e|0)>>2],l=i+8|0,s=i+4|0;;){t=n,o=(n>>>0)/3|0,n=-1==(0|n)?-1:o,a=_[e+56>>2]+(n>>>3&536870908)|0,_[a>>2]=_[a>>2]|1<<(31&n),_[e+72>>2]=_[e+72>>2]+1;e:{t:if(c)if(n=(0|t)<0?-1:_[(_[_[e>>2]+96>>2]+g(o,12)|0)+((t>>>0)%3<<2)>>2],_[e+76>>2]=n,_[r+12>>2]=n,(a=_[s>>2])>>>0<A[l>>2]?(_[a>>2]=n,_[s>>2]=a+4):se(i,r+12|0),1&c){if(n=-1,-1==(0|t))break e;if(t-g(o,3)){t=t+-1|0;break t}t=t+2|0}else{if(n=-1,-1==(0|t))break e;t=((n=t+1|0)>>>0)%3|0?n:t+-2|0}else{if(n=(0|t)<0?-1:_[(_[_[e>>2]+96>>2]+g(o,12)|0)+((t>>>0)%3<<2)>>2],_[r+12>>2]=n,(a=_[s>>2])>>>0<A[l>>2]?(_[a>>2]=n,_[s>>2]=a+4):se(i,r+12|0),n=-1,-1!=(0|t)&&((0|(a=((a=t+1|0)>>>0)%3|0?a:t+-2|0))<0||(n=(a>>>0)/3|0,n=_[(_[_[e>>2]+96>>2]+g(n,12)|0)+(a-g(n,3)<<2)>>2])),_[r+12>>2]=n,(a=_[s>>2])>>>0<A[l>>2]?(_[a>>2]=n,_[s>>2]=a+4):se(i,r+12|0),a=e,n=-1,-1!=(0|t)&&(n=-1,(0|(o=((t>>>0)%3|0?-1:2)+t|0))<0||(n=(o>>>0)/3|0,n=_[(_[_[e>>2]+96>>2]+g(n,12)|0)+(o-g(n,3)<<2)>>2])),_[a+76>>2]=n,_[r+12>>2]=n,(a=_[s>>2])>>>0<A[l>>2]){_[a>>2]=n,_[s>>2]=a+4;break t}se(i,r+12|0)}n=-1,-1!=(0|t)&&(n=_[_[_[e+4>>2]+12>>2]+(t<<2)>>2])}if(!((0|(c=c+1|0))<(0|f)))break}z=r+16|0}function le(e,t,i){var r=0,n=0,a=0;if(!(A[e+80>>2]>65535)&&(n=_[e+96>>2],e=_[e+100>>2]-n|0,(0|g(a=(0|e)/12|0,6))==(0|t))){if(!e)return 1;for(e=0;t=g(e,6)+i|0,r=g(e,12)+n|0,p[t>>1]=_[r>>2],p[t+2>>1]=_[r+4>>2],p[t+4>>1]=_[r+8>>2],r=1,(e=e+1|0)>>>0<a>>>0;);}return r}function ce(e,t,i){var r,n,a=0;if(r=_[e+96>>2],n=(0|(e=_[e+100>>2]-r|0))/12|0,(0|e)==(0|t)){if(!t)return 1;for(e=0;t=(a=g(e,12))+i|0,a=a+r|0,_[t>>2]=_[a>>2],_[t+4>>2]=_[a+4>>2],_[t+8>>2]=_[a+8>>2],a=1,(e=e+1|0)>>>0<n>>>0;);}return a}function fe(e,t,i){var r,n=0,a=0,s=0;z=r=z-32|0,n=l[e+24|0],s=_[259],_[r+24>>2]=_[258],_[r+28>>2]=s,s=_[257],_[r+16>>2]=_[256],_[r+20>>2]=s;e:{if(he(e,t,n,r+16|0)){if(e=0,_[r+8>>2]=0,_[r>>2]=0,_[r+4>>2]=0,t=0,n){if((0|n)<=-1)break e;a=Fa(t=n<<2),_[r>>2]=a,e=(n<<2)+a|0,_[r+8>>2]=e,es(a,r+16|0,t),_[r+4>>2]=e,t=e}(n=_[i>>2])&&(_[i+4>>2]=n,Ka(n),_[i+8>>2]=0,_[i>>2]=0,_[i+4>>2]=0,t=_[r+4>>2],a=_[r>>2],e=_[r+8>>2]),_[i>>2]=a,_[i+8>>2]=e,_[i+4>>2]=t,a=1}return z=r+32|0,a}Wa(),P()}function he(e,t,i,r){var n=0,a=0,s=k(0),o=0,c=0;e:{t:if(r&&!((n=_[e+28>>2]+-1|0)>>>0>10)){i:switch(n-1|0){default:if(c=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0,o=m[e+32|0];s=k(l[0|t]),v[(a<<2)+r>>2]=o?k(s/k(127)):s,t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 0:if(c=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0,o=m[e+32|0];s=k(m[0|t]),v[(a<<2)+r>>2]=o?k(s/k(255)):s,t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 1:if(c=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0,o=m[e+32|0];s=k(p[t>>1]),v[(a<<2)+r>>2]=o?k(s/k(32767)):s,t=t+2|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 2:if(c=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0,o=m[e+32|0];s=k(b[t>>1]),v[(a<<2)+r>>2]=o?k(s/k(65535)):s,t=t+2|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 3:if(c=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0,o=m[e+32|0];s=k(_[t>>2]),v[(a<<2)+r>>2]=o?k(s*k(4.656612873077393e-10)):s,t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 4:if(c=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0,o=m[e+32|0];s=k(A[t>>2]),v[(a<<2)+r>>2]=o?k(s*k(2.3283064365386963e-10)):s,t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 5:if(c=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0,o=m[e+32|0];s=k(+A[t>>2]+4294967296*+_[t+4>>2]),v[(a<<2)+r>>2]=o?k(s*k(10842021724855044e-35)):s,t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 6:if(c=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0,o=m[e+32|0];s=k(+A[t>>2]+4294967296*+A[t+4>>2]),v[(a<<2)+r>>2]=o?k(s*k(5.421010862427522e-20)):s,t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 7:if(c=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;_[(a<<2)+r>>2]=_[t>>2],t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 8:if(c=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;v[(a<<2)+r>>2]=y[t>>3],t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 9:break i}if(c=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;v[(a<<2)+r>>2]=m[0|t]?k(1):k(0),t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);(0|n)>=(0|i)||ts((n<<2)+r|0,0,i-n<<2)}return c}return ts((n<<2)+r|0,0,i-n<<2),1}function ue(e,t,i){var r,n,a,s=0,o=0,c=0,f=0,h=0;z=r=z-16|0,n=_[e+80>>2],a=l[t+24|0],e=_[259],_[r+8>>2]=_[258],_[r+12>>2]=e,e=_[257],_[r>>2]=_[256],_[r+4>>2]=e,e=g(n,a),o=_[i>>2],e>>>0>(s=_[i+4>>2]-o>>2)>>>0?de(i,e-s|0):e>>>0>=s>>>0||(_[i+4>>2]=o+(e<<2));e:if(n)for(o=0,f=t+68|0,h=(0|a)<1;;){if(e=c,m[(s=t)+84|0]||(e=_[_[f>>2]+(c<<2)>>2]),!he(s,e,l[t+24|0],r)){e=0;break e}if(!h)for(s=_[i>>2],e=0;_[s+(o<<2)>>2]=_[(e<<2)+r>>2],o=o+1|0,(0|a)!=(0|(e=e+1|0)););if(e=1,(0|n)==(0|(c=c+1|0)))break}else e=1;return z=r+16|0,e}function de(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;if((r=_[e+8>>2])-(i=_[(n=e+4|0)>>2])>>2>>>0>=t>>>0)return c=n,f=ts(i,0,e=t<<2)+e|0,void(_[c>>2]=f);e:{if((a=(i=(s=i-(n=_[e>>2])|0)>>2)+t|0)>>>0<1073741824){if(l=i<<2,i=(r=r-n|0)>>1,r=r>>2>>>0<536870911?i>>>0<a>>>0?a:i:1073741823,i=0,r){if(r>>>0>=1073741824)break e;i=o=Fa(r<<2)}return ts(l+i|0,0,t<<2),t=i+(a<<2)|0,a=i+(r<<2)|0,(0|s)>=1&&es(o,n,s),_[e>>2]=i,_[e+8>>2]=a,_[e+4>>2]=t,void(n&&Ka(n))}Wa(),P()}Re(1040),P()}function pe(e,t,i){var r,n,a=0,s=0,o=0,c=0,f=0,h=0;z=r=z-16|0,n=_[e+80>>2],o=l[t+24|0],s=g(n,o);e:{if(e=_[t+28>>2],!m[t+84|0]|(2!=(0|e)?1!=(0|e):0)){if(_[r+8>>2]=0,_[r>>2]=0,_[r+4>>2]=0,o){if((0|o)<=-1)break e;for(a=Fa(o),_[r>>2]=a,_[r+4>>2]=a,_[r+8>>2]=a+o,e=o;l[0|a]=0,a=_[r+4>>2]+1|0,_[r+4>>2]=a,e=e+-1|0;);}a=_[i>>2],s>>>0>(e=_[i+4>>2]-a|0)>>>0?_e(i,s-e|0):s>>>0>=e>>>0||(_[i+4>>2]=a+s);t:if(n)for(e=0,c=t+68|0,f=(0|o)<1,s=0;;){if(a=s,h=t,m[t+84|0]||(a=_[_[c>>2]+(s<<2)>>2]),!me(h,a,l[t+24|0],_[r>>2])){a=0;break t}if(a=0,!f)for(;l[_[i>>2]+e|0]=m[_[r>>2]+a|0],e=e+1|0,(0|o)!=(0|(a=a+1|0)););if(a=1,(0|n)==(0|(s=s+1|0)))break}else a=1;(e=_[r>>2])&&(_[r+4>>2]=e,Ka(e))}else{if(o=_[t+48>>2],t=_[_[t>>2]>>2],_[r+8>>2]=0,_[r>>2]=0,_[r+4>>2]=0,e=0,s){if((0|s)<=-1)break e;e=Fa(s),_[r>>2]=e,a=e+s|0,_[r+8>>2]=a,es(e,t+o|0,s),_[r+4>>2]=a}(t=_[i>>2])&&(_[i+4>>2]=t,Ka(t),_[i+8>>2]=0,_[i>>2]=0,_[i+4>>2]=0),_[i>>2]=e,_[i+8>>2]=a,_[i+4>>2]=a,a=1}return z=r+16|0,a}Wa(),P()}function _e(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;e:{t:{if((r=_[e+8>>2])-(i=_[(n=e+4|0)>>2])>>>0>=t>>>0)for(;;)if(l[0|i]=0,i=_[n>>2]+1|0,_[n>>2]=i,!(t=t+-1|0))break t;if((0|(i=(s=i-(a=_[e>>2])|0)+t|0))<=-1)break e;for(n=0,o=(r=r-a|0)<<1,(r=r>>>0<1073741823?o>>>0<i>>>0?i:o:2147483647)&&(n=Fa(r)),ts(i=n+s|0,0,t),r=r+n|0;i=i+1|0,t=t+-1|0;);(0|s)>=1&&es(n,a,s),_[e>>2]=n,_[e+8>>2]=r,_[e+4>>2]=i,a&&Ka(a)}return}Wa(),P()}function me(e,t,i,r){var n=0,a=0,s=0,o=0,c=k(0),f=0;e:{t:if(r&&!((n=_[e+28>>2]+-1|0)>>>0>10)){i:{r:{n:switch(n-1|0){default:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;l[r+a|0]=m[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 0:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;l[r+a|0]=m[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 1:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;l[r+a|0]=m[0|t],t=t+2|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 2:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;l[r+a|0]=m[0|t],t=t+2|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 3:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;l[r+a|0]=_[t>>2],t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 4:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;l[r+a|0]=_[t>>2],t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 5:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;l[r+a|0]=_[t>>2],t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 6:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;l[r+a|0]=_[t>>2],t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 7:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24<1)break i;for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;n=r+a|0,c=v[t>>2],o=k(x(c))<k(2147483648)?~~c:-2147483648,l[0|n]=o,t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);break i;case 8:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24<1)break r;for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;n=r+a|0,f=y[t>>3],o=x(f)<2147483648?~~f:-2147483648,l[0|n]=o,t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);break r;case 9:break n}if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;l[r+a|0]=m[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;ts(r+n|0,0,i-n|0);break t}if((0|n)>=(0|i))break t;break e}if(!((0|n)>=(0|i)))break e}return s}return ts(r+n|0,0,i-n|0),1}function be(e,t,i){var r,n,a=0,s=0,o=0,c=0,f=0,h=0;z=r=z-16|0,n=_[e+80>>2],o=l[t+24|0],s=g(n,o);e:{if(e=_[t+28>>2],!m[t+84|0]|(2!=(0|e)?1!=(0|e):0)){if(_[r+8>>2]=0,_[r>>2]=0,_[r+4>>2]=0,o){if((0|o)<=-1)break e;for(a=Fa(o),_[r>>2]=a,_[r+4>>2]=a,_[r+8>>2]=a+o,e=o;l[0|a]=0,a=_[r+4>>2]+1|0,_[r+4>>2]=a,e=e+-1|0;);}a=_[i>>2],s>>>0>(e=_[i+4>>2]-a|0)>>>0?_e(i,s-e|0):s>>>0>=e>>>0||(_[i+4>>2]=a+s);t:if(n)for(e=0,c=t+68|0,f=(0|o)<1,s=0;;){if(a=s,h=t,m[t+84|0]||(a=_[_[c>>2]+(s<<2)>>2]),!Ae(h,a,l[t+24|0],_[r>>2])){a=0;break t}if(a=0,!f)for(;l[_[i>>2]+e|0]=m[_[r>>2]+a|0],e=e+1|0,(0|o)!=(0|(a=a+1|0)););if(a=1,(0|n)==(0|(s=s+1|0)))break}else a=1;(e=_[r>>2])&&(_[r+4>>2]=e,Ka(e))}else{if(o=_[t+48>>2],t=_[_[t>>2]>>2],_[r+8>>2]=0,_[r>>2]=0,_[r+4>>2]=0,e=0,s){if((0|s)<=-1)break e;e=Fa(s),_[r>>2]=e,a=e+s|0,_[r+8>>2]=a,es(e,t+o|0,s),_[r+4>>2]=a}(t=_[i>>2])&&(_[i+4>>2]=t,Ka(t),_[i+8>>2]=0,_[i>>2]=0,_[i+4>>2]=0),_[i>>2]=e,_[i+8>>2]=a,_[i+4>>2]=a,a=1}return z=r+16|0,a}Wa(),P()}function Ae(e,t,i,r){var n=0,a=0,s=0,o=0,c=k(0),f=0;e:{t:if(r&&!((n=_[e+28>>2]+-1|0)>>>0>10)){i:{r:{n:switch(n-1|0){default:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;l[r+a|0]=m[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 0:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;l[r+a|0]=m[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 1:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;l[r+a|0]=m[0|t],t=t+2|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 2:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;l[r+a|0]=m[0|t],t=t+2|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 3:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;l[r+a|0]=_[t>>2],t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 4:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;l[r+a|0]=_[t>>2],t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 5:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;l[r+a|0]=_[t>>2],t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 6:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;l[r+a|0]=_[t>>2],t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 7:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24<1)break i;for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;n=r+a|0,o=(c=v[t>>2])<k(4294967296)&c>=k(0)?~~c>>>0:0,l[0|n]=o,t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);break i;case 8:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24<1)break r;for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;n=r+a|0,o=(f=y[t>>3])<4294967296&f>=0?~~f>>>0:0,l[0|n]=o,t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);break r;case 9:break n}if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;l[r+a|0]=m[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;ts(r+n|0,0,i-n|0);break t}if((0|n)>=(0|i))break t;break e}if(!((0|n)>=(0|i)))break e}return s}return ts(r+n|0,0,i-n|0),1}function ve(e,t,i){var r,n,a,s=0,o=0,c=0,f=0,h=0,u=0;z=r=z-16|0,a=_[e+80>>2],n=l[t+24|0],e=g(a,n);e:{if(s=_[t+28>>2],!m[t+84|0]|(4!=(0|s)?3!=(0|s):0)){if(_[r+8>>2]=0,_[r>>2]=0,_[r+4>>2]=0,n){if((0|n)<=-1)break e;o=Fa(s=n<<1),_[r>>2]=o,c=s+o|0,_[r+8>>2]=c,ts(o,0,s),_[r+4>>2]=c}o=_[i>>2],e>>>0>(s=_[i+4>>2]-o>>1)>>>0?ye(i,e-s|0):e>>>0>=s>>>0||(_[i+4>>2]=o+(e<<1));t:if(a)for(o=0,c=t+68|0,h=(0|n)<1;;){if(e=f,s=t,m[t+84|0]||(e=_[_[c>>2]+(f<<2)>>2]),!ge(s,e,l[t+24|0],_[r>>2])){e=0;break t}if(!h)for(s=_[i>>2],e=0,u=_[r>>2];p[s+(o<<1)>>1]=b[u+(e<<1)>>1],o=o+1|0,(0|n)!=(0|(e=e+1|0)););if(e=1,(0|a)==(0|(f=f+1|0)))break}else e=1;(t=_[r>>2])&&(_[r+4>>2]=t,Ka(t))}else{if(f=_[t+48>>2],s=_[_[t>>2]>>2],_[r+8>>2]=0,_[r>>2]=0,_[r+4>>2]=0,t=0,e<<=1){if((0|e)<=-1)break e;o=Fa(e),_[r>>2]=o,c=(e>>1<<1)+o|0,_[r+8>>2]=c,t=es(o,s+f|0,e)+e|0,_[r+4>>2]=t}(e=_[i>>2])&&(_[i+4>>2]=e,Ka(e),_[i+8>>2]=0,_[i>>2]=0,_[i+4>>2]=0),_[i>>2]=o,_[i+8>>2]=c,_[i+4>>2]=t,e=1}return z=r+16|0,e}Wa(),P()}function ye(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;if((r=_[e+8>>2])-(i=_[(n=e+4|0)>>2])>>1>>>0>=t>>>0)return c=n,f=ts(i,0,e=t<<1)+e|0,void(_[c>>2]=f);e:{if((0|(a=(i=(s=i-(n=_[e>>2])|0)>>1)+t|0))>-1){if(l=i<<1,i=0,r=(r=r-n|0)>>1>>>0<1073741823?r>>>0<a>>>0?a:r:2147483647){if((0|r)<=-1)break e;i=o=Fa(r<<1)}return ts(l+i|0,0,t<<1),t=i+(a<<1)|0,a=i+(r<<1)|0,(0|s)>=1&&es(o,n,s),_[e>>2]=i,_[e+8>>2]=a,_[e+4>>2]=t,void(n&&Ka(n))}Wa(),P()}Re(1040),P()}function ge(e,t,i,r){var n=0,a=0,s=0,o=0,c=k(0),f=0;e:{t:if(r&&!((n=_[e+28>>2]+-1|0)>>>0>10)){i:{r:{n:switch(n-1|0){default:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;p[(a<<1)+r>>1]=l[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 0:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;p[(a<<1)+r>>1]=m[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 1:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;p[(a<<1)+r>>1]=b[t>>1],t=t+2|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 2:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;p[(a<<1)+r>>1]=b[t>>1],t=t+2|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 3:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;p[(a<<1)+r>>1]=_[t>>2],t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 4:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;p[(a<<1)+r>>1]=_[t>>2],t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 5:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;p[(a<<1)+r>>1]=_[t>>2],t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 6:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;p[(a<<1)+r>>1]=_[t>>2],t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 7:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24<1)break i;for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;n=(a<<1)+r|0,c=v[t>>2],o=k(x(c))<k(2147483648)?~~c:-2147483648,p[n>>1]=o,t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);break i;case 8:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24<1)break r;for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;n=(a<<1)+r|0,f=y[t>>3],o=x(f)<2147483648?~~f:-2147483648,p[n>>1]=o,t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);break r;case 9:break n}if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;p[(a<<1)+r>>1]=m[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;ts((n<<1)+r|0,0,i-n<<1);break t}if((0|n)>=(0|i))break t;break e}if(!((0|n)>=(0|i)))break e}return s}return ts((n<<1)+r|0,0,i-n<<1),1}function ke(e,t,i){var r,n,a,s=0,o=0,c=0,f=0,h=0,u=0;z=r=z-16|0,a=_[e+80>>2],n=l[t+24|0],e=g(a,n);e:{if(s=_[t+28>>2],!m[t+84|0]|(4!=(0|s)?3!=(0|s):0)){if(_[r+8>>2]=0,_[r>>2]=0,_[r+4>>2]=0,n){if((0|n)<=-1)break e;o=Fa(s=n<<1),_[r>>2]=o,c=s+o|0,_[r+8>>2]=c,ts(o,0,s),_[r+4>>2]=c}o=_[i>>2],e>>>0>(s=_[i+4>>2]-o>>1)>>>0?ye(i,e-s|0):e>>>0>=s>>>0||(_[i+4>>2]=o+(e<<1));t:if(a)for(o=0,c=t+68|0,h=(0|n)<1;;){if(e=f,s=t,m[t+84|0]||(e=_[_[c>>2]+(f<<2)>>2]),!xe(s,e,l[t+24|0],_[r>>2])){e=0;break t}if(!h)for(s=_[i>>2],e=0,u=_[r>>2];p[s+(o<<1)>>1]=b[u+(e<<1)>>1],o=o+1|0,(0|n)!=(0|(e=e+1|0)););if(e=1,(0|a)==(0|(f=f+1|0)))break}else e=1;(t=_[r>>2])&&(_[r+4>>2]=t,Ka(t))}else{if(f=_[t+48>>2],s=_[_[t>>2]>>2],_[r+8>>2]=0,_[r>>2]=0,_[r+4>>2]=0,t=0,e<<=1){if((0|e)<=-1)break e;o=Fa(e),_[r>>2]=o,c=(e>>1<<1)+o|0,_[r+8>>2]=c,t=es(o,s+f|0,e)+e|0,_[r+4>>2]=t}(e=_[i>>2])&&(_[i+4>>2]=e,Ka(e),_[i+8>>2]=0,_[i>>2]=0,_[i+4>>2]=0),_[i>>2]=o,_[i+8>>2]=c,_[i+4>>2]=t,e=1}return z=r+16|0,e}Wa(),P()}function xe(e,t,i,r){var n=0,a=0,s=0,o=0,c=k(0),f=0;e:{t:if(r&&!((n=_[e+28>>2]+-1|0)>>>0>10)){i:{r:{n:switch(n-1|0){default:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;p[(a<<1)+r>>1]=l[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 0:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;p[(a<<1)+r>>1]=m[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 1:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;p[(a<<1)+r>>1]=b[t>>1],t=t+2|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 2:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;p[(a<<1)+r>>1]=b[t>>1],t=t+2|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 3:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;p[(a<<1)+r>>1]=_[t>>2],t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 4:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;p[(a<<1)+r>>1]=_[t>>2],t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 5:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;p[(a<<1)+r>>1]=_[t>>2],t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 6:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;p[(a<<1)+r>>1]=_[t>>2],t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 7:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24<1)break i;for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;n=(a<<1)+r|0,o=(c=v[t>>2])<k(4294967296)&c>=k(0)?~~c>>>0:0,p[n>>1]=o,t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);break i;case 8:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24<1)break r;for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;n=(a<<1)+r|0,o=(f=y[t>>3])<4294967296&f>=0?~~f>>>0:0,p[n>>1]=o,t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);break r;case 9:break n}if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;p[(a<<1)+r>>1]=m[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;ts((n<<1)+r|0,0,i-n<<1);break t}if((0|n)>=(0|i))break t;break e}if(!((0|n)>=(0|i)))break e}return s}return ts((n<<1)+r|0,0,i-n<<1),1}function Se(e,t,i){var r,n,a=0,s=0,o=0,c=0,f=0,h=0,u=0;z=r=z-16|0,n=_[e+80>>2],o=l[t+24|0],s=g(n,o);e:{if(e=_[t+28>>2],!m[t+84|0]|(6!=(0|e)?5!=(0|e):0)){if(_[r+8>>2]=0,_[r>>2]=0,_[r+4>>2]=0,o){if((0|o)<=-1)break e;a=Fa(e=o<<2),_[r>>2]=a,c=e+a|0,_[r+8>>2]=c,ts(a,0,e),_[r+4>>2]=c}a=_[i>>2],s>>>0>(e=_[i+4>>2]-a>>2)>>>0?de(i,s-e|0):s>>>0>=e>>>0||(_[i+4>>2]=a+(s<<2));t:if(n)for(a=0,c=t+68|0,h=(0|o)<1;;){if(e=f,s=t,m[t+84|0]||(e=_[_[c>>2]+(f<<2)>>2]),!Te(s,e,l[t+24|0],_[r>>2])){e=0;break t}if(!h)for(s=_[i>>2],e=0,u=_[r>>2];_[s+(a<<2)>>2]=_[u+(e<<2)>>2],a=a+1|0,(0|o)!=(0|(e=e+1|0)););if(e=1,(0|n)==(0|(f=f+1|0)))break}else e=1;(t=_[r>>2])&&(_[r+4>>2]=t,Ka(t))}else{if(f=_[t+48>>2],o=_[_[t>>2]>>2],_[r+8>>2]=0,_[r>>2]=0,_[r+4>>2]=0,e=0,t=s<<2){if((e=t>>2)>>>0>=1073741824)break e;a=Fa(t),_[r>>2]=a,_[r+4>>2]=a,c=(e<<2)+a|0,_[r+8>>2]=c,(0|t)<1?e=a:(e=es(a,o+f|0,t)+t|0,_[r+4>>2]=e)}(t=_[i>>2])&&(_[i+4>>2]=t,Ka(t),_[i+8>>2]=0,_[i>>2]=0,_[i+4>>2]=0),_[i>>2]=a,_[i+8>>2]=c,_[i+4>>2]=e,e=1}return z=r+16|0,e}Wa(),P()}function Te(e,t,i,r){var n=0,a=0,s=0,o=0,c=k(0),f=0;e:{t:if(r&&!((n=_[e+28>>2]+-1|0)>>>0>10)){i:{r:{n:switch(n-1|0){default:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;_[(a<<2)+r>>2]=l[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 0:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;_[(a<<2)+r>>2]=m[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 1:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;_[(a<<2)+r>>2]=p[t>>1],t=t+2|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 2:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;_[(a<<2)+r>>2]=b[t>>1],t=t+2|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 3:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;_[(a<<2)+r>>2]=_[t>>2],t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 4:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;_[(a<<2)+r>>2]=_[t>>2],t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 5:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;_[(a<<2)+r>>2]=_[t>>2],t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 6:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;_[(a<<2)+r>>2]=_[t>>2],t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 7:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24<1)break i;for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;n=(a<<2)+r|0,c=v[t>>2],o=k(x(c))<k(2147483648)?~~c:-2147483648,_[n>>2]=o,t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);break i;case 8:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24<1)break r;for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;n=(a<<2)+r|0,f=y[t>>3],o=x(f)<2147483648?~~f:-2147483648,_[n>>2]=o,t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);break r;case 9:break n}if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;_[(a<<2)+r>>2]=m[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;ts((n<<2)+r|0,0,i-n<<2);break t}if((0|n)>=(0|i))break t;break e}if(!((0|n)>=(0|i)))break e}return s}return ts((n<<2)+r|0,0,i-n<<2),1}function we(e,t,i){var r,n,a=0,s=0,o=0,c=0,f=0,h=0,u=0;z=r=z-16|0,n=_[e+80>>2],o=l[t+24|0],s=g(n,o);e:{if(e=_[t+28>>2],!m[t+84|0]|(6!=(0|e)?5!=(0|e):0)){if(_[r+8>>2]=0,_[r>>2]=0,_[r+4>>2]=0,o){if((0|o)<=-1)break e;a=Fa(e=o<<2),_[r>>2]=a,c=e+a|0,_[r+8>>2]=c,ts(a,0,e),_[r+4>>2]=c}a=_[i>>2],s>>>0>(e=_[i+4>>2]-a>>2)>>>0?de(i,s-e|0):s>>>0>=e>>>0||(_[i+4>>2]=a+(s<<2));t:if(n)for(a=0,c=t+68|0,h=(0|o)<1;;){if(e=f,s=t,m[t+84|0]||(e=_[_[c>>2]+(f<<2)>>2]),!Ee(s,e,l[t+24|0],_[r>>2])){e=0;break t}if(!h)for(s=_[i>>2],e=0,u=_[r>>2];_[s+(a<<2)>>2]=_[u+(e<<2)>>2],a=a+1|0,(0|o)!=(0|(e=e+1|0)););if(e=1,(0|n)==(0|(f=f+1|0)))break}else e=1;(t=_[r>>2])&&(_[r+4>>2]=t,Ka(t))}else{if(f=_[t+48>>2],o=_[_[t>>2]>>2],_[r+8>>2]=0,_[r>>2]=0,_[r+4>>2]=0,e=0,t=s<<2){if((e=t>>2)>>>0>=1073741824)break e;a=Fa(t),_[r>>2]=a,_[r+4>>2]=a,c=(e<<2)+a|0,_[r+8>>2]=c,(0|t)<1?e=a:(e=es(a,o+f|0,t)+t|0,_[r+4>>2]=e)}(t=_[i>>2])&&(_[i+4>>2]=t,Ka(t),_[i+8>>2]=0,_[i>>2]=0,_[i+4>>2]=0),_[i>>2]=a,_[i+8>>2]=c,_[i+4>>2]=e,e=1}return z=r+16|0,e}Wa(),P()}function Ee(e,t,i,r){var n=0,a=0,s=0,o=0,c=k(0),f=0;e:{t:if(r&&!((n=_[e+28>>2]+-1|0)>>>0>10)){i:{r:{n:switch(n-1|0){default:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;_[(a<<2)+r>>2]=l[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 0:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;_[(a<<2)+r>>2]=m[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 1:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;_[(a<<2)+r>>2]=p[t>>1],t=t+2|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 2:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;_[(a<<2)+r>>2]=b[t>>1],t=t+2|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 3:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;_[(a<<2)+r>>2]=_[t>>2],t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 4:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;_[(a<<2)+r>>2]=_[t>>2],t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 5:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;_[(a<<2)+r>>2]=_[t>>2],t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 6:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;_[(a<<2)+r>>2]=_[t>>2],t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 7:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24<1)break i;for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;n=(a<<2)+r|0,o=(c=v[t>>2])<k(4294967296)&c>=k(0)?~~c>>>0:0,_[n>>2]=o,t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);break i;case 8:if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24<1)break r;for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;n=(a<<2)+r|0,o=(f=y[t>>3])<4294967296&f>=0?~~f>>>0:0,_[n>>2]=o,t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);break r;case 9:break n}if(s=1,((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(n=_[_[e>>2]>>2])+(t=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;_[(a<<2)+r>>2]=m[0|t],t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;ts((n<<2)+r|0,0,i-n<<2);break t}if((0|n)>=(0|i))break t;break e}if(!((0|n)>=(0|i)))break e}return s}return ts((n<<2)+r|0,0,i-n<<2),1}function Me(e,t,i,r,n){var a,s=0,o=0,c=0,f=0,h=0,u=0;z=a=z-16|0;e:if(!((i=i+-1|0)>>>0>8)){t:switch(i-1|0){default:s=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0;z=n=z-16|0;i:{if(c=_[e+80>>2],s=l[t+24|0],(0|g(c,s))==(0|i))if(!m[t+84|0]|1!=_[t+28>>2]){if(_[n+8>>2]=0,_[n>>2]=0,_[n+4>>2]=0,s){if((0|s)<=-1)break i;for(a=Fa(s),_[n>>2]=a,_[n+4>>2]=a,_[n+8>>2]=a+s,i=s;l[0|a]=0,a=_[n+4>>2]+1|0,_[n+4>>2]=a,i=i+-1|0;);}r:if(c)for(i=0,f=t+68|0,h=(0|s)<1;;){if(e=o,m[(a=t)+84|0]||(e=_[_[f>>2]+(o<<2)>>2]),!me(a,e,l[t+24|0],_[n>>2])){a=0;break r}if(!h)for(a=0,e=_[n>>2];l[i+r|0]=m[e+a|0],i=i+1|0,(0|s)!=(0|(a=a+1|0)););if(a=1,(0|c)==(0|(o=o+1|0)))break}else a=1;(e=_[n>>2])&&(_[n+4>>2]=e,Ka(e))}else es(r,_[_[t>>2]>>2]+_[t+48>>2]|0,i),a=1;return z=n+16|0,a}Wa(),P()}(e,t,r,n);break e;case 1:s=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0;z=n=z-16|0;i:{if(c=_[e+80>>2],s=l[t+24|0],(0|g(c,e=s<<1))==(0|i))if(!m[t+84|0]|3!=_[t+28>>2]){if(i=0,_[n+8>>2]=0,_[n>>2]=0,_[n+4>>2]=0,s){if((0|s)<=-1)break i;i=Fa(e),_[n>>2]=i,_[n+8>>2]=(s<<1)+i,u=n,d=ts(i,0,e)+e|0,_[u+4>>2]=d}if(c){for(i=0,f=t+68|0,h=(0|s)<1;;){if(e=o,a=t,m[t+84|0]||(e=_[_[f>>2]+(o<<2)>>2]),ge(a,e,l[t+24|0],_[n>>2])){if(!h)for(a=0,e=_[n>>2];p[(i<<1)+r>>1]=b[e+(a<<1)>>1],i=i+1|0,(0|s)!=(0|(a=a+1|0)););if(a=1,(0|c)!=(0|(o=o+1|0)))continue}else a=0;break}i=_[n>>2]}else a=1;i&&(_[n+4>>2]=i,Ka(i))}else es(r,_[_[t>>2]>>2]+_[t+48>>2]|0,i),a=1;return z=n+16|0,a}Wa(),P()}(e,t,r,n);break e;case 3:s=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0;z=n=z-16|0;i:{if(c=_[e+80>>2],s=l[t+24|0],(0|g(c,e=s<<2))==(0|i))if(!m[t+84|0]|5!=_[t+28>>2]){if(i=0,_[n+8>>2]=0,_[n>>2]=0,_[n+4>>2]=0,s){if((0|s)<=-1)break i;i=Fa(e),_[n>>2]=i,_[n+8>>2]=(s<<2)+i,u=n,d=ts(i,0,e)+e|0,_[u+4>>2]=d}if(c){for(i=0,f=t+68|0,h=(0|s)<1;;){if(e=o,a=t,m[t+84|0]||(e=_[_[f>>2]+(o<<2)>>2]),Te(a,e,l[t+24|0],_[n>>2])){if(!h)for(a=0,e=_[n>>2];_[(i<<2)+r>>2]=_[e+(a<<2)>>2],i=i+1|0,(0|s)!=(0|(a=a+1|0)););if(a=1,(0|c)!=(0|(o=o+1|0)))continue}else a=0;break}i=_[n>>2]}else a=1;i&&(_[n+4>>2]=i,Ka(i))}else es(r,_[_[t>>2]>>2]+_[t+48>>2]|0,i),a=1;return z=n+16|0,a}Wa(),P()}(e,t,r,n);break e;case 0:s=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0;z=n=z-16|0;i:{if(c=_[e+80>>2],s=l[t+24|0],(0|g(c,s))==(0|i))if(!m[t+84|0]|2!=_[t+28>>2]){if(_[n+8>>2]=0,_[n>>2]=0,_[n+4>>2]=0,s){if((0|s)<=-1)break i;for(a=Fa(s),_[n>>2]=a,_[n+4>>2]=a,_[n+8>>2]=a+s,i=s;l[0|a]=0,a=_[n+4>>2]+1|0,_[n+4>>2]=a,i=i+-1|0;);}r:if(c)for(i=0,f=t+68|0,h=(0|s)<1;;){if(e=o,m[(a=t)+84|0]||(e=_[_[f>>2]+(o<<2)>>2]),!Ae(a,e,l[t+24|0],_[n>>2])){a=0;break r}if(!h)for(a=0,e=_[n>>2];l[i+r|0]=m[e+a|0],i=i+1|0,(0|s)!=(0|(a=a+1|0)););if(a=1,(0|c)==(0|(o=o+1|0)))break}else a=1;(e=_[n>>2])&&(_[n+4>>2]=e,Ka(e))}else es(r,_[_[t>>2]>>2]+_[t+48>>2]|0,i),a=1;return z=n+16|0,a}Wa(),P()}(e,t,r,n);break e;case 2:s=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0;z=n=z-16|0;i:{if(c=_[e+80>>2],s=l[t+24|0],(0|g(c,e=s<<1))==(0|i))if(!m[t+84|0]|4!=_[t+28>>2]){if(i=0,_[n+8>>2]=0,_[n>>2]=0,_[n+4>>2]=0,s){if((0|s)<=-1)break i;i=Fa(e),_[n>>2]=i,_[n+8>>2]=(s<<1)+i,u=n,d=ts(i,0,e)+e|0,_[u+4>>2]=d}if(c){for(i=0,f=t+68|0,h=(0|s)<1;;){if(e=o,a=t,m[t+84|0]||(e=_[_[f>>2]+(o<<2)>>2]),xe(a,e,l[t+24|0],_[n>>2])){if(!h)for(a=0,e=_[n>>2];p[(i<<1)+r>>1]=b[e+(a<<1)>>1],i=i+1|0,(0|s)!=(0|(a=a+1|0)););if(a=1,(0|c)!=(0|(o=o+1|0)))continue}else a=0;break}i=_[n>>2]}else a=1;i&&(_[n+4>>2]=i,Ka(i))}else es(r,_[_[t>>2]>>2]+_[t+48>>2]|0,i),a=1;return z=n+16|0,a}Wa(),P()}(e,t,r,n);break e;case 4:s=function(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0;z=n=z-16|0;i:{if(c=_[e+80>>2],s=l[t+24|0],(0|g(c,e=s<<2))==(0|i))if(!m[t+84|0]|6!=_[t+28>>2]){if(i=0,_[n+8>>2]=0,_[n>>2]=0,_[n+4>>2]=0,s){if((0|s)<=-1)break i;i=Fa(e),_[n>>2]=i,_[n+8>>2]=(s<<2)+i,u=n,d=ts(i,0,e)+e|0,_[u+4>>2]=d}if(c){for(i=0,f=t+68|0,h=(0|s)<1;;){if(e=o,a=t,m[t+84|0]||(e=_[_[f>>2]+(o<<2)>>2]),Ee(a,e,l[t+24|0],_[n>>2])){if(!h)for(a=0,e=_[n>>2];_[(i<<2)+r>>2]=_[e+(a<<2)>>2],i=i+1|0,(0|s)!=(0|(a=a+1|0)););if(a=1,(0|c)!=(0|(o=o+1|0)))continue}else a=0;break}i=_[n>>2]}else a=1;i&&(_[n+4>>2]=i,Ka(i))}else es(r,_[_[t>>2]>>2]+_[t+48>>2]|0,i),a=1;return z=n+16|0,a}Wa(),P()}(e,t,r,n);break e;case 5:case 6:break e;case 7:break t}if(o=_[e+80>>2],c=l[t+24|0],(0|g(o,f=c<<2))==(0|r))if(e=0,i=_[259],_[a+8>>2]=_[258],_[a+12>>2]=i,i=_[257],_[a>>2]=_[256],_[a+4>>2]=i,o)for(h=t+68|0,u=(0|c)<1,i=0;;){if(r=i,s=t,m[t+84|0]||(r=_[_[h>>2]+(i<<2)>>2]),!he(s,r,l[t+24|0],a)){s=0;break e}if(u||(es((e<<2)+n|0,a,f),e=e+c|0),s=1,(0|o)==(0|(i=i+1|0)))break}else s=1}return z=a+16|0,s}function Pe(e,t){var i=0,r=0;if(!(i=_[e+4>>2]))return 0;if((0|(t=_[_[_[e+8>>2]+(t<<2)>>2]+60>>2]))<0)return 0;if((0|(e=_[i+24>>2]))==(0|(i=_[i+28>>2])))return 0;e:{for(;;){if(r=_[e>>2],(0|t)==_[r+24>>2])break e;if((0|i)==(0|(e=e+4|0)))break}return 0}return r}function Re(e){var t;t=0|R(8),_[t>>2]=15856,_[t>>2]=15900,function(e,t){var i,r,n,a;i=fa(t),r=Fa(i+13|0),_[r+8>>2]=0,_[r+4>>2]=i,_[r>>2]=i,n=e,a=es(r+12|0,t,i+1|0),_[n>>2]=a}(t+4|0,e),_[t>>2]=15948,C(0|t,15980,1),P()}function Ce(e,t,i){var r,n=0,a=0,s=0;z=r=z-16|0,_[e+4>>2]=0;e:{t:if(t){if((n=(a=_[e+8>>2])<<5)>>>0>=t>>>0)_[e+4>>2]=t;else{if(_[r+8>>2]=0,_[r>>2]=0,_[r+4>>2]=0,(0|t)<=-1)break e;Oe(r,s=n>>>0<=1073741822?(n=a<<6)>>>0<(s=t+31&-32)>>>0?s:n:2147483647),s=_[e>>2],_[e>>2]=_[r>>2],_[r>>2]=s,a=_[e+4>>2],_[e+4>>2]=t,_[r+4>>2]=a,a=_[(n=e+8|0)>>2],_[n>>2]=_[r+8>>2],_[r+8>>2]=a,s&&Ka(s)}if(a=(n=t>>>5)<<2,e=_[e>>2],m[0|i]){if(e=ts(e,255,a),!(t&=31))break t;_[(e=e+(n<<2)|0)>>2]=_[e>>2]|-1>>>32-t}else e=ts(e,0,a),(t&=31)&&(_[(e=e+(n<<2)|0)>>2]=_[e>>2]&(-1>>>32-t^-1))}return void(z=r+16|0)}Wa(),P()}function Oe(e,t){var i,r=0;z=i=z-32|0;e:{if(!(_[e+8>>2]<<5>>>0>=t>>>0)){if(_[i+24>>2]=0,_[i+16>>2]=0,_[i+20>>2]=0,(0|t)<=-1)break e;r=Fa((t=1+(t+-1>>>5)|0)<<2),_[i+24>>2]=t,_[i+20>>2]=0,_[i+16>>2]=r,t=_[e>>2],_[i+12>>2]=0,_[i+8>>2]=t,r=_[e+4>>2],_[i+4>>2]=31&r,_[i>>2]=t+(r>>>3&536870908),function(e,t,i){var r,n,a,s=0,o=0,l=0;z=r=z-32|0,n=_[i+4>>2],s=_[t+4>>2],a=_[i>>2],l=_[t>>2],t=(n-s|0)+(a-l<<3)|0,i=_[e+4>>2],o=t+i|0,_[e+4>>2]=o;!i|(o+-1^i+-1)>>>0>31?(e=_[e>>2],o>>>0<=32?_[e>>2]=0:_[(o+-1>>>3&536870908)+e>>2]=0):e=_[e>>2];e=(i>>>3&536870908)+e|0;(0|(i&=31))!=(0|s)?(_[r+28>>2]=s,_[r+24>>2]=l,_[r+20>>2]=n,_[r+16>>2]=a,_[r+12>>2]=i,_[r+8>>2]=e,function(e,t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0;a=_[t>>2],n=_[i+4>>2]+(_[i>>2]-a<<3)|0,i=_[t+4>>2];if((0|(s=n-i|0))<=0)i=_[r+4>>2];else{if(i?(n=_[r+4>>2],l=(c=32-n|0)>>>0<(o=(0|s)<(0|(f=32-i|0))?s:f)>>>0?c:o,h=_[r>>2],a=_[a>>2]&-1<<i&-1>>>f-o,_[h>>2]=_[h>>2]&(-1<<n&-1>>>c-l^-1)|(n>>>0>i>>>0?a<<n-i:a>>>i-n),i=31&(n=n+l|0),_[r+4>>2]=i,c=h+(n>>>3&536870908)|0,_[r>>2]=c,(0|(n=o-l|0))>=1&&(_[c>>2]=_[c>>2]&(-1>>>32-n^-1)|a>>>l+_[t+4>>2],_[r+4>>2]=n,i=n),s=s-o|0,a=_[t>>2]+4|0,_[t>>2]=a):i=_[r+4>>2],l=-1<<i,o=32-i|0,(0|s)<32)n=s;else for(c=-1^l;n=_[r>>2],a=_[a>>2],_[n>>2]=c&_[n>>2]|a<<i,_[r>>2]=n+4,_[n+4>>2]=l&_[n+4>>2]|a>>>o,a=_[t>>2]+4|0,_[t>>2]=a,f=(0|s)>63,s=n=s+-32|0,f;);(0|n)<1||(t=_[r>>2],s=(0|o)<(0|n)?o:n,l=_[t>>2]&(l&-1>>>o-s^-1),o=_[a>>2]&-1>>>32-n,_[t>>2]=l|o<<i,i=31&(a=i+s|0),_[r+4>>2]=i,a=t+(a>>>3&536870908)|0,_[r>>2]=a,(0|(t=n-s|0))<1||(_[a>>2]=_[a>>2]&(-1>>>32-t^-1)|o>>>s,_[r+4>>2]=t,i=t))}t=_[r>>2],_[e+4>>2]=i,_[e>>2]=t}(r,r+24|0,r+16|0,r+8|0)):((0|t)<1||(s?(o=-1<<s&-1>>>(o=32-s|0)-(i=(0|t)<(0|o)?t:o),_[e>>2]=_[e>>2]&(-1^o)|o&_[l>>2],t=t-i|0,i=31&(s=i+s|0),e=(s>>>3&536870908)+e|0,l=l+4|0):i=0,e=is(e,l,o=(s=(0|t)/32|0)<<2)+o|0,(0|(s=t-(s<<5)|0))<1?s=i:(t=-1>>>32-s,_[e>>2]=_[e>>2]&(-1^t)|t&_[o+l>>2])),_[r+4>>2]=s,_[r>>2]=e);z=r+32|0}(i+16|0,i+8|0,i),t=_[e>>2],_[e>>2]=_[i+16>>2],_[i+16>>2]=t,r=_[e+4>>2],_[e+4>>2]=_[i+20>>2],_[i+20>>2]=r,r=_[(e=e+8|0)>>2],_[e>>2]=_[i+24>>2],_[i+24>>2]=r,t&&Ka(t)}return void(z=i+32|0)}Wa(),P()}function Ie(e){return _[(e|=0)>>2]}function De(){var e;return e=Fa(12),_[e>>2]=0,_[e+4>>2]=0,_[e+8>>2]=0,0|e}function Fe(e){return _[(e|=0)+4>>2]-_[e>>2]>>1}function Ne(e){var t=0;(e|=0)&&((t=_[e>>2])&&(_[e+4>>2]=t,Ka(t)),Ka(e))}function Be(e){return _[(e|=0)+12>>2]-_[e+8>>2]>>2}function Le(e){return _[(e|=0)+80>>2]}function Ue(e){(e|=0)&&a[_[_[e>>2]+4>>2]](e)}function Ve(e){return _[(e|=0)+4>>2]-_[e>>2]|0}function ze(e,t){return t|=0,_[_[(e|=0)>>2]+(t<<2)>>2]}function je(e){return _[(e|=0)+4>>2]-_[e>>2]>>2}function We(e,t){return t|=0,0|a[_[_[(e|=0)>>2]+12>>2]](e,t)}function Ge(e){return _[(e|=0)+4>>2]}function He(e){return _[(e|=0)+28>>2]}function Ye(e){var t=0,i=0;(e|=0)&&(i=_[(t=e+88|0)>>2],_[t>>2]=0,i&&((t=_[i+8>>2])&&(_[i+12>>2]=t,Ka(t)),Ka(i)),(i=_[e+68>>2])&&(_[e+72>>2]=i,Ka(i)),i=_[(t=e- -64|0)>>2],_[t>>2]=0,i&&((t=_[i>>2])&&(_[i+4>>2]=t,Ka(t)),Ka(i)),Ka(e))}function Xe(e){(e|=0)&&Ka(e)}function Ze(e,t,i,r){return 0,0|Se(t|=0,i|=0,r|=0)}function Qe(e,t){t&&(Qe(e,_[t>>2]),Qe(e,_[t+4>>2]),l[t+39|0]<=-1&&Ka(_[t+28>>2]),l[t+27|0]<=-1&&Ka(_[t+16>>2]),Ka(t))}function Je(e,t){var i=0;t&&(Je(e,_[t>>2]),Je(e,_[t+4>>2]),e=_[(i=t+28|0)>>2],_[i>>2]=0,e&&(Je(e+12|0,_[e+16>>2]),qe(e,_[e+4>>2]),Ka(e)),l[t+27|0]<=-1&&Ka(_[t+16>>2]),Ka(t))}function qe(e,t){t&&(qe(e,_[t>>2]),qe(e,_[t+4>>2]),(e=_[t+28>>2])&&(_[t+32>>2]=e,Ka(e)),l[t+27|0]<=-1&&Ka(_[t+16>>2]),Ka(t))}function Ke(){return 0}function $e(){return-1}function et(){return 1}function tt(){return 2}function it(){return 3}function rt(){return 4}function nt(e){return 0|(e|=0)}function at(e){Ka(e|=0)}function st(e){return 0,2}function ot(e,t,i,r,n){_[e+4>>2]=t,lt(e+8|0,i,(r<<2)+i|0),v[e+20>>2]=n}function lt(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0,c=0;e:{t:{if((a=(s=i-t|0)>>2)>>>0<=(r=_[e+8>>2])-(n=_[e>>2])>>2>>>0){if((o=(r=a>>>0>(s=(r=_[e+4>>2]-n|0)>>2)>>>0?t+r|0:i)-t|0)&&is(n,t,o),a>>>0>s>>>0){if((0|(t=i-r|0))<1)break t;return es(_[(e=e+4|0)>>2],r,t),void(_[e>>2]=t+_[e>>2])}return void(_[e+4>>2]=n+(o>>2<<2))}if(n&&(_[e+4>>2]=n,Ka(n),_[e+8>>2]=0,_[e>>2]=0,_[e+4>>2]=0,r=0),a>>>0>=1073741824)break e;if(i=r>>1,(i=r>>2>>>0<536870911?i>>>0<a>>>0?a:i:1073741823)>>>0>=1073741824)break e;i=Fa(n=i<<2),_[e>>2]=i,_[(a=e+4|0)>>2]=i,_[e+8>>2]=i+n,(0|s)<1||(l=a,c=es(i,t,s)+s|0,_[l>>2]=c)}return}Wa(),P()}function ct(e){return 0,1}function ft(e,t){var i;return i=Fa(40),_[i>>2]=-1,Jr(i+8|0),a[_[_[e>>2]+16>>2]](e,i),e=_[t+88>>2],_[t+88>>2]=i,e&&((t=_[e+8>>2])&&(_[e+12>>2]=t,Ka(t)),Ka(e)),1}function ht(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0;if((a=_[e+8>>2])-(r=_[e+4>>2])>>2>>>0>=t>>>0){for(;_[r>>2]=_[i>>2],r=r+4|0,t=t+-1|0;);_[e+4>>2]=r}else{e:{if((r=(l=(o=r-(s=_[e>>2])|0)>>2)+t|0)>>>0<1073741824){if(n=(a=a-s|0)>>1,r=a>>2>>>0<536870911?n>>>0<r>>>0?r:n:1073741823,n=0,r){if(r>>>0>=1073741824)break e;n=Fa(r<<2)}for(a=n+(r<<2)|0,r=n+(l<<2)|0;_[r>>2]=_[i>>2],r=r+4|0,t=t+-1|0;);return(0|o)>=1&&es(n,s,o),_[e>>2]=n,_[e+8>>2]=a,_[e+4>>2]=r,void(s&&Ka(s))}Wa(),P()}Re(1308),P()}}function ut(e){return _[e+8>>2]=0,_[e+12>>2]=0,_[e>>2]=0,_[e+40>>2]=0,_[e+44>>2]=0,_[e+28>>2]=9,l[e+24|0]=1,_[e+56>>2]=-1,_[e+60>>2]=0,_[e+16>>2]=0,_[e+20>>2]=0,_[e+48>>2]=0,_[e+52>>2]=0,e}function dt(e,t,i,r,n,a,s){_[e>>2]=0,_[e+56>>2]=t,_[e+48>>2]=0,_[e+52>>2]=0,_[e+40>>2]=a,_[e+44>>2]=s,l[e+32|0]=n,_[e+28>>2]=r,l[e+24|0]=i}function pt(e,t,i,r){var n=0;_[e>>2]=t,n=_[t+20>>2],_[e+8>>2]=_[t+16>>2],_[e+12>>2]=n,n=_[t+24>>2],t=_[t+28>>2],_[e+48>>2]=0,_[e+52>>2]=0,_[e+40>>2]=i,_[e+44>>2]=r,_[e+16>>2]=n,_[e+20>>2]=t}function _t(e,t){var i=0;i=_[t+4>>2],_[e>>2]=_[t>>2],_[e+4>>2]=i,i=_[t+60>>2],_[e+56>>2]=_[t+56>>2],_[e+60>>2]=i,i=_[t+52>>2],_[e+48>>2]=_[t+48>>2],_[e+52>>2]=i,i=_[t+44>>2],_[e+40>>2]=_[t+40>>2],_[e+44>>2]=i,i=_[t+36>>2],_[e+32>>2]=_[t+32>>2],_[e+36>>2]=i,i=_[t+28>>2],_[e+24>>2]=_[t+24>>2],_[e+28>>2]=i,i=_[t+20>>2],_[e+16>>2]=_[t+16>>2],_[e+20>>2]=i,i=_[t+12>>2],_[e+8>>2]=_[t+8>>2],_[e+12>>2]=i,_[e+88>>2]=0,_[e+64>>2]=0,_[e+68>>2]=0,_[e+72>>2]=0,_[e+76>>2]=0,l[e+77|0]=0,l[e+78|0]=0,l[e+79|0]=0,l[e+80|0]=0,l[e+81|0]=0,l[e+82|0]=0,l[e+83|0]=0,l[e+84|0]=0}function mt(e,t){var i=0,r=0;return _[e+64>>2]||(Jr(r=Fa(32)),i=_[e+64>>2],_[e+64>>2]=r,i&&((r=_[i>>2])&&(_[i+4>>2]=r,Ka(r)),Ka(i))),i=an(_[e+28>>2]),r=i=g(i,l[e+24|0]),i>>=31,qr(_[e+64>>2],0,as(r,i,t,0),j)?(pt(e,_[e+64>>2],r,i),_[e+80>>2]=t,e=1):e=0,e}function bt(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,c=0;_[e- -64>>2]||(Jr(i=Fa(32)),n=_[e+64>>2],_[e+64>>2]=i,r=e,n&&((i=_[n>>2])&&(_[n+4>>2]=i,Ka(i)),Ka(n),i=_[e+64>>2]),pt(r,i,0,0));e:{t:if(function(e,t){var i=0,r=0,n=0;return(r=_[e>>2])&&(i=_[t>>2])&&(qr(n=r,r=_[i>>2],_[i+4>>2]-r|0,0),l[e+24|0]=m[t+24|0],_[e+28>>2]=_[t+28>>2],l[e+32|0]=m[t+32|0],i=_[t+44>>2],_[e+40>>2]=_[t+40>>2],_[e+44>>2]=i,i=_[t+52>>2],_[e+48>>2]=_[t+48>>2],_[e+52>>2]=i,_[e+56>>2]=_[t+56>>2],i=_[t+12>>2],_[e+8>>2]=_[t+8>>2],_[e+12>>2]=i,i=_[t+20>>2],_[e+16>>2]=_[t+16>>2],_[e+20>>2]=i,_[e+60>>2]=_[t+60>>2],n=1),n}(e,t)){if(l[e+84|0]=m[t+84|0],_[e+80>>2]=_[t+80>>2],(0|e)!=(0|t)&&At(e+68|0,_[t+68>>2],_[t+72>>2]),i=_[t+88>>2]){if(t=Fa(40),r=_[i>>2],_[t+16>>2]=0,_[t+8>>2]=0,_[t+12>>2]=0,_[t>>2]=r,r=_[i+12>>2]-_[i+8>>2]|0){if((0|r)<=-1)break e;n=Fa(r),_[t+8>>2]=n,_[(a=t+12|0)>>2]=n,_[t+16>>2]=r+n,s=_[i+8>>2],(0|(r=_[i+12>>2]-s|0))<1||(o=a,c=es(n,s,r)+r|0,_[o>>2]=c)}if(r=_[i+36>>2],_[t+32>>2]=_[i+32>>2],_[t+36>>2]=r,r=_[i+28>>2],_[t+24>>2]=_[i+24>>2],_[t+28>>2]=r,i=_[e+88>>2],_[e+88>>2]=t,!i)break t;return(e=_[i+8>>2])&&(_[i+12>>2]=e,Ka(e)),void Ka(i)}e=_[(t=e+88|0)>>2],_[t>>2]=0,e&&((t=_[e+8>>2])&&(_[e+12>>2]=t,Ka(t)),Ka(e))}return}Wa(),P()}function At(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0,c=0;e:{t:{if((a=(r=i-t|0)>>2)>>>0<=(s=_[e+8>>2])-(n=_[e>>2])>>2>>>0){if((0|(r=a>>>0>(s=(r=(o=_[e+4>>2])-n|0)>>2)>>>0?t+r|0:i))!=(0|t))for(;_[n>>2]=_[t>>2],n=n+4|0,(0|r)!=(0|(t=t+4|0)););if(a>>>0>s>>>0){if((0|(t=i-r|0))<1)break t;return es(o,r,t),void(_[(e=e+4|0)>>2]=t+_[e>>2])}return void(_[e+4>>2]=n)}if(n&&(_[e+4>>2]=n,Ka(n),_[e+8>>2]=0,_[e>>2]=0,_[e+4>>2]=0,s=0),a>>>0>=1073741824)break e;if(i=s>>1,(i=s>>2>>>0<536870911?i>>>0<a>>>0?a:i:1073741823)>>>0>=1073741824)break e;i=Fa(n=i<<2),_[e>>2]=i,_[(a=e+4|0)>>2]=i,_[e+8>>2]=i+n,(0|r)<1||(l=a,c=es(i,t,r)+r|0,_[l>>2]=c)}return}Wa(),P()}function vt(e){_[e>>2]=1384,_[e+4>>2]=0,_[e+8>>2]=0,_[e+12>>2]=0,_[e+16>>2]=0,_[e+20>>2]=0,_[e+24>>2]=0,_[e+28>>2]=0,_[e+32>>2]=0}function yt(e,t){t|=0;var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,v=0,y=0,k=0,x=0;z=i=z-96|0;e:{if(m[_[(e|=0)+28>>2]+36|0]<=1){if(l=_[t+12>>2],r=_[t+20>>2],(n=(s=_[t+16>>2])+4|0)>>>0<4&&(r=r+1|0),o=n,n=r,(0|l)<(0|r)||(0|l)<=(0|r)&&!(A[t+8>>2]>=o>>>0))break e;r=s+_[t>>2]|0,l=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[i+92>>2]=l,_[t+16>>2]=o,_[t+20>>2]=n}else{if(!gt(1,i+92|0,t))break e;l=_[i+92>>2]}if(l){for(n=_[e+4>>2],l>>>0>(r=_[e+8>>2]-n>>2)>>>0?de(e+4|0,l-r|0):l>>>0>=r>>>0||(_[e+8>>2]=n+(l<<2)),v=e+16|0,y=_[e+32>>2],k=e+20|0;;){if(f=_[t+8>>2],o=_[t+16>>2],(0|(n=s=_[t+12>>2]))<(0|(r=_[t+20>>2]))||(0|n)<=(0|r)&&!(f>>>0>o>>>0)){a=0;break e}if(u=_[t>>2],x=m[u+o|0],n=r,(c=o+1|0)>>>0<1&&(n=n+1|0),a=t,_[t+16>>2]=c,_[t+20>>2]=n,(0|s)<(0|n)||(0|s)<=(0|n)&&!(f>>>0>c>>>0)){a=0;break e}if(c=m[c+u|0],n=r,(h=o+2|0)>>>0<2&&(n=n+1|0),_[t+16>>2]=h,_[a+20>>2]=n,(0|s)<(0|n)||(0|s)<=(0|n)&&!(f>>>0>h>>>0)){a=0;break e}if(h=m[h+u|0],n=r,(d=o+3|0)>>>0<3&&(n=n+1|0),_[t+16>>2]=d,_[a+20>>2]=n,(0|s)<(0|n)||(0|s)<=(0|n)&&!(f>>>0>d>>>0)){a=0;break e}if(s=m[d+u|0],n=r,(r=o+4|0)>>>0<4&&(n=n+1|0),_[t+16>>2]=r,_[a+20>>2]=n,x>>>0>4){a=0;break e}if((c+-1&255)>>>0>10){a=0;break e}dt(o=ut(i+24|0),x,h<<24>>24,c,0!=(0|s),r=g(an(c),h),r>>31);t:{if(((r=b[_[e+28>>2]+36>>1])<<24|r<<8&16711680)>>>16>>>0<=258){if(a=_[t+12>>2],n=_[t+20>>2],(r=(s=_[t+16>>2])+2|0)>>>0<2&&(n=n+1|0),f=r,(0|a)<(0|(r=n))||(0|a)<=(0|r)&&!(A[t+8>>2]>=f>>>0))break t;n=s+_[t>>2]|0,n=m[0|n]|m[n+1|0]<<8,_[t+16>>2]=f,_[t+20>>2]=r,_[i+20>>2]=n}else gt(1,i+20|0,t),n=_[i+20>>2];if(_[i+84>>2]=n,_t(r=Fa(96),o),_[i+16>>2]=r,r=Ln(y,i+16|0),a=_[i+16>>2],_[i+16>>2]=0,a&&Ye(a),_[_[(s=r<<2)+_[y+8>>2]>>2]+60>>2]=n,_[_[e+4>>2]+(p<<2)>>2]=r,n=_[e+16>>2],(0|r)<(0|(a=_[k>>2]-n>>2))||(_[i+12>>2]=-1,(r=r+1|0)>>>0>a>>>0?(kt(v,r-a|0,i+12|0),n=_[v>>2]):r>>>0>=a>>>0||(_[k>>2]=(r<<2)+n)),_[n+s>>2]=p,a=1,(0|(p=p+1|0))!=(0|l))continue;break e}break}a=0}}return z=i+96|0,0|a}function gt(e,t,i){var r=0,n=0,a=0,s=0;e:if(!(e>>>0>5)&&(a=_[i+16>>2],!((0|(r=_[i+12>>2]))<(0|(n=_[i+20>>2]))||(0|r)<=(0|n)&&!(A[i+8>>2]>a>>>0)))){if(r=m[a+_[i>>2]|0],(a=a+1|0)>>>0<1&&(n=n+1|0),_[i+16>>2]=a,_[i+20>>2]=n,n=t,128&r){if(!gt(e+1|0,t,i))break e;e=_[t>>2]<<7,_[t>>2]=e,r=e|127&r}_[n>>2]=r,s=1}return s}function kt(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0;if((a=_[e+8>>2])-(r=_[e+4>>2])>>2>>>0>=t>>>0){for(;_[r>>2]=_[i>>2],r=r+4|0,t=t+-1|0;);_[e+4>>2]=r}else{e:{if((r=(l=(o=r-(s=_[e>>2])|0)>>2)+t|0)>>>0<1073741824){if(n=(a=a-s|0)>>1,r=a>>2>>>0<536870911?n>>>0<r>>>0?r:n:1073741823,n=0,r){if(r>>>0>=1073741824)break e;n=Fa(r<<2)}for(a=n+(r<<2)|0,r=n+(l<<2)|0;_[r>>2]=_[i>>2],r=r+4|0,t=t+-1|0;);return(0|o)>=1&&es(n,s,o),_[e>>2]=n,_[e+8>>2]=a,_[e+4>>2]=r,void(s&&Ka(s))}Wa(),P()}Re(1520),P()}}function xt(e){P()}function St(e,t){return 0,0,0}function Tt(e,t){return 0,0,1}function wt(e,t){var i=0,r=0,n=0,a=0,s=0;e:{t:{i:{if(n=_[e>>2],(i=(a=_[e+4>>2]-n>>2)+1|0)>>>0<1073741824){if(s=(n=_[e+8>>2]-n|0)>>1,i=n>>2>>>0<536870911?s>>>0<i>>>0?i:s:1073741823){if(i>>>0>=1073741824)break i;r=Fa(i<<2)}if(n=_[t>>2],_[t>>2]=0,_[(t=(a<<2)+r|0)>>2]=n,n=(i<<2)+r|0,a=t+4|0,(0|(i=_[e+4>>2]))==(0|(r=_[e>>2])))break t;for(;s=_[(i=i+-4|0)>>2],_[i>>2]=0,_[(t=t+-4|0)>>2]=s,(0|i)!=(0|r););r=_[e+4>>2],i=_[e>>2];break e}Wa(),P()}Re(1780),P()}i=r}if(_[e>>2]=t,_[e+8>>2]=n,_[e+4>>2]=a,(0|i)!=(0|r))for(;e=_[(r=r+-4|0)>>2],_[r>>2]=0,e&&Ye(e),(0|i)!=(0|r););i&&Ka(i)}function Et(e,t){var i=0,r=0,n=0,a=0,s=0;_[e+16>>2]=0,_[e+20>>2]=0,_[e>>2]=0,_[e+4>>2]=0,_[e+24>>2]=0,_[e+8>>2]=0,n=(0|(i=_[t+4>>2]-_[t>>2]|0))/20|0;e:{t:{if(i){if(n>>>0>=214748365)break e;if(i=Fa(i),_[e+16>>2]=i,_[(r=e+20|0)>>2]=i,_[e+24>>2]=i+g(n,20),n=_[t>>2],(0|(t=_[t+4>>2]-n|0))>0)break t}return _[e+28>>2]=0,_[e+12>>2]=0,e}if(n=es(i,n,t),_[e+28>>2]=0,s=r,i=(r=g((t>>>0)/20|0,20))+n|0,_[s>>2]=i,t=0,s=e,r){for(i=(i-n|0)/20|0,r=0;a=g(r,20)+n|0,t=t>>>0<(a=g(_[a+16>>2],_[a+12>>2]))>>>0?a:t,(r=r+1|0)>>>0<i>>>0;);if(!t)return _[e+12>>2]=0,e;_e(e,t),t=_[e>>2]}else t=0;return _[s+12>>2]=t,e}Wa(),P()}function Mt(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0;if(n=_[t+12>>2],a=_[t+20>>2],(r=(s=_[t+16>>2])+4|0)>>>0<4&&(a=a+1|0),!((0|n)<(0|a)||(0|n)<=(0|a)&&!(A[t+8>>2]>=r>>>0))&&(r=s+_[t>>2]|0,r=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e>>2]=r,s=n=_[t+20>>2],(a=(o=_[t+16>>2])+4|0)>>>0<4&&(n=n+1|0),_[t+16>>2]=a,_[t+20>>2]=n,!(r>>>0>32)&&((r=o+8|0)>>>0<8&&(s=s+1|0),!((0|(n=_[t+12>>2]))<(0|s)||(0|n)<=(0|s)&&!(A[t+8>>2]>=r>>>0)))))if(r=a+_[t>>2]|0,n=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e+4>>2]=n,a=_[t+20>>2],(s=_[t+16>>2]+4|0)>>>0<4&&(a=a+1|0),_[t+16>>2]=s,_[t+20>>2]=a,n){if(_[e+8>>2]=0,Hi(e+16|0,t)&&Hi(e+36|0,t)&&Hi(e+56|0,t)&&Hi(e+76|0,t))return function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,b=0,v=0,y=0,k=0,x=0,T=0,w=0,E=0,M=0,R=0,C=0,O=0,I=0,D=0;z=r=z-32|0,a=_[e+12>>2],_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0;e:{if(a){if(a>>>0>=1073741824)break e;for(s=Fa(n=a<<2),_[r+8>>2]=s,_[r+12>>2]=s,_[r+16>>2]=n+s,l=ts(s,0,n),n=a;l=l+4|0,n=n+-1|0;);_[r+12>>2]=l}o=_[e+120>>2],(n=_[o>>2])&&(_[o+4>>2]=n,Ka(n),_[o+8>>2]=0,_[o>>2]=0,_[o+4>>2]=0,a=_[e+12>>2],l=_[r+12>>2],s=_[r+8>>2]),_[o>>2]=s,_[o+4>>2]=l,_[o+8>>2]=_[r+16>>2],l=0,_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,n=0;t:{if(a){if(a>>>0>=1073741824)break t;for(n=Fa(s=a<<2),_[r+8>>2]=n,_[r+12>>2]=n,_[r+16>>2]=n+s,l=ts(n,0,s);l=l+4|0,a=a+-1|0;);_[r+12>>2]=l}o=_[e+132>>2],(s=_[o>>2])&&(_[o+4>>2]=s,Ka(s),_[o+8>>2]=0,_[o>>2]=0,_[o+4>>2]=0,l=_[r+12>>2],n=_[r+8>>2]),_[o>>2]=n,_[o+4>>2]=l,_[o+8>>2]=_[r+16>>2],_[(a=r+24|0)>>2]=0,_[a+4>>2]=0,_[(s=r+16|0)>>2]=0,_[s+4>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,Zt(r+8|0),o=_[r+12>>2],n=0,(0|o)!=_[s>>2]&&(s=_[a>>2]+_[r+28>>2]|0,n=_[o+((n=(s>>>0)/341|0)<<2)>>2]+g(s-g(n,341)|0,12)|0),_[n+4>>2]=0,_[n+8>>2]=0,_[n>>2]=t,n=1,s=_[r+28>>2],a=s+1|0,_[r+28>>2]=a;i:if(!(a>>>0<s>>>0)){for(C=e+132|0,R=e+120|0,T=i+20|0,O=e+108|0,I=e+96|0,w=e+48|0,E=e+28|0,D=e+80|0;;){if(n=_[r+12>>2],c=_[r+24>>2],s=_[n+((s=((o=c+(f=a+-1|0)|0)>>>0)/341|0)<<2)>>2]+g(o-g(s,341)|0,12)|0,p=_[s+8>>2],o=_[s+4>>2],d=_[s>>2],_[r+28>>2]=f,s=_[r+16>>2],1+(((n=s-n|0)?g(n>>2,341)+-1|0:0)-(a+c|0)|0)>>>0>=682&&(Ka(_[s+-4>>2]),_[r+16>>2]=_[r+16>>2]+-4),n=0,d>>>0>t>>>0)break i;if(s=_[R>>2],b=g(p,12),k=b+_[C>>2]|0,(l=zn(e,k,o))>>>0>=A[e+12>>2])break i;x=s+b|0;r:{n:if(v=l<<2,o=_[e>>2]-_[v+_[k>>2]>>2]|0){a:{s:{o:{l:{if(d>>>0<=2){if(s=_[O>>2],_[s>>2]=l,n=1,(a=_[e+12>>2])>>>0>1)break l;break a}if(A[e+8>>2]>A[e+4>>2])break i;n=_[R>>2],u=g(h=p+1|0,12),(0|(s=n+u|0))!=(0|x)&&(lt(s,_[x>>2],_[x+4>>2]),n=_[R>>2]),n=v+_[n+u>>2]|0,_[n>>2]=_[n>>2]+(1<<o+-1),c=31^S(d),f=_[e+32>>2];c:if((0|c)<=(0|(o=32-f|0))){if((0|(o=_[E>>2]))==_[e+20>>2]){n=0;break c}if(n=_[o>>2],s=c+f|0,_[e+32>>2]=s,n=n<<f>>>32-c,32!=(0|s))break c;_[e+32>>2]=0,_[E>>2]=o+4}else a=_[E>>2],(0|(n=a+4|0))!=_[e+20>>2]?(s=_[a>>2],_[E>>2]=n,n=c-o|0,_[e+32>>2]=n,n=_[a+4>>2]>>>32-n|s<<f>>>32-c):n=0;if((0|(n=d-(s=(d>>>1)-n|0)|0))!=(0|s)){if((0|(c=_[e+88>>2]))==_[D>>2])break o;f=_[c>>2],a=_[e+92>>2],o=a+1|0,_[e+92>>2]=o,a=f&-2147483648>>>a;c:{if(32==(0|o)){if(_[e+92>>2]=0,_[e+88>>2]=c+4,a)break c;break o}if(!a)break o}}else n=s;o=n,n=s;break s}for(;l=(a+-1|0)==(0|l)?0:l+1|0,_[s+(n<<2)>>2]=l,n=n+1|0,a=_[e+12>>2],n>>>0<a>>>0;);break a}o=s}if(c=_[C>>2],a=_[(f=c+b|0)>>2],_[(s=a+v|0)>>2]=_[s>>2]+1,lt(c+u|0,a,_[f+4>>2]),n&&(s=_[r+28>>2]+_[r+24>>2]|0,c=_[r+16>>2],a=_[r+12>>2],(0|s)==(0|((f=c-a|0)?g(f>>2,341)+-1|0:0))&&(Zt(r+8|0),a=_[r+12>>2],c=_[r+16>>2],s=_[r+24>>2]+_[r+28>>2]|0),s=(0|a)==(0|c)?0:_[(k=a)+((a=(s>>>0)/341|0)<<2)>>2]+g(s-g(a,341)|0,12)|0,_[s+8>>2]=p,_[s+4>>2]=l,_[s>>2]=n,_[r+28>>2]=_[r+28>>2]+1),!o)break n;n=_[r+28>>2]+_[r+24>>2]|0,s=_[r+16>>2],a=_[r+12>>2],(0|n)==(0|((f=s-a|0)?g(f>>2,341)+-1|0:0))&&(Zt(r+8|0),s=_[r+16>>2],a=_[r+12>>2],n=_[r+24>>2]+_[r+28>>2]|0),n=(0|a)==(0|s)?0:_[((s=(n>>>0)/341|0)<<2)+a>>2]+g(n-g(s,341)|0,12)|0,_[n+8>>2]=h,_[n+4>>2]=l,_[n>>2]=o,a=_[r+28>>2]+1|0,_[r+28>>2]=a;break r}if(d)for(p=0;;){if(a)for(l=_[I>>2],h=_[O>>2],c=_[x>>2],f=_[k>>2],a=0;;){_[l+(_[(b=h+(a<<2)|0)>>2]<<2)>>2]=0,n=_[b>>2]<<2;a:if(y=_[e>>2]-_[n+f>>2]|0)if(M=n+l|0,v=_[e+52>>2],(0|y)<=(0|(o=32-v|0))){if((0|(s=_[w>>2]))==_[e+40>>2]){_[M>>2]=0;break a}if(_[M>>2]=_[s>>2]<<v>>>32-y,n=y+_[e+52>>2]|0,_[e+52>>2]=n,32!=(0|n))break a;_[e+52>>2]=0,_[w>>2]=s+4}else u=_[w>>2],(0|(n=u+4|0))!=_[e+40>>2]?(s=_[u>>2],_[w>>2]=n,n=y-o|0,_[e+52>>2]=n,_[M>>2]=_[u+4>>2]>>>32-n|s<<v>>>32-y):_[M>>2]=0;if(s=_[b>>2]<<2,_[(n=s+l|0)>>2]=_[n>>2]|_[s+c>>2],!((a=a+1|0)>>>0<A[e+12>>2]))break}o=0;a:if((0|(a=_[i+16>>2]))!=_[T>>2])for(;;){if(a=g(o,20)+a|0,s=_[I>>2]+(_[a+4>>2]<<2)|0,h=_[a>>2],!((l=_[a+12>>2])>>>0>3))if(n=_[i+12>>2],_[(c=a+16|0)>>2]){for(f=a+12|0,a=0;n=es(n,(a<<2)+s|0,l),l=_[f>>2],n=n+l|0,(a=a+1|0)>>>0<A[c>>2];);s=_[i+12>>2]}else s=n;if(a=_[i+28>>2],(a=m[h+84|0]?a:_[_[h+68>>2]+(a<<2)>>2])>>>0>=A[h+80>>2])break a;if(n=_[h+40>>2],es(_[_[h>>2]>>2]+g(n,a)|0,s,n),o=o+1|0,a=_[i+16>>2],!(o>>>0<(_[T>>2]-a|0)/20>>>0))break}if(_[i+28>>2]=_[i+28>>2]+1,_[e+8>>2]=_[e+8>>2]+1,(0|(p=p+1|0))==(0|d))break n;a=_[e+12>>2]}}else{if(!d)break n;for(h=0;;){o=0;a:if((0|(a=_[i+16>>2]))!=_[T>>2])for(;;){if(a=g(o,20)+a|0,s=_[x>>2]+(_[a+4>>2]<<2)|0,u=_[a>>2],!((l=_[a+12>>2])>>>0>3))if(n=_[i+12>>2],_[(c=a+16|0)>>2]){for(f=a+12|0,a=0;n=es(n,(a<<2)+s|0,l),l=_[f>>2],n=n+l|0,(a=a+1|0)>>>0<A[c>>2];);s=_[i+12>>2]}else s=n;if(a=_[i+28>>2],(a=m[u+84|0]?a:_[_[u+68>>2]+(a<<2)>>2])>>>0>=A[u+80>>2])break a;if(n=_[u+40>>2],es(_[_[u>>2]>>2]+g(n,a)|0,s,n),o=o+1|0,a=_[i+16>>2],!(o>>>0<(_[T>>2]-a|0)/20>>>0))break}if(_[i+28>>2]=_[i+28>>2]+1,_[e+8>>2]=_[e+8>>2]+1,(0|d)==(0|(h=h+1|0)))break}}a=_[r+28>>2]}if(!a)break}n=1}if(Qt(r+8|0),a=_[r+12>>2],e=_[r+16>>2],(0|a)!=(0|e)){for(;Ka(_[a>>2]),(0|e)!=(0|(a=a+4|0)););t=_[r+16>>2],e=_[r+12>>2],(0|t)!=(0|e)&&(_[r+16>>2]=t+(((t-e|0)-4>>>2^-1)<<2))}return(e=_[r+8>>2])&&Ka(e),z=r+32|0,n}Wa(),P()}Wa(),P()}(e,_[e+4>>2],i)}else l=1;return l}function Pt(e){var t=0,i=0,r=0,n=0,a=0;if(r=_[e+132>>2]){if(i=r,(0|r)!=(0|(t=_[(a=e+136|0)>>2]))){for(;(n=_[(i=t+-12|0)>>2])&&(_[t+-8>>2]=n,Ka(n)),(0|(t=i))!=(0|r););i=_[e+132>>2]}_[a>>2]=r,Ka(i)}if(r=_[e+120>>2]){if(i=r,(0|r)!=(0|(t=_[(a=e+124|0)>>2]))){for(;(n=_[(i=t+-12|0)>>2])&&(_[t+-8>>2]=n,Ka(n)),(0|(t=i))!=(0|r););i=_[e+120>>2]}_[a>>2]=r,Ka(i)}(t=_[e+108>>2])&&(_[e+112>>2]=t,Ka(t)),(t=_[e+96>>2])&&(_[e+100>>2]=t,Ka(t)),Gi(e+76|0),Gi(e+56|0),Gi(e+36|0),Gi(e+16|0)}function Rt(e,t){var i,r=0,n=0,a=0;z=i=z-16|0,_[e+12>>2]=t,_[e+8>>2]=0,_[e>>2]=0,_[e+4>>2]=0,Wi(e+16|0),Wi(e+36|0),Wi(e+56|0),Wi(e+76|0),_[e+104>>2]=0,_[e+96>>2]=0,_[e+100>>2]=0;e:{t:{i:{if(t){if(t>>>0>=1073741824)break i;for(n=Fa(r=t<<2),_[e+96>>2]=n,_[e+100>>2]=n,_[e+104>>2]=n+r,ts(n,0,r),r=t;n=n+4|0,r=r+-1|0;);_[e+100>>2]=n}if(_[e+108>>2]=0,_[e+112>>2]=0,_[e+116>>2]=0,t){if(t>>>0>=1073741824)break t;for(n=Fa(r=t<<2),_[e+108>>2]=n,_[e+112>>2]=n,_[e+116>>2]=n+r,ts(n,0,r),r=t;n=n+4|0,r=r+-1|0;);_[e+112>>2]=n}if(_[i+8>>2]=0,_[i>>2]=0,_[i+4>>2]=0,t){if(t>>>0>=1073741824)break e;for(n=Fa(r=t<<2),_[i>>2]=n,_[i+4>>2]=n,_[i+8>>2]=n+r,ts(n,0,r),r=t;n=n+4|0,r=r+-1|0;);_[i+4>>2]=n}if(zt(e+120|0,a=t<<5|1,i),(r=_[i>>2])&&(_[i+4>>2]=r,Ka(r)),_[i+8>>2]=0,_[i>>2]=0,_[i+4>>2]=0,t){if(t>>>0>=1073741824)break e;for(n=Fa(r=t<<2),_[i>>2]=n,_[i+4>>2]=n,_[i+8>>2]=n+r,ts(n,0,r);n=n+4|0,t=t+-1|0;);_[i+4>>2]=n}return zt(e+132|0,a,i),(t=_[i>>2])&&(_[i+4>>2]=t,Ka(t)),z=i+16|0,e}Wa(),P()}Wa(),P()}Wa(),P()}function Ct(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0;if(n=_[t+12>>2],a=_[t+20>>2],(r=(s=_[t+16>>2])+4|0)>>>0<4&&(a=a+1|0),!((0|n)<(0|a)||(0|n)<=(0|a)&&!(A[t+8>>2]>=r>>>0))&&(r=s+_[t>>2]|0,r=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e>>2]=r,s=n=_[t+20>>2],(a=(o=_[t+16>>2])+4|0)>>>0<4&&(n=n+1|0),_[t+16>>2]=a,_[t+20>>2]=n,!(r>>>0>32)&&((r=o+8|0)>>>0<8&&(s=s+1|0),!((0|(n=_[t+12>>2]))<(0|s)||(0|n)<=(0|s)&&!(A[t+8>>2]>=r>>>0)))))if(r=a+_[t>>2]|0,n=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e+4>>2]=n,a=_[t+20>>2],(s=_[t+16>>2]+4|0)>>>0<4&&(a=a+1|0),_[t+16>>2]=s,_[t+20>>2]=a,n){if(_[e+8>>2]=0,Hi(e+16|0,t)&&Hi(e+36|0,t)&&Hi(e+56|0,t)&&Hi(e+76|0,t))return function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,b=0,v=0,y=0,k=0,x=0,T=0,w=0,E=0,M=0,R=0,C=0,O=0,I=0,D=0;z=r=z-32|0,a=_[e+12>>2],_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0;e:{if(a){if(a>>>0>=1073741824)break e;for(s=Fa(n=a<<2),_[r+8>>2]=s,_[r+12>>2]=s,_[r+16>>2]=n+s,o=ts(s,0,n),n=a;o=o+4|0,n=n+-1|0;);_[r+12>>2]=o}n=_[e+120>>2],(l=_[n>>2])&&(_[n+4>>2]=l,Ka(l),_[n+8>>2]=0,_[n>>2]=0,_[n+4>>2]=0,a=_[e+12>>2],o=_[r+12>>2],s=_[r+8>>2]),_[n>>2]=s,_[n+4>>2]=o,_[n+8>>2]=_[r+16>>2],o=0,_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,n=0;t:{if(a){if(a>>>0>=1073741824)break t;for(n=Fa(s=a<<2),_[r+8>>2]=n,_[r+12>>2]=n,_[r+16>>2]=n+s,o=ts(n,0,s);o=o+4|0,a=a+-1|0;);_[r+12>>2]=o}s=_[e+132>>2],(l=_[s>>2])&&(_[s+4>>2]=l,Ka(l),_[s+8>>2]=0,_[s>>2]=0,_[s+4>>2]=0,o=_[r+12>>2],n=_[r+8>>2]),_[s>>2]=n,_[s+4>>2]=o,_[s+8>>2]=_[r+16>>2],_[(s=r+24|0)>>2]=0,_[s+4>>2]=0,_[(l=r+16|0)>>2]=0,_[l+4>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,Zt(r+8|0),a=_[l>>2],l=_[r+12>>2],n=0,(0|a)!=(0|l)&&(n=_[s>>2]+_[r+28>>2]|0,n=_[l+((s=(n>>>0)/341|0)<<2)>>2]+g(n-g(s,341)|0,12)|0),_[n+4>>2]=0,_[n+8>>2]=0,_[n>>2]=t,s=1,n=_[r+28>>2],a=n+1|0,_[r+28>>2]=a;i:if(!(a>>>0<n>>>0)){for(w=e+120|0,E=e+132|0,y=i+20|0,M=e+108|0,R=e+96|0,k=e+48|0,x=e+28|0,O=e+80|0;;){if(d=_[r+12>>2],s=_[r+24>>2],n=_[d+((l=((n=s+(c=a+-1|0)|0)>>>0)/341|0)<<2)>>2]+g(n-g(l,341)|0,12)|0,u=_[n+8>>2],o=_[n+4>>2],l=_[n>>2],_[r+28>>2]=c,n=_[r+16>>2],1+(((c=n-d|0)?g(c>>2,341)+-1|0:0)-(a+s|0)|0)>>>0>=682&&(Ka(_[n+-4>>2]),_[r+16>>2]=_[r+16>>2]+-4),l>>>0>t>>>0){s=0;break i}if(s=0,n=_[e+12>>2],(o=(0|o)==(n+-1|0)?0:o+1|0)>>>0>=n>>>0)break i;n=_[w>>2],a=g(u,12),d=n+a|0;r:{n:if(c=o<<2,p=a+_[E>>2]|0,f=_[e>>2]-_[c+_[p>>2]>>2]|0){a:{s:{o:{l:{if(l>>>0<=2){if(s=_[M>>2],_[s>>2]=o,n=1,(a=_[e+12>>2])>>>0>1)break l;break a}if(A[e+8>>2]>A[e+4>>2])break i;lt((s=n)+(n=a+12|0)|0,_[d>>2],_[d+4>>2]),n=c+_[n+_[w>>2]>>2]|0,_[n>>2]=_[n>>2]+(1<<f+-1),n=31^S(l),s=_[e+32>>2];c:if((0|n)<=(0|(f=32-s|0))){if((0|(d=_[x>>2]))==_[e+20>>2]){s=0;break c}if(f=_[d>>2],h=n+s|0,_[e+32>>2]=h,s=f<<s>>>32-n,32!=(0|h))break c;_[e+32>>2]=0,_[x>>2]=d+4}else d=_[x>>2],(0|(h=d+4|0))!=_[e+20>>2]?(p=_[d>>2],_[x>>2]=h,f=n-f|0,_[e+32>>2]=f,s=_[d+4>>2]>>>32-f|p<<s>>>32-n):s=0;if(d=u+1|0,(0|(s=l-(n=(l>>>1)-s|0)|0))!=(0|n)){if((0|(l=_[e+88>>2]))==_[O>>2])break o;f=_[l>>2],h=_[e+92>>2],p=h+1|0,_[e+92>>2]=p,f&=-2147483648>>>h;c:{if(32==(0|p)){if(_[e+92>>2]=0,_[e+88>>2]=l+4,f)break c;break o}if(!f)break o}}else s=n;l=s,s=n;break s}for(;o=(a+-1|0)==(0|o)?0:o+1|0,_[s+(n<<2)>>2]=o,n=n+1|0,a=_[e+12>>2],n>>>0<a>>>0;);break a}l=n}if(b=c,n=_[E>>2],c=_[(a=n+a|0)>>2],_[(f=b+c|0)>>2]=_[f>>2]+1,lt(n+g(d,12)|0,c,_[a+4>>2]),s&&(n=_[r+28>>2]+_[r+24>>2]|0,c=_[r+16>>2],a=_[r+12>>2],(0|n)==(0|((f=c-a|0)?g(f>>2,341)+-1|0:0))&&(Zt(r+8|0),c=_[r+16>>2],a=_[r+12>>2],n=_[r+24>>2]+_[r+28>>2]|0),n=(0|a)==(0|c)?0:_[(b=a)+((a=(n>>>0)/341|0)<<2)>>2]+g(n-g(a,341)|0,12)|0,_[n+8>>2]=u,_[n+4>>2]=o,_[n>>2]=s,_[r+28>>2]=_[r+28>>2]+1),!l)break n;n=_[r+28>>2]+_[r+24>>2]|0,s=_[r+16>>2],a=_[r+12>>2],(0|n)==(0|((u=s-a|0)?g(u>>2,341)+-1|0:0))&&(Zt(r+8|0),s=_[r+16>>2],a=_[r+12>>2],n=_[r+24>>2]+_[r+28>>2]|0),n=(0|a)==(0|s)?0:_[((s=(n>>>0)/341|0)<<2)+a>>2]+g(n-g(s,341)|0,12)|0,_[n+8>>2]=d,_[n+4>>2]=o,_[n>>2]=l,a=_[r+28>>2]+1|0,_[r+28>>2]=a;break r}if(l)for(f=0;;){if(a)for(o=_[R>>2],T=_[M>>2],I=_[d>>2],D=_[p>>2],a=0;;){_[o+(_[(u=T+(a<<2)|0)>>2]<<2)>>2]=0,s=_[u>>2]<<2;a:if(n=_[e>>2]-_[s+D>>2]|0)if(s=s+o|0,c=_[e+52>>2],(0|n)<=(0|(v=32-c|0))){if((0|(h=_[k>>2]))==_[e+40>>2]){_[s>>2]=0;break a}if(_[s>>2]=_[h>>2]<<c>>>32-n,n=n+_[e+52>>2]|0,_[e+52>>2]=n,32!=(0|n))break a;_[e+52>>2]=0,_[k>>2]=h+4}else h=_[k>>2],(0|(C=h+4|0))!=_[e+40>>2]?(b=_[h>>2],_[k>>2]=C,v=n-v|0,_[e+52>>2]=v,_[s>>2]=_[h+4>>2]>>>32-v|b<<c>>>32-n):_[s>>2]=0;if(n=_[u>>2]<<2,_[(s=n+o|0)>>2]=_[s>>2]|_[n+I>>2],!((a=a+1|0)>>>0<A[e+12>>2]))break}u=0;a:if((0|(a=_[i+16>>2]))!=_[y>>2])for(;;){if(a=g(u,20)+a|0,s=_[R>>2]+(_[a+4>>2]<<2)|0,c=_[a>>2],!((o=_[a+12>>2])>>>0>3))if(n=_[i+12>>2],_[(h=a+16|0)>>2]){for(T=a+12|0,a=0;n=es(n,(a<<2)+s|0,o),o=_[T>>2],n=n+o|0,(a=a+1|0)>>>0<A[h>>2];);s=_[i+12>>2]}else s=n;if(a=_[i+28>>2],(a=m[c+84|0]?a:_[_[c+68>>2]+(a<<2)>>2])>>>0>=A[c+80>>2])break a;if(n=_[c+40>>2],es(_[_[c>>2]>>2]+g(n,a)|0,s,n),u=u+1|0,a=_[i+16>>2],!(u>>>0<(_[y>>2]-a|0)/20>>>0))break}if(_[i+28>>2]=_[i+28>>2]+1,_[e+8>>2]=_[e+8>>2]+1,(0|(f=f+1|0))==(0|l))break n;a=_[e+12>>2]}}else{if(!l)break n;for(f=0;;){u=0;a:if((0|(a=_[i+16>>2]))!=_[y>>2])for(;;){if(a=g(u,20)+a|0,s=_[d>>2]+(_[a+4>>2]<<2)|0,c=_[a>>2],!((o=_[a+12>>2])>>>0>3))if(n=_[i+12>>2],_[(h=a+16|0)>>2]){for(p=a+12|0,a=0;n=es(n,(a<<2)+s|0,o),o=_[p>>2],n=n+o|0,(a=a+1|0)>>>0<A[h>>2];);s=_[i+12>>2]}else s=n;if(a=_[i+28>>2],(a=m[c+84|0]?a:_[_[c+68>>2]+(a<<2)>>2])>>>0>=A[c+80>>2])break a;if(n=_[c+40>>2],es(_[_[c>>2]>>2]+g(n,a)|0,s,n),u=u+1|0,a=_[i+16>>2],!(u>>>0<(_[y>>2]-a|0)/20>>>0))break}if(_[i+28>>2]=_[i+28>>2]+1,_[e+8>>2]=_[e+8>>2]+1,(0|l)==(0|(f=f+1|0)))break}}a=_[r+28>>2]}if(!a)break}s=1}if(Qt(r+8|0),a=_[r+12>>2],e=_[r+16>>2],(0|a)!=(0|e)){for(;Ka(_[a>>2]),(0|e)!=(0|(a=a+4|0)););e=_[r+16>>2],t=_[r+12>>2],(0|e)!=(0|t)&&(_[r+16>>2]=e+(((e-t|0)-4>>>2^-1)<<2))}return(e=_[r+8>>2])&&Ka(e),z=r+32|0,s}Wa(),P()}Wa(),P()}(e,_[e+4>>2],i)}else l=1;return l}function Ot(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0;if(n=_[t+12>>2],a=_[t+20>>2],(r=(s=_[t+16>>2])+4|0)>>>0<4&&(a=a+1|0),!((0|n)<(0|a)||(0|n)<=(0|a)&&!(A[t+8>>2]>=r>>>0))&&(r=s+_[t>>2]|0,r=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e>>2]=r,s=n=_[t+20>>2],(a=(o=_[t+16>>2])+4|0)>>>0<4&&(n=n+1|0),_[t+16>>2]=a,_[t+20>>2]=n,!(r>>>0>32)&&((r=o+8|0)>>>0<8&&(s=s+1|0),!((0|(n=_[t+12>>2]))<(0|s)||(0|n)<=(0|s)&&!(A[t+8>>2]>=r>>>0)))))if(r=a+_[t>>2]|0,n=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e+4>>2]=n,a=_[t+20>>2],(s=_[t+16>>2]+4|0)>>>0<4&&(a=a+1|0),_[t+16>>2]=s,_[t+20>>2]=a,n){if(_[e+8>>2]=0,Xi(e+16|0,t)&&Hi(e+32|0,t)&&Hi(e+52|0,t)&&Hi(e+72|0,t))return function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,b=0,v=0,y=0,k=0,x=0,T=0,w=0,E=0,M=0,R=0,C=0,O=0,I=0,D=0,F=0;z=r=z-32|0,n=_[e+12>>2],_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0;e:{if(n){if(n>>>0>=1073741824)break e;for(s=Fa(a=n<<2),_[r+8>>2]=s,_[r+12>>2]=s,_[r+16>>2]=a+s,l=ts(s,0,a),a=n;l=l+4|0,a=a+-1|0;);_[r+12>>2]=l}o=_[e+116>>2],(a=_[o>>2])&&(_[o+4>>2]=a,Ka(a),_[o+8>>2]=0,_[o>>2]=0,_[o+4>>2]=0,n=_[e+12>>2],l=_[r+12>>2],s=_[r+8>>2]),_[o>>2]=s,_[o+4>>2]=l,_[o+8>>2]=_[r+16>>2],l=0,_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,a=0;t:{if(n){if(n>>>0>=1073741824)break t;for(a=Fa(s=n<<2),_[r+8>>2]=a,_[r+12>>2]=a,_[r+16>>2]=a+s,l=ts(a,0,s);l=l+4|0,n=n+-1|0;);_[r+12>>2]=l}o=_[e+128>>2],(s=_[o>>2])&&(_[o+4>>2]=s,Ka(s),_[o+8>>2]=0,_[o>>2]=0,_[o+4>>2]=0,l=_[r+12>>2],a=_[r+8>>2]),_[o>>2]=a,_[o+4>>2]=l,_[o+8>>2]=_[r+16>>2],_[(n=r+24|0)>>2]=0,_[n+4>>2]=0,_[(s=r+16|0)>>2]=0,_[s+4>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,Zt(r+8|0),o=_[r+12>>2],a=0,(0|o)!=_[s>>2]&&(s=_[n>>2]+_[r+28>>2]|0,a=_[o+((a=(s>>>0)/341|0)<<2)>>2]+g(s-g(a,341)|0,12)|0),_[a+4>>2]=0,_[a+8>>2]=0,_[a>>2]=t,a=1,s=_[r+28>>2],n=s+1|0,_[r+28>>2]=n;i:if(!(n>>>0<s>>>0)){for(D=e+16|0,R=e+128|0,E=e+116|0,x=i+20|0,C=e+104|0,O=e+92|0,T=e+44|0,I=e+36|0,F=e+76|0;;){if(a=_[r+12>>2],c=_[r+24>>2],s=_[a+((s=((o=c+(f=n+-1|0)|0)>>>0)/341|0)<<2)>>2]+g(o-g(s,341)|0,12)|0,p=_[s+8>>2],o=_[s+4>>2],d=_[s>>2],_[r+28>>2]=f,s=_[r+16>>2],1+(((a=s-a|0)?g(a>>2,341)+-1|0:0)-(n+c|0)|0)>>>0>=682&&(Ka(_[s+-4>>2]),_[r+16>>2]=_[r+16>>2]+-4),a=0,d>>>0>t>>>0)break i;if(s=_[E>>2],b=g(p,12),M=b+_[R>>2]|0,(l=zn(e,M,o))>>>0>=A[e+12>>2])break i;k=s+b|0;r:if(v=l<<2,o=_[e>>2]-_[v+_[M>>2]>>2]|0){n:{a:{s:{o:{if(d>>>0<=2){if(s=_[C>>2],_[s>>2]=l,a=1,(n=_[e+12>>2])>>>0>1)break o;break n}if(A[e+8>>2]>A[e+4>>2])break i;if(a=_[E>>2],u=g(h=p+1|0,12),(0|(s=a+u|0))!=(0|k)&&(lt(s,_[k>>2],_[k+4>>2]),a=_[E>>2]),a=v+_[a+u>>2]|0,_[a>>2]=_[a>>2]+(1<<o+-1),_[r+4>>2]=0,Qi(D,31^S(d),r+4|0),s=(d>>>1)-_[r+4>>2]|0,(0|(a=d-s|0))!=(0|s)){if((0|(c=_[e+84>>2]))==_[F>>2])break s;f=_[c>>2],n=_[e+88>>2],o=n+1|0,_[e+88>>2]=o,n=f&-2147483648>>>n;l:{if(32==(0|o)){if(_[e+88>>2]=0,_[e+84>>2]=c+4,n)break l;break s}if(!n)break s}}else a=s;o=a,a=s;break a}for(;l=(n+-1|0)==(0|l)?0:l+1|0,_[s+(a<<2)>>2]=l,a=a+1|0,n=_[e+12>>2],a>>>0<n>>>0;);break n}o=s}if(c=_[R>>2],n=_[(f=c+b|0)>>2],_[(s=n+v|0)>>2]=_[s>>2]+1,lt(c+u|0,n,_[f+4>>2]),a&&(s=_[r+28>>2]+_[r+24>>2]|0,c=_[r+16>>2],n=_[r+12>>2],(0|s)==(0|((f=c-n|0)?g(f>>2,341)+-1|0:0))&&(Zt(r+8|0),n=_[r+12>>2],c=_[r+16>>2],s=_[r+24>>2]+_[r+28>>2]|0),s=(0|n)==(0|c)?0:_[(c=n)+((n=(s>>>0)/341|0)<<2)>>2]+g(s-g(n,341)|0,12)|0,_[s+8>>2]=p,_[s+4>>2]=l,_[s>>2]=a,_[r+28>>2]=_[r+28>>2]+1),!o)break r;a=_[r+28>>2]+_[r+24>>2]|0,s=_[r+16>>2],n=_[r+12>>2],(0|a)==(0|((f=s-n|0)?g(f>>2,341)+-1|0:0))&&(Zt(r+8|0),s=_[r+16>>2],n=_[r+12>>2],a=_[r+24>>2]+_[r+28>>2]|0),a=(0|n)==(0|s)?0:_[((s=(a>>>0)/341|0)<<2)+n>>2]+g(a-g(s,341)|0,12)|0,_[a+8>>2]=h,_[a+4>>2]=l,_[a>>2]=o,_[r+28>>2]=_[r+28>>2]+1;break r}if(d)for(p=0;;){if(n)for(l=_[O>>2],h=_[C>>2],c=_[k>>2],f=_[M>>2],n=0;;){_[l+(_[(b=h+(n<<2)|0)>>2]<<2)>>2]=0,a=_[b>>2]<<2;n:if(y=_[e>>2]-_[a+f>>2]|0)if(w=a+l|0,v=_[e+48>>2],(0|y)<=(0|(o=32-v|0))){if((0|(s=_[T>>2]))==_[I>>2]){_[w>>2]=0;break n}if(_[w>>2]=_[s>>2]<<v>>>32-y,a=y+_[e+48>>2]|0,_[e+48>>2]=a,32!=(0|a))break n;_[e+48>>2]=0,_[T>>2]=s+4}else u=_[T>>2],(0|(a=u+4|0))!=_[I>>2]?(s=_[u>>2],_[T>>2]=a,a=y-o|0,_[e+48>>2]=a,_[w>>2]=_[u+4>>2]>>>32-a|s<<v>>>32-y):_[w>>2]=0;if(s=_[b>>2]<<2,_[(a=s+l|0)>>2]=_[a>>2]|_[s+c>>2],!((n=n+1|0)>>>0<A[e+12>>2]))break}o=0;n:if((0|(n=_[i+16>>2]))!=_[x>>2])for(;;){if(n=g(o,20)+n|0,s=_[O>>2]+(_[n+4>>2]<<2)|0,h=_[n>>2],!((l=_[n+12>>2])>>>0>3))if(a=_[i+12>>2],_[(c=n+16|0)>>2]){for(f=n+12|0,n=0;a=es(a,(n<<2)+s|0,l),l=_[f>>2],a=a+l|0,(n=n+1|0)>>>0<A[c>>2];);s=_[i+12>>2]}else s=a;if(n=_[i+28>>2],(n=m[h+84|0]?n:_[_[h+68>>2]+(n<<2)>>2])>>>0>=A[h+80>>2])break n;if(a=_[h+40>>2],es(_[_[h>>2]>>2]+g(a,n)|0,s,a),o=o+1|0,n=_[i+16>>2],!(o>>>0<(_[x>>2]-n|0)/20>>>0))break}if(_[i+28>>2]=_[i+28>>2]+1,_[e+8>>2]=_[e+8>>2]+1,(0|(p=p+1|0))==(0|d))break r;n=_[e+12>>2]}}else{if(!d)break r;for(h=0;;){o=0;n:if((0|(n=_[i+16>>2]))!=_[x>>2])for(;;){if(n=g(o,20)+n|0,s=_[k>>2]+(_[n+4>>2]<<2)|0,u=_[n>>2],!((l=_[n+12>>2])>>>0>3))if(a=_[i+12>>2],_[(c=n+16|0)>>2]){for(f=n+12|0,n=0;a=es(a,(n<<2)+s|0,l),l=_[f>>2],a=a+l|0,(n=n+1|0)>>>0<A[c>>2];);s=_[i+12>>2]}else s=a;if(n=_[i+28>>2],(n=m[u+84|0]?n:_[_[u+68>>2]+(n<<2)>>2])>>>0>=A[u+80>>2])break n;if(a=_[u+40>>2],es(_[_[u>>2]>>2]+g(a,n)|0,s,a),o=o+1|0,n=_[i+16>>2],!(o>>>0<(_[x>>2]-n|0)/20>>>0))break}if(_[i+28>>2]=_[i+28>>2]+1,_[e+8>>2]=_[e+8>>2]+1,(0|d)==(0|(h=h+1|0)))break}}if(!(n=_[r+28>>2]))break}a=1}if(Qt(r+8|0),n=_[r+12>>2],e=_[r+16>>2],(0|n)!=(0|e)){for(;Ka(_[n>>2]),(0|e)!=(0|(n=n+4|0)););t=_[r+16>>2],e=_[r+12>>2],(0|t)!=(0|e)&&(_[r+16>>2]=t+(((t-e|0)-4>>>2^-1)<<2))}return(e=_[r+8>>2])&&Ka(e),z=r+32|0,a}Wa(),P()}Wa(),P()}(e,_[e+4>>2],i)}else l=1;return l}function It(e){var t=0,i=0,r=0,n=0,a=0;if(r=_[e+128>>2]){if(i=r,(0|r)!=(0|(t=_[(a=e+132|0)>>2]))){for(;(n=_[(i=t+-12|0)>>2])&&(_[t+-8>>2]=n,Ka(n)),(0|(t=i))!=(0|r););i=_[e+128>>2]}_[a>>2]=r,Ka(i)}if(r=_[e+116>>2]){if(i=r,(0|r)!=(0|(t=_[(a=e+120|0)>>2]))){for(;(n=_[(i=t+-12|0)>>2])&&(_[t+-8>>2]=n,Ka(n)),(0|(t=i))!=(0|r););i=_[e+116>>2]}_[a>>2]=r,Ka(i)}(t=_[e+104>>2])&&(_[e+108>>2]=t,Ka(t)),(t=_[e+92>>2])&&(_[e+96>>2]=t,Ka(t)),Gi(e+72|0),Gi(e+52|0),Gi(e+32|0)}function Dt(e,t){var i,r=0,n=0,a=0;z=i=z-16|0,_[e+12>>2]=t,_[e+8>>2]=0,_[e>>2]=0,_[e+4>>2]=0,Yi(e+16|0),Wi(e+32|0),Wi(e+52|0),Wi(e+72|0),_[e+100>>2]=0,_[e+92>>2]=0,_[e+96>>2]=0;e:{t:{i:{if(t){if(t>>>0>=1073741824)break i;for(n=Fa(r=t<<2),_[e+92>>2]=n,_[e+96>>2]=n,_[e+100>>2]=n+r,ts(n,0,r),r=t;n=n+4|0,r=r+-1|0;);_[e+96>>2]=n}if(_[e+104>>2]=0,_[e+108>>2]=0,_[e+112>>2]=0,t){if(t>>>0>=1073741824)break t;for(n=Fa(r=t<<2),_[e+104>>2]=n,_[e+108>>2]=n,_[e+112>>2]=n+r,ts(n,0,r),r=t;n=n+4|0,r=r+-1|0;);_[e+108>>2]=n}if(_[i+8>>2]=0,_[i>>2]=0,_[i+4>>2]=0,t){if(t>>>0>=1073741824)break e;for(n=Fa(r=t<<2),_[i>>2]=n,_[i+4>>2]=n,_[i+8>>2]=n+r,ts(n,0,r),r=t;n=n+4|0,r=r+-1|0;);_[i+4>>2]=n}if(zt(e+116|0,a=t<<5|1,i),(r=_[i>>2])&&(_[i+4>>2]=r,Ka(r)),_[i+8>>2]=0,_[i>>2]=0,_[i+4>>2]=0,t){if(t>>>0>=1073741824)break e;for(n=Fa(r=t<<2),_[i>>2]=n,_[i+4>>2]=n,_[i+8>>2]=n+r,ts(n,0,r);n=n+4|0,t=t+-1|0;);_[i+4>>2]=n}return zt(e+128|0,a,i),(t=_[i>>2])&&(_[i+4>>2]=t,Ka(t)),z=i+16|0,e}Wa(),P()}Wa(),P()}Wa(),P()}function Ft(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0;if(n=_[t+12>>2],a=_[t+20>>2],(r=(s=_[t+16>>2])+4|0)>>>0<4&&(a=a+1|0),!((0|n)<(0|a)||(0|n)<=(0|a)&&!(A[t+8>>2]>=r>>>0))&&(r=s+_[t>>2]|0,r=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e>>2]=r,s=n=_[t+20>>2],(a=(o=_[t+16>>2])+4|0)>>>0<4&&(n=n+1|0),_[t+16>>2]=a,_[t+20>>2]=n,!(r>>>0>32)&&((r=o+8|0)>>>0<8&&(s=s+1|0),!((0|(n=_[t+12>>2]))<(0|s)||(0|n)<=(0|s)&&!(A[t+8>>2]>=r>>>0)))))if(r=a+_[t>>2]|0,n=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e+4>>2]=n,a=_[t+20>>2],(s=_[t+16>>2]+4|0)>>>0<4&&(a=a+1|0),_[t+16>>2]=s,_[t+20>>2]=a,n){if(_[e+8>>2]=0,Xi(e+16|0,t)&&Hi(e+32|0,t)&&Hi(e+52|0,t)&&Hi(e+72|0,t))return function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,b=0,v=0,y=0,k=0,x=0,T=0,w=0,E=0,M=0,R=0,C=0,O=0,I=0,D=0,F=0;z=r=z-32|0,a=_[e+12>>2],_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0;e:{if(a){if(a>>>0>=1073741824)break e;for(s=Fa(n=a<<2),_[r+8>>2]=s,_[r+12>>2]=s,_[r+16>>2]=n+s,o=ts(s,0,n),n=a;o=o+4|0,n=n+-1|0;);_[r+12>>2]=o}n=_[e+116>>2],(l=_[n>>2])&&(_[n+4>>2]=l,Ka(l),_[n+8>>2]=0,_[n>>2]=0,_[n+4>>2]=0,a=_[e+12>>2],o=_[r+12>>2],s=_[r+8>>2]),_[n>>2]=s,_[n+4>>2]=o,_[n+8>>2]=_[r+16>>2],o=0,_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,n=0;t:{if(a){if(a>>>0>=1073741824)break t;for(n=Fa(s=a<<2),_[r+8>>2]=n,_[r+12>>2]=n,_[r+16>>2]=n+s,o=ts(n,0,s);o=o+4|0,a=a+-1|0;);_[r+12>>2]=o}s=_[e+128>>2],(l=_[s>>2])&&(_[s+4>>2]=l,Ka(l),_[s+8>>2]=0,_[s>>2]=0,_[s+4>>2]=0,o=_[r+12>>2],n=_[r+8>>2]),_[s>>2]=n,_[s+4>>2]=o,_[s+8>>2]=_[r+16>>2],_[(s=r+24|0)>>2]=0,_[s+4>>2]=0,_[(l=r+16|0)>>2]=0,_[l+4>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,Zt(r+8|0),a=_[l>>2],l=_[r+12>>2],n=0,(0|a)!=(0|l)&&(n=_[s>>2]+_[r+28>>2]|0,n=_[l+((s=(n>>>0)/341|0)<<2)>>2]+g(n-g(s,341)|0,12)|0),_[n+4>>2]=0,_[n+8>>2]=0,_[n>>2]=t,s=1,n=_[r+28>>2],a=n+1|0,_[r+28>>2]=a;i:if(!(a>>>0<n>>>0)){for(C=e+16|0,x=e+116|0,T=e+128|0,v=i+20|0,w=e+104|0,E=e+92|0,y=e+44|0,M=e+36|0,O=e+76|0;;){if(d=_[r+12>>2],s=_[r+24>>2],n=_[d+((l=((n=s+(c=a+-1|0)|0)>>>0)/341|0)<<2)>>2]+g(n-g(l,341)|0,12)|0,h=_[n+8>>2],o=_[n+4>>2],l=_[n>>2],_[r+28>>2]=c,n=_[r+16>>2],1+(((c=n-d|0)?g(c>>2,341)+-1|0:0)-(a+s|0)|0)>>>0>=682&&(Ka(_[n+-4>>2]),_[r+16>>2]=_[r+16>>2]+-4),l>>>0>t>>>0){s=0;break i}if(s=0,n=_[e+12>>2],(o=(0|o)==(n+-1|0)?0:o+1|0)>>>0>=n>>>0)break i;n=_[x>>2],a=g(h,12),d=n+a|0;r:if(c=o<<2,p=a+_[T>>2]|0,f=_[e>>2]-_[c+_[p>>2]>>2]|0){n:{a:{s:{o:{if(l>>>0<=2){if(s=_[w>>2],_[s>>2]=o,n=1,(a=_[e+12>>2])>>>0>1)break o;break n}if(A[e+8>>2]>A[e+4>>2])break i;if(lt((s=n)+(n=a+12|0)|0,_[d>>2],_[d+4>>2]),n=c+_[n+_[x>>2]>>2]|0,_[n>>2]=_[n>>2]+(1<<f+-1),_[r+4>>2]=0,Qi(C,31^S(l),r+4|0),d=h+1|0,n=(l>>>1)-_[r+4>>2]|0,(0|(s=l-n|0))!=(0|n)){if((0|(l=_[e+84>>2]))==_[O>>2])break s;f=_[l>>2],u=_[e+88>>2],p=u+1|0,_[e+88>>2]=p,f&=-2147483648>>>u;l:{if(32==(0|p)){if(_[e+88>>2]=0,_[e+84>>2]=l+4,f)break l;break s}if(!f)break s}}else s=n;l=s,s=n;break a}for(;o=(a+-1|0)==(0|o)?0:o+1|0,_[s+(n<<2)>>2]=o,n=n+1|0,a=_[e+12>>2],n>>>0<a>>>0;);break n}l=n}if(f=c,n=_[T>>2],c=_[(a=n+a|0)>>2],_[(f=f+c|0)>>2]=_[f>>2]+1,lt(n+g(d,12)|0,c,_[a+4>>2]),s&&(n=_[r+28>>2]+_[r+24>>2]|0,c=_[r+16>>2],a=_[r+12>>2],(0|n)==(0|((f=c-a|0)?g(f>>2,341)+-1|0:0))&&(Zt(r+8|0),c=_[r+16>>2],a=_[r+12>>2],n=_[r+24>>2]+_[r+28>>2]|0),n=(0|a)==(0|c)?0:_[(c=a)+((a=(n>>>0)/341|0)<<2)>>2]+g(n-g(a,341)|0,12)|0,_[n+8>>2]=h,_[n+4>>2]=o,_[n>>2]=s,_[r+28>>2]=_[r+28>>2]+1),!l)break r;n=_[r+28>>2]+_[r+24>>2]|0,s=_[r+16>>2],a=_[r+12>>2],(0|n)==(0|((h=s-a|0)?g(h>>2,341)+-1|0:0))&&(Zt(r+8|0),s=_[r+16>>2],a=_[r+12>>2],n=_[r+24>>2]+_[r+28>>2]|0),n=(0|a)==(0|s)?0:_[((s=(n>>>0)/341|0)<<2)+a>>2]+g(n-g(s,341)|0,12)|0,_[n+8>>2]=d,_[n+4>>2]=o,_[n>>2]=l,_[r+28>>2]=_[r+28>>2]+1;break r}if(l)for(f=0;;){if(a)for(o=_[E>>2],k=_[w>>2],I=_[d>>2],D=_[p>>2],a=0;;){_[o+(_[(h=k+(a<<2)|0)>>2]<<2)>>2]=0,s=_[h>>2]<<2;n:if(n=_[e>>2]-_[s+D>>2]|0)if(s=s+o|0,c=_[e+48>>2],(0|n)<=(0|(b=32-c|0))){if((0|(u=_[y>>2]))==_[M>>2]){_[s>>2]=0;break n}if(_[s>>2]=_[u>>2]<<c>>>32-n,n=n+_[e+48>>2]|0,_[e+48>>2]=n,32!=(0|n))break n;_[e+48>>2]=0,_[y>>2]=u+4}else u=_[y>>2],(0|(R=u+4|0))!=_[M>>2]?(F=_[u>>2],_[y>>2]=R,b=n-b|0,_[e+48>>2]=b,_[s>>2]=_[u+4>>2]>>>32-b|F<<c>>>32-n):_[s>>2]=0;if(n=_[h>>2]<<2,_[(s=n+o|0)>>2]=_[s>>2]|_[n+I>>2],!((a=a+1|0)>>>0<A[e+12>>2]))break}h=0;n:if((0|(a=_[i+16>>2]))!=_[v>>2])for(;;){if(a=g(h,20)+a|0,s=_[E>>2]+(_[a+4>>2]<<2)|0,c=_[a>>2],!((o=_[a+12>>2])>>>0>3))if(n=_[i+12>>2],_[(u=a+16|0)>>2]){for(k=a+12|0,a=0;n=es(n,(a<<2)+s|0,o),o=_[k>>2],n=n+o|0,(a=a+1|0)>>>0<A[u>>2];);s=_[i+12>>2]}else s=n;if(a=_[i+28>>2],(a=m[c+84|0]?a:_[_[c+68>>2]+(a<<2)>>2])>>>0>=A[c+80>>2])break n;if(n=_[c+40>>2],es(_[_[c>>2]>>2]+g(n,a)|0,s,n),h=h+1|0,a=_[i+16>>2],!(h>>>0<(_[v>>2]-a|0)/20>>>0))break}if(_[i+28>>2]=_[i+28>>2]+1,_[e+8>>2]=_[e+8>>2]+1,(0|(f=f+1|0))==(0|l))break r;a=_[e+12>>2]}}else{if(!l)break r;for(f=0;;){h=0;n:if((0|(a=_[i+16>>2]))!=_[v>>2])for(;;){if(a=g(h,20)+a|0,s=_[d>>2]+(_[a+4>>2]<<2)|0,c=_[a>>2],!((o=_[a+12>>2])>>>0>3))if(n=_[i+12>>2],_[(u=a+16|0)>>2]){for(p=a+12|0,a=0;n=es(n,(a<<2)+s|0,o),o=_[p>>2],n=n+o|0,(a=a+1|0)>>>0<A[u>>2];);s=_[i+12>>2]}else s=n;if(a=_[i+28>>2],(a=m[c+84|0]?a:_[_[c+68>>2]+(a<<2)>>2])>>>0>=A[c+80>>2])break n;if(n=_[c+40>>2],es(_[_[c>>2]>>2]+g(n,a)|0,s,n),h=h+1|0,a=_[i+16>>2],!(h>>>0<(_[v>>2]-a|0)/20>>>0))break}if(_[i+28>>2]=_[i+28>>2]+1,_[e+8>>2]=_[e+8>>2]+1,(0|l)==(0|(f=f+1|0)))break}}if(!(a=_[r+28>>2]))break}s=1}if(Qt(r+8|0),a=_[r+12>>2],e=_[r+16>>2],(0|a)!=(0|e)){for(;Ka(_[a>>2]),(0|e)!=(0|(a=a+4|0)););e=_[r+16>>2],t=_[r+12>>2],(0|e)!=(0|t)&&(_[r+16>>2]=e+(((e-t|0)-4>>>2^-1)<<2))}return(e=_[r+8>>2])&&Ka(e),z=r+32|0,s}Wa(),P()}Wa(),P()}(e,_[e+4>>2],i)}else l=1;return l}function Nt(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0;n=_[t+12>>2];e:if(a=_[t+20>>2],(r=(s=_[t+16>>2])+4|0)>>>0<4&&(a=a+1|0),!((0|n)<(0|a)||(0|n)<=(0|a)&&!(A[t+8>>2]>=r>>>0))&&(r=s+_[t>>2]|0,r=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e>>2]=r,s=n=_[t+20>>2],(a=(o=_[t+16>>2])+4|0)>>>0<4&&(n=n+1|0),_[t+16>>2]=a,_[t+20>>2]=n,!(r>>>0>32)&&((r=o+8|0)>>>0<8&&(s=s+1|0),!((0|(n=_[t+12>>2]))<(0|s)||(0|n)<=(0|s)&&!(A[t+8>>2]>=r>>>0)))))if(r=a+_[t>>2]|0,n=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e+4>>2]=n,a=_[t+20>>2],(s=_[t+16>>2]+4|0)>>>0<4&&(a=a+1|0),_[t+16>>2]=s,_[t+20>>2]=a,n){for(_[e+8>>2]=0,r=0;;){if(!Xi(16+((r<<4)+e|0)|0,t))break e;if(32==(0|(r=r+1|0)))break}if(Xi(e+528|0,t)&&Hi(e+544|0,t)&&Hi(e+564|0,t)&&Hi(e+584|0,t))return function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,b=0,v=0,y=0,k=0,x=0,T=0,w=0,E=0,M=0,R=0,C=0,O=0,I=0,D=0;z=r=z-32|0,n=_[e+12>>2],_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0;t:{if(n){if(n>>>0>=1073741824)break t;for(s=Fa(a=n<<2),_[r+8>>2]=s,_[r+12>>2]=s,_[r+16>>2]=a+s,l=ts(s,0,a),a=n;l=l+4|0,a=a+-1|0;);_[r+12>>2]=l}a=_[e+628>>2],(o=_[a>>2])&&(_[a+4>>2]=o,Ka(o),_[a+8>>2]=0,_[a>>2]=0,_[a+4>>2]=0,n=_[e+12>>2],l=_[r+12>>2],s=_[r+8>>2]),_[a>>2]=s,_[a+4>>2]=l,_[a+8>>2]=_[r+16>>2],l=0,_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,a=0;i:{if(n){if(n>>>0>=1073741824)break i;for(a=Fa(s=n<<2),_[r+8>>2]=a,_[r+12>>2]=a,_[r+16>>2]=a+s,l=ts(a,0,s);l=l+4|0,n=n+-1|0;);_[r+12>>2]=l}s=_[e+640>>2],(n=_[s>>2])&&(_[s+4>>2]=n,Ka(n),_[s+8>>2]=0,_[s>>2]=0,_[s+4>>2]=0,l=_[r+12>>2],a=_[r+8>>2]),_[s>>2]=a,_[s+4>>2]=l,_[s+8>>2]=_[r+16>>2],_[(n=r+24|0)>>2]=0,_[n+4>>2]=0,_[(a=r+16|0)>>2]=0,_[a+4>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,Zt(r+8|0),o=_[a>>2],a=_[r+12>>2],s=0,(0|o)!=(0|a)&&(s=_[n>>2]+_[r+28>>2]|0,s=_[a+((n=(s>>>0)/341|0)<<2)>>2]+g(s-g(n,341)|0,12)|0),_[s+4>>2]=0,_[s+8>>2]=0,_[s>>2]=t,a=1,s=_[r+28>>2],n=s+1|0,_[r+28>>2]=n;r:if(!(n>>>0<s>>>0)){for(T=e+640|0,x=e+628|0,y=i+20|0,w=e+616|0,E=e+604|0,k=e+556|0,M=e+548|0,C=e+588|0;;){if(h=_[r+12>>2],a=_[r+24>>2],s=_[h+((o=((s=a+(l=n+-1|0)|0)>>>0)/341|0)<<2)>>2]+g(s-g(o,341)|0,12)|0,f=_[s+8>>2],d=_[s+4>>2],o=_[s>>2],_[r+28>>2]=l,s=_[r+16>>2],1+(((l=s-h|0)?g(l>>2,341)+-1|0:0)-(n+a|0)|0)>>>0>=682&&(Ka(_[s+-4>>2]),_[r+16>>2]=_[r+16>>2]+-4),a=0,o>>>0>t>>>0)break r;if(s=_[x>>2],c=g(f,12),p=c+_[T>>2]|0,(l=zn(e,p,d))>>>0>=A[e+12>>2])break r;h=s+c|0;n:{a:if(d=l<<2,n=_[e>>2]-_[d+_[p>>2]>>2]|0){s:{o:{l:{c:{if(o>>>0<=2){if(s=_[w>>2],_[s>>2]=l,a=1,(n=_[e+12>>2])>>>0>1)break c;break s}if(A[e+8>>2]>A[e+4>>2])break r;if(s=_[x>>2],p=g(u=f+1|0,12),(0|(a=s+p|0))!=(0|h)&&(lt(a,_[h>>2],_[h+4>>2]),s=_[x>>2]),s=d+_[s+p>>2]|0,_[s>>2]=_[s>>2]+(1<<n+-1),a=0,n=0,s=31^S(o))for(;a=Zi(16+((n<<4)+e|0)|0)|a<<1,(0|s)!=(0|(n=n+1|0)););if((0|(n=o-(a=(o>>>1)-a|0)|0))!=(0|a)){if((0|(s=_[e+596>>2]))==_[C>>2])break l;o=_[s>>2],h=_[e+600>>2],b=h+1|0,_[e+600>>2]=b,o&=-2147483648>>>h;f:{if(32==(0|b)){if(_[e+600>>2]=0,_[e+596>>2]=s+4,o)break f;break l}if(!o)break l}}else n=a;s=n,n=a;break o}for(;l=(n+-1|0)==(0|l)?0:l+1|0,_[s+(a<<2)>>2]=l,a=a+1|0,n=_[e+12>>2],a>>>0<n>>>0;);break s}s=a}if(a=_[T>>2],h=_[(o=a+c|0)>>2],_[(c=h+d|0)>>2]=_[c>>2]+1,lt(a+p|0,h,_[o+4>>2]),n&&(h=_[r+28>>2]+_[r+24>>2]|0,c=_[r+16>>2],a=_[r+12>>2],(0|h)==(0|((o=c-a|0)?g(o>>2,341)+-1|0:0))&&(Zt(r+8|0),h=_[r+24>>2]+_[r+28>>2]|0,c=_[r+16>>2],a=_[r+12>>2]),o=0,(0|a)!=(0|c)&&(o=_[(o=a)+((a=(h>>>0)/341|0)<<2)>>2]+g(h-g(a,341)|0,12)|0),_[o+8>>2]=f,_[o+4>>2]=l,_[o>>2]=n,_[r+28>>2]=_[r+28>>2]+1),!s)break a;a=_[r+28>>2]+_[r+24>>2]|0,o=_[r+16>>2],n=_[r+12>>2],(0|a)==(0|((f=o-n|0)?g(f>>2,341)+-1|0:0))&&(Zt(r+8|0),o=_[r+16>>2],a=_[r+24>>2]+_[r+28>>2]|0,n=_[r+12>>2]),n=(0|n)==(0|o)?0:_[(o=n)+((n=(a>>>0)/341|0)<<2)>>2]+g(a-g(n,341)|0,12)|0,_[n+8>>2]=u,_[n+4>>2]=l,_[n>>2]=s,n=_[r+28>>2]+1|0,_[r+28>>2]=n;break n}if(o)for(d=0;;){if(n)for(l=_[E>>2],b=_[w>>2],O=_[h>>2],I=_[p>>2],n=0;;){_[l+(_[(f=b+(n<<2)|0)>>2]<<2)>>2]=0,a=_[f>>2]<<2;s:if(s=_[e>>2]-_[a+I>>2]|0)if(a=a+l|0,c=_[e+560>>2],(0|s)<=(0|(v=32-c|0))){if((0|(u=_[k>>2]))==_[M>>2]){_[a>>2]=0;break s}if(_[a>>2]=_[u>>2]<<c>>>32-s,s=s+_[e+560>>2]|0,_[e+560>>2]=s,32!=(0|s))break s;_[e+560>>2]=0,_[k>>2]=u+4}else u=_[k>>2],(0|(R=u+4|0))!=_[M>>2]?(D=_[u>>2],_[k>>2]=R,v=s-v|0,_[e+560>>2]=v,_[a>>2]=_[u+4>>2]>>>32-v|D<<c>>>32-s):_[a>>2]=0;if(s=_[f>>2]<<2,_[(a=s+l|0)>>2]=_[a>>2]|_[s+O>>2],!((n=n+1|0)>>>0<A[e+12>>2]))break}f=0;s:if((0|(n=_[i+16>>2]))!=_[y>>2])for(;;){if(n=g(f,20)+n|0,s=_[E>>2]+(_[n+4>>2]<<2)|0,c=_[n>>2],!((l=_[n+12>>2])>>>0>3))if(a=_[i+12>>2],_[(u=n+16|0)>>2]){for(b=n+12|0,n=0;a=es(a,(n<<2)+s|0,l),l=_[b>>2],a=a+l|0,(n=n+1|0)>>>0<A[u>>2];);s=_[i+12>>2]}else s=a;if(n=_[i+28>>2],(n=m[c+84|0]?n:_[_[c+68>>2]+(n<<2)>>2])>>>0>=A[c+80>>2])break s;if(a=n,n=_[c+40>>2],es(_[_[c>>2]>>2]+g(a,n)|0,s,n),f=f+1|0,n=_[i+16>>2],!(f>>>0<(_[y>>2]-n|0)/20>>>0))break}if(_[i+28>>2]=_[i+28>>2]+1,_[e+8>>2]=_[e+8>>2]+1,(0|(d=d+1|0))==(0|o))break a;n=_[e+12>>2]}}else{if(!o)break a;for(p=0;;){f=0;s:if((0|(n=_[i+16>>2]))!=_[y>>2])for(;;){if(n=g(f,20)+n|0,s=_[h>>2]+(_[n+4>>2]<<2)|0,c=_[n>>2],!((l=_[n+12>>2])>>>0>3))if(a=_[i+12>>2],_[(d=n+16|0)>>2]){for(u=n+12|0,n=0;a=es(a,(n<<2)+s|0,l),l=_[u>>2],a=a+l|0,(n=n+1|0)>>>0<A[d>>2];);s=_[i+12>>2]}else s=a;if(n=_[i+28>>2],(n=m[c+84|0]?n:_[_[c+68>>2]+(n<<2)>>2])>>>0>=A[c+80>>2])break s;if(a=n,n=_[c+40>>2],es(_[_[c>>2]>>2]+g(a,n)|0,s,n),f=f+1|0,n=_[i+16>>2],!(f>>>0<(_[y>>2]-n|0)/20>>>0))break}if(_[i+28>>2]=_[i+28>>2]+1,_[e+8>>2]=_[e+8>>2]+1,(0|o)==(0|(p=p+1|0)))break}}n=_[r+28>>2]}if(!n)break}a=1}if(Qt(r+8|0),n=_[r+12>>2],e=_[r+16>>2],(0|n)!=(0|e)){for(;Ka(_[n>>2]),(0|e)!=(0|(n=n+4|0)););e=_[r+16>>2],t=_[r+12>>2],(0|e)!=(0|t)&&(_[r+16>>2]=e+(((e-t|0)-4>>>2^-1)<<2))}return(e=_[r+8>>2])&&Ka(e),z=r+32|0,a}Wa(),P()}Wa(),P()}(e,_[e+4>>2],i)}else l=1;return l}function Bt(e){var t=0,i=0,r=0,n=0,a=0;if(r=_[e+640>>2]){if(i=r,(0|r)!=(0|(t=_[(a=e+644|0)>>2]))){for(;(n=_[(i=t+-12|0)>>2])&&(_[t+-8>>2]=n,Ka(n)),(0|(t=i))!=(0|r););i=_[e+640>>2]}_[a>>2]=r,Ka(i)}if(r=_[e+628>>2]){if(i=r,(0|r)!=(0|(t=_[(a=e+632|0)>>2]))){for(;(n=_[(i=t+-12|0)>>2])&&(_[t+-8>>2]=n,Ka(n)),(0|(t=i))!=(0|r););i=_[e+628>>2]}_[a>>2]=r,Ka(i)}(t=_[e+616>>2])&&(_[e+620>>2]=t,Ka(t)),(t=_[e+604>>2])&&(_[e+608>>2]=t,Ka(t)),Gi(e+584|0),Gi(e+564|0),Gi(e+544|0)}function Lt(e,t){var i,r=0,n=0,a=0;z=i=z-16|0,_[e+12>>2]=t,_[e+8>>2]=0,_[e>>2]=0,_[e+4>>2]=0,function(e){Yi(e),Yi(e+16|0),Yi(e+32|0),Yi(e+48|0),Yi(e- -64|0),Yi(e+80|0),Yi(e+96|0),Yi(e+112|0),Yi(e+128|0),Yi(e+144|0),Yi(e+160|0),Yi(e+176|0),Yi(e+192|0),Yi(e+208|0),Yi(e+224|0),Yi(e+240|0),Yi(e+256|0),Yi(e+272|0),Yi(e+288|0),Yi(e+304|0),Yi(e+320|0),Yi(e+336|0),Yi(e+352|0),Yi(e+368|0),Yi(e+384|0),Yi(e+400|0),Yi(e+416|0),Yi(e+432|0),Yi(e+448|0),Yi(e+464|0),Yi(e+480|0),Yi(e+496|0)}(e+16|0),Yi(e+528|0),Wi(e+544|0),Wi(e+564|0),Wi(e+584|0),_[e+612>>2]=0,_[e+604>>2]=0,_[e+608>>2]=0;e:{t:{i:{if(t){if(t>>>0>=1073741824)break i;for(n=Fa(r=t<<2),_[e+604>>2]=n,_[e+608>>2]=n,_[e+612>>2]=n+r,ts(n,0,r),r=t;n=n+4|0,r=r+-1|0;);_[e+608>>2]=n}if(_[e+616>>2]=0,_[e+620>>2]=0,_[e+624>>2]=0,t){if(t>>>0>=1073741824)break t;for(n=Fa(r=t<<2),_[e+616>>2]=n,_[e+620>>2]=n,_[e+624>>2]=n+r,ts(n,0,r),r=t;n=n+4|0,r=r+-1|0;);_[e+620>>2]=n}if(_[i+8>>2]=0,_[i>>2]=0,_[i+4>>2]=0,t){if(t>>>0>=1073741824)break e;for(n=Fa(r=t<<2),_[i>>2]=n,_[i+4>>2]=n,_[i+8>>2]=n+r,ts(n,0,r),r=t;n=n+4|0,r=r+-1|0;);_[i+4>>2]=n}if(zt(e+628|0,a=t<<5|1,i),(r=_[i>>2])&&(_[i+4>>2]=r,Ka(r)),_[i+8>>2]=0,_[i>>2]=0,_[i+4>>2]=0,t){if(t>>>0>=1073741824)break e;for(n=Fa(r=t<<2),_[i>>2]=n,_[i+4>>2]=n,_[i+8>>2]=n+r,ts(n,0,r);n=n+4|0,t=t+-1|0;);_[i+4>>2]=n}return zt(e+640|0,a,i),(t=_[i>>2])&&(_[i+4>>2]=t,Ka(t)),z=i+16|0,e}Wa(),P()}Wa(),P()}Wa(),P()}function Ut(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0;n=_[t+12>>2];e:if(a=_[t+20>>2],(r=(s=_[t+16>>2])+4|0)>>>0<4&&(a=a+1|0),!((0|n)<(0|a)||(0|n)<=(0|a)&&!(A[t+8>>2]>=r>>>0))&&(r=s+_[t>>2]|0,r=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e>>2]=r,s=n=_[t+20>>2],(a=(o=_[t+16>>2])+4|0)>>>0<4&&(n=n+1|0),_[t+16>>2]=a,_[t+20>>2]=n,!(r>>>0>32)&&((r=o+8|0)>>>0<8&&(s=s+1|0),!((0|(n=_[t+12>>2]))<(0|s)||(0|n)<=(0|s)&&!(A[t+8>>2]>=r>>>0)))))if(r=a+_[t>>2]|0,n=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e+4>>2]=n,a=_[t+20>>2],(s=_[t+16>>2]+4|0)>>>0<4&&(a=a+1|0),_[t+16>>2]=s,_[t+20>>2]=a,n){for(_[e+8>>2]=0,r=0;;){if(!Xi(16+((r<<4)+e|0)|0,t))break e;if(32==(0|(r=r+1|0)))break}if(Xi(e+528|0,t)&&Hi(e+544|0,t)&&Hi(e+564|0,t)&&Hi(e+584|0,t))return function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,b=0,v=0,y=0,k=0,x=0,T=0,w=0,E=0,M=0,R=0,C=0,O=0,I=0,D=0;z=r=z-32|0,n=_[e+12>>2],_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0;t:{if(n){if(n>>>0>=1073741824)break t;for(s=Fa(a=n<<2),_[r+8>>2]=s,_[r+12>>2]=s,_[r+16>>2]=a+s,o=ts(s,0,a),a=n;o=o+4|0,a=a+-1|0;);_[r+12>>2]=o}a=_[e+628>>2],(l=_[a>>2])&&(_[a+4>>2]=l,Ka(l),_[a+8>>2]=0,_[a>>2]=0,_[a+4>>2]=0,n=_[e+12>>2],o=_[r+12>>2],s=_[r+8>>2]),_[a>>2]=s,_[a+4>>2]=o,_[a+8>>2]=_[r+16>>2],o=0,_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,a=0;i:{if(n){if(n>>>0>=1073741824)break i;for(a=Fa(s=n<<2),_[r+8>>2]=a,_[r+12>>2]=a,_[r+16>>2]=a+s,o=ts(a,0,s);o=o+4|0,n=n+-1|0;);_[r+12>>2]=o}s=_[e+640>>2],(n=_[s>>2])&&(_[s+4>>2]=n,Ka(n),_[s+8>>2]=0,_[s>>2]=0,_[s+4>>2]=0,o=_[r+12>>2],a=_[r+8>>2]),_[s>>2]=a,_[s+4>>2]=o,_[s+8>>2]=_[r+16>>2],_[(n=r+24|0)>>2]=0,_[n+4>>2]=0,_[(a=r+16|0)>>2]=0,_[a+4>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,Zt(r+8|0),l=_[a>>2],a=_[r+12>>2],s=0,(0|l)!=(0|a)&&(s=_[n>>2]+_[r+28>>2]|0,s=_[a+((n=(s>>>0)/341|0)<<2)>>2]+g(s-g(n,341)|0,12)|0),_[s+4>>2]=0,_[s+8>>2]=0,_[s>>2]=t,s=1,a=_[r+28>>2],n=a+1|0,_[r+28>>2]=n;r:if(!(n>>>0<a>>>0)){for(x=e+628|0,T=e+640|0,v=i+20|0,w=e+616|0,E=e+604|0,y=e+556|0,M=e+548|0,C=e+588|0;;){if(d=_[r+12>>2],o=_[r+24>>2],s=_[d+((a=((s=o+(c=n+-1|0)|0)>>>0)/341|0)<<2)>>2]+g(s-g(a,341)|0,12)|0,f=_[s+8>>2],a=_[s+4>>2],l=_[s>>2],_[r+28>>2]=c,s=_[r+16>>2],1+(((c=s-d|0)?g(c>>2,341)+-1|0:0)-(n+o|0)|0)>>>0>=682&&(Ka(_[s+-4>>2]),_[r+16>>2]=_[r+16>>2]+-4),l>>>0>t>>>0){s=0;break r}if(s=0,n=_[e+12>>2],(o=(0|a)==(n+-1|0)?0:a+1|0)>>>0>=n>>>0)break r;n=_[x>>2],c=g(f,12),d=n+c|0;n:{a:if(h=o<<2,p=c+_[T>>2]|0,a=_[e>>2]-_[h+_[p>>2]>>2]|0){s:{o:{l:{c:{if(l>>>0<=2){if(s=_[w>>2],_[s>>2]=o,a=1,(n=_[e+12>>2])>>>0>1)break c;break s}if(A[e+8>>2]>A[e+4>>2])break r;if(lt((s=c+12|0)+n|0,_[d>>2],_[d+4>>2]),s=h+_[s+_[x>>2]>>2]|0,_[s>>2]=_[s>>2]+(1<<a+-1),a=0,n=0,s=31^S(l))for(;a=Zi(16+((n<<4)+e|0)|0)|a<<1,(0|s)!=(0|(n=n+1|0)););if(d=f+1|0,(0|(n=l-(a=(l>>>1)-a|0)|0))!=(0|a)){if((0|(s=_[e+596>>2]))==_[C>>2])break l;l=_[s>>2],u=_[e+600>>2],p=u+1|0,_[e+600>>2]=p,l&=-2147483648>>>u;f:{if(32==(0|p)){if(_[e+600>>2]=0,_[e+596>>2]=s+4,l)break f;break l}if(!l)break l}}else n=a;s=n,n=a;break o}for(;o=(n+-1|0)==(0|o)?0:o+1|0,_[s+(a<<2)>>2]=o,a=a+1|0,n=_[e+12>>2],a>>>0<n>>>0;);break s}s=a}if(a=_[T>>2],c=_[(l=a+c|0)>>2],_[(h=c+h|0)>>2]=_[h>>2]+1,lt(a+g(d,12)|0,c,_[l+4>>2]),n&&(c=_[r+28>>2]+_[r+24>>2]|0,h=_[r+16>>2],a=_[r+12>>2],(0|c)==(0|((l=h-a|0)?g(l>>2,341)+-1|0:0))&&(Zt(r+8|0),c=_[r+24>>2]+_[r+28>>2]|0,h=_[r+16>>2],a=_[r+12>>2]),l=0,(0|a)!=(0|h)&&(l=_[(l=a)+((a=(c>>>0)/341|0)<<2)>>2]+g(c-g(a,341)|0,12)|0),_[l+8>>2]=f,_[l+4>>2]=o,_[l>>2]=n,_[r+28>>2]=_[r+28>>2]+1),!s)break a;a=_[r+28>>2]+_[r+24>>2]|0,c=_[r+16>>2],n=_[r+12>>2],(0|a)==(0|((l=c-n|0)?g(l>>2,341)+-1|0:0))&&(Zt(r+8|0),c=_[r+16>>2],a=_[r+24>>2]+_[r+28>>2]|0,n=_[r+12>>2]),n=(0|n)==(0|c)?0:_[(l=n)+((n=(a>>>0)/341|0)<<2)>>2]+g(a-g(n,341)|0,12)|0,_[n+8>>2]=d,_[n+4>>2]=o,_[n>>2]=s,n=_[r+28>>2]+1|0,_[r+28>>2]=n;break n}if(l)for(h=0;;){if(n)for(o=_[E>>2],k=_[w>>2],O=_[d>>2],I=_[p>>2],n=0;;){_[o+(_[(c=k+(n<<2)|0)>>2]<<2)>>2]=0,a=_[c>>2]<<2;s:if(s=_[e>>2]-_[a+I>>2]|0)if(a=a+o|0,f=_[e+560>>2],(0|s)<=(0|(b=32-f|0))){if((0|(u=_[y>>2]))==_[M>>2]){_[a>>2]=0;break s}if(_[a>>2]=_[u>>2]<<f>>>32-s,s=s+_[e+560>>2]|0,_[e+560>>2]=s,32!=(0|s))break s;_[e+560>>2]=0,_[y>>2]=u+4}else u=_[y>>2],(0|(R=u+4|0))!=_[M>>2]?(D=_[u>>2],_[y>>2]=R,b=s-b|0,_[e+560>>2]=b,_[a>>2]=_[u+4>>2]>>>32-b|D<<f>>>32-s):_[a>>2]=0;if(s=_[c>>2]<<2,_[(a=s+o|0)>>2]=_[a>>2]|_[s+O>>2],!((n=n+1|0)>>>0<A[e+12>>2]))break}c=0;s:if((0|(n=_[i+16>>2]))!=_[v>>2])for(;;){if(n=g(c,20)+n|0,s=_[E>>2]+(_[n+4>>2]<<2)|0,f=_[n>>2],!((o=_[n+12>>2])>>>0>3))if(a=_[i+12>>2],_[(u=n+16|0)>>2]){for(k=n+12|0,n=0;a=es(a,(n<<2)+s|0,o),o=_[k>>2],a=a+o|0,(n=n+1|0)>>>0<A[u>>2];);s=_[i+12>>2]}else s=a;if(n=_[i+28>>2],(n=m[f+84|0]?n:_[_[f+68>>2]+(n<<2)>>2])>>>0>=A[f+80>>2])break s;if(a=n,n=_[f+40>>2],es(_[_[f>>2]>>2]+g(a,n)|0,s,n),c=c+1|0,n=_[i+16>>2],!(c>>>0<(_[v>>2]-n|0)/20>>>0))break}if(_[i+28>>2]=_[i+28>>2]+1,_[e+8>>2]=_[e+8>>2]+1,(0|(h=h+1|0))==(0|l))break a;n=_[e+12>>2]}}else{if(!l)break a;for(h=0;;){c=0;s:if((0|(n=_[i+16>>2]))!=_[v>>2])for(;;){if(n=g(c,20)+n|0,s=_[d>>2]+(_[n+4>>2]<<2)|0,f=_[n>>2],!((o=_[n+12>>2])>>>0>3))if(a=_[i+12>>2],_[(u=n+16|0)>>2]){for(p=n+12|0,n=0;a=es(a,(n<<2)+s|0,o),o=_[p>>2],a=a+o|0,(n=n+1|0)>>>0<A[u>>2];);s=_[i+12>>2]}else s=a;if(n=_[i+28>>2],(n=m[f+84|0]?n:_[_[f+68>>2]+(n<<2)>>2])>>>0>=A[f+80>>2])break s;if(a=n,n=_[f+40>>2],es(_[_[f>>2]>>2]+g(a,n)|0,s,n),c=c+1|0,n=_[i+16>>2],!(c>>>0<(_[v>>2]-n|0)/20>>>0))break}if(_[i+28>>2]=_[i+28>>2]+1,_[e+8>>2]=_[e+8>>2]+1,(0|l)==(0|(h=h+1|0)))break}}n=_[r+28>>2]}if(!n)break}s=1}if(Qt(r+8|0),n=_[r+12>>2],e=_[r+16>>2],(0|n)!=(0|e)){for(;Ka(_[n>>2]),(0|e)!=(0|(n=n+4|0)););e=_[r+16>>2],t=_[r+12>>2],(0|e)!=(0|t)&&(_[r+16>>2]=e+(((e-t|0)-4>>>2^-1)<<2))}return(e=_[r+8>>2])&&Ka(e),z=r+32|0,s}Wa(),P()}Wa(),P()}(e,_[e+4>>2],i)}else l=1;return l}function Vt(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0;n=_[t+12>>2];e:if(a=_[t+20>>2],(r=(s=_[t+16>>2])+4|0)>>>0<4&&(a=a+1|0),!((0|n)<(0|a)||(0|n)<=(0|a)&&!(A[t+8>>2]>=r>>>0))&&(r=s+_[t>>2]|0,r=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e>>2]=r,s=n=_[t+20>>2],(a=(o=_[t+16>>2])+4|0)>>>0<4&&(n=n+1|0),_[t+16>>2]=a,_[t+20>>2]=n,!(r>>>0>32)&&((r=o+8|0)>>>0<8&&(s=s+1|0),!((0|(n=_[t+12>>2]))<(0|s)||(0|n)<=(0|s)&&!(A[t+8>>2]>=r>>>0)))))if(r=a+_[t>>2]|0,n=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e+4>>2]=n,a=_[t+20>>2],(s=_[t+16>>2]+4|0)>>>0<4&&(a=a+1|0),_[t+16>>2]=s,_[t+20>>2]=a,n){for(_[e+8>>2]=0,r=0;;){if(!Xi(16+((r<<4)+e|0)|0,t))break e;if(32==(0|(r=r+1|0)))break}if(Xi(e+528|0,t)&&Hi(e+544|0,t)&&Hi(e+564|0,t)&&Hi(e+584|0,t))return function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,b=0,v=0,y=0,k=0,x=0,T=0,w=0,E=0,M=0,R=0,C=0,O=0,I=0,D=0;z=r=z-32|0,n=_[e+12>>2],_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0;t:{if(n){if(n>>>0>=1073741824)break t;for(s=Fa(a=n<<2),_[r+8>>2]=s,_[r+12>>2]=s,_[r+16>>2]=a+s,l=ts(s,0,a),a=n;l=l+4|0,a=a+-1|0;);_[r+12>>2]=l}a=_[e+628>>2],(o=_[a>>2])&&(_[a+4>>2]=o,Ka(o),_[a+8>>2]=0,_[a>>2]=0,_[a+4>>2]=0,n=_[e+12>>2],l=_[r+12>>2],s=_[r+8>>2]),_[a>>2]=s,_[a+4>>2]=l,_[a+8>>2]=_[r+16>>2],l=0,_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,a=0;i:{if(n){if(n>>>0>=1073741824)break i;for(a=Fa(s=n<<2),_[r+8>>2]=a,_[r+12>>2]=a,_[r+16>>2]=a+s,l=ts(a,0,s);l=l+4|0,n=n+-1|0;);_[r+12>>2]=l}s=_[e+640>>2],(n=_[s>>2])&&(_[s+4>>2]=n,Ka(n),_[s+8>>2]=0,_[s>>2]=0,_[s+4>>2]=0,l=_[r+12>>2],a=_[r+8>>2]),_[s>>2]=a,_[s+4>>2]=l,_[s+8>>2]=_[r+16>>2],_[(n=r+24|0)>>2]=0,_[n+4>>2]=0,_[(a=r+16|0)>>2]=0,_[a+4>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,Zt(r+8|0),o=_[a>>2],a=_[r+12>>2],s=0,(0|o)!=(0|a)&&(s=_[n>>2]+_[r+28>>2]|0,s=_[a+((n=(s>>>0)/341|0)<<2)>>2]+g(s-g(n,341)|0,12)|0),_[s+4>>2]=0,_[s+8>>2]=0,_[s>>2]=t,a=1,s=_[r+28>>2],n=s+1|0,_[r+28>>2]=n;r:if(!(n>>>0<s>>>0)){for(T=e+640|0,x=e+628|0,y=i+20|0,w=e+616|0,E=e+604|0,k=e+556|0,M=e+548|0,C=e+588|0;;){if(h=_[r+12>>2],a=_[r+24>>2],s=_[h+((o=((s=a+(l=n+-1|0)|0)>>>0)/341|0)<<2)>>2]+g(s-g(o,341)|0,12)|0,f=_[s+8>>2],o=_[s>>2],_[r+28>>2]=l,s=_[r+16>>2],1+(((l=s-h|0)?g(l>>2,341)+-1|0:0)-(n+a|0)|0)>>>0>=682&&(Ka(_[s+-4>>2]),_[r+16>>2]=_[r+16>>2]+-4),a=0,o>>>0>t>>>0)break r;if(s=_[x>>2],c=g(f,12),d=c+_[T>>2]|0,(l=jn(e,o,d))>>>0>=A[e+12>>2])break r;h=s+c|0;n:{a:if(p=l<<2,n=_[e>>2]-_[p+_[d>>2]>>2]|0){s:{o:{l:{c:{if(o>>>0<=2){if(s=_[w>>2],_[s>>2]=l,a=1,(n=_[e+12>>2])>>>0>1)break c;break s}if(A[e+8>>2]>A[e+4>>2])break r;if(s=_[x>>2],d=g(u=f+1|0,12),(0|(a=s+d|0))!=(0|h)&&(lt(a,_[h>>2],_[h+4>>2]),s=_[x>>2]),s=p+_[s+d>>2]|0,_[s>>2]=_[s>>2]+(1<<n+-1),a=0,n=0,s=31^S(o))for(;a=Zi(16+((n<<4)+e|0)|0)|a<<1,(0|s)!=(0|(n=n+1|0)););if((0|(n=o-(a=(o>>>1)-a|0)|0))!=(0|a)){if((0|(s=_[e+596>>2]))==_[C>>2])break l;o=_[s>>2],h=_[e+600>>2],b=h+1|0,_[e+600>>2]=b,o&=-2147483648>>>h;f:{if(32==(0|b)){if(_[e+600>>2]=0,_[e+596>>2]=s+4,o)break f;break l}if(!o)break l}}else n=a;s=n,n=a;break o}for(;l=(n+-1|0)==(0|l)?0:l+1|0,_[s+(a<<2)>>2]=l,a=a+1|0,n=_[e+12>>2],a>>>0<n>>>0;);break s}s=a}if(a=_[T>>2],h=_[(o=a+c|0)>>2],_[(c=h+p|0)>>2]=_[c>>2]+1,lt(a+d|0,h,_[o+4>>2]),n&&(h=_[r+28>>2]+_[r+24>>2]|0,c=_[r+16>>2],a=_[r+12>>2],(0|h)==(0|((o=c-a|0)?g(o>>2,341)+-1|0:0))&&(Zt(r+8|0),h=_[r+24>>2]+_[r+28>>2]|0,c=_[r+16>>2],a=_[r+12>>2]),o=0,(0|a)!=(0|c)&&(o=_[(o=a)+((a=(h>>>0)/341|0)<<2)>>2]+g(h-g(a,341)|0,12)|0),_[o+8>>2]=f,_[o+4>>2]=l,_[o>>2]=n,_[r+28>>2]=_[r+28>>2]+1),!s)break a;a=_[r+28>>2]+_[r+24>>2]|0,o=_[r+16>>2],n=_[r+12>>2],(0|a)==(0|((f=o-n|0)?g(f>>2,341)+-1|0:0))&&(Zt(r+8|0),o=_[r+16>>2],a=_[r+24>>2]+_[r+28>>2]|0,n=_[r+12>>2]),n=(0|n)==(0|o)?0:_[(o=n)+((n=(a>>>0)/341|0)<<2)>>2]+g(a-g(n,341)|0,12)|0,_[n+8>>2]=u,_[n+4>>2]=l,_[n>>2]=s,n=_[r+28>>2]+1|0,_[r+28>>2]=n;break n}if(o)for(p=0;;){if(n)for(l=_[E>>2],b=_[w>>2],O=_[h>>2],I=_[d>>2],n=0;;){_[l+(_[(f=b+(n<<2)|0)>>2]<<2)>>2]=0,a=_[f>>2]<<2;s:if(s=_[e>>2]-_[a+I>>2]|0)if(a=a+l|0,c=_[e+560>>2],(0|s)<=(0|(v=32-c|0))){if((0|(u=_[k>>2]))==_[M>>2]){_[a>>2]=0;break s}if(_[a>>2]=_[u>>2]<<c>>>32-s,s=s+_[e+560>>2]|0,_[e+560>>2]=s,32!=(0|s))break s;_[e+560>>2]=0,_[k>>2]=u+4}else u=_[k>>2],(0|(R=u+4|0))!=_[M>>2]?(D=_[u>>2],_[k>>2]=R,v=s-v|0,_[e+560>>2]=v,_[a>>2]=_[u+4>>2]>>>32-v|D<<c>>>32-s):_[a>>2]=0;if(s=_[f>>2]<<2,_[(a=s+l|0)>>2]=_[a>>2]|_[s+O>>2],!((n=n+1|0)>>>0<A[e+12>>2]))break}f=0;s:if((0|(n=_[i+16>>2]))!=_[y>>2])for(;;){if(n=g(f,20)+n|0,s=_[E>>2]+(_[n+4>>2]<<2)|0,c=_[n>>2],!((l=_[n+12>>2])>>>0>3))if(a=_[i+12>>2],_[(u=n+16|0)>>2]){for(b=n+12|0,n=0;a=es(a,(n<<2)+s|0,l),l=_[b>>2],a=a+l|0,(n=n+1|0)>>>0<A[u>>2];);s=_[i+12>>2]}else s=a;if(n=_[i+28>>2],(n=m[c+84|0]?n:_[_[c+68>>2]+(n<<2)>>2])>>>0>=A[c+80>>2])break s;if(a=n,n=_[c+40>>2],es(_[_[c>>2]>>2]+g(a,n)|0,s,n),f=f+1|0,n=_[i+16>>2],!(f>>>0<(_[y>>2]-n|0)/20>>>0))break}if(_[i+28>>2]=_[i+28>>2]+1,_[e+8>>2]=_[e+8>>2]+1,(0|(p=p+1|0))==(0|o))break a;n=_[e+12>>2]}}else{if(!o)break a;for(d=0;;){f=0;s:if((0|(n=_[i+16>>2]))!=_[y>>2])for(;;){if(n=g(f,20)+n|0,s=_[h>>2]+(_[n+4>>2]<<2)|0,c=_[n>>2],!((l=_[n+12>>2])>>>0>3))if(a=_[i+12>>2],_[(p=n+16|0)>>2]){for(u=n+12|0,n=0;a=es(a,(n<<2)+s|0,l),l=_[u>>2],a=a+l|0,(n=n+1|0)>>>0<A[p>>2];);s=_[i+12>>2]}else s=a;if(n=_[i+28>>2],(n=m[c+84|0]?n:_[_[c+68>>2]+(n<<2)>>2])>>>0>=A[c+80>>2])break s;if(a=n,n=_[c+40>>2],es(_[_[c>>2]>>2]+g(a,n)|0,s,n),f=f+1|0,n=_[i+16>>2],!(f>>>0<(_[y>>2]-n|0)/20>>>0))break}if(_[i+28>>2]=_[i+28>>2]+1,_[e+8>>2]=_[e+8>>2]+1,(0|o)==(0|(d=d+1|0)))break}}n=_[r+28>>2]}if(!n)break}a=1}if(Qt(r+8|0),n=_[r+12>>2],e=_[r+16>>2],(0|n)!=(0|e)){for(;Ka(_[n>>2]),(0|e)!=(0|(n=n+4|0)););e=_[r+16>>2],t=_[r+12>>2],(0|e)!=(0|t)&&(_[r+16>>2]=e+(((e-t|0)-4>>>2^-1)<<2))}return(e=_[r+8>>2])&&Ka(e),z=r+32|0,a}Wa(),P()}Wa(),P()}(e,_[e+4>>2],i)}else l=1;return l}function zt(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;_[e>>2]=0,_[e+4>>2]=0,_[e+8>>2]=0;e:{t:{if(t){if(t>>>0>=357913942)break t;for(r=Fa(n=g(t,12)),_[e>>2]=r,_[(a=e+4|0)>>2]=r,_[e+8>>2]=r+n;;){if(_[r>>2]=0,_[r+4>>2]=0,_[(n=r+8|0)>>2]=0,e=_[(s=i+4|0)>>2]-_[i>>2]|0){if((o=e>>2)>>>0>=1073741824)break e;e=Fa(e),_[r>>2]=e,_[(l=r+4|0)>>2]=e,_[n>>2]=e+(o<<2),n=_[i>>2],(0|(r=_[s>>2]-n|0))<1||(c=l,f=es(e,n,r)+r|0,_[c>>2]=f)}if(r=_[a>>2]+12|0,_[a>>2]=r,!(t=t+-1|0))break}}return}Wa(),P()}Wa(),P()}function jt(e,t,i){var r=0,n=0,a=0,s=0;e:if(!(e>>>0>5)&&(a=_[i+16>>2],!((0|(r=_[i+12>>2]))<(0|(n=_[i+20>>2]))||(0|r)<=(0|n)&&!(A[i+8>>2]>a>>>0)))){if(r=m[a+_[i>>2]|0],(a=a+1|0)>>>0<1&&(n=n+1|0),_[i+16>>2]=a,_[i+20>>2]=n,n=t,128&r){if(!jt(e+1|0,t,i))break e;e=_[t>>2]<<7,_[t>>2]=e,r=e|127&r}_[n>>2]=r,s=1}return s}function Wt(e,t){var i=0,r=0,n=0,s=0,o=0,l=0,c=0;e:{t:{i:{if(r=_[e>>2],(i=(o=(_[e+4>>2]-r|0)/24|0)+1|0)>>>0<178956971){if(l=(r=(_[e+8>>2]-r|0)/24|0)<<1,n=0,r=r>>>0<89478485?l>>>0<i>>>0?i:l:178956970){if(r>>>0>=178956971)break i;n=Fa(g(r,24))}if(function(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;_[e>>2]=1232,i=_[t+4>>2],_[e+16>>2]=0,_[e+8>>2]=0,_[e+12>>2]=0,_[e+4>>2]=i;r:{if(i=_[t+12>>2]-_[t+8>>2]|0){if((r=i>>2)>>>0>=1073741824)break r;i=Fa(i),_[e+8>>2]=i,_[(n=e+12|0)>>2]=i,_[e+16>>2]=i+(r<<2),a=_[t+8>>2],(0|(r=_[t+12>>2]-a|0))<1||(s=n,o=es(i,a,r)+r|0,_[s>>2]=o)}return void(_[e+20>>2]=_[t+20>>2])}Wa(),P()}(i=n+g(o,24)|0,t),o=n+g(r,24)|0,l=i+24|0,(0|(t=_[e+4>>2]))==(0|(n=_[e>>2])))break t;for(;_[(i=i+-24|0)>>2]=1232,r=_[t+-20>>2],_[(s=i+16|0)>>2]=0,_[i+8>>2]=0,_[i+12>>2]=0,_[i+4>>2]=r,r=t+-16|0,_[i+8>>2]=_[r>>2],_[i+12>>2]=_[t+-12>>2],c=s,s=t+-8|0,_[c>>2]=_[s>>2],_[s>>2]=0,_[r>>2]=0,_[r+4>>2]=0,_[i+20>>2]=_[t+-4>>2],(0|n)!=(0|(t=t+-24|0)););n=_[e+4>>2],t=_[e>>2];break e}Wa(),P()}Re(1780),P()}t=n}if(_[e>>2]=i,_[e+8>>2]=o,_[e+4>>2]=l,(0|t)!=(0|n))for(;a[_[_[(n=n+-24|0)>>2]>>2]](n),(0|t)!=(0|n););t&&Ka(t)}function Gt(e,t,i){var r,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,p=0,b=0,v=0,y=0,k=0;z=r=z-16|0,n=l[t+24|0],_[r+8>>2]=0,_[r>>2]=0,_[r+4>>2]=0;e:{t:{if(n){if((0|n)<=-1)break t;s=Fa(a=n<<2),_[r>>2]=s,o=a+s|0,_[r+8>>2]=o,ts(s,0,a),_[r+4>>2]=o,a=ts(u=Fa(a),0,a)}else a=0;if(!_[t+80>>2])break e;for(b=t+40|0,y=t+48|0,k=e+48|0;;){if(v=_[t>>2],c=_[v>>2],d=_[y>>2],o=es(s,(h=c)+(c=(o=as(e=_[b>>2],_[b+4>>2],p,f))+d|0)|0,e),n<<24>>24>=1)for(c=255&n,d=_[k>>2],n=0;_[(h=n<<2)+a>>2]=_[(i+n<<2)+d>>2]+_[o+h>>2],(n=n+1|0)>>>0<c>>>0;);if(es(_[v>>2]+g(e,p)|0,u,e),(e=p+1|0)>>>0<1&&(f=f+1|0),p=e,!f&e>>>0>=A[t+80>>2]|f>>>0>0)break e;n=m[t+24|0]}}Wa(),P()}return a&&Ka(u),s&&(_[r+4>>2]=s,Ka(s)),z=r+16|0,1}function Ht(e,t,i){var r,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,v=0,y=0,k=0,x=0,S=0;z=r=z-16|0,n=l[t+24|0],_[r+8>>2]=0,_[r>>2]=0,_[r+4>>2]=0;e:{t:{if(n){if((0|n)<=-1)break t;s=Fa(a=n<<1),_[r>>2]=s,o=a+s|0,_[r+8>>2]=o,ts(s,0,a),_[r+4>>2]=o,a=ts(u=Fa(a),0,a)}else a=0;if(!_[t+80>>2])break e;for(y=t+40|0,x=t+48|0,S=e+48|0;;){if(k=_[t>>2],c=_[k>>2],d=_[x>>2],o=es(s,(h=c)+(c=(o=as(e=_[y>>2],_[y+4>>2],v,f))+d|0)|0,e),n<<24>>24>=1)for(c=255&n,d=_[S>>2],n=0;p[(h=n<<1)+a>>1]=b[o+h>>1]+b[(i+n<<2)+d>>1],(n=n+1|0)>>>0<c>>>0;);if(es(_[k>>2]+g(e,v)|0,u,e),(e=v+1|0)>>>0<1&&(f=f+1|0),v=e,!f&e>>>0>=A[t+80>>2]|f>>>0>0)break e;n=m[t+24|0]}}Wa(),P()}return a&&Ka(u),s&&(_[r+4>>2]=s,Ka(s)),z=r+16|0,1}function Yt(e,t,i){var r,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0;z=r=z-32|0,n=l[t+24|0],_[r+24>>2]=0,_[r+16>>2]=0,_[r+20>>2]=0;e:{t:{i:{if(n){if((0|n)<=-1)break i;for(a=Fa(n),_[r+16>>2]=a,_[r+20>>2]=a,_[r+24>>2]=n+a;l[0|a]=0,a=_[r+20>>2]+1|0,_[r+20>>2]=a,n=n+-1|0;);a=m[t+24|0]}if(_[r+8>>2]=0,_[r>>2]=0,_[r+4>>2]=0,255&a){if(a<<24>>24<=-1)break t;for(n=Fa(a=a<<24>>24),_[r>>2]=n,_[r+4>>2]=n,_[r+8>>2]=n+a;l[0|n]=0,n=_[r+4>>2]+1|0,_[r+4>>2]=n,a=a+-1|0;);}if(!_[t+80>>2]){n=_[r>>2];break e}for(a=t+40|0,h=t+48|0,f=t+24|0;;){if(u=_[r+16>>2],d=_[_[t>>2]>>2],n=_[a>>2],n=es(u,d+(s=_[h>>2]+as(n,_[a+4>>2],o,c)|0)|0,n),!(l[0|f]<1)&&(s=e+48|0,l[_[r>>2]]=m[0|n]+m[_[s>>2]+(i<<2)|0],n=1,!(l[0|f]<2)))for(;l[_[r>>2]+n|0]=m[_[r+16>>2]+n|0]+m[_[s>>2]+(i+n<<2)|0],(0|(n=n+1|0))<l[0|f];);if(s=_[a>>2],n=_[r>>2],es(_[_[t>>2]>>2]+g(s,o)|0,n,s),(o=o+1|0)>>>0<1&&(c=c+1|0),!(!c&(s=o)>>>0<A[t+80>>2]|c>>>0<0))break}break e}Wa(),P()}Wa(),P()}return n&&(_[r+4>>2]=n,Ka(n)),(e=_[r+16>>2])&&(_[r+20>>2]=e,Ka(e)),z=r+32|0,1}function Xt(e){var t=0,i=0,r=0,n=0;if(_[(e|=0)>>2]=1596,t=_[e+60>>2]){if(r=t,(0|t)!=(0|(i=_[(n=e- -64|0)>>2]))){for(;r=_[(i=i+-4|0)>>2],_[i>>2]=0,r&&Ye(r),(0|t)!=(0|i););r=_[e+60>>2]}_[n>>2]=t,Ka(r)}if((t=_[e+48>>2])&&(_[e+52>>2]=t,Ka(t)),t=_[e+36>>2]){if(r=t,(0|t)!=(0|(i=_[(n=e+40|0)>>2]))){for(;a[_[_[(i=i+-24|0)>>2]>>2]](i),(0|t)!=(0|i););r=_[e+36>>2]}_[n>>2]=t,Ka(r)}return _[e>>2]=1384,(t=_[e+16>>2])&&(_[e+20>>2]=t,Ka(t)),(t=_[e+4>>2])&&(_[e+8>>2]=t,Ka(t)),0|e}function Zt(e){var t,i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0;z=t=z-32|0;e:{t:{if((r=_[(i=e+16|0)>>2])>>>0>=341){if(_[i>>2]=r+-341,r=_[(i=e+4|0)>>2],c=_[r>>2],r=r+4|0,_[i>>2]=r,(0|(n=_[(l=e+8|0)>>2]))==(0|(i=_[e+12>>2])))if(r>>>0>(a=_[e>>2])>>>0)o=(n=n-r|0)>>2,s=(a=(1+(r-a>>2)|0)/-2<<2)+r|0,i=e,n&&(is(s,r,n),r=_[e+4>>2]),_[i+4>>2]=r+a,n=s+(o<<2)|0,_[e+8>>2]=n;else{if((i=(i=i-a|0)?i>>1:1)>>>0>=1073741824)break t;if(f=(s=i<<2)+(o=Fa(s))|0,i=s=o+(-4&i)|0,(0|r)!=(0|n)){for(i=s;_[i>>2]=_[r>>2],i=i+4|0,(0|n)!=(0|(r=r+4|0)););a=_[e>>2]}_[e>>2]=o,_[e+12>>2]=f,_[(r=e+8|0)>>2]=i,_[e+4>>2]=s,a?(Ka(a),n=_[r>>2]):n=i}_[n>>2]=c,_[l>>2]=_[l>>2]+4;break e}i:{if((n=(r=_[e+8>>2])-_[e+4>>2]>>2)>>>0<(i=(a=_[(s=e+12|0)>>2])-_[e>>2]|0)>>2>>>0){if((0|r)!=(0|a)){h=t,u=Fa(4092),_[h+8>>2]=u,Jt(e,t+8|0);break e}if(h=t,u=Fa(4092),_[h+8>>2]=u,qt(e,t+8|0),r=_[(i=e+4|0)>>2],c=_[r>>2],r=r+4|0,_[i>>2]=r,(0|(n=_[(l=e+8|0)>>2]))==(0|(i=_[e+12>>2])))if(r>>>0>(a=_[e>>2])>>>0)o=(n=n-r|0)>>2,s=(a=(1+(r-a>>2)|0)/-2<<2)+r|0,i=e,n&&(is(s,r,n),r=_[e+4>>2]),_[i+4>>2]=r+a,n=s+(o<<2)|0,_[e+8>>2]=n;else{if((i=(i=i-a|0)?i>>1:1)>>>0>=1073741824)break i;if(f=(s=i<<2)+(o=Fa(s))|0,i=s=o+(-4&i)|0,(0|r)!=(0|n)){for(i=s;_[i>>2]=_[r>>2],i=i+4|0,(0|n)!=(0|(r=r+4|0)););a=_[e>>2]}_[e>>2]=o,_[e+12>>2]=f,_[(r=e+8|0)>>2]=i,_[e+4>>2]=s,a?(Ka(a),n=_[r>>2]):n=i}_[n>>2]=c,_[l>>2]=_[l>>2]+4;break e}if(_[t+24>>2]=s,_[t+20>>2]=0,(i=i?i>>1:1)>>>0<1073741824)for(i=Fa(r=i<<2),_[t+8>>2]=i,n=i+(n<<2)|0,_[t+16>>2]=n,_[t+20>>2]=i+r,_[t+12>>2]=n,h=t,u=Fa(4092),_[h+4>>2]=u,Jt(t+8|0,t+4|0),r=_[e+8>>2],i=e+4|0;;){if((0|(s=_[i>>2]))==(0|r)){if(n=_[e>>2],_[e>>2]=_[t+8>>2],_[t+8>>2]=n,_[e+4>>2]=_[t+12>>2],_[t+12>>2]=s,i=_[(a=e+8|0)>>2],_[a>>2]=_[t+16>>2],_[t+16>>2]=i,a=_[(e=e+12|0)>>2],_[e>>2]=_[t+20>>2],_[t+20>>2]=a,(0|i)!=(0|r)&&(_[t+16>>2]=i+(((i-s|0)-4>>>2^-1)<<2)),!n)break e;Ka(n);break e}qt(t+8|0,r=r+-4|0)}Re(1780),P()}Re(1780),P()}Re(1780),P()}z=t+32|0}function Qt(e){var t,i=0,r=0,n=0,a=0,s=0,o=0;if(i=((r=_[e+16>>2])>>>0)/341|0,(0|(n=_[e+4>>2]))!=(0|(t=_[e+8>>2]))){if(i=_[(a=(i<<2)+n|0)>>2]+g(r-g(i,341)|0,12)|0,r=r+_[(s=e+20|0)>>2]|0,(0|i)!=(0|(r=_[((o=(r>>>0)/341|0)<<2)+n>>2]+g(r-g(o,341)|0,12)|0)))for(;4092==((i=i+12|0)-_[a>>2]|0)&&(i=_[a+4>>2],a=a+4|0),(0|i)!=(0|r););}else s=e+20|0;if(_[s>>2]=0,(i=t-n>>2)>>>0>2)for(;Ka(_[n>>2]),n=_[e+4>>2]+4|0,_[e+4>>2]=n,(i=_[e+8>>2]-n>>2)>>>0>2;);(i=i+-1|0)>>>0<=1&&(_[e+16>>2]=i-1|0?170:341)}function Jt(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0;e:{if((0|(n=_[e+8>>2]))==(0|(i=_[e+12>>2])))if((r=_[e+4>>2])>>>0>(a=_[e>>2])>>>0)o=(n=n-r|0)>>2,s=(a=(1+(r-a>>2)|0)/-2<<2)+r|0,i=e,n&&(is(s,r,n),r=_[e+4>>2]),_[i+4>>2]=r+a,i=s+(o<<2)|0,_[e+8>>2]=i;else{if((i=(i=i-a|0)?i>>1:1)>>>0>=1073741824)break e;if(l=(s=i<<2)+(o=Fa(s))|0,i=s=o+(-4&i)|0,(0|r)!=(0|n)){for(i=s;_[i>>2]=_[r>>2],i=i+4|0,(0|n)!=(0|(r=r+4|0)););a=_[e>>2]}_[e+8>>2]=i,_[e+4>>2]=s,_[e>>2]=o,_[e+12>>2]=l,a&&(Ka(a),i=_[e+8>>2])}else i=n;return _[i>>2]=_[t>>2],void(_[e+8>>2]=_[e+8>>2]+4)}Re(1780),P()}function qt(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;e:{if((0|(n=_[e+4>>2]))==(0|(r=_[e>>2])))if((a=_[e+8>>2])>>>0<(i=_[e+12>>2])>>>0)i=(s=(1+(i-a>>2)|0)/2<<2)+a|0,(r=a-n|0)&&(is(i=i-r|0,n,r),a=_[e+8>>2]),_[e+4>>2]=i,_[e+8>>2]=a+s;else{if((i=(i=i-r|0)?i>>1:1)>>>0>=1073741824)break e;if(o=(r=i<<2)+(s=Fa(r))|0,i=s+(i+3&-4)|0,(0|n)!=(0|a)){for(r=i;_[r>>2]=_[n>>2],r=r+4|0,(0|a)!=(0|(n=n+4|0)););n=_[e>>2]}else r=i;_[e+8>>2]=r,_[e+4>>2]=i,_[e>>2]=s,_[e+12>>2]=o,n&&(Ka(n),i=_[e+4>>2])}else i=n;return _[i+-4>>2]=_[t>>2],void(_[e+4>>2]=_[e+4>>2]+-4)}Re(1780),P()}function Kt(e){_[e+12>>2]=-1,_[e+16>>2]=0,_[e+4>>2]=0,_[e+8>>2]=0,_[e>>2]=1908}function $t(e,t,i){return t|=0,i|=0,_[(e|=0)+4>>2]=t,t=_[_[_[t+4>>2]+8>>2]+(i<<2)>>2],_[e+12>>2]=i,_[e+8>>2]=t,1}function ei(e){var t=0,i=0,r=0,n=0,a=0,s=0,o=0,c=0;e:if(r=_[e+8>>2],!m[r+84|0]&&!(!(t=_[e+16>>2])|!m[t+84|0]))for(i=_[r+72>>2],n=_[r+68>>2],l[t+84|0]=0,i=i-n>>2,a=_[t+68>>2],i>>>0>(n=_[t+72>>2]-a>>2)>>>0?(ht(t+68|0,i-n|0,1992),r=_[e+8>>2]):i>>>0>=n>>>0||(_[t+72>>2]=a+(i<<2)),t=0,n=m[r+84|0],s=r+72|0,o=e+16|0,c=r+68|0;;){if(t>>>0>=(n?0:_[s>>2]-_[r+68>>2]>>2)>>>0)break e;i=t,a=_[_[o>>2]+68>>2]+(t<<2)|0,n||(i=_[_[c>>2]+(t<<2)>>2]),_[a>>2]=i,t=t+1|0}return _[e+16>>2]}function ti(e,t){var i;vt(e),_[e+36>>2]=0,_[e+40>>2]=0,_[e>>2]=2004,_[e+44>>2]=0,_[e+48>>2]=0,_[e+52>>2]=0,_[e+56>>2]=0,i=_[t>>2],_[t>>2]=0,_[e+60>>2]=i}function ii(e){Kt(e),_[e+20>>2]=0,_[e>>2]=2220}function ri(e,t,i){return 0|$t(e|=0,t|=0,i|=0)}function ni(e,t,i){t|=0,i|=0;var r=0,n=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,p=0,b=0,v=0,y=0;e:if(!((0|(b=0|a[_[_[(e|=0)>>2]+44>>2]](e)))<1)&&(function(e,t,i){var r,n,a,s;z=r=z-80|0,n=ut(r+16|0),a=_[_[e+8>>2]+56>>2],s=i<<24>>24,i=g(an(5),i),dt(n,a,s,5,0,i,i>>31),_t(i=Fa(96),n),_[r+8>>2]=i,l[i+84|0]=1,_[i+72>>2]=_[i+68>>2],mt(i,t),_[r>>2]=0,t=_[r+8>>2],_[r+8>>2]=0,e=_[(i=e+16|0)>>2],_[i>>2]=t;e?(Ye(e),e=_[r>>2],_[r>>2]=0,e&&Ye(e)):_[r>>2]=0;e=_[r+8>>2],_[r+8>>2]=0,e&&Ye(e);z=r+80|0}(e,c=_[t+4>>2]-_[t>>2]>>2,b),r=_[e+16>>2],_[r+80>>2]&&(s=_[_[r>>2]>>2])&&(h=_[i+8>>2],f=_[i+16>>2],!((0|(u=o=_[i+12>>2]))<(0|(n=_[i+20>>2]))||(0|u)<=(0|n)&&!(h>>>0>f>>>0))))){u=g(c,b),p=s+_[r+48>>2]|0,v=_[i>>2],y=m[v+f|0],r=n,(s=f+1|0)>>>0<1&&(r=r+1|0),d=s,s=r,_[(c=i)+16>>2]=d,_[c+20>>2]=r;t:{i:{r:{if(y){if(er(u,b,i,p))break r;break e}if((0|o)<(0|s)||(0|o)<=(0|s)&&!(h>>>0>d>>>0))break e;c=m[d+v|0],r=n,(n=f+2|0)>>>0<2&&(r=r+1|0),_[i+16>>2]=n,_[i+20>>2]=r,r=an(5),n=_[_[e+16>>2]- -64>>2],n=_[n+4>>2]-_[n>>2]|0;n:{if((0|r)==(0|c)){if(n>>>0<(c=u<<2)>>>0)break e;if(s=_[i+12>>2],r=_[i+20>>2],(o=(f=_[i+16>>2])+(n=c)|0)>>>0<n>>>0&&(r=r+1|0),(0|s)>(0|r)||(0|s)>=(0|r)&&!(A[i+8>>2]<o>>>0))break n;break e}if(n>>>0<g(c,u)>>>0)break e;if(f=_[i+12>>2],r=_[i+20>>2],y=(s=h=_[i+8>>2])-(o=d=_[i+16>>2])>>>0>=as(n=c,0,u,0)>>>0?0:1,(0|(s=f-(r+(s>>>0<o>>>0)|0)|0))<(0|(o=j))||(0|s)<=(0|o)&&y)break e;if(s=0,!u)break i;if(o=0,s=h,(h=n+d|0)>>>0<n>>>0&&(r=r+1|0),(0|f)<(0|r)||(0|f)<=(0|r)&&!(s>>>0>=h>>>0))break t;for(h=0;;){if(es(p+(h<<2)|0,d+_[i>>2]|0,c),r=_[i+20>>2],(d=n+_[i+16>>2]|0)>>>0<n>>>0&&(r=r+1|0),_[i+16>>2]=d,_[i+20>>2]=r,(0|u)==(0|(h=h+1|0)))break r;if((v=n+d|0)>>>0<n>>>0&&(r=r+1|0),!((0|(f=_[i+12>>2]))>(0|r)||(0|f)>=(0|r)&&!(A[i+8>>2]<v>>>0)))break}break t}es(p,f+_[i>>2]|0,c),r=_[i+20>>2],(s=n+_[i+16>>2]|0)>>>0<n>>>0&&(r=r+1|0),_[i+16>>2]=s,_[i+20>>2]=r}s=0,u&&((n=_[e+20>>2])&&(s=1,a[_[_[n>>2]+32>>2]](n))||(!function(e,t,i){var r=0,n=0,a=0;if((0|t)>0)for(;a=_[(n=r<<2)+e>>2],_[i+n>>2]=0-(1&a)^a>>>1,(0|(r=r+1|0))!=(0|t););}(p,u,p),s=1))}if(n=_[e+20>>2]){if(!a[_[_[n>>2]+40>>2]](n,i))break e;if(s&&(o=0,e=_[e+20>>2],!a[_[_[e>>2]+44>>2]](e,p,p,u,b,_[t>>2])))break t}o=1}return 0|o}return 0}function ai(e){var t=0,i=0;_[(e|=0)>>2]=2220,t=_[(i=e+20|0)>>2],_[i>>2]=0,t&&a[_[_[t>>2]+4>>2]](t),_[e>>2]=1908,t=_[(i=e+16|0)>>2],_[i>>2]=0,t&&Ye(t),Ka(e)}function si(e,t,i,r){var n,a,s,o,l=0,c=0,f=0,h=0;_[e>>2]=3044,_[e+4>>2]=t,t=_[i+8>>2],l=_[i+12>>2],c=_[i+16>>2],a=_[i+20>>2],s=_[i>>2],o=_[i+4>>2],_[e+40>>2]=0,_[(n=e+32|0)>>2]=0,_[n+4>>2]=0,_[e+24>>2]=c,_[e+28>>2]=a,_[e+16>>2]=t,_[e+20>>2]=l,_[e+8>>2]=s,_[e+12>>2]=o;e:{if(t=_[i+28>>2]-_[i+24>>2]|0){if((l=t>>2)>>>0>=1073741824)break e;t=Fa(t),_[e+32>>2]=t,_[(c=e+36|0)>>2]=t,_[e+40>>2]=t+(l<<2),l=_[i+24>>2],(0|(i=_[i+28>>2]-l|0))<1||(f=c,h=es(t,l,i)+i|0,_[f>>2]=h)}return _[e>>2]=2988,t=_[r+4>>2],_[e+44>>2]=_[r>>2],_[e+48>>2]=t,t=_[r+12>>2],_[e+52>>2]=_[r+8>>2],void(_[e+56>>2]=t)}Wa(),P()}function oi(e){var t;_[(e|=0)>>2]=3044,(t=_[e+32>>2])&&(_[e+36>>2]=t,Ka(t)),Ka(e)}function li(e){var t=0;return!_[(e|=0)+52>>2]|!_[e+44>>2]|!_[e+48>>2]||(t=0!=_[e+56>>2]),0|t}function ci(e){return 0,0}function fi(e,t){return 0,0,-1}function hi(e){return 0,4}function ui(e,t){e|=0;var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0;z=i=z-32|0;e:{if(b[(t|=0)+38>>1]<=513){if(a=_[t+16>>2],(0|(n=_[t+12>>2]))<(0|(r=_[t+20>>2]))||(0|n)<=(0|r)&&!(A[t+8>>2]>a>>>0))break e;if(s=m[a+_[t>>2]|0],(a=a+1|0)>>>0<1&&(r=r+1|0),_[t+16>>2]=a,_[t+20>>2]=r,s)break e}t:{for(;;){if(!di(1,i+28|0,t))break t;if(r=_[i+28>>2]){if(pi(s=60+(g(o,12)+e|0)|0,r),!Xi(c=Yi(i+8|0),t))break t;for(l=0;n=1<<(31&l),f=Zi(c),h=a=_[s>>2]+(l>>>3&536870908)|0,f?n|=_[a>>2]:n=_[a>>2]&(-1^n),_[h>>2]=n,(0|r)!=(0|(l=l+1|0)););}if(4==(0|(o=o+1|0)))break}if(l=0,a=n=_[t+12>>2],o=r=_[t+20>>2],(s=(c=_[t+16>>2])+4|0)>>>0<4&&(r=r+1|0),h=_[t+8>>2],f=s,s=r,(0|n)<(0|r)||(0|n)<=(0|r)&&!(h>>>0>=f>>>0))break e;if(u=_[t>>2],n=m[0|(r=u+c|0)]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[t+16>>2]=f,_[t+20>>2]=s,r=o,(o=c+8|0)>>>0<8&&(r=r+1|0),s=o,o=r,(0|a)<(0|r)||(0|a)<=(0|r)&&!(h>>>0>=s>>>0))break e;if(r=m[0|(r=f+u|0)]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[t+16>>2]=s,_[t+20>>2]=o,(0|n)>(0|r))break e;if(_[e+16>>2]=r,_[e+12>>2]=n,!(n=(r>>31)-((r>>>0<(t=n)>>>0)+(t>>31)|0)|0)&(t=r-t|0)>>>0>2147483646|n>>>0>0)break e;if(l=1,t=t+1|0,_[e+20>>2]=t,r=(0|t)/2|0,_[(n=e+24|0)>>2]=r,_[e+28>>2]=0-r,1&t)break e;_[n>>2]=r+-1;break e}l=0}return z=i+32|0,0|l}function di(e,t,i){var r=0,n=0,a=0,s=0;e:if(!(e>>>0>5)&&(a=_[i+16>>2],!((0|(r=_[i+12>>2]))<(0|(n=_[i+20>>2]))||(0|r)<=(0|n)&&!(A[i+8>>2]>a>>>0)))){if(r=m[a+_[i>>2]|0],(a=a+1|0)>>>0<1&&(n=n+1|0),_[i+16>>2]=a,_[i+20>>2]=n,n=t,128&r){if(!di(e+1|0,t,i))break e;e=_[t>>2]<<7,_[t>>2]=e,r=e|127&r}_[n>>2]=r,s=1}return s}function pi(e,t){var i,r=0,n=0,a=0,s=0,o=0;z=i=z-32|0;e:{t:if((r=_[e+4>>2])>>>0<t>>>0){if((n=(s=_[e+8>>2])<<5)>>>0<(a=t-r|0)>>>0|r>>>0>n-a>>>0){if(_[i+24>>2]=0,_[i+16>>2]=0,_[i+20>>2]=0,(0|t)<=-1)break e;Oe(r=i+16|0,t=n>>>0<=1073741822?(n=s<<6)>>>0<(t=t+31&-32)>>>0?t:n:2147483647),r=_[e+4>>2],_[i+20>>2]=r+a,t=_[i+16>>2],(0|r)<1?r=0:(t=is(t,s=_[e>>2],n=r>>>5<<2)+n|0,(r&=31)?(o=-1>>>32-r,_[t>>2]=_[t>>2]&(-1^o)|_[n+s>>2]&o):r=0),_[i+12>>2]=r,_[i+8>>2]=t,r=_[i+8>>2],t=_[i+12>>2],n=_[e>>2],_[e>>2]=_[i+16>>2],_[i+16>>2]=n,s=_[e+4>>2],_[e+4>>2]=_[i+20>>2],_[i+20>>2]=s,s=_[(e=e+8|0)>>2],_[e>>2]=_[i+24>>2],_[i+24>>2]=s,n&&Ka(n),e=r}else _[e+4>>2]=t,t=31&r,e=_[e>>2]+(r>>>3&536870908)|0;if(!a)break t;if(t&&(n=(r=32-t|0)>>>0>a>>>0?a:r,_[e>>2]=_[e>>2]&(-1<<t&-1>>>r-n^-1),a=a-n|0,e=e+4|0),t=ts(t=e,0,e=a>>>5<<2),!(r=31&a))break t;_[(e=e+t|0)>>2]=_[e>>2]&(-1>>>32-r^-1)}else _[e+4>>2]=t;return void(z=i+32|0)}Wa(),P()}function _i(e){return 0,3}function mi(e){return!_[(e|=0)+60>>2]|!_[e+44>>2]|!_[e+48>>2]|!_[e+52>>2]?0:0!=_[e+56>>2]|0}function bi(e,t){e|=0;var i=0;return _[(t|=0)+56>>2]|!t|3!=m[t+24|0]||(_[e+60>>2]=t,i=1),0|i}function Ai(e,t){e|=0,t|=0;var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0;z=i=z-32|0,_[i+28>>2]=0;e:{if(b[t+38>>1]<=513){if(o=_[t+12>>2],r=_[t+20>>2],(n=(a=_[t+16>>2])+4|0)>>>0<4&&(r=r+1|0),s=n,n=r,(0|o)<(0|r)||(0|o)<=(0|r)&&!(A[t+8>>2]>=s>>>0))break e;r=a+_[t>>2]|0,r=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[i+28>>2]=r,_[t+16>>2]=s,_[t+20>>2]=n}else{if(!di(1,i+28|0,t))break e;r=_[i+28>>2]}if(r&&(pi(s=e+76|0,r),Xi(f=Yi(i+8|0),t))){for(o=1;a=1<<(31&c),l=Zi(f),n=_[s>>2]+(c>>>3&536870908)|0,o^=l,l=_[n>>2]|a,1&o&&(l=_[n>>2]&(-1^a)),a=l,o^=1,_[n>>2]=a,(0|r)!=(0|(c=c+1|0)););c=0,o=n=_[t+12>>2],a=r=_[t+20>>2],(s=(f=_[t+16>>2])+4|0)>>>0<4&&(r=r+1|0),h=_[t+8>>2],l=s,s=r,(0|n)<(0|r)||(0|n)<=(0|r)&&!(h>>>0>=l>>>0)||(u=_[t>>2],n=m[0|(r=u+f|0)]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[t+16>>2]=l,_[t+20>>2]=s,r=a,(a=f+8|0)>>>0<8&&(r=r+1|0),s=a,a=r,(0|o)<(0|r)||(0|o)<=(0|r)&&!(h>>>0>=s>>>0)||(r=m[0|(r=l+u|0)]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[t+16>>2]=s,_[t+20>>2]=a,(0|n)>(0|r)||(_[e+16>>2]=r,_[e+12>>2]=n,!(n=(r>>31)-((r>>>0<(t=n)>>>0)+(t>>31)|0)|0)&(t=r-t|0)>>>0>2147483646|n>>>0>0||(c=1,t=t+1|0,_[e+20>>2]=t,r=(0|t)/2|0,_[(n=e+24|0)>>2]=r,_[e+28>>2]=0-r,1&t||(_[n>>2]=r+-1)))))}}return z=i+32|0,0|c}function vi(e,t,i,r){var n,a=0,s=0,o=k(0),f=k(0),h=k(0),u=0,p=k(0),b=k(0),A=k(0),y=k(0),S=k(0),T=0,E=0,R=k(0),C=k(0),O=k(0),I=k(0),D=k(0),F=k(0),N=k(0),B=k(0);if(z=n=z-48|0,u=-1,a=-1,-1!=(0|t)&&(u=((a=t+1|0)>>>0)%3|0?a:t+-2|0,a=t+-1|0,(t>>>0)%3||(a=t+2|0)),s=_[e+52>>2],t=_[s>>2],s=_[s+4>>2]-t>>2,T=_[_[e+48>>2]+28>>2],s>>>0<=(u=_[T+(u<<2)>>2])>>>0||s>>>0<=(s=_[(a<<2)+T>>2])>>>0)Ga(),P();else{e:if((T=(0|(a=_[t+(u<<2)>>2]))>=(0|r))||(0|(u=_[t+(s<<2)>>2]))>=(0|r)){if(T){if((0|r)<=0){if(_[e+72>>2]<1)break e;for(i=_[e+68>>2],t=0;_[i+(t<<2)>>2]=0,(0|(t=t+1|0))<_[e+72>>2];);break e}t=_[e+72>>2],r=g(t,r+-1|0)}else t=_[e+72>>2],r=g(a,t);if(!((0|t)<1))for(a=_[e+68>>2],t=0;_[a+(t<<2)>>2]=_[(t+r<<2)+i>>2],(0|(t=t+1|0))<_[e+72>>2];);}else{if(t=_[e+72>>2],s=(g(t,u)<<2)+i|0,f=k(_[s+4>>2]),t=(g(t,a)<<2)+i|0,S=k(_[t+4>>2]),!((R=k(_[s>>2]))!=(I=k(_[t>>2]))|f!=S)){if(t=e=_[e+68>>2],i=k(x(f))<k(2147483648)?~~f:-2147483648,_[t+4>>2]=i,k(x(R))<k(2147483648)){_[e>>2]=~~R;break e}_[e>>2]=-2147483648;break e}r=_[_[e+64>>2]+(r<<2)>>2],_[n+40>>2]=0,_[n+32>>2]=0,_[n+36>>2]=0,t=_[e+60>>2],m[t+84|0]||(r=_[_[t+68>>2]+(r<<2)>>2]),he(t,r,l[t+24|0],n+32|0),r=_[_[e+64>>2]+(a<<2)>>2],_[n+24>>2]=0,_[n+16>>2]=0,_[n+20>>2]=0,t=_[e+60>>2],m[t+84|0]||(r=_[_[t+68>>2]+(r<<2)>>2]),he(t,r,l[t+24|0],n+16|0),i=_[_[e+64>>2]+(u<<2)>>2],_[n+8>>2]=0,_[n>>2]=0,_[n+4>>2]=0,t=_[e+60>>2],m[t+84|0]||(i=_[_[t+68>>2]+(i<<2)>>2]),he(t,i,l[t+24|0],n),C=v[n+40>>2],O=v[n+36>>2],p=v[n+32>>2],F=v[n+16>>2],h=k(v[n>>2]-F),N=v[n+20>>2],b=k(v[n+4>>2]-N),B=v[n+24>>2],A=k(v[n+8>>2]-B),!((D=k(k(k(k(h*h)+k(0))+k(b*b))+k(A*A)))>k(0))&&(y=k(0),_[e+88>>2]>257)||(p=k(p-F),O=k(O-N),C=k(C-B),o=k(k(k(k(k(h*p)+k(0))+k(b*O))+k(A*C))/D),A=k(C-k(A*o)),b=k(O-k(b*o)),h=k(p-k(h*o)),y=k(M(k(k(k(A*A)+k(k(b*b)+k(k(h*h)+k(0))))/D)))),p=y,t=_[(i=e+80|0)>>2]+-1|0,r=_[_[e+76>>2]+(t>>>3&536870908)>>2],_[i>>2]=t,h=k(f-S),y=k(k(h*o)+S),S=k(R-I),f=k(S*p),f=k(y+((t=r>>>(31&t)&1)?f:k(-f))),y=k(k(S*o)+I),o=k(h*p),(2147483647&(d(o=k(y+(t?k(-o):o))),c(0)))>>>0>=2139095041?(t=_[e+68>>2],_[t>>2]=-2147483648):(e=t=_[e+68>>2],E=w(+o+.5),i=x(E)<2147483648?~~E:-2147483648,_[e>>2]=i),i=(2147483647&(d(f),c(0)))>>>0>2139095040,E=w(+f+.5),e=x(E)<2147483648?~~E:-2147483648,_[t+4>>2]=i?-2147483648:e}z=n+48|0}}function yi(e){return 0,5}function gi(e,t){e|=0;var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0;if(z=i=z-16|0,a=_[(t|=0)+12>>2],r=_[t+20>>2],(n=(s=_[t+16>>2])+4|0)>>>0<4&&(r=r+1|0),o=n,n=r,!((0|a)<(0|r)||(0|a)<=(0|r)&&!(A[t+8>>2]>=o>>>0))&&(r=s+_[t>>2]|0,r=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[t+16>>2]=o,_[t+20>>2]=n,!((0|r)<0)&&(pi(e+76|0,r),Xi(o=Yi(i),t)))){if((0|r)>=1)for(a=1;s=1<<(31&c),l=Zi(o),n=_[e+76>>2]+(c>>>3&536870908)|0,a^=l,l=_[n>>2]|s,1&a&&(l=_[n>>2]&(-1^s)),s=l,a^=1,_[n>>2]=s,(0|r)!=(0|(c=c+1|0)););c=n=_[t+12>>2],a=r=_[t+20>>2],(s=(o=_[t+16>>2])+4|0)>>>0<4&&(r=r+1|0),f=_[t+8>>2],l=s,s=r,(0|n)<(0|r)||(0|n)<=(0|r)&&!(f>>>0>=l>>>0)||(h=_[t>>2],n=m[0|(r=h+o|0)]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[t+16>>2]=l,_[t+20>>2]=s,r=a,(a=o+8|0)>>>0<8&&(r=r+1|0),s=a,a=r,(0|c)<(0|r)||(0|c)<=(0|r)&&!(f>>>0>=s>>>0)||(r=m[0|(r=l+h|0)]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[t+16>>2]=s,_[t+20>>2]=a,(0|n)>(0|r)||(_[e+16>>2]=r,_[e+12>>2]=n,!(n=(r>>31)-((r>>>0<(t=n)>>>0)+(t>>31)|0)|0)&(t=r-t|0)>>>0>2147483646|n>>>0>0||(u=1,t=t+1|0,_[e+20>>2]=t,r=(0|t)/2|0,_[(n=e+24|0)>>2]=r,_[e+28>>2]=0-r,1&t||(_[n>>2]=r+-1)))))}return z=i+16|0,0|u}function ki(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,p=0,b=0,A=0,v=0,y=0,g=0,k=0,x=0,S=0,T=0,w=0,E=0,M=0,R=0,C=0,O=0;z=n=z-80|0,s=-1,a=-1,-1!=(0|t)&&(s=((a=t+1|0)>>>0)%3|0?a:t+-2|0,a=t+-1|0,(t>>>0)%3||(a=t+2|0)),o=_[e+36>>2],t=_[o>>2];e:{t:{i:{r:{if(o=_[o+4>>2]-t>>2,c=s<<2,s=_[_[e+32>>2]+28>>2],!(o>>>0<=(f=_[c+s>>2])>>>0)&&!(o>>>0<=(a=_[s+(a<<2)>>2])>>>0)){n:{if(!(A=(0|(d=_[t+(f<<2)>>2]))>=(0|r))&&!((0|(s=_[t+(a<<2)>>2]))>=(0|r))){if(x=_[(4|(t=s<<3))+i>>2],p=_[(4|(a=d<<3))+i>>2],!((0|(y=_[t+i>>2]))!=(0|(k=_[i+a>>2]))|(0|p)!=(0|x))){_[e+8>>2]=k,_[e+12>>2]=p;break n}if(t=_[_[e+4>>2]+(r<<2)>>2],_[n+72>>2]=0,_[n+76>>2]=0,_[(a=n- -64|0)>>2]=0,_[a+4>>2]=0,_[n+56>>2]=0,_[n+60>>2]=0,a=_[e>>2],m[a+84|0]||(t=_[_[a+68>>2]+(t<<2)>>2]),xi(a,t,l[a+24|0],n+56|0),t=_[_[e+4>>2]+(d<<2)>>2],_[n+48>>2]=0,_[n+52>>2]=0,_[n+40>>2]=0,_[n+44>>2]=0,_[n+32>>2]=0,_[n+36>>2]=0,a=_[e>>2],m[a+84|0]||(t=_[_[a+68>>2]+(t<<2)>>2]),xi(a,t,l[a+24|0],n+32|0),t=_[_[e+4>>2]+(s<<2)>>2],_[n+24>>2]=0,_[n+28>>2]=0,_[n+16>>2]=0,_[n+20>>2]=0,_[n+8>>2]=0,_[n+12>>2]=0,a=_[e>>2],m[a+84|0]||(t=_[_[a+68>>2]+(t<<2)>>2]),xi(a,t,l[a+24|0],n+8|0),S=_[n+44>>2],t=as(w=(t=_[n+16>>2])-(a=c=_[n+40>>2])|0,s=_[n+20>>2]-(S+(t>>>0<a>>>0)|0)|0,w,s),a=j,u=t,T=_[n+36>>2],f=as(E=(t=_[n+8>>2])-(f=h=_[n+32>>2])|0,o=_[n+12>>2]-(T+(t>>>0<f>>>0)|0)|0,E,o),a=j+a|0,a=(t=u+f|0)>>>0<f>>>0?a+1|0:a,v=t,R=_[n+52>>2],f=as(M=(t=_[n+24>>2])-(f=u=_[n+48>>2])|0,b=_[n+28>>2]-(R+(t>>>0<f>>>0)|0)|0,M,b),a=j+a|0,g=t=v+f|0,t|(f=t>>>0<f>>>0?a+1|0:a)){if(r=1,t=0,a=_[n+64>>2],i=_[n+68>>2]-((a>>>0<c>>>0)+S|0)|0,d=a=a-c|0,A=i,i=as(w,s,a,i),a=j,v=i,h=as(i=(c=_[n+56>>2])-h|0,S=_[n+60>>2]-((c>>>0<h>>>0)+T|0)|0,E,o),a=j+a|0,a=(c=v+h|0)>>>0<h>>>0?a+1|0:a,v=c,u=as(h=(c=_[n+72>>2])-u|0,T=_[n+76>>2]-((c>>>0<u>>>0)+R|0)|0,M,b),a=j+a|0,a=(c=v+u|0)>>>0<u>>>0?a+1|0:a,u=c,c=a,s=ss(as(u,a,w,s),j,g,f),A=A-(j+(d>>>0<s>>>0)|0)|0,s=as(s=d-s|0,A,s,A),d=j,v=s,a=ss(as(E,o,u,a),j,g,f),s=S-(j+(i>>>0<a>>>0)|0)|0,s=as(i=i-a|0,s,i,s),a=j+d|0,a=(i=v+s|0)>>>0<s>>>0?a+1|0:a,o=i,i=ss(as(u,c,M,b),j,g,f),s=T-(j+(h>>>0<i>>>0)|0)|0,s=as(i=h-i|0,s,i,s),a=j+a|0,s=as(i=o+s|0,i>>>0<s>>>0?a+1|0:a,g,f),o=i=j,!i&s>>>0<=1|i>>>0<0)break r;for(b=s,i=o;a=t<<1|r>>>31,r<<=1,t=a,h=!i&b>>>0>7|i>>>0>0,b=(3&i)<<30|b>>>2,i>>>=2,h;);break i}}if(a=e,A){if((0|r)<=0){_[e+8>>2]=0,_[e+12>>2]=0;break n}t=(r<<1)-2|0}else t=d<<1;t=(t<<2)+i|0,_[a+8>>2]=_[t>>2],_[e+12>>2]=_[t+4>>2]}i=1;break e}Ga(),P()}if(r=s,t=o,s-1)break t}for(;i=os(s,o,r,t)+r|0,a=t+j|0,i=as(r=(1&(a=i>>>0<r>>>0?a+1|0:a))<<31|i>>>1,t=a>>>1,r,t),(0|o)==(0|(a=j))&i>>>0>s>>>0|a>>>0>o>>>0;);}i=0,(a=_[e+20>>2])&&(o=a+-1|0,b=_[_[e+16>>2]+(o>>>3&536870908)>>2],_[e+20>>2]=o,i=as(u,c,h=(i=x)-(a=p)|0,x=(i>>31)-((p=a>>31)+(i>>>0<a>>>0)|0)|0),s=j,p=as(a,p,g,f),a=j+s|0,a=(i=p+i|0)>>>0<p>>>0?a+1|0:a,v=i,y=i=as(r,t,d=(i=y)-(s=k)|0,p=(i>>31)-((k=s>>31)+(i>>>0<s>>>0)|0)|0),i=b>>>(31&o)&1,b=a,a=j,a=b+(i?0-(a+(0<y>>>0)|0)|0:a)|0,C=e,O=ss(o=v+(A=i?0-y|0:y)|0,o>>>0<A>>>0?a+1|0:a,g,f),_[C+12>>2]=O,a=as(u,c,d,p),o=j,y=e,e=(s=as(s,k,g,f))+a|0,a=j+o|0,a=e>>>0<s>>>0?a+1|0:a,c=e,e=as(r,t,h,x),t=c+(r=i?e:0-e|0)|0,c=a,a=j,e=c+(i?a:0-((0<e>>>0)+a|0)|0)|0,C=y,O=ss(t,t>>>0<r>>>0?e+1|0:e,g,f),_[C+8>>2]=O,i=1)}return z=n+80|0,i}function xi(e,t,i,r){var n=0,a=0,s=0,o=0,c=k(0),f=0,h=0;e:{t:if(r&&!((n=_[e+28>>2]+-1|0)>>>0>10)){i:{r:{n:switch(n-1|0){default:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(s=_[_[e>>2]>>2])+(n=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;n=(a<<3)+r|0,o=l[0|t],_[n>>2]=o,_[n+4>>2]=o>>31,t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 0:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(s=_[_[e>>2]>>2])+(n=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;_[(n=(a<<3)+r|0)>>2]=m[0|t],_[n+4>>2]=0,t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 1:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(s=_[_[e>>2]>>2])+(n=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;n=(a<<3)+r|0,o=p[t>>1],_[n>>2]=o,_[n+4>>2]=o>>31,t=t+2|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 2:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(s=_[_[e>>2]>>2])+(n=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;_[(n=(a<<3)+r|0)>>2]=b[t>>1],_[n+4>>2]=0,t=t+2|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 3:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(s=_[_[e>>2]>>2])+(n=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;n=(a<<3)+r|0,o=_[t>>2],_[n>>2]=o,_[n+4>>2]=o>>31,t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 4:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(s=_[_[e>>2]>>2])+(n=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;_[(n=(a<<3)+r|0)>>2]=_[t>>2],_[n+4>>2]=0,t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 5:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(s=_[_[e>>2]>>2])+(n=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;o=_[t+4>>2],_[(n=(a<<3)+r|0)>>2]=_[t>>2],_[n+4>>2]=o,t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 6:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(s=_[_[e>>2]>>2])+(n=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;o=_[t+4>>2],_[(n=(a<<3)+r|0)>>2]=_[t>>2],_[n+4>>2]=o,t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;break e;case 7:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24<1)break i;for(t=(s=_[_[e>>2]>>2])+(n=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;s=n=(a<<3)+r|0,c=v[t>>2],k(x(c))<k(0x8000000000000000)?(o=k(x(c))>=k(1)?c>k(0)?~~k(T(k(w(k(c/k(4294967296)))),k(4294967296)))>>>0:~~k(E(k(k(c-k(~~c>>>0>>>0))/k(4294967296))))>>>0:0,h=~~c>>>0):(o=-2147483648,h=0),_[s>>2]=h,_[n+4>>2]=o,t=t+4|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);break i;case 8:if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24<1)break r;for(t=(s=_[_[e>>2]>>2])+(n=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;s=n=(a<<3)+r|0,f=y[t>>3],x(f)<0x8000000000000000?(o=x(f)>=1?f>0?~~T(w(f/4294967296),4294967295)>>>0:~~E((f-+(~~f>>>0>>>0))/4294967296)>>>0:0,h=~~f>>>0):(o=-2147483648,h=0),_[s>>2]=h,_[n+4>>2]=o,t=t+8|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);break r;case 9:break n}if(((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24>=1)for(t=(s=_[_[e>>2]>>2])+(n=_[e+48>>2]+as(_[e+40>>2],_[e+44>>2],t,0)|0)|0;_[(n=(a<<3)+r|0)>>2]=m[0|t],_[n+4>>2]=0,t=t+1|0,(0|(a=a+1|0))<((0|(n=l[e+24|0]))>(0|i)?i:n)<<24>>24;);if((0|n)>=(0|i))break t;ts((n<<3)+r|0,0,i-n<<3);break t}if((0|n)>=(0|i))break t;break e}(0|n)>=(0|i)||ts((n<<3)+r|0,0,i-n<<3)}return}ts((n<<3)+r|0,0,i-n<<3)}function Si(e){return 0,6}function Ti(e){var t=0;return!_[(e|=0)- -64>>2]|!_[e+68>>2]|!_[e+44>>2]|!_[e+48>>2]||!_[e+52>>2]|!_[e+56>>2]||(t=-1!=_[e+92>>2]),0|t}function wi(e,t){e|=0;var i=0;return _[(t|=0)+56>>2]|3!=m[t+24|0]||(_[e- -64>>2]=t,i=1),0|i}function Ei(e,t){e|=0;var i,r,n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0;o=i=_[(t|=0)+12>>2],c=s=_[t+20>>2],(a=(r=_[t+16>>2])+4|0)>>>0<4&&(s=s+1|0),n=_[t+8>>2],l=a;e:if(!((0|o)<(0|(a=s))||(0|o)<=(0|a)&&!(n>>>0>=l>>>0))&&(h=_[t>>2],o=m[0|(s=r+h|0)]|m[s+1|0]<<8|m[s+2|0]<<16|m[s+3|0]<<24,_[t+16>>2]=l,_[t+20>>2]=a,s=c,(f=r+8|0)>>>0<8&&(s=s+1|0),!((0|(a=i))<(0|s)||(0|a)<=(0|s)&&!(n>>>0>=f>>>0))&&(a=m[0|(a=l+h|0)]|m[a+1|0]<<8|m[a+2|0]<<16|m[a+3|0]<<24,_[t+16>>2]=f,_[t+20>>2]=s,!((0|o)>(0|a))&&(_[e+16>>2]=a,_[e+12>>2]=o,l=o,!(!(o=(a>>31)-((o>>31)+(a>>>0<o>>>0)|0)|0)&(a=a-l|0)>>>0>2147483646|o>>>0>0))))){if(o=a+1|0,_[e+20>>2]=o,a=(0|o)/2|0,_[(l=e+24|0)>>2]=a,_[e+28>>2]=0-a,1&o||(_[l>>2]=a+-1),b[t+38>>1]<=513){if((0|i)<(0|s)||(0|i)<=(0|s)&&!(n>>>0>f>>>0))break e;if(a=m[f+h|0],s=c,(c=r+9|0)>>>0<9&&(s=s+1|0),_[(o=t)+16>>2]=c,_[o+20>>2]=s,a>>>0>1)break e;_[e+88>>2]=a-1|0?0:1}u=Xi(e+108|0,t)}return 0|u}function Mi(e,t,i){t|=0,i|=0;var r,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,p=0,b=0,A=0,v=0,y=0,g=0,k=0,x=0,S=0,T=0,w=0,E=0,M=0,R=0,C=0,O=0;z=r=z-96|0,n=_[(e|=0)+16>>2],l[r+92|0]=1,_[r+88>>2]=t,_[r+84>>2]=t,_[r+80>>2]=n,s=_[e+20>>2],a=_[s>>2];e:{t:{i:{r:{if(n=_[_[n+28>>2]+(t<<2)>>2],_[s+4>>2]-a>>2>>>0>n>>>0){if(n=_[_[e+8>>2]+(_[a+(n<<2)>>2]<<2)>>2],a=_[e+4>>2],m[a+84|0]||(n=_[_[a+68>>2]+(n<<2)>>2]),_[r+72>>2]=0,_[r+76>>2]=0,_[(s=r- -64|0)>>2]=0,_[s+4>>2]=0,_[r+56>>2]=0,_[r+60>>2]=0,xi(a,n,l[a+24|0],r+56|0),-1==(0|t))break e;for(s=((n=t+1|0)>>>0)%3|0?n:t+-2|0,v=((t>>>0)%3|0?-1:2)+t|0,o=!_[(w=e+28|0)>>2],E=e+20|0,M=e+16|0,R=e+8|0;;){if(a=s,n=v,o||(a=((n=t+1|0)>>>0)%3|0?n:t+-2|0,n=t+-1|0,(t>>>0)%3||(n=t+2|0)),o=_[E>>2],t=_[o>>2],a=_[_[_[M>>2]+28>>2]+(a<<2)>>2],_[o+4>>2]-t>>2>>>0<=a>>>0)break r;if(a=_[_[R>>2]+(_[t+(a<<2)>>2]<<2)>>2],t=_[(o=e+4|0)>>2],m[t+84|0]||(a=_[_[t+68>>2]+(a<<2)>>2]),_[r+48>>2]=0,_[r+52>>2]=0,_[r+40>>2]=0,_[r+44>>2]=0,_[r+32>>2]=0,_[r+36>>2]=0,xi(t,a,l[t+24|0],r+32|0),a=_[E>>2],t=_[a>>2],n=_[_[_[M>>2]+28>>2]+(n<<2)>>2],_[a+4>>2]-t>>2>>>0<=n>>>0)break i;if(a=_[_[R>>2]+(_[t+(n<<2)>>2]<<2)>>2],t=_[o>>2],m[t+84|0]||(a=_[_[t+68>>2]+(a<<2)>>2]),_[(n=o=r+24|0)>>2]=0,_[n+4>>2]=0,_[(n=h=r+16|0)>>2]=0,_[n+4>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,xi(t,a,l[t+24|0],r+8|0),y=(n=_[r+8>>2])-(t=_[r+56>>2])|0,g=_[r+60>>2],a=_[r+12>>2]-(g+(n>>>0<t>>>0)|0)|0,C=(k=_[r+40>>2])-(n=_[r+64>>2])|0,x=_[r+68>>2],T=c-(S=as(y,a,C,k=_[r+44>>2]-(x+(k>>>0<n>>>0)|0)|0))|0,u=u-(j+(c>>>0<S>>>0)|0)|0,n=as(S=(c=_[h>>2])-n|0,h=_[h+4>>2]-((c>>>0<n>>>0)+x|0)|0,x=(c=_[r+32>>2])-t|0,g=_[r+36>>2]-((c>>>0<t>>>0)+g|0)|0),t=j+u|0,u=t=(c=n+T|0)>>>0<n>>>0?t+1|0:t,n=f,p=y,O=a,a=(f=_[r+48>>2])-(t=_[r+72>>2])|0,y=_[r+76>>2],f=n+(p=as(p,O,a,T=_[r+52>>2]-(y+(f>>>0<t>>>0)|0)|0))|0,n=j+b|0,n=f>>>0<p>>>0?n+1|0:n,f=(b=f)-(o=as(p=(f=_[o>>2])-t|0,t=_[o+4>>2]-((f>>>0<t>>>0)+y|0)|0,x,g))|0,b=n-(j+(b>>>0<o>>>0)|0)|0,a=d-(n=as(S,h,a,T))|0,A=A-(j+(d>>>0<n>>>0)|0)|0,n=as(p,t,C,k),t=j+A|0,A=t=(d=n+a|0)>>>0<n>>>0?t+1|0:t,Ri(r+80|0),o=!(h=_[w>>2]),-1==(0|(t=_[r+88>>2])))break}n=(t=b)>>31,t=(e=t>>31)+t|0,(s=n+f|0)>>>0<n>>>0&&(t=t+1|0),n^=s,o=e^t,s=e=(t=A)>>31,v=A+e|0,(a=(t>>=31)+d|0)>>>0<t>>>0&&(v=v+1|0),e=t^a,a=s^v;n:{if((0|u)<-1||(0|u)<=-1&&!(c>>>0>4294967295)){if(s=e+(n-(t=c)|0)|0,t=a+(o-((n>>>0<t>>>0)+u|0)|0)|0,e=(n=s)>>>0<e>>>0?t+1|0:t,!h)break n;break t}if(t=o+u|0,(s=(s=n)+(n=c)|0)>>>0<n>>>0&&(t=t+1|0),n=e,e=t+a|0,e=(s=n+s|0)>>>0<n>>>0?e+1|0:e,n=s,h)break t}if((0|n)<536870913)break e;c=ss(c,u,e=7&((536870911&e)<<3|n>>>29),t=0),f=ss(f,b,e,t),d=ss(d,A,e,t);break e}Ga(),P()}Ga(),P()}Ga(),P()}(0|e)<0||(0|e)<=0&&!(n>>>0>=536870913)||(t=e>>>29,c=ss(c,u,e=(536870911&e)<<3|n>>>29,t),f=ss(f,b,e,t),d=ss(d,A,e,t))}_[i+8>>2]=c,_[i+4>>2]=f,_[i>>2]=d,z=r+96|0}function Pi(e,t){return e|=0,(t|=0)>>>0<=1?(_[e+28>>2]=t,e=1):e=0,0|e}function Ri(e){var t=0,i=0,r=0;t=_[e+8>>2],r=_[e>>2];e:{if(m[e+12|0]){t:{if(-1==(0|t)||-1==(0|(t=((i=t+1|0)>>>0)%3|0?i:t+-2|0))|_[_[r>>2]+(t>>>3&536870908)>>2]>>>(31&t)&1||-1==(0|(t=_[_[_[r+64>>2]+12>>2]+(t<<2)>>2])))_[e+8>>2]=-1;else if(t=((i=t+1|0)>>>0)%3|0?i:t+-2|0,_[e+8>>2]=t,-1!=(0|t))break t;return t=-1,-1!=(0|(i=_[e+4>>2]))&&(-1==(0|(i=i+((i>>>0)%3|0?-1:2)|0))|_[_[r>>2]+(i>>>3&536870908)>>2]>>>(31&i)&1||-1!=(0|(r=_[_[_[r+64>>2]+12>>2]+(i<<2)>>2]))&&(t=(r>>>0)%3?r+-1|0:r+2|0)),l[e+12|0]=0,void(_[e+8>>2]=t)}if((0|t)!=_[e+4>>2])break e;return void(_[e+8>>2]=-1)}i=-1,-1!=(0|t)&&(-1==(0|(t=t+((t>>>0)%3|0?-1:2)|0))|_[_[r>>2]+(t>>>3&536870908)>>2]>>>(31&t)&1||-1!=(0|(t=_[_[_[r+64>>2]+12>>2]+(t<<2)>>2]))&&(i=(t>>>0)%3?t+-1|0:t+2|0)),_[e+8>>2]=i}}function Ci(e,t,i,r){var n,a,s,o,l=0,c=0,f=0,h=0;_[e>>2]=3044,_[e+4>>2]=t,t=_[i+8>>2],l=_[i+12>>2],c=_[i+16>>2],a=_[i+20>>2],s=_[i>>2],o=_[i+4>>2],_[e+40>>2]=0,_[(n=e+32|0)>>2]=0,_[n+4>>2]=0,_[e+24>>2]=c,_[e+28>>2]=a,_[e+16>>2]=t,_[e+20>>2]=l,_[e+8>>2]=s,_[e+12>>2]=o;e:{if(t=_[i+28>>2]-_[i+24>>2]|0){if((l=t>>2)>>>0>=1073741824)break e;t=Fa(t),_[e+32>>2]=t,_[(c=e+36|0)>>2]=t,_[e+40>>2]=t+(l<<2),l=_[i+24>>2],(0|(i=_[i+28>>2]-l|0))<1||(f=c,h=es(t,l,i)+i|0,_[f>>2]=h)}return _[e>>2]=5044,t=_[r+4>>2],_[e+44>>2]=_[r>>2],_[e+48>>2]=t,t=_[r+12>>2],_[e+52>>2]=_[r+8>>2],void(_[e+56>>2]=t)}Wa(),P()}function Oi(e,t,i,r){var n,a=0,s=0,o=k(0),f=0,h=k(0),u=k(0),p=k(0),b=k(0),A=k(0),y=k(0),S=k(0),T=0,E=0,R=k(0),C=k(0),O=k(0),I=k(0),D=k(0),F=0,N=k(0),B=k(0),L=k(0);if(z=n=z-48|0,a=-1,f=-1,-1!=(0|t)&&(s=((t>>>0)%3|0?-1:2)+t|0,T=_[e+48>>2],-1!=(0|(t=((F=t+1|0)>>>0)%3|0?F:t+-2|0))&&(a=_[_[T>>2]+(t<<2)>>2]),-1!=(0|s)&&(f=_[_[T>>2]+(s<<2)>>2])),s=_[e+52>>2],t=_[s>>2],(s=_[s+4>>2]-t>>2)>>>0<=a>>>0|s>>>0<=f>>>0)Ga(),P();else{e:if((T=(0|(a=_[t+(a<<2)>>2]))>=(0|r))||(0|(s=_[t+(f<<2)>>2]))>=(0|r)){if(T){if((0|r)<=0){if(_[e+72>>2]<1)break e;for(i=_[e+68>>2],t=0;_[i+(t<<2)>>2]=0,(0|(t=t+1|0))<_[e+72>>2];);break e}t=_[e+72>>2],r=g(t,r+-1|0)}else t=_[e+72>>2],r=g(a,t);if(!((0|t)<1))for(a=_[e+68>>2],t=0;_[a+(t<<2)>>2]=_[(t+r<<2)+i>>2],(0|(t=t+1|0))<_[e+72>>2];);}else{if(t=_[e+72>>2],f=(g(t,s)<<2)+i|0,h=k(_[f+4>>2]),t=(g(t,a)<<2)+i|0,S=k(_[t+4>>2]),!((R=k(_[f>>2]))!=(I=k(_[t>>2]))|h!=S)){if(t=e=_[e+68>>2],i=k(x(h))<k(2147483648)?~~h:-2147483648,_[t+4>>2]=i,k(x(R))<k(2147483648)){_[e>>2]=~~R;break e}_[e>>2]=-2147483648;break e}f=_[_[e+64>>2]+(r<<2)>>2],_[n+40>>2]=0,_[n+32>>2]=0,_[n+36>>2]=0,t=_[e+60>>2],m[t+84|0]||(f=_[_[t+68>>2]+(f<<2)>>2]),he(t,f,l[t+24|0],n+32|0),a=_[_[e+64>>2]+(a<<2)>>2],_[n+24>>2]=0,_[n+16>>2]=0,_[n+20>>2]=0,t=_[e+60>>2],m[t+84|0]||(a=_[_[t+68>>2]+(a<<2)>>2]),he(t,a,l[t+24|0],n+16|0),i=_[_[e+64>>2]+(s<<2)>>2],_[n+8>>2]=0,_[n>>2]=0,_[n+4>>2]=0,t=_[e+60>>2],m[t+84|0]||(i=_[_[t+68>>2]+(i<<2)>>2]),he(t,i,l[t+24|0],n),C=v[n+40>>2],O=v[n+36>>2],p=v[n+32>>2],N=v[n+16>>2],u=k(v[n>>2]-N),B=v[n+20>>2],b=k(v[n+4>>2]-B),L=v[n+24>>2],A=k(v[n+8>>2]-L),!((D=k(k(k(k(u*u)+k(0))+k(b*b))+k(A*A)))>k(0))&&(y=k(0),_[e+88>>2]>257)||(p=k(p-N),O=k(O-B),C=k(C-L),o=k(k(k(k(k(u*p)+k(0))+k(b*O))+k(A*C))/D),A=k(C-k(A*o)),b=k(O-k(b*o)),u=k(p-k(u*o)),y=k(M(k(k(k(A*A)+k(k(b*b)+k(k(u*u)+k(0))))/D)))),p=y,t=_[(i=e+80|0)>>2]+-1|0,r=_[_[e+76>>2]+(t>>>3&536870908)>>2],_[i>>2]=t,u=k(h-S),y=k(k(u*o)+S),S=k(R-I),h=k(S*p),h=k(y+((t=r>>>(31&t)&1)?h:k(-h))),y=k(k(S*o)+I),o=k(u*p),(2147483647&(d(o=k(y+(t?k(-o):o))),c(0)))>>>0>=2139095041?(t=_[e+68>>2],_[t>>2]=-2147483648):(e=t=_[e+68>>2],E=w(+o+.5),i=x(E)<2147483648?~~E:-2147483648,_[e>>2]=i),i=(2147483647&(d(h),c(0)))>>>0>2139095040,E=w(+h+.5),e=x(E)<2147483648?~~E:-2147483648,_[t+4>>2]=i?-2147483648:e}z=n+48|0}}function Ii(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,p=0,b=0,A=0,v=0,y=0,g=0,k=0,x=0,S=0,T=0,w=0,E=0,M=0,R=0,C=0,O=0;z=n=z-80|0,a=-1,s=-1,-1!=(0|t)&&(o=((t>>>0)%3|0?-1:2)+t|0,c=_[e+32>>2],-1!=(0|(t=((h=t+1|0)>>>0)%3|0?h:t+-2|0))&&(a=_[_[c>>2]+(t<<2)>>2]),-1!=(0|o)&&(s=_[_[c>>2]+(o<<2)>>2])),o=_[e+36>>2],t=_[o>>2];e:{t:{i:{r:{if(!((o=_[o+4>>2]-t>>2)>>>0<=a>>>0|o>>>0<=s>>>0)){n:{if(!(A=(0|(p=_[t+(a<<2)>>2]))>=(0|r))&&!((0|(s=_[t+(s<<2)>>2]))>=(0|r))){if(x=_[(4|(t=s<<3))+i>>2],h=_[(4|(a=p<<3))+i>>2],!((0|(y=_[t+i>>2]))!=(0|(k=_[i+a>>2]))|(0|h)!=(0|x))){_[e+8>>2]=k,_[e+12>>2]=h;break n}if(t=_[_[e+4>>2]+(r<<2)>>2],_[n+72>>2]=0,_[n+76>>2]=0,_[(a=n- -64|0)>>2]=0,_[a+4>>2]=0,_[n+56>>2]=0,_[n+60>>2]=0,a=_[e>>2],m[a+84|0]||(t=_[_[a+68>>2]+(t<<2)>>2]),xi(a,t,l[a+24|0],n+56|0),t=_[_[e+4>>2]+(p<<2)>>2],_[n+48>>2]=0,_[n+52>>2]=0,_[n+40>>2]=0,_[n+44>>2]=0,_[n+32>>2]=0,_[n+36>>2]=0,a=_[e>>2],m[a+84|0]||(t=_[_[a+68>>2]+(t<<2)>>2]),xi(a,t,l[a+24|0],n+32|0),t=_[_[e+4>>2]+(s<<2)>>2],_[n+24>>2]=0,_[n+28>>2]=0,_[n+16>>2]=0,_[n+20>>2]=0,_[n+8>>2]=0,_[n+12>>2]=0,a=_[e>>2],m[a+84|0]||(t=_[_[a+68>>2]+(t<<2)>>2]),xi(a,t,l[a+24|0],n+8|0),S=_[n+44>>2],t=as(w=(t=_[n+16>>2])-(a=f=_[n+40>>2])|0,s=_[n+20>>2]-(S+(t>>>0<a>>>0)|0)|0,w,s),a=j,d=t,T=_[n+36>>2],c=as(E=(t=_[n+8>>2])-(c=u=_[n+32>>2])|0,o=_[n+12>>2]-(T+(t>>>0<c>>>0)|0)|0,E,o),a=j+a|0,a=(t=d+c|0)>>>0<c>>>0?a+1|0:a,v=t,R=_[n+52>>2],c=as(M=(t=_[n+24>>2])-(c=d=_[n+48>>2])|0,b=_[n+28>>2]-(R+(t>>>0<c>>>0)|0)|0,M,b),a=j+a|0,g=t=v+c|0,t|(c=t>>>0<c>>>0?a+1|0:a)){if(r=1,t=0,a=_[n+64>>2],i=_[n+68>>2]-((a>>>0<f>>>0)+S|0)|0,p=a=a-f|0,A=i,i=as(w,s,a,i),a=j,v=i,u=as(i=(f=_[n+56>>2])-u|0,S=_[n+60>>2]-((f>>>0<u>>>0)+T|0)|0,E,o),a=j+a|0,a=(f=v+u|0)>>>0<u>>>0?a+1|0:a,v=f,d=as(u=(f=_[n+72>>2])-d|0,T=_[n+76>>2]-((f>>>0<d>>>0)+R|0)|0,M,b),a=j+a|0,a=(f=v+d|0)>>>0<d>>>0?a+1|0:a,d=f,f=a,s=ss(as(d,a,w,s),j,g,c),A=A-(j+(p>>>0<s>>>0)|0)|0,s=as(s=p-s|0,A,s,A),p=j,v=s,a=ss(as(E,o,d,a),j,g,c),s=S-(j+(i>>>0<a>>>0)|0)|0,s=as(i=i-a|0,s,i,s),a=j+p|0,a=(i=v+s|0)>>>0<s>>>0?a+1|0:a,o=i,i=ss(as(d,f,M,b),j,g,c),s=T-(j+(u>>>0<i>>>0)|0)|0,s=as(i=u-i|0,s,i,s),a=j+a|0,s=as(i=o+s|0,i>>>0<s>>>0?a+1|0:a,g,c),o=i=j,!i&s>>>0<=1|i>>>0<0)break r;for(b=s,i=o;a=t<<1|r>>>31,r<<=1,t=a,u=!i&b>>>0>7|i>>>0>0,b=(3&i)<<30|b>>>2,i>>>=2,u;);break i}}if(a=e,A){if((0|r)<=0){_[e+8>>2]=0,_[e+12>>2]=0;break n}t=(r<<1)-2|0}else t=p<<1;t=(t<<2)+i|0,_[a+8>>2]=_[t>>2],_[e+12>>2]=_[t+4>>2]}i=1;break e}Ga(),P()}if(r=s,t=o,s-1)break t}for(;i=os(s,o,r,t)+r|0,a=t+j|0,i=as(r=(1&(a=i>>>0<r>>>0?a+1|0:a))<<31|i>>>1,t=a>>>1,r,t),(0|o)==(0|(a=j))&i>>>0>s>>>0|a>>>0>o>>>0;);}i=0,(a=_[e+20>>2])&&(o=a+-1|0,b=_[_[e+16>>2]+(o>>>3&536870908)>>2],_[e+20>>2]=o,i=as(d,f,u=(i=x)-(a=h)|0,x=(i>>31)-((h=a>>31)+(i>>>0<a>>>0)|0)|0),s=j,h=as(a,h,g,c),a=j+s|0,a=(i=h+i|0)>>>0<h>>>0?a+1|0:a,v=i,y=i=as(r,t,p=(i=y)-(s=k)|0,h=(i>>31)-((k=s>>31)+(i>>>0<s>>>0)|0)|0),i=b>>>(31&o)&1,b=a,a=j,a=b+(i?0-(a+(0<y>>>0)|0)|0:a)|0,C=e,O=ss(o=v+(A=i?0-y|0:y)|0,o>>>0<A>>>0?a+1|0:a,g,c),_[C+12>>2]=O,a=as(d,f,p,h),o=j,y=e,e=(s=as(s,k,g,c))+a|0,a=j+o|0,a=e>>>0<s>>>0?a+1|0:a,f=e,e=as(r,t,u,x),t=f+(r=i?e:0-e|0)|0,f=a,a=j,e=f+(i?a:0-((0<e>>>0)+a|0)|0)|0,C=y,O=ss(t,t>>>0<r>>>0?e+1|0:e,g,c),_[C+8>>2]=O,i=1)}return z=n+80|0,i}function Di(e,t,i){t|=0,i|=0;var r,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,p=0,b=0,A=0,v=0,y=0,g=0,k=0,x=0,S=0,T=0,w=0,E=0,M=0,R=0,C=0,O=0;z=r=z-96|0,a=_[(e|=0)+16>>2],l[r+92|0]=1,_[r+88>>2]=t,_[r+84>>2]=t,_[r+80>>2]=a,n=-1,n=-1!=(0|t)?_[_[a>>2]+(t<<2)>>2]:n,s=_[e+20>>2],a=_[s>>2];e:{t:{i:{r:{if(_[s+4>>2]-a>>2>>>0>n>>>0){if(a=_[_[e+8>>2]+(_[a+(n<<2)>>2]<<2)>>2],n=_[e+4>>2],m[n+84|0]||(a=_[_[n+68>>2]+(a<<2)>>2]),_[r+72>>2]=0,_[r+76>>2]=0,_[(s=r- -64|0)>>2]=0,_[s+4>>2]=0,_[r+56>>2]=0,_[r+60>>2]=0,xi(n,a,l[n+24|0],r+56|0),-1==(0|t))break e;for(s=((n=t+1|0)>>>0)%3|0?n:t+-2|0,v=((t>>>0)%3|0?-1:2)+t|0,o=!_[(w=e+28|0)>>2],E=e+20|0,M=e+8|0,R=r+48|0;;){if(a=s,n=v,o||(a=((n=t+1|0)>>>0)%3|0?n:t+-2|0,n=t+-1|0,(t>>>0)%3||(n=t+2|0)),t=-1,t=-1!=(0|a)?_[_[_[e+16>>2]>>2]+(a<<2)>>2]:t,o=_[E>>2],a=_[o>>2],_[o+4>>2]-a>>2>>>0<=t>>>0)break r;if(a=_[_[M>>2]+(_[a+(t<<2)>>2]<<2)>>2],t=_[(o=e+4|0)>>2],m[t+84|0]||(a=_[_[t+68>>2]+(a<<2)>>2]),_[R>>2]=0,_[R+4>>2]=0,_[r+40>>2]=0,_[r+44>>2]=0,_[r+32>>2]=0,_[r+36>>2]=0,xi(t,a,l[t+24|0],r+32|0),t=-1,t=-1!=(0|n)?_[_[_[e+16>>2]>>2]+(n<<2)>>2]:t,a=_[E>>2],n=_[a>>2],_[a+4>>2]-n>>2>>>0<=t>>>0)break i;if(n=_[_[M>>2]+(_[n+(t<<2)>>2]<<2)>>2],t=_[o>>2],m[t+84|0]||(n=_[_[t+68>>2]+(n<<2)>>2]),_[(a=r+24|0)>>2]=0,_[a+4>>2]=0,_[(o=r+16|0)>>2]=0,_[o+4>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,xi(t,n,l[t+24|0],r+8|0),y=(n=_[r+8>>2])-(t=_[r+56>>2])|0,g=_[r+60>>2],h=_[r+12>>2]-(g+(n>>>0<t>>>0)|0)|0,C=(k=_[r+40>>2])-(n=_[r+64>>2])|0,x=_[r+68>>2],T=c-(S=as(y,h,C,k=_[r+44>>2]-(x+(k>>>0<n>>>0)|0)|0))|0,u=u-(j+(c>>>0<S>>>0)|0)|0,n=as(S=(c=_[o>>2])-n|0,o=_[o+4>>2]-((c>>>0<n>>>0)+x|0)|0,x=(c=_[r+32>>2])-t|0,g=_[r+36>>2]-((c>>>0<t>>>0)+g|0)|0),t=j+u|0,u=t=(c=n+T|0)>>>0<n>>>0?t+1|0:t,n=f,p=y,O=h,h=(f=_[r+48>>2])-(t=_[r+72>>2])|0,y=_[r+76>>2],f=n+(p=as(p,O,h,T=_[r+52>>2]-(y+(f>>>0<t>>>0)|0)|0))|0,n=j+b|0,n=f>>>0<p>>>0?n+1|0:n,f=(b=f)-(a=as(p=(f=_[a>>2])-t|0,t=_[a+4>>2]-((f>>>0<t>>>0)+y|0)|0,x,g))|0,b=n-(j+(b>>>0<a>>>0)|0)|0,a=d-(n=as(S,o,h,T))|0,A=A-(j+(d>>>0<n>>>0)|0)|0,n=as(p,t,C,k),t=j+A|0,A=t=(d=n+a|0)>>>0<n>>>0?t+1|0:t,Fi(r+80|0),o=!(h=_[w>>2]),-1==(0|(t=_[r+88>>2])))break}n=(t=b)>>31,t=(e=t>>31)+t|0,(s=n+f|0)>>>0<n>>>0&&(t=t+1|0),n^=s,o=e^t,s=e=(t=A)>>31,v=A+e|0,(a=(t>>=31)+d|0)>>>0<t>>>0&&(v=v+1|0),e=t^a,a=s^v;n:{if((0|u)<-1||(0|u)<=-1&&!(c>>>0>4294967295)){if(s=e+(n-(t=c)|0)|0,t=a+(o-((n>>>0<t>>>0)+u|0)|0)|0,e=(n=s)>>>0<e>>>0?t+1|0:t,!h)break n;break t}if(t=o+u|0,(s=(s=n)+(n=c)|0)>>>0<n>>>0&&(t=t+1|0),n=e,e=t+a|0,e=(s=n+s|0)>>>0<n>>>0?e+1|0:e,n=s,h)break t}if((0|n)<536870913)break e;c=ss(c,u,e=7&((536870911&e)<<3|n>>>29),t=0),f=ss(f,b,e,t),d=ss(d,A,e,t);break e}Ga(),P()}Ga(),P()}Ga(),P()}(0|e)<0||(0|e)<=0&&!(n>>>0>=536870913)||(t=e>>>29,c=ss(c,u,e=(536870911&e)<<3|n>>>29,t),f=ss(f,b,e,t),d=ss(d,A,e,t))}_[i+8>>2]=c,_[i+4>>2]=f,_[i>>2]=d,z=r+96|0}function Fi(e){var t,i=0,r=0;i=_[e+8>>2],t=_[e>>2];e:{if(m[e+12|0]){t:{if(-1!=(0|i)&&-1!=(0|(i=((r=i+1|0)>>>0)%3|0?r:i+-2|0))&&-1!=(0|(i=_[_[t+12>>2]+(i<<2)>>2]))){if(i=((r=i+1|0)>>>0)%3|0?r:i+-2|0,_[e+8>>2]=i,-1!=(0|i))break t}else _[e+8>>2]=-1;return i=-1,-1!=(0|(r=_[e+4>>2]))&&(i=-1,-1!=(0|(r=r+((r>>>0)%3|0?-1:2)|0))&&(i=-1,-1!=(0|(r=_[_[t+12>>2]+(r<<2)>>2]))&&(i=r+-1|0,(r>>>0)%3||(i=r+2|0)))),l[e+12|0]=0,void(_[e+8>>2]=i)}if((0|i)!=_[e+4>>2])break e;return void(_[e+8>>2]=-1)}r=-1,-1!=(0|i)&&(r=-1,-1!=(0|(i=i+((i>>>0)%3|0?-1:2)|0))&&(r=-1,-1!=(0|(i=_[_[t+12>>2]+(i<<2)>>2]))&&(r=i+-1|0,(i>>>0)%3||(r=i+2|0)))),_[e+8>>2]=r}}function Ni(e,t,i){var r,n,a=0,s=0,o=k(0),l=k(0),c=k(0);o=k(e+t),(c=k(e-t))<=k(.5)^1|c>=k(-.5)^1|o>=k(.5)^1||(s=1,!(o<=k(1.5)))?(o<=k(.5)?(l=k(k(.5)-e),e=k(k(.5)-t)):o>=k(1.5)?(l=k(k(1.5)-e),e=k(k(1.5)-t)):c<=k(-.5)?(l=k(e+k(.5)),e=k(t+k(-.5))):(l=k(e+k(-.5)),e=k(t+k(.5))),c=k(e-l),o=k(l+e),s=-1):l=t,t=k((a=+l)+a+-1),e=k((a=+e)+a+-1),n=s,s=+c,s=(a=1-(s+=s))<(s+=1)?a:s,a=+o,l=k(n*(s<(a=(r=3-(a+=a))<(a+=-1)?r:a)?s:a)),+(o=k(k(t*t)+k(k(e*e)+k(l*l))))<1e-6?(_[i>>2]=0,o=k(0),e=k(0)):(c=k(k(1)/k(M(o))),v[i>>2]=c*l,o=k(c*t),e=k(c*e)),v[i+8>>2]=o,v[i+4>>2]=e}function Bi(e){var t=0;return!_[(e|=0)+44>>2]|!_[e+48>>2]|!_[e+24>>2]|!_[e+28>>2]||!_[e+32>>2]|!_[e+36>>2]||(t=-1!=_[e+72>>2]),0|t}function Li(e,t){e|=0;var i=0;return _[(t|=0)+56>>2]|3!=m[t+24|0]||(_[e+44>>2]=t,i=1),0|i}function Ui(e,t){e|=0;var i,r,n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0;a=i=_[(t|=0)+12>>2],o=s=_[t+20>>2],(l=(r=_[t+16>>2])+4|0)>>>0<4&&(s=s+1|0),n=_[t+8>>2];e:if(!((0|a)<(0|s)||(0|a)<=(0|s)&&!(n>>>0>=l>>>0))){if(c=_[t>>2],f=m[0|(a=r+c|0)]|m[a+1|0]<<8|m[a+2|0]<<16|m[a+3|0]<<24,_[t+16>>2]=l,_[t+20>>2]=s,(h=b[t+38>>1])>>>0<=513){if(s=o,(o=r+8|0)>>>0<8&&(s=s+1|0),l=o,(0|(a=i))<(0|s)||(0|a)<=(0|s)&&!(n>>>0>=l>>>0))break e;_[t+16>>2]=l,_[t+20>>2]=s}if(1&f&&!((a=31^S(f))+-1>>>0>28)){if(_[e+8>>2]=a+1,o=-2-(a=-2<<a)|0,_[e+16>>2]=o,_[e+12>>2]=-1^a,_[e+20>>2]=(0|o)/2,h>>>0<=513){if((0|i)<(0|s)||(0|i)<=(0|s)&&!(n>>>0>l>>>0))break e;if(a=m[l+c|0],(o=l+1|0)>>>0<1&&(s=s+1|0),_[t+16>>2]=o,_[t+20>>2]=s,a>>>0>1)break e;_[e+68>>2]=a-1|0?0:1}u=Xi(e+88|0,t)}}return 0|u}function Vi(e,t,i,r){var n,a,s=0,o=0,l=0,c=0,f=0,h=0;if(n=_[(c=t+12|0)>>2],o=_[i+4>>2]-n|0,s=_[i>>2]-n|0,_[i>>2]=s,_[i+4>>2]=o,!(a=((f=(l=o>>31)+o^l)+((l=s>>31)+s^l)|0)<=(0|(c=_[c>>2])))){e:{t:{if((0|s)>=0){if(h=1,f=1,(0|o)>-1)break e;if(l=1,h=-1,f=-1,(0|s)>=1)break t;break e}if(l=-1,h=-1,f=-1,(0|o)<1)break e}h=(0|o)<1?-1:1,f=l}l=(l=o<<1)-(o=g(c,h))|0,_[i+4>>2]=l,s=(s<<1)-(c=g(c,f))|0,_[i>>2]=s,(0|g(f,h))>=0?(l=0-l|0,_[i>>2]=l,s=0-s|0):_[i>>2]=l,o=(s+o|0)/2|0,_[i+4>>2]=o,s=(c+l|0)/2|0,_[i>>2]=s,c=_[t+12>>2]}if(s=_[r>>2]+s|0,_[e>>2]=s,i=_[r+4>>2]+o|0,_[e+4>>2]=i,(0|c)<(0|s)?s=s-_[t+4>>2]|0:(0|s)>=(0-c|0)||(s=_[t+4>>2]+s|0),_[e>>2]=s,(0|c)<(0|i)?i=i-_[t+4>>2]|0:(0|i)>=(0-c|0)||(i=_[t+4>>2]+i|0),_[e+4>>2]=i,!a){e:{t:{if((0|s)>=0){if(t=1,r=1,(0|i)>-1)break e;if(o=1,t=-1,r=-1,(0|s)>=1)break t;break e}if(o=-1,t=-1,r=-1,(0|i)<1)break e}t=(0|i)<1?-1:1,r=o}o=(i<<1)-(l=g(t,c))|0,_[e+4>>2]=o,i=(s<<1)-(f=g(r,c))|0,_[e>>2]=i,(0|g(t,r))>=0?(o=0-o|0,_[e>>2]=o,i=0-i|0):_[e>>2]=o,i=(i+l|0)/2|0,_[e+4>>2]=i,s=(o+f|0)/2|0,_[e>>2]=s}_[e>>2]=s+n,_[e+4>>2]=i+n}function zi(e,t){e|=0;var i,r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0;l=o=_[(t|=0)+12>>2],c=n=_[t+20>>2],(a=(i=_[t+16>>2])+4|0)>>>0<4&&(n=n+1|0),r=_[t+8>>2],s=a,a=n;e:if(!((0|l)<(0|n)||(0|l)<=(0|n)&&!(r>>>0>=s>>>0))&&(l=_[t>>2],h=m[0|(n=i+l|0)]|m[n+1|0]<<8|m[n+2|0]<<16|m[n+3|0]<<24,_[t+16>>2]=s,_[t+20>>2]=a,n=c,(s=i+8|0)>>>0<8&&(n=n+1|0),f=s,!((0|(a=o))<(0|n)||(0|a)<=(0|n)&&!(r>>>0>=s>>>0))&&(_[t+16>>2]=f,_[t+20>>2]=n,1&h&&!((a=31^S(h))+-1>>>0>28)))){if(_[e+8>>2]=a+1,a=-2-(s=-2<<a)|0,_[e+16>>2]=a,_[e+12>>2]=-1^s,_[e+20>>2]=(0|a)/2,b[t+38>>1]<=513){if((0|o)<(0|n)||(0|o)<=(0|n)&&!(r>>>0>f>>>0))break e;if(o=m[l+f|0],(a=i+9|0)>>>0<9&&(c=c+1|0),_[(n=t)+16>>2]=a,_[n+20>>2]=c,o>>>0>1)break e;_[e+68>>2]=o-1|0?0:1}u=Xi(e+88|0,t)}return 0|u}function ji(e,t,i,r){var n,a,s=0,o=0,l=0,c=0,f=0,h=0;if(n=_[(c=t+12|0)>>2],o=_[i+4>>2]-n|0,s=_[i>>2]-n|0,_[i>>2]=s,_[i+4>>2]=o,!(a=((f=(l=o>>31)+o^l)+((l=s>>31)+s^l)|0)<=(0|(c=_[c>>2])))){e:{t:{if((0|s)>=0){if(l=1,h=1,(0|o)>-1)break e;if(f=1,l=-1,h=-1,(0|s)>=1)break t;break e}if(f=-1,l=-1,h=-1,(0|o)<1)break e}l=(0|o)<1?-1:1,h=f}f=(f=o<<1)-(o=g(l,c))|0,_[i+4>>2]=f,s=(s<<1)-(c=g(c,h))|0,_[i>>2]=s,(0|g(l,h))>=0?(f=0-f|0,_[i>>2]=f,s=0-s|0):_[i>>2]=f,o=(s+o|0)/2|0,_[i+4>>2]=o,s=(c+f|0)/2|0,_[i>>2]=s}e:{t:{i:{r:{n:{a:{s:{o:if(s){if(c=1,l=(0|s)<0&(0|o)<1,(0|s)>=1){if(h=(0|o)>-1?2:1,l)break o;break a}if(h=(0|o)>0?3:0,!l)break a}else{if(o)break s;c=1,h=0}l=o,f=s;break e}if((0|o)>=1)break i;break n}if((l=h+-1|0)>>>0>2){l=o,o=s,h=0;break t}switch(l-1|0){case 0:break r;case 1:break i;default:break n}}l=0-s|0,h=1;break t}l=0-o|0,o=0-s|0,h=2;break t}l=s,o=0-o|0,h=3}f=o,_[(s=i)>>2]=o,_[s+4>>2]=l,c=0}if(o=_[r>>2]+f|0,_[e>>2]=o,s=_[r+4>>2]+l|0,_[e+4>>2]=s,(0|(l=_[t+12>>2]))<(0|o)?o=o-_[t+4>>2]|0:(0|o)>=(0-l|0)||(o=_[t+4>>2]+o|0),_[e>>2]=o,(0|l)<(0|s)?s=s-_[t+4>>2]|0:(0|s)>=(0-l|0)||(s=_[t+4>>2]+s|0),_[e+4>>2]=s,c)i=s,s=o;else{e:if((t=(4-h&3)-1|0)>>>0>2)i=s,s=o;else{t:switch(t-1|0){default:i=0-o|0;break e;case 0:i=0-s|0,s=0-o|0;break e;case 1:break t}s=0-s|0,i=o}_[e>>2]=s,_[e+4>>2]=i}if(!a){e:{t:{if((0|s)>=0){if(t=1,c=1,(0|i)>-1)break e;if(o=1,t=-1,c=-1,(0|s)>=1)break t;break e}if(o=-1,t=-1,c=-1,(0|i)<1)break e}t=(0|i)<1?-1:1,c=o}o=(r=i<<1)-(i=g(t,l))|0,_[e+4>>2]=o,s=(s<<1)-(r=g(l,c))|0,_[e>>2]=s,(0|g(t,c))>=0?(o=0-o|0,_[e>>2]=o,s=0-s|0):_[e>>2]=o,i=(i+s|0)/2|0,_[e+4>>2]=i,s=(r+o|0)/2|0,_[e>>2]=s}_[e>>2]=s+n,_[e+4>>2]=i+n}function Wi(e){_[e>>2]=0,_[e+4>>2]=0,_[e+16>>2]=0,_[e+8>>2]=0,_[e+12>>2]=0}function Gi(e){var t,i;_[e+16>>2]=0,i=e+4|0,t=_[e>>2],_[i>>2]=t,_[e+12>>2]=t,t&&(_[i>>2]=t,Ka(t))}function Hi(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;return _[e+16>>2]=0,i=_[e>>2],_[e+4>>2]=i,_[e+12>>2]=i,i=l=_[t+12>>2],r=_[t+20>>2],(a=(n=_[t+16>>2])+4|0)>>>0<4&&(r=r+1|0),o=_[t+8>>2],s=a,a=r,(0|i)<(0|r)||(0|i)<=(0|r)&&!(o>>>0>=s>>>0)||(i=n+_[t>>2]|0,r=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[t+16>>2]=s,_[t+20>>2]=a,!r|3&r||(c=(n=o)-s>>>0>=(i=r)>>>0?0:1,(0|(n=l-(a+(n>>>0<s>>>0)|0)|0))<0||(0|n)<=0&&c||((n=r>>>2)&&(de(e,n),o=_[t+8>>2],l=_[t+12>>2],s=_[t+16>>2],a=_[t+20>>2]),(n=i+s|0)>>>0<i>>>0&&(a=a+1|0),(0|l)<(0|a)||(0|l)<=(0|a)&&!(o>>>0>=n>>>0)||(es(_[e>>2],s+_[t>>2]|0,r),a=t,o=t,r=_[t+20>>2],(t=i+_[t+16>>2]|0)>>>0<i>>>0&&(r=r+1|0),_[o+16>>2]=t,_[a+20>>2]=r,_[e+16>>2]=0,_[e+12>>2]=_[e>>2],f=1)))),f}function Yi(e){return _[e>>2]=0,_[e+4>>2]=0,l[e+5|0]=0,l[e+6|0]=0,l[e+7|0]=0,l[e+8|0]=0,l[e+9|0]=0,l[e+10|0]=0,l[e+11|0]=0,l[e+12|0]=0,e}function Xi(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0;z=i=z-16|0,s=_[t+16>>2];e:if(!((0|(r=_[t+12>>2]))<(0|(n=_[t+20>>2]))||(0|r)<=(0|n)&&!(A[t+8>>2]>s>>>0))){if(l[e+12|0]=m[s+_[t>>2]|0],s=r=_[t+20>>2],(c=(o=_[t+16>>2])+1|0)>>>0<1&&(r=r+1|0),a=c,_[t+16>>2]=a,_[t+20>>2]=r,b[t+38>>1]<=513){if(h=f=_[t+12>>2],n=s,(r=o+5|0)>>>0<5&&(n=n+1|0),c=_[t+8>>2],o=r,(0|h)<(0|(r=n))||(0|h)<=(0|r)&&!(c>>>0>=o>>>0))break e;n=a+_[t>>2]|0,a=m[0|n]|m[n+1|0]<<8|m[n+2|0]<<16|m[n+3|0]<<24,_[i+12>>2]=a,_[t+16>>2]=o,_[t+20>>2]=r}else{if(!function e(t,i,r){var n=0,a=0,s=0,o=0;t:if(!(t>>>0>5)&&(s=_[r+16>>2],n=_[r+12>>2],a=_[r+20>>2],!((0|n)<(0|a)||(0|n)<=(0|a)&&!(A[r+8>>2]>s>>>0)))){if(n=m[s+_[r>>2]|0],(s=s+1|0)>>>0<1&&(a=a+1|0),_[r+16>>2]=s,_[r+20>>2]=a,a=i,128&n){if(!e(t+1|0,i,r))break t;t=_[i>>2]<<7,_[i>>2]=t,n=t|127&n}_[a>>2]=n,o=1}return o}(1,i+12|0,t))break e;o=_[t+16>>2],r=_[t+20>>2],c=_[t+8>>2],f=_[t+12>>2],a=_[i+12>>2]}if(n=a,!(((0|(s=f-(r+(c>>>0<o>>>0)|0)|0))<0?1:(0|s)<=0?c-o>>>0>=n>>>0?0:1:0)|(0|n)<1)&&(s=o+_[t>>2]|0,_[e>>2]=s,3!=(0|(c=m[0|(h=(f=a+-1|0)+s|0)]>>>6)))){u=e;t:{i:switch(c-1|0){default:_[e+4>>2]=f,e=63&m[0|h];break t;case 0:if((0|a)<2)break e;_[e+4>>2]=a+-2,e=m[(e=(a+s|0)-2|0)+1|0]<<8&16128|m[0|e];break t;case 1:break i}if((0|a)<3)break e;_[e+4>>2]=a+-3,e=m[(e=(a+s|0)-3|0)+1|0]<<8|m[e+2|0]<<16&4128768|m[0|e]}e=e+4096|0,_[u+8>>2]=e,e>>>0>1048575||((e=n+o|0)>>>0<n>>>0&&(r=r+1|0),_[t+16>>2]=e,_[t+20>>2]=r,d=1)}}return z=i+16|0,d}function Zi(e){var t,i,r=0,n=0,a=0;return a=0-m[e+12|0]|0,(n=_[e+8>>2])>>>0>4095||(0|(r=_[e+4>>2]))<1||(r=r+-1|0,_[e+4>>2]=r,n=m[r+_[e>>2]|0]|n<<8,_[e+8>>2]=n),r=g(a&=255,n>>>8),i=(t=255&n)>>>0<a>>>0,_[e+8>>2]=i?r+t|0:(n-a|0)-r|0,i}function Qi(e,t,i){var r,n=0,a=0,s=0,o=0,l=0;if(t){for(r=0-m[e+12|0]&255,a=_[e+8>>2];o=n<<1,a>>>0>4095||(0|(n=_[e+4>>2]))<1||(n=n+-1|0,_[e+4>>2]=n,a=m[n+_[e>>2]|0]|a<<8,_[e+8>>2]=a),n=(s=255&a)>>>0<r>>>0,l=s,s=g(a>>>8,r),a=n?l+s|0:(a-r|0)-s|0,_[e+8>>2]=a,n|=o,t=t+-1|0;);_[i>>2]=n}else _[i>>2]=0}function Ji(e,t){var i,r=0,n=0;z=i=z-16|0,_[i+12>>2]=t,t=Fa(32),_[i>>2]=t,_[i+4>>2]=24,_[i+8>>2]=-2147483616,l[t+24|0]=0,r=m[10986]|m[10987]<<8|m[10988]<<16|m[10989]<<24,n=m[10982]|m[10983]<<8|m[10984]<<16|m[10985]<<24,l[t+16|0]=n,l[t+17|0]=n>>>8,l[t+18|0]=n>>>16,l[t+19|0]=n>>>24,l[t+20|0]=r,l[t+21|0]=r>>>8,l[t+22|0]=r>>>16,l[t+23|0]=r>>>24,r=m[10978]|m[10979]<<8|m[10980]<<16|m[10981]<<24,n=m[10974]|m[10975]<<8|m[10976]<<16|m[10977]<<24,l[t+8|0]=n,l[t+9|0]=n>>>8,l[t+10|0]=n>>>16,l[t+11|0]=n>>>24,l[t+12|0]=r,l[t+13|0]=r>>>8,l[t+14|0]=r>>>16,l[t+15|0]=r>>>24,r=m[10970]|m[10971]<<8|m[10972]<<16|m[10973]<<24,n=m[10966]|m[10967]<<8|m[10968]<<16|m[10969]<<24,l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=r,l[t+5|0]=r>>>8,l[t+6|0]=r>>>16,l[t+7|0]=r>>>24,function(e,t){var i;z=i=z-48|0,function(e){var t,i=0;z=t=z-16|0,Aa(t),xa(t),ka(t,ga(t)),function(e,t){var i,r=0,n=0,a=0;z=i=z-16|0,r=ya(t);for(;;){e:{if(n=wa(t),_[i>>2]=1,a=t,(0|(n=va(n,r+1|0,i)))>=0){if(n>>>0<=r>>>0)break e;r=n}else r=r<<1|1;ka(a,r);continue}break}ka(t,n),r=_[t+4>>2],_[e>>2]=_[t>>2],_[e+4>>2]=r,_[e+8>>2]=_[t+8>>2],xa(t),z=i+16|0}(e,t),e=t,Sa(t)&&(i=_[e>>2],Ta(e),Ka(i));z=t+16|0}(i+8|0),_[i+32>>2]=t,function(e,t,i,r){var n,a,s,o=0;z=n=z-16|0,s=e,a=$i(t,n+12|0,i),(i=_[a>>2])?t=0:(Ua((i=Fa(40))+16|0,_[r>>2]),_[i+36>>2]=0,_[i+28>>2]=0,_[i+32>>2]=0,_[i+8>>2]=_[n+12>>2],_[i>>2]=0,_[i+4>>2]=0,_[a>>2]=i,r=i,(o=_[_[t>>2]>>2])&&(_[t>>2]=o,r=_[a>>2]),Ki(_[t+4>>2],r),_[(t=t+8|0)>>2]=_[t>>2]+1,t=1);l[s+4|0]=t,_[e>>2]=i,z=n+16|0}(i+40|0,e,t,i+32|0),e=_[i+40>>2],t=e+28|0;l[e+39|0]>=0?(l[t+11|0]=0,l[0|t]=0):(l[_[e+28>>2]]=0,_[e+32>>2]=0,l[e+39|0]>-1||(Ka(_[e+28>>2]),_[e+36>>2]=0));e=_[i+12>>2],_[t>>2]=_[i+8>>2],_[t+4>>2]=e,_[t+8>>2]=_[i+16>>2],z=i+48|0}(function(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0;z=i=z-32|0;e:{if(n=_[(a=e+16|0)>>2]){for(o=_[t>>2],r=a;s=_[n+16>>2]<(0|o),r=s?r:n,n=_[(s<<2)+n>>2];);if((0|r)!=(0|a)&&(0|o)>=_[r+16>>2])break e}if(o=sn(i+16|0),t=_[t>>2],_[(s=i+8|0)>>2]=0,_[s+4>>2]=0,_[i>>2]=t,_[i+4>>2]=s,(0|(r=_[o>>2]))!=(0|(l=o+4|0)))for(c=4|i;;){t=r,qi(c,s,n=r+16|0,n);t:if(n=_[r+4>>2])for(;n=_[(r=n)>>2];);else{if(r=_[t+8>>2],(0|t)==_[r>>2])break t;for(t=t+8|0;n=_[t>>2],t=n+8|0,r=_[n+8>>2],(0|n)!=_[r>>2];);}if((0|r)==(0|l))break}t:{if(n=_[(t=e+16|0)>>2])for(a=_[i>>2];;){r=_[n+16>>2];i:{if((0|a)<(0|r)){if(r=_[n>>2])break i;t=n;break t}if((0|r)>=(0|a))break t;if(t=n+4|0,!(r=_[n+4>>2]))break t;n=t}t=n,n=r}t=n=a}(r=_[t>>2])||(r=Fa(32),_[r+16>>2]=_[i>>2],_[r+20>>2]=_[i+4>>2],a=r+24|0,l=_[i+8>>2],_[a>>2]=l,c=_[i+12>>2],_[r+28>>2]=c,c?(_[l+8>>2]=a,_[i+8>>2]=0,_[i+12>>2]=0,_[i+4>>2]=s):_[r+20>>2]=a,_[r+8>>2]=n,_[r>>2]=0,_[r+4>>2]=0,_[t>>2]=r,a=_[_[e+12>>2]>>2],n=r,a&&(_[e+12>>2]=a,n=_[t>>2]),Ki(_[e+16>>2],n),_[(e=e+20|0)>>2]=_[e>>2]+1),Qe(4|i,_[i+8>>2]),Qe(o,_[o+4>>2])}return z=i+32|0,r+20|0}(e,i+12|0),i),l[i+11|0]<=-1&&Ka(_[i>>2]),z=i+16|0}function qi(e,t,i,r){var n;z=n=z-16|0,i=function(e,t,i,r,n){var a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,b=0;e:{t:{i:{r:{n:{a:if((0|(d=e+4|0))!=(0|t)){if(a=t+16|0,o=m[t+27|0],s=(0|(p=o<<24>>24))<0,l=m[n+11|0],f=(0|(c=l<<24>>24))<0,h=s?_[t+20>>2]:o,l=f?_[n+4>>2]:l,!((o=(u=h>>>0<l>>>0)?h:l)&&(f=f?_[n>>2]:n,s=s?_[a>>2]:a,b=ca(f,s,o)))){if(l>>>0<h>>>0)break a;if(!o)break r;f=(0|c)<0?_[n>>2]:n,s=(0|p)<0?_[a>>2]:a;break n}if((0|b)>-1)break n}o=_[t>>2];a:{s:if(_[e>>2]!=(0|t)){if(o)for(r=o;r=_[(a=r)+4>>2];);else for(r=t;a=_[r+8>>2],l=_[a>>2]==(0|r),r=a,l;);if(s=m[n+11|0],r=s<<24>>24<0,c=m[a+27|0],l=c<<24>>24<0,s=r?_[n+4>>2]:s,c=l?_[a+20>>2]:c,!((f=s>>>0<c>>>0?s:c)&&(h=a+16|0,r=ca(l?_[h>>2]:h,r?_[n>>2]:n,f)))){if(c>>>0<s>>>0)break s;break a}if((0|r)>-1)break a}else a=t;return o?(_[i>>2]=a,a+4|0):(_[i>>2]=t,t)}return $i(e,i,n)}if(a=ca(s,f,o))break i}if(u)break t;break e}if((0|a)>-1)break e}if(o=_[(f=t+4|0)>>2])for(a=o;r=a,a=_[a>>2];);else if(r=_[t+8>>2],_[r>>2]!=(0|t))for(a=t+8|0;s=_[a>>2],a=s+8|0,r=_[s+8>>2],(0|s)!=_[r>>2];);t:{i:if((0|r)!=(0|d)){if(s=m[r+27|0],s=(a=s<<24>>24<0)?_[r+20>>2]:s,!((h=s>>>0<l>>>0?s:l)&&(u=(0|c)<0?_[n>>2]:n,c=r+16|0,a=ca(u,a?_[c>>2]:c,h)))){if(l>>>0<s>>>0)break i;break t}if((0|a)>-1)break t}return o?(_[i>>2]=r,r):(_[i>>2]=t,f)}return $i(e,i,n)}return _[i>>2]=t,_[r>>2]=t,r}(e,t,n+12|0,n+8|0,i),_[i>>2]||(Ua((t=Fa(40))+16|0,r),Ua(t+28|0,r+12|0),_[t+8>>2]=_[n+12>>2],_[t>>2]=0,_[t+4>>2]=0,_[i>>2]=t,r=t,(t=_[_[e>>2]>>2])&&(_[e>>2]=t,r=_[i>>2]),Ki(_[e+4>>2],r),_[(e=e+8|0)>>2]=_[e>>2]+1),z=n+16|0}function Ki(e,t){var i=0,r=0,n=0;i=(0|e)==(0|t),l[t+12|0]=i;e:if(!i)for(;;){if(r=_[t+8>>2],m[r+12|0])break e;t:{if(i=_[r+8>>2],(0|(n=_[i>>2]))==(0|r)){if(!(!(n=_[i+4>>2])|m[n+12|0]))break t;return _[r>>2]!=(0|t)?(t=_[r+4>>2],n=_[t>>2],_[r+4>>2]=n,e=t,n&&(_[n+8>>2]=r,i=_[r+8>>2]),_[e+8>>2]=i,e=_[r+8>>2],_[((0|r)==_[e>>2]?e:e+4|0)>>2]=t,_[t>>2]=r,_[r+8>>2]=t,i=_[t+8>>2]):t=r,l[t+12|0]=1,l[i+12|0]=0,e=_[i>>2],t=_[e+4>>2],_[i>>2]=t,t&&(_[t+8>>2]=i),_[e+8>>2]=_[i+8>>2],t=_[i+8>>2],_[(_[t>>2]==(0|i)?t:t+4|0)>>2]=e,_[e+4>>2]=i,void(_[i+8>>2]=e)}if(m[n+12|0]|!n){_[r>>2]==(0|t)?(n=_[t+4>>2],_[r>>2]=n,e=t,n&&(_[n+8>>2]=r,i=_[r+8>>2]),_[e+8>>2]=i,e=_[r+8>>2],_[((0|r)==_[e>>2]?e:e+4|0)>>2]=t,_[t+4>>2]=r,_[r+8>>2]=t,i=_[t+8>>2]):t=r,l[t+12|0]=1,l[i+12|0]=0,e=_[i+4>>2],t=_[e>>2],_[i+4>>2]=t,t&&(_[t+8>>2]=i),_[e+8>>2]=_[i+8>>2],t=_[i+8>>2],_[(_[t>>2]==(0|i)?t:t+4|0)>>2]=e,_[e>>2]=i,_[i+8>>2]=e;break e}}if(t=n+12|0,l[r+12|0]=1,l[i+12|0]=(0|e)==(0|i),l[0|t]=1,(0|(t=i))==(0|e))break}}function $i(e,t,i){var r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0;e:{if(e=_[(r=e+4|0)>>2])for(a=(s=(a=m[i+11|0])<<24>>24<0)?_[i+4>>2]:a,c=s?_[i>>2]:i;;){i=e+16|0;t:{i:{r:{n:{a:{s:{if(!(n=(f=(o=(s=(n=m[e+27|0])<<24>>24<0)?_[e+20>>2]:n)>>>0<a>>>0)?o:a)||!(h=ca(c,l=s?_[i>>2]:i,n))){if(a>>>0<o>>>0)break s;if(!n)break n;l=s?_[i>>2]:i;break a}if((0|h)>-1)break a}if(i=_[e>>2])break t;return _[t>>2]=e,e}if(i=ca(l,c,n))break r}if(f)break i;break e}if((0|i)>-1)break e}if(r=e+4|0,!(i=_[e+4>>2]))break e;e=r}r=e,e=i}return _[t>>2]=r,r}return _[t>>2]=e,r}function er(e,t,i,r){var n,a=0,s=0,o=0,l=0;if(!e)return 1;if(a=_[i+16>>2],!((0|(n=_[i+12>>2]))<(0|(s=o=_[i+20>>2]))||(0|n)<=(0|s)&&!(A[i+8>>2]>a>>>0))&&(s=m[a+_[i>>2]|0],(a=a+1|0)>>>0<1&&(o=o+1|0),_[i+16>>2]=a,_[i+20>>2]=o,!(s>>>0>1))){if(s-1)return function(e,t,i,r){var n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,b=0,A=0,v=0,y=0,k=0;z=n=z+-64|0,_[n+56>>2]=0,_[n+48>>2]=0,_[n+52>>2]=0,_[n+40>>2]=0,_[n+44>>2]=0,_[n+32>>2]=0,_[n+36>>2]=0,_[n+24>>2]=0,_[n+28>>2]=0,_[n+16>>2]=0,_[n+20>>2]=0,_[n+8>>2]=0,_[n+12>>2]=0;e:if(tr(n+8|0,i)&&!(!ir(n+8|0,i)|(_[n+20>>2]?0:e))){if(rn(i,0,0),e)for(o=_[n+56>>2],b=_[n+36>>2],A=_[n+48>>2],v=_[n+24>>2];;){t:if(!(o>>>0>16383))for(a=_[n+52>>2];;){if((0|a)<1)break t;if(a=a+-1|0,_[n+52>>2]=a,o=m[a+A|0]|o<<8,_[n+56>>2]=o,!(o>>>0<16384))break}if(d=_[((s=4095&o)<<2)+v>>2],o=(g(_[(l=(d<<3)+b|0)>>2],o>>>12)+s|0)-_[l+4>>2]|0,_[n+56>>2]=o,(0|t)>=1){if(!m[i+36|0]){s=0;break e}for(l=t+c|0;;){if((0|d)<1)h=0;else for(s=_[i+32>>2],y=_[i+28>>2],k=_[i+24>>2],a=0,h=0;(f=(s>>>3)+k|0)>>>0>=y>>>0?u=0:(u=m[0|f],f=s+1|0,_[i+32>>2]=f,u=u>>>(7&s)&1,s=f),h|=u<<a,(0|d)!=(0|(a=a+1|0)););if(_[(c<<2)+r>>2]=h,(0|l)==(0|(c=c+1|0)))break}c=l}if(!((p=t+p|0)>>>0<e>>>0))break}nn(i),s=1}(e=_[n+36>>2])&&(_[n+40>>2]=e,Ka(e));(e=_[n+24>>2])&&(_[n+28>>2]=e,Ka(e));(e=_[n+8>>2])&&(_[n+12>>2]=e,Ka(e));return z=n- -64|0,s}(e,t,i,r);l=function(e,t,i){var r=0,n=0,a=0,s=0;e:{t:{if(n=_[t+16>>2],a=_[t+12>>2],r=_[t+20>>2],!((0|a)<(0|r)||(0|a)<=(0|r)&&!(A[t+8>>2]>n>>>0))&&(a=m[n+_[t>>2]|0],(n=n+1|0)>>>0<1&&(r=r+1|0),_[t+16>>2]=n,_[t+20>>2]=r,!((r=a+-1|0)>>>0>17))){i:{r:switch(r-1|0){case 7:return function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0;z=r=z+-64|0,_[r+56>>2]=0,_[r+48>>2]=0,_[r+52>>2]=0,_[r+40>>2]=0,_[r+44>>2]=0,_[r+32>>2]=0,_[r+36>>2]=0,_[r+24>>2]=0,_[r+28>>2]=0,_[r+16>>2]=0,_[r+20>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0;if(!(!function(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0;n:if(i=b[t+38>>1]){if(l=e+12|0,i>>>0<=511){if(r=_[t+12>>2],i=_[t+20>>2],n=_[t+16>>2],(s=n+4|0)>>>0<4&&(i=i+1|0),(0|r)<(0|i)||(0|r)<=(0|i)&&!(A[t+8>>2]>=s>>>0))break n;i=n+_[t>>2]|0,n=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[l>>2]=n,r=_[t+20>>2],(s=_[t+16>>2]+4|0)>>>0<4&&(r=r+1|0),_[(i=t)+16>>2]=s,_[i+20>>2]=r}else{if(!nr(1,l,t))break n;n=_[l>>2]}if(r=_[e>>2],i=_[e+4>>2]-r>>2,n>>>0>i>>>0?(de(e,n-i|0),n=_[e+12>>2]):n>>>0>=i>>>0||(_[e+4>>2]=r+(n<<2)),n){for(u=_[t+8>>2],s=_[t+12>>2];;){if(a=_[t+16>>2],i=_[t+20>>2],(0|s)<(0|i)||(0|s)<=(0|i)&&!(u>>>0>a>>>0))break n;d=_[t>>2],c=m[d+a|0],(a=a+1|0)>>>0<1&&(i=i+1|0),_[t+16>>2]=a,_[t+20>>2]=i,f=c>>>2;a:{s:{o:{if(!((h=3&c)>>>0>3)){r=0;l:switch(h-1|0){case 0:case 1:break o;case 2:break l;default:break s}if((i=o+f|0)>>>0>=n>>>0)return 0;ts(_[e>>2]+(o<<2)|0,0,4+(252&c)|0),o=i;break a}r=0}for(;;){if((0|s)<(0|i)||(0|s)<=(0|i)&&!(u>>>0>a>>>0))return 0;if(c=m[a+d|0],(a=a+1|0)>>>0<1&&(i=i+1|0),_[t+16>>2]=a,_[t+20>>2]=i,f|=c<<(r<<3|6),(0|h)==(0|(r=r+1|0)))break}}_[_[e>>2]+(o<<2)>>2]=f}if(o=o+1|0,n=_[l>>2],!(o>>>0<n>>>0))break}if(o=e+16|0,l=_[e>>2],t=_[e+16>>2],i=_[e+20>>2]-t|0,(r=i>>2)>>>0<=8191?de(o,8192-r|0):32768!=(0|i)&&(_[e+20>>2]=t+32768),i=_[(t=e+28|0)>>2],r=_[e+32>>2]-i>>3,n>>>0>r>>>0)ar(t,n-r|0),i=_[t>>2];else if(n>>>0<r>>>0&&(_[e+32>>2]=(n<<3)+i),!n)return 0;for(t=0,r=0;;){if(s=_[(e=l+(t<<2)|0)>>2],_[(a=(t<<3)+i|0)+4>>2]=r,_[a>>2]=s,(e=_[e>>2]+r|0)>>>0>8192)break n;if(r>>>0<e>>>0)for(s=_[o>>2];_[s+(r<<2)>>2]=t,(0|e)!=(0|(r=r+1|0)););if(r=e,(0|n)==(0|(t=t+1|0)))break}return 8192==(0|e)}p=1}return p}(r+8|0,t)|(_[r+20>>2]?0:e))&&(n=function(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;z=i=z-16|0;n:{if(b[t+38>>1]<=511){if(n=_[t+12>>2],c=n,r=_[t+20>>2],a=_[t+16>>2],(s=a+8|0)>>>0<8&&(r=r+1|0),o=_[t+8>>2],(0|n)<(0|r)||(0|n)<=(0|r)&&!(o>>>0>=s>>>0))break n;n=a+_[t>>2]|0,a=m[n+4|0]|m[n+5|0]<<8|m[n+6|0]<<16|m[n+7|0]<<24,n=m[0|n]|m[n+1|0]<<8|m[n+2|0]<<16|m[n+3|0]<<24,_[i+8>>2]=n,_[i+12>>2]=a,_[t+16>>2]=s,_[t+20>>2]=r}else{if(!sr(1,i+8|0,t))break n;s=_[t+16>>2],r=_[t+20>>2],o=_[t+8>>2],c=_[t+12>>2],n=_[i+8>>2],a=_[i+12>>2]}if(l=o-s|0,!((0|(o=c-(r+(o>>>0<s>>>0)|0)|0))==(0|a)&n>>>0>l>>>0|a>>>0>o>>>0)&&(a=r+a|0,(l=(r=s)+n|0)>>>0<r>>>0&&(a=a+1|0),_[t+16>>2]=l,_[t+20>>2]=a,!((0|(r=n))<1))){s=s+_[t>>2]|0,_[e+40>>2]=s,t=e;a:{s:{o:{l:{c:switch((m[0|(a=s+(n=r+-1|0)|0)]>>>6)-1|0){case 2:break s;case 1:break o;case 0:break l;default:break c}_[e+44>>2]=n,e=63&m[0|a];break a}if((0|r)<2)break n;_[e+44>>2]=r+-2,e=m[(e=(r+s|0)-2|0)+1|0]<<8&16128|m[0|e];break a}if((0|r)<3)break n;_[e+44>>2]=r+-3,e=m[(e=(r+s|0)-3|0)+1|0]<<8|m[e+2|0]<<16&4128768|m[0|e];break a}_[e+44>>2]=r+-4,e=m[(e=(r+s|0)-4|0)+2|0]<<16|m[e+3|0]<<24&1056964608|m[e+1|0]<<8|m[0|e]}e=e+32768|0,_[t+48>>2]=e,f=e>>>0<8388608}}return z=i+16|0,f}(r+8|0,t),!(!e|!n)))for(t=_[r+56>>2],l=_[r+36>>2],c=_[r+48>>2],f=_[r+24>>2];;){n:if(!(t>>>0>32767))for(n=_[r+52>>2];;){if((0|n)<1)break n;if(n=n+-1|0,_[r+52>>2]=n,t=m[n+c|0]|t<<8,_[r+56>>2]=t,!(t>>>0<32768))break}if(s=_[((n=8191&t)<<2)+f>>2],t=(g(_[(o=(s<<3)+l|0)>>2],t>>>13)+n|0)-_[o+4>>2]|0,_[r+56>>2]=t,_[(a<<2)+i>>2]=s,n=1,(0|(a=a+1|0))==(0|e))break}(e=_[r+36>>2])&&(_[r+40>>2]=e,Ka(e));(e=_[r+24>>2])&&(_[r+28>>2]=e,Ka(e));(e=_[r+8>>2])&&(_[r+12>>2]=e,Ka(e));return z=r- -64|0,n}(e,t,i);case 8:return function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0;z=r=z+-64|0,_[r+56>>2]=0,_[r+48>>2]=0,_[r+52>>2]=0,_[r+40>>2]=0,_[r+44>>2]=0,_[r+32>>2]=0,_[r+36>>2]=0,_[r+24>>2]=0,_[r+28>>2]=0,_[r+16>>2]=0,_[r+20>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0;if(!(!function(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0;n:if(i=b[t+38>>1]){if(l=e+12|0,i>>>0<=511){if(r=_[t+12>>2],i=_[t+20>>2],n=_[t+16>>2],(s=n+4|0)>>>0<4&&(i=i+1|0),(0|r)<(0|i)||(0|r)<=(0|i)&&!(A[t+8>>2]>=s>>>0))break n;i=n+_[t>>2]|0,n=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[l>>2]=n,r=_[t+20>>2],(s=_[t+16>>2]+4|0)>>>0<4&&(r=r+1|0),_[(i=t)+16>>2]=s,_[i+20>>2]=r}else{if(!nr(1,l,t))break n;n=_[l>>2]}if(r=_[e>>2],i=_[e+4>>2]-r>>2,n>>>0>i>>>0?(de(e,n-i|0),n=_[e+12>>2]):n>>>0>=i>>>0||(_[e+4>>2]=r+(n<<2)),n){for(u=_[t+8>>2],s=_[t+12>>2];;){if(a=_[t+16>>2],i=_[t+20>>2],(0|s)<(0|i)||(0|s)<=(0|i)&&!(u>>>0>a>>>0))break n;d=_[t>>2],c=m[d+a|0],(a=a+1|0)>>>0<1&&(i=i+1|0),_[t+16>>2]=a,_[t+20>>2]=i,f=c>>>2;a:{s:{o:{if(!((h=3&c)>>>0>3)){r=0;l:switch(h-1|0){case 0:case 1:break o;case 2:break l;default:break s}if((i=o+f|0)>>>0>=n>>>0)return 0;ts(_[e>>2]+(o<<2)|0,0,4+(252&c)|0),o=i;break a}r=0}for(;;){if((0|s)<(0|i)||(0|s)<=(0|i)&&!(u>>>0>a>>>0))return 0;if(c=m[a+d|0],(a=a+1|0)>>>0<1&&(i=i+1|0),_[t+16>>2]=a,_[t+20>>2]=i,f|=c<<(r<<3|6),(0|h)==(0|(r=r+1|0)))break}}_[_[e>>2]+(o<<2)>>2]=f}if(o=o+1|0,n=_[l>>2],!(o>>>0<n>>>0))break}if(o=e+16|0,l=_[e>>2],t=_[e+16>>2],i=_[e+20>>2]-t|0,(r=i>>2)>>>0<=32767?de(o,32768-r|0):131072!=(0|i)&&(_[e+20>>2]=t+131072),i=_[(t=e+28|0)>>2],r=_[e+32>>2]-i>>3,n>>>0>r>>>0)ar(t,n-r|0),i=_[t>>2];else if(n>>>0<r>>>0&&(_[e+32>>2]=(n<<3)+i),!n)return 0;for(t=0,r=0;;){if(s=_[(e=l+(t<<2)|0)>>2],_[(a=(t<<3)+i|0)+4>>2]=r,_[a>>2]=s,(e=_[e>>2]+r|0)>>>0>32768)break n;if(r>>>0<e>>>0)for(s=_[o>>2];_[s+(r<<2)>>2]=t,(0|e)!=(0|(r=r+1|0)););if(r=e,(0|n)==(0|(t=t+1|0)))break}return 32768==(0|e)}p=1}return p}(r+8|0,t)|(_[r+20>>2]?0:e))&&(n=function(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;z=i=z-16|0;n:{if(b[t+38>>1]<=511){if(n=_[t+12>>2],c=n,r=_[t+20>>2],a=_[t+16>>2],(s=a+8|0)>>>0<8&&(r=r+1|0),o=_[t+8>>2],(0|n)<(0|r)||(0|n)<=(0|r)&&!(o>>>0>=s>>>0))break n;n=a+_[t>>2]|0,a=m[n+4|0]|m[n+5|0]<<8|m[n+6|0]<<16|m[n+7|0]<<24,n=m[0|n]|m[n+1|0]<<8|m[n+2|0]<<16|m[n+3|0]<<24,_[i+8>>2]=n,_[i+12>>2]=a,_[t+16>>2]=s,_[t+20>>2]=r}else{if(!sr(1,i+8|0,t))break n;s=_[t+16>>2],r=_[t+20>>2],o=_[t+8>>2],c=_[t+12>>2],n=_[i+8>>2],a=_[i+12>>2]}if(l=o-s|0,!((0|(o=c-(r+(o>>>0<s>>>0)|0)|0))==(0|a)&n>>>0>l>>>0|a>>>0>o>>>0)&&(a=r+a|0,(l=(r=s)+n|0)>>>0<r>>>0&&(a=a+1|0),_[t+16>>2]=l,_[t+20>>2]=a,!((0|(r=n))<1))){s=s+_[t>>2]|0,_[e+40>>2]=s,t=e;a:{s:{o:{l:{c:switch((m[0|(a=s+(n=r+-1|0)|0)]>>>6)-1|0){case 2:break s;case 1:break o;case 0:break l;default:break c}_[e+44>>2]=n,e=63&m[0|a];break a}if((0|r)<2)break n;_[e+44>>2]=r+-2,e=m[(e=(r+s|0)-2|0)+1|0]<<8&16128|m[0|e];break a}if((0|r)<3)break n;_[e+44>>2]=r+-3,e=m[(e=(r+s|0)-3|0)+1|0]<<8|m[e+2|0]<<16&4128768|m[0|e];break a}_[e+44>>2]=r+-4,e=m[(e=(r+s|0)-4|0)+2|0]<<16|m[e+3|0]<<24&1056964608|m[e+1|0]<<8|m[0|e]}e=e+131072|0,_[t+48>>2]=e,f=e>>>0<33554432}}return z=i+16|0,f}(r+8|0,t),!(!e|!n)))for(t=_[r+56>>2],l=_[r+36>>2],c=_[r+48>>2],f=_[r+24>>2];;){n:if(!(t>>>0>131071))for(n=_[r+52>>2];;){if((0|n)<1)break n;if(n=n+-1|0,_[r+52>>2]=n,t=m[n+c|0]|t<<8,_[r+56>>2]=t,!(t>>>0<131072))break}if(s=_[((n=32767&t)<<2)+f>>2],t=(g(_[(o=(s<<3)+l|0)>>2],t>>>15)+n|0)-_[o+4>>2]|0,_[r+56>>2]=t,_[(a<<2)+i>>2]=s,n=1,(0|(a=a+1|0))==(0|e))break}(e=_[r+36>>2])&&(_[r+40>>2]=e,Ka(e));(e=_[r+24>>2])&&(_[r+28>>2]=e,Ka(e));(e=_[r+8>>2])&&(_[r+12>>2]=e,Ka(e));return z=r- -64|0,n}(e,t,i);case 9:return function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0;z=r=z+-64|0,_[r+56>>2]=0,_[r+48>>2]=0,_[r+52>>2]=0,_[r+40>>2]=0,_[r+44>>2]=0,_[r+32>>2]=0,_[r+36>>2]=0,_[r+24>>2]=0,_[r+28>>2]=0,_[r+16>>2]=0,_[r+20>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0;if(!(!function(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0;n:if(i=b[t+38>>1]){if(l=e+12|0,i>>>0<=511){if(r=_[t+12>>2],i=_[t+20>>2],n=_[t+16>>2],(s=n+4|0)>>>0<4&&(i=i+1|0),(0|r)<(0|i)||(0|r)<=(0|i)&&!(A[t+8>>2]>=s>>>0))break n;i=n+_[t>>2]|0,n=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[l>>2]=n,r=_[t+20>>2],(s=_[t+16>>2]+4|0)>>>0<4&&(r=r+1|0),_[(i=t)+16>>2]=s,_[i+20>>2]=r}else{if(!nr(1,l,t))break n;n=_[l>>2]}if(r=_[e>>2],i=_[e+4>>2]-r>>2,n>>>0>i>>>0?(de(e,n-i|0),n=_[e+12>>2]):n>>>0>=i>>>0||(_[e+4>>2]=r+(n<<2)),n){for(u=_[t+8>>2],s=_[t+12>>2];;){if(a=_[t+16>>2],i=_[t+20>>2],(0|s)<(0|i)||(0|s)<=(0|i)&&!(u>>>0>a>>>0))break n;d=_[t>>2],c=m[d+a|0],(a=a+1|0)>>>0<1&&(i=i+1|0),_[t+16>>2]=a,_[t+20>>2]=i,f=c>>>2;a:{s:{o:{if(!((h=3&c)>>>0>3)){r=0;l:switch(h-1|0){case 0:case 1:break o;case 2:break l;default:break s}if((i=o+f|0)>>>0>=n>>>0)return 0;ts(_[e>>2]+(o<<2)|0,0,4+(252&c)|0),o=i;break a}r=0}for(;;){if((0|s)<(0|i)||(0|s)<=(0|i)&&!(u>>>0>a>>>0))return 0;if(c=m[a+d|0],(a=a+1|0)>>>0<1&&(i=i+1|0),_[t+16>>2]=a,_[t+20>>2]=i,f|=c<<(r<<3|6),(0|h)==(0|(r=r+1|0)))break}}_[_[e>>2]+(o<<2)>>2]=f}if(o=o+1|0,n=_[l>>2],!(o>>>0<n>>>0))break}if(o=e+16|0,l=_[e>>2],t=_[e+16>>2],i=_[e+20>>2]-t|0,(r=i>>2)>>>0<=65535?de(o,65536-r|0):262144!=(0|i)&&(_[e+20>>2]=t+262144),i=_[(t=e+28|0)>>2],r=_[e+32>>2]-i>>3,n>>>0>r>>>0)ar(t,n-r|0),i=_[t>>2];else if(n>>>0<r>>>0&&(_[e+32>>2]=(n<<3)+i),!n)return 0;for(t=0,r=0;;){if(s=_[(e=l+(t<<2)|0)>>2],_[(a=(t<<3)+i|0)+4>>2]=r,_[a>>2]=s,(e=_[e>>2]+r|0)>>>0>65536)break n;if(r>>>0<e>>>0)for(s=_[o>>2];_[s+(r<<2)>>2]=t,(0|e)!=(0|(r=r+1|0)););if(r=e,(0|n)==(0|(t=t+1|0)))break}return 65536==(0|e)}p=1}return p}(r+8|0,t)|(_[r+20>>2]?0:e))&&(n=function(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;z=i=z-16|0;n:{if(b[t+38>>1]<=511){if(n=_[t+12>>2],c=n,r=_[t+20>>2],a=_[t+16>>2],(s=a+8|0)>>>0<8&&(r=r+1|0),o=_[t+8>>2],(0|n)<(0|r)||(0|n)<=(0|r)&&!(o>>>0>=s>>>0))break n;n=a+_[t>>2]|0,a=m[n+4|0]|m[n+5|0]<<8|m[n+6|0]<<16|m[n+7|0]<<24,n=m[0|n]|m[n+1|0]<<8|m[n+2|0]<<16|m[n+3|0]<<24,_[i+8>>2]=n,_[i+12>>2]=a,_[t+16>>2]=s,_[t+20>>2]=r}else{if(!sr(1,i+8|0,t))break n;s=_[t+16>>2],r=_[t+20>>2],o=_[t+8>>2],c=_[t+12>>2],n=_[i+8>>2],a=_[i+12>>2]}if(l=o-s|0,!((0|(o=c-(r+(o>>>0<s>>>0)|0)|0))==(0|a)&n>>>0>l>>>0|a>>>0>o>>>0)&&(a=r+a|0,(l=(r=s)+n|0)>>>0<r>>>0&&(a=a+1|0),_[t+16>>2]=l,_[t+20>>2]=a,!((0|(r=n))<1))){s=s+_[t>>2]|0,_[e+40>>2]=s,t=e;a:{s:{o:{l:{c:switch((m[0|(a=s+(n=r+-1|0)|0)]>>>6)-1|0){case 2:break s;case 1:break o;case 0:break l;default:break c}_[e+44>>2]=n,e=63&m[0|a];break a}if((0|r)<2)break n;_[e+44>>2]=r+-2,e=m[(e=(r+s|0)-2|0)+1|0]<<8&16128|m[0|e];break a}if((0|r)<3)break n;_[e+44>>2]=r+-3,e=m[(e=(r+s|0)-3|0)+1|0]<<8|m[e+2|0]<<16&4128768|m[0|e];break a}_[e+44>>2]=r+-4,e=m[(e=(r+s|0)-4|0)+2|0]<<16|m[e+3|0]<<24&1056964608|m[e+1|0]<<8|m[0|e]}e=e+262144|0,_[t+48>>2]=e,f=e>>>0<67108864}}return z=i+16|0,f}(r+8|0,t),!(!e|!n)))for(t=_[r+56>>2],l=_[r+36>>2],c=_[r+48>>2],f=_[r+24>>2];;){n:if(!(t>>>0>262143))for(n=_[r+52>>2];;){if((0|n)<1)break n;if(n=n+-1|0,_[r+52>>2]=n,t=m[n+c|0]|t<<8,_[r+56>>2]=t,!(t>>>0<262144))break}if(s=_[((n=65535&t)<<2)+f>>2],t=(g(_[(o=(s<<3)+l|0)>>2],t>>>16)+n|0)-_[o+4>>2]|0,_[r+56>>2]=t,_[(a<<2)+i>>2]=s,n=1,(0|(a=a+1|0))==(0|e))break}(e=_[r+36>>2])&&(_[r+40>>2]=e,Ka(e));(e=_[r+24>>2])&&(_[r+28>>2]=e,Ka(e));(e=_[r+8>>2])&&(_[r+12>>2]=e,Ka(e));return z=r- -64|0,n}(e,t,i);case 10:return function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0;z=r=z+-64|0,_[r+56>>2]=0,_[r+48>>2]=0,_[r+52>>2]=0,_[r+40>>2]=0,_[r+44>>2]=0,_[r+32>>2]=0,_[r+36>>2]=0,_[r+24>>2]=0,_[r+28>>2]=0,_[r+16>>2]=0,_[r+20>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0;if(!(!function(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0;n:if(i=b[t+38>>1]){if(l=e+12|0,i>>>0<=511){if(r=_[t+12>>2],i=_[t+20>>2],n=_[t+16>>2],(s=n+4|0)>>>0<4&&(i=i+1|0),(0|r)<(0|i)||(0|r)<=(0|i)&&!(A[t+8>>2]>=s>>>0))break n;i=n+_[t>>2]|0,n=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[l>>2]=n,r=_[t+20>>2],(s=_[t+16>>2]+4|0)>>>0<4&&(r=r+1|0),_[(i=t)+16>>2]=s,_[i+20>>2]=r}else{if(!nr(1,l,t))break n;n=_[l>>2]}if(r=_[e>>2],i=_[e+4>>2]-r>>2,n>>>0>i>>>0?(de(e,n-i|0),n=_[e+12>>2]):n>>>0>=i>>>0||(_[e+4>>2]=r+(n<<2)),n){for(u=_[t+8>>2],s=_[t+12>>2];;){if(a=_[t+16>>2],i=_[t+20>>2],(0|s)<(0|i)||(0|s)<=(0|i)&&!(u>>>0>a>>>0))break n;d=_[t>>2],c=m[d+a|0],(a=a+1|0)>>>0<1&&(i=i+1|0),_[t+16>>2]=a,_[t+20>>2]=i,f=c>>>2;a:{s:{o:{if(!((h=3&c)>>>0>3)){r=0;l:switch(h-1|0){case 0:case 1:break o;case 2:break l;default:break s}if((i=o+f|0)>>>0>=n>>>0)return 0;ts(_[e>>2]+(o<<2)|0,0,4+(252&c)|0),o=i;break a}r=0}for(;;){if((0|s)<(0|i)||(0|s)<=(0|i)&&!(u>>>0>a>>>0))return 0;if(c=m[a+d|0],(a=a+1|0)>>>0<1&&(i=i+1|0),_[t+16>>2]=a,_[t+20>>2]=i,f|=c<<(r<<3|6),(0|h)==(0|(r=r+1|0)))break}}_[_[e>>2]+(o<<2)>>2]=f}if(o=o+1|0,n=_[l>>2],!(o>>>0<n>>>0))break}if(o=e+16|0,l=_[e>>2],t=_[e+16>>2],i=_[e+20>>2]-t|0,(r=i>>2)>>>0<=262143?de(o,262144-r|0):1048576!=(0|i)&&(_[e+20>>2]=t- -1048576),i=_[(t=e+28|0)>>2],r=_[e+32>>2]-i>>3,n>>>0>r>>>0)ar(t,n-r|0),i=_[t>>2];else if(n>>>0<r>>>0&&(_[e+32>>2]=(n<<3)+i),!n)return 0;for(t=0,r=0;;){if(s=_[(e=l+(t<<2)|0)>>2],_[(a=(t<<3)+i|0)+4>>2]=r,_[a>>2]=s,(e=_[e>>2]+r|0)>>>0>262144)break n;if(r>>>0<e>>>0)for(s=_[o>>2];_[s+(r<<2)>>2]=t,(0|e)!=(0|(r=r+1|0)););if(r=e,(0|n)==(0|(t=t+1|0)))break}return 262144==(0|e)}p=1}return p}(r+8|0,t)|(_[r+20>>2]?0:e))&&(n=function(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;z=i=z-16|0;n:{if(b[t+38>>1]<=511){if(n=_[t+12>>2],c=n,r=_[t+20>>2],a=_[t+16>>2],(s=a+8|0)>>>0<8&&(r=r+1|0),o=_[t+8>>2],(0|n)<(0|r)||(0|n)<=(0|r)&&!(o>>>0>=s>>>0))break n;n=a+_[t>>2]|0,a=m[n+4|0]|m[n+5|0]<<8|m[n+6|0]<<16|m[n+7|0]<<24,n=m[0|n]|m[n+1|0]<<8|m[n+2|0]<<16|m[n+3|0]<<24,_[i+8>>2]=n,_[i+12>>2]=a,_[t+16>>2]=s,_[t+20>>2]=r}else{if(!sr(1,i+8|0,t))break n;s=_[t+16>>2],r=_[t+20>>2],o=_[t+8>>2],c=_[t+12>>2],n=_[i+8>>2],a=_[i+12>>2]}if(l=o-s|0,!((0|(o=c-(r+(o>>>0<s>>>0)|0)|0))==(0|a)&n>>>0>l>>>0|a>>>0>o>>>0)&&(a=r+a|0,(l=(r=s)+n|0)>>>0<r>>>0&&(a=a+1|0),_[t+16>>2]=l,_[t+20>>2]=a,!((0|(r=n))<1))){s=s+_[t>>2]|0,_[e+40>>2]=s,t=e;a:{s:{o:{l:{c:switch((m[0|(a=s+(n=r+-1|0)|0)]>>>6)-1|0){case 2:break s;case 1:break o;case 0:break l;default:break c}_[e+44>>2]=n,e=63&m[0|a];break a}if((0|r)<2)break n;_[e+44>>2]=r+-2,e=m[(e=(r+s|0)-2|0)+1|0]<<8&16128|m[0|e];break a}if((0|r)<3)break n;_[e+44>>2]=r+-3,e=m[(e=(r+s|0)-3|0)+1|0]<<8|m[e+2|0]<<16&4128768|m[0|e];break a}_[e+44>>2]=r+-4,e=m[(e=(r+s|0)-4|0)+2|0]<<16|m[e+3|0]<<24&1056964608|m[e+1|0]<<8|m[0|e]}e=e- -1048576|0,_[t+48>>2]=e,f=e>>>0<268435456}}return z=i+16|0,f}(r+8|0,t),!(!e|!n)))for(t=_[r+56>>2],l=_[r+36>>2],c=_[r+48>>2],f=_[r+24>>2];;){n:if(!(t>>>0>1048575))for(n=_[r+52>>2];;){if((0|n)<1)break n;if(n=n+-1|0,_[r+52>>2]=n,t=m[n+c|0]|t<<8,_[r+56>>2]=t,!(t>>>0<1048576))break}if(s=_[((n=262143&t)<<2)+f>>2],t=(g(_[(o=(s<<3)+l|0)>>2],t>>>18)+n|0)-_[o+4>>2]|0,_[r+56>>2]=t,_[(a<<2)+i>>2]=s,n=1,(0|(a=a+1|0))==(0|e))break}(e=_[r+36>>2])&&(_[r+40>>2]=e,Ka(e));(e=_[r+24>>2])&&(_[r+28>>2]=e,Ka(e));(e=_[r+8>>2])&&(_[r+12>>2]=e,Ka(e));return z=r- -64|0,n}(e,t,i);case 12:case 13:case 14:case 15:break e;case 16:break i;case 11:break r;default:break t}return function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0;z=r=z+-64|0,_[r+56>>2]=0,_[r+48>>2]=0,_[r+52>>2]=0,_[r+40>>2]=0,_[r+44>>2]=0,_[r+32>>2]=0,_[r+36>>2]=0,_[r+24>>2]=0,_[r+28>>2]=0,_[r+16>>2]=0,_[r+20>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0;if(!(!function(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0;r:if(i=b[t+38>>1]){if(l=e+12|0,i>>>0<=511){if(r=_[t+12>>2],i=_[t+20>>2],n=_[t+16>>2],(s=n+4|0)>>>0<4&&(i=i+1|0),(0|r)<(0|i)||(0|r)<=(0|i)&&!(A[t+8>>2]>=s>>>0))break r;i=n+_[t>>2]|0,n=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[l>>2]=n,r=_[t+20>>2],(s=_[t+16>>2]+4|0)>>>0<4&&(r=r+1|0),_[(i=t)+16>>2]=s,_[i+20>>2]=r}else{if(!nr(1,l,t))break r;n=_[l>>2]}if(r=_[e>>2],i=_[e+4>>2]-r>>2,n>>>0>i>>>0?(de(e,n-i|0),n=_[e+12>>2]):n>>>0>=i>>>0||(_[e+4>>2]=r+(n<<2)),n){for(u=_[t+8>>2],s=_[t+12>>2];;){if(a=_[t+16>>2],i=_[t+20>>2],(0|s)<(0|i)||(0|s)<=(0|i)&&!(u>>>0>a>>>0))break r;d=_[t>>2],c=m[d+a|0],(a=a+1|0)>>>0<1&&(i=i+1|0),_[t+16>>2]=a,_[t+20>>2]=i,f=c>>>2;n:{a:{s:{if(!((h=3&c)>>>0>3)){r=0;o:switch(h-1|0){case 0:case 1:break s;case 2:break o;default:break a}if((i=o+f|0)>>>0>=n>>>0)return 0;ts(_[e>>2]+(o<<2)|0,0,4+(252&c)|0),o=i;break n}r=0}for(;;){if((0|s)<(0|i)||(0|s)<=(0|i)&&!(u>>>0>a>>>0))return 0;if(c=m[a+d|0],(a=a+1|0)>>>0<1&&(i=i+1|0),_[t+16>>2]=a,_[t+20>>2]=i,f|=c<<(r<<3|6),(0|h)==(0|(r=r+1|0)))break}}_[_[e>>2]+(o<<2)>>2]=f}if(o=o+1|0,n=_[l>>2],!(o>>>0<n>>>0))break}if(o=e+16|0,l=_[e>>2],t=_[e+16>>2],i=_[e+20>>2]-t|0,(r=i>>2)>>>0<=524287?de(o,524288-r|0):2097152!=(0|i)&&(_[e+20>>2]=t+2097152),i=_[(t=e+28|0)>>2],r=_[e+32>>2]-i>>3,n>>>0>r>>>0)ar(t,n-r|0),i=_[t>>2];else if(n>>>0<r>>>0&&(_[e+32>>2]=(n<<3)+i),!n)return 0;for(t=0,r=0;;){if(s=_[(e=l+(t<<2)|0)>>2],_[(a=(t<<3)+i|0)+4>>2]=r,_[a>>2]=s,(e=_[e>>2]+r|0)>>>0>524288)break r;if(r>>>0<e>>>0)for(s=_[o>>2];_[s+(r<<2)>>2]=t,(0|e)!=(0|(r=r+1|0)););if(r=e,(0|n)==(0|(t=t+1|0)))break}return 524288==(0|e)}p=1}return p}(r+8|0,t)|(_[r+20>>2]?0:e))&&(n=function(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;z=i=z-16|0;r:{if(b[t+38>>1]<=511){if(n=_[t+12>>2],c=n,r=_[t+20>>2],a=_[t+16>>2],(s=a+8|0)>>>0<8&&(r=r+1|0),o=_[t+8>>2],(0|n)<(0|r)||(0|n)<=(0|r)&&!(o>>>0>=s>>>0))break r;n=a+_[t>>2]|0,a=m[n+4|0]|m[n+5|0]<<8|m[n+6|0]<<16|m[n+7|0]<<24,n=m[0|n]|m[n+1|0]<<8|m[n+2|0]<<16|m[n+3|0]<<24,_[i+8>>2]=n,_[i+12>>2]=a,_[t+16>>2]=s,_[t+20>>2]=r}else{if(!sr(1,i+8|0,t))break r;s=_[t+16>>2],r=_[t+20>>2],o=_[t+8>>2],c=_[t+12>>2],n=_[i+8>>2],a=_[i+12>>2]}if(l=o-s|0,!((0|(o=c-(r+(o>>>0<s>>>0)|0)|0))==(0|a)&n>>>0>l>>>0|a>>>0>o>>>0)&&(a=r+a|0,(l=(r=s)+n|0)>>>0<r>>>0&&(a=a+1|0),_[t+16>>2]=l,_[t+20>>2]=a,!((0|(r=n))<1))){s=s+_[t>>2]|0,_[e+40>>2]=s,t=e;n:{a:{s:{o:{l:switch((m[0|(a=s+(n=r+-1|0)|0)]>>>6)-1|0){case 2:break a;case 1:break s;case 0:break o;default:break l}_[e+44>>2]=n,e=63&m[0|a];break n}if((0|r)<2)break r;_[e+44>>2]=r+-2,e=m[(e=(r+s|0)-2|0)+1|0]<<8&16128|m[0|e];break n}if((0|r)<3)break r;_[e+44>>2]=r+-3,e=m[(e=(r+s|0)-3|0)+1|0]<<8|m[e+2|0]<<16&4128768|m[0|e];break n}_[e+44>>2]=r+-4,e=m[(e=(r+s|0)-4|0)+2|0]<<16|m[e+3|0]<<24&1056964608|m[e+1|0]<<8|m[0|e]}e=e+2097152|0,_[t+48>>2]=e,f=e>>>0<536870912}}return z=i+16|0,f}(r+8|0,t),!(!e|!n)))for(t=_[r+56>>2],l=_[r+36>>2],c=_[r+48>>2],f=_[r+24>>2];;){r:if(!(t>>>0>2097151))for(n=_[r+52>>2];;){if((0|n)<1)break r;if(n=n+-1|0,_[r+52>>2]=n,t=m[n+c|0]|t<<8,_[r+56>>2]=t,!(t>>>0<2097152))break}if(s=_[((n=524287&t)<<2)+f>>2],t=(g(_[(o=(s<<3)+l|0)>>2],t>>>19)+n|0)-_[o+4>>2]|0,_[r+56>>2]=t,_[(a<<2)+i>>2]=s,n=1,(0|(a=a+1|0))==(0|e))break}(e=_[r+36>>2])&&(_[r+40>>2]=e,Ka(e));(e=_[r+24>>2])&&(_[r+28>>2]=e,Ka(e));(e=_[r+8>>2])&&(_[r+12>>2]=e,Ka(e));return z=r- -64|0,n}(e,t,i)}s=rr(e,t,i)}return s}return function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0;z=r=z+-64|0,_[r+56>>2]=0,_[r+48>>2]=0,_[r+52>>2]=0,_[r+40>>2]=0,_[r+44>>2]=0,_[r+32>>2]=0,_[r+36>>2]=0,_[r+24>>2]=0,_[r+28>>2]=0,_[r+16>>2]=0,_[r+20>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0;if(!(!tr(r+8|0,t)|(_[r+20>>2]?0:e))&&(n=ir(r+8|0,t),!(!e|!n)))for(t=_[r+56>>2],l=_[r+36>>2],c=_[r+48>>2],f=_[r+24>>2];;){t:if(!(t>>>0>16383))for(n=_[r+52>>2];;){if((0|n)<1)break t;if(n=n+-1|0,_[r+52>>2]=n,t=m[n+c|0]|t<<8,_[r+56>>2]=t,!(t>>>0<16384))break}if(s=_[((n=4095&t)<<2)+f>>2],t=(g(_[(o=(s<<3)+l|0)>>2],t>>>12)+n|0)-_[o+4>>2]|0,_[r+56>>2]=t,_[(a<<2)+i>>2]=s,n=1,(0|(a=a+1|0))==(0|e))break}(e=_[r+36>>2])&&(_[r+40>>2]=e,Ka(e));(e=_[r+24>>2])&&(_[r+28>>2]=e,Ka(e));(e=_[r+8>>2])&&(_[r+12>>2]=e,Ka(e));return z=r- -64|0,n}(e,t,i)}return rr(e,t,i)}(e,i,r)}return l}function tr(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0;e:if(i=b[t+38>>1]){if(l=e+12|0,i>>>0<=511){if(r=_[t+12>>2],i=_[t+20>>2],(s=(n=_[t+16>>2])+4|0)>>>0<4&&(i=i+1|0),(0|r)<(0|i)||(0|r)<=(0|i)&&!(A[t+8>>2]>=s>>>0))break e;i=n+_[t>>2]|0,n=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[l>>2]=n,r=_[t+20>>2],(s=_[t+16>>2]+4|0)>>>0<4&&(r=r+1|0),_[(i=t)+16>>2]=s,_[i+20>>2]=r}else{if(!nr(1,l,t))break e;n=_[l>>2]}if(r=_[e>>2],n>>>0>(i=_[e+4>>2]-r>>2)>>>0?(de(e,n-i|0),n=_[e+12>>2]):n>>>0>=i>>>0||(_[e+4>>2]=r+(n<<2)),n){for(u=_[t+8>>2],s=_[t+12>>2];;){if(a=_[t+16>>2],(0|s)<(0|(i=_[t+20>>2]))||(0|s)<=(0|i)&&!(u>>>0>a>>>0))break e;d=_[t>>2],c=m[d+a|0],(a=a+1|0)>>>0<1&&(i=i+1|0),_[t+16>>2]=a,_[t+20>>2]=i,f=c>>>2;t:{i:{r:{if(!((h=3&c)>>>0>3)){r=0;n:switch(h-1|0){case 0:case 1:break r;case 2:break n;default:break i}if((i=o+f|0)>>>0>=n>>>0)return 0;ts(_[e>>2]+(o<<2)|0,0,4+(252&c)|0),o=i;break t}r=0}for(;;){if((0|s)<(0|i)||(0|s)<=(0|i)&&!(u>>>0>a>>>0))return 0;if(c=m[a+d|0],(a=a+1|0)>>>0<1&&(i=i+1|0),_[t+16>>2]=a,_[t+20>>2]=i,f|=c<<(r<<3|6),(0|h)==(0|(r=r+1|0)))break}}_[_[e>>2]+(o<<2)>>2]=f}if(!((o=o+1|0)>>>0<(n=_[l>>2])>>>0))break}if(o=e+16|0,l=_[e>>2],t=_[e+16>>2],(r=(i=_[e+20>>2]-t|0)>>2)>>>0<=4095?de(o,4096-r|0):16384!=(0|i)&&(_[e+20>>2]=t+16384),i=_[(t=e+28|0)>>2],n>>>0>(r=_[e+32>>2]-i>>3)>>>0)ar(t,n-r|0),i=_[t>>2];else if(n>>>0<r>>>0&&(_[e+32>>2]=(n<<3)+i),!n)return 0;for(t=0,r=0;;){if(s=_[(e=l+(t<<2)|0)>>2],_[(a=(t<<3)+i|0)+4>>2]=r,_[a>>2]=s,(e=_[e>>2]+r|0)>>>0>4096)break e;if(r>>>0<e>>>0)for(s=_[o>>2];_[s+(r<<2)>>2]=t,(0|e)!=(0|(r=r+1|0)););if(r=e,(0|n)==(0|(t=t+1|0)))break}return 4096==(0|e)}p=1}return p}function ir(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;z=i=z-16|0;e:{if(b[t+38>>1]<=511){if(c=n=_[t+12>>2],r=_[t+20>>2],(s=(a=_[t+16>>2])+8|0)>>>0<8&&(r=r+1|0),o=_[t+8>>2],(0|n)<(0|r)||(0|n)<=(0|r)&&!(o>>>0>=s>>>0))break e;n=a+_[t>>2]|0,a=m[n+4|0]|m[n+5|0]<<8|m[n+6|0]<<16|m[n+7|0]<<24,n=m[0|n]|m[n+1|0]<<8|m[n+2|0]<<16|m[n+3|0]<<24,_[i+8>>2]=n,_[i+12>>2]=a,_[t+16>>2]=s,_[t+20>>2]=r}else{if(!sr(1,i+8|0,t))break e;s=_[t+16>>2],r=_[t+20>>2],o=_[t+8>>2],c=_[t+12>>2],n=_[i+8>>2],a=_[i+12>>2]}if(l=o-s|0,!((0|(o=c-(r+(o>>>0<s>>>0)|0)|0))==(0|a)&n>>>0>l>>>0|a>>>0>o>>>0)&&(a=r+a|0,(l=(r=s)+n|0)>>>0<r>>>0&&(a=a+1|0),_[t+16>>2]=l,_[t+20>>2]=a,!((0|(r=n))<1))){s=s+_[t>>2]|0,_[e+40>>2]=s,t=e;t:{i:{r:{n:{a:switch((m[0|(a=s+(n=r+-1|0)|0)]>>>6)-1|0){case 2:break i;case 1:break r;case 0:break n;default:break a}_[e+44>>2]=n,e=63&m[0|a];break t}if((0|r)<2)break e;_[e+44>>2]=r+-2,e=m[(e=(r+s|0)-2|0)+1|0]<<8&16128|m[0|e];break t}if((0|r)<3)break e;_[e+44>>2]=r+-3,e=m[(e=(r+s|0)-3|0)+1|0]<<8|m[e+2|0]<<16&4128768|m[0|e];break t}_[e+44>>2]=r+-4,e=m[(e=(r+s|0)-4|0)+2|0]<<16|m[e+3|0]<<24&1056964608|m[e+1|0]<<8|m[0|e]}e=e+16384|0,_[t+48>>2]=e,f=e>>>0<4194304}}return z=i+16|0,f}function rr(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0;if(z=r=z+-64|0,_[r+56>>2]=0,_[r+48>>2]=0,_[r+52>>2]=0,_[r+40>>2]=0,_[r+44>>2]=0,_[r+32>>2]=0,_[r+36>>2]=0,_[r+24>>2]=0,_[r+28>>2]=0,_[r+16>>2]=0,_[r+20>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,!(!function(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0;e:if(i=b[t+38>>1]){if(l=e+12|0,i>>>0<=511){if(r=_[t+12>>2],i=_[t+20>>2],n=_[t+16>>2],(s=n+4|0)>>>0<4&&(i=i+1|0),(0|r)<(0|i)||(0|r)<=(0|i)&&!(A[t+8>>2]>=s>>>0))break e;i=n+_[t>>2]|0,n=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[l>>2]=n,r=_[t+20>>2],(s=_[t+16>>2]+4|0)>>>0<4&&(r=r+1|0),_[(i=t)+16>>2]=s,_[i+20>>2]=r}else{if(!nr(1,l,t))break e;n=_[l>>2]}if(r=_[e>>2],i=_[e+4>>2]-r>>2,n>>>0>i>>>0?(de(e,n-i|0),n=_[e+12>>2]):n>>>0>=i>>>0||(_[e+4>>2]=r+(n<<2)),n){for(u=_[t+8>>2],s=_[t+12>>2];;){if(a=_[t+16>>2],i=_[t+20>>2],(0|s)<(0|i)||(0|s)<=(0|i)&&!(u>>>0>a>>>0))break e;d=_[t>>2],c=m[d+a|0],(a=a+1|0)>>>0<1&&(i=i+1|0),_[t+16>>2]=a,_[t+20>>2]=i,f=c>>>2;t:{i:{r:{if(!((h=3&c)>>>0>3)){r=0;n:switch(h-1|0){case 0:case 1:break r;case 2:break n;default:break i}if((i=o+f|0)>>>0>=n>>>0)return 0;ts(_[e>>2]+(o<<2)|0,0,4+(252&c)|0),o=i;break t}r=0}for(;;){if((0|s)<(0|i)||(0|s)<=(0|i)&&!(u>>>0>a>>>0))return 0;if(c=m[a+d|0],(a=a+1|0)>>>0<1&&(i=i+1|0),_[t+16>>2]=a,_[t+20>>2]=i,f|=c<<(r<<3|6),(0|h)==(0|(r=r+1|0)))break}}_[_[e>>2]+(o<<2)>>2]=f}if(o=o+1|0,n=_[l>>2],!(o>>>0<n>>>0))break}if(o=e+16|0,l=_[e>>2],t=_[e+16>>2],i=_[e+20>>2]-t|0,(r=i>>2)>>>0<=1048575?de(o,1048576-r|0):4194304!=(0|i)&&(_[e+20>>2]=t+4194304),i=_[(t=e+28|0)>>2],r=_[e+32>>2]-i>>3,n>>>0>r>>>0)ar(t,n-r|0),i=_[t>>2];else if(n>>>0<r>>>0&&(_[e+32>>2]=(n<<3)+i),!n)return 0;for(t=0,r=0;;){if(s=_[(e=l+(t<<2)|0)>>2],_[(a=(t<<3)+i|0)+4>>2]=r,_[a>>2]=s,(e=_[e>>2]+r|0)>>>0>1048576)break e;if(r>>>0<e>>>0)for(s=_[o>>2];_[s+(r<<2)>>2]=t,(0|e)!=(0|(r=r+1|0)););if(r=e,(0|n)==(0|(t=t+1|0)))break}return 1048576==(0|e)}p=1}return p}(r+8|0,t)|(_[r+20>>2]?0:e))&&(n=function(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;z=i=z-16|0;e:{if(b[t+38>>1]<=511){if(n=_[t+12>>2],c=n,r=_[t+20>>2],a=_[t+16>>2],(s=a+8|0)>>>0<8&&(r=r+1|0),o=_[t+8>>2],(0|n)<(0|r)||(0|n)<=(0|r)&&!(o>>>0>=s>>>0))break e;n=a+_[t>>2]|0,a=m[n+4|0]|m[n+5|0]<<8|m[n+6|0]<<16|m[n+7|0]<<24,n=m[0|n]|m[n+1|0]<<8|m[n+2|0]<<16|m[n+3|0]<<24,_[i+8>>2]=n,_[i+12>>2]=a,_[t+16>>2]=s,_[t+20>>2]=r}else{if(!sr(1,i+8|0,t))break e;s=_[t+16>>2],r=_[t+20>>2],o=_[t+8>>2],c=_[t+12>>2],n=_[i+8>>2],a=_[i+12>>2]}if(l=o-s|0,!((0|(o=c-(r+(o>>>0<s>>>0)|0)|0))==(0|a)&n>>>0>l>>>0|a>>>0>o>>>0)&&(a=r+a|0,(l=(r=s)+n|0)>>>0<r>>>0&&(a=a+1|0),_[t+16>>2]=l,_[t+20>>2]=a,!((0|(r=n))<1))){s=s+_[t>>2]|0,_[e+40>>2]=s,t=e;t:{i:{r:{n:{a:switch((m[0|(a=s+(n=r+-1|0)|0)]>>>6)-1|0){case 2:break i;case 1:break r;case 0:break n;default:break a}_[e+44>>2]=n,e=63&m[0|a];break t}if((0|r)<2)break e;_[e+44>>2]=r+-2,e=m[(e=(r+s|0)-2|0)+1|0]<<8&16128|m[0|e];break t}if((0|r)<3)break e;_[e+44>>2]=r+-3,e=m[(e=(r+s|0)-3|0)+1|0]<<8|m[e+2|0]<<16&4128768|m[0|e];break t}_[e+44>>2]=r+-4,e=m[(e=(r+s|0)-4|0)+2|0]<<16|m[e+3|0]<<24&1056964608|m[e+1|0]<<8|m[0|e]}e=e+4194304|0,_[t+48>>2]=e,f=e>>>0<1073741824}}return z=i+16|0,f}(r+8|0,t),!(!e|!n)))for(t=_[r+56>>2],l=_[r+36>>2],c=_[r+48>>2],f=_[r+24>>2];;){e:if(!(t>>>0>4194303))for(n=_[r+52>>2];;){if((0|n)<1)break e;if(n=n+-1|0,_[r+52>>2]=n,t=m[n+c|0]|t<<8,_[r+56>>2]=t,!(t>>>0<4194304))break}if(s=_[((n=1048575&t)<<2)+f>>2],t=(g(_[(o=(s<<3)+l|0)>>2],t>>>20)+n|0)-_[o+4>>2]|0,_[r+56>>2]=t,_[(a<<2)+i>>2]=s,n=1,(0|(a=a+1|0))==(0|e))break}return(e=_[r+36>>2])&&(_[r+40>>2]=e,Ka(e)),(e=_[r+24>>2])&&(_[r+28>>2]=e,Ka(e)),(e=_[r+8>>2])&&(_[r+12>>2]=e,Ka(e)),z=r- -64|0,n}function nr(e,t,i){var r=0,n=0,a=0,s=0;e:if(!(e>>>0>5)&&(a=_[i+16>>2],!((0|(r=_[i+12>>2]))<(0|(n=_[i+20>>2]))||(0|r)<=(0|n)&&!(A[i+8>>2]>a>>>0)))){if(r=m[a+_[i>>2]|0],(a=a+1|0)>>>0<1&&(n=n+1|0),_[i+16>>2]=a,_[i+20>>2]=n,n=t,128&r){if(!nr(e+1|0,t,i))break e;e=_[t>>2]<<7,_[t>>2]=e,r=e|127&r}_[n>>2]=r,s=1}return s}function ar(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0;e:{t:{i:{if((n=_[e+8>>2])-(r=_[(i=e+4|0)>>2])>>3>>>0>=t>>>0)for(;;)if(_[r>>2]=0,_[r+4>>2]=0,r=_[i>>2]+8|0,_[i>>2]=r,!(t=t+-1|0))break i;if((r=(i=(s=r-(a=_[e>>2])|0)>>3)+t|0)>>>0>=536870912)break t;if(l=i<<3,i=(n=n-a|0)>>2,n=n>>3>>>0<268435455?i>>>0<r>>>0?r:i:536870911,i=0,n){if(n>>>0>=536870912)break e;i=o=Fa(n<<3)}for(ts(r=l+i|0,0,t<<3),n=i+(n<<3)|0;r=r+8|0,t=t+-1|0;);(0|s)>=1&&es(o,a,s),_[e>>2]=i,_[e+8>>2]=n,_[e+4>>2]=r,a&&Ka(a)}return}Wa(),P()}Re(10991),P()}function sr(e,t,i){var r=0,n=0,a=0,s=0,o=0,c=0;e:if(!(e>>>0>10)&&(a=_[i+16>>2],!((0|(r=_[i+12>>2]))<(0|(s=n=_[i+20>>2]))||(0|r)<=(0|s)&&!(A[i+8>>2]>a>>>0)))){if(o=l[a+_[i>>2]|0],(r=a+1|0)>>>0<1&&(n=n+1|0),_[i+16>>2]=r,_[i+20>>2]=n,s=t,a=t,(0|(r=o))<=-1){if(!sr(e+1|0,t,i))break e;e=t,n=(i=_[t+4>>2])<<7|(t=_[t>>2])>>>25,t<<=7,_[e>>2]=t,_[e+4>>2]=n,e=127&r|t}else n=0,e=255&r;_[a>>2]=e,_[s+4>>2]=n,c=1}return c}function or(e){Gr(e),_[e+44>>2]=0,_[e>>2]=11068}function lr(e){en(e),en(e+40|0),Yi(e+80|0),en(e+96|0),_[e+144>>2]=0,_[e+136>>2]=0,_[e+140>>2]=0}function cr(e,t){return t|=0,_[(e|=0)+4>>2]=t,1}function fr(e,t){t|=0;var i,r=0,n=0,s=0,o=0;if((0|(r=_[(e|=0)+216>>2]))!=_[(i=e+220|0)>>2])for(;;){e:if(!((0|(r=_[g(s,144)+r>>2]))<0)&&(o=_[e+4>>2],n=_[o+8>>2],!((0|r)>=_[o+12>>2]-n>>2)&&(r=_[n+(r<<2)>>2],!((0|a[_[_[r>>2]+24>>2]](r))<1)))){for(n=0;;){if((0|a[_[_[r>>2]+20>>2]](r,n))!=(0|t)){if((0|(n=n+1|0))<(0|a[_[_[r>>2]+24>>2]](r)))continue;break e}break}return e=_[e+216>>2]+g(s,144)|0,0|(m[e+100|0]?e+4|0:0)}if(s=s+1|0,r=_[e+216>>2],!(s>>>0<(_[i>>2]-r|0)/144>>>0))break}return 0}function hr(e,t){t|=0;var i,r=0,n=0,s=0,o=0;if((0|(r=_[(e|=0)+216>>2]))!=_[(i=e+220|0)>>2])for(;;){e:if(!((0|(r=_[g(s,144)+r>>2]))<0)&&(o=_[e+4>>2],n=_[o+8>>2],!((0|r)>=_[o+12>>2]-n>>2)&&(r=_[n+(r<<2)>>2],!((0|a[_[_[r>>2]+24>>2]](r))<1)))){for(n=0;;){if((0|a[_[_[r>>2]+20>>2]](r,n))!=(0|t)){if((0|(n=n+1|0))<(0|a[_[_[r>>2]+24>>2]](r)))continue;break e}break}return 104+(_[e+216>>2]+g(s,144)|0)|0}if(s=s+1|0,r=_[e+216>>2],!(s>>>0<(_[i>>2]-r|0)/144>>>0))break}return e+184|0}function ur(e,t){t|=0;var i,r=0,n=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,p=0,A=0,v=0,y=0,k=0;z=i=z-80|0;e:{t:{v=_[(e|=0)+4>>2],r=_[v+32>>2],u=_[r+8>>2],h=_[r+16>>2];i:if(!((0|(n=p=_[r+12>>2]))<(0|(o=c=_[r+20>>2]))||(0|n)<=(0|o)&&!(u>>>0>h>>>0))&&(y=_[r>>2],d=m[y+h|0],n=c,(f=h+1|0)>>>0<1&&(n=n+1|0),o=r,_[r+16>>2]=f,_[r+20>>2]=n,!((0|p)<(0|n)||(0|p)<=(0|n)&&!(u>>>0>f>>>0)))){k=m[f+y|0],n=c,(f=h+2|0)>>>0<2&&(n=n+1|0),_[r+16>>2]=f,_[o+20>>2]=n;r:{if((0|(A=d<<24>>24))>=0){if(o=_[e+216>>2],(_[e+220>>2]-o|0)/144>>>0<=d>>>0)break i;if(o=o+g(d,144)|0,_[o>>2]<=-1)break r;break i}if(_[e+212>>2]>-1)break i;o=e+212|0}if(_[o>>2]=t,o=0,((s=b[v+36>>1])<<24|s<<8&16711680)>>>16>>>0>=258){if(s=0,(0|p)<(0|n)||(0|p)<=(0|n)&&!(u>>>0>f>>>0))break i;o=m[f+y|0],(n=h+3|0)>>>0<3&&(c=c+1|0),_[r+16>>2]=n,_[r+20>>2]=c}r:{n:{a:{if(!k){if((0|A)<=-1?r=e+184|0:(r=_[e+216>>2]+g(d,144)|0,l[r+100|0]=0,r=r+104|0),s=0,o>>>0>1)break i;if(!(o-1))break a;!function(e,t,i){var r,n,a,s,o,c=0,f=0,h=0,u=0,d=0,p=0,m=0;z=r=z+-64|0,c=_[_[t+4>>2]+44>>2],n=Fa(80),_[n>>2]=12592,_[n+76>>2]=0,_[n+72>>2]=i,_[n+68>>2]=c,_[(f=n+12|0)>>2]=0,_[f+4>>2]=0,_[n+4>>2]=0,_[(h=p=n+20|0)>>2]=0,_[h+4>>2]=0,_[(h=a=n+28|0)>>2]=0,_[h+4>>2]=0,_[n+36>>2]=0,_[n+40>>2]=0,_[(h=n+44|0)>>2]=0,_[h+4>>2]=0,_[n+52>>2]=0,_[n- -64>>2]=0,_[(d=s=n+56|0)>>2]=0,_[d+4>>2]=0,_[n+8>>2]=12756,t=_[t+8>>2],_[(d=r+40|0)>>2]=0,_[d+4>>2]=0,_[r+32>>2]=0,_[r+36>>2]=0,_[(u=o=r+16|0)>>2]=0,_[u+4>>2]=0,_[r+56>>2]=0,_[r+24>>2]=0,_[r+28>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,_[r+48>>2]=0,_[r+52>>2]=0,_[r>>2]=12756,_[r+4>>2]=t,u=_[t>>2],m=_[t+4>>2],l[r+63|0]=0,Ce(r+24|0,(m-u>>2>>>0)/3|0,r+63|0),u=_[r+4>>2],m=_[u+28>>2],u=_[u+24>>2],l[r+63|0]=0,Ce(r+36|0,m-u>>2,r+63|0),_[r+20>>2]=n,_[o>>2]=c,_[(c=r+12|0)>>2]=i,_[r+8>>2]=t,_[a>>2]=n,t=_[c+4>>2],_[p>>2]=_[c>>2],_[p+4>>2]=t,t=_[r+8>>2],_[f>>2]=_[r+4>>2],_[f+4>>2]=t;s:{o:{if(i=n,t=_[r+28>>2]){if(c=n+32|0,t>>>0<=_[n+40>>2]<<5>>>0)f=t+-1>>>5,t=_[c>>2];else{if((c=_[c>>2])&&(Ka(c),_[n+40>>2]=0,_[n+32>>2]=0,_[n+36>>2]=0,t=_[r+28>>2]),(0|t)<=-1)break o;t=Fa((c=(f=t+-1>>>5)+1|0)<<2),_[n+40>>2]=c,_[n+36>>2]=0,_[n+32>>2]=t}is(t,_[r+24>>2],4+(f<<2)|0),t=_[r+28>>2]}else t=0;if(_[i+36>>2]=t,p=n,t=_[d>>2]){if(t>>>0<=_[n+52>>2]<<5>>>0)i=t+-1>>>5,t=_[h>>2];else{if((i=_[h>>2])&&(Ka(i),_[n+52>>2]=0,_[n+44>>2]=0,_[n+48>>2]=0,t=_[r+40>>2]),(0|t)<=-1)break s;t=Fa((f=(i=t+-1>>>5)+1|0)<<2),_[n+52>>2]=f,_[n+48>>2]=0,_[n+44>>2]=t}is(t,_[r+36>>2],4+(i<<2)|0),t=_[r+40>>2]}else t=0;return _[p+48>>2]=t,At(s,_[r+48>>2],_[r+52>>2]),_[e>>2]=n,_[r>>2]=12756,(e=_[r+48>>2])&&(_[r+52>>2]=e,Ka(e)),_[r>>2]=12572,(e=_[r+36>>2])&&Ka(e),(e=_[r+24>>2])&&Ka(e),void(z=r- -64|0)}Wa(),P()}Wa(),P()}(i+16|0,e,r);break n}if(s=0,o|(0|A)<0)break i;if(c=_[v+44>>2],s=_[e+216>>2],r=Fa(80),_[r>>2]=12884,_[r+76>>2]=0,_[r+68>>2]=c,_[(n=r+12|0)>>2]=0,_[n+4>>2]=0,_[r+4>>2]=0,_[(o=r+20|0)>>2]=0,_[o+4>>2]=0,_[(h=p=r+28|0)>>2]=0,_[h+4>>2]=0,_[r+36>>2]=0,_[r+40>>2]=0,_[(h=r+44|0)>>2]=0,_[h+4>>2]=0,_[r+52>>2]=0,d=(s=s+g(d,144)|0)+104|0,_[r+72>>2]=d,_[r- -64>>2]=0,_[(u=v=r+56|0)>>2]=0,_[u+4>>2]=0,_[r+8>>2]=11760,_[(u=i+56|0)>>2]=0,_[u+4>>2]=0,_[i+48>>2]=0,_[i+52>>2]=0,_[(f=y=i+32|0)>>2]=0,_[f+4>>2]=0,_[i+72>>2]=0,_[i+40>>2]=0,_[i+44>>2]=0,_[i+24>>2]=0,_[i+28>>2]=0,_[i+64>>2]=0,_[i+68>>2]=0,_[i+16>>2]=11760,f=s+4|0,_[i+20>>2]=f,s=_[s+68>>2],A=_[s>>2],s=_[s+4>>2],l[i+79|0]=0,Ce(i+40|0,(s-A>>2>>>0)/3|0,i+79|0),s=_[i+20>>2],A=_[s+56>>2],s=_[s+52>>2],l[i+79|0]=0,Ce(i+52|0,A-s>>2,i+79|0),_[i+36>>2]=r,_[y>>2]=c,_[(c=i+28|0)>>2]=d,_[i+24>>2]=f,_[p>>2]=r,s=_[c+4>>2],_[o>>2]=_[c>>2],_[o+4>>2]=s,c=_[i+24>>2],_[n>>2]=_[i+20>>2],_[n+4>>2]=c,c=r,s=_[i+44>>2]){if(n=r+32|0,s>>>0<=_[r+40>>2]<<5>>>0)o=s+-1>>>5,s=_[n>>2];else{if((n=_[n>>2])&&(Ka(n),_[r+40>>2]=0,_[r+32>>2]=0,_[r+36>>2]=0,s=_[i+44>>2]),(0|s)<=-1)break t;s=Fa((n=(o=s+-1>>>5)+1|0)<<2),_[r+40>>2]=n,_[r+36>>2]=0,_[r+32>>2]=s}is(s,_[i+40>>2],4+(o<<2)|0),n=_[i+44>>2]}else n=0;if(_[c+36>>2]=n,c=r,s=_[u>>2]){if(s>>>0<=_[r+52>>2]<<5>>>0)n=s+-1>>>5,s=_[h>>2];else{if((n=_[h>>2])&&(Ka(n),_[r+52>>2]=0,_[r+44>>2]=0,_[r+48>>2]=0,s=_[i+56>>2]),(0|s)<=-1)break e;s=Fa((o=(n=s+-1>>>5)+1|0)<<2),_[r+52>>2]=o,_[r+48>>2]=0,_[r+44>>2]=s}is(s,_[i+52>>2],4+(n<<2)|0),n=_[i+56>>2]}else n=0;if(_[c+48>>2]=n,At(v,_[i+64>>2],_[i+68>>2]),_[i+16>>2]=11760,(c=_[i+64>>2])&&(_[i+68>>2]=c,Ka(c)),_[i+16>>2]=12012,(c=_[i+52>>2])&&Ka(c),!(c=_[i+40>>2]))break r;Ka(c);break r}!function(e,t,i){var r,n,a,s=0,o=0,c=0,f=0;z=r=z-112|0,a=_[_[t+4>>2]+44>>2],n=Fa(120),_[n>>2]=12124,_[n+116>>2]=0,_[n+112>>2]=i,_[n+108>>2]=a,_[n+12>>2]=0,_[n+16>>2]=0,_[n+4>>2]=0,_[n+20>>2]=0,_[n+24>>2]=0,_[n+28>>2]=0,_[n+32>>2]=0,_[n+36>>2]=0,_[n+40>>2]=0,_[n+44>>2]=0,_[n+48>>2]=0,_[n+52>>2]=0,_[n+56>>2]=0,_[n+60>>2]=0,_[n+8>>2]=12336,_[(c=n- -64|0)>>2]=0,_[c+4>>2]=0,_[n+72>>2]=0,_[n+76>>2]=0,_[n+80>>2]=0,_[n+84>>2]=0,_[n+88>>2]=0,_[n+104>>2]=0,_[n+96>>2]=0,_[n+100>>2]=0,t=_[t+8>>2],_[r+48>>2]=0,_[r+52>>2]=0,_[r+40>>2]=0,_[r+44>>2]=0,_[(s=c=r+24|0)>>2]=0,_[s+4>>2]=0,_[(s=r- -64|0)>>2]=0,_[s+4>>2]=0,_[r+72>>2]=0,_[r+76>>2]=0,_[(s=r+80|0)>>2]=0,_[s+4>>2]=0,_[r+88>>2]=0,_[r+104>>2]=0,_[r+32>>2]=0,_[r+36>>2]=0,_[r+16>>2]=0,_[r+20>>2]=0,_[r+56>>2]=0,_[r+60>>2]=0,_[r+8>>2]=12336,_[r+96>>2]=0,_[r+100>>2]=0,_[r+12>>2]=t,o=_[t>>2],f=_[t+4>>2],l[r+111|0]=0,Ce(r+32|0,(f-o>>2>>>0)/3|0,r+111|0),o=_[r+12>>2],f=_[o+28>>2],o=_[o+24>>2],l[r+111|0]=0,Ce(r+44|0,f-o>>2,r+111|0),_[r+28>>2]=n,_[c>>2]=a,_[r+20>>2]=i,_[r+16>>2]=t,function(e,t){var i=0;if(i=_[t+8>>2],_[e+12>>2]=_[t+4>>2],_[e+16>>2]=i,_[e+28>>2]=_[t+20>>2],i=_[t+16>>2],_[e+20>>2]=_[t+12>>2],_[e+24>>2]=i,Dr(e+32|0,t+24|0),Dr(e+44|0,t+36|0),(e+8|0)==(0|t))return void(_[e+92>>2]=_[t+84>>2]);At(e+56|0,_[t+48>>2],_[t+52>>2]),At(e+68|0,_[t+60>>2],_[t- -64>>2]),At(e+80|0,_[t+72>>2],_[t+76>>2]),_[e+92>>2]=_[t+84>>2],lt(e+96|0,_[t+88>>2],_[t+92>>2])}(n,r+8|0),_[e>>2]=n,_[r+8>>2]=12336,(e=_[r+96>>2])&&(_[r+100>>2]=e,Ka(e));(e=_[s>>2])&&(_[r+84>>2]=e,Ka(e));(e=_[r+68>>2])&&(_[r+72>>2]=e,Ka(e));(e=_[r+56>>2])&&(_[r+60>>2]=e,Ka(e));_[r+8>>2]=12572,(e=_[r+44>>2])&&Ka(e);(e=_[r+32>>2])&&Ka(e);z=r+112|0}(i+16|0,e,r)}if(!(r=_[i+16>>2]))break i}if(c=Fa(64),_[i+8>>2]=r,ti(c,i+8|0),r=_[i+8>>2],_[i+8>>2]=0,r&&a[_[_[r>>2]+4>>2]](r),(0|t)>=0){if(s=(e=_[e+4>>2])+8|0,!((0|(n=(r=_[e+12>>2])-(d=_[e+8>>2])>>2))>(0|t)))if(o=t+1|0,n>>>0<=t>>>0)dr(s,o-n|0);else if(!(o>>>0>=n>>>0)){if((0|(o=d+(o<<2)|0))!=(0|r))for(;n=_[(r=r+-4|0)>>2],_[r>>2]=0,n&&a[_[_[n>>2]+4>>2]](n),(0|r)!=(0|o););_[e+12>>2]=o}if(t=_[s>>2]+(t<<2)|0,e=_[t>>2],_[t>>2]=c,s=1,!e)break i;a[_[_[e>>2]+4>>2]](e)}else a[_[_[c>>2]+4>>2]](c),s=0}return z=i+80|0,0|s}Wa(),P()}Wa(),P()}function dr(e,t){var i=0,r=0,n=0,s=0,o=0,l=0,c=0,f=0,h=0;if((r=_[e+8>>2])-(i=_[(n=e+4|0)>>2])>>2>>>0>=t>>>0)return f=n,h=ts(i,0,e=t<<2)+e|0,void(_[f>>2]=h);e:{if((o=(s=i-(n=_[e>>2])>>2)+t|0)>>>0<1073741824){if(s<<=2,c=(r=r-n|0)>>1,r=r>>2>>>0<536870911?c>>>0<o>>>0?o:c:1073741823){if(r>>>0>=1073741824)break e;l=Fa(r<<2)}if(ts(s=s+l|0,0,t<<2),t=(o<<2)+l|0,o=(r<<2)+l|0,(0|i)!=(0|n)){for(;r=_[(i=i+-4|0)>>2],_[i>>2]=0,_[(s=s+-4|0)>>2]=r,(0|i)!=(0|n););n=_[e>>2],i=_[e+4>>2]}if(_[e>>2]=s,_[e+8>>2]=o,_[e+4>>2]=t,(0|i)!=(0|n))for(;e=_[(i=i+-4|0)>>2],_[i>>2]=0,e&&a[_[_[e>>2]+4>>2]](e),(0|i)!=(0|n););return void(n&&Ka(n))}Wa(),P()}Re(12024),P()}function pr(e,t,i){var r=0,n=0,a=0,s=0;e:if(!(e>>>0>5)&&(a=_[i+16>>2],!((0|(r=_[i+12>>2]))<(0|(n=_[i+20>>2]))||(0|r)<=(0|n)&&!(A[i+8>>2]>a>>>0)))){if(r=m[a+_[i>>2]|0],(a=a+1|0)>>>0<1&&(n=n+1|0),_[i+16>>2]=a,_[i+20>>2]=n,n=t,128&r){if(!pr(e+1|0,t,i))break e;e=_[t>>2]<<7,_[t>>2]=e,r=e|127&r}_[n>>2]=r,s=1}return s}function _r(e){var t=0;(t=_[e+84>>2])&&(_[e+88>>2]=t,Ka(t)),(t=_[e+72>>2])&&(_[e+76>>2]=t,Ka(t)),(t=_[e+52>>2])&&(_[e+56>>2]=t,Ka(t)),(t=_[e+40>>2])&&(_[e+44>>2]=t,Ka(t)),(t=_[e+28>>2])&&(_[e+32>>2]=t,Ka(t)),(t=_[e+12>>2])&&Ka(t),(e=_[e>>2])&&Ka(e)}function mr(e,t){var i,r=0,n=0,a=0,s=0,o=0;z=i=z-32|0;e:{t:{i:{if(((n=_[e+8>>2])-(r=_[(a=e+4|0)>>2])|0)/144>>>0>=t>>>0)for(;;)if(_[r>>2]=-1,vn(r+4|0),_[r+104>>2]=0,_[r+108>>2]=0,l[r+100|0]=1,_[r+112>>2]=0,_[r+116>>2]=0,_[r+120>>2]=0,_[r+124>>2]=0,_[r+128>>2]=0,_[r+132>>2]=0,_[r+136>>2]=0,_[r+140>>2]=0,r=_[a>>2]+144|0,_[a>>2]=r,!(t=t+-1|0))break i;if((r=(o=(r-(s=_[e>>2])|0)/144|0)+t|0)>>>0>=29826162)break t;if(_[i+24>>2]=e+8,a=0,_[i+20>>2]=0,s=(n=(n-s|0)/144|0)<<1,n=n>>>0<14913080?s>>>0<r>>>0?r:s:29826161){if(n>>>0>=29826162)break e;a=Fa(g(n,144))}for(_[i+8>>2]=a,r=g(o,144)+a|0,_[i+16>>2]=r,_[i+20>>2]=g(n,144)+a,_[i+12>>2]=r;_[r>>2]=-1,vn(r+4|0),_[r+104>>2]=0,_[r+108>>2]=0,l[r+100|0]=1,_[r+112>>2]=0,_[r+116>>2]=0,_[r+120>>2]=0,_[r+124>>2]=0,_[r+128>>2]=0,_[r+132>>2]=0,_[r+136>>2]=0,_[r+140>>2]=0,r=_[i+16>>2]+144|0,_[i+16>>2]=r,t=t+-1|0;);if((0|(t=_[e+4>>2]))!=(0|(n=_[e>>2]))){for(a=_[i+12>>2];a=Lr(a+-144|0,t=t+-144|0),(0|t)!=(0|n););_[i+12>>2]=a,t=_[e+4>>2],n=_[e>>2]}else a=_[i+12>>2];_[e>>2]=a,_[i+12>>2]=n,_[e+4>>2]=r,_[i+16>>2]=t,t=_[(e=e+8|0)>>2],_[e>>2]=_[i+20>>2],_[i+8>>2]=n,_[i+20>>2]=t,function(e){var t,i=0,r=0;if(r=_[e+8>>2],t=_[e+4>>2],(0|r)!=(0|t))for(;i=r+-144|0,_[e+8>>2]=i,(i=_[i+132>>2])&&(_[r+-8>>2]=i,Ka(i)),(i=_[r+-28>>2])&&(_[r+-24>>2]=i,Ka(i)),(i=_[r+-40>>2])&&(_[r+-36>>2]=i,Ka(i)),_r(r+-140|0),r=_[e+8>>2],(0|t)!=(0|r););(e=_[e>>2])&&Ka(e)}(i+8|0)}return void(z=i+32|0)}Wa(),P()}Re(12024),P()}function br(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,p=0,v=0,y=0,k=0,x=0;z=i=z-32|0;e:{if(m[_[e+4>>2]+36|0]<=1){if(c=-1,s=_[t+12>>2],r=_[t+20>>2],(n=(a=_[t+16>>2])+4|0)>>>0<4&&(r=r+1|0),o=n,n=r,(0|s)<(0|r)||(0|s)<=(0|r)&&!(A[t+8>>2]>=o>>>0))break e;r=a+_[t>>2]|0,h=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[i+28>>2]=h,_[t+16>>2]=o,_[t+20>>2]=n}else{if(c=-1,!pr(1,i+28|0,t))break e;h=_[i+28>>2]}if(h){if(r=_[e+8>>2],h>>>0>(_[r+4>>2]-_[r>>2]>>2>>>0)/3>>>0)break e;if(((r=b[_[e+4>>2]+36>>1])<<24|r<<8&16711680)>>>16>>>0>=258){for(a=e+36|0,o=e+44|0,n=e+40|0,s=0;;){if(pr(1,i+8|0,t),_[i+20>>2]=_[i+8>>2]+s,pr(1,i+8|0,t),(s=_[i+20>>2])>>>0<(r=_[i+8>>2])>>>0)break e;if(_[i+16>>2]=s-r,(0|(r=_[n>>2]))==_[o>>2]?xr(a,i+16|0):(u=_[i+20>>2],_[r>>2]=_[i+16>>2],_[r+4>>2]=u,_[r+8>>2]=_[i+24>>2],_[n>>2]=_[n>>2]+12),(0|(f=f+1|0))==(0|h))break}for(s=0,rn(t,0,0),o=e+36|0;;){r=m[t+36|0];t:if(((n=b[_[e+4>>2]+36>>1])<<24|n<<8&16711680)>>>16>>>0<=513){if(!r)break t;if(c=0,(n=(a=(r=_[t+32>>2])>>>3)+(u=_[t+24>>2])|0)>>>0>=(f=_[t+28>>2])>>>0?n=r:(c=m[0|n],n=r+1|0,_[t+32>>2]=n,a=n>>>3,c=c>>>(7&r)&1),a+u>>>0>=f>>>0)break t;_[t+32>>2]=n+1}else r&&(c=0,r=_[t+32>>2],(n=_[t+24>>2]+(r>>>3)|0)>>>0>=A[t+28>>2]||(n=m[0|n],_[t+32>>2]=r+1,c=n>>>(7&r)&1));if(r=_[o>>2]+g(s,12)|0,l[r+8|0]=254&m[r+8|0]|1&c,(0|h)==(0|(s=s+1|0)))break}nn(t)}else for(k=e+36|0,x=e+44|0,u=e+40|0;;){if(s=a=_[t+12>>2],n=r=_[t+20>>2],(o=(f=_[t+16>>2])+4|0)>>>0<4&&(r=r+1|0),d=_[t+8>>2],p=o,o=r,(0|a)<(0|r)||(0|a)<=(0|r)&&!(d>>>0>=p>>>0))break e;if(r=(v=_[t>>2])+f|0,_[i+16>>2]=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[t+16>>2]=p,_[t+20>>2]=o,r=n,(o=f+8|0)>>>0<8&&(r=r+1|0),(0|(a=s))<(0|r)||(0|a)<=(0|r)&&!(d>>>0>=o>>>0))break e;if(a=p+v|0,_[i+20>>2]=m[0|a]|m[a+1|0]<<8|m[a+2|0]<<16|m[a+3|0]<<24,_[t+16>>2]=o,_[t+20>>2]=r,(0|s)<(0|r)||(0|s)<=(0|r)&&!(d>>>0>o>>>0))break e;if(s=m[o+v|0],(a=f+9|0)>>>0<9&&(n=n+1|0),_[(r=t)+16>>2]=a,_[r+20>>2]=n,l[i+24|0]=254&m[i+24|0]|1&s,(0|(r=_[u>>2]))==_[x>>2]?xr(k,i+16|0):(n=_[i+20>>2],_[r>>2]=_[i+16>>2],_[r+4>>2]=n,_[r+8>>2]=_[i+24>>2],_[u>>2]=_[u>>2]+12),(0|h)==(0|(y=y+1|0)))break}}_[i+16>>2]=0;t:{if((r=((r=b[_[e+4>>2]+36>>1])<<24|r<<8&16711680)>>>16)>>>0<=511){if(c=-1,s=_[t+12>>2],r=_[t+20>>2],(n=(a=_[t+16>>2])+4|0)>>>0<4&&(r=r+1|0),o=n,n=r,(0|s)<(0|r)||(0|s)<=(0|r)&&!(A[t+8>>2]>=o>>>0))break e;r=a+_[t>>2]|0,a=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[i+16>>2]=a,_[t+16>>2]=o,_[t+20>>2]=n}else{if(512!=(0|r))break t;if(c=-1,!pr(1,i+16|0,t))break e;a=_[i+16>>2]}if(a){if(!(((r=b[_[e+4>>2]+36>>1])<<24|r<<8&16711680)>>>16>>>0>=258)){for(o=e+48|0,c=e+56|0,n=e+52|0,h=0;;){if(_[i+8>>2]=0,s=_[t+12>>2],r=_[t+20>>2],(e=(u=_[t+16>>2])+4|0)>>>0<4&&(r=r+1|0),f=e,e=r,!((0|s)<(0|r)||(0|s)<=(0|r)&&!(A[t+8>>2]>=f>>>0))){if(r=u+_[t>>2]|0,r=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[i+8>>2]=r,_[t+16>>2]=f,_[t+20>>2]=e,(0|(e=_[n>>2]))==_[c>>2]?Sr(o,i+8|0):(_[e>>2]=r,_[n>>2]=e+4),(0|(h=h+1|0))!=(0|a))continue;break t}break}c=-1;break e}for(o=e+48|0,c=e+56|0,r=e+52|0,s=0,e=0;_[i+8>>2]=0,pr(1,i+4|0,t),e=_[i+4>>2]+e|0,_[i+8>>2]=e,(0|(n=_[r>>2]))==_[c>>2]?Sr(o,i+8|0):(_[n>>2]=e,_[r>>2]=n+4),(0|a)!=(0|(s=s+1|0)););}}c=_[t+16>>2]}return z=i+32|0,c}function Ar(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0;z=i=z-16|0,r=_[e+4>>2],_[e+40>>2]=_[e>>2],_[e+44>>2]=r,n=_[(r=a=e+32|0)+4>>2],_[e+72>>2]=_[r>>2],_[e+76>>2]=n,o=_[(n=e+24|0)+4>>2],_[(r=e- -64|0)>>2]=_[n>>2],_[r+4>>2]=o,o=_[(r=s=e+16|0)+4>>2],_[e+56>>2]=_[r>>2],_[e+60>>2]=o,l=_[(r=o=e+8|0)+4>>2],_[e+48>>2]=_[r>>2],_[e+52>>2]=l;e:if(rn(r=e+40|0,1,i+8|0)&&(l=_[r+4>>2],_[e>>2]=_[r>>2],_[e+4>>2]=l,l=_[r+36>>2],_[a>>2]=_[r+32>>2],_[a+4>>2]=l,a=_[r+28>>2],_[n>>2]=_[r+24>>2],_[n+4>>2]=a,l=n=_[r+20>>2],a=_[r+16>>2],_[s>>2]=a,_[s+4>>2]=n,s=n=_[r+12>>2],r=_[r+8>>2],_[o>>2]=r,_[o+4>>2]=n,o=r-(n=a)|0,(0|(c=_[i+12>>2]))==(0|(n=s-((r>>>0<n>>>0)+l|0)|0))&(r=_[i+8>>2])>>>0<=o>>>0|c>>>0<n>>>0)){if(s=l+c|0,(a=r+a|0)>>>0<r>>>0&&(s=s+1|0),_[e+16>>2]=a,_[e+20>>2]=s,b[e+38>>1]<=513){if(r=_[e+4>>2],_[e+96>>2]=_[e>>2],_[e+100>>2]=r,n=_[(r=a=e+32|0)+4>>2],_[e+128>>2]=_[r>>2],_[e+132>>2]=n,s=_[(r=n=e+24|0)+4>>2],_[e+120>>2]=_[r>>2],_[e+124>>2]=s,o=_[(r=s=e+16|0)+4>>2],_[e+112>>2]=_[r>>2],_[e+116>>2]=o,l=_[(r=o=e+8|0)+4>>2],_[e+104>>2]=_[r>>2],_[e+108>>2]=l,!(rn(r=e+96|0,1,i+8|0)&&(l=_[r+4>>2],_[e>>2]=_[r>>2],_[e+4>>2]=l,l=_[r+36>>2],_[a>>2]=_[r+32>>2],_[a+4>>2]=l,a=_[r+28>>2],_[n>>2]=_[r+24>>2],_[n+4>>2]=a,l=n=_[r+20>>2],a=_[r+16>>2],_[s>>2]=a,_[s+4>>2]=n,s=n=_[r+12>>2],r=_[r+8>>2],_[o>>2]=r,_[o+4>>2]=n,o=r-(n=a)|0,(0|(c=_[i+12>>2]))==(0|(n=s-((r>>>0<n>>>0)+l|0)|0))&(r=_[i+8>>2])>>>0<=o>>>0|c>>>0<n>>>0))){r=0;break e}s=l+c|0,(a=r+a|0)>>>0<r>>>0&&(s=s+1|0),_[e+16>>2]=a,_[e+20>>2]=s}else if(r=0,!Xi(e+80|0,e))break e;r=0,Tr(e)&&(r=_[e+4>>2],_[t>>2]=_[e>>2],_[t+4>>2]=r,r=_[e+36>>2],_[t+32>>2]=_[e+32>>2],_[t+36>>2]=r,r=_[e+28>>2],_[t+24>>2]=_[e+24>>2],_[t+28>>2]=r,r=_[e+20>>2],_[t+16>>2]=_[e+16>>2],_[t+20>>2]=r,r=_[e+12>>2],_[t+8>>2]=_[e+8>>2],_[t+12>>2]=r,r=1)}else r=0;return z=i+16|0,r}function vr(e,t){var i,r,n,a,s=0,o=0,l=0,c=0,f=0,h=0,u=0;for(z=i=z-32|0,_[i+16>>2]=t,s=-1,-1!=(0|t)?(s=t+1|0,_[i+20>>2]=(s>>>0)%3|0?s:t+-2|0,s=(t>>>0)%3?t+-1|0:t+2|0):_[i+20>>2]=-1,_[i+24>>2]=s,r=e+220|0,n=e+8|0,a=e+368|0;;){e:if(-1==(0|t)|-1==_[_[_[n>>2]+12>>2]+(t<<2)>>2]){if(s=0,(0|(o=_[e+216>>2]))!=(0|(l=_[r>>2])))for(;_[i+12>>2]=t,c=g(s,144)+o|0,(f=_[(u=c+136|0)>>2])>>>0<A[c+140>>2]?(_[f>>2]=t,_[u>>2]=f+4):(se(c+132|0,i+12|0),l=_[r>>2],o=_[e+216>>2]),(s=s+1|0)>>>0<(l-o|0)/144>>>0;);}else{if(s=0,_[r>>2]==_[e+216>>2])break e;for(;Zi(_[a>>2]+(s<<4)|0)&&(o=_[e+216>>2],_[i+12>>2]=t,o=o+g(s,144)|0,(l=_[(c=o+136|0)>>2])>>>0<A[o+140>>2]?(_[l>>2]=t,_[c>>2]=l+4):se(o+132|0,i+12|0)),(s=s+1|0)>>>0<(_[r>>2]-_[e+216>>2]|0)/144>>>0;);}if(3==(0|(h=h+1|0)))break;t=_[(i+16|0)+(h<<2)>>2]}return z=i+32|0,1}function yr(e,t){var i,r,n,a,s,o=0,l=0,c=0,f=0,h=0,u=0,d=0;for(z=i=z-32|0,_[i+16>>2]=t,o=-1,-1!=(0|t)?(o=t+1|0,_[i+20>>2]=(o>>>0)%3|0?o:t+-2|0,o=(t>>>0)%3?t+-1|0:t+2|0):_[i+20>>2]=-1,_[i+24>>2]=o,n=-1==(0|t)?-1:(t>>>0)/3|0,r=e+220|0,a=e+8|0,s=e+368|0;;){e:if(-1!=(0|t)&&-1!=(0|(o=_[_[_[a>>2]+12>>2]+(t<<2)>>2]))){if(!((o>>>0)/3>>>0<n>>>0)&&(o=0,_[r>>2]!=_[e+216>>2]))for(;Zi(_[s>>2]+(o<<4)|0)&&(l=_[e+216>>2],_[i+12>>2]=t,l=l+g(o,144)|0,(c=_[(f=l+136|0)>>2])>>>0<A[l+140>>2]?(_[c>>2]=t,_[f>>2]=c+4):se(l+132|0,i+12|0)),(o=o+1|0)>>>0<(_[r>>2]-_[e+216>>2]|0)/144>>>0;);}else{if(o=0,(0|(l=_[e+216>>2]))==(0|(c=_[r>>2])))break e;for(;_[i+12>>2]=t,f=g(o,144)+l|0,(h=_[(d=f+136|0)>>2])>>>0<A[f+140>>2]?(_[h>>2]=t,_[d>>2]=h+4):(se(f+132|0,i+12|0),c=_[r>>2],l=_[e+216>>2]),(o=o+1|0)>>>0<(c-l|0)/144>>>0;);}if(3==(0|(u=u+1|0)))break;t=_[(i+16|0)+(u<<2)>>2]}return z=i+32|0,1}function gr(e,t){var i=0,r=0,n=0,a=0,s=0;r=_[e+12>>2],(i=_[e+16>>2]-r>>2)>>>0<t>>>0?de(e+12|0,t-i|0):i>>>0<=t>>>0||(_[e+16>>2]=r+(t<<2));e:{if(i=_[e>>2],!(_[e+8>>2]-i>>2>>>0>=t>>>0)){if(t>>>0>=1073741824)break e;r=_[(a=e+4|0)>>2],n=(t=Fa(n=t<<2))+n|0,s=(r=r-i|0)+t|0,(0|r)>=1&&es(t,i,r),_[e>>2]=t,_[e+8>>2]=n,_[a>>2]=s,i&&Ka(i)}return}Re(12024),P()}function kr(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0,v=0;if(z=i=z-48|0,r=_[e+8>>2],n=_[r>>2],s=_[r+4>>2],r=_[_[e+4>>2]+44>>2],_[i+40>>2]=0,_[i+32>>2]=0,_[i+36>>2]=0,n=(s-n>>2>>>0)/3|0,a=_[r+96>>2],n>>>0>(s=(_[r+100>>2]-a|0)/12|0)>>>0?function(e,t,i){var r=0,n=0,a=0,s=0,o=0;e:{t:{s=_[e+8>>2],r=_[(n=e+4|0)>>2];i:{if((s-r|0)/12>>>0>=t>>>0)for(;;)if(e=_[i+4>>2],_[r>>2]=_[i>>2],_[r+4>>2]=e,_[r+8>>2]=_[i+8>>2],r=_[n>>2]+12|0,_[n>>2]=r,!(t=t+-1|0))break i;if(a=_[e>>2],(n=(o=(r-a|0)/12|0)+t|0)>>>0>=357913942)break t;if(a=(s=(s-a|0)/12|0)<<1,r=0,n=s>>>0<178956970?a>>>0<n>>>0?n:a:357913941){if(n>>>0>=357913942)break e;r=Fa(g(n,12))}for(s=r+g(n,12)|0,n=r+g(o,12)|0,r=n;a=_[i+4>>2],_[r>>2]=_[i>>2],_[r+4>>2]=a,_[r+8>>2]=_[i+8>>2],r=r+12|0,t=t+-1|0;);a=e+4|0,t=_[e>>2],i=_[a>>2]-t|0,n=n+g((0|i)/-12|0,12)|0,(0|i)>=1&&es(n,t,i),_[e>>2]=n,_[e+8>>2]=s,_[a>>2]=r,t&&Ka(t)}return}Wa(),P()}Re(12024),P()}(r+96|0,n-s|0,i+32|0):n>>>0>=s>>>0||(_[r+100>>2]=a+g(n,12)),_[e+216>>2]!=_[e+220>>2]){_[i+40>>2]=0,_[i+32>>2]=0,_[i+36>>2]=0,a=_[e+8>>2],t=_[a>>2],r=_[a+4>>2],_[i+24>>2]=0,_[i+16>>2]=0,_[i+20>>2]=0;e:{t:{i:{if(t=r-t|0){if((n=t>>2)>>>0>=1073741824)break i;r=Fa(t),_[i+16>>2]=r,_[i+24>>2]=r+(n<<2),b=i,v=ts(r,0,t)+t|0,_[b+20>>2]=v}if((_[a+28>>2]-_[a+24>>2]|0)<1)break t;for(f=e+220|0,h=e+8|0;;){r:if(-1!=(0|(n=_[_[a+24>>2]+(l<<2)>>2]))){n:if(!(_[_[e+120>>2]+(l>>>3&536870908)>>2]>>>(31&l)&1)&&(0|(t=_[f>>2]))!=(0|(u=_[e+216>>2])))for(d=(t-u|0)/144|0,p=((n>>>0)%3|0?-1:2)+n|0,o=0;;){if(m=n<<2,c=u+g(o,144)|0,t=_[m+_[_[c+68>>2]>>2]>>2],_[_[c+16>>2]+(t>>>3&536870908)>>2]>>>(31&t)&1&&(t=n,r=-1,-1!=(0|p)&&(r=-1,-1!=(0|(s=_[_[a+12>>2]+(p<<2)>>2]))&&(r=s+-1|0,(s>>>0)%3||(r=s+2|0))),(0|t)!=(0|r)))for(c=_[c+32>>2],m=_[c+m>>2];;){if(t=0,-1==(0|r))break e;if((0|m)!=_[c+(r<<2)>>2]){n=r;break n}if(s=n,t=-1,-1!=(0|(r=((r>>>0)%3|0?-1:2)+r|0))&&(t=-1,-1!=(0|(r=_[_[a+12>>2]+(r<<2)>>2]))&&(t=r+-1|0,(r>>>0)%3||(t=r+2|0))),(0|s)==(0|(r=t)))break}if(!((o=o+1|0)>>>0<d>>>0))break}if(t=_[i+36>>2],_[_[i+16>>2]+(n<<2)>>2]=t-_[i+32>>2]>>2,_[i>>2]=n,A[i+40>>2]>t>>>0?(_[t>>2]=n,_[i+36>>2]=t+4):(se(i+32|0,i),a=_[h>>2]),-1!=(0|n)&&-1!=(0|(t=((n>>>0)%3|0?-1:2)+n|0))&&-1!=(0|(t=_[_[a+12>>2]+(t<<2)>>2]))&&-1!=(0|(r=t+((t>>>0)%3|0?-1:2)|0))&&(s=n,(0|r)!=(0|n)))for(;;){t=r;n:{a:if((0|(r=_[f>>2]))!=(0|(o=_[e+216>>2]))){for(u=(r-o|0)/144|0,r=0;;){if(p=_[32+(o+g(r,144)|0)>>2],_[p+(c=t<<2)>>2]==_[p+(s<<2)>>2]){if((r=r+1|0)>>>0<u>>>0)continue;break a}break}if(r=_[i+36>>2],_[c+_[i+16>>2]>>2]=r-_[i+32>>2]>>2,_[i>>2]=t,A[i+40>>2]>r>>>0){_[r>>2]=t,_[i+36>>2]=r+4;break n}se(i+32|0,i),a=_[h>>2];break n}r=_[i+16>>2],_[r+(t<<2)>>2]=_[r+(s<<2)>>2]}if(-1==(0|t))break r;if(-1==(0|(r=t+((t>>>0)%3|0?-1:2)|0)))break r;if(-1==(0|(r=_[_[a+12>>2]+(r<<2)>>2])))break r;if(-1==(0|(r=r+((r>>>0)%3|0?-1:2)|0)))break r;if(s=t,(0|r)==(0|n))break}}if(!((0|(l=l+1|0))<_[a+28>>2]-_[a+24>>2]>>2))break}break t}Wa(),P()}if(n=_[e+4>>2],e=_[n+44>>2],(0|(t=_[e+100>>2]))!=(0|(e=_[e+96>>2])))for(s=(t-e|0)/12|0,r=0,a=_[i+16>>2];l=i+8|0,t=(o=g(r,12))+a|0,_[l>>2]=_[t+8>>2],f=_[t+4>>2],h=_[t>>2],_[i>>2]=h,_[i+4>>2]=f,_[(t=e+o|0)>>2]=h,_[t+4>>2]=_[i+4>>2],_[t+8>>2]=_[l>>2],(r=r+1|0)>>>0<s>>>0;);_[_[n+4>>2]+80>>2]=_[i+36>>2]-_[i+32>>2]>>2,t=1}r=t,(e=_[i+16>>2])&&(_[i+20>>2]=e,Ka(e)),(e=_[i+32>>2])&&(_[i+36>>2]=e,Ka(e))}else{if(f=_[e+4>>2],r=_[f+44>>2],(0|(n=_[r+100>>2]))!=(0|(l=_[r+96>>2])))for(h=(n-l|0)/12|0,u=i+40|0,r=0;;){_[u>>2]=0,_[i+32>>2]=0,_[i+36>>2]=0,s=i;e:{t:{if(-1!=(0|(a=g(r,3)))){if(n=_[_[_[e+8>>2]>>2]+(a<<2)>>2],_[i+32>>2]=n,-1==(0|(o=a+1|0))){_[i+36>>2]=-1,a=0;break t}}else n=-1,_[i+32>>2]=-1,o=0;if(_[i+36>>2]=_[_[_[e+8>>2]>>2]+(o<<2)>>2],d=-1,-1==(0|(a=a+2|0)))break e}d=_[_[_[e+8>>2]>>2]+(a<<2)>>2]}if(_[s+40>>2]=d,s=l+g(r,12)|0,_[s>>2]=n,_[s+4>>2]=_[i+36>>2],_[s+8>>2]=_[i+40>>2],!((r=r+1|0)>>>0<h>>>0))break}_[_[f+4>>2]+80>>2]=t,r=1}return z=i+48|0,r}function xr(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;e:{if(a=_[e>>2],(r=(i=(0|(s=_[e+4>>2]-a|0))/12|0)+1|0)>>>0<357913942){if(o=g(i,12),i=(n=(_[e+8>>2]-a|0)/12|0)<<1,n=n>>>0<178956970?i>>>0<r>>>0?r:i:357913941,i=0,n){if(n>>>0>=357913942)break e;i=Fa(g(n,12))}return r=o+i|0,o=_[t+4>>2],_[r>>2]=_[t>>2],_[r+4>>2]=o,_[r+8>>2]=_[t+8>>2],t=r+g((0|s)/-12|0,12)|0,i=i+g(n,12)|0,r=r+12|0,(0|s)>=1&&es(t,a,s),_[e>>2]=t,_[e+8>>2]=i,_[e+4>>2]=r,void(a&&Ka(a))}Wa(),P()}Re(12024),P()}function Sr(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;e:{if(n=_[e>>2],(r=(i=(s=_[e+4>>2]-n|0)>>2)+1|0)>>>0<1073741824){if(o=i<<2,a=(i=_[e+8>>2]-n|0)>>1,r=i>>2>>>0<536870911?a>>>0<r>>>0?r:a:1073741823,i=0,r){if(r>>>0>=1073741824)break e;i=Fa(r<<2)}return _[(a=o+i|0)>>2]=_[t>>2],t=i+(r<<2)|0,r=a+4|0,(0|s)>=1&&es(i,n,s),_[e>>2]=i,_[e+8>>2]=t,_[e+4>>2]=r,void(n&&Ka(n))}Wa(),P()}Re(12024),P()}function Tr(e){var t=0,i=0,r=0,n=0;i=1;e:if(!((0|(r=_[e+140>>2]))<1)){for(t=r<<4,i=Fa((0|r)!=(268435455&r)?-1:4|t),_[i>>2]=r,r=(i=i+4|0)+t|0,t=i;(0|r)!=(0|(t=Yi(t)+16|0)););if(n=_[e+136>>2],_[e+136>>2]=i,n){if(i=_[(r=n+-4|0)>>2])for(t=n+(i<<4)|0;(0|n)!=(0|(t=t+-16|0)););Ka(r)}if(i=1,!(_[e+140>>2]<1)){for(i=0,t=0;;){if(!Xi(_[e+136>>2]+(t<<4)|0,e))break e;if(!((0|(t=t+1|0))<_[e+140>>2]))break}i=1}}return i}function wr(e,t,i,r){var n,a=0,s=0,o=0,c=0,f=0,h=k(0),u=0,d=k(0);a=_[i>>2],n=e;e:{t:if((s=_[t+4>>2])&&(u=_[t>>2],i=s+-1&a,(c=ls(s))>>>0<=1||(i=a,a>>>0<s>>>0||(i=(a>>>0)%(s>>>0)|0)),o=i,i=_[(i<<2)+u>>2])){for(u=s+-1|0,c=c>>>0>1;;){if(!(i=_[i>>2]))break t;if((0|(f=_[i+4>>2]))!=(0|a)&&(c?f>>>0<s>>>0||(f=(f>>>0)%(s>>>0)|0):f&=u,(0|o)!=(0|f)))break t;if(_[i+8>>2]==(0|a))break}t=0;break e}i=Fa(16),r=_[_[r>>2]>>2],_[i+12>>2]=0,_[i+8>>2]=r,_[i+4>>2]=a,_[i>>2]=0,d=v[t+16>>2],h=k(_[t+12>>2]+1>>>0),!s|!!(k(d*k(s>>>0))<h)?(function(e,t){var i,r=0,n=k(0);r=2;1!=(0|t)&&(r=t,t+-1&t&&(r=da(t)));if(i=_[e+4>>2],r>>>0>i>>>0)return void Ur(e,r);r>>>0>=i>>>0||(n=k(E(k(k(A[e+12>>2])/v[e+16>>2]))),t=n<k(4294967296)&n>=k(0)?~~n>>>0:0,t=i>>>0<3||ls(i)>>>0>1?da(t):t>>>0<2?t:1<<32-S(t+-1|0),(t=r>>>0<t>>>0?t:r)>>>0>=i>>>0||Ur(e,t))}(r=t,(o=0!=(s+-1&s)|s>>>0<3|s<<1)>>>0<(c=(h=k(E(k(h/d))))<k(4294967296)&h>=k(0)?~~h>>>0:0)>>>0?c:o),(s=_[t+4>>2])&s+-1?a>>>0<s>>>0||(a=(a>>>0)%(s>>>0)|0):a&=s+-1):a=o,r=_[t>>2]+(a<<2)|0;t:{if(a=_[r>>2])_[i>>2]=_[a>>2];else{if(o=t+8|0,_[i>>2]=_[o>>2],_[o>>2]=i,_[r>>2]=o,!(r=_[i>>2]))break t;a=_[r+4>>2],(r=s+-1|0)&s?a>>>0<s>>>0||(a=(a>>>0)%(s>>>0)|0):a&=r,a=_[t>>2]+(a<<2)|0}_[a>>2]=i}_[(t=t+12|0)>>2]=_[t>>2]+1,t=1}l[n+4|0]=t,_[e>>2]=i}function Er(e){return _[(e|=0)+8>>2]}function Mr(e,t){var i=0,r=0,n=0,a=0,s=0;r=-1,s=-1,-1!=(0|t)&&(r=((i=t+1|0)>>>0)%3|0?i:t+-2|0,s=t+-1|0,(t>>>0)%3||(s=t+2|0));e:if(!((i=_[e+184>>2])>>>0>7)){t:{i:switch(i-2|0){default:n=_[e+148>>2],i=-1,i=-1!=(0|r)?_[_[n>>2]+(r<<2)>>2]:i,r=1,a=i<<2,i=_[e+156>>2],_[(a=a+i|0)>>2]=_[a>>2]+1,i=((-1!=(0|s)?_[_[n>>2]+(s<<2)>>2]:-1)<<2)+i|0;break t;case 3:a=_[e+148>>2],n=(i=_[e+156>>2])+((-1!=(0|t)?_[_[a>>2]+(t<<2)>>2]:-1)<<2)|0,_[n>>2]=_[n>>2]+1,n=((-1!=(0|r)?_[_[a>>2]+(r<<2)>>2]:-1)<<2)+i|0,_[n>>2]=_[n>>2]+1,r=2,i=((-1!=(0|s)?_[_[a>>2]+(s<<2)>>2]:-1)<<2)+i|0;break t;case 1:a=_[e+148>>2],n=(i=_[e+156>>2])+((-1!=(0|t)?_[_[a>>2]+(t<<2)>>2]:-1)<<2)|0,_[n>>2]=_[n>>2]+1,n=((-1!=(0|r)?_[_[a>>2]+(r<<2)>>2]:-1)<<2)+i|0,_[n>>2]=_[n>>2]+2,r=1,i=((-1!=(0|s)?_[_[a>>2]+(s<<2)>>2]:-1)<<2)+i|0;break t;case 0:case 2:case 4:break e;case 5:break i}a=_[e+148>>2],n=(i=_[e+156>>2])+((-1!=(0|t)?_[_[a>>2]+(t<<2)>>2]:-1)<<2)|0,_[n>>2]=_[n>>2]+2,n=((-1!=(0|r)?_[_[a>>2]+(r<<2)>>2]:-1)<<2)+i|0,_[n>>2]=_[n>>2]+2,r=2,i=((-1!=(0|s)?_[_[a>>2]+(s<<2)>>2]:-1)<<2)+i|0}_[i>>2]=_[i>>2]+r,i=_[e+184>>2]}e:if(!(i>>>0>5)){t:switch(i-1|0){case 0:case 1:case 2:case 3:break e;default:break t}return s=i=e,i=_[i+156>>2],r=-1,-1!=(0|t)&&(t=((r=t+1|0)>>>0)%3|0?r:t+-2|0,r=-1,-1!=(0|t)&&(r=_[_[_[e+148>>2]>>2]+(t<<2)>>2])),void(_[s+188>>2]=_[i+(r<<2)>>2]>5?0:5)}_[e+188>>2]=-1}function Pr(e){var t=0,i=0,r=0,n=0,s=0,o=0,l=0;if(-1!=(0|(t=_[e+172>>2])))return i=_[e+196>>2]+(t<<2)|0,t=(r=_[i>>2])+-1|0,_[i>>2]=t,(0|r)<1?9:(i=e,e=_[12096+(_[_[_[e+184>>2]+g(_[e+172>>2],12)>>2]+(t<<2)>>2]<<2)>>2],_[i+168>>2]=e,e);if(t=7,i=_[e+144>>2],!(((i=b[36+(0|a[_[_[i>>2]+32>>2]](i))>>1])<<24|i<<8&16711680)>>>16>>>0>513)){if(!m[e+76|0])return _[e+168>>2]=1,1;t=0,(i=(s=_[e- -64>>2])+((r=_[e+72>>2])>>>3)|0)>>>0>=(o=_[e+68>>2])>>>0||(n=m[0|i],i=r+1|0,_[e+72>>2]=i,n>>>(7&r)&1&&((t=s+(n=i>>>3)|0)>>>0>=o>>>0?(t=i,i=0):(l=m[0|t],t=r+2|0,_[e+72>>2]=t,n=t>>>3,i=l>>>(7&i)&1),(r=n+s|0)>>>0<o>>>0?(r=m[0|r],_[e+72>>2]=t+1,t=r>>>(7&t)<<1&2):t=0,t=(i|t)<<1|1))}return _[e+168>>2]=t,t}function Rr(e,t){var i=0,r=0,n=0,a=0,s=0;a=-1,r=-1,-1!=(0|t)&&(a=((r=t+1|0)>>>0)%3|0?r:t+-2|0,r=t+-1|0,(t>>>0)%3||(r=t+2|0));e:if(!((i=_[e+168>>2])>>>0>7)){t:{i:switch(i-2|0){default:i=_[e+148>>2],n=1,s=(t=_[e+156>>2])+((-1!=(0|a)?_[_[i>>2]+(a<<2)>>2]:-1)<<2)|0,_[s>>2]=_[s>>2]+1,t=((-1!=(0|r)?_[_[i>>2]+(r<<2)>>2]:-1)<<2)+t|0;break t;case 3:n=_[e+148>>2],i=-1,i=(-1!=(0|t)?_[_[n>>2]+(t<<2)>>2]:i)<<2,t=_[e+156>>2],_[(i=i+t|0)>>2]=_[i>>2]+1,i=((-1!=(0|a)?_[_[n>>2]+(a<<2)>>2]:-1)<<2)+t|0,_[i>>2]=_[i>>2]+1,i=-1,i=-1!=(0|r)?_[_[n>>2]+(r<<2)>>2]:i,n=2,t=t+(i<<2)|0;break t;case 1:n=_[e+148>>2],i=-1,i=(-1!=(0|t)?_[_[n>>2]+(t<<2)>>2]:i)<<2,t=_[e+156>>2],_[(i=i+t|0)>>2]=_[i>>2]+1,i=((-1!=(0|a)?_[_[n>>2]+(a<<2)>>2]:-1)<<2)+t|0,_[i>>2]=_[i>>2]+2,t=((-1!=(0|r)?_[_[n>>2]+(r<<2)>>2]:-1)<<2)+t|0,n=1;break t;case 0:case 2:case 4:break e;case 5:break i}n=_[e+148>>2],i=-1,i=(-1!=(0|t)?_[_[n>>2]+(t<<2)>>2]:i)<<2,t=_[e+156>>2],_[(i=i+t|0)>>2]=_[i>>2]+2,i=((-1!=(0|a)?_[_[n>>2]+(a<<2)>>2]:-1)<<2)+t|0,_[i>>2]=_[i>>2]+2,i=-1,i=-1!=(0|r)?_[_[n>>2]+(r<<2)>>2]:i,n=2,t=t+(i<<2)|0}_[t>>2]=_[t>>2]+n}i=-1,i=-1!=(0|a)?_[_[_[e+148>>2]>>2]+(a<<2)>>2]:i,t=a=_[e+176>>2],r=e,(0|(i=_[_[e+156>>2]+(i<<2)>>2]))>=(0|t)&&(t=(0|i)>(0|(e=_[e+180>>2]))?e:i),_[r+172>>2]=t-a}function Cr(e){var t=0,i=0,r=0,n=0,a=0;if(_[(e|=0)>>2]=11272,r=_[(t=e+368|0)>>2],_[t>>2]=0,r){if(t=_[(i=r+-4|0)>>2])for(t=r+(t<<4)|0;(0|r)!=(0|(t=t+-16|0)););Ka(i)}if(r=_[e+216>>2]){if(i=r,(0|r)!=(0|(t=_[(a=e+220|0)>>2]))){for(;(i=_[t+-12>>2])&&(_[t+-8>>2]=i,Ka(i)),(i=_[t+-28>>2])&&(_[t+-24>>2]=i,Ka(i)),i=t+-144|0,(n=_[t+-40>>2])&&(_[t+-36>>2]=n,Ka(n)),_r(t+-140|0),(0|r)!=(0|(t=i)););i=_[e+216>>2]}_[a>>2]=r,Ka(i)}if((t=_[e+196>>2])&&(_[e+200>>2]=t,Ka(t)),(t=_[e+184>>2])&&(_[e+188>>2]=t,Ka(t)),(t=_[e+172>>2])&&(_[e+176>>2]=t,Ka(t)),(t=_[e+160>>2])&&(_[e+164>>2]=t,Ka(t)),t=_[e+144>>2])for(;r=_[t>>2],Ka(t),t=r;);return t=_[(r=e+136|0)>>2],_[r>>2]=0,t&&Ka(t),(t=_[e+120>>2])&&Ka(t),(t=_[e+108>>2])&&Ka(t),(t=_[e+96>>2])&&Ka(t),(t=_[e+72>>2])&&(_[e+76>>2]=t,Ka(t)),(t=_[e+60>>2])&&Ka(t),(t=_[e+48>>2])&&(_[e+52>>2]=t,Ka(t)),(t=_[e+36>>2])&&(_[e+40>>2]=t,Ka(t)),(t=_[e+24>>2])&&(_[e+28>>2]=t,Ka(t)),(t=_[e+12>>2])&&(_[e+16>>2]=t,Ka(t)),t=_[e+8>>2],_[e+8>>2]=0,t&&ne(e+8|0,t),0|e}function Or(e){var t=0,i=0,r=0,n=0,a=0;if(_[(e|=0)>>2]=11324,(t=_[e+388>>2])&&(_[e+392>>2]=t,Ka(t)),r=_[(t=e+368|0)>>2],_[t>>2]=0,r){if(t=_[(i=r+-4|0)>>2])for(t=r+(t<<4)|0;(0|r)!=(0|(t=t+-16|0)););Ka(i)}if(r=_[e+216>>2]){if(i=r,(0|r)!=(0|(t=_[(a=e+220|0)>>2]))){for(;(i=_[t+-12>>2])&&(_[t+-8>>2]=i,Ka(i)),(i=_[t+-28>>2])&&(_[t+-24>>2]=i,Ka(i)),i=t+-144|0,(n=_[t+-40>>2])&&(_[t+-36>>2]=n,Ka(n)),_r(t+-140|0),(0|r)!=(0|(t=i)););i=_[e+216>>2]}_[a>>2]=r,Ka(i)}if((t=_[e+196>>2])&&(_[e+200>>2]=t,Ka(t)),(t=_[e+184>>2])&&(_[e+188>>2]=t,Ka(t)),(t=_[e+172>>2])&&(_[e+176>>2]=t,Ka(t)),(t=_[e+160>>2])&&(_[e+164>>2]=t,Ka(t)),t=_[e+144>>2])for(;r=_[t>>2],Ka(t),t=r;);return t=_[(r=e+136|0)>>2],_[r>>2]=0,t&&Ka(t),(t=_[e+120>>2])&&Ka(t),(t=_[e+108>>2])&&Ka(t),(t=_[e+96>>2])&&Ka(t),(t=_[e+72>>2])&&(_[e+76>>2]=t,Ka(t)),(t=_[e+60>>2])&&Ka(t),(t=_[e+48>>2])&&(_[e+52>>2]=t,Ka(t)),(t=_[e+36>>2])&&(_[e+40>>2]=t,Ka(t)),(t=_[e+24>>2])&&(_[e+28>>2]=t,Ka(t)),(t=_[e+12>>2])&&(_[e+16>>2]=t,Ka(t)),t=_[e+8>>2],_[e+8>>2]=0,t&&ne(e+8|0,t),0|e}function Ir(e){var t,i=0,r=0,n=0,a=0;if(_[(e|=0)>>2]=11372,function(e){var t=0,i=0,r=0,n=0,a=0;(t=_[e+196>>2])&&(_[e+200>>2]=t,Ka(t));if(t=_[e+184>>2]){if(i=_[(a=e+188|0)>>2],r=t,(0|t)!=(0|i)){for(;(n=_[(r=i+-12|0)>>2])&&(_[i+-8>>2]=n,Ka(n)),(0|(i=r))!=(0|t););r=_[e+184>>2]}_[a>>2]=t,Ka(r)}(t=_[e+156>>2])&&(_[e+160>>2]=t,Ka(t));if(e=_[(t=e+136|0)>>2],_[t>>2]=0,e){if(t=_[(i=e+-4|0)>>2])for(t=e+(t<<4)|0;(0|e)!=(0|(t=t+-16|0)););Ka(i)}}(e+232|0),t=_[e+216>>2]){if(n=r=t,(0|r)!=(0|(i=_[(a=e+220|0)>>2]))){for(;(r=_[i+-12>>2])&&(_[i+-8>>2]=r,Ka(r)),(r=_[i+-28>>2])&&(_[i+-24>>2]=r,Ka(r)),r=i+-144|0,(n=_[i+-40>>2])&&(_[i+-36>>2]=n,Ka(n)),_r(i+-140|0),(0|t)!=(0|(i=r)););n=_[e+216>>2]}r=n,_[a>>2]=t,Ka(r)}if((i=_[e+196>>2])&&(_[e+200>>2]=i,Ka(i)),(i=_[e+184>>2])&&(_[e+188>>2]=i,Ka(i)),(i=_[e+172>>2])&&(_[e+176>>2]=i,Ka(i)),(i=_[e+160>>2])&&(_[e+164>>2]=i,Ka(i)),i=_[e+144>>2])for(;r=_[i>>2],Ka(i),i=r;);return r=_[(i=e+136|0)>>2],_[i>>2]=0,r&&Ka(r),(i=_[e+120>>2])&&Ka(i),(i=_[e+108>>2])&&Ka(i),(i=_[e+96>>2])&&Ka(i),(i=_[e+72>>2])&&(_[e+76>>2]=i,Ka(i)),(i=_[e+60>>2])&&Ka(i),(i=_[e+48>>2])&&(_[e+52>>2]=i,Ka(i)),(i=_[e+36>>2])&&(_[e+40>>2]=i,Ka(i)),(i=_[e+24>>2])&&(_[e+28>>2]=i,Ka(i)),(i=_[e+12>>2])&&(_[e+16>>2]=i,Ka(i)),i=_[e+8>>2],_[e+8>>2]=0,i&&ne(e+8|0,i),0|e}function Dr(e,t){var i=0,r=0,n=0;e:{if((0|e)!=(0|t)){if(n=e,r=0,i=_[t+4>>2]){if(i>>>0<=_[e+8>>2]<<5>>>0)r=_[e>>2];else{if((r=_[e>>2])&&(Ka(r),_[e+8>>2]=0,_[e>>2]=0,_[e+4>>2]=0,i=_[t+4>>2]),(0|i)<=-1)break e;r=Fa((i=1+(i+-1>>>5)|0)<<2),_[e+8>>2]=i,_[e+4>>2]=0,_[e>>2]=r,i=_[t+4>>2]}is(r,_[t>>2],4+(i+-1>>>3&536870908)|0),r=_[t+4>>2]}_[n+4>>2]=r}return}Wa(),P()}function Fr(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0;z=i=z-32|0,_[i+8>>2]=t;e:if(_[e+92>>2]!=_[e+88>>2]){(0|(r=_[(a=e+52|0)>>2]))==_[e+56>>2]?Sr(e+48|0,i+8|0):(_[r>>2]=t,_[a>>2]=r+4),_[e+84>>2]=0,t=-1,a=-1,-1!=(0|(r=_[i+8>>2]))&&(n=_[e+4>>2],-1!=(0|(s=((s=r+1|0)>>>0)%3|0?s:r+-2|0))&&(t=_[_[n>>2]+(s<<2)>>2]),-1!=(0|(r=r+((r>>>0)%3|0?-1:2)|0))&&(a=_[_[n>>2]+(r<<2)>>2])),r=_[e+36>>2],(s=_[(n=r+(t>>>3&536870908)|0)>>2])&(l=1<<(31&t))||(_[n>>2]=s|l,r=-1,-1!=(0|(n=_[i+8>>2]))&&(r=((r=n+1|0)>>>0)%3|0?r:n+-2|0),_[i+16>>2]=r,n=_[e+20>>2],s=(r>>>0)/3|0,s=_[(_[_[e+16>>2]+96>>2]+g(s,12)|0)+(r-g(s,3)<<2)>>2],_[i+24>>2]=s,n=_[n+4>>2],(0|(r=_[(l=n+4|0)>>2]))==_[n+8>>2]?Sr(n,i+24|0):(_[r>>2]=s,_[l>>2]=r+4),r=_[(s=e+12|0)>>2],(0|(n=_[(l=r+4|0)>>2]))==_[r+8>>2]?(Sr(r,i+16|0),r=_[s>>2]):(_[n>>2]=_[i+16>>2],_[l>>2]=n+4),_[_[r+12>>2]+(t<<2)>>2]=_[r+24>>2],_[r+24>>2]=_[r+24>>2]+1,r=_[e+36>>2]),(r=_[(t=r+(a>>>3&536870908)|0)>>2])&(n=1<<(31&a))||(_[t>>2]=r|n,c=t=i,r=-1,-1!=(0|(n=_[t+8>>2]))&&(r=n+-1|0,(n>>>0)%3||(r=n+2|0)),_[c+16>>2]=r,t=_[e+20>>2],n=(r>>>0)/3|0,n=_[(_[_[e+16>>2]+96>>2]+g(n,12)|0)+(r-g(n,3)<<2)>>2],_[i+24>>2]=n,r=_[t+4>>2],(0|(t=_[(s=r+4|0)>>2]))==_[r+8>>2]?Sr(r,i+24|0):(_[t>>2]=n,_[s>>2]=t+4),t=_[(n=e+12|0)>>2],(0|(r=_[(s=t+4|0)>>2]))==_[t+8>>2]?(Sr(t,i+16|0),t=_[n>>2]):(_[r>>2]=_[i+16>>2],_[s>>2]=r+4),_[_[t+12>>2]+(a<<2)>>2]=_[t+24>>2],_[t+24>>2]=_[t+24>>2]+1),t=-1,-1!=(0|(r=_[i+8>>2]))&&(t=_[_[_[e+4>>2]>>2]+(r<<2)>>2]),r=_[e+36>>2]+(t>>>3&536870908)|0,(a=_[r>>2])&(n=1<<(31&t))||(_[r>>2]=n|a,r=_[i+8>>2],_[i+16>>2]=r,a=_[e+20>>2],n=(r>>>0)/3|0,n=_[(_[_[e+16>>2]+96>>2]+g(n,12)|0)+(r-g(n,3)<<2)>>2],_[i+24>>2]=n,a=_[a+4>>2],(0|(r=_[(s=a+4|0)>>2]))==_[a+8>>2]?Sr(a,i+24|0):(_[r>>2]=n,_[s>>2]=r+4),a=_[(n=e+12|0)>>2],(0|(r=_[(s=a+4|0)>>2]))==_[a+8>>2]?(Sr(a,i+16|0),a=_[n>>2]):(_[r>>2]=_[i+16>>2],_[s>>2]=r+4),_[_[a+12>>2]+(t<<2)>>2]=_[a+24>>2],_[a+24>>2]=_[a+24>>2]+1);t:if(!((0|(r=_[e+84>>2]))>2))for(s=e+24|0,l=e+36|0,d=e+16|0,p=e+20|0,h=e+88|0;;){if(a=g(r,12)+e|0,(0|(t=_[(n=a+52|0)>>2]))==_[a+48>>2]){if(t=(0|r)<2,r=r+1|0,t)continue;break t}if(t=_[(a=t+-4|0)>>2],_[n>>2]=a,_[e+84>>2]=r,_[i+8>>2]=t,-1==(0|t))break e;a=_[s>>2];i:if(!(_[a+((n=(t>>>0)/3|0)>>>3&268435452)>>2]>>>(31&n)&1)){r:{for(;;){if(_[(r=((t=(t>>>0)/3|0)>>>3&268435452)+a|0)>>2]=_[r>>2]|1<<(31&t),t=-1,-1!=(0|(a=_[i+8>>2]))&&(t=_[_[_[e+4>>2]>>2]+(a<<2)>>2]),r=_[l>>2]+(t>>>3&536870908)|0,(n=_[r>>2])&(o=1<<(31&t))||(_[r>>2]=n|o,r=_[i+8>>2],_[i+16>>2]=r,a=_[p>>2],n=(r>>>0)/3|0,n=_[(_[_[d>>2]+96>>2]+g(n,12)|0)+(r-g(n,3)<<2)>>2],_[i+24>>2]=n,a=_[a+4>>2],(0|(r=_[(o=a+4|0)>>2]))==_[a+8>>2]?Sr(a,i+24|0):(_[r>>2]=n,_[o>>2]=r+4),a=_[(n=e+12|0)>>2],(0|(r=_[(o=a+4|0)>>2]))==_[a+8>>2]?(Sr(a,i+16|0),a=_[n>>2]):(_[r>>2]=_[i+16>>2],_[o>>2]=r+4),_[_[a+12>>2]+(t<<2)>>2]=_[a+24>>2],_[a+24>>2]=_[a+24>>2]+1,a=_[i+8>>2]),-1==(0|a))break r;o=_[(u=e+4|0)>>2],t=-1,r=-1,-1!=(0|(n=((n=a+1|0)>>>0)%3|0?n:a+-2|0))&&(r=_[_[o+12>>2]+(n<<2)>>2]),-1!=(0|(a=((a>>>0)%3|0?-1:2)+a|0))&&(t=_[_[o+12>>2]+(a<<2)>>2]),n=(t>>>0)/3|0,f=(r>>>0)/3|0,a=1,(c=-1==(0|r))||(a=c?-1:f,a=_[_[s>>2]+(a>>>3&536870908)>>2]>>>(31&a)&1);n:{a:{s:{if(-1==(0|t)){if(!a)break s;break r}if(n=-1==(0|t)?-1:n,!(_[_[s>>2]+(n>>>3&536870908)>>2]>>>(31&n)&1)){if(n=0,c=a,o=_[_[o>>2]+(t<<2)>>2],_[_[l>>2]+(o>>>3&536870908)>>2]>>>(31&o)&1||(o=_[h>>2]+(o<<2)|0,n=_[o>>2],_[o>>2]=n+1,n=(0|n)<1?2:1),(0|n)<=_[e+84>>2]&&c)break a;_[i+24>>2]=t,f=g(n,12)+e|0,(0|(o=_[(c=f+52|0)>>2]))==_[f+56>>2]?Sr(f+48|0,i+24|0):(_[o>>2]=t,_[c>>2]=o+4),_[e+84>>2]<=(0|n)||(_[e+84>>2]=n)}if(a)break r}if(t=-1,a=0,t=-1!=(0|r)?_[_[_[u>>2]>>2]+(r<<2)>>2]:t,_[_[l>>2]+(t>>>3&536870908)>>2]>>>(31&t)&1||(a=_[h>>2]+(t<<2)|0,t=_[a>>2],_[a>>2]=t+1,a=(0|t)<1?2:1),(0|a)>_[e+84>>2])break n;t=r}_[i+8>>2]=t,a=_[s>>2];continue}break}if(_[i+24>>2]=r,n=g(a,12)+e|0,(0|(t=_[(o=n+52|0)>>2]))==_[n+56>>2]?Sr(n+48|0,i+24|0):(_[t>>2]=r,_[o>>2]=t+4),(0|(r=_[e+84>>2]))<=(0|a))break i;_[e+84>>2]=a,r=a;break i}r=_[e+84>>2]}if(!((0|r)<3))break}_[i+8>>2]=-1}return z=i+32|0,1}function Nr(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0;z=i=z-32|0,_[i+8>>2]=t;e:if(-1!=(0|t)){if(s=1,r=(t>>>0)/3|0,!(_[_[e+24>>2]+(r>>>3&268435452)>>2]>>>(31&r)&1))if(r=e+52|0,a=_[e+48>>2],_[r>>2]=a,h=e+48|0,(0|a)==_[e+56>>2]?Sr(h,i+8|0):(_[a>>2]=t,_[r>>2]=a+4),s=-1,-1!=(0|(a=_[i+8>>2])))if(r=_[e+4>>2],-1!=(0|(t=((t=a+1|0)>>>0)%3|0?t:a+-2|0))&&(s=_[_[r>>2]+(t<<2)>>2]),-1!=(0|(t=a+((a>>>0)%3|0?-1:2)|0)))if(-1!=(0|s))if(-1!=(0|(o=_[_[r>>2]+(t<<2)>>2])))if(t=_[e+36>>2],(a=_[(n=t+(s>>>3&536870908)|0)>>2])&(r=1<<(31&s))||(_[n>>2]=r|a,n=-1,-1!=(0|(r=_[i+8>>2]))&&(n=((t=r+1|0)>>>0)%3|0?t:r+-2|0),_[i+16>>2]=n,a=_[e+20>>2],t=(n>>>0)/3|0,r=_[(_[_[e+16>>2]+96>>2]+g(t,12)|0)+(n-g(t,3)<<2)>>2],_[i+24>>2]=r,a=_[a+4>>2],(0|(n=_[(t=a+4|0)>>2]))==_[a+8>>2]?Sr(a,i+24|0):(_[n>>2]=r,_[t>>2]=n+4),n=_[(r=e+12|0)>>2],(0|(a=_[(t=n+4|0)>>2]))==_[n+8>>2]?(Sr(n,i+16|0),n=_[r>>2]):(_[a>>2]=_[i+16>>2],_[t>>2]=a+4),_[_[n+12>>2]+(s<<2)>>2]=_[n+24>>2],_[n+24>>2]=_[n+24>>2]+1,t=_[e+36>>2]),(r=_[(a=(o>>>3&536870908)+t|0)>>2])&(t=1<<(31&o))||(_[a>>2]=t|r,a=t=i,n=-1,-1!=(0|(r=_[t+8>>2]))&&(n=r+-1|0,(r>>>0)%3||(n=r+2|0)),_[a+16>>2]=n,a=_[e+20>>2],t=(n>>>0)/3|0,r=_[(_[_[e+16>>2]+96>>2]+g(t,12)|0)+(n-g(t,3)<<2)>>2],_[i+24>>2]=r,a=_[a+4>>2],(0|(n=_[(t=a+4|0)>>2]))==_[a+8>>2]?Sr(a,i+24|0):(_[n>>2]=r,_[t>>2]=n+4),s=_[(r=e+12|0)>>2],(0|(a=_[(t=s+4|0)>>2]))==_[s+8>>2]?(Sr(s,i+16|0),s=_[r>>2]):(_[a>>2]=_[i+16>>2],_[t>>2]=a+4),_[_[s+12>>2]+(o<<2)>>2]=_[s+24>>2],_[s+24>>2]=_[s+24>>2]+1),(0|(t=_[(c=e+52|0)>>2]))!=_[e+48>>2])for(f=e+24|0,u=e+4|0,d=e+36|0,p=e+16|0,m=e+20|0,b=e+56|0;;){r=_[(n=t+-4|0)>>2],_[i+8>>2]=r,t=(r>>>0)/3|0;t:{i:{if(-1!=(0|r)&&(a=_[f>>2]+(t>>>3&268435452)|0,!((r=_[a>>2])&(t=1<<(31&t))))){if(_[a>>2]=t|r,-1!=(0|(t=_[i+8>>2])))break i;s=0;break e}_[c>>2]=n;break t}i:{r:{n:{for(;;){if(l=_[u>>2],-1==(0|(r=_[_[l>>2]+(t<<2)>>2]))){s=0;break e}o=_[d>>2]+(r>>>3&536870908)|0;a:{if(!((n=_[o>>2])&(a=1<<(31&r)))){if(-1!=(0|(r=_[(s=r<<2)+_[l+24>>2]>>2]))&&-1!=(0|(t=((t=r+1|0)>>>0)%3|0?t:r+-2|0))&&-1!=(0|(l=_[_[l+12>>2]+(t<<2)>>2]))&&(r=0,-1!=(0|(((t=l+1|0)>>>0)%3|0?t:l+-2|0)))||(r=1),_[o>>2]=a|n,a=_[i+8>>2],_[i+16>>2]=a,n=_[m>>2],t=(a>>>0)/3|0,a=_[(_[_[p>>2]+96>>2]+g(t,12)|0)+(a-g(t,3)<<2)>>2],_[i+24>>2]=a,n=_[n+4>>2],(0|(o=_[(t=n+4|0)>>2]))==_[n+8>>2]?Sr(n,i+24|0):(_[o>>2]=a,_[t>>2]=o+4),t=_[(n=e+12|0)>>2],(0|(o=_[(a=t+4|0)>>2]))==_[t+8>>2]?(Sr(t,i+16|0),t=_[n>>2]):(_[o>>2]=_[i+16>>2],_[a>>2]=o+4),_[_[t+12>>2]+s>>2]=_[t+24>>2],_[t+24>>2]=_[t+24>>2]+1,l=_[u>>2],t=_[i+8>>2],!r){r=i,n=-1,-1!=(0|t)&&(n=-1,-1!=(0|(t=((a=t+1|0)>>>0)%3|0?a:t+-2|0))&&(n=_[_[l+12>>2]+(t<<2)>>2])),_[r+8>>2]=n,t=(n>>>0)/3|0;break a}if(-1==(0|t))break r}n=-1,s=-1,-1!=(0|(r=((r=t+1|0)>>>0)%3|0?r:t+-2|0))&&(s=_[_[l+12>>2]+(r<<2)>>2]),_[i+24>>2]=s,-1!=(0|(t=((t>>>0)%3|0?-1:2)+t|0))&&(n=_[_[l+12>>2]+(t<<2)>>2]),a=(n>>>0)/3|0,t=(s>>>0)/3|0,(r=-1==(0|s))?(t=-1,r=1):(r=r?-1:t,r=_[_[f>>2]+(r>>>3&536870908)>>2]>>>(31&r)&1);s:{if(-1!=(0|n)){if(o=-1==(0|n)?-1:a,o=_[_[f>>2]+(o>>>3&536870908)>>2]&1<<(31&o),r){if(s=n,t=a,!o)break s;break i}if(o)break s;if(t=_[c>>2],_[t+-4>>2]=n,(0|t)==_[b>>2])break n;_[t>>2]=_[i+24>>2],_[c>>2]=t+4;break t}if(r)break i}_[i+8>>2]=s}if(r=_[f>>2]+(t>>>3&536870908)|0,_[r>>2]=_[r>>2]|1<<(31&t),-1==(0|(t=_[i+8>>2])))break}s=0;break e}Sr(h,i+24|0);break t}_[i+24>>2]=-1}_[c>>2]=_[c>>2]+-4}if(s=1,(0|(t=_[c>>2]))==_[e+48>>2])break}else s=1;else s=0;else s=0;else s=0;else s=0}else s=1;return z=i+32|0,s}function Br(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0;z=i=z-32|0,_[i+8>>2]=t;e:if(-1!=(0|t)){if(r=1,s=(t>>>0)/3|0,!(_[_[e+24>>2]+(s>>>3&268435452)>>2]>>>(31&s)&1))if(s=e+52|0,r=_[e+48>>2],_[s>>2]=r,h=e+48|0,(0|r)==_[e+56>>2]?Sr(h,i+8|0):(_[r>>2]=t,_[s>>2]=r+4),n=-1,r=_[e+4>>2],-1!=(0|(t=_[i+8>>2]))?(s=_[r+28>>2],r=_[s+((((r=t+1|0)>>>0)%3|0?r:t+-2|0)<<2)>>2],n=(t>>>0)%3?t+-1|0:t+2|0):(s=_[r+28>>2],r=_[s+-4>>2]),-1!=(0|r))if(-1!=(0|(s=_[(n<<2)+s>>2])))if(t=_[e+36>>2],(n=_[(a=t+(r>>>3&536870908)|0)>>2])&(o=1<<(31&r))||(_[a>>2]=n|o,n=-1,-1!=(0|(t=_[i+8>>2]))&&(n=((a=t+1|0)>>>0)%3|0?a:t+-2|0),_[i+16>>2]=n,t=_[e+20>>2],a=(n>>>0)/3|0,n=_[(_[_[e+16>>2]+96>>2]+g(a,12)|0)+(n-g(a,3)<<2)>>2],_[i+24>>2]=n,a=_[t+4>>2],(0|(t=_[(o=a+4|0)>>2]))==_[a+8>>2]?Sr(a,i+24|0):(_[t>>2]=n,_[o>>2]=t+4),n=_[(a=e+12|0)>>2],(0|(t=_[(o=n+4|0)>>2]))==_[n+8>>2]?(Sr(n,i+16|0),n=_[a>>2]):(_[t>>2]=_[i+16>>2],_[o>>2]=t+4),_[_[n+12>>2]+(r<<2)>>2]=_[n+24>>2],_[n+24>>2]=_[n+24>>2]+1,t=_[e+36>>2]),(r=_[(t=(s>>>3&536870908)+t|0)>>2])&(a=1<<(31&s))||(_[t>>2]=r|a,n=t=i,r=-1,-1!=(0|(a=_[t+8>>2]))&&(r=a+-1|0,(a>>>0)%3||(r=a+2|0)),_[n+16>>2]=r,t=_[e+20>>2],a=(r>>>0)/3|0,a=_[(_[_[e+16>>2]+96>>2]+g(a,12)|0)+(r-g(a,3)<<2)>>2],_[i+24>>2]=a,r=_[t+4>>2],(0|(t=_[(n=r+4|0)>>2]))==_[r+8>>2]?Sr(r,i+24|0):(_[t>>2]=a,_[n>>2]=t+4),r=_[(a=e+12|0)>>2],(0|(t=_[(n=r+4|0)>>2]))==_[r+8>>2]?(Sr(r,i+16|0),r=_[a>>2]):(_[t>>2]=_[i+16>>2],_[n>>2]=t+4),_[_[r+12>>2]+(s<<2)>>2]=_[r+24>>2],_[r+24>>2]=_[r+24>>2]+1),(0|(t=_[(o=e+52|0)>>2]))!=_[e+48>>2])for(c=e+24|0,f=e+4|0,d=e+36|0,p=e+16|0,m=e+20|0,b=e+56|0;;){t=_[(s=t+-4|0)>>2],_[i+8>>2]=t,r=(t>>>0)/3|0;t:{i:{if(-1!=(0|t)&&(t=_[c>>2]+(r>>>3&268435452)|0,!((a=_[t>>2])&(r=1<<(31&r))))){if(_[t>>2]=r|a,n=_[f>>2],t=_[i+8>>2],-1!=(0|(r=_[_[n+28>>2]+(t<<2)>>2])))break i;r=0;break e}_[o>>2]=s;break t}i:{r:{n:{for(;;){if(s=_[d>>2]+(r>>>3&536870908)|0,(a=_[s>>2])&(l=1<<(31&r))||(t=1,-1!=(0|(r=_[(u=r<<2)+_[n+40>>2]>>2]))&&(-1==(0|(t=((t=r+1|0)>>>0)%3|0?t:r+-2|0))|_[_[n>>2]+(t>>>3&536870908)>>2]>>>(31&t)&1||-1==(0|(r=_[_[_[n+64>>2]+12>>2]+(t<<2)>>2]))||(t=0,-1==(0|(((n=r+1|0)>>>0)%3|0?n:r+-2|0))))&&(t=1),r=t,_[s>>2]=a|l,t=_[i+8>>2],_[i+16>>2]=t,s=_[m>>2],a=(t>>>0)/3|0,a=_[(_[_[p>>2]+96>>2]+g(a,12)|0)+(t-g(a,3)<<2)>>2],_[i+24>>2]=a,s=_[s+4>>2],(0|(t=_[(n=s+4|0)>>2]))==_[s+8>>2]?Sr(s,i+24|0):(_[t>>2]=a,_[n>>2]=t+4),t=_[(a=e+12|0)>>2],(0|(s=_[(n=t+4|0)>>2]))==_[t+8>>2]?(Sr(t,i+16|0),t=_[a>>2]):(_[s>>2]=_[i+16>>2],_[n>>2]=s+4),_[_[t+12>>2]+u>>2]=_[t+24>>2],_[t+24>>2]=_[t+24>>2]+1,n=_[f>>2],t=_[i+8>>2],r)){if(-1==(0|t))break r;s=-1,a=i,r=-1,-1!=(0|(l=((l=t+1|0)>>>0)%3|0?l:t+-2|0))&&(r=-1,_[_[n>>2]+(l>>>3&536870908)>>2]>>>(31&l)&1||(r=_[_[_[n+64>>2]+12>>2]+(l<<2)>>2])),_[a+24>>2]=r,-1==(0|(t=((t>>>0)%3|0?-1:2)+t|0))|_[_[n>>2]+(t>>>3&536870908)>>2]>>>(31&t)&1||(s=_[_[_[n+64>>2]+12>>2]+(t<<2)>>2]),a=(s>>>0)/3|0,t=(r>>>0)/3|0,(n=-1==(0|r))?(t=-1,n=1):(n=n?-1:t,n=_[_[c>>2]+(n>>>3&536870908)>>2]>>>(31&n)&1);a:{if(-1!=(0|s)){if(l=-1==(0|s)?-1:a,l=_[_[c>>2]+(l>>>3&536870908)>>2]&1<<(31&l),n){if(r=s,t=a,!l)break a;break i}if(l)break a;if(t=_[o>>2],_[t+-4>>2]=s,(0|t)==_[b>>2])break n;_[t>>2]=_[i+24>>2],_[o>>2]=t+4;break t}if(n)break i}_[i+8>>2]=r}else r=-1,-1!=(0|t)&&(-1==(0|(t=((s=t+1|0)>>>0)%3|0?s:t+-2|0))|_[_[n>>2]+(t>>>3&536870908)>>2]>>>(31&t)&1||(r=_[_[_[n+64>>2]+12>>2]+(t<<2)>>2])),_[i+8>>2]=r,t=(r>>>0)/3|0;if(r=_[c>>2]+(t>>>3&536870908)|0,_[r>>2]=_[r>>2]|1<<(31&t),n=_[f>>2],t=_[i+8>>2],-1==(0|(r=_[_[n+28>>2]+(t<<2)>>2])))break}r=0;break e}Sr(h,i+24|0);break t}_[i+24>>2]=-1}_[o>>2]=_[o>>2]+-4}if(r=1,(0|(t=_[o>>2]))==_[e+48>>2])break}else r=1;else r=0;else r=0}else r=1;return z=i+32|0,r}function Lr(e,t){var i=0,r=0,n=0;return _[e>>2]=_[t>>2],_[e+4>>2]=_[t+4>>2],_[e+8>>2]=_[t+8>>2],i=t+12|0,_[e+12>>2]=_[i>>2],_[i>>2]=0,_[t+4>>2]=0,_[t+8>>2]=0,i=t+16|0,_[e+16>>2]=_[i>>2],_[e+20>>2]=_[t+20>>2],r=t+24|0,_[e+24>>2]=_[r>>2],_[r>>2]=0,_[i>>2]=0,_[i+4>>2]=0,r=m[t+28|0],_[(n=e+40|0)>>2]=0,_[(i=e+32|0)>>2]=0,_[i+4>>2]=0,l[e+28|0]=r,r=i,i=t+32|0,_[r>>2]=_[i>>2],_[e+36>>2]=_[t+36>>2],r=t+40|0,_[n>>2]=_[r>>2],_[r>>2]=0,_[i>>2]=0,_[i+4>>2]=0,_[(r=e+52|0)>>2]=0,_[(i=e+44|0)>>2]=0,_[i+4>>2]=0,n=i,i=t+44|0,_[n>>2]=_[i>>2],_[e+48>>2]=_[t+48>>2],n=r,r=t+52|0,_[n>>2]=_[r>>2],_[r>>2]=0,_[i>>2]=0,_[i+4>>2]=0,_[(r=e- -64|0)>>2]=0,_[(i=e+56|0)>>2]=0,_[i+4>>2]=0,n=i,i=t+56|0,_[n>>2]=_[i>>2],_[e+60>>2]=_[t+60>>2],n=r,r=t- -64|0,_[n>>2]=_[r>>2],_[r>>2]=0,_[i>>2]=0,_[i+4>>2]=0,_[e+68>>2]=_[t+68>>2],r=_[t+72>>2],_[(n=e+84|0)>>2]=0,_[(i=e+76|0)>>2]=0,_[i+4>>2]=0,_[e+72>>2]=r,r=i,i=t+76|0,_[r>>2]=_[i>>2],_[e+80>>2]=_[t+80>>2],r=t+84|0,_[n>>2]=_[r>>2],_[r>>2]=0,_[i>>2]=0,_[i+4>>2]=0,_[(r=e+96|0)>>2]=0,_[(i=e+88|0)>>2]=0,_[i+4>>2]=0,n=i,i=t+88|0,_[n>>2]=_[i>>2],_[e+92>>2]=_[t+92>>2],n=r,r=t+96|0,_[n>>2]=_[r>>2],_[r>>2]=0,_[i>>2]=0,_[i+4>>2]=0,i=m[t+100|0],_[(r=e+112|0)>>2]=0,_[e+104>>2]=0,_[e+108>>2]=0,l[e+100|0]=i,_[e+104>>2]=_[t+104>>2],_[e+108>>2]=_[t+108>>2],i=t+112|0,_[r>>2]=_[i>>2],_[i>>2]=0,_[t+104>>2]=0,_[t+108>>2]=0,_[(r=e+124|0)>>2]=0,_[(i=e+116|0)>>2]=0,_[i+4>>2]=0,n=i,i=t+116|0,_[n>>2]=_[i>>2],_[e+120>>2]=_[t+120>>2],n=r,r=t+124|0,_[n>>2]=_[r>>2],_[r>>2]=0,_[i>>2]=0,_[i+4>>2]=0,i=_[t+128>>2],_[(r=e+140|0)>>2]=0,_[e+132>>2]=0,_[e+136>>2]=0,_[e+128>>2]=i,_[e+132>>2]=_[t+132>>2],_[e+136>>2]=_[t+136>>2],i=t+140|0,_[r>>2]=_[i>>2],_[i>>2]=0,_[t+132>>2]=0,_[t+136>>2]=0,e}function Ur(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;e:{t:if(t){if(t>>>0>=1073741824)break e;for(i=Fa(t<<2),r=_[e>>2],_[e>>2]=i,r&&Ka(r),_[e+4>>2]=t,i=0;_[_[e>>2]+(i<<2)>>2]=0,(0|(i=i+1|0))!=(0|t););if(!(a=_[(r=e+8|0)>>2]))break t;if(s=_[a+4>>2],(i=ls(t))>>>0<=1?s&=t+-1:s>>>0<t>>>0||(s=(s>>>0)%(t>>>0)|0),_[_[e>>2]+(s<<2)>>2]=r,!(r=_[a>>2]))break t;for(c=t+-1|0,f=i>>>0>1;;){if(n=_[r+4>>2],f?n>>>0<t>>>0||(n=(n>>>0)%(t>>>0)|0):n&=c,(0|n)!=(0|s))if(i=r,l=(o=n<<2)+_[e>>2]|0,_[l>>2]){for(;n=i,i=_[i>>2],_[r+8>>2]==_[i+8>>2]&&i;);_[a>>2]=i,_[n>>2]=_[_[_[e>>2]+o>>2]>>2],_[_[_[e>>2]+o>>2]>>2]=r}else _[l>>2]=a,a=r,s=n;else a=r;if(!(r=_[a>>2]))break}}else t=_[e>>2],_[e>>2]=0,t&&Ka(t),_[e+4>>2]=0;return}Re(12024),P()}function Vr(e,t,i){var r=0,n=0,a=0,s=0;e:if(!(e>>>0>5)&&(a=_[i+16>>2],!((0|(r=_[i+12>>2]))<(0|(n=_[i+20>>2]))||(0|r)<=(0|n)&&!(A[i+8>>2]>a>>>0)))){if(r=m[a+_[i>>2]|0],(a=a+1|0)>>>0<1&&(n=n+1|0),_[i+16>>2]=a,_[i+20>>2]=n,n=t,128&r){if(!Vr(e+1|0,t,i))break e;e=_[t>>2]<<7,_[t>>2]=e,r=e|127&r}_[n>>2]=r,s=1}return s}function zr(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;e:{if(a=_[e>>2],(r=(i=(0|(s=_[e+4>>2]-a|0))/12|0)+1|0)>>>0<357913942){if(o=g(i,12),i=(n=(_[e+8>>2]-a|0)/12|0)<<1,n=n>>>0<178956970?i>>>0<r>>>0?r:i:357913941,i=0,n){if(n>>>0>=357913942)break e;i=Fa(g(n,12))}return r=o+i|0,o=_[t+4>>2],_[r>>2]=_[t>>2],_[r+4>>2]=o,_[r+8>>2]=_[t+8>>2],t=r+g((0|s)/-12|0,12)|0,i=i+g(n,12)|0,r=r+12|0,(0|s)>=1&&es(t,a,s),_[e>>2]=t,_[e+8>>2]=i,_[e+4>>2]=r,void(a&&Ka(a))}Wa(),P()}Re(13160),P()}function jr(e,t){e|=0,t|=0;var i,r,n=0,s=0,o=0,l=0,c=0;z=i=z-16|0,r=Fa(64),n=Fa(12),_[n+8>>2]=_[_[e+4>>2]+80>>2],_[n>>2]=13236,_[n+4>>2]=0,_[i+8>>2]=n,ti(r,i+8|0);e:if((0|t)>=0){if(!((0|(s=(n=_[e+12>>2])-(c=_[(l=e+8|0)>>2])>>2))>(0|t)))if(o=t+1|0,s>>>0<=t>>>0)dr(l,o-s|0);else if(!(o>>>0>=s>>>0)){if((0|(o=c+(o<<2)|0))!=(0|n))for(;s=_[(n=n+-4|0)>>2],_[n>>2]=0,s&&a[_[_[s>>2]+4>>2]](s),(0|n)!=(0|o););_[e+12>>2]=o}if(t=_[l>>2]+(t<<2)|0,e=_[t>>2],_[t>>2]=r,s=1,!e)break e;a[_[_[e>>2]+4>>2]](e)}else a[_[_[r>>2]+4>>2]](r);return e=_[i+8>>2],_[i+8>>2]=0,e&&a[_[_[e>>2]+4>>2]](e),z=i+16|0,0|s}function Wr(e){var t,i=0,r=0,n=0,s=0;if(_[(e|=0)>>2]=13300,(i=_[e+20>>2])&&(_[e+24>>2]=i,Ka(i)),t=_[e+8>>2]){if(n=i=t,(0|i)!=(0|(r=_[(s=e+12|0)>>2]))){for(;i=_[(r=r+-4|0)>>2],_[r>>2]=0,i&&a[_[_[i>>2]+4>>2]](i),(0|r)!=(0|t););n=_[e+8>>2]}i=n,_[s>>2]=t,Ka(i)}Ka(e)}function Gr(e){_[e+40>>2]=0,_[e>>2]=13300,_[e+4>>2]=0,_[e+8>>2]=0,_[e+12>>2]=0,_[e+16>>2]=0,_[e+20>>2]=0,_[e+24>>2]=0,_[e+28>>2]=0,_[e+32>>2]=0,p[e+36>>1]=0}function Hr(e,t,i){var r,n=0,a=0,s=0,o=0,c=0;z=r=z-16|0,s=_[t+12>>2],n=_[t+20>>2],(o=(a=_[t+16>>2])+5|0)>>>0<5&&(n=n+1|0);e:if((0|s)<(0|n)||(0|s)<=(0|n)&&!(A[t+8>>2]>=o>>>0)){if(t=Fa(32),_[r>>2]=t,_[r+4>>2]=29,_[r+8>>2]=-2147483616,l[t+29|0]=0,i=m[13369]|m[13370]<<8|m[13371]<<16|m[13372]<<24,n=m[13365]|m[13366]<<8|m[13367]<<16|m[13368]<<24,l[t+21|0]=n,l[t+22|0]=n>>>8,l[t+23|0]=n>>>16,l[t+24|0]=n>>>24,l[t+25|0]=i,l[t+26|0]=i>>>8,l[t+27|0]=i>>>16,l[t+28|0]=i>>>24,i=_[3341],n=_[3340],l[t+16|0]=n,l[t+17|0]=n>>>8,l[t+18|0]=n>>>16,l[t+19|0]=n>>>24,l[t+20|0]=i,l[t+21|0]=i>>>8,l[t+22|0]=i>>>16,l[t+23|0]=i>>>24,i=_[3339],n=_[3338],l[t+8|0]=n,l[t+9|0]=n>>>8,l[t+10|0]=n>>>16,l[t+11|0]=n>>>24,l[t+12|0]=i,l[t+13|0]=i>>>8,l[t+14|0]=i>>>16,l[t+15|0]=i>>>24,i=_[3337],n=_[3336],l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=i,l[t+5|0]=i>>>8,l[t+6|0]=i>>>16,l[t+7|0]=i>>>24,_[e>>2]=-2,Ua(e+4|0,r),l[r+11|0]>-1)break e;Ka(_[r>>2])}else if(n=a+_[t>>2]|0,s=m[0|n]|m[n+1|0]<<8|m[n+2|0]<<16|m[n+3|0]<<24,l[0|i]=s,l[i+1|0]=s>>>8,l[i+2|0]=s>>>16,l[i+3|0]=s>>>24,l[i+4|0]=m[n+4|0],s=t,n=_[t+20>>2],(a=_[t+16>>2]+5|0)>>>0<5&&(n=n+1|0),o=a,a=n,_[s+16>>2]=o,_[s+20>>2]=n,ca(i,13374,5)){if(t=Fa(32),_[r>>2]=t,_[r+4>>2]=17,_[r+8>>2]=-2147483616,l[t+17|0]=0,l[t+16|0]=m[13396],i=m[13392]|m[13393]<<8|m[13394]<<16|m[13395]<<24,n=m[13388]|m[13389]<<8|m[13390]<<16|m[13391]<<24,l[t+8|0]=n,l[t+9|0]=n>>>8,l[t+10|0]=n>>>16,l[t+11|0]=n>>>24,l[t+12|0]=i,l[t+13|0]=i>>>8,l[t+14|0]=i>>>16,l[t+15|0]=i>>>24,i=m[13384]|m[13385]<<8|m[13386]<<16|m[13387]<<24,n=m[13380]|m[13381]<<8|m[13382]<<16|m[13383]<<24,l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=i,l[t+5|0]=i>>>8,l[t+6|0]=i>>>16,l[t+7|0]=i>>>24,_[e>>2]=-1,Ua(e+4|0,r),l[r+11|0]>-1)break e;Ka(_[r>>2])}else if((0|(n=_[t+12>>2]))<(0|a)||(0|n)<=(0|a)&&!(A[t+8>>2]>o>>>0)){if(t=Fa(32),_[r>>2]=t,_[r+4>>2]=29,_[r+8>>2]=-2147483616,l[t+29|0]=0,i=m[13369]|m[13370]<<8|m[13371]<<16|m[13372]<<24,n=m[13365]|m[13366]<<8|m[13367]<<16|m[13368]<<24,l[t+21|0]=n,l[t+22|0]=n>>>8,l[t+23|0]=n>>>16,l[t+24|0]=n>>>24,l[t+25|0]=i,l[t+26|0]=i>>>8,l[t+27|0]=i>>>16,l[t+28|0]=i>>>24,i=_[3341],n=_[3340],l[t+16|0]=n,l[t+17|0]=n>>>8,l[t+18|0]=n>>>16,l[t+19|0]=n>>>24,l[t+20|0]=i,l[t+21|0]=i>>>8,l[t+22|0]=i>>>16,l[t+23|0]=i>>>24,i=_[3339],n=_[3338],l[t+8|0]=n,l[t+9|0]=n>>>8,l[t+10|0]=n>>>16,l[t+11|0]=n>>>24,l[t+12|0]=i,l[t+13|0]=i>>>8,l[t+14|0]=i>>>16,l[t+15|0]=i>>>24,i=_[3337],n=_[3336],l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=i,l[t+5|0]=i>>>8,l[t+6|0]=i>>>16,l[t+7|0]=i>>>24,_[e>>2]=-2,Ua(e+4|0,r),l[r+11|0]>-1)break e;Ka(_[r>>2])}else if(l[i+5|0]=m[o+_[t>>2]|0],n=_[t+20>>2],(a=_[t+16>>2]+1|0)>>>0<1&&(n=n+1|0),_[t+16>>2]=a,_[s+20>>2]=n,(0|(s=_[t+12>>2]))<(0|n)||(0|s)<=(0|n)&&!(A[t+8>>2]>a>>>0)){if(t=Fa(32),_[r>>2]=t,_[r+4>>2]=29,_[r+8>>2]=-2147483616,l[t+29|0]=0,i=m[13369]|m[13370]<<8|m[13371]<<16|m[13372]<<24,n=m[13365]|m[13366]<<8|m[13367]<<16|m[13368]<<24,l[t+21|0]=n,l[t+22|0]=n>>>8,l[t+23|0]=n>>>16,l[t+24|0]=n>>>24,l[t+25|0]=i,l[t+26|0]=i>>>8,l[t+27|0]=i>>>16,l[t+28|0]=i>>>24,i=_[3341],n=_[3340],l[t+16|0]=n,l[t+17|0]=n>>>8,l[t+18|0]=n>>>16,l[t+19|0]=n>>>24,l[t+20|0]=i,l[t+21|0]=i>>>8,l[t+22|0]=i>>>16,l[t+23|0]=i>>>24,i=_[3339],n=_[3338],l[t+8|0]=n,l[t+9|0]=n>>>8,l[t+10|0]=n>>>16,l[t+11|0]=n>>>24,l[t+12|0]=i,l[t+13|0]=i>>>8,l[t+14|0]=i>>>16,l[t+15|0]=i>>>24,i=_[3337],n=_[3336],l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=i,l[t+5|0]=i>>>8,l[t+6|0]=i>>>16,l[t+7|0]=i>>>24,_[e>>2]=-2,Ua(e+4|0,r),l[r+11|0]>-1)break e;Ka(_[r>>2])}else if(l[i+6|0]=m[a+_[t>>2]|0],n=_[t+20>>2],(a=_[t+16>>2]+1|0)>>>0<1&&(n=n+1|0),_[t+16>>2]=a,_[t+20>>2]=n,(0|(s=_[t+12>>2]))<(0|n)||(0|s)<=(0|n)&&!(A[t+8>>2]>a>>>0)){if(t=Fa(32),_[r>>2]=t,_[r+4>>2]=29,_[r+8>>2]=-2147483616,l[t+29|0]=0,i=m[13369]|m[13370]<<8|m[13371]<<16|m[13372]<<24,n=m[13365]|m[13366]<<8|m[13367]<<16|m[13368]<<24,l[t+21|0]=n,l[t+22|0]=n>>>8,l[t+23|0]=n>>>16,l[t+24|0]=n>>>24,l[t+25|0]=i,l[t+26|0]=i>>>8,l[t+27|0]=i>>>16,l[t+28|0]=i>>>24,i=_[3341],n=_[3340],l[t+16|0]=n,l[t+17|0]=n>>>8,l[t+18|0]=n>>>16,l[t+19|0]=n>>>24,l[t+20|0]=i,l[t+21|0]=i>>>8,l[t+22|0]=i>>>16,l[t+23|0]=i>>>24,i=_[3339],n=_[3338],l[t+8|0]=n,l[t+9|0]=n>>>8,l[t+10|0]=n>>>16,l[t+11|0]=n>>>24,l[t+12|0]=i,l[t+13|0]=i>>>8,l[t+14|0]=i>>>16,l[t+15|0]=i>>>24,i=_[3337],n=_[3336],l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=i,l[t+5|0]=i>>>8,l[t+6|0]=i>>>16,l[t+7|0]=i>>>24,_[e>>2]=-2,Ua(e+4|0,r),l[r+11|0]>-1)break e;Ka(_[r>>2])}else if(l[i+7|0]=m[a+_[t>>2]|0],n=_[t+20>>2],(a=_[t+16>>2]+1|0)>>>0<1&&(n=n+1|0),_[t+16>>2]=a,_[t+20>>2]=n,(0|(s=_[t+12>>2]))<(0|n)||(0|s)<=(0|n)&&!(A[t+8>>2]>a>>>0)){if(t=Fa(32),_[r>>2]=t,_[r+4>>2]=29,_[r+8>>2]=-2147483616,l[t+29|0]=0,i=m[13369]|m[13370]<<8|m[13371]<<16|m[13372]<<24,n=m[13365]|m[13366]<<8|m[13367]<<16|m[13368]<<24,l[t+21|0]=n,l[t+22|0]=n>>>8,l[t+23|0]=n>>>16,l[t+24|0]=n>>>24,l[t+25|0]=i,l[t+26|0]=i>>>8,l[t+27|0]=i>>>16,l[t+28|0]=i>>>24,i=_[3341],n=_[3340],l[t+16|0]=n,l[t+17|0]=n>>>8,l[t+18|0]=n>>>16,l[t+19|0]=n>>>24,l[t+20|0]=i,l[t+21|0]=i>>>8,l[t+22|0]=i>>>16,l[t+23|0]=i>>>24,i=_[3339],n=_[3338],l[t+8|0]=n,l[t+9|0]=n>>>8,l[t+10|0]=n>>>16,l[t+11|0]=n>>>24,l[t+12|0]=i,l[t+13|0]=i>>>8,l[t+14|0]=i>>>16,l[t+15|0]=i>>>24,i=_[3337],n=_[3336],l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=i,l[t+5|0]=i>>>8,l[t+6|0]=i>>>16,l[t+7|0]=i>>>24,_[e>>2]=-2,Ua(e+4|0,r),l[r+11|0]>-1)break e;Ka(_[r>>2])}else if(l[i+8|0]=m[a+_[t>>2]|0],a=n=_[t+20>>2],(o=(c=_[t+16>>2])+1|0)>>>0<1&&(n=n+1|0),_[t+16>>2]=o,_[t+20>>2]=n,n=a,(a=c+3|0)>>>0<3&&(n=n+1|0),(0|(s=_[t+12>>2]))<(0|n)||(0|s)<=(0|n)&&!(A[t+8>>2]>=a>>>0)){if(t=Fa(32),_[r>>2]=t,_[r+4>>2]=29,_[r+8>>2]=-2147483616,l[t+29|0]=0,i=m[13369]|m[13370]<<8|m[13371]<<16|m[13372]<<24,n=m[13365]|m[13366]<<8|m[13367]<<16|m[13368]<<24,l[t+21|0]=n,l[t+22|0]=n>>>8,l[t+23|0]=n>>>16,l[t+24|0]=n>>>24,l[t+25|0]=i,l[t+26|0]=i>>>8,l[t+27|0]=i>>>16,l[t+28|0]=i>>>24,i=_[3341],n=_[3340],l[t+16|0]=n,l[t+17|0]=n>>>8,l[t+18|0]=n>>>16,l[t+19|0]=n>>>24,l[t+20|0]=i,l[t+21|0]=i>>>8,l[t+22|0]=i>>>16,l[t+23|0]=i>>>24,i=_[3339],n=_[3338],l[t+8|0]=n,l[t+9|0]=n>>>8,l[t+10|0]=n>>>16,l[t+11|0]=n>>>24,l[t+12|0]=i,l[t+13|0]=i>>>8,l[t+14|0]=i>>>16,l[t+15|0]=i>>>24,i=_[3337],n=_[3336],l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=i,l[t+5|0]=i>>>8,l[t+6|0]=i>>>16,l[t+7|0]=i>>>24,_[e>>2]=-2,Ua(e+4|0,r),l[r+11|0]>-1)break e;Ka(_[r>>2])}else a=i,i=o+_[t>>2]|0,p[a+10>>1]=m[0|i]|m[i+1|0]<<8,i=t,a=t,n=_[t+20>>2],(t=_[t+16>>2]+2|0)>>>0<2&&(n=n+1|0),_[a+16>>2]=t,_[i+20>>2]=n,_[e+8>>2]=0,_[e+12>>2]=0,_[e>>2]=0,_[e+4>>2]=0;z=r+16|0}function Yr(e,t){var i,r,n=0,a=0;z=i=z-48|0,n=Fa(36),_[(a=n+4|0)>>2]=0,_[a+4>>2]=0,_[(r=n+16|0)>>2]=0,_[r+4>>2]=0,_[n>>2]=a,_[n+32>>2]=0,_[n+24>>2]=0,_[n+28>>2]=0,_[n+12>>2]=r,_[i+40>>2]=n,_[(n=i+32|0)>>2]=0;e:if(function(e,t,i){var r,n=0,a=0,s=0,o=0;z=r=z-16|0;t:{i:if(i){if(_[e>>2]=t,_[r+12>>2]=0,n=0,!En(1,r+12|0,t))break t;r:{if(o=_[r+12>>2])for(t=0;;){if(!En(1,r+8|0,_[e>>2]))break i;if(n=Fa(28),_[(a=n+4|0)>>2]=0,_[a+4>>2]=0,_[(s=n+16|0)>>2]=0,_[s+4>>2]=0,_[n>>2]=a,_[(a=n+12|0)>>2]=s,_[n+24>>2]=_[r+8>>2],!wn(e,n))break r;if(_[r>>2]=n,Rn(i,r),n=_[r>>2],_[r>>2]=0,n&&(Je(n+12|0,_[n+16>>2]),qe(n,_[n+4>>2]),Ka(n)),!((t=t+1|0)>>>0<o>>>0))break}n=wn(e,i);break t}Je(a,_[n+16>>2]),qe(n,_[n+4>>2]),Ka(n)}n=0}return z=r+16|0,n}(n,_[t+32>>2],_[i+40>>2]))t=_[t+4>>2],_[i+8>>2]=0,a=_[i+40>>2],_[i+40>>2]=0,n=_[t+4>>2],_[t+4>>2]=a,n?(Xr(n),t=_[i+8>>2],_[i+8>>2]=0,t&&Xr(t)):_[i+8>>2]=0,_[e>>2]=0,_[e+4>>2]=0,_[e+8>>2]=0,_[e+12>>2]=0;else{if(_[i+24>>2]=0,_[i+16>>2]=0,_[i+20>>2]=0,t=Fa(32),_[i+16>>2]=t,_[i+20>>2]=26,_[i+24>>2]=-2147483616,l[t+26|0]=0,n=m[13422]|m[13423]<<8,l[t+24|0]=n,l[t+25|0]=n>>>8,n=m[13418]|m[13419]<<8|m[13420]<<16|m[13421]<<24,a=m[13414]|m[13415]<<8|m[13416]<<16|m[13417]<<24,l[t+16|0]=a,l[t+17|0]=a>>>8,l[t+18|0]=a>>>16,l[t+19|0]=a>>>24,l[t+20|0]=n,l[t+21|0]=n>>>8,l[t+22|0]=n>>>16,l[t+23|0]=n>>>24,n=m[13410]|m[13411]<<8|m[13412]<<16|m[13413]<<24,a=m[13406]|m[13407]<<8|m[13408]<<16|m[13409]<<24,l[t+8|0]=a,l[t+9|0]=a>>>8,l[t+10|0]=a>>>16,l[t+11|0]=a>>>24,l[t+12|0]=n,l[t+13|0]=n>>>8,l[t+14|0]=n>>>16,l[t+15|0]=n>>>24,n=m[13402]|m[13403]<<8|m[13404]<<16|m[13405]<<24,a=m[13398]|m[13399]<<8|m[13400]<<16|m[13401]<<24,l[0|t]=a,l[t+1|0]=a>>>8,l[t+2|0]=a>>>16,l[t+3|0]=a>>>24,l[t+4|0]=n,l[t+5|0]=n>>>8,l[t+6|0]=n>>>16,l[t+7|0]=n>>>24,_[e>>2]=-1,Ua(e+4|0,i+16|0),l[i+27|0]>-1)break e;Ka(_[i+16>>2])}e=_[i+40>>2],_[i+40>>2]=0,e&&Xr(e),z=i+48|0}function Xr(e){var t=0,i=0,r=0,n=0,a=0;if(e){if(r=_[e+24>>2]){if(n=t=r,(0|(i=_[(a=e+28|0)>>2]))!=(0|t)){for(;t=_[(i=i+-4|0)>>2],_[i>>2]=0,t&&(Je(t+12|0,_[t+16>>2]),qe(t,_[t+4>>2]),Ka(t)),(0|i)!=(0|r););n=_[e+24>>2]}t=n,_[a>>2]=r,Ka(t)}Je(e+12|0,_[e+16>>2]),qe(e,_[e+4>>2]),Ka(e)}}function Zr(e,t,i,r,n){var s,o=0;z=s=z-32|0,_[t+32>>2]=r,_[t+40>>2]=i,_[t+4>>2]=n,Hr(e,r,s+16|0);e:if(!_[e>>2])if(i=e+4|0,l[e+15|0]<=-1&&Ka(_[i>>2]),n=m[s+23|0],(0|a[_[_[t>>2]+8>>2]](t))==(0|n))if(r=m[s+21|0],l[t+36|0]=r,o=m[s+22|0],l[t+37|0]=o,(r+-1&255)>>>0>=2){if(t=Fa(32),_[s>>2]=t,_[s+4>>2]=22,_[s+8>>2]=-2147483616,l[t+22|0]=0,r=m[13494]|m[13495]<<8|m[13496]<<16|m[13497]<<24,n=m[13490]|m[13491]<<8|m[13492]<<16|m[13493]<<24,l[t+14|0]=n,l[t+15|0]=n>>>8,l[t+16|0]=n>>>16,l[t+17|0]=n>>>24,l[t+18|0]=r,l[t+19|0]=r>>>8,l[t+20|0]=r>>>16,l[t+21|0]=r>>>24,r=m[13488]|m[13489]<<8|m[13490]<<16|m[13491]<<24,n=m[13484]|m[13485]<<8|m[13486]<<16|m[13487]<<24,l[t+8|0]=n,l[t+9|0]=n>>>8,l[t+10|0]=n>>>16,l[t+11|0]=n>>>24,l[t+12|0]=r,l[t+13|0]=r>>>8,l[t+14|0]=r>>>16,l[t+15|0]=r>>>24,r=m[13480]|m[13481]<<8|m[13482]<<16|m[13483]<<24,n=m[13476]|m[13477]<<8|m[13478]<<16|m[13479]<<24,l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=r,l[t+5|0]=r>>>8,l[t+6|0]=r>>>16,l[t+7|0]=r>>>24,_[e>>2]=-5,Ua(i,s),l[s+11|0]>-1)break e;Ka(_[s>>2])}else if(2!=(0|r)|(n?2:3)>>>0>=o>>>0){if(r=r<<8|o,p[_[t+32>>2]+38>>1]=r,!((65535&r)>>>0<259|p[s+26>>1]>-1)){if(Yr(e,t),_[e>>2])break e;l[i+11|0]>-1||Ka(_[i>>2])}if(a[_[_[t>>2]+12>>2]](t))if(a[_[_[t>>2]+20>>2]](t))if(a[_[_[t>>2]+24>>2]](t))_[e>>2]=0,_[e+4>>2]=0,_[e+8>>2]=0,_[e+12>>2]=0;else{if(t=Fa(48),_[s>>2]=t,_[s+4>>2]=34,_[s+8>>2]=-2147483600,l[t+34|0]=0,r=m[13620]|m[13621]<<8,l[t+32|0]=r,l[t+33|0]=r>>>8,r=m[13616]|m[13617]<<8|m[13618]<<16|m[13619]<<24,n=m[13612]|m[13613]<<8|m[13614]<<16|m[13615]<<24,l[t+24|0]=n,l[t+25|0]=n>>>8,l[t+26|0]=n>>>16,l[t+27|0]=n>>>24,l[t+28|0]=r,l[t+29|0]=r>>>8,l[t+30|0]=r>>>16,l[t+31|0]=r>>>24,r=m[13608]|m[13609]<<8|m[13610]<<16|m[13611]<<24,n=m[13604]|m[13605]<<8|m[13606]<<16|m[13607]<<24,l[t+16|0]=n,l[t+17|0]=n>>>8,l[t+18|0]=n>>>16,l[t+19|0]=n>>>24,l[t+20|0]=r,l[t+21|0]=r>>>8,l[t+22|0]=r>>>16,l[t+23|0]=r>>>24,r=m[13600]|m[13601]<<8|m[13602]<<16|m[13603]<<24,n=m[13596]|m[13597]<<8|m[13598]<<16|m[13599]<<24,l[t+8|0]=n,l[t+9|0]=n>>>8,l[t+10|0]=n>>>16,l[t+11|0]=n>>>24,l[t+12|0]=r,l[t+13|0]=r>>>8,l[t+14|0]=r>>>16,l[t+15|0]=r>>>24,r=m[13592]|m[13593]<<8|m[13594]<<16|m[13595]<<24,n=m[13588]|m[13589]<<8|m[13590]<<16|m[13591]<<24,l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=r,l[t+5|0]=r>>>8,l[t+6|0]=r>>>16,l[t+7|0]=r>>>24,_[e>>2]=-1,Ua(i,s),l[s+11|0]>-1)break e;Ka(_[s>>2])}else{if(t=Fa(32),_[s>>2]=t,_[s+4>>2]=31,_[s+8>>2]=-2147483616,l[t+31|0]=0,r=m[13583]|m[13584]<<8|m[13585]<<16|m[13586]<<24,n=m[13579]|m[13580]<<8|m[13581]<<16|m[13582]<<24,l[t+23|0]=n,l[t+24|0]=n>>>8,l[t+25|0]=n>>>16,l[t+26|0]=n>>>24,l[t+27|0]=r,l[t+28|0]=r>>>8,l[t+29|0]=r>>>16,l[t+30|0]=r>>>24,r=m[13576]|m[13577]<<8|m[13578]<<16|m[13579]<<24,n=m[13572]|m[13573]<<8|m[13574]<<16|m[13575]<<24,l[t+16|0]=n,l[t+17|0]=n>>>8,l[t+18|0]=n>>>16,l[t+19|0]=n>>>24,l[t+20|0]=r,l[t+21|0]=r>>>8,l[t+22|0]=r>>>16,l[t+23|0]=r>>>24,r=m[13568]|m[13569]<<8|m[13570]<<16|m[13571]<<24,n=m[13564]|m[13565]<<8|m[13566]<<16|m[13567]<<24,l[t+8|0]=n,l[t+9|0]=n>>>8,l[t+10|0]=n>>>16,l[t+11|0]=n>>>24,l[t+12|0]=r,l[t+13|0]=r>>>8,l[t+14|0]=r>>>16,l[t+15|0]=r>>>24,r=m[13560]|m[13561]<<8|m[13562]<<16|m[13563]<<24,n=m[13556]|m[13557]<<8|m[13558]<<16|m[13559]<<24,l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=r,l[t+5|0]=r>>>8,l[t+6|0]=r>>>16,l[t+7|0]=r>>>24,_[e>>2]=-1,Ua(i,s),l[s+11|0]>-1)break e;Ka(_[s>>2])}else{if(t=Fa(48),_[s>>2]=t,_[s+4>>2]=33,_[s+8>>2]=-2147483600,l[t+33|0]=0,l[t+32|0]=m[13554],r=m[13550]|m[13551]<<8|m[13552]<<16|m[13553]<<24,n=m[13546]|m[13547]<<8|m[13548]<<16|m[13549]<<24,l[t+24|0]=n,l[t+25|0]=n>>>8,l[t+26|0]=n>>>16,l[t+27|0]=n>>>24,l[t+28|0]=r,l[t+29|0]=r>>>8,l[t+30|0]=r>>>16,l[t+31|0]=r>>>24,r=m[13542]|m[13543]<<8|m[13544]<<16|m[13545]<<24,n=m[13538]|m[13539]<<8|m[13540]<<16|m[13541]<<24,l[t+16|0]=n,l[t+17|0]=n>>>8,l[t+18|0]=n>>>16,l[t+19|0]=n>>>24,l[t+20|0]=r,l[t+21|0]=r>>>8,l[t+22|0]=r>>>16,l[t+23|0]=r>>>24,r=m[13534]|m[13535]<<8|m[13536]<<16|m[13537]<<24,n=m[13530]|m[13531]<<8|m[13532]<<16|m[13533]<<24,l[t+8|0]=n,l[t+9|0]=n>>>8,l[t+10|0]=n>>>16,l[t+11|0]=n>>>24,l[t+12|0]=r,l[t+13|0]=r>>>8,l[t+14|0]=r>>>16,l[t+15|0]=r>>>24,r=m[13526]|m[13527]<<8|m[13528]<<16|m[13529]<<24,n=m[13522]|m[13523]<<8|m[13524]<<16|m[13525]<<24,l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=r,l[t+5|0]=r>>>8,l[t+6|0]=r>>>16,l[t+7|0]=r>>>24,_[e>>2]=-1,Ua(i,s),l[s+11|0]>-1)break e;Ka(_[s>>2])}}else{if(t=Fa(32),_[s>>2]=t,_[s+4>>2]=22,_[s+8>>2]=-2147483616,l[t+22|0]=0,r=m[13517]|m[13518]<<8|m[13519]<<16|m[13520]<<24,n=m[13513]|m[13514]<<8|m[13515]<<16|m[13516]<<24,l[t+14|0]=n,l[t+15|0]=n>>>8,l[t+16|0]=n>>>16,l[t+17|0]=n>>>24,l[t+18|0]=r,l[t+19|0]=r>>>8,l[t+20|0]=r>>>16,l[t+21|0]=r>>>24,r=m[13511]|m[13512]<<8|m[13513]<<16|m[13514]<<24,n=m[13507]|m[13508]<<8|m[13509]<<16|m[13510]<<24,l[t+8|0]=n,l[t+9|0]=n>>>8,l[t+10|0]=n>>>16,l[t+11|0]=n>>>24,l[t+12|0]=r,l[t+13|0]=r>>>8,l[t+14|0]=r>>>16,l[t+15|0]=r>>>24,r=m[13503]|m[13504]<<8|m[13505]<<16|m[13506]<<24,n=m[13499]|m[13500]<<8|m[13501]<<16|m[13502]<<24,l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=r,l[t+5|0]=r>>>8,l[t+6|0]=r>>>16,l[t+7|0]=r>>>24,_[e>>2]=-5,Ua(i,s),l[s+11|0]>-1)break e;Ka(_[s>>2])}else{if(t=Fa(64),_[s>>2]=t,_[s+4>>2]=50,_[s+8>>2]=-2147483584,l[t+50|0]=0,r=m[13473]|m[13474]<<8,l[t+48|0]=r,l[t+49|0]=r>>>8,r=m[13469]|m[13470]<<8|m[13471]<<16|m[13472]<<24,n=m[13465]|m[13466]<<8|m[13467]<<16|m[13468]<<24,l[t+40|0]=n,l[t+41|0]=n>>>8,l[t+42|0]=n>>>16,l[t+43|0]=n>>>24,l[t+44|0]=r,l[t+45|0]=r>>>8,l[t+46|0]=r>>>16,l[t+47|0]=r>>>24,r=m[13461]|m[13462]<<8|m[13463]<<16|m[13464]<<24,n=m[13457]|m[13458]<<8|m[13459]<<16|m[13460]<<24,l[t+32|0]=n,l[t+33|0]=n>>>8,l[t+34|0]=n>>>16,l[t+35|0]=n>>>24,l[t+36|0]=r,l[t+37|0]=r>>>8,l[t+38|0]=r>>>16,l[t+39|0]=r>>>24,r=m[13453]|m[13454]<<8|m[13455]<<16|m[13456]<<24,n=m[13449]|m[13450]<<8|m[13451]<<16|m[13452]<<24,l[t+24|0]=n,l[t+25|0]=n>>>8,l[t+26|0]=n>>>16,l[t+27|0]=n>>>24,l[t+28|0]=r,l[t+29|0]=r>>>8,l[t+30|0]=r>>>16,l[t+31|0]=r>>>24,r=m[13445]|m[13446]<<8|m[13447]<<16|m[13448]<<24,n=m[13441]|m[13442]<<8|m[13443]<<16|m[13444]<<24,l[t+16|0]=n,l[t+17|0]=n>>>8,l[t+18|0]=n>>>16,l[t+19|0]=n>>>24,l[t+20|0]=r,l[t+21|0]=r>>>8,l[t+22|0]=r>>>16,l[t+23|0]=r>>>24,r=m[13437]|m[13438]<<8|m[13439]<<16|m[13440]<<24,n=m[13433]|m[13434]<<8|m[13435]<<16|m[13436]<<24,l[t+8|0]=n,l[t+9|0]=n>>>8,l[t+10|0]=n>>>16,l[t+11|0]=n>>>24,l[t+12|0]=r,l[t+13|0]=r>>>8,l[t+14|0]=r>>>16,l[t+15|0]=r>>>24,r=m[13429]|m[13430]<<8|m[13431]<<16|m[13432]<<24,n=m[13425]|m[13426]<<8|m[13427]<<16|m[13428]<<24,l[0|t]=n,l[t+1|0]=n>>>8,l[t+2|0]=n>>>16,l[t+3|0]=n>>>24,l[t+4|0]=r,l[t+5|0]=r>>>8,l[t+6|0]=r>>>16,l[t+7|0]=r>>>24,_[e>>2]=-1,Ua(i,s),l[s+11|0]>-1)break e;Ka(_[s>>2])}z=s+32|0}function Qr(e,t){var i=0,r=0;return(0|t)<0||(i=_[e+4>>2],_[i+12>>2]-_[i+8>>2]>>2<=(0|t)||(e=_[_[e+8>>2]+(_[_[e+20>>2]+(t<<2)>>2]<<2)>>2],r=0|a[_[_[e>>2]+32>>2]](e,t))),r}function Jr(e){_[e+16>>2]=0,_[e+20>>2]=0,_[e>>2]=0,_[e+4>>2]=0,_[e+8>>2]=0,_[e+24>>2]=0,_[e+28>>2]=0}function qr(e,t,i,r){return Kr(e,t,i,r)}function Kr(e,t,i,r){var n=0,a=0,s=0;e:if(t){if((0|r)<0||(0|r)<=0&&!(i>>>0>=0))return 0;a=i,i>>>0<0&&(r=r+1|0),s=_[e>>2],n=_[e+4>>2]-s|0,(0|r)<0||(0|r)<=0&&!(a>>>0>n>>>0)||(n>>>0<(r=a)>>>0?_e(e,r-n|0):n>>>0<=r>>>0||(_[e+4>>2]=r+s)),i&&is(_[e>>2],t,i)}else{if((0|(r=(t=i)>>>0<0?r+1|0:r))<0||(0|r)<=0&&!(t>>>0>=0))return 0;if(r=_[e>>2],(i=_[e+4>>2]-r|0)>>>0<t>>>0){_e(e,t-i|0);break e}if(i>>>0<=t>>>0)break e;_[e+4>>2]=t+r}return i=t=e+24|0,r=t,e=_[t+4>>2],(t=_[t>>2]+1|0)>>>0<1&&(e=e+1|0),_[r>>2]=t,_[i+4>>2]=e,1}function $r(e,t){var i=0,r=0;r=_[e>>2],(i=_[e+4>>2]-r|0)>>>0<t>>>0?_e(e,t-i|0):i>>>0<=t>>>0||(_[e+4>>2]=t+r),i=t=e+24|0,r=t,e=_[t+4>>2],(t=_[t>>2]+1|0)>>>0<1&&(e=e+1|0),_[r>>2]=t,_[i+4>>2]=e}function en(e){return p[e+38>>1]=0,_[e>>2]=0,_[e+8>>2]=0,_[e+12>>2]=0,_[e+16>>2]=0,_[e+20>>2]=0,_[e+24>>2]=0,_[e+28>>2]=0,l[e+29|0]=0,l[e+30|0]=0,l[e+31|0]=0,l[e+32|0]=0,l[e+33|0]=0,l[e+34|0]=0,l[e+35|0]=0,l[e+36|0]=0,e}function tn(e,t,i,r){p[e+38>>1]=r,_[e>>2]=t,_[e+16>>2]=0,_[e+20>>2]=0,_[e+8>>2]=i,_[e+12>>2]=0}function rn(e,t,i){var r=0,n=0,a=0,s=0;e:{if(t)if(b[e+38>>1]<=513){if(n=_[e+12>>2],t=_[e+20>>2],(s=(a=_[e+16>>2])+8|0)>>>0<8&&(t=t+1|0),(0|n)<(0|t)||(0|n)<=(0|t)&&!(A[e+8>>2]>=s>>>0))break e;t=a+_[e>>2]|0,r=m[t+4|0]|m[t+5|0]<<8|m[t+6|0]<<16|m[t+7|0]<<24,_[i>>2]=m[0|t]|m[t+1|0]<<8|m[t+2|0]<<16|m[t+3|0]<<24,_[i+4>>2]=r,i=_[e+20>>2],(r=_[e+16>>2]+8|0)>>>0<8&&(i=i+1|0),_[e+16>>2]=r,_[e+20>>2]=i}else if(!function e(t,i,r){var n=0,a=0,s=0,o=0,c=0,f=0;t:if(!(t>>>0>10)&&(s=_[r+16>>2],n=_[r+12>>2],a=_[r+20>>2],!((0|n)<(0|(o=a))||(0|n)<=(0|o)&&!(A[r+8>>2]>s>>>0)))){if(c=l[s+_[r>>2]|0],(n=s+1|0)>>>0<1&&(a=a+1|0),_[r+16>>2]=n,_[r+20>>2]=a,o=i,s=i,(0|(n=c))<=-1){if(!e(t+1|0,i,r))break t;t=i,r=_[i+4>>2],i=_[i>>2],a=r<<7|i>>>25,i<<=7,_[t>>2]=i,_[t+4>>2]=a,t=127&n|i}else a=0,t=255&n;_[s>>2]=t,_[o+4>>2]=a,f=1}return f}(1,i,e))break e;l[e+36|0]=1,_[e+32>>2]=0,i=(t=_[e+16>>2])+_[e>>2]|0,_[e+24>>2]=i,r=e,e=_[e+8>>2],_[r+28>>2]=i+(e-t|0),r=1}return r}function nn(e){var t,i,r,n,a=0,s=0;l[e+36|0]=0,t=_[e+20>>2],i=e,r=e,n=_[e+16>>2],(e=_[e+32>>2]+7|0)>>>0<7&&(a=1),s=a>>>3,a=n+(e=a<<29|e>>>3)|0,s=s+t|0,_[r+16>>2]=a,_[i+20>>2]=a>>>0<e>>>0?s+1|0:s}function an(e){return(e=e+-1|0)>>>0<=10?_[13848+(e<<2)>>2]:-1}function sn(e){var t;return _[(t=e+4|0)>>2]=0,_[t+4>>2]=0,_[e>>2]=t,e}function on(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0;e:{t:if(e=_[(i=e+4|0)>>2]){for(a=(n=(r=m[t+11|0])<<24>>24<0)?_[t+4>>2]:r,l=n?_[t>>2]:t,r=i;(n=(s=a>>>0<(o=(c=(t=m[e+27|0])<<24>>24<0)?_[e+20>>2]:t)>>>0)?a:o)&&(t=e+16|0,t=ca(c?_[t>>2]:t,l,n))||(t=o>>>0<a>>>0?-1:s),r=(0|t)<0?r:e,e=_[(t>>>29&4)+e>>2];);if((0|r)!=(0|i)){if(!((t=(n=(s=(e=m[r+27|0])<<24>>24<0)?_[r+20>>2]:e)>>>0<a>>>0?n:a)&&(e=r+16|0,e=ca(l,s?_[e>>2]:e,t)))){if(a>>>0<n>>>0)break t;break e}if((0|e)>-1)break e}}r=i}return r}function ln(e,t){var i=0;return(0|(t=on(e,t)))!=(e+4|0)&&(e=t+28|0,l[t+39|0]<=-1&&(e=_[e>>2]),-1!=(0|(e=function(e){var t,i=0,r=0,n=0,a=0,s=0;for(;e=(i=e)+1|0,32==(0|(r=l[0|i]))|r+-9>>>0<5;);r=l[0|i];e:if(!((t=r+-43|0)>>>0>2)){t:switch(t-1|0){case 1:a=1;break;case 0:break e;default:break t}r=l[0|e],i=e,s=a}if(sa(r))for(;n=48+(g(n,10)-l[0|i]|0)|0,e=l[i+1|0],i=i+1|0,sa(e););return s?n:0-n|0}(e)))&&(i=0!=(0|e))),i}function cn(e){return _[e>>2]=1065353216,e}function fn(e,t,i){return(0|i)<1?0:(v[e>>2]=t/k(0|i),1)}function hn(e){var t;_[e>>2]=0,_[e+4>>2]=0,_[e+56>>2]=0,_[e+48>>2]=0,_[e+52>>2]=0,_[e+40>>2]=0,_[e+44>>2]=0,_[e+32>>2]=0,_[e+36>>2]=0,_[e+24>>2]=0,_[e+28>>2]=0,_[e+16>>2]=0,_[e+20>>2]=0,_[e+8>>2]=0,_[e+12>>2]=0,_[(t=e- -64|0)>>2]=0,_[t+4>>2]=0,_[e+72>>2]=0,_[e+76>>2]=0,_[e+80>>2]=0,_[e+84>>2]=0,_[e+60>>2]=e}function un(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;if((n=_[e+8>>2])-(i=_[e+4>>2])>>2>>>0>=t>>>0){for(;_[i>>2]=_[3475],i=i+4|0,t=t+-1|0;);_[e+4>>2]=i}else{e:{if((i=(o=(s=i-(a=_[e>>2])|0)>>2)+t|0)>>>0<1073741824){if(r=(n=n-a|0)>>1,i=n>>2>>>0<536870911?r>>>0<i>>>0?i:r:1073741823,r=0,i){if(i>>>0>=1073741824)break e;r=Fa(i<<2)}for(n=r+(i<<2)|0,i=r+(o<<2)|0;_[i>>2]=_[3475],i=i+4|0,t=t+-1|0;);return(0|s)>=1&&es(r,a,s),_[e>>2]=r,_[e+8>>2]=n,_[e+4>>2]=i,void(a&&Ka(a))}Wa(),P()}Re(13904),P()}}function dn(e,t,i){var r=0,n=0,a=0;_[e>>2]=0,_[e+4>>2]=0,_[e+8>>2]=0;e:{t:if(t){if((0|t)<=-1)break e;if(r=Fa((a=(n=t+-1>>>5)+1|0)<<2),_[e+8>>2]=a,_[e>>2]=r,a=m[0|i],_[e+4>>2]=t,_[(t>>>0<33?r:r+(n<<2)|0)>>2]=0,n=(i=t>>>5)<<2,a){if(r=ts(r,255,n),!(t&=31))break t;return _[(i=r+(i<<2)|0)>>2]=_[i>>2]|-1>>>32-t,e}r=ts(r,0,n),(t&=31)&&(_[(i=r+(i<<2)|0)>>2]=_[i>>2]&(-1>>>32-t^-1))}return e}Wa(),P()}function pn(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;e:{if(n=_[e>>2],(r=(i=(o=_[e+4>>2]-n|0)>>3)+1|0)>>>0<536870912){if(a=i<<3,i=(s=_[e+8>>2]-n|0)>>2,r=s>>3>>>0<268435455?i>>>0<r>>>0?r:i:536870911,i=0,r){if(r>>>0>=536870912)break e;i=Fa(r<<3)}return a=a+i|0,s=_[t+4>>2],_[a>>2]=_[t>>2],_[a+4>>2]=s,t=i+(r<<3)|0,r=a+8|0,(0|o)>=1&&es(i,n,o),_[e>>2]=i,_[e+8>>2]=t,_[e+4>>2]=r,void(n&&Ka(n))}Wa(),P()}Re(13904),P()}function _n(e,t,i){var r=0,n=0,a=0,s=0;e:{if(!((t|i)<0|t>>>0>1431655765)){if(mn(e,t=g(t,3),13896),mn(e+12|0,t,13900),t=_[e+24>>2],!(_[e+32>>2]-t>>2>>>0>=i>>>0)){if(i>>>0>=1073741824)break e;r=_[(a=e+28|0)>>2],n=(i=Fa(n=i<<2))+n|0,s=(r=r-t|0)+i|0,(0|r)>=1&&es(i,t,r),_[e+24>>2]=i,_[e+32>>2]=n,_[a>>2]=s,t&&Ka(t)}_[e+80>>2]=0,_[e+84>>2]=0,t=_[(i=e+76|0)>>2],_[i>>2]=0,t&&Ka(t),_[e+68>>2]=0,_[e+72>>2]=0,e=_[(t=e- -64|0)>>2],_[t>>2]=0,r=1,e&&Ka(e)}return r}Re(13904),P()}function mn(e,t,i){var r=0,n=0,a=0,s=0,o=0;if((r=_[e+8>>2])-(n=_[e>>2])>>2>>>0>=t>>>0){if(o=(s=(a=_[e+4>>2])-n>>2)>>>0<t>>>0?s:t)for(r=n;_[r>>2]=_[i>>2],r=r+4|0,o=o+-1|0;);if(s>>>0<t>>>0){for(r=t-s|0;_[a>>2]=_[i>>2],a=a+4|0,r=r+-1|0;);return void(_[e+4>>2]=a)}_[e+4>>2]=(t<<2)+n}else if(n&&(_[e+4>>2]=n,Ka(n),_[e+8>>2]=0,_[e>>2]=0,_[e+4>>2]=0,r=0),t>>>0>=1073741824||(n=r>>1,(n=r>>2>>>0<536870911?n>>>0<t>>>0?t:n:1073741823)>>>0>=1073741824))Wa(),P();else{for(r=Fa(n<<=2),_[e>>2]=r,_[e+4>>2]=r,_[e+8>>2]=r+n;_[r>>2]=_[i>>2],r=r+4|0,t=t+-1|0;);_[e+4>>2]=r}}function bn(e){var t,i=0,r=0,n=0,a=0;if(_[(e|=0)>>2]=14380,(i=_[e+68>>2])&&(_[e+72>>2]=i,Ka(i)),(i=_[e+56>>2])&&(_[e+60>>2]=i,Ka(i)),(i=_[e+44>>2])&&(_[e+48>>2]=i,Ka(i)),(i=_[e+32>>2])&&(_[e+36>>2]=i,Ka(i)),(i=_[e+20>>2])&&(_[e+24>>2]=i,Ka(i)),t=_[e+8>>2]){if(n=i=t,(0|i)!=(0|(r=_[(a=e+12|0)>>2]))){for(;i=_[(r=r+-4|0)>>2],_[r>>2]=0,i&&Ye(i),(0|r)!=(0|t););n=_[e+8>>2]}i=n,_[a>>2]=t,Ka(i)}return i=_[e+4>>2],_[e+4>>2]=0,i&&Xr(i),0|e}function An(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;e:{if(n=_[e>>2],(r=(i=(s=_[e+4>>2]-n|0)>>2)+1|0)>>>0<1073741824){if(o=i<<2,a=(i=_[e+8>>2]-n|0)>>1,r=i>>2>>>0<536870911?a>>>0<r>>>0?r:a:1073741823,i=0,r){if(r>>>0>=1073741824)break e;i=Fa(r<<2)}return _[(a=o+i|0)>>2]=_[t>>2],t=i+(r<<2)|0,r=a+4|0,(0|s)>=1&&es(i,n,s),_[e>>2]=i,_[e+8>>2]=t,_[e+4>>2]=r,void(n&&Ka(n))}Wa(),P()}Re(14092),P()}function vn(e){_[e>>2]=0,_[e+4>>2]=0,l[e+24|0]=1,_[e+16>>2]=0,_[e+20>>2]=0,_[e+8>>2]=0,_[e+12>>2]=0,_[e+28>>2]=0,_[e+32>>2]=0,_[e+36>>2]=0,_[e+40>>2]=0,_[e+44>>2]=0,_[e+48>>2]=0,_[e+52>>2]=0,_[e+56>>2]=0,_[e+60>>2]=0,_[e+64>>2]=0,_[e+72>>2]=0,_[e+76>>2]=0,_[e+80>>2]=0,_[e+84>>2]=0,_[e+88>>2]=0,_[e+92>>2]=0,_[e+68>>2]=e}function yn(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0;z=i=z-16|0;e:{t:{if(t){if(_[e+88>>2]=0,_[e+92>>2]=0,n=_[(r=e+84|0)>>2],_[r>>2]=0,n&&Ka(n),_[e+76>>2]=0,_[e+80>>2]=0,n=_[(r=e+72|0)>>2],_[r>>2]=0,n&&Ka(n),r=_[(n=t+4|0)>>2],a=_[t>>2],l[i+15|0]=0,Ce(e,r-a>>2,i+15|0),r=_[(a=t+28|0)>>2],s=_[t+24>>2],l[i+14|0]=0,Ce(e+12|0,r-s>>2,i+14|0),mn(e+28|0,_[n>>2]-_[t>>2]>>2,14160),n=_[e+52>>2],r=(s=_[a>>2]-_[t+24>>2]|0)>>2,!(_[e+60>>2]-n>>2>>>0>=r>>>0)){if(r>>>0>=1073741824)break t;o=_[(c=e+56|0)>>2],f=(f=r<<2)+(r=Fa(s))|0,o=(s=o-n|0)+r|0,(0|s)>=1&&es(r,n,s),_[e+52>>2]=r,_[e+60>>2]=f,_[c>>2]=o,n&&Ka(n)}if(n=_[e+40>>2],r=(a=_[a>>2]-_[t+24>>2]|0)>>2,!(_[e+48>>2]-n>>2>>>0>=r>>>0)){if(r>>>0>=1073741824)break e;c=_[(s=e+44|0)>>2],o=(o=r<<2)+(r=Fa(a))|0,c=(a=c-n|0)+r|0,(0|a)>=1&&es(r,n,a),_[e+40>>2]=r,_[e+48>>2]=o,_[s>>2]=c,n&&Ka(n)}l[e+24|0]=1,_[e+64>>2]=t}return void(z=i+16|0)}Re(14164),P()}Re(14164),P()}function gn(e){var t,i,r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0;if(z=t=z-32|0,_[(i=e+56|0)>>2]=_[e+52>>2],_[(r=e+44|0)>>2]=_[e+40>>2],n=_[e+64>>2],_[n+28>>2]!=_[n+24>>2])for(c=e+40|0,f=e+52|0,h=e+60|0,u=e+48|0;;){e:if(-1!=(0|(a=_[_[n+24>>2]+(l<<2)>>2]))){_[t+24>>2]=o,(0|(n=_[i>>2]))==_[h>>2]?xn(f,t+24|0):(_[n>>2]=o,_[i>>2]=n+4),_[t+16>>2]=a,_[t+8>>2]=0;t:if(_[_[e+12>>2]+(l>>>3&536870908)>>2]>>>(31&l)&1)if(-1==(0|(n=((n=a+1|0)>>>0)%3|0?n:a+-2|0))|_[_[e>>2]+(n>>>3&536870908)>>2]>>>(31&n)&1||-1==(0|(n=_[_[_[e+64>>2]+12>>2]+(n<<2)>>2])))_[t+8>>2]=-1;else if(n=((s=n+1|0)>>>0)%3|0?s:n+-2|0,_[t+8>>2]=n,-1!=(0|n))for(;;){if(_[t+16>>2]=n,a=n,-1==(0|(n=((s=n+1|0)>>>0)%3|0?s:n+-2|0))|_[_[e>>2]+(n>>>3&536870908)>>2]>>>(31&n)&1||-1==(0|(n=_[_[_[e+64>>2]+12>>2]+(n<<2)>>2]))){_[t+8>>2]=-1;break t}if(n=((s=n+1|0)>>>0)%3|0?s:n+-2|0,_[t+8>>2]=n,-1==(0|n))break}_[_[(d=e+28|0)>>2]+(a<<2)>>2]=_[t+24>>2],(0|(n=_[r>>2]))==_[u>>2]?Sr(c,t+16|0):(_[n>>2]=_[t+16>>2],_[r>>2]=n+4),o=o+1|0,n=_[e+64>>2];t:if(-1!=(0|(s=_[t+16>>2]))&&-1!=(0|(a=s+((s>>>0)%3|0?-1:2)|0))&&-1!=(0|(a=_[_[n+12>>2]+(a<<2)>>2]))){if(a=a+((a>>>0)%3|0?-1:2)|0,_[t+8>>2]=a,-1==(0|a)|(0|a)==(0|s))break e;for(;;){if(n=((n=a+1|0)>>>0)%3|0?n:a+-2|0,_[_[e>>2]+(n>>>3&536870908)>>2]>>>(31&n)&1&&(_[t+24>>2]=o,(0|(n=_[i>>2]))==_[h>>2]?xn(f,t+24|0):(_[n>>2]=o,_[i>>2]=n+4),o=o+1|0,(0|(n=_[r>>2]))==_[u>>2]?Sr(c,t+8|0):(_[n>>2]=_[t+8>>2],_[r>>2]=n+4)),_[_[d>>2]+(_[t+8>>2]<<2)>>2]=_[t+24>>2],n=_[e+64>>2],-1==(0|(a=_[t+8>>2])))break t;if(-1==(0|(a=a+((a>>>0)%3|0?-1:2)|0)))break t;if(-1==(0|(a=_[_[n+12>>2]+(a<<2)>>2])))break t;if(a=a+((a>>>0)%3|0?-1:2)|0,_[t+8>>2]=a,-1==(0|a))break e;if(_[t+16>>2]==(0|a))break}break e}_[t+8>>2]=-1}if(!((l=l+1|0)>>>0<_[n+28>>2]-_[n+24>>2]>>2>>>0))break}z=t+32|0}function kn(e,t){var i,r,n=0,a=0,s=0,o=0;s=_[e>>2],_[(n=s+(t>>>3&536870908)|0)>>2]=_[n>>2]|1<<(31&t),i=_[e+64>>2],n=-1,(o=-1==(0|t))||(n=-1,-1!=(0|(a=((a=t+1|0)>>>0)%3|0?a:t+-2|0))&&(n=_[_[i>>2]+(a<<2)>>2])),a=_[e+12>>2],_[(r=(n>>>3&536870908)+a|0)>>2]=_[r>>2]|1<<(31&n);e:{if(o)e=a+536870908|0,t=_[a+536870908>>2],n=-2147483648;else{if(n=-1,-1!=(0|(o=((t>>>0)%3|0?-1:2)+t|0))&&(n=_[_[i>>2]+(o<<2)>>2]),_[(o=a+(n>>>3&536870908)|0)>>2]=_[o>>2]|1<<(31&n),-1==(0|(t=_[_[i+12>>2]+(t<<2)>>2])))break e;l[e+24|0]=0,_[(e=(t>>>3&536870908)+s|0)>>2]=_[e>>2]|1<<(31&t),e=-1,n=-1,-1!=(0|(s=((s=t+1|0)>>>0)%3|0?s:t+-2|0))&&(n=_[_[i>>2]+(s<<2)>>2]),_[(s=a+(n>>>3&536870908)|0)>>2]=_[s>>2]|1<<(31&n),-1!=(0|(t=t+((t>>>0)%3|0?-1:2)|0))&&(e=_[_[i>>2]+(t<<2)>>2]),t=1<<(31&e),n=_[(e=a+(e>>>3&536870908)|0)>>2]}_[e>>2]=t|n}}function xn(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;e:{if(n=_[e>>2],(r=(i=(s=_[e+4>>2]-n|0)>>2)+1|0)>>>0<1073741824){if(o=i<<2,a=(i=_[e+8>>2]-n|0)>>1,r=i>>2>>>0<536870911?a>>>0<r>>>0?r:a:1073741823,i=0,r){if(r>>>0>=1073741824)break e;i=Fa(r<<2)}return _[(a=o+i|0)>>2]=_[t>>2],t=i+(r<<2)|0,r=a+4|0,(0|s)>=1&&es(i,n,s),_[e>>2]=i,_[e+8>>2]=t,_[e+4>>2]=r,void(n&&Ka(n))}Wa(),P()}Re(14164),P()}function Sn(e,t,i){var r,n,a,s,o,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0,A=0,v=0;for(z=r=z-16|0,a=(u=g(t,12)+e|0)+8|0,_[(n=u+12|0)>>2]=_[a>>2],_[r+8>>2]=-1==(0|i)?-1:(i>>>0)/3|0,s=u+16|0,o=e+4|0,f=i;;){u=c;e:{if(d=1==(0|c)){if(-1==(0|f)){f=-1,Tn(e,-1);break e}if(-1==(0|f)|-1==(0|Tn(e,((f>>>0)%3|0?-1:2)+f|0)))break e;if(-1==(0|(l=((i=f+1|0)>>>0)%3|0?i:f+-2|0)))break e;if(-1==(0|(i=((i=l+1|0)>>>0)%3|0?i:l+-2|0)))break e;if(-1==(0|(l=_[_[_[o>>2]+12>>2]+(i<<2)>>2])))break e;if(-1==(0|(i=((i=l+1|0)>>>0)%3|0?i:l+-2|0)))break e;c=(i>>>0)/3|0,_[r+8>>2]=c}else c=_[r+8>>2];if(p=1<<(31&c),m=_[e+56>>2]+(c>>>3&536870908)|0,!(p&(b=_[m>>2]))){for(h=0;;){_[m>>2]=p|b,(0|(l=_[n>>2]))==_[s>>2]?An(a,r+8|0):(_[l>>2]=c,_[n>>2]=l+4),l=h+1|0;t:if(h)if(1&l){if(-1==(0|i)){i=-1;break t}i=((h=i+1|0)>>>0)%3|0?h:i+-2|0}else f=d?i:f,i=-1!=(0|i)?(i>>>0)%3?i+-1|0:i+2|0:-1;if(-1==(0|(i=Tn(e,i)))||(c=(i>>>0)/3|0,_[r+8>>2]=c,h=l,p=1<<(31&c),m=_[e+56>>2]+(c>>>3&268435452)|0,p&(b=_[m>>2])))break}!(1&l)|1!=(0|u)||(d=_[n>>2]+-4|0,c=_[d>>2],h=_[e+56>>2]+(c>>>3&536870908)|0,l=_[h>>2],A=h,v=cs(c)&l,_[A>>2]=v,_[n>>2]=d)}if(c=1,!u)continue}break}if(_[44+((t<<2)+e|0)>>2]=f,(0|(t=_[n>>2]))!=(0|(f=_[a>>2])))for(h=t-f>>2,l=_[e+56>>2],i=0;u=_[f+(i<<2)>>2],e=_[(t=l+(u>>>3&536870908)|0)>>2],A=t,v=cs(u)&e,_[A>>2]=v,(i=i+1|0)>>>0<h>>>0;);z=r+16|0}function Tn(e,t){var i=0,r=0,n=0,a=0,s=0;r=-1,a=-1,n=-1;e:{t:if(-1!=(0|t)){if(s=1,a=_[_[_[e+4>>2]+12>>2]+(t<<2)>>2],(0|(i=((i=t+1|0)>>>0)%3|0?i:t+-2|0))>=0&&(n=(i>>>0)/3|0,n=_[(_[_[e>>2]+96>>2]+g(n,12)|0)+(i-g(n,3)<<2)>>2]),-1!=(0|a)&&(s=0,(0|(i=((a>>>0)%3|0?-1:2)+a|0))<0||(r=(i>>>0)/3|0,r=_[(_[_[e>>2]+96>>2]+g(r,12)|0)+(i-g(r,3)<<2)>>2])),i=-1,(0|r)!=(0|n))break e;if(n=-1,(0|(t=((t>>>0)%3|0?-1:2)+t|0))>=0){if(r=(t>>>0)/3|0,r=_[(_[_[e>>2]+96>>2]+g(r,12)|0)+(t-g(r,3)<<2)>>2],s)break t}else if(r=-1,s)break t;(0|(t=((t=a+1|0)>>>0)%3|0?t:a+-2|0))<0||(n=_[_[e>>2]+96>>2],n=_[(n+g(e=(t>>>0)/3|0,12)|0)+(t-g(e,3)<<2)>>2])}i=(0|r)==(0|n)?a:-1}return i}function wn(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0;z=i=z-48|0,_[i+40>>2]=0,_[i+32>>2]=0,_[i+36>>2]=0,r=Fa(8),_[r+4>>2]=t,_[r>>2]=0,t=r+8|0,_[i+40>>2]=t,_[i+36>>2]=t,_[i+32>>2]=r;e:{t:{i:{r:{for(;;){if(o=_[(t=t+-8|0)+4>>2],d=_[t>>2],_[i+36>>2]=t,d){_[i+24>>2]=0,_[i+16>>2]=0,_[i+20>>2]=0,f=1,t=_[e>>2],s=_[t+16>>2];n:if(!((0|(a=_[t+12>>2]))<(0|(r=_[t+20>>2]))||(0|a)<=(0|r)&&!(A[t+8>>2]>s>>>0))){if(n=m[s+_[t>>2]|0],(a=s+1|0)>>>0<1&&(r=r+1|0),_[t+16>>2]=a,_[t+20>>2]=r,za(i+16|0,n),n){if(a=_[e>>2],u=ja(i+16|0),c=_[a+12>>2],s=_[a+20>>2],(r=(h=_[a+16>>2])+(t=n)|0)>>>0<t>>>0&&(s=s+1|0),(0|c)<(0|s)||(0|c)<=(0|s)&&!(A[a+8>>2]>=r>>>0))break n;es(u,h+_[a>>2]|0,n),a=r=a,s=_[r+20>>2],(n=t+_[r+16>>2]|0)>>>0<t>>>0&&(s=s+1|0),_[a+16>>2]=n,_[r+20>>2]=s}o=Fa(24),_[(r=o+4|0)>>2]=0,_[r+4>>2]=0,_[(t=o+16|0)>>2]=0,_[t+4>>2]=0,_[o>>2]=r,_[o+12>>2]=t,_[i+8>>2]=o,In(d,i+16|0,i+8|0),t=_[i+8>>2],f=0,_[i+8>>2]=0,t&&(Je(t+12|0,_[t+16>>2]),qe(t,_[t+4>>2]),Ka(t))}if(l[i+27|0]<=-1&&Ka(_[i+16>>2]),f)break t}if(!o)break t;if(_[i+16>>2]=0,!En(1,i+16|0,_[e>>2]))break t;if(t=0,r=_[i+16>>2])for(;;){if(!Mn(e,o))break t;if(!((t=t+1|0)>>>0<r>>>0))break}if(_[i+4>>2]=0,!En(1,i+4|0,_[e>>2]))break t;if(s=_[i+4>>2])for(f=0;;){if((t=_[i+36>>2])>>>0<(r=_[i+40>>2])>>>0)_[t+4>>2]=0,_[t>>2]=o,_[i+36>>2]=_[i+36>>2]+8;else{if((h=(t=(u=t-(c=_[i+32>>2])|0)>>3)+1|0)>>>0>=536870912)break r;if(a=t<<3,r=(n=r-c|0)>>2,t=0,n=n>>3>>>0<268435455?r>>>0<h>>>0?h:r:536870911){if(n>>>0>=536870912)break i;t=Fa(n<<3)}_[(r=a+t|0)+4>>2]=0,_[r>>2]=o,n=t+(n<<3)|0,r=r+8|0,(0|u)>=1&&es(t,c,u),_[i+40>>2]=n,_[i+36>>2]=r,_[i+32>>2]=t,c&&Ka(c)}if(!((f=f+1|0)>>>0<s>>>0))break}if((0|(t=_[i+36>>2]))==(0|(r=_[i+32>>2])))break}e=1;break e}Wa(),P()}Re(14232),P()}r=_[i+32>>2],e=0}return r&&(_[i+36>>2]=r,Ka(r)),z=i+48|0,e}function En(e,t,i){var r=0,n=0,a=0,s=0;e:if(!(e>>>0>5)&&(a=_[i+16>>2],!((0|(r=_[i+12>>2]))<(0|(n=_[i+20>>2]))||(0|r)<=(0|n)&&!(A[i+8>>2]>a>>>0)))){if(r=m[a+_[i>>2]|0],(a=a+1|0)>>>0<1&&(n=n+1|0),_[i+16>>2]=a,_[i+20>>2]=n,n=t,128&r){if(!En(e+1|0,t,i))break e;e=_[t>>2]<<7,_[t>>2]=e,r=e|127&r}_[n>>2]=r,s=1}return s}function Mn(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0;z=i=z-32|0,_[i+24>>2]=0,_[i+16>>2]=0,_[i+20>>2]=0;e:{n=_[e>>2],s=_[(r=n)+16>>2],o=A[r+8>>2]>s>>>0?0:1;t:if(!((0|(a=_[r+12>>2]))<(0|(r=_[r+20>>2]))||(0|a)<=(0|r)&&o)){if(o=m[s+_[n>>2]|0],a=r,(r=s+1|0)>>>0<1&&(a=a+1|0),_[n+16>>2]=r,_[n+20>>2]=a,za(i+16|0,o),o){if(a=_[e>>2],f=ja(i+16|0),u=_[a+12>>2],s=_[a+20>>2],(r=(h=_[a+16>>2])+(n=o)|0)>>>0<n>>>0&&(s=s+1|0),(0|u)<(0|s)||(0|u)<=(0|s)&&!(A[a+8>>2]>=r>>>0))break t;es(f,h+_[a>>2]|0,o),a=r=a,s=_[r+20>>2],(o=n+_[r+16>>2]|0)>>>0<n>>>0&&(s=s+1|0),_[a+16>>2]=o,_[r+20>>2]=s}if(_[i+12>>2]=0,r=En(1,i+12|0,_[e>>2]),!(!(n=_[i+12>>2])|!r)){if(_[i+8>>2]=0,_[i>>2]=0,_[i+4>>2]=0,(0|n)<=-1)break e;for(c=Fa(n),_[i>>2]=c,_[i+4>>2]=c,_[i+8>>2]=n+c,r=n;l[0|c]=0,c=_[i+4>>2]+1|0,_[i+4>>2]=c,r=r+-1|0;);c=0,r=_[e>>2],e=_[r+8>>2],h=_[r+12>>2],a=e,f=_[r+20>>2],e=n,(o=(s=_[r+16>>2])+n|0)>>>0<n>>>0&&(f=f+1|0),((0|h)>(0|f)||(0|h)>=(0|f)&&!(a>>>0<o>>>0))&&(es(_[i>>2],s+_[r>>2]|0,n),n=r,o=r,a=_[r+20>>2],(r=e+_[r+16>>2]|0)>>>0<e>>>0&&(a=a+1|0),_[o+16>>2]=r,_[n+20>>2]=a,function(e,t,i){var r,n=0,a=0,s=0;z=r=z+-64|0,(0|(n=on(e,t)))!=(e+4|0)&&function(e,t){var i=0,r=0,n=0;i:if(i=_[t+4>>2])for(;r=i,i=_[i>>2];);else{if(r=_[t+8>>2],_[r>>2]==(0|t))break i;for(n=t+8|0;i=_[n>>2],n=i+8|0,r=_[i+8>>2],(0|i)!=_[r>>2];);}_[e>>2]==(0|t)&&(_[e>>2]=r);_[(r=e+8|0)>>2]=_[r>>2]+-1,function(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;i:{r:{if(r=t,n=_[t>>2]){if(!(i=_[t+4>>2]))break r;for(;r=i,i=_[i>>2];);}if(!(n=_[r+4>>2])){n=0,s=0;break i}}_[n+8>>2]=_[r+8>>2],s=1}a=_[r+8>>2];i:if((0|(i=_[a>>2]))!=(0|r))_[a+4>>2]=n;else{if(_[a>>2]=n,(0|e)==(0|r)){i=0,e=n;break i}i=_[a+4>>2]}i:{r:{n:{if(o=!m[r+12|0],(0|t)!=(0|r)&&(a=_[t+8>>2],_[r+8>>2]=a,_[a+((_[_[t+8>>2]>>2]!=(0|t))<<2)>>2]=r,a=_[t>>2],_[r>>2]=a,_[a+8>>2]=r,a=_[t+4>>2],_[r+4>>2]=a,a&&(_[a+8>>2]=r),l[r+12|0]=m[t+12|0],e=(0|e)==(0|t)?r:e),!(o|!e)){if(!s)for(;;){t=m[i+12|0];a:{if(n=_[i+8>>2],_[n>>2]!=(0|i)){if(t||(l[i+12|0]=1,l[n+12|0]=0,s=_[(t=n+4|0)>>2],r=_[s>>2],_[t>>2]=r,r&&(_[r+8>>2]=n),_[s+8>>2]=_[n+8>>2],t=_[n+8>>2],_[((0|n)==_[t>>2]?t:t+4|0)>>2]=s,_[s>>2]=n,_[n+8>>2]=s,t=_[i>>2],e=(0|t)==(0|e)?i:e,i=_[t+4>>2]),r=_[i>>2],m[r+12|0]||!r){if(t=_[i+4>>2],!m[t+12|0]&&t)break n;if(l[i+12|0]=0,(0|(i=_[i+8>>2]))!=(0|e)){if(m[i+12|0])break a}else i=e;return void(l[i+12|0]=1)}if(t=_[i+4>>2])break n;break r}t?t=i:(l[i+12|0]=1,l[n+12|0]=0,t=_[i+4>>2],_[n>>2]=t,t&&(_[t+8>>2]=n),_[i+8>>2]=_[n+8>>2],r=_[n+8>>2],(0|n)!=_[r>>2]?_[r+4>>2]=i:(_[r>>2]=i,t=_[n>>2]),_[i+4>>2]=n,_[n+8>>2]=i,e=(0|e)==(0|n)?i:e);s:if(!(r=_[t>>2])|m[r+12|0]){if(i=_[t+4>>2],m[i+12|0]||!i){if(l[t+12|0]=0,i=_[t+8>>2],m[i+12|0]&&(0|i)!=(0|e))break a;return void(l[i+12|0]=1)}if(r){if(!m[r+12|0]){i=t;break s}i=_[t+4>>2]}l[i+12|0]=1,l[t+12|0]=0,e=_[i>>2],_[t+4>>2]=e,e&&(_[e+8>>2]=t),_[i+8>>2]=_[t+8>>2],e=_[t+8>>2],_[(_[e>>2]==(0|t)?e:e+4|0)>>2]=i,_[i>>2]=t,_[t+8>>2]=i,r=t}else i=t;return e=i,i=_[i+8>>2],l[e+12|0]=m[i+12|0],l[i+12|0]=1,l[r+12|0]=1,t=_[i>>2],e=_[t+4>>2],_[i>>2]=e,e&&(_[e+8>>2]=i),_[t+8>>2]=_[i+8>>2],e=_[i+8>>2],_[((0|i)==_[e>>2]?e:e+4|0)>>2]=t,_[t+4>>2]=i,void(_[i+8>>2]=t)}t=_[i+8>>2],i=_[(_[t>>2]==(0|i)?t+4|0:t)>>2]}l[n+12|0]=1}return}if(!m[t+12|0]){r=i;break i}}l[r+12|0]=1,l[i+12|0]=0,e=_[r+4>>2],_[i>>2]=e,e&&(_[e+8>>2]=i),_[r+8>>2]=_[i+8>>2],e=_[i+8>>2],_[(_[e>>2]==(0|i)?e:e+4|0)>>2]=r,_[r+4>>2]=i,_[i+8>>2]=r,t=i}i=_[r+8>>2],l[r+12|0]=m[i+12|0],l[i+12|0]=1,l[t+12|0]=1,t=_[i+4>>2],e=_[t>>2],_[i+4>>2]=e,e&&(_[e+8>>2]=i);_[t+8>>2]=_[i+8>>2],e=_[i+8>>2],_[((0|i)==_[e>>2]?e:e+4|0)>>2]=t,_[t>>2]=i,_[i+8>>2]=t}(_[e+4>>2],t),(e=_[t+28>>2])&&(_[t+32>>2]=e,Ka(e));l[t+27|0]<=-1&&Ka(_[t+16>>2]);Ka(t)}(e,n);n=0,_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,s=_[i>>2],(a=_[i+4>>2]-s|0)?(_e(r+8|0,a),s=_[i>>2],i=_[r+8>>2]):i=0;es(i,s,a),s=Ua(r+24|0,t),_[r+44>>2]=0,_[r+36>>2]=0,_[r+40>>2]=0,t=_[r+12>>2],i=_[r+8>>2],(a=t-i|0)&&(_e(r+36|0,a),i=_[r+8>>2],n=_[r+36>>2],t=_[r+12>>2]);es(n,i,t-i|0),t=$i(e,r+60|0,s),_[t>>2]||(!function(e,t,i){var r,n,a,s=0,o=0;r=Fa(40),l[e+8|0]=0,_[e+4>>2]=t+4,_[e>>2]=r,t=i+8|0,_[r+24>>2]=_[t>>2],s=_[i+4>>2],_[r+16>>2]=_[i>>2],_[r+20>>2]=s,_[i>>2]=0,_[i+4>>2]=0,_[t>>2]=0,_[r+36>>2]=0,_[r+28>>2]=0,_[r+32>>2]=0,s=_[(n=i+16|0)>>2],t=_[i+12>>2],(a=s-t|0)&&(_e(t=r+28|0,a),s=_[n>>2],o=_[t>>2],t=_[i+12>>2]);es(o,t,s-t|0),l[e+8|0]=1}(r+48|0,e,r+24|0),i=_[r+48>>2],_[i+8>>2]=_[r+60>>2],_[i>>2]=0,_[i+4>>2]=0,_[t>>2]=i,(n=_[_[e>>2]>>2])&&(_[e>>2]=n,i=_[t>>2]),Ki(_[e+4>>2],i),_[(e=e+8|0)>>2]=_[e>>2]+1);(e=_[r+36>>2])&&(_[r+40>>2]=e,Ka(e));l[r+35|0]<=-1&&Ka(_[r+24>>2]);(e=_[r+8>>2])&&(_[r+12>>2]=e,Ka(e));z=r- -64|0}(t,i+16|0,i),c=1),(e=_[i>>2])&&(_[i+4>>2]=e,Ka(e))}}return l[i+27|0]<=-1&&Ka(_[i+16>>2]),z=i+32|0,c}Wa(),P()}function Pn(e,t,i){var r,n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0;z=r=z-16|0;e:{if((0|(o=_[e+24>>2]))!=(0|(n=_[e+28>>2])))for(d=r+8|0,p=i+4|0;;){_[d>>2]=0,_[r>>2]=0,_[r+4>>2]=0,e=On(_[o>>2],t,r),h=(l=m[r+11|0])<<24>>24;t:{i:{r:if(e){if(e=0,s=(a=m[i+11|0])<<24>>24,(0|(f=(0|h)<0?_[r+4>>2]:l))==(0|((0|s)<0?_[p>>2]:a))){c=(0|s)<0?_[i>>2]:i,s=_[r>>2];n:{if(!(a=(0|h)<0)){if(!f)break n;if(a=r,m[0|c]!=(255&s))break r;for(;;){if(!(l=l+-1|0))break n;if(s=m[c+1|0],c=c+1|0,(0|s)!=m[0|(a=a+1|0)])break}break r}if(f&&ca(a?s:r,c,f))break i}u=_[o>>2],e=1}}else e=3;if((0|h)>-1)break t}Ka(_[r>>2])}if(e>>>0>3)break e;t:switch(e-1|0){case 0:case 1:break e;default:break t}if((0|n)==(0|(o=o+4|0)))break}u=0}return z=r+16|0,u}function Rn(e,t){var i,r,n;if(r=_[t>>2]){if((n=_[(i=e+28|0)>>2])>>>0<A[e+32>>2])return _[t>>2]=0,_[n>>2]=r,void(_[i>>2]=_[i>>2]+4);!function(e,t){var i=0,r=0,n=0,a=0,s=0;e:{t:{i:{if(n=_[e>>2],a=_[e+4>>2]-n>>2,(i=a+1|0)>>>0<1073741824){if(n=_[e+8>>2]-n|0,s=n>>1,i=n>>2>>>0<536870911?s>>>0<i>>>0?i:s:1073741823){if(i>>>0>=1073741824)break i;r=Fa(i<<2)}if(n=_[t>>2],_[t>>2]=0,_[(t=(a<<2)+r|0)>>2]=n,n=(i<<2)+r|0,a=t+4|0,i=_[e+4>>2],r=_[e>>2],(0|i)==(0|r))break t;for(;s=_[(i=i+-4|0)>>2],_[i>>2]=0,_[(t=t+-4|0)>>2]=s,(0|i)!=(0|r););r=_[e+4>>2],i=_[e>>2];break e}Wa(),P()}Re(14300),P()}i=r}if(_[e>>2]=t,_[e+8>>2]=n,_[e+4>>2]=a,(0|i)!=(0|r))for(;e=_[(r=r+-4|0)>>2],_[r>>2]=0,e&&(Je(e+12|0,_[e+16>>2]),qe(e,_[e+4>>2]),Ka(e)),(0|i)!=(0|r););i&&Ka(i)}(e+24|0,t)}}function Cn(e,t,i){(0|(e+4|0))!=(0|(e=on(e,t)))&&4==((t=_[e+32>>2])-(e=_[e+28>>2])|0)&&(_[i>>2]=m[0|e]|m[e+1|0]<<8|m[e+2|0]<<16|m[e+3|0]<<24)}function On(e,t,i){var r=0,n=0,a=0;return(0|(r=e+4|0))!=(0|(e=on(e,t)))&&(0|(r=_[(t=e+32|0)>>2]))!=(0|(n=_[e+28>>2]))&&(za(i,r-n|0),es(i=ja(i),e=_[e+28>>2],_[t>>2]-e|0),a=1),a}function In(e,t,i){var r,n;z=r=z-32|0,(0|on(n=e+12|0,t))==(e+16|0)&&(_[r+16>>2]=t,function(e,t,i,r){var n,a,s,o=0;z=n=z-16|0,s=e,a=$i(t,n+12|0,i),(i=_[a>>2])?t=0:(Ua((i=Fa(32))+16|0,_[r>>2]),_[i+28>>2]=0,_[i+8>>2]=_[n+12>>2],_[i>>2]=0,_[i+4>>2]=0,_[a>>2]=i,r=i,(o=_[_[t>>2]>>2])&&(_[t>>2]=o,r=_[a>>2]),Ki(_[t+4>>2],r),_[(t=t+8|0)>>2]=_[t>>2]+1,t=1),l[s+4|0]=t,_[e>>2]=i,z=n+16|0}(r+24|0,n,t,r+16|0),e=_[r+24>>2],t=_[i>>2],_[i>>2]=0,e=_[(i=e+28|0)>>2],_[i>>2]=t,e&&(Je(e+12|0,_[e+16>>2]),qe(e,_[e+4>>2]),Ka(e))),z=r+32|0}function Dn(e){return _[e>>2]=14380,ts(e+4|0,0,80),e}function Fn(e,t){var i=0;return i=-1,-1==(0|t)|(0|t)>4||(t=g(t,12)+e|0,e=_[t+20>>2],(_[t+24>>2]-e|0)<1||(i=_[e>>2])),i}function Nn(e,t){var i,r=0,n=0;e:if((0|(i=_[e+8>>2]))!=(0|(e=_[e+12>>2]))){for(n=e-i>>2,e=0;;){if(r=_[(e<<2)+i>>2],_[r+60>>2]==(0|t))break e;if(!((e=e+1|0)>>>0<n>>>0))break}r=0}return r}function Bn(e,t){var i,r=0;if((0|(i=_[e+8>>2]))!=(0|(e=_[e+12>>2])))for(r=e-i>>2,e=0;;){if(_[_[(e<<2)+i>>2]+60>>2]==(0|t))return e;if(!((e=e+1|0)>>>0<r>>>0))break}return-1}function Ln(e,t){var i,r,n,s,o;return z=i=z-16|0,n=_[(r=e+12|0)>>2],s=_[e+8>>2],o=_[t>>2],_[t>>2]=0,_[i+8>>2]=o,a[_[_[e>>2]+8>>2]](e,n-s>>2,i+8|0),t=_[i+8>>2],_[i+8>>2]=0,t&&Ye(t),z=i+16|0,(_[r>>2]-_[e+8>>2]>>2)-1|0}function Un(e,t,i){e|=0,t|=0,i|=0;var r,n,a,s=0,o=0,l=0;if(z=r=z-16|0,_[r+12>>2]=t,n=e+8|0,!((0|(o=(s=_[e+12>>2])-(a=_[e+8>>2])>>2))>(0|t)))if((l=t+1|0)>>>0>o>>>0)!function(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;if(r=_[e+8>>2],i=_[(n=e+4|0)>>2],r-i>>2>>>0>=t>>>0)return c=n,f=ts(i,0,e=t<<2)+e|0,void(_[c>>2]=f);e:{if(n=_[e>>2],(s=(a=i-n>>2)+t|0)>>>0<1073741824){if(a<<=2,l=(r=r-n|0)>>1,r=r>>2>>>0<536870911?l>>>0<s>>>0?s:l:1073741823){if(r>>>0>=1073741824)break e;o=Fa(r<<2)}if(ts(a=a+o|0,0,t<<2),t=(s<<2)+o|0,s=(r<<2)+o|0,(0|i)!=(0|n)){for(;r=_[(i=i+-4|0)>>2],_[i>>2]=0,_[(a=a+-4|0)>>2]=r,(0|i)!=(0|n););n=_[e>>2],i=_[e+4>>2]}if(_[e>>2]=a,_[e+8>>2]=s,_[e+4>>2]=t,(0|i)!=(0|n))for(;e=_[(i=i+-4|0)>>2],_[i>>2]=0,e&&Ye(e),(0|i)!=(0|n););return void(n&&Ka(n))}Wa(),P()}Re(14428),P()}(n,l-o|0);else if(!(l>>>0>=o>>>0)){if((0|(o=a+(l<<2)|0))!=(0|s))for(;l=_[(s=s+-4|0)>>2],_[s>>2]=0,l&&Ye(l),(0|s)!=(0|o););_[e+12>>2]=o}(0|(s=_[_[i>>2]+56>>2]))>4||(s=g(s,12)+e|0,(0|(e=_[(o=s+24|0)>>2]))==_[s+28>>2]?function(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;e:{if(n=_[e>>2],s=_[e+4>>2]-n|0,(r=(i=s>>2)+1|0)>>>0<1073741824){if(o=i<<2,i=_[e+8>>2]-n|0,a=i>>1,r=i>>2>>>0<536870911?a>>>0<r>>>0?r:a:1073741823,i=0,r){if(r>>>0>=1073741824)break e;i=Fa(r<<2)}return _[(a=o+i|0)>>2]=_[t>>2],t=i+(r<<2)|0,r=a+4|0,(0|s)>=1&&es(i,n,s),_[e>>2]=i,_[e+8>>2]=t,_[e+4>>2]=r,void(n&&Ka(n))}Wa(),P()}Re(14428),P()}(s+20|0,r+12|0):(_[e>>2]=t,_[o>>2]=e+4)),t=_[i>>2],e=_[r+12>>2],_[t+60>>2]=e,s=_[n>>2],_[i>>2]=0,e=_[(i=s+(e<<2)|0)>>2],_[i>>2]=t,e&&Ye(e),z=r+16|0}function Vn(e,t){e|=0;var i=0,r=0,n=0,a=0,s=0,o=0,l=0;if(!((0|(t|=0))<0)&&!((i=_[e+12>>2])-(r=_[e+8>>2])>>2>>>0<=t>>>0)){n=_[(r=r+(t<<2)|0)>>2],o=_[n+60>>2],a=_[n+56>>2];e:{if((0|(n=r+4|0))!=(0|i)){for(;l=_[n>>2],_[n>>2]=0,s=_[r>>2],_[r>>2]=l,s&&Ye(s),r=r+4|0,(0|(n=n+4|0))!=(0|i););if((0|r)==(0|(i=_[e+12>>2])))break e}for(;n=_[(i=i+-4|0)>>2],_[i>>2]=0,n&&Ye(n),(0|i)!=(0|r););}_[e+12>>2]=r,(i=_[e+4>>2])&&function(e,t){var i=0,r=0,n=0,a=0;e:if(!((0|t)<0)){for(i=_[e+28>>2],n=_[e+24>>2];;){if((0|i)==(0|(r=n)))break e;if(n=r+4|0,_[_[r>>2]+24>>2]==(0|t))break}t:{if((0|i)!=(0|n)){for(;t=_[n>>2],_[n>>2]=0,a=_[r>>2],_[r>>2]=t,a&&(Je(a+12|0,_[a+16>>2]),qe(a,_[a+4>>2]),Ka(a)),r=r+4|0,(0|i)!=(0|(n=n+4|0)););if((0|(i=_[e+28>>2]))==(0|r))break t}for(;t=_[(i=i+-4|0)>>2],_[i>>2]=0,t&&(Je(t+12|0,_[t+16>>2]),qe(t,_[t+4>>2]),Ka(t)),(0|r)!=(0|i););}_[e+28>>2]=r}}(i,o);e:if(!((0|a)>4)){t:if(r=g(a,12)+e|0,(0|(i=_[r+20>>2]))!=(0|(r=_[(n=r+24|0)>>2]))){for(;;){if(_[i>>2]==(0|t))break t;if((0|r)==(0|(i=i+4|0)))break}break e}(0|i)!=(0|r)&&(s=(r=r-(a=i+4|0)|0)>>2,r&&is(i,a,r),_[n>>2]=(s<<2)+i)}if((0|(i=_[e+24>>2]))!=(0|(r=_[e+20>>2])))for(n=i-r>>2,i=0;(0|(s=_[(a=r+(i<<2)|0)>>2]))>(0|t)&&(_[a>>2]=s+-1),(i=i+1|0)>>>0<n>>>0;);if((0|(i=_[e+36>>2]))!=(0|(r=_[e+32>>2])))for(n=i-r>>2,i=0;(0|(s=_[(a=r+(i<<2)|0)>>2]))>(0|t)&&(_[a>>2]=s+-1),(i=i+1|0)>>>0<n>>>0;);if((0|(i=_[e+48>>2]))!=(0|(r=_[e+44>>2])))for(n=i-r>>2,i=0;(0|(s=_[(a=r+(i<<2)|0)>>2]))>(0|t)&&(_[a>>2]=s+-1),(i=i+1|0)>>>0<n>>>0;);if((0|(i=_[e+60>>2]))!=(0|(r=_[e+56>>2])))for(n=i-r>>2,i=0;(0|(s=_[(a=r+(i<<2)|0)>>2]))>(0|t)&&(_[a>>2]=s+-1),(i=i+1|0)>>>0<n>>>0;);if((0|(i=_[e+72>>2]))!=(0|(e=_[e+68>>2])))for(r=i-e>>2,i=0;(0|(a=_[(n=e+(i<<2)|0)>>2]))>(0|t)&&(_[n>>2]=a+-1),(i=i+1|0)>>>0<r>>>0;);}}function zn(e,t,i){return(_[e+12>>2]+-1|0)==(0|i)?0:i+1|0}function jn(e,t,i){var r=0,n=0,a=0;e:if(t>>>0<=63){if(t=0,(r=_[e+12>>2])>>>0<2)break e;for(i=_[i>>2],e=1;t=A[i+(t<<2)>>2]>A[i+(e<<2)>>2]?e:t,(e=e+1|0)>>>0<r>>>0;);}else{if((0|(r=32-(t=_[e+580>>2])|0))>=4){if((0|(i=_[e+576>>2]))==_[e+568>>2])return 0;if(r=_[i>>2],n=t+4|0,_[e+580>>2]=n,t=r<<t>>>28,32!=(0|n))break e;return _[e+580>>2]=0,_[e+576>>2]=i+4,t}if((0|(n=(i=_[e+576>>2])+4|0))==_[e+568>>2])return 0;a=_[i>>2],_[e+576>>2]=n,_[e+580>>2]=t+-28,e=60-t|0,t=_[i+4>>2]>>>e|a<<t>>>e-r}return t}function Wn(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0;z=r=z-672|0,a=_[t+12>>2];e:{o=_[t+20>>2],(n=(s=_[t+16>>2])+4|0)>>>0<4&&(o=o+1|0);t:if(!((0|a)<(0|o)||(0|a)<=(0|o)&&!(A[t+8>>2]>=n>>>0))&&(n=s+_[t>>2]|0,c=m[0|n]|m[n+1|0]<<8|m[n+2|0]<<16|m[n+3|0]<<24,_[e>>2]=c,a=n=_[t+20>>2],(o=(f=_[t+16>>2])+4|0)>>>0<4&&(n=n+1|0),_[t+16>>2]=o,_[t+20>>2]=n,!(c>>>0>31)&&((n=f+8|0)>>>0<8&&(a=a+1|0),!((0|(s=_[t+12>>2]))<(0|a)||(0|s)<=(0|a)&&!(A[t+8>>2]>=n>>>0))&&(n=o+_[t>>2]|0,_[e+4>>2]=m[0|n]|m[n+1|0]<<8|m[n+2|0]<<16|m[n+3|0]<<24,a=n=_[t+20>>2],(o=(f=_[t+16>>2])+4|0)>>>0<4&&(n=n+1|0),_[t+16>>2]=o,_[t+20>>2]=n,n=a,(s=f+8|0)>>>0<8&&(n=n+1|0),!((0|(c=_[t+12>>2]))<(0|n)||(0|c)<=(0|n)&&!(A[t+8>>2]>=s>>>0))&&(n=o+_[t>>2]|0,c=m[0|n]|m[n+1|0]<<8|m[n+2|0]<<16|m[n+3|0]<<24,_[e+12>>2]=c,s=a=_[t+20>>2],h=n=t,(o=(f=_[n+16>>2])+4|0)>>>0<4&&(a=a+1|0),_[h+16>>2]=o,_[n+20>>2]=a,((0|(n=_[e+20>>2]))==(0|c)||!n)&&(n=s,(s=f+8|0)>>>0<8&&(n=n+1|0),!((0|(a=_[t+12>>2]))<(0|n)||(0|a)<=(0|n)&&!(A[t+8>>2]>=s>>>0))))))))if(n=o+_[t>>2]|0,a=m[0|n]|m[n+1|0]<<8|m[n+2|0]<<16|m[n+3|0]<<24,_[e+16>>2]=a,h=n=t,o=_[n+20>>2],(s=_[n+16>>2]+4|0)>>>0<4&&(o=o+1|0),_[h+16>>2]=s,_[n+20>>2]=o,a>>>0>=7)_[r>>2]=a,aa(14496,r);else{_[r+664>>2]=i;i:if(c){if(a=_[i>>2],!((_[i+8>>2]-a|0)/12>>>0>=c>>>0)){if(c>>>0>=357913942)break e;if(l=_[(f=i+4|0)>>2],o=(n=g(c,12))+(s=Fa(n))|0,n=s+g((l-a|0)/12|0,12)|0,(0|a)!=(0|l)){for(s=n;l=l+-12|0,_[(s=s+-12|0)>>2]=_[l>>2],_[s+4>>2]=_[l+4>>2],_[s+8>>2]=_[l+8>>2],(0|a)!=(0|l););l=a}else s=n;_[i>>2]=s,_[i+8>>2]=o,_[f>>2]=n,l&&Ka(l)}if((n=_[e+16>>2])>>>0>6){l=0;break t}r:switch(n-1|0){default:(function(e,t,i){var r=0,n=0,a=0,s=0,o=0;n=_[t+12>>2],a=_[t+20>>2],s=_[t+16>>2],(r=s+4|0)>>>0<4&&(a=a+1|0);(0|n)<(0|a)||(0|n)<=(0|a)&&!(A[t+8>>2]>=r>>>0)||(r=s+_[t>>2]|0,r=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e>>2]=r,n=_[t+20>>2],s=n,o=_[t+16>>2],(a=o+4|0)>>>0<4&&(n=n+1|0),_[t+16>>2]=a,_[t+20>>2]=n,r>>>0>32||(n=_[t+12>>2],(r=o+8|0)>>>0<8&&(s=s+1|0),(0|n)<(0|s)||(0|n)<=(0|s)&&!(A[t+8>>2]>=r>>>0)||(r=a+_[t>>2]|0,n=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e+4>>2]=n,a=_[t+20>>2],(s=_[t+16>>2]+4|0)>>>0<4&&(a=a+1|0),_[t+16>>2]=s,_[t+20>>2]=a,n&&(_[e+8>>2]=0,Hi(e+16|0,t)&&Hi(e+36|0,t)&&Hi(e+56|0,t)&&Hi(e+76|0,t)&&function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0,v=0,y=0,k=0,x=0,T=0,w=0,E=0,M=0,R=0,C=0,O=0,I=0,D=0;z=r=z-48|0,n=_[e+12>>2],_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0;n:{if(n){if(n>>>0>=1073741824)break n;for(o=Fa(a=n<<2),_[r+8>>2]=o,_[r+12>>2]=o,_[r+16>>2]=a+o,s=ts(o,0,a),a=n;s=s+4|0,a=a+-1|0;);_[r+12>>2]=s}a=_[e+120>>2],(c=_[a>>2])&&(_[a+4>>2]=c,Ka(c),_[a+8>>2]=0,_[a>>2]=0,_[a+4>>2]=0,s=_[r+12>>2],o=_[r+8>>2],n=_[e+12>>2]),_[a>>2]=o,_[a+4>>2]=s,_[a+8>>2]=_[r+16>>2],s=0,_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,a=0;a:{if(n){if(n>>>0>=1073741824)break a;for(a=Fa(c=n<<2),_[r+8>>2]=a,_[r+12>>2]=a,_[r+16>>2]=a+c,s=ts(a,0,c);s=s+4|0,n=n+-1|0;);_[r+12>>2]=s}n=_[e+132>>2],(c=_[n>>2])&&(_[n+4>>2]=c,Ka(c),_[n+8>>2]=0,_[n>>2]=0,_[n+4>>2]=0,s=_[r+12>>2],a=_[r+8>>2]),_[n>>2]=a,_[n+4>>2]=s,_[n+8>>2]=_[r+16>>2],_[(a=r+24|0)>>2]=0,_[a+4>>2]=0,_[(c=r+16|0)>>2]=0,_[c+4>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,Zt(r+8|0),l=_[c>>2],c=_[r+12>>2],n=0,(0|l)!=(0|c)&&(n=_[a>>2]+_[r+28>>2]|0,n=_[c+((a=(n>>>0)/341|0)<<2)>>2]+g(n-g(a,341)|0,12)|0),_[n+4>>2]=0,_[n+8>>2]=0,_[n>>2]=t,a=_[r+28>>2],n=a+1|0,_[r+28>>2]=n;s:if(!(n>>>0<a>>>0))for(T=e+132|0,k=e+120|0,w=e+108|0,E=e+96|0,v=e+48|0,M=e+40|0,y=e+28|0,R=e+20|0,O=e+80|0;;){if(o=_[r+12>>2],l=_[r+24>>2],a=_[o+((c=((a=l+(s=n+-1|0)|0)>>>0)/341|0)<<2)>>2]+g(a-g(c,341)|0,12)|0,u=_[a+8>>2],h=_[a+4>>2],c=_[a>>2],_[r+28>>2]=s,a=_[r+16>>2],1+(((s=a-o|0)?g(s>>2,341)+-1|0:0)-(n+l|0)|0)>>>0>=682&&(Ka(_[a+-4>>2]),_[r+16>>2]=_[r+16>>2]+-4),c>>>0>t>>>0)break s;if(n=_[k>>2],o=g(u,12),d=o+_[T>>2]|0,(s=zn(e,0,h))>>>0>=A[e+12>>2])break s;l=n+o|0;o:{l:if(h=s<<2,a=_[e>>2]-_[h+_[d>>2]>>2]|0){c:{f:{h:{u:{if(c>>>0<=2){if(o=_[w>>2],_[o>>2]=s,a=1,(n=_[e+12>>2])>>>0>1)break u;break c}if(A[e+8>>2]>A[e+4>>2])break s;n=_[k>>2],d=g(m=u+1|0,12),(0|(f=n+d|0))!=(0|l)&&(lt(f,_[l>>2],_[l+4>>2]),n=_[k>>2]),n=h+_[n+d>>2]|0,_[n>>2]=_[n>>2]+(1<<a+-1),n=31^S(c),a=_[e+32>>2];d:if((0|n)<=(0|(f=32-a|0))){if((0|(l=_[y>>2]))==_[R>>2]){a=0;break d}if(f=_[l>>2],p=n+a|0,_[e+32>>2]=p,a=f<<a>>>32-n,32!=(0|p))break d;_[e+32>>2]=0,_[y>>2]=l+4}else l=_[y>>2],(0|(p=l+4|0))!=_[R>>2]?(x=_[l>>2],_[y>>2]=p,f=n-f|0,_[e+32>>2]=f,a=_[l+4>>2]>>>32-f|x<<a>>>32-n):a=0;if((0|(a=c-(n=(c>>>1)-a|0)|0))!=(0|n)){if((0|(c=_[e+88>>2]))==_[O>>2])break h;l=_[c>>2],f=_[e+92>>2],p=f+1|0,_[e+92>>2]=p,l&=-2147483648>>>f;d:{if(32==(0|p)){if(_[e+92>>2]=0,_[e+88>>2]=c+4,l)break d;break h}if(!l)break h}}else a=n;c=a,a=n;break f}for(;s=(n+-1|0)==(0|s)?0:s+1|0,_[o+(a<<2)>>2]=s,a=a+1|0,n=_[e+12>>2],a>>>0<n>>>0;);break c}c=n}if(n=_[T>>2],o=_[(l=n+o|0)>>2],_[(h=o+h|0)>>2]=_[h>>2]+1,lt(n+d|0,o,_[l+4>>2]),a&&(o=_[r+28>>2]+_[r+24>>2]|0,l=_[r+16>>2],n=_[r+12>>2],(0|o)==(0|((d=l-n|0)?g(d>>2,341)+-1|0:0))&&(Zt(r+8|0),o=_[r+24>>2]+_[r+28>>2]|0,l=_[r+16>>2],n=_[r+12>>2]),n=(0|n)==(0|l)?0:_[(l=n)+((n=(o>>>0)/341|0)<<2)>>2]+g(o-g(n,341)|0,12)|0,_[n+8>>2]=u,_[n+4>>2]=s,_[n>>2]=a,_[r+28>>2]=_[r+28>>2]+1),!c)break l;a=_[r+28>>2]+_[r+24>>2]|0,o=_[r+16>>2],n=_[r+12>>2],(0|a)==(0|((l=o-n|0)?g(l>>2,341)+-1|0:0))&&(Zt(r+8|0),a=_[r+24>>2]+_[r+28>>2]|0,o=_[r+16>>2],n=_[r+12>>2]),l=0,(0|n)!=(0|o)&&(l=_[(l=n)+((n=(a>>>0)/341|0)<<2)>>2]+g(a-g(n,341)|0,12)|0),_[l+8>>2]=m,_[l+4>>2]=s,_[l>>2]=c,n=_[r+28>>2]+1|0,_[r+28>>2]=n;break o}if(c)for(u=0;;){if(n)for(a=_[E>>2],p=_[w>>2],x=_[l>>2],I=_[d>>2],n=0;;){_[(_[(h=p+(n<<2)|0)>>2]<<2)+a>>2]=0,o=_[h>>2]<<2;c:if(s=_[e>>2]-_[o+I>>2]|0)if(o=a+o|0,m=_[e+52>>2],(0|s)<=(0|(b=32-m|0))){if((0|(f=_[v>>2]))==_[M>>2]){_[o>>2]=0;break c}if(_[o>>2]=_[f>>2]<<m>>>32-s,s=s+_[e+52>>2]|0,_[e+52>>2]=s,32!=(0|s))break c;_[e+52>>2]=0,_[v>>2]=f+4}else f=_[v>>2],(0|(C=f+4|0))!=_[M>>2]?(D=_[f>>2],_[v>>2]=C,b=s-b|0,_[e+52>>2]=b,_[o>>2]=_[f+4>>2]>>>32-b|D<<m>>>32-s):_[o>>2]=0;if(s=_[h>>2]<<2,_[(o=s+a|0)>>2]=_[o>>2]|_[s+x>>2],!((n=n+1|0)>>>0<A[e+12>>2]))break}else a=_[E>>2];if(s=_[a>>2],_[r+32>>2]=s,_[r+36>>2]=_[a+4>>2],_[r+40>>2]=_[a+8>>2],a=_[i>>2],(n=_[(o=a+4|0)>>2])>>>0<A[a+8>>2]?(_[n>>2]=s,_[n+4>>2]=_[r+36>>2],_[n+8>>2]=_[r+40>>2],_[o>>2]=n+12):Gn(a,r+32|0),_[e+8>>2]=_[e+8>>2]+1,(0|(u=u+1|0))==(0|c))break l;n=_[e+12>>2]}}else{if(!c)break l;for(a=0;n=_[l>>2],o=_[n>>2],_[r+32>>2]=o,_[r+36>>2]=_[n+4>>2],_[r+40>>2]=_[n+8>>2],s=_[i>>2],(n=_[(u=s+4|0)>>2])>>>0<A[s+8>>2]?(_[n>>2]=o,_[n+4>>2]=_[r+36>>2],_[n+8>>2]=_[r+40>>2],_[u>>2]=n+12):Gn(s,r+32|0),_[e+8>>2]=_[e+8>>2]+1,(0|c)!=(0|(a=a+1|0)););}n=_[r+28>>2]}if(!n)break}if(Qt(r+8|0),e=_[r+12>>2],t=_[r+16>>2],(0|e)!=(0|t)){for(;Ka(_[e>>2]),(0|t)!=(0|(e=e+4|0)););e=_[r+16>>2],t=_[r+12>>2],(0|e)!=(0|t)&&(_[r+16>>2]=e+(((e-t|0)-4>>>2^-1)<<2))}return(e=_[r+8>>2])&&Ka(e),void(z=r+48|0)}Wa(),P()}Wa(),P()}(e,_[e+4>>2],i)))))})(n=Rt(r+8|0,3),t,r+664|0),Pt(n);break i;case 0:(function(e,t,i){var r=0,n=0,a=0,s=0,o=0;n=_[t+12>>2],a=_[t+20>>2],s=_[t+16>>2],(r=s+4|0)>>>0<4&&(a=a+1|0);(0|n)<(0|a)||(0|n)<=(0|a)&&!(A[t+8>>2]>=r>>>0)||(r=s+_[t>>2]|0,r=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e>>2]=r,n=_[t+20>>2],s=n,o=_[t+16>>2],(a=o+4|0)>>>0<4&&(n=n+1|0),_[t+16>>2]=a,_[t+20>>2]=n,r>>>0>32||(n=_[t+12>>2],(r=o+8|0)>>>0<8&&(s=s+1|0),(0|n)<(0|s)||(0|n)<=(0|s)&&!(A[t+8>>2]>=r>>>0)||(r=a+_[t>>2]|0,n=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e+4>>2]=n,a=_[t+20>>2],(s=_[t+16>>2]+4|0)>>>0<4&&(a=a+1|0),_[t+16>>2]=s,_[t+20>>2]=a,n&&(_[e+8>>2]=0,Hi(e+16|0,t)&&Hi(e+36|0,t)&&Hi(e+56|0,t)&&Hi(e+76|0,t)&&function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0,v=0,y=0,k=0,x=0,T=0,w=0,E=0,M=0,R=0,C=0,O=0,I=0,D=0;z=r=z-48|0,n=_[e+12>>2],_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0;n:{if(n){if(n>>>0>=1073741824)break n;for(l=Fa(a=n<<2),_[r+8>>2]=l,_[r+12>>2]=l,_[r+16>>2]=a+l,o=ts(l,0,a),s=n;o=o+4|0,s=s+-1|0;);_[r+12>>2]=o}a=_[e+120>>2],(c=_[a>>2])&&(_[a+4>>2]=c,Ka(c),_[a+8>>2]=0,_[a>>2]=0,_[a+4>>2]=0,o=_[r+12>>2],l=_[r+8>>2],n=_[e+12>>2]),_[a>>2]=l,_[a+4>>2]=o,_[a+8>>2]=_[r+16>>2],o=0,_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,s=0;a:{if(n){if(n>>>0>=1073741824)break a;for(s=Fa(a=n<<2),_[r+8>>2]=s,_[r+12>>2]=s,_[r+16>>2]=a+s,o=ts(s,0,a);o=o+4|0,n=n+-1|0;);_[r+12>>2]=o}n=_[e+132>>2],(a=_[n>>2])&&(_[n+4>>2]=a,Ka(a),_[n+8>>2]=0,_[n>>2]=0,_[n+4>>2]=0,o=_[r+12>>2],s=_[r+8>>2]),_[n>>2]=s,_[n+4>>2]=o,_[n+8>>2]=_[r+16>>2],_[(a=r+24|0)>>2]=0,_[a+4>>2]=0,_[(c=r+16|0)>>2]=0,_[c+4>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,Zt(r+8|0),s=_[c>>2],c=_[r+12>>2],n=0,(0|s)!=(0|c)&&(n=_[a>>2]+_[r+28>>2]|0,n=_[c+((a=(n>>>0)/341|0)<<2)>>2]+g(n-g(a,341)|0,12)|0),_[n+4>>2]=0,_[n+8>>2]=0,_[n>>2]=t,a=_[r+28>>2],n=a+1|0,_[r+28>>2]=n;s:if(!(n>>>0<a>>>0))for(y=e+120|0,k=e+132|0,x=e+108|0,T=e+96|0,b=e+48|0,w=e+40|0,v=e+28|0,E=e+20|0,R=e+80|0;;){if(h=_[r+12>>2],o=_[r+24>>2],a=_[h+((c=((a=o+(l=n+-1|0)|0)>>>0)/341|0)<<2)>>2]+g(a-g(c,341)|0,12)|0,d=_[a+8>>2],s=_[a+4>>2],c=_[a>>2],_[r+28>>2]=l,a=_[r+16>>2],1+(((l=a-h|0)?g(l>>2,341)+-1|0:0)-(n+o|0)|0)>>>0>=682&&(Ka(_[a+-4>>2]),_[r+16>>2]=_[r+16>>2]+-4),c>>>0>t>>>0)break s;if(n=_[e+12>>2],(o=(0|s)==(n+-1|0)?0:s+1|0)>>>0>=n>>>0)break s;n=_[y>>2],s=g(d,12),l=n+s|0;o:{l:if(h=o<<2,p=s+_[k>>2]|0,a=_[e>>2]-_[h+_[p>>2]>>2]|0){c:{f:{h:{u:{if(c>>>0<=2){if(a=_[x>>2],_[a>>2]=o,s=1,(n=_[e+12>>2])>>>0>1)break u;break c}if(A[e+8>>2]>A[e+4>>2])break s;lt((f=n)+(n=s+12|0)|0,_[l>>2],_[l+4>>2]),n=h+_[n+_[y>>2]>>2]|0,_[n>>2]=_[n>>2]+(1<<a+-1),n=31^S(c),a=_[e+32>>2];d:if((0|n)<=(0|(u=32-a|0))){if((0|(l=_[v>>2]))==_[E>>2]){a=0;break d}if(u=_[l>>2],f=n+a|0,_[e+32>>2]=f,a=u<<a>>>32-n,32!=(0|f))break d;_[e+32>>2]=0,_[v>>2]=l+4}else l=_[v>>2],(0|(f=l+4|0))!=_[E>>2]?(p=_[l>>2],_[v>>2]=f,u=n-u|0,_[e+32>>2]=u,a=_[l+4>>2]>>>32-u|p<<a>>>32-n):a=0;if(u=d+1|0,(0|(a=c-(n=(c>>>1)-a|0)|0))!=(0|n)){if((0|(c=_[e+88>>2]))==_[R>>2])break h;l=_[c>>2],f=_[e+92>>2],p=f+1|0,_[e+92>>2]=p,l&=-2147483648>>>f;d:{if(32==(0|p)){if(_[e+92>>2]=0,_[e+88>>2]=c+4,l)break d;break h}if(!l)break h}}else a=n;c=a,a=n;break f}for(;o=(n+-1|0)==(0|o)?0:o+1|0,_[a+(s<<2)>>2]=o,s=s+1|0,n=_[e+12>>2],s>>>0<n>>>0;);break c}c=n}if(n=_[k>>2],l=_[(s=n+s|0)>>2],_[(h=l+h|0)>>2]=_[h>>2]+1,lt(n+g(u,12)|0,l,_[s+4>>2]),a&&(s=_[r+28>>2]+_[r+24>>2]|0,l=_[r+16>>2],n=_[r+12>>2],(0|s)==(0|((h=l-n|0)?g(h>>2,341)+-1|0:0))&&(Zt(r+8|0),s=_[r+24>>2]+_[r+28>>2]|0,l=_[r+16>>2],n=_[r+12>>2]),n=(0|n)==(0|l)?0:_[(f=n)+((n=(s>>>0)/341|0)<<2)>>2]+g(s-g(n,341)|0,12)|0,_[n+8>>2]=d,_[n+4>>2]=o,_[n>>2]=a,_[r+28>>2]=_[r+28>>2]+1),!c)break l;s=_[r+28>>2]+_[r+24>>2]|0,l=_[r+16>>2],n=_[r+12>>2],(0|s)==(0|((a=l-n|0)?g(a>>2,341)+-1|0:0))&&(Zt(r+8|0),s=_[r+24>>2]+_[r+28>>2]|0,l=_[r+16>>2],n=_[r+12>>2]),a=0,(0|n)!=(0|l)&&(a=_[(a=n)+((n=(s>>>0)/341|0)<<2)>>2]+g(s-g(n,341)|0,12)|0),_[a+8>>2]=u,_[a+4>>2]=o,_[a>>2]=c,n=_[r+28>>2]+1|0,_[r+28>>2]=n;break o}if(c)for(d=0;;){if(n)for(s=_[T>>2],C=_[x>>2],O=_[l>>2],I=_[p>>2],n=0;;){_[(_[(h=C+(n<<2)|0)>>2]<<2)+s>>2]=0,o=_[h>>2]<<2;c:if(a=_[e>>2]-_[o+I>>2]|0)if(o=s+o|0,u=_[e+52>>2],(0|a)<=(0|(m=32-u|0))){if((0|(f=_[b>>2]))==_[w>>2]){_[o>>2]=0;break c}if(_[o>>2]=_[f>>2]<<u>>>32-a,a=a+_[e+52>>2]|0,_[e+52>>2]=a,32!=(0|a))break c;_[e+52>>2]=0,_[b>>2]=f+4}else f=_[b>>2],(0|(M=f+4|0))!=_[w>>2]?(D=_[f>>2],_[b>>2]=M,m=a-m|0,_[e+52>>2]=m,_[o>>2]=_[f+4>>2]>>>32-m|D<<u>>>32-a):_[o>>2]=0;if(a=_[h>>2]<<2,_[(o=a+s|0)>>2]=_[o>>2]|_[a+O>>2],!((n=n+1|0)>>>0<A[e+12>>2]))break}else s=_[T>>2];if(o=_[s>>2],_[r+32>>2]=o,_[r+36>>2]=_[s+4>>2],_[r+40>>2]=_[s+8>>2],a=_[i>>2],(n=_[(s=a+4|0)>>2])>>>0<A[a+8>>2]?(_[n>>2]=o,_[n+4>>2]=_[r+36>>2],_[n+8>>2]=_[r+40>>2],_[s>>2]=n+12):Gn(a,r+32|0),_[e+8>>2]=_[e+8>>2]+1,(0|(d=d+1|0))==(0|c))break l;n=_[e+12>>2]}}else{if(!c)break l;for(s=0;n=_[l>>2],o=_[n>>2],_[r+32>>2]=o,_[r+36>>2]=_[n+4>>2],_[r+40>>2]=_[n+8>>2],a=_[i>>2],(n=_[(d=a+4|0)>>2])>>>0<A[a+8>>2]?(_[n>>2]=o,_[n+4>>2]=_[r+36>>2],_[n+8>>2]=_[r+40>>2],_[d>>2]=n+12):Gn(a,r+32|0),_[e+8>>2]=_[e+8>>2]+1,(0|c)!=(0|(s=s+1|0)););}n=_[r+28>>2]}if(!n)break}if(Qt(r+8|0),e=_[r+12>>2],t=_[r+16>>2],(0|e)!=(0|t)){for(;Ka(_[e>>2]),(0|t)!=(0|(e=e+4|0)););e=_[r+16>>2],t=_[r+12>>2],(0|e)!=(0|t)&&(_[r+16>>2]=e+(((e-t|0)-4>>>2^-1)<<2))}return(e=_[r+8>>2])&&Ka(e),void(z=r+48|0)}Wa(),P()}Wa(),P()}(e,_[e+4>>2],i)))))})(n=Rt(r+8|0,3),t,r+664|0),Pt(n);break i;case 1:(function(e,t,i){var r=0,n=0,a=0,s=0,o=0;n=_[t+12>>2],a=_[t+20>>2],s=_[t+16>>2],(r=s+4|0)>>>0<4&&(a=a+1|0);(0|n)<(0|a)||(0|n)<=(0|a)&&!(A[t+8>>2]>=r>>>0)||(r=s+_[t>>2]|0,r=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e>>2]=r,n=_[t+20>>2],s=n,o=_[t+16>>2],(a=o+4|0)>>>0<4&&(n=n+1|0),_[t+16>>2]=a,_[t+20>>2]=n,r>>>0>32||(n=_[t+12>>2],(r=o+8|0)>>>0<8&&(s=s+1|0),(0|n)<(0|s)||(0|n)<=(0|s)&&!(A[t+8>>2]>=r>>>0)||(r=a+_[t>>2]|0,n=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e+4>>2]=n,a=_[t+20>>2],(s=_[t+16>>2]+4|0)>>>0<4&&(a=a+1|0),_[t+16>>2]=s,_[t+20>>2]=a,n&&(_[e+8>>2]=0,Xi(e+16|0,t)&&Hi(e+32|0,t)&&Hi(e+52|0,t)&&Hi(e+72|0,t)&&function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0,v=0,y=0,k=0,x=0,T=0,w=0,E=0,M=0,R=0,C=0,O=0,I=0;z=r=z-48|0,n=_[e+12>>2],_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0;n:{if(n){if(n>>>0>=1073741824)break n;for(o=Fa(a=n<<2),_[r+8>>2]=o,_[r+12>>2]=o,_[r+16>>2]=a+o,s=ts(o,0,a),a=n;s=s+4|0,a=a+-1|0;);_[r+12>>2]=s}a=_[e+116>>2],(l=_[a>>2])&&(_[a+4>>2]=l,Ka(l),_[a+8>>2]=0,_[a>>2]=0,_[a+4>>2]=0,s=_[r+12>>2],o=_[r+8>>2],n=_[e+12>>2]),_[a>>2]=o,_[a+4>>2]=s,_[a+8>>2]=_[r+16>>2],s=0,_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,a=0;a:{if(n){if(n>>>0>=1073741824)break a;for(a=Fa(l=n<<2),_[r+8>>2]=a,_[r+12>>2]=a,_[r+16>>2]=a+l,s=ts(a,0,l);s=s+4|0,n=n+-1|0;);_[r+12>>2]=s}n=_[e+128>>2],(l=_[n>>2])&&(_[n+4>>2]=l,Ka(l),_[n+8>>2]=0,_[n>>2]=0,_[n+4>>2]=0,s=_[r+12>>2],a=_[r+8>>2]),_[n>>2]=a,_[n+4>>2]=s,_[n+8>>2]=_[r+16>>2],_[(a=r+24|0)>>2]=0,_[a+4>>2]=0,_[(l=r+16|0)>>2]=0,_[l+4>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,Zt(r+8|0),c=_[l>>2],l=_[r+12>>2],n=0,(0|c)!=(0|l)&&(n=_[a>>2]+_[r+28>>2]|0,n=_[l+((a=(n>>>0)/341|0)<<2)>>2]+g(n-g(a,341)|0,12)|0),_[n+4>>2]=0,_[n+8>>2]=0,_[n>>2]=t,a=_[r+28>>2],n=a+1|0,_[r+28>>2]=n;s:if(!(n>>>0<a>>>0))for(M=e+16|0,k=e+128|0,y=e+116|0,x=e+104|0,T=e+92|0,b=e+44|0,w=e+36|0,R=e+76|0;;){if(o=_[r+12>>2],c=_[r+24>>2],a=_[o+((l=((a=c+(s=n+-1|0)|0)>>>0)/341|0)<<2)>>2]+g(a-g(l,341)|0,12)|0,u=_[a+8>>2],h=_[a+4>>2],l=_[a>>2],_[r+28>>2]=s,a=_[r+16>>2],1+(((s=a-o|0)?g(s>>2,341)+-1|0:0)-(n+c|0)|0)>>>0>=682&&(Ka(_[a+-4>>2]),_[r+16>>2]=_[r+16>>2]+-4),l>>>0>t>>>0)break s;if(n=_[y>>2],o=g(u,12),d=o+_[k>>2]|0,(s=zn(e,0,h))>>>0>=A[e+12>>2])break s;c=n+o|0;o:if(h=s<<2,a=_[e>>2]-_[h+_[d>>2]>>2]|0){l:{c:{f:{h:{if(l>>>0<=2){if(o=_[x>>2],_[o>>2]=s,a=1,(n=_[e+12>>2])>>>0>1)break h;break l}if(A[e+8>>2]>A[e+4>>2])break s;if(n=_[y>>2],d=g(p=u+1|0,12),(0|(f=n+d|0))!=(0|c)&&(lt(f,_[c>>2],_[c+4>>2]),n=_[y>>2]),n=h+_[n+d>>2]|0,_[n>>2]=_[n>>2]+(1<<a+-1),_[r+32>>2]=0,Qi(M,31^S(l),r+32|0),n=(l>>>1)-_[r+32>>2]|0,(0|(a=l-n|0))!=(0|n)){if((0|(l=_[e+84>>2]))==_[R>>2])break f;c=_[l>>2],f=_[e+88>>2],v=f+1|0,_[e+88>>2]=v,c&=-2147483648>>>f;u:{if(32==(0|v)){if(_[e+88>>2]=0,_[e+84>>2]=l+4,c)break u;break f}if(!c)break f}}else a=n;l=a,a=n;break c}for(;s=(n+-1|0)==(0|s)?0:s+1|0,_[o+(a<<2)>>2]=s,a=a+1|0,n=_[e+12>>2],a>>>0<n>>>0;);break l}l=n}if(n=_[k>>2],o=_[(c=n+o|0)>>2],_[(h=o+h|0)>>2]=_[h>>2]+1,lt(n+d|0,o,_[c+4>>2]),a&&(o=_[r+28>>2]+_[r+24>>2]|0,c=_[r+16>>2],n=_[r+12>>2],(0|o)==(0|((d=c-n|0)?g(d>>2,341)+-1|0:0))&&(Zt(r+8|0),o=_[r+24>>2]+_[r+28>>2]|0,c=_[r+16>>2],n=_[r+12>>2]),n=(0|n)==(0|c)?0:_[(c=n)+((n=(o>>>0)/341|0)<<2)>>2]+g(o-g(n,341)|0,12)|0,_[n+8>>2]=u,_[n+4>>2]=s,_[n>>2]=a,_[r+28>>2]=_[r+28>>2]+1),!l)break o;a=_[r+28>>2]+_[r+24>>2]|0,o=_[r+16>>2],n=_[r+12>>2],(0|a)==(0|((c=o-n|0)?g(c>>2,341)+-1|0:0))&&(Zt(r+8|0),a=_[r+24>>2]+_[r+28>>2]|0,o=_[r+16>>2],n=_[r+12>>2]),c=0,(0|n)!=(0|o)&&(c=_[(c=n)+((n=(a>>>0)/341|0)<<2)>>2]+g(a-g(n,341)|0,12)|0),_[c+8>>2]=p,_[c+4>>2]=s,_[c>>2]=l,_[r+28>>2]=_[r+28>>2]+1;break o}if(l)for(u=0;;){if(n)for(a=_[T>>2],v=_[x>>2],C=_[c>>2],O=_[d>>2],n=0;;){_[(_[(h=v+(n<<2)|0)>>2]<<2)+a>>2]=0,o=_[h>>2]<<2;l:if(s=_[e>>2]-_[o+O>>2]|0)if(o=a+o|0,p=_[e+48>>2],(0|s)<=(0|(m=32-p|0))){if((0|(f=_[b>>2]))==_[w>>2]){_[o>>2]=0;break l}if(_[o>>2]=_[f>>2]<<p>>>32-s,s=s+_[e+48>>2]|0,_[e+48>>2]=s,32!=(0|s))break l;_[e+48>>2]=0,_[b>>2]=f+4}else f=_[b>>2],(0|(E=f+4|0))!=_[w>>2]?(I=_[f>>2],_[b>>2]=E,m=s-m|0,_[e+48>>2]=m,_[o>>2]=_[f+4>>2]>>>32-m|I<<p>>>32-s):_[o>>2]=0;if(s=_[h>>2]<<2,_[(o=s+a|0)>>2]=_[o>>2]|_[s+C>>2],!((n=n+1|0)>>>0<A[e+12>>2]))break}else a=_[T>>2];if(s=_[a>>2],_[r+32>>2]=s,_[r+36>>2]=_[a+4>>2],_[r+40>>2]=_[a+8>>2],a=_[i>>2],(n=_[(o=a+4|0)>>2])>>>0<A[a+8>>2]?(_[n>>2]=s,_[n+4>>2]=_[r+36>>2],_[n+8>>2]=_[r+40>>2],_[o>>2]=n+12):Gn(a,r+32|0),_[e+8>>2]=_[e+8>>2]+1,(0|(u=u+1|0))==(0|l))break o;n=_[e+12>>2]}}else{if(!l)break o;for(a=0;n=_[c>>2],o=_[n>>2],_[r+32>>2]=o,_[r+36>>2]=_[n+4>>2],_[r+40>>2]=_[n+8>>2],s=_[i>>2],(n=_[(u=s+4|0)>>2])>>>0<A[s+8>>2]?(_[n>>2]=o,_[n+4>>2]=_[r+36>>2],_[n+8>>2]=_[r+40>>2],_[u>>2]=n+12):Gn(s,r+32|0),_[e+8>>2]=_[e+8>>2]+1,(0|l)!=(0|(a=a+1|0)););}if(!(n=_[r+28>>2]))break}if(Qt(r+8|0),e=_[r+12>>2],t=_[r+16>>2],(0|e)!=(0|t)){for(;Ka(_[e>>2]),(0|t)!=(0|(e=e+4|0)););e=_[r+16>>2],t=_[r+12>>2],(0|e)!=(0|t)&&(_[r+16>>2]=e+(((e-t|0)-4>>>2^-1)<<2))}return(e=_[r+8>>2])&&Ka(e),void(z=r+48|0)}Wa(),P()}Wa(),P()}(e,_[e+4>>2],i)))))})(n=Dt(r+8|0,3),t,r+664|0),It(n);break i;case 2:(function(e,t,i){var r=0,n=0,a=0,s=0,o=0;n=_[t+12>>2],a=_[t+20>>2],s=_[t+16>>2],(r=s+4|0)>>>0<4&&(a=a+1|0);(0|n)<(0|a)||(0|n)<=(0|a)&&!(A[t+8>>2]>=r>>>0)||(r=s+_[t>>2]|0,r=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e>>2]=r,n=_[t+20>>2],s=n,o=_[t+16>>2],(a=o+4|0)>>>0<4&&(n=n+1|0),_[t+16>>2]=a,_[t+20>>2]=n,r>>>0>32||(n=_[t+12>>2],(r=o+8|0)>>>0<8&&(s=s+1|0),(0|n)<(0|s)||(0|n)<=(0|s)&&!(A[t+8>>2]>=r>>>0)||(r=a+_[t>>2]|0,n=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e+4>>2]=n,a=_[t+20>>2],(s=_[t+16>>2]+4|0)>>>0<4&&(a=a+1|0),_[t+16>>2]=s,_[t+20>>2]=a,n&&(_[e+8>>2]=0,Xi(e+16|0,t)&&Hi(e+32|0,t)&&Hi(e+52|0,t)&&Hi(e+72|0,t)&&function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0,v=0,y=0,k=0,x=0,T=0,w=0,E=0,M=0,R=0,C=0,O=0,I=0;z=r=z-48|0,n=_[e+12>>2],_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0;n:{if(n){if(n>>>0>=1073741824)break n;for(c=Fa(a=n<<2),_[r+8>>2]=c,_[r+12>>2]=c,_[r+16>>2]=a+c,l=ts(c,0,a),s=n;l=l+4|0,s=s+-1|0;);_[r+12>>2]=l}a=_[e+116>>2],(o=_[a>>2])&&(_[a+4>>2]=o,Ka(o),_[a+8>>2]=0,_[a>>2]=0,_[a+4>>2]=0,l=_[r+12>>2],c=_[r+8>>2],n=_[e+12>>2]),_[a>>2]=c,_[a+4>>2]=l,_[a+8>>2]=_[r+16>>2],l=0,_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,s=0;a:{if(n){if(n>>>0>=1073741824)break a;for(s=Fa(a=n<<2),_[r+8>>2]=s,_[r+12>>2]=s,_[r+16>>2]=a+s,l=ts(s,0,a);l=l+4|0,n=n+-1|0;);_[r+12>>2]=l}n=_[e+128>>2],(a=_[n>>2])&&(_[n+4>>2]=a,Ka(a),_[n+8>>2]=0,_[n>>2]=0,_[n+4>>2]=0,l=_[r+12>>2],s=_[r+8>>2]),_[n>>2]=s,_[n+4>>2]=l,_[n+8>>2]=_[r+16>>2],_[(a=r+24|0)>>2]=0,_[a+4>>2]=0,_[(o=r+16|0)>>2]=0,_[o+4>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,Zt(r+8|0),s=_[o>>2],o=_[r+12>>2],n=0,(0|s)!=(0|o)&&(n=_[a>>2]+_[r+28>>2]|0,n=_[o+((a=(n>>>0)/341|0)<<2)>>2]+g(n-g(a,341)|0,12)|0),_[n+4>>2]=0,_[n+8>>2]=0,_[n>>2]=t,a=_[r+28>>2],n=a+1|0,_[r+28>>2]=n;s:if(!(n>>>0<a>>>0))for(E=e+16|0,v=e+116|0,y=e+128|0,k=e+104|0,x=e+92|0,b=e+44|0,T=e+36|0,M=e+76|0;;){if(c=_[r+12>>2],s=_[r+24>>2],a=_[c+((o=((a=s+(l=n+-1|0)|0)>>>0)/341|0)<<2)>>2]+g(a-g(o,341)|0,12)|0,u=_[a+8>>2],o=_[a+4>>2],a=_[a>>2],_[r+28>>2]=l,l=_[r+16>>2],1+(((c=l-c|0)?g(c>>2,341)+-1|0:0)-(n+s|0)|0)>>>0>=682&&(Ka(_[l+-4>>2]),_[r+16>>2]=_[r+16>>2]+-4),a>>>0>t>>>0)break s;if(n=_[e+12>>2],(l=(0|o)==(n+-1|0)?0:o+1|0)>>>0>=n>>>0)break s;n=_[v>>2],s=g(u,12),c=n+s|0;o:if(h=l<<2,p=s+_[y>>2]|0,o=_[e>>2]-_[h+_[p>>2]>>2]|0){l:{c:{f:{h:{if(a>>>0<=2){if(o=_[k>>2],_[o>>2]=l,s=1,(n=_[e+12>>2])>>>0>1)break h;break l}if(A[e+8>>2]>A[e+4>>2])break s;if(lt((f=n)+(n=s+12|0)|0,_[c>>2],_[c+4>>2]),n=h+_[n+_[v>>2]>>2]|0,_[n>>2]=_[n>>2]+(1<<o+-1),_[r+32>>2]=0,Qi(E,31^S(a),r+32|0),d=u+1|0,n=(a>>>1)-_[r+32>>2]|0,(0|(a=a-n|0))!=(0|n)){if((0|(o=_[e+84>>2]))==_[M>>2])break f;c=_[o>>2],f=_[e+88>>2],p=f+1|0,_[e+88>>2]=p,c&=-2147483648>>>f;u:{if(32==(0|p)){if(_[e+88>>2]=0,_[e+84>>2]=o+4,c)break u;break f}if(!c)break f}}else a=n;o=a,a=n;break c}for(;l=(n+-1|0)==(0|l)?0:l+1|0,_[o+(s<<2)>>2]=l,s=s+1|0,n=_[e+12>>2],s>>>0<n>>>0;);break l}o=n}if(n=_[y>>2],c=_[(s=n+s|0)>>2],_[(h=c+h|0)>>2]=_[h>>2]+1,lt(n+g(d,12)|0,c,_[s+4>>2]),a&&(s=_[r+28>>2]+_[r+24>>2]|0,c=_[r+16>>2],n=_[r+12>>2],(0|s)==(0|((h=c-n|0)?g(h>>2,341)+-1|0:0))&&(Zt(r+8|0),s=_[r+24>>2]+_[r+28>>2]|0,c=_[r+16>>2],n=_[r+12>>2]),n=(0|n)==(0|c)?0:_[(f=n)+((n=(s>>>0)/341|0)<<2)>>2]+g(s-g(n,341)|0,12)|0,_[n+8>>2]=u,_[n+4>>2]=l,_[n>>2]=a,_[r+28>>2]=_[r+28>>2]+1),!o)break o;s=_[r+28>>2]+_[r+24>>2]|0,c=_[r+16>>2],n=_[r+12>>2],(0|s)==(0|((a=c-n|0)?g(a>>2,341)+-1|0:0))&&(Zt(r+8|0),s=_[r+24>>2]+_[r+28>>2]|0,c=_[r+16>>2],n=_[r+12>>2]),a=0,(0|n)!=(0|c)&&(a=_[(a=n)+((n=(s>>>0)/341|0)<<2)>>2]+g(s-g(n,341)|0,12)|0),_[a+8>>2]=d,_[a+4>>2]=l,_[a>>2]=o,_[r+28>>2]=_[r+28>>2]+1;break o}if(a)for(u=0;;){if(n)for(s=_[x>>2],R=_[k>>2],C=_[c>>2],O=_[p>>2],n=0;;){_[(_[(h=R+(n<<2)|0)>>2]<<2)+s>>2]=0,l=_[h>>2]<<2;l:if(o=_[e>>2]-_[l+O>>2]|0)if(l=s+l|0,d=_[e+48>>2],(0|o)<=(0|(m=32-d|0))){if((0|(f=_[b>>2]))==_[T>>2]){_[l>>2]=0;break l}if(_[l>>2]=_[f>>2]<<d>>>32-o,o=o+_[e+48>>2]|0,_[e+48>>2]=o,32!=(0|o))break l;_[e+48>>2]=0,_[b>>2]=f+4}else f=_[b>>2],(0|(w=f+4|0))!=_[T>>2]?(I=_[f>>2],_[b>>2]=w,m=o-m|0,_[e+48>>2]=m,_[l>>2]=_[f+4>>2]>>>32-m|I<<d>>>32-o):_[l>>2]=0;if(o=_[h>>2]<<2,_[(l=o+s|0)>>2]=_[l>>2]|_[o+C>>2],!((n=n+1|0)>>>0<A[e+12>>2]))break}else s=_[x>>2];if(l=_[s>>2],_[r+32>>2]=l,_[r+36>>2]=_[s+4>>2],_[r+40>>2]=_[s+8>>2],o=_[i>>2],(n=_[(s=o+4|0)>>2])>>>0<A[o+8>>2]?(_[n>>2]=l,_[n+4>>2]=_[r+36>>2],_[n+8>>2]=_[r+40>>2],_[s>>2]=n+12):Gn(o,r+32|0),_[e+8>>2]=_[e+8>>2]+1,(0|(u=u+1|0))==(0|a))break o;n=_[e+12>>2]}}else{if(!a)break o;for(s=0;n=_[c>>2],l=_[n>>2],_[r+32>>2]=l,_[r+36>>2]=_[n+4>>2],_[r+40>>2]=_[n+8>>2],o=_[i>>2],(n=_[(u=o+4|0)>>2])>>>0<A[o+8>>2]?(_[n>>2]=l,_[n+4>>2]=_[r+36>>2],_[n+8>>2]=_[r+40>>2],_[u>>2]=n+12):Gn(o,r+32|0),_[e+8>>2]=_[e+8>>2]+1,(0|a)!=(0|(s=s+1|0)););}if(!(n=_[r+28>>2]))break}if(Qt(r+8|0),e=_[r+12>>2],t=_[r+16>>2],(0|e)!=(0|t)){for(;Ka(_[e>>2]),(0|t)!=(0|(e=e+4|0)););e=_[r+16>>2],t=_[r+12>>2],(0|e)!=(0|t)&&(_[r+16>>2]=e+(((e-t|0)-4>>>2^-1)<<2))}return(e=_[r+8>>2])&&Ka(e),void(z=r+48|0)}Wa(),P()}Wa(),P()}(e,_[e+4>>2],i)))))})(n=Dt(r+8|0,3),t,r+664|0),It(n);break i;case 3:(function(e,t,i){var r=0,n=0,a=0,s=0,o=0;n=_[t+12>>2],a=_[t+20>>2],s=_[t+16>>2],(r=s+4|0)>>>0<4&&(a=a+1|0);n:if(!((0|n)<(0|a)||(0|n)<=(0|a)&&!(A[t+8>>2]>=r>>>0))&&(r=s+_[t>>2]|0,r=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e>>2]=r,n=_[t+20>>2],s=n,o=_[t+16>>2],(a=o+4|0)>>>0<4&&(n=n+1|0),_[t+16>>2]=a,_[t+20>>2]=n,!(r>>>0>32)&&(n=_[t+12>>2],(r=o+8|0)>>>0<8&&(s=s+1|0),!((0|n)<(0|s)||(0|n)<=(0|s)&&!(A[t+8>>2]>=r>>>0))&&(r=a+_[t>>2]|0,n=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e+4>>2]=n,a=_[t+20>>2],(s=_[t+16>>2]+4|0)>>>0<4&&(a=a+1|0),_[t+16>>2]=s,_[t+20>>2]=a,n)))){for(_[e+8>>2]=0,r=0;;){if(!Xi(16+((r<<4)+e|0)|0,t))break n;if(32==(0|(r=r+1|0)))break}Xi(e+528|0,t)&&Hi(e+544|0,t)&&Hi(e+564|0,t)&&Hi(e+584|0,t)&&function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0,v=0,y=0,k=0,x=0,T=0,w=0,E=0,M=0,R=0,C=0,O=0;z=r=z-48|0,n=_[e+12>>2],_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0;a:{if(n){if(n>>>0>=1073741824)break a;for(o=Fa(a=n<<2),_[r+8>>2]=o,_[r+12>>2]=o,_[r+16>>2]=a+o,s=ts(o,0,a),a=n;s=s+4|0,a=a+-1|0;);_[r+12>>2]=s}a=_[e+628>>2],(l=_[a>>2])&&(_[a+4>>2]=l,Ka(l),_[a+8>>2]=0,_[a>>2]=0,_[a+4>>2]=0,s=_[r+12>>2],o=_[r+8>>2],n=_[e+12>>2]),_[a>>2]=o,_[a+4>>2]=s,_[a+8>>2]=_[r+16>>2],s=0,_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,a=0;s:{if(n){if(n>>>0>=1073741824)break s;for(a=Fa(o=n<<2),_[r+8>>2]=a,_[r+12>>2]=a,_[r+16>>2]=a+o,s=ts(a,0,o);s=s+4|0,n=n+-1|0;);_[r+12>>2]=s}n=_[e+640>>2],(o=_[n>>2])&&(_[n+4>>2]=o,Ka(o),_[n+8>>2]=0,_[n>>2]=0,_[n+4>>2]=0,s=_[r+12>>2],a=_[r+8>>2]),_[n>>2]=a,_[n+4>>2]=s,_[n+8>>2]=_[r+16>>2],_[(a=r+24|0)>>2]=0,_[a+4>>2]=0,_[(o=r+16|0)>>2]=0,_[o+4>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,Zt(r+8|0),l=_[o>>2],o=_[r+12>>2],n=0,(0|l)!=(0|o)&&(n=_[a>>2]+_[r+28>>2]|0,n=_[o+((a=(n>>>0)/341|0)<<2)>>2]+g(n-g(a,341)|0,12)|0),_[n+4>>2]=0,_[n+8>>2]=0,_[n>>2]=t,a=_[r+28>>2],n=a+1|0,_[r+28>>2]=n;o:if(!(n>>>0<a>>>0))for(k=e+640|0,y=e+628|0,x=e+616|0,T=e+604|0,b=e+556|0,w=e+548|0,M=e+588|0;;){if(f=_[r+12>>2],l=_[r+24>>2],a=_[f+((o=((a=l+(s=n+-1|0)|0)>>>0)/341|0)<<2)>>2]+g(a-g(o,341)|0,12)|0,c=_[a+8>>2],h=_[a+4>>2],o=_[a>>2],_[r+28>>2]=s,a=_[r+16>>2],1+(((s=a-f|0)?g(s>>2,341)+-1|0:0)-(n+l|0)|0)>>>0>=682&&(Ka(_[a+-4>>2]),_[r+16>>2]=_[r+16>>2]+-4),a=0,o>>>0>t>>>0)break o;if(n=_[y>>2],f=g(c,12),u=f+_[k>>2]|0,(s=zn(e,0,h))>>>0>=A[e+12>>2])break o;l=n+f|0;l:{c:if(h=s<<2,p=_[e>>2]-_[h+_[u>>2]>>2]|0){f:{h:{u:{d:{if(o>>>0<=2){if(c=_[x>>2],_[c>>2]=s,a=1,(n=_[e+12>>2])>>>0>1)break d;break f}if(A[e+8>>2]>A[e+4>>2])break o;if(n=_[y>>2],u=g(d=c+1|0,12),(0|(a=n+u|0))!=(0|l)&&(lt(a,_[l>>2],_[l+4>>2]),n=_[y>>2]),n=h+_[n+u>>2]|0,_[n>>2]=_[n>>2]+(1<<p+-1),a=0,n=0,l=31^S(o))for(;a=Zi(16+((n<<4)+e|0)|0)|a<<1,(0|l)!=(0|(n=n+1|0)););if((0|(n=o-(a=(o>>>1)-a|0)|0))!=(0|a)){if((0|(o=_[e+596>>2]))==_[M>>2])break u;l=_[o>>2],p=_[e+600>>2],v=p+1|0,_[e+600>>2]=v,l&=-2147483648>>>p;p:{if(32==(0|v)){if(_[e+600>>2]=0,_[e+596>>2]=o+4,l)break p;break u}if(!l)break u}}else n=a;o=n,n=a;break h}for(;s=(n+-1|0)==(0|s)?0:s+1|0,_[c+(a<<2)>>2]=s,a=a+1|0,n=_[e+12>>2],a>>>0<n>>>0;);break f}o=a}if(a=_[k>>2],f=_[(l=a+f|0)>>2],_[(h=f+h|0)>>2]=_[h>>2]+1,lt(a+u|0,f,_[l+4>>2]),n&&(f=_[r+28>>2]+_[r+24>>2]|0,u=_[r+16>>2],a=_[r+12>>2],(0|f)==(0|((l=u-a|0)?g(l>>2,341)+-1|0:0))&&(Zt(r+8|0),f=_[r+24>>2]+_[r+28>>2]|0,u=_[r+16>>2],a=_[r+12>>2]),l=0,(0|a)!=(0|u)&&(l=_[(l=a)+((a=(f>>>0)/341|0)<<2)>>2]+g(f-g(a,341)|0,12)|0),_[l+8>>2]=c,_[l+4>>2]=s,_[l>>2]=n,_[r+28>>2]=_[r+28>>2]+1),!o)break c;a=_[r+28>>2]+_[r+24>>2]|0,l=_[r+16>>2],n=_[r+12>>2],(0|a)==(0|((c=l-n|0)?g(c>>2,341)+-1|0:0))&&(Zt(r+8|0),l=_[r+16>>2],a=_[r+24>>2]+_[r+28>>2]|0,n=_[r+12>>2]),n=(0|n)==(0|l)?0:_[(l=n)+((n=(a>>>0)/341|0)<<2)>>2]+g(a-g(n,341)|0,12)|0,_[n+8>>2]=d,_[n+4>>2]=s,_[n>>2]=o,n=_[r+28>>2]+1|0,_[r+28>>2]=n;break l}if(o)for(f=0;;){if(n)for(a=_[T>>2],v=_[x>>2],R=_[l>>2],C=_[u>>2],n=0;;){_[(_[(h=v+(n<<2)|0)>>2]<<2)+a>>2]=0,c=_[h>>2]<<2;f:if(s=_[e>>2]-_[c+C>>2]|0)if(c=a+c|0,p=_[e+560>>2],(0|s)<=(0|(m=32-p|0))){if((0|(d=_[b>>2]))==_[w>>2]){_[c>>2]=0;break f}if(_[c>>2]=_[d>>2]<<p>>>32-s,s=s+_[e+560>>2]|0,_[e+560>>2]=s,32!=(0|s))break f;_[e+560>>2]=0,_[b>>2]=d+4}else d=_[b>>2],(0|(E=d+4|0))!=_[w>>2]?(O=_[d>>2],_[b>>2]=E,m=s-m|0,_[e+560>>2]=m,_[c>>2]=_[d+4>>2]>>>32-m|O<<p>>>32-s):_[c>>2]=0;if(s=_[h>>2]<<2,_[(c=s+a|0)>>2]=_[c>>2]|_[s+R>>2],!((n=n+1|0)>>>0<A[e+12>>2]))break}else a=_[T>>2];if(s=_[a>>2],_[r+32>>2]=s,_[r+36>>2]=_[a+4>>2],_[r+40>>2]=_[a+8>>2],a=_[i>>2],(n=_[(c=a+4|0)>>2])>>>0<A[a+8>>2]?(_[n>>2]=s,_[n+4>>2]=_[r+36>>2],_[n+8>>2]=_[r+40>>2],_[c>>2]=n+12):Gn(a,r+32|0),_[e+8>>2]=_[e+8>>2]+1,(0|(f=f+1|0))==(0|o))break c;n=_[e+12>>2]}}else{if(!o)break c;for(;n=_[l>>2],c=_[n>>2],_[r+32>>2]=c,_[r+36>>2]=_[n+4>>2],_[r+40>>2]=_[n+8>>2],s=_[i>>2],(n=_[(f=s+4|0)>>2])>>>0<A[s+8>>2]?(_[n>>2]=c,_[n+4>>2]=_[r+36>>2],_[n+8>>2]=_[r+40>>2],_[f>>2]=n+12):Gn(s,r+32|0),_[e+8>>2]=_[e+8>>2]+1,(0|o)!=(0|(a=a+1|0)););}n=_[r+28>>2]}if(!n)break}if(Qt(r+8|0),e=_[r+12>>2],t=_[r+16>>2],(0|e)!=(0|t)){for(;Ka(_[e>>2]),(0|t)!=(0|(e=e+4|0)););e=_[r+16>>2],t=_[r+12>>2],(0|e)!=(0|t)&&(_[r+16>>2]=e+(((e-t|0)-4>>>2^-1)<<2))}return(e=_[r+8>>2])&&Ka(e),void(z=r+48|0)}Wa(),P()}Wa(),P()}(e,_[e+4>>2],i)}})(n=Lt(r+8|0,3),t,r+664|0),Bt(n);break i;case 4:(function(e,t,i){var r=0,n=0,a=0,s=0,o=0;n=_[t+12>>2],a=_[t+20>>2],s=_[t+16>>2],(r=s+4|0)>>>0<4&&(a=a+1|0);n:if(!((0|n)<(0|a)||(0|n)<=(0|a)&&!(A[t+8>>2]>=r>>>0))&&(r=s+_[t>>2]|0,r=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e>>2]=r,n=_[t+20>>2],s=n,o=_[t+16>>2],(a=o+4|0)>>>0<4&&(n=n+1|0),_[t+16>>2]=a,_[t+20>>2]=n,!(r>>>0>32)&&(n=_[t+12>>2],(r=o+8|0)>>>0<8&&(s=s+1|0),!((0|n)<(0|s)||(0|n)<=(0|s)&&!(A[t+8>>2]>=r>>>0))&&(r=a+_[t>>2]|0,n=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e+4>>2]=n,a=_[t+20>>2],(s=_[t+16>>2]+4|0)>>>0<4&&(a=a+1|0),_[t+16>>2]=s,_[t+20>>2]=a,n)))){for(_[e+8>>2]=0,r=0;;){if(!Xi(16+((r<<4)+e|0)|0,t))break n;if(32==(0|(r=r+1|0)))break}Xi(e+528|0,t)&&Hi(e+544|0,t)&&Hi(e+564|0,t)&&Hi(e+584|0,t)&&function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0,v=0,y=0,k=0,x=0,T=0,w=0,E=0,M=0,R=0,C=0,O=0;z=r=z-48|0,n=_[e+12>>2],_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0;a:{if(n){if(n>>>0>=1073741824)break a;for(o=Fa(a=n<<2),_[r+8>>2]=o,_[r+12>>2]=o,_[r+16>>2]=a+o,l=ts(o,0,a),a=n;l=l+4|0,a=a+-1|0;);_[r+12>>2]=l}a=_[e+628>>2],(s=_[a>>2])&&(_[a+4>>2]=s,Ka(s),_[a+8>>2]=0,_[a>>2]=0,_[a+4>>2]=0,l=_[r+12>>2],o=_[r+8>>2],n=_[e+12>>2]),_[a>>2]=o,_[a+4>>2]=l,_[a+8>>2]=_[r+16>>2],l=0,_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,a=0;s:{if(n){if(n>>>0>=1073741824)break s;for(a=Fa(o=n<<2),_[r+8>>2]=a,_[r+12>>2]=a,_[r+16>>2]=a+o,l=ts(a,0,o);l=l+4|0,n=n+-1|0;);_[r+12>>2]=l}n=_[e+640>>2],(o=_[n>>2])&&(_[n+4>>2]=o,Ka(o),_[n+8>>2]=0,_[n>>2]=0,_[n+4>>2]=0,l=_[r+12>>2],a=_[r+8>>2]),_[n>>2]=a,_[n+4>>2]=l,_[n+8>>2]=_[r+16>>2],_[(a=r+24|0)>>2]=0,_[a+4>>2]=0,_[(o=r+16|0)>>2]=0,_[o+4>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,Zt(r+8|0),s=_[o>>2],o=_[r+12>>2],n=0,(0|s)!=(0|o)&&(n=_[a>>2]+_[r+28>>2]|0,n=_[o+((a=(n>>>0)/341|0)<<2)>>2]+g(n-g(a,341)|0,12)|0),_[n+4>>2]=0,_[n+8>>2]=0,_[n>>2]=t,a=_[r+28>>2],n=a+1|0,_[r+28>>2]=n;o:if(!(n>>>0<a>>>0))for(v=e+628|0,y=e+640|0,k=e+616|0,x=e+604|0,b=e+556|0,T=e+548|0,E=e+588|0;;){if(f=_[r+12>>2],l=_[r+24>>2],a=_[f+((o=((a=l+(c=n+-1|0)|0)>>>0)/341|0)<<2)>>2]+g(a-g(o,341)|0,12)|0,u=_[a+8>>2],s=_[a+4>>2],o=_[a>>2],_[r+28>>2]=c,a=_[r+16>>2],1+(((c=a-f|0)?g(c>>2,341)+-1|0:0)-(n+l|0)|0)>>>0>=682&&(Ka(_[a+-4>>2]),_[r+16>>2]=_[r+16>>2]+-4),o>>>0>t>>>0)break o;if(n=_[e+12>>2],(l=(0|s)==(n+-1|0)?0:s+1|0)>>>0>=n>>>0)break o;n=_[v>>2],s=g(u,12),c=n+s|0;l:{c:if(f=l<<2,p=s+_[y>>2]|0,a=_[e>>2]-_[f+_[p>>2]>>2]|0){f:{h:{u:{d:{if(o>>>0<=2){if(s=_[k>>2],_[s>>2]=l,a=1,(n=_[e+12>>2])>>>0>1)break d;break f}if(A[e+8>>2]>A[e+4>>2])break o;if(lt((h=n)+(n=s+12|0)|0,_[c>>2],_[c+4>>2]),n=f+_[n+_[v>>2]>>2]|0,_[n>>2]=_[n>>2]+(1<<a+-1),a=0,n=0,c=31^S(o))for(;a=Zi(16+((n<<4)+e|0)|0)|a<<1,(0|c)!=(0|(n=n+1|0)););if(d=u+1|0,(0|(n=o-(a=(o>>>1)-a|0)|0))!=(0|a)){if((0|(o=_[e+596>>2]))==_[E>>2])break u;c=_[o>>2],h=_[e+600>>2],p=h+1|0,_[e+600>>2]=p,c&=-2147483648>>>h;p:{if(32==(0|p)){if(_[e+600>>2]=0,_[e+596>>2]=o+4,c)break p;break u}if(!c)break u}}else n=a;o=n,n=a;break h}for(;l=(n+-1|0)==(0|l)?0:l+1|0,_[s+(a<<2)>>2]=l,a=a+1|0,n=_[e+12>>2],a>>>0<n>>>0;);break f}o=a}if(a=_[y>>2],c=_[(s=a+s|0)>>2],_[(f=c+f|0)>>2]=_[f>>2]+1,lt(a+g(d,12)|0,c,_[s+4>>2]),n&&(c=_[r+28>>2]+_[r+24>>2]|0,f=_[r+16>>2],a=_[r+12>>2],(0|c)==(0|((s=f-a|0)?g(s>>2,341)+-1|0:0))&&(Zt(r+8|0),c=_[r+24>>2]+_[r+28>>2]|0,f=_[r+16>>2],a=_[r+12>>2]),s=0,(0|a)!=(0|f)&&(s=_[(s=a)+((a=(c>>>0)/341|0)<<2)>>2]+g(c-g(a,341)|0,12)|0),_[s+8>>2]=u,_[s+4>>2]=l,_[s>>2]=n,_[r+28>>2]=_[r+28>>2]+1),!o)break c;a=_[r+28>>2]+_[r+24>>2]|0,c=_[r+16>>2],n=_[r+12>>2],(0|a)==(0|((s=c-n|0)?g(s>>2,341)+-1|0:0))&&(Zt(r+8|0),c=_[r+16>>2],a=_[r+24>>2]+_[r+28>>2]|0,n=_[r+12>>2]),n=(0|n)==(0|c)?0:_[(s=n)+((n=(a>>>0)/341|0)<<2)>>2]+g(a-g(n,341)|0,12)|0,_[n+8>>2]=d,_[n+4>>2]=l,_[n>>2]=o,n=_[r+28>>2]+1|0,_[r+28>>2]=n;break l}if(o)for(u=0;;){if(n)for(a=_[x>>2],M=_[k>>2],R=_[c>>2],C=_[p>>2],n=0;;){_[(_[(f=M+(n<<2)|0)>>2]<<2)+a>>2]=0,l=_[f>>2]<<2;f:if(s=_[e>>2]-_[l+C>>2]|0)if(l=a+l|0,d=_[e+560>>2],(0|s)<=(0|(m=32-d|0))){if((0|(h=_[b>>2]))==_[T>>2]){_[l>>2]=0;break f}if(_[l>>2]=_[h>>2]<<d>>>32-s,s=s+_[e+560>>2]|0,_[e+560>>2]=s,32!=(0|s))break f;_[e+560>>2]=0,_[b>>2]=h+4}else h=_[b>>2],(0|(w=h+4|0))!=_[T>>2]?(O=_[h>>2],_[b>>2]=w,m=s-m|0,_[e+560>>2]=m,_[l>>2]=_[h+4>>2]>>>32-m|O<<d>>>32-s):_[l>>2]=0;if(s=_[f>>2]<<2,_[(l=s+a|0)>>2]=_[l>>2]|_[s+R>>2],!((n=n+1|0)>>>0<A[e+12>>2]))break}else a=_[x>>2];if(s=_[a>>2],_[r+32>>2]=s,_[r+36>>2]=_[a+4>>2],_[r+40>>2]=_[a+8>>2],a=_[i>>2],(n=_[(l=a+4|0)>>2])>>>0<A[a+8>>2]?(_[n>>2]=s,_[n+4>>2]=_[r+36>>2],_[n+8>>2]=_[r+40>>2],_[l>>2]=n+12):Gn(a,r+32|0),_[e+8>>2]=_[e+8>>2]+1,(0|(u=u+1|0))==(0|o))break c;n=_[e+12>>2]}}else{if(!o)break c;for(a=0;n=_[c>>2],l=_[n>>2],_[r+32>>2]=l,_[r+36>>2]=_[n+4>>2],_[r+40>>2]=_[n+8>>2],s=_[i>>2],(n=_[(u=s+4|0)>>2])>>>0<A[s+8>>2]?(_[n>>2]=l,_[n+4>>2]=_[r+36>>2],_[n+8>>2]=_[r+40>>2],_[u>>2]=n+12):Gn(s,r+32|0),_[e+8>>2]=_[e+8>>2]+1,(0|o)!=(0|(a=a+1|0)););}n=_[r+28>>2]}if(!n)break}if(Qt(r+8|0),e=_[r+12>>2],t=_[r+16>>2],(0|e)!=(0|t)){for(;Ka(_[e>>2]),(0|t)!=(0|(e=e+4|0)););e=_[r+16>>2],t=_[r+12>>2],(0|e)!=(0|t)&&(_[r+16>>2]=e+(((e-t|0)-4>>>2^-1)<<2))}return(e=_[r+8>>2])&&Ka(e),void(z=r+48|0)}Wa(),P()}Wa(),P()}(e,_[e+4>>2],i)}})(n=Lt(r+8|0,3),t,r+664|0),Bt(n);break i;case 5:break r}(function(e,t,i){var r=0,n=0,a=0,s=0,o=0;n=_[t+12>>2],a=_[t+20>>2],s=_[t+16>>2],(r=s+4|0)>>>0<4&&(a=a+1|0);r:if(!((0|n)<(0|a)||(0|n)<=(0|a)&&!(A[t+8>>2]>=r>>>0))&&(r=s+_[t>>2]|0,r=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e>>2]=r,n=_[t+20>>2],s=n,o=_[t+16>>2],(a=o+4|0)>>>0<4&&(n=n+1|0),_[t+16>>2]=a,_[t+20>>2]=n,!(r>>>0>32)&&(n=_[t+12>>2],(r=o+8|0)>>>0<8&&(s=s+1|0),!((0|n)<(0|s)||(0|n)<=(0|s)&&!(A[t+8>>2]>=r>>>0))&&(r=a+_[t>>2]|0,n=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[e+4>>2]=n,a=_[t+20>>2],(s=_[t+16>>2]+4|0)>>>0<4&&(a=a+1|0),_[t+16>>2]=s,_[t+20>>2]=a,n)))){for(_[e+8>>2]=0,r=0;;){if(!Xi(16+((r<<4)+e|0)|0,t))break r;if(32==(0|(r=r+1|0)))break}Xi(e+528|0,t)&&Hi(e+544|0,t)&&Hi(e+564|0,t)&&Hi(e+584|0,t)&&function(e,t,i){var r,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0,v=0,y=0,k=0,x=0,T=0,w=0,E=0,M=0,R=0,C=0,O=0;z=r=z-48|0,n=_[e+12>>2],_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0;n:{if(n){if(n>>>0>=1073741824)break n;for(o=Fa(a=n<<2),_[r+8>>2]=o,_[r+12>>2]=o,_[r+16>>2]=a+o,s=ts(o,0,a),a=n;s=s+4|0,a=a+-1|0;);_[r+12>>2]=s}a=_[e+628>>2],(l=_[a>>2])&&(_[a+4>>2]=l,Ka(l),_[a+8>>2]=0,_[a>>2]=0,_[a+4>>2]=0,s=_[r+12>>2],o=_[r+8>>2],n=_[e+12>>2]),_[a>>2]=o,_[a+4>>2]=s,_[a+8>>2]=_[r+16>>2],s=0,_[r+16>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,a=0;a:{if(n){if(n>>>0>=1073741824)break a;for(a=Fa(o=n<<2),_[r+8>>2]=a,_[r+12>>2]=a,_[r+16>>2]=a+o,s=ts(a,0,o);s=s+4|0,n=n+-1|0;);_[r+12>>2]=s}n=_[e+640>>2],(o=_[n>>2])&&(_[n+4>>2]=o,Ka(o),_[n+8>>2]=0,_[n>>2]=0,_[n+4>>2]=0,s=_[r+12>>2],a=_[r+8>>2]),_[n>>2]=a,_[n+4>>2]=s,_[n+8>>2]=_[r+16>>2],_[(a=r+24|0)>>2]=0,_[a+4>>2]=0,_[(o=r+16|0)>>2]=0,_[o+4>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,Zt(r+8|0),l=_[o>>2],o=_[r+12>>2],n=0,(0|l)!=(0|o)&&(n=_[a>>2]+_[r+28>>2]|0,n=_[o+((a=(n>>>0)/341|0)<<2)>>2]+g(n-g(a,341)|0,12)|0),_[n+4>>2]=0,_[n+8>>2]=0,_[n>>2]=t,a=_[r+28>>2],n=a+1|0,_[r+28>>2]=n;s:if(!(n>>>0<a>>>0))for(k=e+640|0,y=e+628|0,x=e+616|0,T=e+604|0,b=e+556|0,w=e+548|0,M=e+588|0;;){if(f=_[r+12>>2],l=_[r+24>>2],a=_[f+((o=((a=l+(s=n+-1|0)|0)>>>0)/341|0)<<2)>>2]+g(a-g(o,341)|0,12)|0,c=_[a+8>>2],o=_[a>>2],_[r+28>>2]=s,a=_[r+16>>2],1+(((s=a-f|0)?g(s>>2,341)+-1|0:0)-(n+l|0)|0)>>>0>=682&&(Ka(_[a+-4>>2]),_[r+16>>2]=_[r+16>>2]+-4),a=0,o>>>0>t>>>0)break s;if(n=_[y>>2],f=g(c,12),h=f+_[k>>2]|0,(s=jn(e,o,h))>>>0>=A[e+12>>2])break s;l=n+f|0;o:{l:if(u=s<<2,p=_[e>>2]-_[u+_[h>>2]>>2]|0){c:{f:{h:{u:{if(o>>>0<=2){if(c=_[x>>2],_[c>>2]=s,a=1,(n=_[e+12>>2])>>>0>1)break u;break c}if(A[e+8>>2]>A[e+4>>2])break s;if(n=_[y>>2],h=g(d=c+1|0,12),(0|(a=n+h|0))!=(0|l)&&(lt(a,_[l>>2],_[l+4>>2]),n=_[y>>2]),n=u+_[n+h>>2]|0,_[n>>2]=_[n>>2]+(1<<p+-1),a=0,n=0,l=31^S(o))for(;a=Zi(16+((n<<4)+e|0)|0)|a<<1,(0|l)!=(0|(n=n+1|0)););if((0|(n=o-(a=(o>>>1)-a|0)|0))!=(0|a)){if((0|(o=_[e+596>>2]))==_[M>>2])break h;l=_[o>>2],p=_[e+600>>2],v=p+1|0,_[e+600>>2]=v,l&=-2147483648>>>p;d:{if(32==(0|v)){if(_[e+600>>2]=0,_[e+596>>2]=o+4,l)break d;break h}if(!l)break h}}else n=a;o=n,n=a;break f}for(;s=(n+-1|0)==(0|s)?0:s+1|0,_[c+(a<<2)>>2]=s,a=a+1|0,n=_[e+12>>2],a>>>0<n>>>0;);break c}o=a}if(a=_[k>>2],f=_[(l=a+f|0)>>2],_[(u=f+u|0)>>2]=_[u>>2]+1,lt(a+h|0,f,_[l+4>>2]),n&&(f=_[r+28>>2]+_[r+24>>2]|0,h=_[r+16>>2],a=_[r+12>>2],(0|f)==(0|((l=h-a|0)?g(l>>2,341)+-1|0:0))&&(Zt(r+8|0),f=_[r+24>>2]+_[r+28>>2]|0,h=_[r+16>>2],a=_[r+12>>2]),l=0,(0|a)!=(0|h)&&(l=_[(l=a)+((a=(f>>>0)/341|0)<<2)>>2]+g(f-g(a,341)|0,12)|0),_[l+8>>2]=c,_[l+4>>2]=s,_[l>>2]=n,_[r+28>>2]=_[r+28>>2]+1),!o)break l;a=_[r+28>>2]+_[r+24>>2]|0,l=_[r+16>>2],n=_[r+12>>2],(0|a)==(0|((c=l-n|0)?g(c>>2,341)+-1|0:0))&&(Zt(r+8|0),l=_[r+16>>2],a=_[r+24>>2]+_[r+28>>2]|0,n=_[r+12>>2]),n=(0|n)==(0|l)?0:_[(l=n)+((n=(a>>>0)/341|0)<<2)>>2]+g(a-g(n,341)|0,12)|0,_[n+8>>2]=d,_[n+4>>2]=s,_[n>>2]=o,n=_[r+28>>2]+1|0,_[r+28>>2]=n;break o}if(o)for(f=0;;){if(n)for(a=_[T>>2],v=_[x>>2],R=_[l>>2],C=_[h>>2],n=0;;){_[(_[(u=v+(n<<2)|0)>>2]<<2)+a>>2]=0,c=_[u>>2]<<2;c:if(s=_[e>>2]-_[c+C>>2]|0)if(c=a+c|0,p=_[e+560>>2],(0|s)<=(0|(m=32-p|0))){if((0|(d=_[b>>2]))==_[w>>2]){_[c>>2]=0;break c}if(_[c>>2]=_[d>>2]<<p>>>32-s,s=s+_[e+560>>2]|0,_[e+560>>2]=s,32!=(0|s))break c;_[e+560>>2]=0,_[b>>2]=d+4}else d=_[b>>2],(0|(E=d+4|0))!=_[w>>2]?(O=_[d>>2],_[b>>2]=E,m=s-m|0,_[e+560>>2]=m,_[c>>2]=_[d+4>>2]>>>32-m|O<<p>>>32-s):_[c>>2]=0;if(s=_[u>>2]<<2,_[(c=s+a|0)>>2]=_[c>>2]|_[s+R>>2],!((n=n+1|0)>>>0<A[e+12>>2]))break}else a=_[T>>2];if(s=_[a>>2],_[r+32>>2]=s,_[r+36>>2]=_[a+4>>2],_[r+40>>2]=_[a+8>>2],a=_[i>>2],(n=_[(c=a+4|0)>>2])>>>0<A[a+8>>2]?(_[n>>2]=s,_[n+4>>2]=_[r+36>>2],_[n+8>>2]=_[r+40>>2],_[c>>2]=n+12):Gn(a,r+32|0),_[e+8>>2]=_[e+8>>2]+1,(0|(f=f+1|0))==(0|o))break l;n=_[e+12>>2]}}else{if(!o)break l;for(;n=_[l>>2],c=_[n>>2],_[r+32>>2]=c,_[r+36>>2]=_[n+4>>2],_[r+40>>2]=_[n+8>>2],s=_[i>>2],(n=_[(f=s+4|0)>>2])>>>0<A[s+8>>2]?(_[n>>2]=c,_[n+4>>2]=_[r+36>>2],_[n+8>>2]=_[r+40>>2],_[f>>2]=n+12):Gn(s,r+32|0),_[e+8>>2]=_[e+8>>2]+1,(0|o)!=(0|(a=a+1|0)););}n=_[r+28>>2]}if(!n)break}if(Qt(r+8|0),e=_[r+12>>2],t=_[r+16>>2],(0|e)!=(0|t)){for(;Ka(_[e>>2]),(0|t)!=(0|(e=e+4|0)););e=_[r+16>>2],t=_[r+12>>2],(0|e)!=(0|t)&&(_[r+16>>2]=e+(((e-t|0)-4>>>2^-1)<<2))}return(e=_[r+8>>2])&&Ka(e),void(z=r+48|0)}Wa(),P()}Wa(),P()}(e,_[e+4>>2],i)}})(n=Lt(r+8|0,3),t,r+664|0),Bt(n)}l=_[e+12>>2]==((_[i+4>>2]-_[i>>2]|0)/12|0)}return z=r+672|0,l}Re(14557),P()}function Gn(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;e:{if((a=(r=((n=_[e+4>>2])-(s=_[e>>2])|0)/12|0)+1|0)>>>0<357913942){if(o=g(r,12),r=(i=(_[e+8>>2]-s|0)/12|0)<<1,r=i>>>0<178956970?r>>>0<a>>>0?a:r:357913941,a=0,r){if(r>>>0>=357913942)break e;a=Fa(g(r,12))}if(_[(i=o+a|0)>>2]=_[t>>2],_[i+4>>2]=_[t+4>>2],_[i+8>>2]=_[t+8>>2],r=a+g(r,12)|0,t=i+12|0,(0|n)!=(0|s)){for(;n=n+-12|0,_[(i=i+-12|0)>>2]=_[n>>2],_[i+4>>2]=_[n+4>>2],_[i+8>>2]=_[n+8>>2],(0|n)!=(0|s););n=s}return _[e>>2]=i,_[e+8>>2]=r,_[e+4>>2]=t,void(n&&Ka(n))}Wa(),P()}Re(14557),P()}function Hn(e){var t=0;return t=m[e+74|0],l[e+74|0]=t+-1|t,8&(t=_[e>>2])?(_[e>>2]=32|t,-1):(_[e+4>>2]=0,_[e+8>>2]=0,t=_[e+44>>2],_[e+28>>2]=t,_[e+20>>2]=t,_[e+16>>2]=t+_[e+48>>2],0)}function Yn(e,t,i){var r=0,n=0,s=0,o=0;e:{if(!(r=_[i+16>>2])){if(Hn(i))break e;r=_[i+16>>2]}if(r-(s=_[i+20>>2])>>>0<t>>>0)return 0|a[_[i+36>>2]](i,e,t);t:if(!(l[i+75|0]<0)){for(n=t;;){if(!(r=n))break t;if(10==m[(n=r+-1|0)+e|0])break}if((n=0|a[_[i+36>>2]](i,e,r))>>>0<r>>>0)break e;t=t-r|0,e=e+r|0,s=_[i+20>>2],o=r}es(s,e,t),_[i+20>>2]=_[i+20>>2]+t,n=t+o|0}return n}function Xn(e,t,i){e=(_[i+76>>2],Yn(e,t,i))}function Zn(e){0}function Qn(e,t,i,r,n){var s,o=0,c=0;return z=s=z-208|0,_[s+204>>2]=i,i=0,ts(s+160|0,0,40),_[s+200>>2]=_[s+204>>2],(0|Jn(0,t,s+200|0,s+80|0,s+160|0,r,n))<0?t=-1:(i=_[e+76>>2]>=0?1:i,o=_[e>>2],l[e+74|0]<=0&&(_[e>>2]=-33&o),c=32&o,_[e+48>>2]?t=Jn(e,t,s+200|0,s+80|0,s+160|0,r,n):(_[e+48>>2]=80,_[e+16>>2]=s+80,_[e+28>>2]=s,_[e+20>>2]=s,o=_[e+44>>2],_[e+44>>2]=s,t=r=Jn(e,t,s+200|0,s+80|0,s+160|0,r,n),o&&(a[_[e+36>>2]](e,0,0),_[e+48>>2]=0,_[e+44>>2]=o,_[e+28>>2]=0,_[e+16>>2]=0,t=_[e+20>>2],_[e+20>>2]=0,t=t?r:-1)),r=e,e=_[e>>2],_[r>>2]=e|c,t=32&e?-1:t),z=s+208|0,t}function Jn(e,t,i,r,n,s,o){var c,f,h,u=0,d=0,b=0,A=0,v=0,k=0,x=0,S=0,T=0,w=0,E=0,M=0;z=c=z-80|0,_[c+76>>2]=t,h=c+55|0,f=c+56|0,t=0;e:{t:for(;;){(0|S)<0||((0|t)>(2147483647-S|0)?(_[4458]=61,S=-1):S=t+S|0);i:{r:{n:{a:{s:{o:{l:{c:{f:{h:{u:{d:{p:{_:{if(A=_[c+76>>2],b=m[0|(t=A)]){for(;;){m:{b:{A:if(u=255&b){if(37!=(0|u))break b;for(b=t;;){if(37!=m[t+1|0])break A;if(u=t+2|0,_[c+76>>2]=u,b=b+1|0,d=m[t+2|0],t=u,37!=(0|d))break}}else b=t;if(t=b-A|0,e&&qn(e,A,t),t)continue t;T=-1,b=1,u=c,v=!sa(l[_[c+76>>2]+1|0]),t=_[c+76>>2],v|36!=m[t+2|0]||(T=l[t+1|0]+-48|0,E=1,b=3),t=b+t|0,_[u+76>>2]=t,b=0;A:if((d=(w=l[0|t])+-32|0)>>>0>31)u=t;else if(u=t,75913&(d=1<<d))for(;;){if(u=t+1|0,_[c+76>>2]=u,b|=d,(d=(w=l[t+1|0])+-32|0)>>>0>31)break A;if(t=u,!(75913&(d=1<<d)))break}A:if(42!=(0|w)){if((0|(k=Kn(c+76|0)))<0)break _;t=_[c+76>>2]}else{if(v=c,sa(l[u+1|0])&&(t=_[c+76>>2],36==m[t+2|0]))_[((l[t+1|0]<<2)+n|0)-192>>2]=10,k=_[((l[t+1|0]<<3)+r|0)-384>>2],E=1,t=t+3|0;else{if(E)break _;E=0,k=0,e&&(t=_[i>>2],_[i>>2]=t+4,k=_[t>>2]),t=_[c+76>>2]+1|0}if(_[v+76>>2]=t,(0|k)>-1)break A;k=0-k|0,b|=8192}d=-1;A:if(46==m[0|t])if(42!=m[t+1|0])_[c+76>>2]=t+1,d=Kn(c+76|0),t=_[c+76>>2];else{if(sa(l[t+2|0])&&(t=_[c+76>>2],36==m[t+3|0])){_[((l[t+2|0]<<2)+n|0)-192>>2]=10,d=_[((l[t+2|0]<<3)+r|0)-384>>2],t=t+4|0,_[c+76>>2]=t;break A}if(E)break _;e?(t=_[i>>2],_[i>>2]=t+4,d=_[t>>2]):d=0,t=_[c+76>>2]+2|0,_[c+76>>2]=t}for(u=0;;){if(M=u,x=-1,l[0|t]+-65>>>0>57)break e;if(w=t+1|0,_[c+76>>2]=w,u=l[0|t],t=w,!((u=m[14591+(u+g(M,58)|0)|0])+-1>>>0<8))break}if(!u)break e;A:{v:{y:{if(19==(0|u)){if((0|T)<=-1)break y;break e}if((0|T)<0)break v;_[(T<<2)+n>>2]=u,u=_[(t=(T<<3)+r|0)+4>>2],_[c+64>>2]=_[t>>2],_[c+68>>2]=u}if(t=0,!e)continue t;break A}if(!e)break i;$n(c- -64|0,u,i,o),w=_[c+76>>2]}if(v=-65537&b,b=8192&b?v:b,x=0,T=14625,u=f,t=l[w+-1|0],(w=(t=M&&3==(15&t)?-33&t:t)+-88|0)>>>0<=32)break m;A:{v:{y:{g:{if((v=t+-65|0)>>>0>6){if(83!=(0|t))break r;if(!d)break g;u=_[c+64>>2];break v}switch(v-1|0){case 1:break y;case 0:case 2:break r;default:break p}}t=0,ea(e,32,k,0,b);break A}_[c+12>>2]=0,_[c+8>>2]=_[c+64>>2],_[c+64>>2]=c+8,d=-1,u=c+8|0}t=0;v:{for(;;){if(!(A=_[u>>2]))break v;if(!((v=(0|(A=oa(c+4|0,A)))<0)|A>>>0>d-t>>>0)){if(u=u+4|0,d>>>0>(t=t+A|0)>>>0)continue;break v}break}if(x=-1,v)break e}if(ea(e,32,k,t,b),t)for(d=0,u=_[c+64>>2];;){if(!(A=_[u>>2]))break A;if((0|(d=(A=oa(c+4|0,A))+d|0))>(0|t))break A;if(qn(e,c+4|0,A),u=u+4|0,!(d>>>0<t>>>0))break}else t=0}ea(e,32,k,t,8192^b),t=(0|k)>(0|t)?k:t;continue t}u=t+1|0,_[c+76>>2]=u,b=m[t+1|0],t=u;continue}break}switch(w-1|0){case 21:break o;case 23:break c;case 22:break f;case 11:case 16:break h;case 10:break u;case 26:break d;case 8:case 12:case 13:case 14:break p;case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 9:case 15:case 17:case 18:case 19:case 20:case 24:case 25:case 27:case 29:case 30:break r;case 28:break s;default:break l}}if(x=S,e)break e;if(!E)break i;for(t=1;;){if(e=_[(t<<2)+n>>2]){if($n((t<<3)+r|0,e,i,o),x=1,10!=(0|(t=t+1|0)))continue;break e}break}if(x=1,t>>>0>=10)break e;for(;;){if(_[(t<<2)+n>>2])break _;if(e=t>>>0>8,t=t+1|0,e)break}break e}x=-1;break e}t=0|a[s](e,y[c+64>>3],k,d,b,t);continue}u=(t=ha(A=(t=_[c+64>>2])||14635,d))||d+A|0,b=v,d=t?t-A|0:d;break r}l[c+55|0]=_[c+64>>2],d=1,A=h,b=v;break r}if(t=v=_[c+68>>2],A=_[c+64>>2],(0|t)<-1||(0|t)<=-1&&!(A>>>0>4294967295)){t=0-(t+(0<A>>>0)|0)|0,A=0-A|0,_[c+64>>2]=A,_[c+68>>2]=t,x=1,T=14625;break a}if(2048&b){x=1,T=14626;break a}T=(x=1&b)?14627:14625;break a}if(A=ta(_[c+64>>2],_[c+68>>2],f),!(8&b))break n;d=(0|d)>(0|(t=f-A|0))?d:t+1|0;break n}d=d>>>0>8?d:8,b|=8,t=120}if(A=ia(_[c+64>>2],_[c+68>>2],f,32&t),!(8&b)|!(_[c+64>>2]|_[c+68>>2]))break n;T=14625+(t>>>4)|0,x=2;break n}if(t=0,(u=255&M)>>>0>7)continue;o:switch(u-1|0){default:case 0:_[_[c+64>>2]>>2]=S;continue;case 1:u=_[c+64>>2],_[u>>2]=S,_[u+4>>2]=S>>31;continue;case 2:p[_[c+64>>2]>>1]=S;continue;case 3:l[_[c+64>>2]]=S;continue;case 5:_[_[c+64>>2]>>2]=S;continue;case 4:continue;case 6:break o}u=_[c+64>>2],_[u>>2]=S,_[u+4>>2]=S>>31;continue}A=_[c+64>>2],t=_[c+68>>2],T=14625}A=ra(A,t,f)}b=(0|d)>-1?-65537&b:b,!!((t=_[c+64>>2])|(v=_[c+68>>2]))|d?d=(0|d)>(0|(t=!(t|v)+(f-A|0)|0))?d:t:(A=f,d=0)}ea(e,32,t=(0|k)<(0|(u=(d=(0|d)<(0|(v=u-A|0))?v:d)+x|0))?u:k,u,b),qn(e,T,x),ea(e,48,t,u,65536^b),ea(e,48,d,v,0),qn(e,A,v),ea(e,32,t,u,8192^b);continue}break}x=0}return z=c+80|0,x}function qn(e,t,i){32&m[0|e]||Yn(t,i,e)}function Kn(e){var t=0,i=0,r=0;if(sa(l[_[e>>2]]))for(;t=_[e>>2],r=l[0|t],_[e>>2]=t+1,i=(g(i,10)+r|0)-48|0,sa(l[t+1|0]););return i}function $n(e,t,i,r){e:{if(!(t>>>0>20)&&!((t=t+-9|0)>>>0>9)){t:switch(t-1|0){default:return t=_[i>>2],_[i>>2]=t+4,void(_[e>>2]=_[t>>2]);case 0:return t=_[i>>2],_[i>>2]=t+4,t=_[t>>2],_[e>>2]=t,void(_[e+4>>2]=t>>31);case 1:return t=_[i>>2],_[i>>2]=t+4,_[e>>2]=_[t>>2],void(_[e+4>>2]=0);case 3:return t=_[i>>2],_[i>>2]=t+4,t=p[t>>1],_[e>>2]=t,void(_[e+4>>2]=t>>31);case 4:return t=_[i>>2],_[i>>2]=t+4,_[e>>2]=b[t>>1],void(_[e+4>>2]=0);case 5:return t=_[i>>2],_[i>>2]=t+4,t=l[0|t],_[e>>2]=t,void(_[e+4>>2]=t>>31);case 6:return t=_[i>>2],_[i>>2]=t+4,_[e>>2]=m[0|t],void(_[e+4>>2]=0);case 2:case 7:break e;case 8:break t}a[r](e,i)}return}t=_[i>>2]+7&-8,_[i>>2]=t+8,i=_[t+4>>2],_[e>>2]=_[t>>2],_[e+4>>2]=i}function ea(e,t,i,r,n){var a,s=0,o=0;if(z=a=z-256|0,!(73728&n|(0|i)<=(0|r))){if(ts(a,t,(s=(n=i-r|0)>>>0<256)?n:256),t=e,o=a,!s){for(i=i-r|0;qn(e,a,256),(n=n+-256|0)>>>0>255;);n=255&i}qn(t,o,n)}z=a+256|0}function ta(e,t,i){if(e|t)for(;l[0|(i=i+-1|0)]=7&e|48,(e=(7&t)<<29|e>>>3)|(t>>>=3););return i}function ia(e,t,i,r){if(e|t)for(;l[0|(i=i+-1|0)]=m[15120+(15&e)|0]|r,(e=(15&t)<<28|e>>>4)|(t>>>=4););return i}function ra(e,t,i){var r=0,n=0,a=0;if(1==(0|t)&e>>>0<0|t>>>0<1)r=e;else for(;r=os(e,t,10,0),a=n=j,n=as(r,n,10,0),l[0|(i=i+-1|0)]=e-n|48,n=9==(0|t)&e>>>0>4294967295|t>>>0>9,e=r,t=a,n;);if(r)for(;e=(r>>>0)/10|0,l[0|(i=i+-1|0)]=r-g(e,10)|48,t=r>>>0>9,r=e,t;);return i}function na(e,t,i){return Qn(e,t,i,355,356)}function aa(e,t){var i;z=i=z-16|0,_[i+12>>2]=t,Qn(_[3795],e,t,0,0),z=i+16|0}function sa(e){return e+-48>>>0<10}function oa(e,t){return e?la(e,t):0}function la(e,t){e:{if(e){if(t>>>0<=127)break e;if(_[_[4181]>>2]){if(t>>>0<=2047)return l[e+1|0]=63&t|128,l[0|e]=t>>>6|192,2;if(!(57344!=(-8192&t)&&t>>>0>=55296))return l[e+2|0]=63&t|128,l[0|e]=t>>>12|224,l[e+1|0]=t>>>6&63|128,3;if(t+-65536>>>0<=1048575)return l[e+3|0]=63&t|128,l[0|e]=t>>>18|240,l[e+2|0]=t>>>6&63|128,l[e+1|0]=t>>>12&63|128,4}else if(57216==(-128&t))break e;_[4458]=25,e=-1}else e=1;return e}return l[0|e]=t,1}function ca(e,t,i){var r=0,n=0,a=0;e:if(i){for(;;){if((0|(r=m[0|e]))==(0|(n=m[0|t]))){if(t=t+1|0,e=e+1|0,i=i+-1|0)continue;break e}break}a=r-n|0}return a}function fa(e){var t=0,i=0,r=0;e:{t:if(3&(t=e)){if(!m[0|e])break e;for(;;){if(!(3&(t=t+1|0)))break t;if(!m[0|t])break}break e}for(;i=t,t=t+4|0,!((-1^(r=_[i>>2]))&r+-16843009&-2139062144););if(255&r)for(;r=m[i+1|0],i=t=i+1|0,r;);else t=i}return t-e|0}function ha(e,t){var i=0,r=0,n=0;i=0!=(0|t);e:{t:{i:{r:if(!(!t|!(3&e)))for(;;){if(!m[0|e])break i;if(e=e+1|0,i=0!=(0|(t=t+-1|0)),!t)break r;if(!(3&e))break}if(!i)break t}if(!m[0|e])break e;i:{if(t>>>0>=4){for(i=(i=t+-4|0)-(r=-4&i)|0,r=4+(e+r|0)|0;;){if((-1^(n=_[e>>2]))&n+-16843009&-2139062144)break i;if(e=e+4|0,!((t=t+-4|0)>>>0>3))break}t=i,e=r}if(!t)break t}for(;;){if(!m[0|e])break e;if(e=e+1|0,!(t=t+-1|0))break}}return 0}return e}function ua(e){return e?(_[4458]=e,-1):0}function da(e){var t,i=0,r=0,n=0,a=0,s=0,o=0,l=0;z=t=z-16|0,_[t+12>>2]=e;e:if(e>>>0<=211)e=_[pa(15184,15376,t+12|0)>>2];else{n=g(a=(e>>>0)/210|0,210),_[t+8>>2]=e-n,s=pa(15376,15568,t+8|0)-15376>>2;t:{for(;;){e=_[15376+(s<<2)>>2]+n|0,n=5;i:{r:{n:{for(;;){if(47==(0|n))break n;if(l=(o=(r=(e>>>0)/((i=_[15184+(n<<2)>>2])>>>0)|0)>>>0<i>>>0)?e:l,n=n+1|0,i=o?1:(0|g(i,r))==(0|e)?7:0)break}if((n=i+-4|0)>>>0>3)break t;switch(n-1|0){case 0:case 1:break t;case 2:break r;default:break n}}for(n=211;;){if((i=(e>>>0)/(n>>>0)|0)>>>0<n>>>0)break i;if((0|g(i,n))==(0|e))break r;if((r=(e>>>0)/((i=n+10|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+12|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+16|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+18|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+22|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+28|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+30|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+36|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+40|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+42|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+46|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+52|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+58|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+60|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+66|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+70|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+72|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+78|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+82|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+88|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+96|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+100|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+102|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+106|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+108|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+112|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+120|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+126|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+130|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+136|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+138|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+142|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+148|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+150|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+156|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+162|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+166|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+168|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+172|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+178|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+180|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+186|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+190|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+192|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+196|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+198|0)>>>0)|0)>>>0<i>>>0)break i;if((0|g(i,r))==(0|e))break r;if((r=(e>>>0)/((i=n+208|0)>>>0)|0)>>>0<i>>>0)break i;if(n=n+210|0,(0|g(i,r))==(0|e))break}}s=(e=48==(0|(n=s+1|0)))?0:n,n=g(a=e+a|0,210);continue}break}_[t+12>>2]=e;break e}_[t+12>>2]=e,e=l}return z=t+16|0,e}function pa(e,t,i){return function(e,t,i){var r;return z=r=z-16|0,e=function(e,t,i){var r,n=0,a=0,s=0;z=r=z-16|0,t=t-e>>2;for(;t;)_[r+12>>2]=e,a=n=r+12|0,s=_[n>>2],n=t>>>1,_[a>>2]=s+(n<<2),_a(_[r+12>>2],i)?(e=_[r+12>>2]+4|0,_[r+12>>2]=e,t=(-1^n)+t|0):t=n;return z=r+16|0,e}(e,t,i),z=r+16|0,e}(e,t,i)}function _a(e,t){return A[e>>2]<A[t>>2]}function ma(e,t,i){i&&es(e,t,i)}function ba(e,t){return function(e,t){var i,r;return z=i=z-16|0,r=_a(e,t),z=i+16|0,r?t:e}(e,t)}function Aa(e){_[e>>2]=0,_[e+4>>2]=0,_[e+8>>2]=0}function va(e,t,i){var r;return z=r=z-16|0,_[r+12>>2]=i,e=function(e,t,i){var r,n=0;z=r=z-160|0,es(r+8|0,15568,144);e:{t:{if(t+-1>>>0>=2147483647){if(t)break t;t=1,e=r+159|0}if(_[r+52>>2]=e,_[r+28>>2]=e,t=t>>>0>(n=-2-e|0)>>>0?n:t,_[r+56>>2]=t,e=e+t|0,_[r+36>>2]=e,_[r+24>>2]=e,e=na(r+8|0,15793,i),!t)break e;t=_[r+28>>2],l[t-((0|t)==_[r+24>>2])|0]=0;break e}_[4458]=61,e=-1}return z=r+160|0,e}(e,t,i),z=r+16|0,e}function ya(e){return Sa(e)?_[e+4>>2]:m[e+11|0]}function ga(e){return e=Sa(e)?Ta(e)+-1|0:10}function ka(e,t){za(e,t)}function xa(e){var t;for(t=e,e=0;3!=(0|e);)_[(e<<2)+t>>2]=0,e=e+1|0}function Sa(e){return l[e+11|0]<0}function Ta(e){return 2147483647&_[e+8>>2]}function wa(e){return Sa(e)?_[e>>2]:e}function Ea(e,t){l[0|e]=m[0|t]}function Ma(e,t){_[e+4>>2]=t}function Pa(e,t){l[e+11|0]=t}function Ra(e){var t=0;return e=e>>>0>=11?11==(0|(e=(t=e+16&-16)+-1|0))?t:e:10}function Ca(e){return 4294967295<e>>>0&&(Re(15712),P()),Fa(e)}function Oa(e,t){_[e>>2]=t}function Ia(e,t){_[e+8>>2]=-2147483648|t}function Da(e,t){Sa(e)?Ma(e,t):Pa(e,t)}function Fa(e){var t=0,i=0;for(e=e||1;!(t=qa(e))&&(i=_[4476]);)a[i]();return t}function Na(e){var t,i=0,r=0;z=t=z-16|0,l[t+15|0]=10;e:{if(!(i=_[e+16>>2])){if(Hn(e))break e;i=_[e+16>>2]}r=_[e+20>>2],10==l[e+75|0]|r>>>0>=i>>>0?a[_[e+36>>2]](e,t+15|0,1):(_[e+20>>2]=r+1,l[0|r]=10)}z=t+16|0}function Ba(){Re(15780),P()}function La(){N(),P()}function Ua(e,t){var i,r,n=0;return z=r=z-16|0,Aa(e),i=e,Sa(t)?function(e,t,i){var r,n=0,a=0;if(z=r=z-16|0,4294967279>=i>>>0)return i>>>0<=10?(Pa(e,i),n=e):(a=Ra(i)+1|0,n=Ca(a),Oa(e,n),Ia(e,a),Ma(e,i)),ma(n,t,i),l[r+15|0]=0,Ea(i+n|0,r+15|0),void(z=r+16|0);Ba(),P()}(e,_[t>>2],_[t+4>>2]):(_[i+8>>2]=_[t+8>>2],n=_[t+4>>2],_[i>>2]=_[t>>2],_[i+4>>2]=n),z=r+16|0,e}function Va(e,t){(0|e)!=(0|t)&&function(e,t,i){var r,n=0,a=0,s=0;z=r=z-16|0;(n=ga(e))>>>0>=i>>>0?(a=wa(e),s=a,n=i,i&&is(s,t,n),l[r+15|0]=0,Ea(i+a|0,r+15|0),Da(e,i)):(a=e,e=ya(e),function(e,t,i,r,n,a,s){var o,c=0,f=0;if(z=o=z-16|0,(-1^t)-17>>>0>=i>>>0)return c=wa(e),2147483623>t>>>0?(_[o+8>>2]=t<<1,_[o+12>>2]=t+i,i=Ra(_[ba(o+12|0,o+8|0)>>2])):i=-18,i=Ca(f=i+1|0),a&&ma(i,s,a),s=r=r-n|0,r&&ma(i+a|0,n+c|0,s),10!=(0|t)&&Ka(c),Oa(e,i),Ia(e,f),Ma(t=e,e=r+a|0),l[o+7|0]=0,Ea(e+i|0,o+7|0),void(z=o+16|0);Ba(),P()}(a,n,i-n|0,e,e,i,t));z=r+16|0}(e,wa(t),ya(t))}function za(e,t){var i;(i=ya(e))>>>0<t>>>0?function(e,t){var i,r=0,n=0,a=0;z=i=z-16|0,t&&(n=ga(e),r=ya(e),a=r+t|0,n-r>>>0<t>>>0&&function(e,t,i,r,n){var a,s=0,o=0;if(z=a=z-16|0,-17-t>>>0>=i>>>0)return s=wa(e),2147483623>t>>>0?(_[a+8>>2]=t<<1,_[a+12>>2]=t+i,i=Ra(_[ba(a+12|0,a+8|0)>>2])):i=-18,i=Ca(o=i+1|0),n&&ma(i,s,n),(r=r-n|0)&&ma(i+n|0,n+s|0,r),10!=(0|t)&&Ka(s),Oa(e,i),Ia(e,o),void(z=a+16|0);Ba(),P()}(e,n,a-n|0,r,r),n=r,r=wa(e),n=n+r|0,t&&ts(n,0,t),Da(e,a),l[i+15|0]=0,Ea(r+a|0,i+15|0));z=i+16|0}(e,t-i|0):function(e,t){var i,r=0;z=i=z-16|0;Sa(e)?(r=_[e>>2],l[i+15|0]=0,Ea(t+r|0,i+15|0),Ma(e,t)):(l[i+14|0]=0,Ea(e+t|0,i+14|0),Pa(e,t));z=i+16|0}(e,t)}function ja(e){return ya(e)>>>0<=0&&(La(),P()),wa(e)}function Wa(){Re(15796),P()}function Ga(){La(),P()}function Ha(){var e=0;z=e=z-16|0,_[e+12>>2]=0,na(e=_[3794],15803,0),function(e){var t=0;if(_[e+76>>2]<0)return 10==l[e+75|0]||(t=_[e+20>>2])>>>0>=A[e+16>>2]?void Na(e):(_[e+20>>2]=t+1,void(l[0|t]=10));10==l[e+75|0]||(t=_[e+20>>2])>>>0>=A[e+16>>2]?Na(e):(_[e+20>>2]=t+1,l[0|t]=10)}(e),N(),P()}function Ya(e){return _[(e|=0)>>2]=15900,function(e){var t,i;t=_[e>>2]+-12|0,e=_[(i=t+8|0)>>2]+-1|0,_[i>>2]=e;(0|e)>-1||Ka(t)}(e+4|0),0|e}function Xa(e,t,i){return i?!function(e,t){var i=0,r=0;e:if(!(!(i=m[0|e])|(0|i)!=(0|(r=m[0|t]))))for(;;){if(r=m[t+1|0],!(i=m[e+1|0]))break e;if(t=t+1|0,e=e+1|0,(0|i)!=(0|r))break}return i-r|0}(_[e+4>>2],_[t+4>>2]):(0|e)==(0|t)}function Za(e,t,i){var r;if(!(r=_[e+16>>2]))return _[e+36>>2]=1,_[e+24>>2]=i,void(_[e+16>>2]=t);e:{if((0|t)==(0|r)){if(2!=_[e+24>>2])break e;return void(_[e+24>>2]=i)}l[e+54|0]=1,_[e+24>>2]=2,_[e+36>>2]=_[e+36>>2]+1}}function Qa(e,t,i,r){l[e+53|0]=1;e:if(_[e+4>>2]==(0|i)){if(l[e+52|0]=1,!(i=_[e+16>>2])){if(_[e+36>>2]=1,_[e+24>>2]=r,_[e+16>>2]=t,1!=(0|r)|1!=_[e+48>>2])break e;return void(l[e+54|0]=1)}if((0|t)==(0|i)){if(2==(0|(i=_[e+24>>2]))&&(_[e+24>>2]=r,i=r),1!=_[e+48>>2]|1!=(0|i))break e;return void(l[e+54|0]=1)}l[e+54|0]=1,_[e+36>>2]=_[e+36>>2]+1}}function Ja(e,t,i){1==_[e+28>>2]|_[e+4>>2]!=(0|t)||(_[e+28>>2]=i)}function qa(e){var t,i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0;z=t=z-16|0;e:{t:{i:{r:{n:{a:{s:{o:{l:{c:{f:{if((e|=0)>>>0<=244){if(3&(e=(s=_[4477])>>>(i=(l=e>>>0<11?16:e+11&-8)>>>3))){e=(a=_[(i=(n=i+(1&(-1^e))|0)<<3)+17956>>2])+8|0,(0|(r=_[a+8>>2]))!=(0|(i=i+17948|0))?(_[r+12>>2]=i,_[i+8>>2]=r):(u=17908,d=cs(n)&s,_[u>>2]=d),i=n<<3,_[a+4>>2]=3|i,_[(i=i+a|0)+4>>2]=1|_[i+4>>2];break e}if(l>>>0<=(h=_[4479])>>>0)break f;if(e){r=e=(i=(0-(e=(r=e<<i)&(0-(e=2<<i)|e))&e)-1|0)>>>12&16,r|=e=(i>>>=e)>>>5&8,r|=e=(i>>>=e)>>>2&4,o=_[(e=(r=((r|=e=(i>>>=e)>>>1&2)|(e=(i>>>=e)>>>1&1))+(i>>>e)|0)<<3)+17956>>2],(0|(i=_[o+8>>2]))!=(0|(e=e+17948|0))?(_[i+12>>2]=e,_[e+8>>2]=i):(s=cs(r)&s,_[4477]=s),e=o+8|0,_[o+4>>2]=3|l,a=(i=r<<3)-l|0,_[(n=o+l|0)+4>>2]=1|a,_[i+o>>2]=a,h&&(r=17948+((i=h>>>3)<<3)|0,l=_[4482],(i=1<<i)&s?i=_[r+8>>2]:(_[4477]=i|s,i=r),_[r+8>>2]=l,_[i+12>>2]=l,_[l+12>>2]=r,_[l+8>>2]=i),_[4482]=n,_[4479]=a;break e}if(!(c=_[4478]))break f;for(r=e=(i=(c&0-c)-1|0)>>>12&16,r|=e=(i>>>=e)>>>5&8,r|=e=(i>>>=e)>>>2&4,i=_[18212+(((r|=e=(i>>>=e)>>>1&2)|(e=(i>>>=e)>>>1&1))+(i>>>e)<<2)>>2],n=(-8&_[i+4>>2])-l|0,r=i;(e=_[r+16>>2])||(e=_[r+20>>2]);)n=(a=(r=(-8&_[e+4>>2])-l|0)>>>0<n>>>0)?r:n,i=a?e:i,r=e;if(f=_[i+24>>2],(0|(a=_[i+12>>2]))!=(0|i)){e=_[i+8>>2],_[e+12>>2]=a,_[a+8>>2]=e;break t}if(!(e=_[(r=i+20|0)>>2])){if(!(e=_[i+16>>2]))break c;r=i+16|0}for(;o=r,a=e,(e=_[(r=e+20|0)>>2])||(r=a+16|0,e=_[a+16>>2]););_[o>>2]=0;break t}if(l=-1,!(e>>>0>4294967231)&&(l=-8&(e=e+11|0),c=_[4478])){o=0,(e>>>=8)&&(o=31,l>>>0>16777215||(e<<=i=e+1048320>>>16&8,o=28+((e=((e<<=n=e+520192>>>16&4)<<(r=e+245760>>>16&2)>>>15)-(r|i|n)|0)<<1|l>>>e+21&1)|0)),r=0-l|0;h:{u:{if(n=_[18212+(o<<2)>>2])for(i=l<<(31==(0|o)?0:25-(o>>>1)|0),e=0;;){if(!((s=(-8&_[n+4>>2])-l|0)>>>0>=r>>>0)&&(a=n,!(r=s))){r=0,e=n;break u}if(s=_[n+20>>2],n=_[16+((i>>>29&4)+n|0)>>2],e=s?(0|s)==(0|n)?e:s:e,i<<=0!=(0|n),!n)break}else e=0;if(!(e|a)){if(!(e=(0-(e=2<<o)|e)&c))break f;n=e=(i=(e&0-e)-1|0)>>>12&16,n|=e=(i>>>=e)>>>5&8,n|=e=(i>>>=e)>>>2&4,e=_[18212+(((n|=e=(i>>>=e)>>>1&2)|(e=(i>>>=e)>>>1&1))+(i>>>e)<<2)>>2]}if(!e)break h}for(;r=(n=(i=(-8&_[e+4>>2])-l|0)>>>0<r>>>0)?i:r,a=n?e:a,e=(i=_[e+16>>2])||_[e+20>>2];);}if(!(!a|r>>>0>=_[4479]-l>>>0)){if(o=_[a+24>>2],(0|a)!=(0|(i=_[a+12>>2]))){e=_[a+8>>2],_[e+12>>2]=i,_[i+8>>2]=e;break i}if(!(e=_[(n=a+20|0)>>2])){if(!(e=_[a+16>>2]))break l;n=a+16|0}for(;s=n,i=e,(e=_[(n=e+20|0)>>2])||(n=i+16|0,e=_[i+16>>2]););_[s>>2]=0;break i}}}if((r=_[4479])>>>0>=l>>>0){n=_[4482],(i=r-l|0)>>>0>=16?(_[4479]=i,e=n+l|0,_[4482]=e,_[e+4>>2]=1|i,_[r+n>>2]=i,_[n+4>>2]=3|l):(_[4482]=0,_[4479]=0,_[n+4>>2]=3|r,_[(e=r+n|0)+4>>2]=1|_[e+4>>2]),e=n+8|0;break e}if((f=_[4480])>>>0>l>>>0){i=f-l|0,_[4480]=i,e=(r=_[4483])+l|0,_[4483]=e,_[e+4>>2]=1|i,_[r+4>>2]=3|l,e=r+8|0;break e}if(e=0,i=c=l+47|0,_[4595]?r=_[4597]:(_[4598]=-1,_[4599]=-1,_[4596]=4096,_[4597]=4096,_[4595]=t+12&-16^1431655768,_[4600]=0,_[4588]=0,r=4096),(r=(o=i+r|0)&(s=0-r|0))>>>0<=l>>>0)break e;if((a=_[4587])&&(i=(n=_[4585])+r|0)>>>0<=n>>>0|i>>>0>a>>>0)break e;if(4&m[18352])break a;f:{h:{if(n=_[4483])for(e=18356;;){if((i=_[e>>2])+_[e+4>>2]>>>0>n>>>0&&i>>>0<=n>>>0)break h;if(!(e=_[e+8>>2]))break}if(-1==(0|(i=$a(0))))break s;if(s=r,(e=(n=_[4596])+-1|0)&i&&(s=(r-i|0)+(e+i&0-n)|0),s>>>0<=l>>>0|s>>>0>2147483646)break s;if((a=_[4587])&&(e=(n=_[4585])+s|0)>>>0<=n>>>0|e>>>0>a>>>0)break s;if((0|i)!=(0|(e=$a(s))))break f;break n}if((s&=o-f)>>>0>2147483646)break s;if((0|(i=$a(s)))==(_[e>>2]+_[e+4>>2]|0))break o;e=i}if(i=e,!(l+48>>>0<=s>>>0|s>>>0>2147483646|-1==(0|e))){if((e=(e=_[4597])+(c-s|0)&0-e)>>>0>2147483646)break n;if(-1!=(0|$a(e))){s=e+s|0;break n}$a(0-s|0);break s}if(-1!=(0|i))break n;break s}a=0;break t}i=0;break i}if(-1!=(0|i))break n}_[4588]=4|_[4588]}if(r>>>0>2147483646)break r;if((i=$a(r))>>>0>=(e=$a(0))>>>0|-1==(0|i)|-1==(0|e))break r;if((s=e-i|0)>>>0<=l+40>>>0)break r}e=_[4585]+s|0,_[4585]=e,e>>>0>A[4586]&&(_[4586]=e);n:{a:{s:{if(n=_[4483]){for(e=18356;;){if(((a=_[e>>2])+(r=_[e+4>>2])|0)==(0|i))break s;if(!(e=_[e+8>>2]))break}break a}for(i>>>0>=(e=_[4481])>>>0&&e||(_[4481]=i),e=0,_[4590]=s,_[4589]=i,_[4485]=-1,_[4486]=_[4595],_[4592]=0;r=(n=e<<3)+17948|0,_[n+17956>>2]=r,_[n+17960>>2]=r,32!=(0|(e=e+1|0)););r=(n=s+-40|0)-(e=i+8&7?-8-i&7:0)|0,_[4480]=r,e=e+i|0,_[4483]=e,_[e+4>>2]=1|r,_[4+(i+n|0)>>2]=40,_[4484]=_[4599];break n}if(!(8&m[e+12|0]|i>>>0<=n>>>0|a>>>0>n>>>0)){_[e+4>>2]=r+s,r=(e=n+8&7?-8-n&7:0)+n|0,_[4483]=r,e=(i=_[4480]+s|0)-e|0,_[4480]=e,_[r+4>>2]=1|e,_[4+(i+n|0)>>2]=40,_[4484]=_[4599];break n}}i>>>0<(a=_[4481])>>>0&&(_[4481]=i,a=0),r=i+s|0,e=18356;a:{s:{o:{l:{c:{f:{for(;;){if((0|r)!=_[e>>2]){if(e=_[e+8>>2])continue;break f}break}if(!(8&m[e+12|0]))break c}for(e=18356;;){if((r=_[e>>2])>>>0<=n>>>0&&(o=r+_[e+4>>2]|0)>>>0>n>>>0)break l;e=_[e+8>>2]}}if(_[e>>2]=i,_[e+4>>2]=_[e+4>>2]+s,_[(f=(i+8&7?-8-i&7:0)+i|0)+4>>2]=3|l,e=((i=r+(r+8&7?-8-r&7:0)|0)-f|0)-l|0,o=l+f|0,(0|i)==(0|n)){_[4483]=o,e=_[4480]+e|0,_[4480]=e,_[o+4>>2]=1|e;break s}if(_[4482]==(0|i)){_[4482]=o,e=_[4479]+e|0,_[4479]=e,_[o+4>>2]=1|e,_[e+o>>2]=e;break s}if(1==(3&(r=_[i+4>>2]))){c=-8&r;c:if(r>>>0<=255){if(a=_[i+8>>2],r>>>=3,(0|(n=_[i+12>>2]))==(0|a)){u=17908,d=_[4477]&cs(r),_[u>>2]=d;break c}_[a+12>>2]=n,_[n+8>>2]=a}else{if(h=_[i+24>>2],(0|(s=_[i+12>>2]))==(0|i))if((l=_[(n=i+20|0)>>2])||(l=_[(n=i+16|0)>>2])){for(;r=n,(l=_[(n=(s=l)+20|0)>>2])||(n=s+16|0,l=_[s+16>>2]););_[r>>2]=0}else s=0;else r=_[i+8>>2],_[r+12>>2]=s,_[s+8>>2]=r;if(h){n=_[i+28>>2];f:{if(_[(r=18212+(n<<2)|0)>>2]==(0|i)){if(_[r>>2]=s,s)break f;u=17912,d=_[4478]&cs(n),_[u>>2]=d;break c}if(_[h+(_[h+16>>2]==(0|i)?16:20)>>2]=s,!s)break c}_[s+24>>2]=h,(r=_[i+16>>2])&&(_[s+16>>2]=r,_[r+24>>2]=s),(r=_[i+20>>2])&&(_[s+20>>2]=r,_[r+24>>2]=s)}}i=i+c|0,e=e+c|0}if(_[i+4>>2]=-2&_[i+4>>2],_[o+4>>2]=1|e,_[e+o>>2]=e,e>>>0<=255){i=17948+((e>>>=3)<<3)|0,(r=_[4477])&(e=1<<e)?e=_[i+8>>2]:(_[4477]=e|r,e=i),_[i+8>>2]=o,_[e+12>>2]=o,_[o+12>>2]=i,_[o+8>>2]=e;break s}if(r=0,(n=e>>>8)&&(r=31,e>>>0>16777215||(r=n,r<<=n=n+1048320>>>16&8,r=28+((r=((r<<=s=r+520192>>>16&4)<<(a=r+245760>>>16&2)>>>15)-(a|n|s)|0)<<1|e>>>r+21&1)|0)),_[(i=o)+28>>2]=r,_[o+16>>2]=0,_[o+20>>2]=0,a=18212+(r<<2)|0,(n=_[4478])&(i=1<<r)){for(n=e<<(31==(0|r)?0:25-(r>>>1)|0),i=_[a>>2];;){if(r=i,(-8&_[i+4>>2])==(0|e))break o;if(i=n>>>29,n<<=1,!(i=_[(a=16+(r+(4&i)|0)|0)>>2]))break}_[a>>2]=o,_[o+24>>2]=r}else _[4478]=i|n,_[a>>2]=o,_[o+24>>2]=a;_[o+12>>2]=o,_[o+8>>2]=o;break s}for(r=(a=s+-40|0)-(e=i+8&7?-8-i&7:0)|0,_[4480]=r,e=e+i|0,_[4483]=e,_[e+4>>2]=1|r,_[4+(i+a|0)>>2]=40,_[4484]=_[4599],_[(r=(e=(o+(o+-39&7?39-o&7:0)|0)-47|0)>>>0<n+16>>>0?n:e)+4>>2]=27,e=_[4592],_[r+16>>2]=_[4591],_[r+20>>2]=e,e=_[4590],_[r+8>>2]=_[4589],_[r+12>>2]=e,_[4591]=r+8,_[4590]=s,_[4589]=i,_[4592]=0,e=r+24|0;_[e+4>>2]=7,i=e+8|0,e=e+4|0,i>>>0<o>>>0;);if((0|r)==(0|n))break n;if(_[r+4>>2]=-2&_[r+4>>2],o=r-n|0,_[n+4>>2]=1|o,_[r>>2]=o,o>>>0<=255){i=17948+((e=o>>>3)<<3)|0,(r=_[4477])&(e=1<<e)?e=_[i+8>>2]:(_[4477]=e|r,e=i),_[i+8>>2]=n,_[e+12>>2]=n,_[n+12>>2]=i,_[n+8>>2]=e;break n}if(_[n+16>>2]=0,_[n+20>>2]=0,i=0,(r=o>>>8)&&(i=31,o>>>0>16777215||(i=r,i<<=r=r+1048320>>>16&8,i=28+((i=((i<<=s=i+520192>>>16&4)<<(a=i+245760>>>16&2)>>>15)-(a|r|s)|0)<<1|o>>>i+21&1)|0)),_[(e=n)+28>>2]=i,a=18212+(i<<2)|0,(r=_[4478])&(e=1<<i)){for(e=o<<(31==(0|i)?0:25-(i>>>1)|0),i=_[a>>2];;){if(r=i,(0|o)==(-8&_[i+4>>2]))break a;if(i=e>>>29,e<<=1,!(i=_[(a=16+(r+(4&i)|0)|0)>>2]))break}_[a>>2]=n,_[n+24>>2]=r}else _[4478]=e|r,_[a>>2]=n,_[n+24>>2]=a;_[n+12>>2]=n,_[n+8>>2]=n;break n}e=_[r+8>>2],_[e+12>>2]=o,_[r+8>>2]=o,_[o+24>>2]=0,_[o+12>>2]=r,_[o+8>>2]=e}e=f+8|0;break e}e=_[r+8>>2],_[e+12>>2]=n,_[r+8>>2]=n,_[n+24>>2]=0,_[n+12>>2]=r,_[n+8>>2]=e}if(!((e=_[4480])>>>0<=l>>>0)){i=e-l|0,_[4480]=i,e=(r=_[4483])+l|0,_[4483]=e,_[e+4>>2]=1|i,_[r+4>>2]=3|l,e=r+8|0;break e}}_[4458]=48,e=0;break e}i:if(o){n=_[a+28>>2];r:{if(_[(e=18212+(n<<2)|0)>>2]==(0|a)){if(_[e>>2]=i,i)break r;c=cs(n)&c,_[4478]=c;break i}if(_[o+(_[o+16>>2]==(0|a)?16:20)>>2]=i,!i)break i}_[i+24>>2]=o,(e=_[a+16>>2])&&(_[i+16>>2]=e,_[e+24>>2]=i),(e=_[a+20>>2])&&(_[i+20>>2]=e,_[e+24>>2]=i)}i:if(r>>>0<=15)e=r+l|0,_[a+4>>2]=3|e,_[(e=e+a|0)+4>>2]=1|_[e+4>>2];else if(_[a+4>>2]=3|l,_[(n=a+l|0)+4>>2]=1|r,_[r+n>>2]=r,r>>>0<=255)i=17948+((e=r>>>3)<<3)|0,(r=_[4477])&(e=1<<e)?e=_[i+8>>2]:(_[4477]=e|r,e=i),_[i+8>>2]=n,_[e+12>>2]=n,_[n+12>>2]=i,_[n+8>>2]=e;else{i=0,(s=r>>>8)&&(i=31,r>>>0>16777215||(i=s,i<<=s=s+1048320>>>16&8,i=28+((i=((i<<=o=i+520192>>>16&4)<<(l=i+245760>>>16&2)>>>15)-(l|s|o)|0)<<1|r>>>i+21&1)|0)),_[(e=n)+28>>2]=i,_[n+16>>2]=0,_[n+20>>2]=0,s=18212+(i<<2)|0;r:{if((e=1<<i)&c){for(e=r<<(31==(0|i)?0:25-(i>>>1)|0),l=_[s>>2];;){if((-8&_[(i=l)+4>>2])==(0|r))break r;if(s=e>>>29,e<<=1,!(l=_[(s=16+(i+(4&s)|0)|0)>>2]))break}_[s>>2]=n,_[n+24>>2]=i}else _[4478]=e|c,_[s>>2]=n,_[n+24>>2]=s;_[n+12>>2]=n,_[n+8>>2]=n;break i}e=_[i+8>>2],_[e+12>>2]=n,_[i+8>>2]=n,_[n+24>>2]=0,_[n+12>>2]=i,_[n+8>>2]=e}e=a+8|0;break e}t:if(f){r=_[i+28>>2];i:{if(_[(e=18212+(r<<2)|0)>>2]==(0|i)){if(_[e>>2]=a,a)break i;u=17912,d=cs(r)&c,_[u>>2]=d;break t}if(_[(_[f+16>>2]==(0|i)?16:20)+f>>2]=a,!a)break t}_[a+24>>2]=f,(e=_[i+16>>2])&&(_[a+16>>2]=e,_[e+24>>2]=a),(e=_[i+20>>2])&&(_[a+20>>2]=e,_[e+24>>2]=a)}n>>>0<=15?(e=n+l|0,_[i+4>>2]=3|e,_[(e=e+i|0)+4>>2]=1|_[e+4>>2]):(_[i+4>>2]=3|l,_[(a=i+l|0)+4>>2]=1|n,_[n+a>>2]=n,h&&(r=17948+((e=h>>>3)<<3)|0,l=_[4482],(e=1<<e)&s?e=_[r+8>>2]:(_[4477]=e|s,e=r),_[r+8>>2]=l,_[e+12>>2]=l,_[l+12>>2]=r,_[l+8>>2]=e),_[4482]=a,_[4479]=n),e=i+8|0}return z=t+16|0,0|e}function Ka(e){var t=0,i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0;e:if(e|=0){a=(r=e+-8|0)+(e=-8&(i=_[e+-4>>2]))|0;t:if(!(1&i)){if(!(3&i))break e;if((r=r-(i=_[r>>2])|0)>>>0<A[4481])break e;if(e=e+i|0,_[4482]==(0|r)){if(3==(3&(i=_[a+4>>2])))return _[4479]=e,_[a+4>>2]=-2&i,_[r+4>>2]=1|e,void(_[e+r>>2]=e)}else{if(i>>>0<=255){if(n=_[r+8>>2],i>>>=3,(0|(t=_[r+12>>2]))==(0|n)){l=17908,c=_[4477]&cs(i),_[l>>2]=c;break t}_[n+12>>2]=t,_[t+8>>2]=n;break t}if(o=_[r+24>>2],(0|(i=_[r+12>>2]))==(0|r))if((t=_[(n=r+20|0)>>2])||(t=_[(n=r+16|0)>>2])){for(;s=n,(t=_[(n=(i=t)+20|0)>>2])||(n=i+16|0,t=_[i+16>>2]););_[s>>2]=0}else i=0;else t=_[r+8>>2],_[t+12>>2]=i,_[i+8>>2]=t;if(!o)break t;n=_[r+28>>2];i:{if(_[(t=18212+(n<<2)|0)>>2]==(0|r)){if(_[t>>2]=i,i)break i;l=17912,c=_[4478]&cs(n),_[l>>2]=c;break t}if(_[o+(_[o+16>>2]==(0|r)?16:20)>>2]=i,!i)break t}if(_[i+24>>2]=o,(t=_[r+16>>2])&&(_[i+16>>2]=t,_[t+24>>2]=i),!(t=_[r+20>>2]))break t;_[i+20>>2]=t,_[t+24>>2]=i}}if(!(a>>>0<=r>>>0)&&1&(i=_[a+4>>2])){t:{if(!(2&i)){if((0|a)==_[4483]){if(_[4483]=r,e=_[4480]+e|0,_[4480]=e,_[r+4>>2]=1|e,_[4482]!=(0|r))break e;return _[4479]=0,void(_[4482]=0)}if((0|a)==_[4482])return _[4482]=r,e=_[4479]+e|0,_[4479]=e,_[r+4>>2]=1|e,void(_[e+r>>2]=e);e=(-8&i)+e|0;i:if(i>>>0<=255){if(i>>>=3,(0|(t=_[a+8>>2]))==(0|(n=_[a+12>>2]))){l=17908,c=_[4477]&cs(i),_[l>>2]=c;break i}_[t+12>>2]=n,_[n+8>>2]=t}else{if(o=_[a+24>>2],(0|a)==(0|(i=_[a+12>>2])))if((t=_[(n=a+20|0)>>2])||(t=_[(n=a+16|0)>>2])){for(;s=n,(t=_[(n=(i=t)+20|0)>>2])||(n=i+16|0,t=_[i+16>>2]););_[s>>2]=0}else i=0;else t=_[a+8>>2],_[t+12>>2]=i,_[i+8>>2]=t;if(o){n=_[a+28>>2];r:{if((0|a)==_[(t=18212+(n<<2)|0)>>2]){if(_[t>>2]=i,i)break r;l=17912,c=_[4478]&cs(n),_[l>>2]=c;break i}if(_[o+((0|a)==_[o+16>>2]?16:20)>>2]=i,!i)break i}_[i+24>>2]=o,(t=_[a+16>>2])&&(_[i+16>>2]=t,_[t+24>>2]=i),(t=_[a+20>>2])&&(_[i+20>>2]=t,_[t+24>>2]=i)}}if(_[r+4>>2]=1|e,_[e+r>>2]=e,_[4482]!=(0|r))break t;return void(_[4479]=e)}_[a+4>>2]=-2&i,_[r+4>>2]=1|e,_[e+r>>2]=e}if(e>>>0<=255)return i=17948+((e>>>=3)<<3)|0,(t=_[4477])&(e=1<<e)?e=_[i+8>>2]:(_[4477]=e|t,e=i),_[i+8>>2]=r,_[e+12>>2]=r,_[r+12>>2]=i,void(_[r+8>>2]=e);_[r+16>>2]=0,_[r+20>>2]=0,t=0,(n=e>>>8)&&(t=31,e>>>0>16777215||(t=n,t<<=n=n+1048320>>>16&8,t=28+((t=((t<<=o=t+520192>>>16&4)<<(s=t+245760>>>16&2)>>>15)-(s|n|o)|0)<<1|e>>>t+21&1)|0)),_[(i=r)+28>>2]=t,s=18212+(t<<2)|0;t:if((n=_[4478])&(i=1<<t)){n=e<<(31==(0|t)?0:25-(t>>>1)|0),i=_[s>>2];i:{for(;;){if(t=i,(-8&_[i+4>>2])==(0|e))break i;if(i=n>>>29,n<<=1,!(i=_[(s=16+(t+(4&i)|0)|0)>>2]))break}_[s>>2]=r,_[r+12>>2]=r,_[r+24>>2]=t,_[r+8>>2]=r;break t}e=_[t+8>>2],_[e+12>>2]=r,_[t+8>>2]=r,_[r+24>>2]=0,_[r+12>>2]=t,_[r+8>>2]=e}else _[4478]=i|n,_[s>>2]=r,_[r+12>>2]=r,_[r+24>>2]=s,_[r+8>>2]=r;if(e=_[4485]+-1|0,_[4485]=e,!e){for(r=18364;r=(e=_[r>>2])+8|0,e;);_[4485]=-1}}}}function $a(e){var t;return(0|(e=(t=_[4604])+e|0))<=-1?(_[4458]=48,-1):e>>>0<=hs()<<16>>>0||B(0|e)?(_[4604]=e,t):(_[4458]=48,-1)}function es(e,t,i){var r,n=0,a=0;if(i>>>0>=8192)return L(0|e,0|t,0|i),e;r=e+i|0;e:if(3&(e^t))if(r>>>0<4)i=e;else if((n=r+-4|0)>>>0<e>>>0)i=e;else for(i=e;l[0|i]=m[0|t],l[i+1|0]=m[t+1|0],l[i+2|0]=m[t+2|0],l[i+3|0]=m[t+3|0],t=t+4|0,(i=i+4|0)>>>0<=n>>>0;);else{t:if((0|i)<1)i=e;else if(3&e)for(i=e;;){if(l[0|i]=m[0|t],t=t+1|0,(i=i+1|0)>>>0>=r>>>0)break t;if(!(3&i))break}else i=e;if(!((n=-4&r)>>>0<64)&&!(i>>>0>(a=n+-64|0)>>>0))for(;_[i>>2]=_[t>>2],_[i+4>>2]=_[t+4>>2],_[i+8>>2]=_[t+8>>2],_[i+12>>2]=_[t+12>>2],_[i+16>>2]=_[t+16>>2],_[i+20>>2]=_[t+20>>2],_[i+24>>2]=_[t+24>>2],_[i+28>>2]=_[t+28>>2],_[i+32>>2]=_[t+32>>2],_[i+36>>2]=_[t+36>>2],_[i+40>>2]=_[t+40>>2],_[i+44>>2]=_[t+44>>2],_[i+48>>2]=_[t+48>>2],_[i+52>>2]=_[t+52>>2],_[i+56>>2]=_[t+56>>2],_[i+60>>2]=_[t+60>>2],t=t- -64|0,(i=i- -64|0)>>>0<=a>>>0;);if(i>>>0>=n>>>0)break e;for(;_[i>>2]=_[t>>2],t=t+4|0,(i=i+4|0)>>>0<n>>>0;);}if(i>>>0<r>>>0)for(;l[0|i]=m[0|t],t=t+1|0,(0|r)!=(0|(i=i+1|0)););return e}function ts(e,t,i){var r=0,n=0,a=0,s=0;if(i&&(l[(r=e+i|0)+-1|0]=t,l[0|e]=t,!(i>>>0<3)&&(l[r+-2|0]=t,l[e+1|0]=t,l[r+-3|0]=t,l[e+2|0]=t,!(i>>>0<7)&&(l[r+-4|0]=t,l[e+3|0]=t,!(i>>>0<9)&&(n=(r=0-e&3)+e|0,t=g(255&t,16843009),_[n>>2]=t,_[(r=(i=i-r&-4)+n|0)+-4>>2]=t,!(i>>>0<9)&&(_[n+8>>2]=t,_[n+4>>2]=t,_[r+-8>>2]=t,_[r+-12>>2]=t,!(i>>>0<25)&&(_[n+24>>2]=t,_[n+20>>2]=t,_[n+16>>2]=t,_[n+12>>2]=t,_[r+-16>>2]=t,_[r+-20>>2]=t,_[r+-24>>2]=t,_[r+-28>>2]=t,!((i=i-(s=4&n|24)|0)>>>0<32))))))))for(r=t,a=t,t=n+s|0;_[t+24>>2]=a,_[t+28>>2]=r,_[t+16>>2]=a,_[t+20>>2]=r,_[t+8>>2]=a,_[t+12>>2]=r,_[t>>2]=a,_[t+4>>2]=r,t=t+32|0,(i=i+-32|0)>>>0>31;);return e}function is(e,t,i){var r=0,n=0;e:if((0|e)!=(0|t)){if(!(t+i>>>0>e>>>0&&(n=e+i|0)>>>0>t>>>0))return es(e,t,i);if(r=3&(e^t),e>>>0<t>>>0){if(r)r=e;else{if(3&e)for(r=e;;){if(!i)break e;if(l[0|r]=m[0|t],t=t+1|0,i=i+-1|0,!(3&(r=r+1|0)))break}else r=e;if(!(i>>>0<=3)){for(n=i;_[r>>2]=_[t>>2],t=t+4|0,r=r+4|0,(n=n+-4|0)>>>0>3;);i&=3}}if(i)for(;l[0|r]=m[0|t],r=r+1|0,t=t+1|0,i=i+-1|0;);}else{if(!r){if(3&n)for(;;){if(!i)break e;if(l[0|(r=(i=i+-1|0)+e|0)]=m[t+i|0],!(3&r))break}if(!(i>>>0<=3))for(;_[(i=i+-4|0)+e>>2]=_[t+i>>2],i>>>0>3;);}if(!i)break e;for(;l[(i=i+-1|0)+e|0]=m[t+i|0],i;);}}return e}function rs(e,t){var i,r;i=0|e,r=0|t,s[0]=i,s[1]=r}function ns(e,t,i,r){var n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0;e:{t:{i:{r:{n:{a:{s:{o:{l:{c:{if(s=t){if(!(n=i))break c;if(!(a=r))break l;if((a=S(a)-S(s)|0)>>>0<=31)break o;break t}if(1==(0|r)&i>>>0>=0|r>>>0>1)break t;return rs(e-g(t=(e>>>0)/(i>>>0)|0,i)|0,0),j=0,t}if(n=r,!e)break s;if(!n)break a;if((a=n+-1|0)&n)break a;return rs(e,a&s),e=s>>>(31&fs(n)),j=0,e}if(!((a=n+-1|0)&n))break n;o=0-(c=(S(n)+33|0)-S(s)|0)|0;break i}c=a+1|0,o=63-a|0;break i}return rs(0,s-g(e=(s>>>0)/(n>>>0)|0,n)|0),j=0,e}if((a=S(n)-S(s)|0)>>>0<31)break r;break t}if(rs(e&a,0),1==(0|n))break e;return i=e,r=31&(e=fs(n)),32<=(63&e)>>>0?(a=0,e=t>>>r):(a=t>>>r,e=((1<<r)-1&t)<<32-r|i>>>r),j=a,e}c=a+1|0,o=63-a|0}if(n=t,s=e,l=31&(a=63&c),32<=(63&a)>>>0?(a=0,h=n>>>l):(a=n>>>l,h=((1<<l)-1&n)<<32-l|s>>>l),o=31&(e=63&o),32<=(63&e)>>>0?(n=s<<o,e=0):(n=(1<<o)-1&s>>>32-o|t<<o,e=s<<o),t=n,c)for(s=r+-1|0,(n=i+-1|0)>>>0<4294967295&&(s=s+1|0),o=n;u=f=a=a<<1|(n=h)>>>31,n=(l=s-((o>>>0<(a=t>>>31|(n<<=1))>>>0)+(n=f)|0)|0)>>31,h=(f=a)-(a=i&(l>>=31))|0,a=u-((r&n)+(f>>>0<a>>>0)|0)|0,n=t<<1|e>>>31,e=d|e<<1,t=0|n,u=n=0,d=f=1&l,c=c+-1|0;);return rs(h,a),j=(n=t<<1|e>>>31)|u,e=f|e<<1}rs(e,t),e=0,t=0}return j=t,e}function as(e,t,i,r){return e=function(e,t,i,r){var n,a,s,o,l=0,c=0;return o=g(l=i>>>16,c=e>>>16),l=(65535&(c=((s=g(n=65535&i,a=65535&e))>>>16)+g(c,n)|0))+g(l,a)|0,e=(((g(t,i)+o|0)+g(e,r)|0)+(c>>>16)|0)+(l>>>16)|0,j=e,t=65535&s|l<<16}(e,t,i,r)}function ss(e,t,i,r){return e=function(e,t,i,r){var n,a,s=0,o=0;return o=(s=t)>>31,n=(e^=s>>=31)-s|0,a=(t^o)-((e>>>0<s>>>0)+o|0)|0,o=(s=r)>>31,s=os(n,a,(e=i^(s>>=31))-s|0,(r^o)-((e>>>0<s>>>0)+o|0)|0),j=((i=(t^=r)>>31)^j)-(((t=s^(e=t>>31))>>>0<e>>>0)+i|0)|0,r=t-e|0}(e,t,i,r)}function os(e,t,i,r){return e=ns(e,t,i,r)}function ls(e){for(var t=0,i=0;i=t,e;)e&=e-1,t=t+1|0;return i}function cs(e){var t;return(-1>>>(t=31&e)&-2)<<t|(-1<<(e=0-e&31)&-2)>>>e}function fs(e){return e?31-S(e+-1^e)|0:32}function hs(){return r.byteLength/65536|0}return a[1]=Ya,a[2]=nt,a[3]=at,a[4]=st,a[5]=function(e,t){e|=0;var i=0;return!(t=_[(t|=0)+88>>2])|2!=_[t>>2]||(i=e,e=_[t+8>>2],_[i+4>>2]=m[0|e]|m[e+1|0]<<8|m[e+2|0]<<16|m[e+3|0]<<24,i=1),0|i},a[6]=function(e,t){e|=0;var i,r=0;_[(t|=0)>>2]=2,r=_[t+8>>2],(i=_[t+12>>2]-r|0)>>>0<=4294967291&&($r(t=t+8|0,i+4|0),r=_[t>>2]),t=r+i|0,e=m[e+4|0]|m[e+5|0]<<8|m[e+6|0]<<16|m[e+7|0]<<24,l[0|t]=e,l[t+1|0]=e>>>8,l[t+2|0]=e>>>16,l[t+3|0]=e>>>24},a[7]=function(e){var t;return _[(e|=0)>>2]=1232,(t=_[e+8>>2])&&(_[e+12>>2]=t,Ka(t)),0|e},a[8]=function(e){var t;_[(e|=0)>>2]=1232,(t=_[e+8>>2])&&(_[e+12>>2]=t,Ka(t)),Ka(e)},a[9]=ct,a[10]=function(e,t){e|=0;var i=0,r=0,n=0,a=0,s=0,o=0;if(!(!(n=_[(t|=0)+88>>2])|1!=_[n>>2])){if(i=n=_[(a=n+8|0)>>2],_[e+4>>2]=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,s=e+8|0,o=_[e+8>>2],(r=_[e+12>>2]-o>>2)>>>0<(i=l[t+24|0])>>>0?(de(s,i-r|0),n=_[a>>2],i=m[t+24|0]):r>>>0<=i>>>0||(_[e+12>>2]=o+(i<<2)),a=1,r=m[(t=n)+4|0]|m[t+5|0]<<8|m[t+6|0]<<16|m[t+7|0]<<24,i<<24>>24>=1)for(o=255&i,s=_[s>>2],t=0,i=4;_[s+(t<<2)>>2]=r,r=m[0|(r=n+(i=i+4|0)|0)]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,(t=t+1|0)>>>0<o>>>0;);_[e+20>>2]=r}return 0|a},a[11]=function(e,t){e|=0;var i,r=0,n=0,a=0,s=0,o=0;if(_[(t|=0)>>2]=1,i=t+8|0,r=_[t+8>>2],(n=_[t+12>>2]-r|0)>>>0<=4294967291&&($r(i,n+4|0),r=_[i>>2]),n=r+n|0,r=m[e+4|0]|m[e+5|0]<<8|m[e+6|0]<<16|m[e+7|0]<<24,l[0|n]=r,l[n+1|0]=r>>>8,l[n+2|0]=r>>>16,l[n+3|0]=r>>>24,(0|(r=_[e+8>>2]))!=_[e+12>>2])for(o=t+12|0;n=(s<<2)+r|0,r=_[t+8>>2],(a=_[o>>2]-r|0)>>>0<=4294967291&&($r(i,a+4|0),r=_[i>>2]),a=r+a|0,r=m[0|n]|m[n+1|0]<<8|m[n+2|0]<<16|m[n+3|0]<<24,l[0|a]=r,l[a+1|0]=r>>>8,l[a+2|0]=r>>>16,l[a+3|0]=r>>>24,s=s+1|0,r=_[e+8>>2],s>>>0<_[e+12>>2]-r>>2>>>0;);(r=(r=_[t+12>>2])-(t=_[t+8>>2])|0)>>>0<=4294967291&&($r(i,r+4|0),t=_[i>>2]),t=t+r|0,e=m[e+20|0]|m[e+21|0]<<8|m[e+22|0]<<16|m[e+23|0]<<24,l[0|t]=e,l[t+1|0]=e>>>8,l[t+2|0]=e>>>16,l[t+3|0]=e>>>24},a[12]=function(e){var t=0;return _[(e|=0)>>2]=1384,(t=_[e+16>>2])&&(_[e+20>>2]=t,Ka(t)),(t=_[e+4>>2])&&(_[e+8>>2]=t,Ka(t)),0|e},a[13]=xt,a[14]=function(e,t,i){return t|=0,i|=0,_[(e|=0)+32>>2]=i,_[e+28>>2]=t,1},a[15]=yt,a[16]=function(e,t){t|=0;var i=0;return a[_[_[(e|=0)>>2]+36>>2]](e,t)&&a[_[_[e>>2]+40>>2]](e,t)&&(i=0|a[_[_[e>>2]+44>>2]](e)),0|i},a[17]=function(e,t){return t|=0,_[_[(e|=0)+4>>2]+(t<<2)>>2]},a[18]=function(e){return _[(e|=0)+8>>2]-_[e+4>>2]>>2},a[19]=He,a[20]=St,a[21]=function(){Ha(),P()},a[22]=Tt,a[23]=ct,a[24]=Xt,a[25]=function(e){Ka(Xt(e|=0))},a[26]=function(e,t){e|=0;var i,r=0,n=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,p=0,v=0,y=0,k=0,x=0,S=0;z=i=z-704|0,n=1;e:{if(!(b[(t|=0)+38>>1]<515)&&(n=0,s=_[t+16>>2],!((0|(f=_[t+12>>2]))<(0|(r=_[t+20>>2]))||(0|f)<=(0|r)&&!(A[t+8>>2]>s>>>0)))){if(u=m[s+_[t>>2]|0],(s=s+1|0)>>>0<1&&(r=r+1|0),_[t+16>>2]=s,_[t+20>>2]=r,d=_[_[4+(0|a[_[_[e>>2]+28>>2]](e))>>2]+80>>2],r=0|a[_[_[e>>2]+24>>2]](e),_[i+696>>2]=0,_[i+688>>2]=0,_[i+692>>2]=0,r){if(r>>>0>=214748365)break e;for(n=Fa(s=g(r,20)),_[i+688>>2]=n,_[i+692>>2]=n,_[i+696>>2]=n+s,ts(n,0,s);n=n+20|0,r=r+-1|0;);_[i+692>>2]=n}y=e+48|0,k=e+60|0,x=e+56|0,p=e+52|0,S=e+68|0,f=e- -64|0;t:{for(;(0|h)<(0|a[_[_[e>>2]+24>>2]](e));){if(r=0|a[_[_[e>>2]+20>>2]](e,h),mt(s=_[_[_[4+(0|a[_[_[e>>2]+28>>2]](e))>>2]+8>>2]+(r<<2)>>2],d),l[s+84|0]=1,_[s+72>>2]=_[s+68>>2],n=0,(r=_[s+28>>2])>>>0>9)break t;i:{r:{n:{if(!(42&(o=1<<r))){if(84&o)break i;if(9!=(0|r))break t;if(r=l[s+24|0],dt(n=ut(i),o=_[s+56>>2],s=r,6,0,r=g(an(6),r),r>>31),_t(r=Fa(96),n),_[i+656>>2]=r,l[r+84|0]=1,_[r+72>>2]=_[r+68>>2],mt(r,d),(r=_[f>>2])>>>0>=A[S>>2])break n;n=_[i+656>>2],_[i+656>>2]=0,_[r>>2]=n,r=r+4|0,_[f>>2]=r;break r}if(r=0,l[0|(o=s+24|0)]<=0)break i;for(;_[i>>2]=0,(n=_[p>>2])>>>0<A[x>>2]?(_[n>>2]=0,_[p>>2]=n+4):se(y,i),(0|(r=r+1|0))<l[0|o];);break i}wt(k,i+656|0),r=_[f>>2]}s=_[r+-4>>2],r=_[i+656>>2],_[i+656>>2]=0,r&&Ye(r)}n=an(o=_[s+28>>2]),r=_[i+688>>2]+g(h,20)|0,v=l[s+24|0],_[r+16>>2]=v,_[r+12>>2]=(0|n)>0?n:0,_[r+8>>2]=o,_[r+4>>2]=c,_[r>>2]=s,h=h+1|0,c=c+v|0}n=0,e=Et(i+656|0,i+688|0);i:if(!(u>>>0>6)){r:{n:switch(u-1|0){default:if(t=Mt(r=Rt(i,c),t,e),Pt(r),t)break r;break i;case 0:if(t=Ct(r=Rt(i,c),t,e),Pt(r),t)break r;break i;case 1:if(t=Ot(r=Dt(i,c),t,e),It(r),t)break r;break i;case 2:if(t=Ft(r=Dt(i,c),t,e),It(r),t)break r;break i;case 3:if(t=Nt(r=Lt(i,c),t,e),Bt(r),t)break r;break i;case 4:if(t=Ut(r=Lt(i,c),t,e),Bt(r),t)break r;break i;case 5:break n}if(t=Vt(r=Lt(i,c),t,e),Bt(r),!t)break i}n=1}(t=_[e+16>>2])&&(_[e+20>>2]=t,Ka(t)),(t=_[e>>2])&&(_[e+4>>2]=t,Ka(t))}(e=_[i+688>>2])&&(_[i+692>>2]=e,Ka(e))}return z=i+704|0,0|n}Wa(),P()},a[27]=function(e,t){e|=0;var i,r=0,n=0,s=0,c=0,h=0,u=0,d=0,p=0,y=0,x=0,S=0,T=0,w=0,E=0,M=0,R=0,C=0,O=0;z=i=z-720|0;e:{t:{i:{r:{if(b[(t|=0)+38>>1]>=515)for(_[i+680>>2]=0,_[i+672>>2]=0,_[i+676>>2]=0,S=e+36|0,y=i+24|0,p=e+40|0,T=e+60|0,E=e+44|0;;){if((0|c)>=(0|a[_[_[e>>2]+24>>2]](e))){if(M=1,_[(r=e+52|0)>>2]==_[e+48>>2])break t;for(c=0;jt(1,i+16|0,t)&&(h=0-(1&(n=_[i+16>>2]))^n>>>1),n=_[e+48>>2],_[n+(c<<2)>>2]=h,(c=c+1|0)>>>0<_[r>>2]-n>>2>>>0;);break t}if(r=0|a[_[_[e>>2]+20>>2]](e,c),n=_[_[_[4+(0|a[_[_[e>>2]+28>>2]](e))>>2]+8>>2]+(r<<2)>>2],9==_[n+28>>2]){if(s=_[i+672>>2],(r=_[i+676>>2]-s>>2)>>>0<(u=l[n+24|0])>>>0?de(i+672|0,u-r|0):r>>>0<=u>>>0||(_[i+676>>2]=s+(u<<2)),r=_[t+12>>2],n=_[t+20>>2],(w=(h=_[t+16>>2])+(s=d=u<<2)|0)>>>0<s>>>0&&(n=n+1|0),(0|r)<(0|n)||(0|r)<=(0|n)&&!(A[t+8>>2]>=w>>>0))break t;if(es(_[i+672>>2],h+_[t>>2]|0,d),r=_[t+20>>2],(h=s+_[t+16>>2]|0)>>>0<s>>>0&&(r=r+1|0),_[t+16>>2]=h,_[t+20>>2]=r,x=s=_[t+12>>2],n=r,(d=h+4|0)>>>0<4&&(n=n+1|0),w=_[t+8>>2],(0|s)<(0|n)||(0|s)<=(0|n)&&!(w>>>0>=d>>>0))break t;if(R=_[t>>2],s=m[0|(s=R+h|0)]|m[s+1|0]<<8|m[s+2|0]<<16|m[s+3|0]<<24,_[t+16>>2]=d,_[t+20>>2]=n,(0|x)<(0|n)||(0|x)<=(0|n)&&!(w>>>0>d>>>0))break t;if(d=m[d+R|0],n=r,(r=h+5|0)>>>0<5&&(n=n+1|0),_[t+16>>2]=r,_[t+20>>2]=n,d>>>0>31)break t;if(_[i+20>>2]=-1,_[i+16>>2]=1232,_[(r=y)+8>>2]=0,_[r+12>>2]=0,_[r>>2]=0,_[r+4>>2]=0,ot(i+16|0,d,_[i+672>>2],u,(f(0,s),o[0])),r=1,ft(i+16|0,_[_[T>>2]+((_[p>>2]-_[e+36>>2]|0)/24<<2)>>2])){if((0|(r=_[p>>2]))==_[E>>2])Wt(S,i+16|0);else{if(_[r>>2]=1232,n=_[i+20>>2],_[(s=r+16|0)>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,_[r+4>>2]=n,n=_[i+28>>2]-_[i+24>>2]|0){if((u=n>>2)>>>0>=1073741824)break r;n=Fa(n),_[r+8>>2]=n,_[(h=r+12|0)>>2]=n,_[s>>2]=n+(u<<2),u=_[i+24>>2],(0|(s=_[i+28>>2]-u|0))<1||(C=h,O=es(n,u,s)+s|0,_[C>>2]=O)}_[r+20>>2]=_[i+36>>2],_[p>>2]=_[p>>2]+24}r=0}if(_[i+16>>2]=1232,(h=_[i+24>>2])&&(_[i+28>>2]=h,Ka(h)),r)break t}c=c+1|0}y=0|a[_[_[e>>2]+24>>2]](e),_[i+712>>2]=0,_[i+704>>2]=0,_[i+708>>2]=0;n:{if(y){if(y>>>0>=214748365)break i;for(c=Fa(r=g(y,20)),_[i+704>>2]=c,_[i+708>>2]=c,_[i+712>>2]=r+c,ts(c,0,r),r=y;c=c+20|0,r=r+-1|0;);if(_[i+708>>2]=c,c=_[_[e>>2]+20>>2],y)for(r=0;;){if(n=0|a[c](e,r),s=_[_[_[4+(0|a[_[_[e>>2]+28>>2]](e))>>2]+8>>2]+(n<<2)>>2],(u=(0|(n=an(c=_[s+28>>2])))>0?n:0)>>>0>4)break n;if(n=_[i+704>>2]+g(r,20)|0,p=l[s+24|0],_[n+16>>2]=p,_[n+12>>2]=u,_[n+8>>2]=c,_[n+4>>2]=h,_[n>>2]=s,h=h+p|0,c=_[_[e>>2]+20>>2],(0|y)==(0|(r=r+1|0)))break}}else c=_[_[e>>2]+20>>2];if(r=0|a[c](e,0),S=_[_[_[4+(0|a[_[_[e>>2]+28>>2]](e))>>2]+8>>2]+(r<<2)>>2],l[S+84|0]=1,_[S+72>>2]=_[S+68>>2],d=_[t+8>>2],p=_[t+16>>2],!((0|(r=s=_[t+12>>2]))<(0|(n=_[t+20>>2]))||(0|r)<=(0|n)&&!(d>>>0>p>>>0))&&(T=_[t>>2],E=m[T+p|0],r=n,(c=p+1|0)>>>0<1&&(r=r+1|0),x=c,c=r,_[(u=t)+16>>2]=x,_[u+20>>2]=r,!(E>>>0>1))){a:{if(E-1){if((0|s)<(0|c)||(0|s)<=(0|c)&&!(d>>>0>x>>>0))break n;if(e=n,(y=p+2|0)>>>0<2&&(e=e+1|0),_[(r=t)+16>>2]=y,_[r+20>>2]=e,(e=p+6|0)>>>0<6&&(n=n+1|0),c=e,(0|s)<(0|(e=n))||(0|s)<=(0|e)&&!(d>>>0>=c>>>0))break n;if(r=m[0|(r=y+T|0)]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[t+16>>2]=c,_[t+20>>2]=e,mt(S,r),_[(e=i+672|0)+20>>2]=0,_[e+12>>2]=0,_[e+16>>2]=0,_[e>>2]=0,_[e+4>>2]=0,_[e+20>>2]=r,r=function(e,t,i){var r,n,a,s,o,c=0,f=0,h=0,u=0,d=0;z=r=z-32|0,_[r+24>>2]=0,_[r+16>>2]=0,_[r+20>>2]=0,n=_[t+12>>2],f=n,h=_[t+20>>2],u=h,a=_[t+16>>2],(c=a+4|0)>>>0<4&&(h=h+1|0);o=_[t+8>>2],s=c;s:if(!((0|f)<(0|h)||(0|f)<=(0|h)&&!(o>>>0>=c>>>0))){f=_[t>>2],c=m[0|(c=a+f|0)]|m[c+1|0]<<8|m[c+2|0]<<16|m[c+3|0]<<24,_[t+16>>2]=s,_[t+20>>2]=h;o:{l:{if((c=c+-2|0)>>>0<=1){if(c-1)break l;if((0|n)<(0|h)||(0|n)<=(0|h)&&!(o>>>0>s>>>0))break s;if(f=l[f+s|0],(c=a+5|0)>>>0<5&&(u=u+1|0),_[t+16>>2]=c,_[t+20>>2]=u,_[e+8>>2]=f,1==(0|f)){if(Wn(e,t,r+16|0))break o;break s}Xn(1848,23,_[3794]);break s}Xn(1872,24,_[3794]);break s}if(!Wn(e,t,r+16|0))break s}_[r+8>>2]=_[r+16>>2],_[r>>2]=_[r+20>>2],function(e,t,i,r){var n,a,s=0,o=0,l=k(0),c=0,f=0,h=0;if(z=n=z-32|0,s=_[i>>2],l=v[i+4>>2],fn(a=cn(n+24|0),l,s=-1<<s^-1),(0|(i=_[e>>2]))!=_[t>>2])for(e=_[r+28>>2],f=r+16|0;o=_[i>>2],c=_[i+4>>2],l=v[a>>2],v[n+16>>2]=l*k(_[i+8>>2]-s|0),v[n+12>>2]=l*k(c-s|0),v[n+8>>2]=l*k(o-s|0),c=_[f>>2],o=_[c>>2],m[o+84|0]||(e=_[_[o+68>>2]+(e<<2)>>2]),h=e,e=_[o+40>>2],es(_[_[o>>2]>>2]+g(h,e)|0,(n+8|0)+(_[c+4>>2]<<2)|0,e),e=_[r+28>>2]+1|0,_[r+28>>2]=e,(0|(i=i+12|0))!=_[t>>2];);z=n+32|0}(r+8|0,r,e,i),d=1}(e=_[r+16>>2])&&(_[r+20>>2]=e,Ka(e));return z=r+32|0,d}(r=e,t,e=Et(i+16|0,i+704|0)),(t=_[e+16>>2])&&(_[e+20>>2]=t,Ka(t)),(t=_[e>>2])&&(_[e+4>>2]=t,Ka(t)),r)break a;break n}if((0|s)<(0|c)||(0|s)<=(0|c)&&!(d>>>0>x>>>0))break n;if(u=m[x+T|0],r=n,(x=p+2|0)>>>0<2&&(r=r+1|0),_[t+16>>2]=x,_[t+20>>2]=r,u>>>0>=7){_[i>>2]=u,aa(1644,i);break n}if((r=p+6|0)>>>0<6&&(n=n+1|0),c=r,(0|s)<(0|(r=n))||(0|s)<=(0|r)&&!(d>>>0>=c>>>0))break n;if(s=m[0|(n=x+T|0)]|m[n+1|0]<<8|m[n+2|0]<<16|m[n+3|0]<<24,_[t+16>>2]=c,_[t+20>>2]=r,y)for(r=0;n=0|a[_[_[e>>2]+20>>2]](e,r),mt(n=_[_[_[4+(0|a[_[_[e>>2]+28>>2]](e))>>2]+8>>2]+(n<<2)>>2],s),l[n+84|0]=1,_[n+72>>2]=_[n+68>>2],(0|y)!=(0|(r=r+1|0)););c=1,e=Et(i+672|0,i+704|0);s:if(!(u>>>0>6)){o:{l:switch(u-1|0){default:if(t=Mt(r=Rt(i+16|0,h),t,e),Pt(r),t)break o;break s;case 0:if(t=Ct(r=Rt(i+16|0,h),t,e),Pt(r),t)break o;break s;case 1:if(t=Ot(r=Dt(i+16|0,h),t,e),It(r),t)break o;break s;case 2:if(t=Ft(r=Dt(i+16|0,h),t,e),It(r),t)break o;break s;case 3:if(t=Nt(r=Lt(i+16|0,h),t,e),Bt(r),t)break o;break s;case 4:if(t=Ut(r=Lt(i+16|0,h),t,e),Bt(r),t)break o;break s;case 5:break l}if(t=Vt(r=Lt(i+16|0,h),t,e),Bt(r),!t)break s}c=0}if((t=_[e+16>>2])&&(_[e+20>>2]=t,Ka(t)),(t=_[e>>2])&&(_[e+4>>2]=t,Ka(t)),c)break n}M=1}}if(!(e=_[i+704>>2]))break e;_[i+708>>2]=e,Ka(e);break e}Wa(),P()}Wa(),P()}(e=_[i+672>>2])&&(_[i+676>>2]=e,Ka(e))}return z=i+720|0,0|M},a[28]=function(e){e|=0;var t,i=0,r=0,n=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,p=0,b=0,y=0,x=0,S=0,T=0,w=0,E=0,M=k(0);z=t=z-32|0;e:{t:{i:if(_[e+60>>2]!=_[e- -64>>2]|_[e+48>>2]!=_[e+52>>2]){if(i=1,!((0|a[_[_[e>>2]+24>>2]](e))<1)){x=e+60|0,S=e+36|0;r:{for(;;){n:{i=0|a[_[_[e>>2]+20>>2]](e,b),o=_[_[_[4+(0|a[_[_[e>>2]+28>>2]](e))>>2]+8>>2]+(i<<2)>>2];a:if(!((i=_[(f=o+28|0)>>2]+-1|0)>>>0>8)){s:switch(i-1|0){default:if(i=l[0|(n=o+24|0)],r=0,_[t+24>>2]=0,_[t+16>>2]=0,_[t+20>>2]=0,i){if((0|i)<=-1)break t;r=Fa(i<<=2),_[t+16>>2]=r,s=i+r|0,_[t+24>>2]=s,ts(r,0,i),_[t+20>>2]=s,r=m[0|n]}if(_[t+8>>2]=0,_[t>>2]=0,_[t+4>>2]=0,255&r){if((0|(i=r<<24>>24))<=-1)break e;r=Fa(i<<=2),_[t>>2]=r,s=i+r|0,_[t+8>>2]=s,ts(r,0,i),_[t+4>>2]=s}o:{l:if(!((i=_[f>>2]+-1|0)>>>0>4)){c:switch(i-1|0){case 3:if(i=1,Gt(e,o,p))break l;break o;case 1:if(i=1,Ht(e,o,p))break l;break o;case 0:case 2:break l;default:break c}if(i=1,!Yt(e,o,p))break o}p=l[0|n]+p|0,i=0}if((n=_[t>>2])&&(_[t+4>>2]=n,Ka(n)),(n=_[t+16>>2])&&(_[t+20>>2]=n,Ka(n)),!i)break a;break r;case 0:case 2:case 4:case 5:case 6:break a;case 7:break s}f=_[_[x>>2]+(c<<2)>>2],d=_[S>>2],i=0|a[_[_[e>>2]+28>>2]](e),s=_[o+56>>2],h=_[i+40>>2],i=Fa(32),_[t+16>>2]=i,_[t+20>>2]=24,_[t+24>>2]=-2147483616,l[i+24|0]=0,n=m[1726]|m[1727]<<8|m[1728]<<16|m[1729]<<24,r=m[1722]|m[1723]<<8|m[1724]<<16|m[1725]<<24,l[i+16|0]=r,l[i+17|0]=r>>>8,l[i+18|0]=r>>>16,l[i+19|0]=r>>>24,l[i+20|0]=n,l[i+21|0]=n>>>8,l[i+22|0]=n>>>16,l[i+23|0]=n>>>24,n=m[1718]|m[1719]<<8|m[1720]<<16|m[1721]<<24,r=m[1714]|m[1715]<<8|m[1716]<<16|m[1717]<<24,l[i+8|0]=r,l[i+9|0]=r>>>8,l[i+10|0]=r>>>16,l[i+11|0]=r>>>24,l[i+12|0]=n,l[i+13|0]=n>>>8,l[i+14|0]=n>>>16,l[i+15|0]=n>>>24,n=m[1710]|m[1711]<<8|m[1712]<<16|m[1713]<<24,r=m[1706]|m[1707]<<8|m[1708]<<16|m[1709]<<24,l[0|i]=r,l[i+1|0]=r>>>8,l[i+2|0]=r>>>16,l[i+3|0]=r>>>24,l[i+4|0]=n,l[i+5|0]=n>>>8,l[i+6|0]=n>>>16,l[i+7|0]=n>>>24;s:{if(i=_[(r=n=h+16|0)>>2]){for(;r=(u=_[i+16>>2]<(0|s))?r:i,i=_[(u<<2)+i>>2];);if(!((0|r)==(0|n)|(0|s)<_[r+16>>2])&&G(i=r+20|0,t+16|0)){i=ln(i,t+16|0);break s}}i=ln(h,t+16|0)}if(l[t+27|0]<=-1&&Ka(_[t+16>>2]),n=c+1|0,i)bt(o,f);else{if(i=d+g(c,24)|0,r=_[i+4>>2],d=(c=l[o+24|0])<<2,s=Fa((0|c)!=(1073741823&c)?-1:d),!fn(cn(t+16|0),v[i+20>>2],-1<<r^-1))break n;if(_[f+80>>2])for(T=_[_[f>>2]>>2]+_[f+48>>2]|0,w=i+8|0,u=0,h=0,r=0;;){if((0|c)>=1)for(E=_[w>>2],i=0,M=v[t+16>>2];v[(y=i<<2)+s>>2]=k(M*k(_[T+(r<<2)>>2]))+v[E+y>>2],r=r+1|0,(0|c)!=(0|(i=i+1|0)););if(es(_[_[o- -64>>2]>>2]+h|0,s,d),h=h+d|0,!((u=u+1|0)>>>0<A[f+80>>2]))break}Ka(s)}c=n}if(i=1,(0|(b=b+1|0))<(0|a[_[_[e>>2]+24>>2]](e)))continue;break i}break}Ka(s)}i=0}}else i=1;return z=t+32|0,0|i}Wa(),P()}Wa(),P()},a[29]=function(e){var t;return _[(e|=0)>>2]=1908,t=_[e+16>>2],_[e+16>>2]=0,t&&Ye(t),0|e},a[30]=function(e){var t;_[(e|=0)>>2]=1908,t=_[e+16>>2],_[e+16>>2]=0,t&&Ye(t),Ka(e)},a[31]=$t,a[32]=function(e,t){return t|=0,_[(e|=0)+12>>2]=-1,_[e+8>>2]=t,1},a[33]=function(e,t,i){t|=0,i|=0;var r,n=0;return r=_[(e|=0)+8>>2],l[r+24|0]<1||mt(r,_[t+4>>2]-_[t>>2]>>2)&&(n=0|a[_[_[e>>2]+32>>2]](e,t,i)),0|n},a[34]=function(e,t,i){return 0,0,0,1},a[35]=Tt,a[36]=function(e,t){e|=0;var i=0,r=0,n=0;if((0|a[_[_[(t|=0)>>2]+20>>2]](t))>=1)for(;;){if(-1==(0|(i=Fn(_[_[e+4>>2]+4>>2],0|a[_[_[t>>2]+24>>2]](t,r)))))return 0;e:{if(n=_[e+4>>2],m[n+36|0]<=1){if(a[_[_[t>>2]+28>>2]](t,_[_[_[n+4>>2]+8>>2]+(i<<2)>>2]))break e;return 0}if(!(i=Qr(n,i)))return 0;if(!a[_[_[t>>2]+28>>2]](t,i))return 0}if(!((0|(r=r+1|0))<(0|a[_[_[t>>2]+20>>2]](t))))break}return 1},a[37]=function(e,t,i){e|=0,i|=0;var r,n,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0;if(a=_[(t|=0)+4>>2],s=_[t>>2],r=t=_[_[e+8>>2]+40>>2],n=Fa((0|t)>-1?t:-1),(0|(a=a-s|0))>=1)for(u=a>>2;;){if(l=_[i+12>>2],a=0+_[i+20>>2]|0,(o=t+(c=_[i+16>>2])|0)>>>0<t>>>0&&(a=a+1|0),s=a,(0|l)<(0|a)||(0|l)<=(0|a)&&!(A[i+8>>2]>=o>>>0))return Ka(n),0;if(a=es(n,c+_[i>>2]|0,r),_[i+16>>2]=o,_[i+20>>2]=s,es(_[_[_[e+8>>2]- -64>>2]>>2]+f|0,a,r),f=r+f|0,!((0|(h=h+1|0))<(0|u)))break}return Ka(n),1},a[38]=function(e){var t=0,i=0,r=0,n=0,s=0;if(_[(e|=0)>>2]=2004,i=_[(t=e+60|0)>>2],_[t>>2]=0,i&&a[_[_[i>>2]+4>>2]](i),(t=_[e+48>>2])&&(_[e+52>>2]=t,Ka(t)),i=_[e+36>>2]){if(n=t=i,(0|t)!=(0|(r=_[(s=e+40|0)>>2]))){for(;t=_[(r=r+-4|0)>>2],_[r>>2]=0,t&&a[_[_[t>>2]+4>>2]](t),(0|i)!=(0|r););n=_[e+36>>2]}t=n,_[s>>2]=i,Ka(t)}return _[e>>2]=1384,(t=_[e+16>>2])&&(_[e+20>>2]=t,Ka(t)),(t=_[e+4>>2])&&(_[e+8>>2]=t,Ka(t)),0|e},a[39]=function(e){var t=0,i=0,r=0,n=0,s=0;if(_[(e|=0)>>2]=2004,i=_[(t=e+60|0)>>2],_[t>>2]=0,i&&a[_[_[i>>2]+4>>2]](i),(t=_[e+48>>2])&&(_[e+52>>2]=t,Ka(t)),i=_[e+36>>2]){if(n=t=i,(0|t)!=(0|(r=_[(s=e+40|0)>>2]))){for(;t=_[(r=r+-4|0)>>2],_[r>>2]=0,t&&a[_[_[t>>2]+4>>2]](t),(0|i)!=(0|r););n=_[e+36>>2]}t=n,_[s>>2]=i,Ka(t)}_[e>>2]=1384,(t=_[e+16>>2])&&(_[e+20>>2]=t,Ka(t)),(t=_[e+4>>2])&&(_[e+8>>2]=t,Ka(t)),Ka(e)},a[40]=function(e,t){var i,r=0,n=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,b=0;z=i=z-16|0;e:if(yt(e|=0,t|=0)){if(h=e+36|0,(l=0|a[_[_[e>>2]+24>>2]](e))>>>0>(r=(s=_[e+40>>2])-(n=_[e+36>>2])>>2)>>>0)!function(e,t){var i=0,r=0,n=0,s=0,o=0,l=0,c=0,f=0,h=0;if(r=_[e+8>>2],i=_[(n=e+4|0)>>2],r-i>>2>>>0>=t>>>0)return f=n,h=ts(i,0,e=t<<2)+e|0,void(_[f>>2]=h);t:{if(n=_[e>>2],(o=(s=i-n>>2)+t|0)>>>0<1073741824){if(s<<=2,c=(r=r-n|0)>>1,r=r>>2>>>0<536870911?c>>>0<o>>>0?o:c:1073741823){if(r>>>0>=1073741824)break t;l=Fa(r<<2)}if(ts(s=s+l|0,0,t<<2),t=(o<<2)+l|0,o=(r<<2)+l|0,(0|i)!=(0|n)){for(;r=_[(i=i+-4|0)>>2],_[i>>2]=0,_[(s=s+-4|0)>>2]=r,(0|i)!=(0|n););n=_[e>>2],i=_[e+4>>2]}if(_[e>>2]=s,_[e+8>>2]=o,_[e+4>>2]=t,(0|i)!=(0|n))for(;e=_[(i=i+-4|0)>>2],_[i>>2]=0,e&&a[_[_[e>>2]+4>>2]](e),(0|i)!=(0|n););return void(n&&Ka(n))}Wa(),P()}Re(2144),P()}(h,l-r|0);else if(!(l>>>0>=r>>>0)){if((0|(n=n+(l<<2)|0))!=(0|s))for(;r=_[(s=s+-4|0)>>2],_[s>>2]=0,r&&a[_[_[r>>2]+4>>2]](r),(0|s)!=(0|n););_[e+40>>2]=n}if(f=1,!((0|l)<1)){for(f=0,s=0;;){if(o=_[t+16>>2],(0|(n=_[t+12>>2]))<(0|(r=_[t+20>>2]))||(0|n)<=(0|r)&&!(A[t+8>>2]>o>>>0))break e;if(c=m[o+_[t>>2]|0],(o=o+1|0)>>>0<1&&(r=r+1|0),_[(n=t)+16>>2]=o,_[n+20>>2]=r,a[_[_[e>>2]+48>>2]](i+8|0,e,c),r=_[e+36>>2],n=_[i+8>>2],_[i+8>>2]=0,r=_[(c=r+(o=s<<2)|0)>>2],_[c>>2]=n,r&&a[_[_[r>>2]+4>>2]](r),r=_[i+8>>2],_[i+8>>2]=0,r&&a[_[_[r>>2]+4>>2]](r),!(r=_[_[h>>2]+o>>2]))break e;if(d=r,p=0|a[_[_[e>>2]+28>>2]](e),b=0|a[_[_[e>>2]+20>>2]](e,s),u=_[_[r>>2]+8>>2],!(0|a[u](0|d,0|p,0|b)))break e;if((0|l)==(0|(s=s+1|0)))break}f=1}}return z=i+16|0,0|f},a[41]=function(e,t){t|=0;var i=0,r=0,n=0,s=0,o=0,l=0,c=0;if((i=_[(e|=0)+60>>2])&&(_[i+4>>2]=e+48,a[_[_[i>>2]+12>>2]](i))){e:if(!((0|(r=0|a[_[_[e>>2]+24>>2]](e)))<1)){for(s=e+60|0,i=0;;){if(o=_[4+(0|a[_[_[e>>2]+28>>2]](e))>>2],l=0|a[_[_[e>>2]+20>>2]](e,i),n=_[s>>2],a[_[_[n>>2]+8>>2]](n,_[_[o+8>>2]+(l<<2)>>2])){if((0|r)!=(0|(i=i+1|0)))continue;break e}break}return 0}a[_[_[e>>2]+36>>2]](e,t)&&a[_[_[e>>2]+40>>2]](e,t)&&(c=0|a[_[_[e>>2]+44>>2]](e))}return 0|c},a[42]=function(e,t){t|=0;var i,r=0;return i=_[(e|=0)+16>>2],r=0,_[e+20>>2]-i>>2<=(0|t)||(r=0,(0|(t=_[(t<<2)+i>>2]))<0||(r=ei(_[_[e+36>>2]+(t<<2)>>2]))),0|r},a[43]=function(e,t){t|=0;var i,r=0,n=0,s=0,o=0;r=1;e:if(!((0|(i=0|a[_[_[(e|=0)>>2]+24>>2]](e)))<1)){for(s=e+48|0,r=0,o=e+36|0,e=0;;){if(n=_[_[o>>2]+(e<<2)>>2],!a[_[_[n>>2]+16>>2]](n,s,t))break e;if((0|i)==(0|(e=e+1|0)))break}r=1}return 0|r},a[44]=function(e,t){t|=0;var i,r=0,n=0,s=0,o=0;r=1;e:if(!((0|(i=0|a[_[_[(e|=0)>>2]+24>>2]](e)))<1)){for(s=e+48|0,r=0,o=e+36|0,e=0;;){if(n=_[_[o>>2]+(e<<2)>>2],!a[_[_[n>>2]+20>>2]](n,s,t))break e;if((0|i)==(0|(e=e+1|0)))break}r=1}return 0|r},a[45]=function(e){var t,i,r=0,n=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,p=0,b=0;z=t=z-16|0,r=1;e:if(!((0|(i=0|a[_[_[(e|=0)>>2]+24>>2]](e)))<1))for(b=e+48|0,c=e+36|0;;){t:{if(_[40+(0|a[_[_[e>>2]+28>>2]](e))>>2]&&(r=_[(f=o<<2)+_[c>>2]>>2],n=_[r+8>>2],h=ei(r))){r=0|a[_[_[e>>2]+28>>2]](e),u=_[n+56>>2],d=_[r+40>>2],r=Fa(32),_[t>>2]=r,_[t+4>>2]=24,_[t+8>>2]=-2147483616,l[r+24|0]=0,n=m[2076]|m[2077]<<8|m[2078]<<16|m[2079]<<24,s=m[2072]|m[2073]<<8|m[2074]<<16|m[2075]<<24,l[r+16|0]=s,l[r+17|0]=s>>>8,l[r+18|0]=s>>>16,l[r+19|0]=s>>>24,l[r+20|0]=n,l[r+21|0]=n>>>8,l[r+22|0]=n>>>16,l[r+23|0]=n>>>24,n=m[2068]|m[2069]<<8|m[2070]<<16|m[2071]<<24,s=m[2064]|m[2065]<<8|m[2066]<<16|m[2067]<<24,l[r+8|0]=s,l[r+9|0]=s>>>8,l[r+10|0]=s>>>16,l[r+11|0]=s>>>24,l[r+12|0]=n,l[r+13|0]=n>>>8,l[r+14|0]=n>>>16,l[r+15|0]=n>>>24,n=m[2060]|m[2061]<<8|m[2062]<<16|m[2063]<<24,s=m[2056]|m[2057]<<8|m[2058]<<16|m[2059]<<24,l[0|r]=s,l[r+1|0]=s>>>8,l[r+2|0]=s>>>16,l[r+3|0]=s>>>24,l[r+4|0]=n,l[r+5|0]=n>>>8,l[r+6|0]=n>>>16,l[r+7|0]=n>>>24;i:{if(r=_[(n=s=d+16|0)>>2]){for(;n=(p=_[r+16>>2]<(0|u))?n:r,r=_[(p<<2)+r>>2];);if(!((0|n)==(0|s)|(0|u)<_[n+16>>2])&&G(r=n+20|0,t)){r=ln(r,t);break i}}r=ln(d,t)}if(l[t+11|0]<=-1&&Ka(_[t>>2]),r){bt(_[_[_[c>>2]+f>>2]+8>>2],h);break t}}if(r=_[_[c>>2]+(o<<2)>>2],!a[_[_[r>>2]+24>>2]](r,b)){r=0;break e}}if(r=1,(0|i)==(0|(o=o+1|0)))break}return z=t+16|0,0|r},a[46]=function(e,t,i){if(e|=0,t|=0,(i|=0)>>>0>3)_[e>>2]=0;else{e:{t:switch(i-1|0){default:Kt(t=Fa(20));break e;case 0:ii(t=Fa(24));break e;case 1:ii(t=Fa(36)),_[t+32>>2]=0,_[t+24>>2]=-1,_[t+28>>2]=0,_[t>>2]=10764;break e;case 2:break t}return ii(t=Fa(28)),_[t+24>>2]=-1,_[t>>2]=6744,void(_[e>>2]=t)}_[e>>2]=t}},a[47]=function(e){var t=0,i=0;return _[(e|=0)>>2]=2220,t=_[(i=e+20|0)>>2],_[i>>2]=0,t&&a[_[_[t>>2]+4>>2]](t),_[e>>2]=1908,t=_[(i=e+16|0)>>2],_[i>>2]=0,t&&Ye(t),0|e},a[48]=ai,a[49]=ri,a[50]=function(e,t){t|=0;var i,r=0;return(i=_[(e|=0)+4>>2])&&(r=1,m[i+36|0]<2)||(r=0|a[_[_[e>>2]+48>>2]](e,_[t+4>>2]-_[t>>2]>>2)),0|r},a[51]=function(e,t,i){e|=0,t|=0;var r,n,s=0,o=0,c=0,f=0,h=0,u=0,d=0,p=0;z=r=z-16|0,n=_[(i|=0)+8>>2],c=_[i+16>>2];e:if(!((0|(s=f=_[i+12>>2]))<(0|(o=_[i+20>>2]))||(0|s)<=(0|o)&&!(n>>>0>c>>>0))){if(u=_[i>>2],d=l[u+c|0],s=o,(h=c+1|0)>>>0<1&&(s=s+1|0),_[i+16>>2]=h,_[i+20>>2]=s,-2!=(0|d)){if((0|f)<(0|s)||(0|f)<=(0|s)&&!(n>>>0>h>>>0))break e;f=l[h+u|0],(c=c+2|0)>>>0<2&&(o=o+1|0),_[(s=i)+16>>2]=c,_[s+20>>2]=o,a[_[_[e>>2]+40>>2]](r+8|0,e,d,f),o=_[r+8>>2],_[r+8>>2]=0,s=_[e+20>>2],_[e+20>>2]=o,s?(a[_[_[s>>2]+4>>2]](s),s=_[r+8>>2],_[r+8>>2]=0,s&&a[_[_[s>>2]+4>>2]](s)):_[r+8>>2]=0}(s=_[e+20>>2])&&!a[_[_[e>>2]+28>>2]](e,s)||a[_[_[e>>2]+36>>2]](e,t,i)&&(!(i=_[e+4>>2])|m[i+36|0]>1||a[_[_[e>>2]+48>>2]](e,_[t+4>>2]-_[t>>2]>>2))&&(p=1)}return z=r+16|0,0|p},a[52]=ni,a[53]=function(e,t,i,r){e|=0,t|=0,i|=0;var n,s=0;z=n=z-48|0,1==(0|(r|=0))?(r=_[t+4>>2],t=_[t+12>>2],_[n+40>>2]=0,_[(s=n+32|0)>>2]=0,_[s+4>>2]=0,_[n+24>>2]=0,_[n+28>>2]=0,_[n+16>>2]=0,_[n+20>>2]=0,_[n+8>>2]=0,_[n+12>>2]=0,function(e,t,i,r,n){var s=0,o=0;e:{if(-2!=(0|t)){if(o=_[_[_[r+4>>2]+8>>2]+(i<<2)>>2],1==(0|a[_[_[r>>2]+8>>2]](r))){if(s=t,t=b[r+36>>1],function(e,t,i,r,n,s){var o,l,c=0,f=0;z=o=z-32|0,l=_[_[_[t+4>>2]+8>>2]+(r<<2)>>2];t:{if(!(1!=(0|a[_[_[t>>2]+8>>2]](t))|i+-1>>>0>5)){if(f=0|a[_[_[t>>2]+36>>2]](t),!(c=0|a[_[_[t>>2]+44>>2]](t,r))||!f){_[e>>2]=0;break t}if(r=0|a[_[_[t>>2]+40>>2]](t,r)){if(t=_[t+44>>2],_[o+12>>2]=r,_[o+8>>2]=t,_[o+20>>2]=c,_[o+16>>2]=c+12,function(e,t,i,r,n,a){if((t=t+-1|0)>>>0>5)return void(_[e>>2]=0);i:{r:switch(t-1|0){default:si(t=Fa(60),i,r,n),_[t>>2]=2336;break i;case 0:si(t=Fa(60),i,r,n),_[t>>2]=3100;break i;case 2:si(t=Fa(112),i,r,n),_[t>>2]=3336,_[t+60>>2]=0,_[t+64>>2]=0,_[t+68>>2]=0,_[t+72>>2]=0,_[t+76>>2]=0,_[t+80>>2]=0,_[t+84>>2]=0,_[t+88>>2]=0,_[t+92>>2]=0,_[t+96>>2]=0,_[t+100>>2]=0,_[t+104>>2]=0,_[t+108>>2]=0;break i;case 1:si(t=Fa(92),i,r,n),_[t+60>>2]=0,_[t+64>>2]=0,_[t>>2]=3584,_[t+88>>2]=a,_[t+68>>2]=0,_[t+72>>2]=0,_[t+76>>2]=0,_[t+80>>2]=0,_[t+84>>2]=0;break i;case 3:si(t=Fa(104),i,r,n),_[t+76>>2]=0,_[t+80>>2]=0,_[t+60>>2]=0,_[t+64>>2]=0,_[t>>2]=3812,_[t+84>>2]=0,i=_[n+4>>2],_[t+88>>2]=_[n>>2],_[t+92>>2]=i,i=_[n+12>>2],_[t+96>>2]=_[n+8>>2],_[t+100>>2]=i;break i;case 4:break r}return si(t=Fa(124),i,r,n),_[t>>2]=4048,_[(i=t- -64|0)>>2]=0,_[i+4>>2]=0,i=_[n+4>>2],_[t+72>>2]=_[n>>2],_[t+76>>2]=i,i=_[n+12>>2],_[t+80>>2]=_[n+8>>2],_[t+84>>2]=i,_[t+92>>2]=-1,_[t+96>>2]=-1,_[t+88>>2]=1,_[t+60>>2]=4284,_[t+100>>2]=-1,_[t+104>>2]=-1,Yi(t+108|0),void(_[e>>2]=t)}_[e>>2]=t}(e,i,l,n,o+8|0,s),_[e>>2])break t;_[e>>2]=0}else{if(t=_[t+44>>2],_[o+12>>2]=f,_[o+8>>2]=t,_[o+20>>2]=c,_[o+16>>2]=c+12,function(e,t,i,r,n,a){if((t=t+-1|0)>>>0>5)return void(_[e>>2]=0);i:{r:switch(t-1|0){default:Ci(t=Fa(60),i,r,n),_[t>>2]=4676;break i;case 0:Ci(t=Fa(60),i,r,n),_[t>>2]=5100;break i;case 2:Ci(t=Fa(112),i,r,n),_[t>>2]=5324,_[t+60>>2]=0,_[t+64>>2]=0,_[t+68>>2]=0,_[t+72>>2]=0,_[t+76>>2]=0,_[t+80>>2]=0,_[t+84>>2]=0,_[t+88>>2]=0,_[t+92>>2]=0,_[t+96>>2]=0,_[t+100>>2]=0,_[t+104>>2]=0,_[t+108>>2]=0;break i;case 1:Ci(t=Fa(92),i,r,n),_[t+60>>2]=0,_[t+64>>2]=0,_[t>>2]=5560,_[t+88>>2]=a,_[t+68>>2]=0,_[t+72>>2]=0,_[t+76>>2]=0,_[t+80>>2]=0,_[t+84>>2]=0;break i;case 3:Ci(t=Fa(104),i,r,n),_[t+76>>2]=0,_[t+80>>2]=0,_[t+60>>2]=0,_[t+64>>2]=0,_[t>>2]=5776,_[t+84>>2]=0,i=_[n+4>>2],_[t+88>>2]=_[n>>2],_[t+92>>2]=i,i=_[n+12>>2],_[t+96>>2]=_[n+8>>2],_[t+100>>2]=i;break i;case 4:break r}return Ci(t=Fa(124),i,r,n),_[t>>2]=6e3,_[(i=t- -64|0)>>2]=0,_[i+4>>2]=0,i=_[n+4>>2],_[t+72>>2]=_[n>>2],_[t+76>>2]=i,i=_[n+12>>2],_[t+80>>2]=_[n+8>>2],_[t+84>>2]=i,_[t+92>>2]=-1,_[t+96>>2]=-1,_[t+88>>2]=1,_[t+60>>2]=6220,_[t+100>>2]=-1,_[t+104>>2]=-1,Yi(t+108|0),void(_[e>>2]=t)}_[e>>2]=t}(e,i,l,n,o+8|0,s),_[e>>2])break t;_[e>>2]=0}}_[e>>2]=0}z=o+32|0}(e,r,s,i,n,(t<<24|t<<8&16711680)>>>16),_[e>>2])break e;_[e>>2]=0}(function(e,t,i){var r,n,a,s,o=0,l=0,c=0,f=0;_[e>>2]=3044,_[e+4>>2]=t,t=_[i+8>>2],o=_[i+12>>2],l=_[i+16>>2],n=_[i+20>>2],a=_[i>>2],s=_[i+4>>2],_[e+40>>2]=0,_[(r=e+32|0)>>2]=0,_[r+4>>2]=0,_[e+24>>2]=l,_[e+28>>2]=n,_[e+16>>2]=t,_[e+20>>2]=o,_[e+8>>2]=a,_[e+12>>2]=s;t:{if(t=_[i+28>>2]-_[i+24>>2]|0){if((o=t>>2)>>>0>=1073741824)break t;t=Fa(t),_[e+32>>2]=t,_[(l=e+36|0)>>2]=t,_[e+40>>2]=t+(o<<2),o=_[i+24>>2],(0|(i=_[i+28>>2]-o|0))<1||(c=l,f=es(t,o,i)+i|0,_[c>>2]=f)}return void(_[e>>2]=6584)}Wa(),P()})(s=Fa(44),o,n)}_[e>>2]=s}}(n,i,t,r,n+8|0),(t=_[s>>2])&&(_[n+36>>2]=t,Ka(t)),_[e>>2]=_[n>>2]):_[e>>2]=0,z=n+48|0},a[54]=function(e){return l[_[(e|=0)+8>>2]+24|0]},a[55]=function(e,t){t|=0;var i=0,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0;if(r=_[(e|=0)+8>>2],(i=_[r+28>>2]+-1|0)>>>0>5)return 0;e:{t:switch(i-1|0){case 0:if(s=Fa((0|(a=l[r+24|0]))>-1?a:-1),i=_[e+16>>2],r=0,_[i+80>>2]&&(r=_[_[i>>2]>>2]+_[i+48>>2]|0),!t)break e;for(o=(0|a)<1,f=e+8|0,i=0;;){if(e=0,!o)for(;l[e+s|0]=_[r+(i<<2)>>2],i=i+1|0,(0|a)!=(0|(e=e+1|0)););if(es(_[_[_[f>>2]- -64>>2]>>2]+c|0,s,a),c=a+c|0,(0|(n=n+1|0))==(0|t))break}break e;default:if(s=Fa((0|(a=l[r+24|0]))>-1?a:-1),i=_[e+16>>2],r=0,_[i+80>>2]&&(r=_[_[i>>2]>>2]+_[i+48>>2]|0),!t)break e;for(o=(0|a)<1,f=e+8|0,i=0;;){if(e=0,!o)for(;l[e+s|0]=_[r+(i<<2)>>2],i=i+1|0,(0|a)!=(0|(e=e+1|0)););if(es(_[_[_[f>>2]- -64>>2]>>2]+c|0,s,a),c=a+c|0,(0|(n=n+1|0))==(0|t))break}break e;case 2:if(s=Fa((r=(n=l[r+24|0])+n|0)>>>0<n>>>0?-1:r),i=_[e+16>>2],r=0,_[i+80>>2]&&(r=_[_[i>>2]>>2]+_[i+48>>2]|0),!t)break e;for(o=n<<1,f=(0|n)<1,h=e+8|0,i=0;;){if(e=0,!f)for(;p[(e<<1)+s>>1]=_[r+(i<<2)>>2],i=i+1|0,(0|n)!=(0|(e=e+1|0)););if(es(_[_[_[h>>2]- -64>>2]>>2]+c|0,s,o),c=c+o|0,(0|(a=a+1|0))==(0|t))break}break e;case 1:if(s=Fa((r=(n=l[r+24|0])+n|0)>>>0<n>>>0?-1:r),i=_[e+16>>2],r=0,_[i+80>>2]&&(r=_[_[i>>2]>>2]+_[i+48>>2]|0),!t)break e;for(o=n<<1,f=(0|n)<1,h=e+8|0,i=0;;){if(e=0,!f)for(;p[(e<<1)+s>>1]=_[r+(i<<2)>>2],i=i+1|0,(0|n)!=(0|(e=e+1|0)););if(es(_[_[_[h>>2]- -64>>2]>>2]+c|0,s,o),c=c+o|0,(0|(a=a+1|0))==(0|t))break}break e;case 4:if(o=(n=l[r+24|0])<<2,s=Fa((0|n)!=(1073741823&n)?-1:o),i=_[e+16>>2],r=0,_[i+80>>2]&&(r=_[_[i>>2]>>2]+_[i+48>>2]|0),!t)break e;for(f=(0|n)<1,h=e+8|0,i=0;;){if(e=0,!f)for(;_[(e<<2)+s>>2]=_[r+(i<<2)>>2],i=i+1|0,(0|n)!=(0|(e=e+1|0)););if(es(_[_[_[h>>2]- -64>>2]>>2]+c|0,s,o),c=c+o|0,(0|(a=a+1|0))==(0|t))break}break e;case 3:break t}if(o=(n=l[r+24|0])<<2,s=Fa((0|n)!=(1073741823&n)?-1:o),i=_[e+16>>2],r=0,_[i+80>>2]&&(r=_[_[i>>2]>>2]+_[i+48>>2]|0),t)for(f=(0|n)<1,h=e+8|0,i=0;;){if(e=0,!f)for(;_[(e<<2)+s>>2]=_[r+(i<<2)>>2],i=i+1|0,(0|n)!=(0|(e=e+1|0)););if(es(_[_[_[h>>2]- -64>>2]>>2]+c|0,s,o),c=c+o|0,(0|(a=a+1|0))==(0|t))break}}return Ka(s),1},a[56]=function(e){var t;return _[(e|=0)>>2]=3044,(t=_[e+32>>2])&&(_[e+36>>2]=t,Ka(t)),0|e},a[57]=oi,a[58]=ct,a[59]=Ge,a[60]=li,a[61]=ci,a[62]=fi,a[63]=St,a[64]=ci,a[65]=ct,a[66]=function(e,t){e|=0;var i,r,n,a,s=0,o=0,l=0,c=0,f=0,h=0;return n=o=_[(t|=0)+12>>2],c=s=_[t+20>>2],(l=(i=_[t+16>>2])+4|0)>>>0<4&&(s=s+1|0),a=_[t+8>>2],r=l,l=s,(0|o)<(0|s)||(0|o)<=(0|s)&&!(a>>>0>=r>>>0)||(f=_[t>>2],o=m[0|(s=f+i|0)]|m[s+1|0]<<8|m[s+2|0]<<16|m[s+3|0]<<24,_[t+16>>2]=r,_[t+20>>2]=l,s=c,(c=i+8|0)>>>0<8&&(s=s+1|0),l=c,c=s,(0|n)<(0|s)||(0|n)<=(0|s)&&!(a>>>0>=l>>>0)||(s=m[0|(s=r+f|0)]|m[s+1|0]<<8|m[s+2|0]<<16|m[s+3|0]<<24,_[t+16>>2]=l,_[t+20>>2]=c,(0|o)>(0|s)||(_[e+16>>2]=s,_[e+12>>2]=o,!(o=(s>>31)-((s>>>0<(t=o)>>>0)+(t>>31)|0)|0)&(t=s-t|0)>>>0>2147483646|o>>>0>0||(h=1,t=t+1|0,_[e+20>>2]=t,s=(0|t)/2|0,_[(o=e+24|0)>>2]=s,_[e+28>>2]=0-s,1&t||(_[o>>2]=s+-1))))),0|h},a[67]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s,o,l,c,f=0,h=0,u=0,d=0,p=0,m=0,b=0,A=0,v=0,y=0,k=0,x=0;if(_[(e|=0)+8>>2]=n,f=_[(a=e+32|0)>>2],(r=_[e+36>>2]-f>>2)>>>0<n>>>0?de(a,n-r|0):r>>>0<=n>>>0||(_[e+36>>2]=f+(n<<2)),c=_[e+52>>2],o=_[e+48>>2],r=0,s=ts(Fa(a=(1073741823&n)!=(0|n)?-1:n<<2),0,a),!((0|(a=_[(m=e+8|0)>>2]))<1)){for(b=e+16|0,f=e+32|0,A=e+12|0;(0|(u=_[(a=r<<2)+s>>2]))>(0|(p=_[b>>2]))?(h=_[f>>2],_[a+h>>2]=p):(a=a+(h=_[f>>2])|0,p=_[A>>2],_[a>>2]=(0|u)<(0|p)?p:u),(0|(r=r+1|0))<(0|(a=_[m>>2])););if(!((0|a)<1))for(f=0,m=e+16|0,u=e+20|0,b=e+8|0,A=e+12|0;;){r=(a=f<<2)+i|0,a=_[t+a>>2]+_[a+h>>2]|0,_[r>>2]=a;e:{if((0|a)>_[m>>2])a=a-_[u>>2]|0;else{if((0|a)>=_[A>>2])break e;a=a+_[u>>2]|0}_[r>>2]=a}if(!((0|(f=f+1|0))<(0|(a=_[b>>2]))))break}}if(r=_[e+56>>2],l=_[r>>2],(0|(r=_[r+4>>2]-l|0))>=5)for(k=r>>2,m=e+16|0,b=e+32|0,A=e+8|0,p=e+20|0,y=e+12|0,x=o+28|0,u=1;;){e:{t:{if(k>>>0>u>>>0){if(v=g(n,u),-1==(0|(e=_[(u<<2)+l>>2]))|_[_[o>>2]+(e>>>3&536870908)>>2]>>>(31&e)&1)break t;if(-1==(0|(e=_[_[_[o+64>>2]+12>>2]+(e<<2)>>2])))break t;if(f=_[c>>2],r=_[x>>2],(0|(h=_[f+(_[r+(e<<2)>>2]<<2)>>2]))>=(0|u))break t;if((0|(d=_[f+(_[r+((((d=e+1|0)>>>0)%3|0?d:e+-2|0)<<2)>>2]<<2)>>2]))>=(0|u))break t;if((0|(e=_[f+(_[r+(e+((e>>>0)%3|0?-1:2)<<2)>>2]<<2)>>2]))>=(0|u))break t;if((0|n)>=1)for(e=g(e,n),f=g(n,d),h=g(n,h),r=0;_[(r<<2)+s>>2]=(_[(e+r<<2)+i>>2]+_[(r+f<<2)+i>>2]|0)-_[(r+h<<2)+i>>2],(0|n)!=(0|(r=r+1|0)););if((0|a)<1)break e;for(r=0;(0|(a=_[(e=r<<2)+s>>2]))>(0|(f=_[m>>2]))?(h=_[b>>2],_[e+h>>2]=f):(e=e+(h=_[b>>2])|0,f=_[y>>2],_[e>>2]=(0|a)<(0|f)?f:a),(0|(r=r+1|0))<(0|(a=_[A>>2])););if(f=0,(0|a)<1)break e;for(v=(e=v<<2)+i|0,d=e+t|0;;){e=(r=f<<2)+v|0,r=_[r+d>>2]+_[r+h>>2]|0,_[e>>2]=r;i:{if((0|r)>_[m>>2])r=r-_[p>>2]|0;else{if((0|r)>=_[y>>2])break i;r=r+_[p>>2]|0}_[e>>2]=r}if(!((0|(f=f+1|0))<(0|(a=_[A>>2]))))break}break e}Ga(),P()}if(!((0|a)<1)){for(f=(g(u+-1|0,n)<<2)+i|0,r=0;(0|(a=_[(e=r<<2)+f>>2]))>(0|(d=_[m>>2]))?(h=_[b>>2],_[e+h>>2]=d):(e=e+(h=_[b>>2])|0,d=_[y>>2],_[e>>2]=(0|a)<(0|d)?d:a),(0|(r=r+1|0))<(0|(a=_[A>>2])););if(f=0,!((0|a)<1))for(v=(e=v<<2)+i|0,d=e+t|0;;){e=(r=f<<2)+v|0,r=_[r+d>>2]+_[r+h>>2]|0,_[e>>2]=r;t:{if((0|r)>_[m>>2])r=r-_[p>>2]|0;else{if((0|r)>=_[y>>2])break t;r=r+_[p>>2]|0}_[e>>2]=r}if(!((0|(f=f+1|0))<(0|(a=_[A>>2]))))break}}}if(!((0|(u=u+1|0))<(0|k)))break}return Ka(s),1},a[68]=xt,a[69]=xt,a[70]=oi,a[71]=st,a[72]=li,a[73]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s,o,l,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0,A=0,v=0,y=0,k=0,x=0,S=0,T=0,w=0,E=0,M=0,R=0;if(_[(e|=0)+8>>2]=n,c=_[(a=e+32|0)>>2],(r=_[e+36>>2]-c>>2)>>>0<n>>>0?de(a,n-r|0):r>>>0<=n>>>0||(_[e+36>>2]=c+(n<<2)),a=0,s=ts(Fa(r=(1073741823&n)!=(0|n)?-1:n<<2),0,r),o=ts(Fa(r),0,r),!((0|(c=_[(m=e+8|0)>>2]))<1)){for(b=e+16|0,r=e+32|0,A=e+12|0;(0|(u=_[(c=a<<2)+s>>2]))>(0|(p=_[b>>2]))?(h=_[r>>2],_[c+h>>2]=p):(c=c+(h=_[r>>2])|0,p=_[A>>2],_[c>>2]=(0|u)<(0|p)?p:u),(0|(a=a+1|0))<(0|(c=_[m>>2])););if(!((0|c)<1))for(r=0,m=e+16|0,u=e+20|0,b=e+8|0,A=e+12|0;;){a=(c=r<<2)+i|0,c=_[t+c>>2]+_[c+h>>2]|0,_[a>>2]=c;e:{if((0|c)>_[m>>2])c=c-_[u>>2]|0;else{if((0|c)>=_[A>>2])break e;c=c+_[u>>2]|0}_[a>>2]=c}if(!((0|(r=r+1|0))<(0|(c=_[b>>2]))))break}}if(r=_[e+56>>2],l=_[r>>2],(0|(r=_[r+4>>2]-l|0))>=5)for(S=r>>2,w=n<<2,E=_[e+52>>2],m=e+16|0,b=e+32|0,A=e+8|0,p=e+20|0,k=e+12|0,M=(v=_[e+48>>2])+28|0,u=1;;){e:{t:{i:if(S>>>0>u>>>0){if(e=_[(u<<2)+l>>2],(T=(0|n)<1)||ts(s,0,w),-1==(0|e)){e=g(n,u);break t}for(R=_[v>>2],h=0,r=e;;){if(!(_[R+(r>>>3&536870908)>>2]>>>(31&r)&1)&&-1!=(0|(a=_[_[_[v+64>>2]+12>>2]+(r<<2)>>2]))&&(d=_[E>>2],f=_[M>>2],!((0|(x=_[d+(_[f+(a<<2)>>2]<<2)>>2]))>=(0|u))&&!((0|(y=_[d+(_[f+((((y=a+1|0)>>>0)%3|0?y:a+-2|0)<<2)>>2]<<2)>>2]))>=(0|u))&&!((0|(a=_[d+(_[f+(a+((a>>>0)%3|0?-1:2)<<2)>>2]<<2)>>2]))>=(0|u)))){if(!T){for(f=g(n,a),d=g(n,y),x=g(n,x),a=0;_[o+(a<<2)>>2]=(_[(a+f<<2)+i>>2]+_[(a+d<<2)+i>>2]|0)-_[(a+x<<2)+i>>2],(0|(a=a+1|0))!=(0|n););if(a=0,!((0|n)<=0))for(;_[(d=(f=a<<2)+s|0)>>2]=_[d>>2]+_[f+o>>2],(0|(a=a+1|0))!=(0|n););}h=h+1|0}if(a=-1,-1==(0|(r=((r>>>0)%3|0?-1:2)+r|0))|_[_[v>>2]+(r>>>3&536870908)>>2]>>>(31&r)&1||-1!=(0|(r=_[_[_[v+64>>2]+12>>2]+(r<<2)>>2]))&&(a=(r>>>0)%3?r+-1|0:r+2|0),-1==(0|(r=(0|e)==(0|a)?-1:a)))break}if(e=g(n,u),!h)break t;if(a=0,(0|n)<=0)break i;for(;_[(r=(a<<2)+s|0)>>2]=_[r>>2]/(0|h),(0|(a=a+1|0))!=(0|n););}else Ga(),P();if((0|c)<1)break e;for(a=0;(0|(c=_[(r=a<<2)+s>>2]))>(0|(f=_[m>>2]))?(h=_[b>>2],_[r+h>>2]=f):(r=r+(h=_[b>>2])|0,f=_[k>>2],_[r>>2]=(0|c)<(0|f)?f:c),(0|(a=a+1|0))<(0|(c=_[A>>2])););if(r=0,(0|c)<1)break e;for(f=(e<<=2)+i|0,d=e+t|0;;){e=(a=r<<2)+f|0,a=_[a+d>>2]+_[a+h>>2]|0,_[e>>2]=a;i:{if((0|a)>_[m>>2])a=a-_[p>>2]|0;else{if((0|a)>=_[k>>2])break i;a=a+_[p>>2]|0}_[e>>2]=a}if(!((0|(r=r+1|0))<(0|(c=_[A>>2]))))break}break e}if(!((0|c)<1)){for(f=(g(u+-1|0,n)<<2)+i|0,a=0;(0|(c=_[(r=a<<2)+f>>2]))>(0|(d=_[m>>2]))?(h=_[b>>2],_[r+h>>2]=d):(r=r+(h=_[b>>2])|0,d=_[k>>2],_[r>>2]=(0|c)<(0|d)?d:c),(0|(a=a+1|0))<(0|(c=_[A>>2])););if(r=0,!((0|c)<1))for(f=(e<<=2)+i|0,d=e+t|0;;){e=(a=r<<2)+f|0,a=_[a+d>>2]+_[a+h>>2]|0,_[e>>2]=a;t:{if((0|a)>_[m>>2])a=a-_[p>>2]|0;else{if((0|a)>=_[k>>2])break t;a=a+_[p>>2]|0}_[e>>2]=a}if(!((0|(r=r+1|0))<(0|(c=_[A>>2]))))break}}}if(!((0|(u=u+1|0))<(0|S)))break}return Ka(o),Ka(s),1},a[74]=function(e){var t=0;return _[(e|=0)>>2]=3336,(t=_[e+96>>2])&&Ka(t),(t=_[e+84>>2])&&Ka(t),(t=_[e+72>>2])&&Ka(t),(t=_[e+60>>2])&&Ka(t),_[e>>2]=3044,(t=_[e+32>>2])&&(_[e+36>>2]=t,Ka(t)),0|e},a[75]=function(e){var t=0;_[(e|=0)>>2]=3336,(t=_[e+96>>2])&&Ka(t),(t=_[e+84>>2])&&Ka(t),(t=_[e+72>>2])&&Ka(t),(t=_[e+60>>2])&&Ka(t),_[e>>2]=3044,(t=_[e+32>>2])&&(_[e+36>>2]=t,Ka(t)),Ka(e)},a[76]=hi,a[77]=li,a[78]=ui,a[79]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s,o,l,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0,A=0,v=0,y=0,k=0,x=0,S=0,T=0,w=0,E=0,M=0,R=0,C=0,O=0,I=0,D=0;z=s=z+-64|0,_[(e|=0)+8>>2]=n,h=_[(a=e+32|0)>>2],(r=_[e+36>>2]-h>>2)>>>0<n>>>0?de(a,n-r|0):r>>>0<=n>>>0||(_[e+36>>2]=h+(n<<2)),_[s+56>>2]=0,_[s+60>>2]=0,_[s+48>>2]=0,_[s+52>>2]=0,_[s+40>>2]=0,_[s+44>>2]=0,_[(a=s+32|0)>>2]=0,_[a+4>>2]=0,_[s+24>>2]=0,_[s+28>>2]=0,_[s+16>>2]=0,_[s+20>>2]=0,_[s>>2]=0,r=0,n&&(kt(s+16|0,n,s),f=_[s+28>>2],r=_[a>>2]),_[s>>2]=0;e:if((r=r-f>>2)>>>0>=n>>>0){if(r>>>0<=n>>>0)break e;_[s+32>>2]=(n<<2)+f}else kt(s+16|12,n-r|0,s);_[s>>2]=0,a=_[s+40>>2];e:if((r=_[s+44>>2]-a>>2)>>>0>=n>>>0){if(r>>>0<=n>>>0)break e;_[s+44>>2]=a+(n<<2)}else kt(s+40|0,n-r|0,s);_[s>>2]=0,a=_[s+52>>2];e:if((r=_[s+56>>2]-a>>2)>>>0>=n>>>0){if(r>>>0<=n>>>0)break e;_[s+56>>2]=a+(n<<2)}else kt(s+52|0,n-r|0,s);if(!(_[(d=e+8|0)>>2]<=0)){for(p=_[s+16>>2],f=0,b=e+16|0,r=e+32|0,u=e+12|0;(0|(c=_[(a=f<<2)+p>>2]))>(0|(A=_[b>>2]))?(h=_[r>>2],_[a+h>>2]=A):(a=a+(h=_[r>>2])|0,A=_[u>>2],_[a>>2]=(0|c)<(0|A)?A:c),(0|(f=f+1|0))<(0|(a=_[d>>2])););if(!((0|a)<1))for(r=0,d=e+16|0,f=e+20|0,p=e+8|0,b=e+12|0;;){a=(c=r<<2)+i|0,c=_[t+c>>2]+_[c+h>>2]|0,_[a>>2]=c;e:{if((0|c)>_[d>>2])c=c-_[f>>2]|0;else{if((0|c)>=_[b>>2])break e;c=c+_[f>>2]|0}_[a>>2]=c}if(!((0|(r=r+1|0))<_[p>>2]))break}}l=_[e+52>>2],p=_[e+48>>2],o=Fa(16),_[(r=o)>>2]=0,_[r+4>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,_[s+8>>2]=0,_[s>>2]=0,_[s+4>>2]=0;e:{if(n){if(n>>>0>=1073741824)break e;x=Fa(r=n<<2),_[s>>2]=x,a=r+x|0,_[s+8>>2]=a,ts(x,0,r),_[s+4>>2]=a}r=1,a=_[e+56>>2],C=_[a>>2];t:if(!((0|(a=_[a+4>>2]-C|0))<5))for(O=a>>2,I=n<<2,b=e+8|0,A=e+16|0,S=e+32|0,T=e+20|0,w=e+12|0,D=p+28|0,d=1;;){i:{r:{n:{if(O>>>0>d>>>0){a:{s:if(-1!=(0|(h=_[(d<<2)+C>>2]))){E=(m=h+((h>>>0)%3|0?-1:2)|0)>>>5,u=1,M=1<<(31&m),R=_[p>>2],a=0,r=h;o:{for(;;){if(!(_[R+(r>>>3&536870908)>>2]>>>(31&r)&1)&&-1!=(0|(c=_[_[_[p+64>>2]+12>>2]+(r<<2)>>2]))&&(y=_[l>>2],f=_[D>>2],!((0|(k=_[y+(_[f+(c<<2)>>2]<<2)>>2]))>=(0|d))&&!((0|(v=_[y+(_[f+((((v=c+1|0)>>>0)%3|0?v:c+-2|0)<<2)>>2]<<2)>>2]))>=(0|d))&&!((0|(c=_[y+(_[f+(c+((c>>>0)%3|0?-1:2)<<2)>>2]<<2)>>2]))>=(0|d)))){if((0|n)>=1)for(y=_[(s+16|0)+g(a,12)>>2],c=g(n,c),v=g(n,v),k=g(n,k),f=0;_[y+(f<<2)>>2]=(_[(c+f<<2)+i>>2]+_[(f+v<<2)+i>>2]|0)-_[(f+k<<2)+i>>2],(0|(f=f+1|0))!=(0|n););if(c=4,4==(0|(a=a+1|0)))break o}l:if(1&u){if(f=-1,-1==(0|(r=((c=r+1|0)>>>0)%3|0?c:r+-2|0))|_[_[p>>2]+(r>>>3&536870908)>>2]>>>(31&r)&1)break l;if(-1==(0|(r=_[_[_[p+64>>2]+12>>2]+(r<<2)>>2])))break l;f=((c=r+1|0)>>>0)%3|0?c:r+-2|0}else f=-1,-1==(0|(r=((r>>>0)%3|0?-1:2)+r|0))|_[_[p>>2]+(r>>>3&536870908)>>2]>>>(31&r)&1||-1!=(0|(r=_[_[_[p+64>>2]+12>>2]+(r<<2)>>2]))&&(f=(r>>>0)%3?r+-1|0:r+2|0);l:if((0|f)!=(0|h)){if(r=f,r=(f=1&((c=-1!=(0|f))|-1^u))?r:-1,u&=c,!(-1==(0|m)|f)){if(_[_[p>>2]+(E<<2)>>2]&M)break l;if(-1==(0|(c=_[_[_[p+64>>2]+12>>2]+(m<<2)>>2])))break l;u=0,r=(c>>>0)%3?c+-1|0:c+2|0}if(-1!=(0|r))continue}break}if((0|(c=a))<1)break s}for((m=(0|n)<1)||ts(x,0,I),u=((r=c+-1|0)<<2)+o|0,y=(r=g(r,12)+e|0)+60|0,E=_[r- -64>>2],r=0,M=_[s>>2],h=0,a=0;;){if(f=_[u>>2],_[u>>2]=f+1,E>>>0<=f>>>0)break t;if(!(_[_[y>>2]+(f>>>3&536870908)>>2]>>>(31&f)&1)&&(a=a+1|0,!m))for(R=_[(s+16|0)+g(h,12)>>2],f=0;_[(v=(k=f<<2)+M|0)>>2]=_[v>>2]+_[k+R>>2],(0|(f=f+1|0))!=(0|n););if((0|c)==(0|(h=h+1|0)))break}if(c=u=g(n,d),!a)break a;if(f=0,(0|n)>0)break n;break r}c=g(n,d)}if(_[b>>2]<1)break i;for(u=(g(d+-1|0,n)<<2)+i|0,f=0;(0|(a=_[(r=f<<2)+u>>2]))>(0|(m=_[A>>2]))?(h=_[S>>2],_[r+h>>2]=m):(r=r+(h=_[S>>2])|0,m=_[w>>2],_[r>>2]=(0|a)<(0|m)?m:a),(0|(f=f+1|0))<(0|(a=_[b>>2])););if(r=0,(0|a)<1)break i;for(f=(a=c<<2)+i|0,u=t+a|0;;){a=(c=r<<2)+f|0,c=_[c+u>>2]+_[c+h>>2]|0,_[a>>2]=c;a:{if((0|c)>_[A>>2])c=c-_[T>>2]|0;else{if((0|c)>=_[w>>2])break a;c=c+_[T>>2]|0}_[a>>2]=c}if(!((0|(r=r+1|0))<_[b>>2]))break}break i}Ga(),P()}for(;_[(r=(f<<2)+x|0)>>2]=_[r>>2]/(0|a),(0|(f=f+1|0))!=(0|n););}if(!(_[b>>2]<1)){for(f=0;(0|(a=_[(r=f<<2)+x>>2]))>(0|(c=_[A>>2]))?(h=_[S>>2],_[r+h>>2]=c):(r=r+(h=_[S>>2])|0,c=_[w>>2],_[r>>2]=(0|a)<(0|c)?c:a),(0|(f=f+1|0))<(0|(a=_[b>>2])););if(r=0,!((0|a)<1))for(f=(a=u<<2)+i|0,u=t+a|0;;){a=(c=r<<2)+f|0,c=_[c+u>>2]+_[c+h>>2]|0,_[a>>2]=c;r:{if((0|c)>_[A>>2])c=c-_[T>>2]|0;else{if((0|c)>=_[w>>2])break r;c=c+_[T>>2]|0}_[a>>2]=c}if(!((0|(r=r+1|0))<_[b>>2]))break}}}if(r=1,!((0|(d=d+1|0))<(0|O)))break}return(e=_[s>>2])&&(_[s+4>>2]=e,Ka(e)),Ka(o),(e=_[s+52>>2])&&(_[s+56>>2]=e,Ka(e)),(e=_[s+40>>2])&&(_[s+44>>2]=e,Ka(e)),(e=_[s+28>>2])&&(_[s+32>>2]=e,Ka(e)),(e=_[s+16>>2])&&(_[s+20>>2]=e,Ka(e)),z=s- -64|0,0|r}Wa(),P()},a[80]=function(e){var t,i=0;return _[(e|=0)>>2]=3584,(i=_[e+76>>2])&&Ka(i),i=_[(t=e+68|0)>>2],_[t>>2]=0,i&&Ka(i),_[e>>2]=3044,(i=_[e+32>>2])&&(_[e+36>>2]=i,Ka(i)),0|e},a[81]=function(e){var t,i=0;_[(e|=0)>>2]=3584,(i=_[e+76>>2])&&Ka(i),i=_[(t=e+68|0)>>2],_[t>>2]=0,i&&Ka(i),_[e>>2]=3044,(i=_[e+32>>2])&&(_[e+36>>2]=i,Ka(i)),Ka(e)},a[82]=_i,a[83]=mi,a[84]=ct,a[85]=St,a[86]=bi,a[87]=Ai,a[88]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0,A=0;_[(e|=0)+64>>2]=a,_[e+72>>2]=n,a=Fa((1073741823&n)!=(0|n)?-1:n<<2),r=_[e+68>>2],_[e+68>>2]=a,r&&Ka(r),_[e+8>>2]=n,s=_[(a=e+32|0)>>2],(r=_[e+36>>2]-s>>2)>>>0<n>>>0?de(a,n-r|0):r>>>0<=n>>>0||(_[e+36>>2]=s+(n<<2));e:if(r=_[e+56>>2],!((0|(r=(s=_[r+4>>2])-(a=_[r>>2])|0))<1)){if((0|a)!=(0|s))for(b=r>>2,f=e+8|0,u=e+16|0,d=e+32|0,p=e+20|0,m=e+12|0,A=e+56|0;;){if(vi(e,_[(l<<2)+a>>2],i,l),!(_[f>>2]<1)){for(h=_[e+68>>2],a=0;(0|(s=_[(r=a<<2)+h>>2]))>(0|(o=_[u>>2]))?(c=_[d>>2],_[r+c>>2]=o):(r=r+(c=_[d>>2])|0,o=_[m>>2],_[r>>2]=(0|s)<(0|o)?o:s),(0|(a=a+1|0))<(0|(s=_[f>>2])););if(r=0,!((0|s)<1))for(h=(a=g(n,l)<<2)+i|0,o=t+a|0;;){a=(s=r<<2)+h|0,s=_[s+o>>2]+_[s+c>>2]|0,_[a>>2]=s;t:{if((0|s)>_[u>>2])s=s-_[p>>2]|0;else{if((0|s)>=_[m>>2])break t;s=s+_[p>>2]|0}_[a>>2]=s}if(!((0|(r=r+1|0))<_[f>>2]))break}}if((0|(l=l+1|0))>=(0|b))break e;if(r=_[A>>2],a=_[r>>2],!(_[r+4>>2]-a>>2>>>0>l>>>0))break}Ga(),P()}return 1},a[89]=function(e){var t=0;return _[(e|=0)>>2]=3812,(t=_[e+76>>2])&&Ka(t),_[e>>2]=3044,(t=_[e+32>>2])&&(_[e+36>>2]=t,Ka(t)),0|e},a[90]=function(e){var t=0;_[(e|=0)>>2]=3812,(t=_[e+76>>2])&&Ka(t),_[e>>2]=3044,(t=_[e+32>>2])&&(_[e+36>>2]=t,Ka(t)),Ka(e)},a[91]=yi,a[92]=mi,a[93]=ct,a[94]=St,a[95]=bi,a[96]=gi,a[97]=function(e,t,i,r,n,a){e|=0,t|=0,i|=0,r|=0,a|=0;var s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0,A=0;r=0;e:if(2==(0|(n|=0))&&(_[e+8>>2]=2,_[e- -64>>2]=a,n=_[(r=e+32|0)>>2],(s=(a=_[e+36>>2]-n|0)>>2)>>>0<=1?de(r,2-s|0):8!=(0|a)&&(_[e+36>>2]=n+8),r=1,n=_[e+56>>2],!((0|(s=(a=_[n+4>>2])-(n=_[n>>2])|0))<1))){if((0|n)!=(0|a))for(p=e+60|0,m=s>>2,s=e+8|0,f=e+16|0,h=e+32|0,u=e+20|0,d=e+12|0,b=e+56|0;;){if(!ki(p,_[(l<<2)+n>>2],i,l)){r=0;break e}if(!(_[s>>2]<1)){for(n=0;(0|(a=_[68+((r=n<<2)+e|0)>>2]))>(0|(o=_[f>>2]))?(c=_[h>>2],_[r+c>>2]=o):(r=r+(c=_[h>>2])|0,o=_[d>>2],_[r>>2]=(0|a)<(0|o)?o:a),(0|(n=n+1|0))<(0|(r=_[s>>2])););if(a=0,!((0|r)<1))for(o=(r=l<<3)+i|0,A=t+r|0;;){r=(n=a<<2)+o|0,n=_[n+A>>2]+_[n+c>>2]|0,_[r>>2]=n;t:{if((0|n)>_[f>>2])n=n-_[u>>2]|0;else{if((0|n)>=_[d>>2])break t;n=n+_[u>>2]|0}_[r>>2]=n}if(!((0|(a=a+1|0))<_[s>>2]))break}}if(r=1,(0|(l=l+1|0))>=(0|m))break e;if(r=_[b>>2],n=_[r>>2],!(_[r+4>>2]-n>>2>>>0>l>>>0))break}Ga(),P()}return 0|r},a[98]=function(e){var t;return _[(e|=0)>>2]=4048,_[e>>2]=3044,(t=_[e+32>>2])&&(_[e+36>>2]=t,Ka(t)),0|e},a[99]=function(e){var t;_[(e|=0)>>2]=4048,_[e>>2]=3044,(t=_[e+32>>2])&&(_[e+36>>2]=t,Ka(t)),Ka(e)},a[100]=Si,a[101]=Ti,a[102]=ct,a[103]=St,a[104]=wi,a[105]=Ei,a[106]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0,A=0,v=0,y=0,g=0;z=s=z-32|0,_[(e|=0)+68>>2]=a,r=_[e+56>>2],n=_[r>>2],o=_[(a=r+4|0)>>2],_[s+24>>2]=0,_[s+16>>2]=0,_[s+20>>2]=0;e:if(!((0|(n=o-n|0))<1)){if((0|(r=_[r>>2]))!=_[a>>2])for(A=n>>2,v=e+60|0,y=e+108|0,u=e+8|0,d=e+16|0,p=e+32|0,m=e+20|0,b=e+12|0,g=e+56|0;;){if(Mi(v,_[(f<<2)+r>>2],s+16|0),o=(n=_[s+20>>2])>>31,l=(a=_[s+16>>2])>>31,c=(h=_[s+24>>2])>>31,r=0,(o=(c^=c+h)+((o^n+o)+(l^a+l)|0)|0)>>>0<c>>>0&&(r=1),r|o?(n=ss(as(l=_[e+104>>2],c=l>>31,n,n>>31),j,o,r),_[s+20>>2]=n,r=ss(as(l,c,a,a>>31),j,o,r),_[s+16>>2]=r,r=(l-((a=r)+(r>>=31)^r)|0)+((0|n)<0?n:0-n|0)|0,_[s+24>>2]=(0|h)>=0?r:0-r):_[s+16>>2]=_[e+104>>2],r=Zi(y),a=_[s+16>>2],r?(_[s+24>>2]=0-_[s+24>>2],n=0-_[s+20>>2]|0,_[s+20>>2]=n,a=0-a|0,_[s+16>>2]=a):n=_[s+20>>2],(0|a)>=0?(a=(r=_[e+104>>2])+_[s+24>>2]|0,r=r+n|0):((0|n)<=-1?(r=(a=_[s+24>>2])>>31,r^=r+a):(r=(a=_[s+24>>2])>>31,r=_[e+100>>2]-(r^r+a)|0),(0|a)<=-1?a=(a=n)+(n>>=31)^n:(a=n,n>>=31,a=_[e+100>>2]-(a+n^n)|0)),n=_[e+100>>2],r|a?(0|n)!=(0|a)|r?(0|r)!=(0|n)|a?r||(0|(o=_[e+104>>2]))>=(0|a)?(0|r)!=(0|n)||(0|(o=_[e+104>>2]))<=(0|a)?(0|n)!=(0|a)||(0|(n=_[e+104>>2]))<=(0|r)?a||(a=0,(0|(n=_[e+104>>2]))>=(0|r)||(r=(n<<1)-r|0)):r=(n<<1)-r|0:a=(o<<1)-a|0:(a=(o<<1)-a|0,r=0):a=r:r=a:(a=n,r=n),_[s+12>>2]=a,_[s+8>>2]=r,!(_[u>>2]<1)){for(a=0;(0|r)>(0|(o=_[d>>2]))?(n=_[p>>2],_[n+(a<<2)>>2]=o):(o=(n=_[p>>2])+(a<<2)|0,l=_[b>>2],_[o>>2]=(0|r)<(0|l)?l:r),(0|(a=a+1|0))<(0|(o=_[u>>2]));)r=_[(s+8|0)+(a<<2)>>2];if(r=0,!((0|o)<1))for(l=(a=f<<3)+i|0,h=t+a|0;;){a=(o=r<<2)+l|0,o=_[o+h>>2]+_[n+o>>2]|0,_[a>>2]=o;t:{if((0|o)>_[d>>2])c=o-_[m>>2]|0;else{if((0|o)>=_[b>>2])break t;c=o+_[m>>2]|0}_[a>>2]=c}if(!((0|(r=r+1|0))<_[u>>2]))break}}if((0|(f=f+1|0))>=(0|A))break e;if(n=_[g>>2],r=_[n>>2],!(_[n+4>>2]-r>>2>>>0>f>>>0))break}Ga(),P()}return z=s+32|0,1},a[107]=nt,a[108]=at,a[109]=Pi,a[110]=He,a[111]=Mi,a[112]=oi,a[113]=ct,a[114]=li,a[115]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s,o,l,c,f=0,h=0,u=0,d=0,p=0,m=0,b=0,A=0,v=0,y=0,k=0,x=0;if(_[(e|=0)+8>>2]=n,h=_[(a=e+32|0)>>2],(r=_[e+36>>2]-h>>2)>>>0<n>>>0?de(a,n-r|0):r>>>0<=n>>>0||(_[e+36>>2]=h+(n<<2)),c=_[e+52>>2],o=_[e+48>>2],r=0,s=ts(Fa(a=(1073741823&n)!=(0|n)?-1:n<<2),0,a),!((0|(a=_[(p=e+8|0)>>2]))<1)){for(b=e+16|0,h=e+32|0,A=e+12|0;(0|(f=_[(a=r<<2)+s>>2]))>(0|(d=_[b>>2]))?(m=_[h>>2],_[a+m>>2]=d):(a=a+(m=_[h>>2])|0,d=_[A>>2],_[a>>2]=(0|f)<(0|d)?d:f),(0|(r=r+1|0))<(0|(a=_[p>>2])););if(!((0|a)<1))for(h=0,p=e+16|0,f=e+20|0,b=e+8|0,A=e+12|0;;){r=(a=h<<2)+i|0,a=_[t+a>>2]+_[a+m>>2]|0,_[r>>2]=a;e:{if((0|a)>_[p>>2])a=a-_[f>>2]|0;else{if((0|a)>=_[A>>2])break e;a=a+_[f>>2]|0}_[r>>2]=a}if(!((0|(h=h+1|0))<(0|(a=_[b>>2]))))break}}if(r=_[e+56>>2],l=_[r>>2],(0|(r=_[r+4>>2]-l|0))>=5)for(x=r>>2,m=e+16|0,p=e+32|0,b=e+8|0,A=e+20|0,d=e+12|0,h=1;;){e:{t:{if(x>>>0>h>>>0){if(k=g(n,h),-1==(0|(e=_[(h<<2)+l>>2])))break t;if(-1==(0|(e=_[_[o+12>>2]+(e<<2)>>2])))break t;if(r=-1,u=_[c>>2],f=_[o>>2],v=_[u+(_[f+(e<<2)>>2]<<2)>>2],y=-1!=(0|(y=((y=e+1|0)>>>0)%3|0?y:e+-2|0))?_[f+(y<<2)>>2]:-1,-1!=(0|(e=e+((e>>>0)%3|0?-1:2)|0))&&(r=_[f+(e<<2)>>2]),(0|v)>=(0|h))break t;if((0|(e=_[(y<<2)+u>>2]))>=(0|h))break t;if((0|(r=_[u+(r<<2)>>2]))>=(0|h))break t;if((0|n)>=1)for(f=g(r,n),e=g(e,n),u=g(n,v),r=0;_[(r<<2)+s>>2]=(_[(r+f<<2)+i>>2]+_[(e+r<<2)+i>>2]|0)-_[(r+u<<2)+i>>2],(0|n)!=(0|(r=r+1|0)););if((0|a)<1)break e;for(r=0;(0|(a=_[(e=r<<2)+s>>2]))>(0|(u=_[m>>2]))?(f=_[p>>2],_[e+f>>2]=u):(e=e+(f=_[p>>2])|0,u=_[d>>2],_[e>>2]=(0|a)<(0|u)?u:a),(0|(r=r+1|0))<(0|(a=_[b>>2])););if(r=0,(0|a)<1)break e;for(k=(e=k<<2)+i|0,u=e+t|0;;){e=(a=r<<2)+k|0,a=_[a+u>>2]+_[a+f>>2]|0,_[e>>2]=a;i:{if((0|a)>_[m>>2])a=a-_[A>>2]|0;else{if((0|a)>=_[d>>2])break i;a=a+_[A>>2]|0}_[e>>2]=a}if(!((0|(r=r+1|0))<(0|(a=_[b>>2]))))break}break e}Ga(),P()}if(!((0|a)<1)){for(u=(g(h+-1|0,n)<<2)+i|0,r=0;(0|(a=_[(e=r<<2)+u>>2]))>(0|(v=_[m>>2]))?(f=_[p>>2],_[e+f>>2]=v):(e=e+(f=_[p>>2])|0,v=_[d>>2],_[e>>2]=(0|a)<(0|v)?v:a),(0|(r=r+1|0))<(0|(a=_[b>>2])););if(r=0,!((0|a)<1))for(k=(e=k<<2)+i|0,u=e+t|0;;){e=(a=r<<2)+k|0,a=_[a+u>>2]+_[a+f>>2]|0,_[e>>2]=a;t:{if((0|a)>_[m>>2])a=a-_[A>>2]|0;else{if((0|a)>=_[d>>2])break t;a=a+_[A>>2]|0}_[e>>2]=a}if(!((0|(r=r+1|0))<(0|(a=_[b>>2]))))break}}}if(!((0|(h=h+1|0))<(0|x)))break}return Ka(s),1},a[116]=xt,a[117]=oi,a[118]=st,a[119]=li,a[120]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s,o,l,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0,A=0,v=0,y=0,k=0,x=0,S=0,T=0,w=0,E=0,M=0,R=0;if(_[(e|=0)+8>>2]=n,c=_[(a=e+32|0)>>2],(r=_[e+36>>2]-c>>2)>>>0<n>>>0?de(a,n-r|0):r>>>0<=n>>>0||(_[e+36>>2]=c+(n<<2)),c=0,s=ts(Fa(r=(1073741823&n)!=(0|n)?-1:n<<2),0,r),o=ts(Fa(r),0,r),!((0|(f=_[(u=e+8|0)>>2]))<1)){for(b=e+16|0,r=e+32|0,A=e+12|0;(0|(f=_[(a=c<<2)+s>>2]))>(0|(d=_[b>>2]))?(h=_[r>>2],_[a+h>>2]=d):(a=a+(h=_[r>>2])|0,d=_[A>>2],_[a>>2]=(0|f)<(0|d)?d:f),(0|(c=c+1|0))<(0|(f=_[u>>2])););if(!((0|f)<1))for(a=0,b=e+16|0,u=e+20|0,A=e+8|0,d=e+12|0;;){r=(c=a<<2)+i|0,c=_[t+c>>2]+_[c+h>>2]|0,_[r>>2]=c;e:{if((0|c)>_[b>>2])p=c-_[u>>2]|0;else{if((0|c)>=_[d>>2])break e;p=c+_[u>>2]|0}_[r>>2]=p}if(!((0|(a=a+1|0))<(0|(f=_[A>>2]))))break}}if(r=_[e+56>>2],l=_[r>>2],(0|(r=_[r+4>>2]-l|0))>=5)for(x=r>>2,S=_[e+48>>2],M=n<<2,R=_[e+52>>2],b=e+16|0,A=e+32|0,d=e+8|0,y=e+20|0,k=e+12|0,u=1;;){e:{t:{i:if(x>>>0>u>>>0){if(a=_[(u<<2)+l>>2],(T=(0|n)<1)||ts(s,0,M),-1==(0|a)){e=g(n,u);break t}for(w=_[S+12>>2],m=0,r=a;;){if(-1!=(0|(e=_[w+(r<<2)>>2]))&&(h=-1,v=_[R>>2],c=_[S>>2],E=_[v+(_[c+(e<<2)>>2]<<2)>>2],p=-1!=(0|(p=((p=e+1|0)>>>0)%3|0?p:e+-2|0))?_[c+(p<<2)>>2]:-1,-1!=(0|(e=e+((e>>>0)%3|0?-1:2)|0))&&(h=_[c+(e<<2)>>2]),!((0|E)>=(0|u))&&!((0|(e=_[(p<<2)+v>>2]))>=(0|u))&&!((0|(c=_[v+(h<<2)>>2]))>=(0|u)))){if(!T){for(h=g(n,c),e=g(e,n),v=g(n,E),c=0;_[o+(c<<2)>>2]=(_[(c+h<<2)+i>>2]+_[(e+c<<2)+i>>2]|0)-_[(c+v<<2)+i>>2],(0|(c=c+1|0))!=(0|n););if(c=0,!((0|n)<=0))for(;_[(h=(e=c<<2)+s|0)>>2]=_[h>>2]+_[e+o>>2],(0|(c=c+1|0))!=(0|n););}m=m+1|0}if(e=-1,-1!=(0|(r=((r>>>0)%3|0?-1:2)+r|0))&&(e=-1,-1!=(0|(r=_[w+(r<<2)>>2]))&&(e=r+-1|0,(r>>>0)%3||(e=r+2|0))),-1==(0|(r=(0|e)==(0|a)?-1:e)))break}if(e=g(n,u),!m)break t;if(c=0,(0|n)<=0)break i;for(;_[(r=(c<<2)+s|0)>>2]=_[r>>2]/(0|m),(0|(c=c+1|0))!=(0|n););}else Ga(),P();if((0|f)<1)break e;for(c=0;(0|(a=_[(r=c<<2)+s>>2]))>(0|(f=_[b>>2]))?(h=_[A>>2],_[r+h>>2]=f):(r=r+(h=_[A>>2])|0,f=_[k>>2],_[r>>2]=(0|a)<(0|f)?f:a),(0|(c=c+1|0))<(0|(f=_[d>>2])););if(a=0,(0|f)<1)break e;for(c=(e<<=2)+i|0,m=e+t|0;;){e=(r=a<<2)+c|0,r=_[r+m>>2]+_[r+h>>2]|0,_[e>>2]=r;i:{if((0|r)>_[b>>2])r=r-_[y>>2]|0;else{if((0|r)>=_[k>>2])break i;r=r+_[y>>2]|0}_[e>>2]=r}if(!((0|(a=a+1|0))<(0|(f=_[d>>2]))))break}break e}if(!((0|f)<1)){for(m=(g(u+-1|0,n)<<2)+i|0,c=0;(0|(a=_[(r=c<<2)+m>>2]))>(0|(f=_[b>>2]))?(h=_[A>>2],_[r+h>>2]=f):(r=r+(h=_[A>>2])|0,f=_[k>>2],_[r>>2]=(0|a)<(0|f)?f:a),(0|(c=c+1|0))<(0|(f=_[d>>2])););if(a=0,!((0|f)<1))for(c=(e<<=2)+i|0,m=e+t|0;;){e=(r=a<<2)+c|0,r=_[r+m>>2]+_[r+h>>2]|0,_[e>>2]=r;t:{if((0|r)>_[b>>2])r=r-_[y>>2]|0;else{if((0|r)>=_[k>>2])break t;r=r+_[y>>2]|0}_[e>>2]=r}if(!((0|(a=a+1|0))<(0|(f=_[d>>2]))))break}}}if(!((0|(u=u+1|0))<(0|x)))break}return Ka(o),Ka(s),1},a[121]=function(e){var t=0;return _[(e|=0)>>2]=5324,(t=_[e+96>>2])&&Ka(t),(t=_[e+84>>2])&&Ka(t),(t=_[e+72>>2])&&Ka(t),(t=_[e+60>>2])&&Ka(t),_[e>>2]=3044,(t=_[e+32>>2])&&(_[e+36>>2]=t,Ka(t)),0|e},a[122]=function(e){var t=0;_[(e|=0)>>2]=5324,(t=_[e+96>>2])&&Ka(t),(t=_[e+84>>2])&&Ka(t),(t=_[e+72>>2])&&Ka(t),(t=_[e+60>>2])&&Ka(t),_[e>>2]=3044,(t=_[e+32>>2])&&(_[e+36>>2]=t,Ka(t)),Ka(e)},a[123]=hi,a[124]=li,a[125]=ui,a[126]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s,o,l,c,f=0,h=0,u=0,d=0,p=0,m=0,b=0,A=0,v=0,y=0,k=0,x=0,S=0,T=0,w=0,E=0,M=0,R=0,C=0,O=0,I=0;z=s=z+-64|0,_[(e|=0)+8>>2]=n,u=_[(a=e+32|0)>>2],(r=_[e+36>>2]-u>>2)>>>0<n>>>0?de(a,n-r|0):r>>>0<=n>>>0||(_[e+36>>2]=u+(n<<2)),_[s+56>>2]=0,_[s+60>>2]=0,_[s+48>>2]=0,_[s+52>>2]=0,_[s+40>>2]=0,_[s+44>>2]=0,_[(r=s+32|0)>>2]=0,_[r+4>>2]=0,_[s+24>>2]=0,_[s+28>>2]=0,_[s+16>>2]=0,_[s+20>>2]=0,_[s>>2]=0,a=0,n&&(kt(s+16|0,n,s),h=_[s+28>>2],a=_[r>>2]),_[s>>2]=0;e:if((r=a-h>>2)>>>0>=n>>>0){if(r>>>0<=n>>>0)break e;_[s+32>>2]=(n<<2)+h}else kt(s+16|12,n-r|0,s);_[s>>2]=0,a=_[s+40>>2];e:if((r=_[s+44>>2]-a>>2)>>>0>=n>>>0){if(r>>>0<=n>>>0)break e;_[s+44>>2]=a+(n<<2)}else kt(s+40|0,n-r|0,s);_[s>>2]=0,a=_[s+52>>2];e:if((r=_[s+56>>2]-a>>2)>>>0>=n>>>0){if(r>>>0<=n>>>0)break e;_[s+56>>2]=a+(n<<2)}else kt(s+52|0,n-r|0,s);if(!(_[(p=e+8|0)>>2]<=0)){for(b=_[s+16>>2],h=0,d=e+16|0,r=e+32|0,x=e+12|0;(0|(f=_[(a=h<<2)+b>>2]))>(0|(A=_[d>>2]))?(u=_[r>>2],_[a+u>>2]=A):(a=a+(u=_[r>>2])|0,A=_[x>>2],_[a>>2]=(0|f)<(0|A)?A:f),(0|(h=h+1|0))<(0|(a=_[p>>2])););if(!((0|a)<1))for(a=0,p=e+16|0,h=e+20|0,b=e+8|0,d=e+12|0;;){r=(f=a<<2)+i|0,f=_[t+f>>2]+_[f+u>>2]|0,_[r>>2]=f;e:{if((0|f)>_[p>>2])f=f-_[h>>2]|0;else{if((0|f)>=_[d>>2])break e;f=f+_[h>>2]|0}_[r>>2]=f}if(!((0|(a=a+1|0))<_[b>>2]))break}}c=_[e+52>>2],l=_[e+48>>2],o=Fa(16),_[(r=o)>>2]=0,_[r+4>>2]=0,_[r+8>>2]=0,_[r+12>>2]=0,_[s+8>>2]=0,_[s>>2]=0,_[s+4>>2]=0;e:{if(n){if(n>>>0>=1073741824)break e;S=Fa(r=n<<2),_[s>>2]=S,a=r+S|0,_[s+8>>2]=a,ts(S,0,r),_[s+4>>2]=a}u=1,r=_[e+56>>2],C=_[r>>2];t:if(!((0|(r=_[r+4>>2]-C|0))<5))for(O=r>>2,I=n<<2,b=e+8|0,x=e+16|0,A=e+32|0,E=e+20|0,M=e+12|0,p=1;;){i:{r:{n:{if(O>>>0>p>>>0){a:{s:if(-1!=(0|(u=_[(p<<2)+C>>2]))){R=(m=_[l+12>>2])+((w=u+((u>>>0)%3|0?-1:2)|0)<<2)|0,d=1,a=0,r=u;o:{for(;;){if(-1!=(0|(f=_[m+(r<<2)>>2]))&&(h=-1,k=_[c>>2],v=_[l>>2],T=_[k+(_[v+(f<<2)>>2]<<2)>>2],y=-1!=(0|(y=((y=f+1|0)>>>0)%3|0?y:f+-2|0))?_[v+(y<<2)>>2]:-1,-1!=(0|(f=f+((f>>>0)%3|0?-1:2)|0))&&(h=_[v+(f<<2)>>2]),!((0|T)>=(0|p))&&!((0|(f=_[(y<<2)+k>>2]))>=(0|p))&&!((0|(h=_[k+(h<<2)>>2]))>=(0|p)))){if(v=_[(s+16|0)+g(a,12)>>2],(0|n)>=1)for(k=g(n,h),f=g(n,f),T=g(n,T),h=0;_[v+(h<<2)>>2]=(_[(h+k<<2)+i>>2]+_[(f+h<<2)+i>>2]|0)-_[(h+T<<2)+i>>2],(0|(h=h+1|0))!=(0|n););if(f=4,4==(0|(a=a+1|0)))break o}l:if(1&d){if(f=-1,-1==(0|(r=((v=r+1|0)>>>0)%3|0?v:r+-2|0)))break l;if(f=-1,-1==(0|(r=_[m+(r<<2)>>2])))break l;f=((f=r+1|0)>>>0)%3|0?f:r+-2|0}else f=-1,-1!=(0|(r=((r>>>0)%3|0?-1:2)+r|0))&&(f=-1,-1!=(0|(r=_[m+(r<<2)>>2]))&&(f=r+-1|0,(r>>>0)%3||(f=r+2|0)));l:if((0|f)!=(0|u)){if(r=f,r=(h=1&((f=-1!=(0|f))|-1^d))?r:-1,d&=f,!(-1==(0|w)|h)){if(-1==(0|(f=_[R>>2])))break l;d=0,r=(f>>>0)%3?f+-1|0:f+2|0}if(-1!=(0|r))continue}break}if((0|(f=a))<1)break s}for((m=(0|n)<1)||ts(S,0,I),d=((r=f+-1|0)<<2)+o|0,v=(r=g(r,12)+e|0)+60|0,k=_[r- -64>>2],u=0,T=_[s>>2],r=0,a=0;;){if(h=_[d>>2],_[d>>2]=h+1,k>>>0<=h>>>0)break t;if(!(_[_[v>>2]+(h>>>3&536870908)>>2]>>>(31&h)&1)&&(a=a+1|0,!m))for(y=_[(s+16|0)+g(r,12)>>2],h=0;_[(R=(w=h<<2)+T|0)>>2]=_[R>>2]+_[y+w>>2],(0|(h=h+1|0))!=(0|n););if((0|f)==(0|(r=r+1|0)))break}if(r=f=g(n,p),!a)break a;if(h=0,(0|n)>0)break n;break r}r=g(n,p)}if(_[b>>2]<1)break i;for(d=(g(p+-1|0,n)<<2)+i|0,h=0;(0|(f=_[(a=h<<2)+d>>2]))>(0|(m=_[x>>2]))?(u=_[A>>2],_[a+u>>2]=m):(a=a+(u=_[A>>2])|0,m=_[M>>2],_[a>>2]=(0|f)<(0|m)?m:f),(0|(h=h+1|0))<(0|(f=_[b>>2])););if(a=0,(0|f)<1)break i;for(h=(r<<=2)+i|0,d=t+r|0;;){r=(f=a<<2)+h|0,f=_[f+d>>2]+_[f+u>>2]|0,_[r>>2]=f;a:{if((0|f)>_[x>>2])f=f-_[E>>2]|0;else{if((0|f)>=_[M>>2])break a;f=f+_[E>>2]|0}_[r>>2]=f}if(!((0|(a=a+1|0))<_[b>>2]))break}break i}Ga(),P()}for(;_[(r=(h<<2)+S|0)>>2]=_[r>>2]/(0|a),(0|(h=h+1|0))!=(0|n););}if(!(_[b>>2]<1)){for(h=0;(0|(a=_[(r=h<<2)+S>>2]))>(0|(d=_[x>>2]))?(u=_[A>>2],_[r+u>>2]=d):(r=r+(u=_[A>>2])|0,d=_[M>>2],_[r>>2]=(0|a)<(0|d)?d:a),(0|(h=h+1|0))<(0|(r=_[b>>2])););if(a=0,!((0|r)<1))for(h=(r=f<<2)+i|0,d=t+r|0;;){r=(f=a<<2)+h|0,f=_[f+d>>2]+_[f+u>>2]|0,_[r>>2]=f;r:{if((0|f)>_[x>>2])f=f-_[E>>2]|0;else{if((0|f)>=_[M>>2])break r;f=f+_[E>>2]|0}_[r>>2]=f}if(!((0|(a=a+1|0))<_[b>>2]))break}}}if(u=1,!((0|(p=p+1|0))<(0|O)))break}return(e=_[s>>2])&&(_[s+4>>2]=e,Ka(e)),Ka(o),(e=_[s+52>>2])&&(_[s+56>>2]=e,Ka(e)),(e=_[s+40>>2])&&(_[s+44>>2]=e,Ka(e)),(e=_[s+28>>2])&&(_[s+32>>2]=e,Ka(e)),(e=_[s+16>>2])&&(_[s+20>>2]=e,Ka(e)),z=s- -64|0,0|u}Wa(),P()},a[127]=function(e){var t,i=0;return _[(e|=0)>>2]=5560,(i=_[e+76>>2])&&Ka(i),i=_[(t=e+68|0)>>2],_[t>>2]=0,i&&Ka(i),_[e>>2]=3044,(i=_[e+32>>2])&&(_[e+36>>2]=i,Ka(i)),0|e},a[128]=function(e){var t,i=0;_[(e|=0)>>2]=5560,(i=_[e+76>>2])&&Ka(i),i=_[(t=e+68|0)>>2],_[t>>2]=0,i&&Ka(i),_[e>>2]=3044,(i=_[e+32>>2])&&(_[e+36>>2]=i,Ka(i)),Ka(e)},a[129]=_i,a[130]=mi,a[131]=ct,a[132]=St,a[133]=bi,a[134]=Ai,a[135]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0,A=0;_[(e|=0)+64>>2]=a,_[e+72>>2]=n,a=Fa((1073741823&n)!=(0|n)?-1:n<<2),r=_[e+68>>2],_[e+68>>2]=a,r&&Ka(r),_[e+8>>2]=n,s=_[(a=e+32|0)>>2],(r=_[e+36>>2]-s>>2)>>>0<n>>>0?de(a,n-r|0):r>>>0<=n>>>0||(_[e+36>>2]=s+(n<<2));e:if(r=_[e+56>>2],!((0|(r=(s=_[r+4>>2])-(a=_[r>>2])|0))<1)){if((0|a)!=(0|s))for(b=r>>2,f=e+8|0,u=e+16|0,d=e+32|0,p=e+20|0,m=e+12|0,A=e+56|0;;){if(Oi(e,_[(l<<2)+a>>2],i,l),!(_[f>>2]<1)){for(h=_[e+68>>2],a=0;(0|(s=_[(r=a<<2)+h>>2]))>(0|(o=_[u>>2]))?(c=_[d>>2],_[r+c>>2]=o):(r=r+(c=_[d>>2])|0,o=_[m>>2],_[r>>2]=(0|s)<(0|o)?o:s),(0|(a=a+1|0))<(0|(s=_[f>>2])););if(r=0,!((0|s)<1))for(h=(a=g(n,l)<<2)+i|0,o=t+a|0;;){a=(s=r<<2)+h|0,s=_[s+o>>2]+_[s+c>>2]|0,_[a>>2]=s;t:{if((0|s)>_[u>>2])s=s-_[p>>2]|0;else{if((0|s)>=_[m>>2])break t;s=s+_[p>>2]|0}_[a>>2]=s}if(!((0|(r=r+1|0))<_[f>>2]))break}}if((0|(l=l+1|0))>=(0|b))break e;if(r=_[A>>2],a=_[r>>2],!(_[r+4>>2]-a>>2>>>0>l>>>0))break}Ga(),P()}return 1},a[136]=function(e){var t=0;return _[(e|=0)>>2]=5776,(t=_[e+76>>2])&&Ka(t),_[e>>2]=3044,(t=_[e+32>>2])&&(_[e+36>>2]=t,Ka(t)),0|e},a[137]=function(e){var t=0;_[(e|=0)>>2]=5776,(t=_[e+76>>2])&&Ka(t),_[e>>2]=3044,(t=_[e+32>>2])&&(_[e+36>>2]=t,Ka(t)),Ka(e)},a[138]=yi,a[139]=mi,a[140]=ct,a[141]=St,a[142]=bi,a[143]=gi,a[144]=function(e,t,i,r,n,a){e|=0,t|=0,i|=0,r|=0,a|=0;var s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0,A=0;r=0;e:if(2==(0|(n|=0))&&(_[e+8>>2]=2,_[e- -64>>2]=a,n=_[(r=e+32|0)>>2],(s=(a=_[e+36>>2]-n|0)>>2)>>>0<=1?de(r,2-s|0):8!=(0|a)&&(_[e+36>>2]=n+8),r=1,n=_[e+56>>2],!((0|(s=(a=_[n+4>>2])-(n=_[n>>2])|0))<1))){if((0|n)!=(0|a))for(p=e+60|0,m=s>>2,s=e+8|0,f=e+16|0,h=e+32|0,u=e+20|0,d=e+12|0,b=e+56|0;;){if(!Ii(p,_[(l<<2)+n>>2],i,l)){r=0;break e}if(!(_[s>>2]<1)){for(n=0;(0|(a=_[68+((r=n<<2)+e|0)>>2]))>(0|(o=_[f>>2]))?(c=_[h>>2],_[r+c>>2]=o):(r=r+(c=_[h>>2])|0,o=_[d>>2],_[r>>2]=(0|a)<(0|o)?o:a),(0|(n=n+1|0))<(0|(r=_[s>>2])););if(a=0,!((0|r)<1))for(o=(r=l<<3)+i|0,A=t+r|0;;){r=(n=a<<2)+o|0,n=_[n+A>>2]+_[n+c>>2]|0,_[r>>2]=n;t:{if((0|n)>_[f>>2])n=n-_[u>>2]|0;else{if((0|n)>=_[d>>2])break t;n=n+_[u>>2]|0}_[r>>2]=n}if(!((0|(a=a+1|0))<_[s>>2]))break}}if(r=1,(0|(l=l+1|0))>=(0|m))break e;if(r=_[b>>2],n=_[r>>2],!(_[r+4>>2]-n>>2>>>0>l>>>0))break}Ga(),P()}return 0|r},a[145]=function(e){var t;return _[(e|=0)>>2]=6e3,_[e>>2]=3044,(t=_[e+32>>2])&&(_[e+36>>2]=t,Ka(t)),0|e},a[146]=function(e){var t;_[(e|=0)>>2]=6e3,_[e>>2]=3044,(t=_[e+32>>2])&&(_[e+36>>2]=t,Ka(t)),Ka(e)},a[147]=Si,a[148]=Ti,a[149]=ct,a[150]=St,a[151]=wi,a[152]=Ei,a[153]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0,A=0,v=0,y=0,g=0;z=s=z-32|0,_[(e|=0)+68>>2]=a,r=_[e+56>>2],n=_[r>>2],o=_[(a=r+4|0)>>2],_[s+24>>2]=0,_[s+16>>2]=0,_[s+20>>2]=0;e:if(!((0|(n=o-n|0))<1)){if((0|(r=_[r>>2]))!=_[a>>2])for(A=n>>2,v=e+60|0,y=e+108|0,u=e+8|0,d=e+16|0,p=e+32|0,m=e+20|0,b=e+12|0,g=e+56|0;;){if(Di(v,_[(f<<2)+r>>2],s+16|0),o=(n=_[s+20>>2])>>31,l=(a=_[s+16>>2])>>31,c=(h=_[s+24>>2])>>31,r=0,(o=(c^=c+h)+((o^n+o)+(l^a+l)|0)|0)>>>0<c>>>0&&(r=1),r|o?(n=ss(as(l=_[e+104>>2],c=l>>31,n,n>>31),j,o,r),_[s+20>>2]=n,r=ss(as(l,c,a,a>>31),j,o,r),_[s+16>>2]=r,r=(l-((a=r)+(r>>=31)^r)|0)+((0|n)<0?n:0-n|0)|0,_[s+24>>2]=(0|h)>=0?r:0-r):_[s+16>>2]=_[e+104>>2],r=Zi(y),a=_[s+16>>2],r?(_[s+24>>2]=0-_[s+24>>2],n=0-_[s+20>>2]|0,_[s+20>>2]=n,a=0-a|0,_[s+16>>2]=a):n=_[s+20>>2],(0|a)>=0?(a=(r=_[e+104>>2])+_[s+24>>2]|0,r=r+n|0):((0|n)<=-1?(r=(a=_[s+24>>2])>>31,r^=r+a):(r=(a=_[s+24>>2])>>31,r=_[e+100>>2]-(r^r+a)|0),(0|a)<=-1?a=(a=n)+(n>>=31)^n:(a=n,n>>=31,a=_[e+100>>2]-(a+n^n)|0)),n=_[e+100>>2],r|a?(0|n)!=(0|a)|r?(0|r)!=(0|n)|a?r||(0|(o=_[e+104>>2]))>=(0|a)?(0|r)!=(0|n)||(0|(o=_[e+104>>2]))<=(0|a)?(0|n)!=(0|a)||(0|(n=_[e+104>>2]))<=(0|r)?a||(a=0,(0|(n=_[e+104>>2]))>=(0|r)||(r=(n<<1)-r|0)):r=(n<<1)-r|0:a=(o<<1)-a|0:(a=(o<<1)-a|0,r=0):a=r:r=a:(a=n,r=n),_[s+12>>2]=a,_[s+8>>2]=r,!(_[u>>2]<1)){for(a=0;(0|r)>(0|(o=_[d>>2]))?(n=_[p>>2],_[n+(a<<2)>>2]=o):(o=(n=_[p>>2])+(a<<2)|0,l=_[b>>2],_[o>>2]=(0|r)<(0|l)?l:r),(0|(a=a+1|0))<(0|(o=_[u>>2]));)r=_[(s+8|0)+(a<<2)>>2];if(r=0,!((0|o)<1))for(l=(a=f<<3)+i|0,h=t+a|0;;){a=(o=r<<2)+l|0,o=_[o+h>>2]+_[n+o>>2]|0,_[a>>2]=o;t:{if((0|o)>_[d>>2])c=o-_[m>>2]|0;else{if((0|o)>=_[b>>2])break t;c=o+_[m>>2]|0}_[a>>2]=c}if(!((0|(r=r+1|0))<_[u>>2]))break}}if((0|(f=f+1|0))>=(0|A))break e;if(n=_[g>>2],r=_[n>>2],!(_[n+4>>2]-r>>2>>>0>f>>>0))break}Ga(),P()}return z=s+32|0,1},a[154]=nt,a[155]=at,a[156]=Pi,a[157]=He,a[158]=Di,a[159]=oi,a[160]=ci,a[161]=ct,a[162]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0,A=0,v=0,y=0;if(_[(e|=0)+8>>2]=n,o=_[(l=e+32|0)>>2],(a=_[e+36>>2]-o>>2)>>>0<n>>>0?de(l,n-a|0):a>>>0<=n>>>0||(_[e+36>>2]=o+(n<<2)),l=0,s=ts(Fa(a=(1073741823&n)!=(0|n)?-1:n<<2),0,a),!((0|(o=_[(h=e+8|0)>>2]))<1)){for(d=e+16|0,a=e+32|0,p=e+12|0;(0|(f=_[(o=l<<2)+s>>2]))>(0|(c=_[d>>2]))?(u=_[a>>2],_[o+u>>2]=c):(o=o+(u=_[a>>2])|0,c=_[p>>2],_[o>>2]=(0|f)<(0|c)?c:f),(0|(l=l+1|0))<(0|(o=_[h>>2])););if(!((0|o)<1))for(l=0,h=e+16|0,f=e+20|0,d=e+8|0,p=e+12|0;;){a=(o=l<<2)+i|0,o=_[t+o>>2]+_[o+u>>2]|0,_[a>>2]=o;e:{if((0|o)>_[h>>2])o=o-_[f>>2]|0;else{if((0|o)>=_[p>>2])break e;o=o+_[f>>2]|0}_[a>>2]=o}if(!((0|(l=l+1|0))<(0|(o=_[d>>2]))))break}}if((0|n)<(0|r))for(v=0-n<<2,f=e+16|0,u=e+32|0,h=e+8|0,d=e+20|0,p=e+12|0,a=n;;){if(!((0|o)<1)){for(y=(A=(b=a<<2)+i|0)+v|0,l=0;(0|(o=_[(e=l<<2)+y>>2]))>(0|(m=_[f>>2]))?(c=_[u>>2],_[e+c>>2]=m):(e=e+(c=_[u>>2])|0,m=_[p>>2],_[e>>2]=(0|o)<(0|m)?m:o),(0|(l=l+1|0))<(0|(o=_[h>>2])););if(l=0,!((0|o)<1))for(b=t+b|0;;){e=(o=l<<2)+A|0,o=_[o+b>>2]+_[o+c>>2]|0,_[e>>2]=o;e:{if((0|o)>_[f>>2])o=o-_[d>>2]|0;else{if((0|o)>=_[p>>2])break e;o=o+_[d>>2]|0}_[e>>2]=o}if(!((0|(l=l+1|0))<(0|(o=_[h>>2]))))break}}if(!((0|(a=n+a|0))<(0|r)))break}return Ka(s),1},a[163]=ai,a[164]=function(e,t,i){var r=0;return ri(e|=0,t|=0,i|=0)&&(e=_[e+8>>2],3==m[e+24|0]&&(r=9==_[e+28>>2])),0|r},a[165]=function(e,t,i){t|=0,i|=0;var r,n=0,a=0,s=0,o=0;z=r=z-16|0;e:{if(m[_[(e|=0)+4>>2]+36|0]<=1)t=_[e+24>>2];else{if(s=_[i+16>>2],o=0,(0|(n=_[i+12>>2]))<(0|(t=a=_[i+20>>2]))||(0|n)<=(0|t)&&!(A[i+8>>2]>s>>>0))break e;t=m[s+_[i>>2]|0],(n=s+1|0)>>>0<1&&(a=a+1|0),_[i+16>>2]=n,_[i+20>>2]=a,_[e+24>>2]=t}_[r+12>>2]=-1,_[r+8>>2]=1116,_[4+(r+8|0)>>2]=t,o=ft(r+8|0,_[e+16>>2])}return z=r+16|0,0|(e=o)},a[166]=function(e,t,i){t|=0,i|=0;var r=0,n=0,a=0,s=0,o=0;e:{if(m[_[(e|=0)+4>>2]+36|0]<=1){if(r=_[i+16>>2],s=0,(0|(n=_[i+12>>2]))<(0|(o=a=_[i+20>>2]))||(0|n)<=(0|o)&&!(A[i+8>>2]>r>>>0))break e;n=m[r+_[i>>2]|0],(r=r+1|0)>>>0<1&&(a=a+1|0),_[i+16>>2]=r,_[i+20>>2]=a,_[e+24>>2]=n}s=ni(e,t,i)}return 0|s},a[167]=function(e,t,i,r){e|=0,t|=0,i|=0;var n,s=0;z=n=z-32|0;e:if((r=(r|=0)+-2|0)>>>0<=1){if(r-1){if(r=_[t+4>>2],t=_[t+12>>2],_[n+24>>2]=-1,_[n+28>>2]=-1,_[n+16>>2]=-1,_[n+20>>2]=-1,-2==(0|i)){_[n+8>>2]=0,_[e>>2]=0;break e}if(s=_[_[_[r+4>>2]+8>>2]+(t<<2)>>2],1==(0|a[_[_[r>>2]+8>>2]](r))){if(function(e,t,i,r,n,s){var o,l=0,c=0,f=0;o=_[_[_[t+4>>2]+8>>2]+(r<<2)>>2];t:{if(!(1!=(0|a[_[_[t>>2]+8>>2]](t))|i+-1>>>0>5)&&(c=0|a[_[_[t>>2]+36>>2]](t),s=0|a[_[_[t>>2]+44>>2]](t,r),!(!c|!s))){f=0|a[_[_[t>>2]+40>>2]](t,r),r=s+12|0,l=_[t+44>>2];i:{if(f){if(6!=(0|i))break i;t=Fa(104),_[t+4>>2]=o,i=_[n+4>>2],_[t+8>>2]=_[n>>2],_[t+12>>2]=i,i=_[n+12>>2],_[t+16>>2]=_[n+8>>2],_[t+20>>2]=i,_[t+36>>2]=s,_[t+32>>2]=r,_[t+28>>2]=f,_[t+24>>2]=l,_[t+64>>2]=s,_[t+60>>2]=r,_[t+56>>2]=f,_[t+52>>2]=l,_[t+44>>2]=0,_[t+48>>2]=0,_[t>>2]=6860,_[t+72>>2]=-1,_[t+76>>2]=-1,_[t+68>>2]=1,_[t+40>>2]=7384;break t}if(6==(0|i)){t=Fa(104),_[t+4>>2]=o,i=_[n+4>>2],_[t+8>>2]=_[n>>2],_[t+12>>2]=i,i=_[n+12>>2],_[t+16>>2]=_[n+8>>2],_[t+20>>2]=i,_[t+36>>2]=s,_[t+32>>2]=r,_[t+28>>2]=c,_[t+24>>2]=l,_[t+64>>2]=s,_[t+60>>2]=r,_[t+56>>2]=c,_[t+52>>2]=l,_[t+44>>2]=0,_[t+48>>2]=0,_[t>>2]=7796,_[t+72>>2]=-1,_[t+76>>2]=-1,_[t+68>>2]=1,_[t+40>>2]=8188;break t}}_[e>>2]=0}return void(_[e>>2]=0)}_[t+80>>2]=-1,_[t+84>>2]=-1,Yi(t+88|0),_[e>>2]=t}(n+8|0,r,i,t,n+16|0,((t=b[r+36>>1])<<24|t<<8&16711680)>>>16),t=_[n+8>>2]){_[e>>2]=t;break e}_[n+8>>2]=0}t=Fa(24),_[t+4>>2]=s,i=_[n+20>>2],_[t+8>>2]=_[n+16>>2],_[t+12>>2]=i,i=_[n+28>>2],_[t+16>>2]=_[n+24>>2],_[t+20>>2]=i,_[t>>2]=8576,_[n+8>>2]=t,_[e>>2]=t;break e}if(r=_[t+4>>2],t=_[t+12>>2],_[n+24>>2]=-1,_[n+28>>2]=-1,_[n+16>>2]=-1,_[n+20>>2]=-1,-2==(0|i)){_[n+8>>2]=0,_[e>>2]=0;break e}if(s=_[_[_[r+4>>2]+8>>2]+(t<<2)>>2],1==(0|a[_[_[r>>2]+8>>2]](r))){if(function(e,t,i,r,n,s){var o,l=0,c=0,f=0;o=_[_[_[t+4>>2]+8>>2]+(r<<2)>>2];t:{if(!(1!=(0|a[_[_[t>>2]+8>>2]](t))|i+-1>>>0>5)&&(c=0|a[_[_[t>>2]+36>>2]](t),s=0|a[_[_[t>>2]+44>>2]](t,r),!(!c|!s))){f=0|a[_[_[t>>2]+40>>2]](t,r),r=s+12|0,l=_[t+44>>2];i:{if(f){if(6!=(0|i))break i;t=Fa(104),_[t+4>>2]=o,i=_[n+4>>2],_[t+8>>2]=_[n>>2],_[t+12>>2]=i,i=_[n+12>>2],_[t+16>>2]=_[n+8>>2],_[t+20>>2]=i,_[t+36>>2]=s,_[t+32>>2]=r,_[t+28>>2]=f,_[t+24>>2]=l,_[t+64>>2]=s,_[t+60>>2]=r,_[t+56>>2]=f,_[t+52>>2]=l,_[t+44>>2]=0,_[t+48>>2]=0,_[t>>2]=8744,_[t+72>>2]=-1,_[t+76>>2]=-1,_[t+68>>2]=1,_[t+40>>2]=9308;break t}if(6==(0|i)){t=Fa(104),_[t+4>>2]=o,i=_[n+4>>2],_[t+8>>2]=_[n>>2],_[t+12>>2]=i,i=_[n+12>>2],_[t+16>>2]=_[n+8>>2],_[t+20>>2]=i,_[t+36>>2]=s,_[t+32>>2]=r,_[t+28>>2]=c,_[t+24>>2]=l,_[t+64>>2]=s,_[t+60>>2]=r,_[t+56>>2]=c,_[t+52>>2]=l,_[t+44>>2]=0,_[t+48>>2]=0,_[t>>2]=9748,_[t+72>>2]=-1,_[t+76>>2]=-1,_[t+68>>2]=1,_[t+40>>2]=10168;break t}}_[e>>2]=0}return void(_[e>>2]=0)}_[t+80>>2]=-1,_[t+84>>2]=-1,Yi(t+88|0),_[e>>2]=t}(n+8|0,r,i,t,n+16|0,((t=b[r+36>>1])<<24|t<<8&16711680)>>>16),t=_[n+8>>2]){_[e>>2]=t;break e}_[n+8>>2]=0}t=Fa(24),_[t+4>>2]=s,i=_[n+20>>2],_[t+8>>2]=_[n+16>>2],_[t+12>>2]=i,i=_[n+28>>2],_[t+16>>2]=_[n+24>>2],_[t+20>>2]=i,_[t>>2]=10580,_[n+8>>2]=t,_[e>>2]=t}else _[e>>2]=0;z=n+32|0},a[168]=st,a[169]=function(e,t){e|=0,t|=0;var i,r=0,n=0,a=0,s=0,o=k(0),c=0,f=0;z=i=z-32|0,a=l[_[e+8>>2]+24|0],r=_[e+16>>2],_[r+80>>2]&&(s=_[_[r>>2]>>2]+_[r+48>>2]|0),_[i+8>>2]=-1,_[i+12>>2]=-1,_[i>>2]=-1,_[i+4>>2]=-1;e:if(!((r=_[e+24>>2])+-2>>>0>28))if(_[i>>2]=r,n=-2-(r=-1<<r)|0,_[i+8>>2]=n,_[i+4>>2]=-1^r,_[i+12>>2]=(0|n)/2,t)for(a<<=2,r=0,f=e+8|0,e=0;;){if(o=k(k(1)/k(0|n)),Ni(k(o*k(_[(n=r<<2)+s>>2])),k(o*k(_[(4|n)+s>>2])),i+20|0),es(_[_[_[f>>2]- -64>>2]>>2]+e|0,i+20|0,a),n=1,(0|(c=c+1|0))==(0|t))break e;r=r+2|0,e=e+a|0,n=_[i+8>>2]}else n=1;return z=i+32|0,0|n},a[170]=function(e){return _[(e|=0)>>2]=6860,0|e},a[171]=function(e){_[(e|=0)>>2]=6860,Ka(e)},a[172]=Si,a[173]=Ge,a[174]=Bi,a[175]=ct,a[176]=St,a[177]=Li,a[178]=ct,a[179]=st,a[180]=Ui,a[181]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s,o,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0;z=s=z-48|0,(r=_[(o=(e|=0)+8|0)>>2])+-2>>>0<=28&&(_[e+72>>2]=r,n=-2-(r=-1<<r)|0,_[e+80>>2]=n,_[e+76>>2]=-1^r,_[e+84>>2]=(0|n)/2),_[e+48>>2]=a,r=_[e+36>>2],n=_[r>>2],l=_[(a=r+4|0)>>2],_[s+16>>2]=0,_[s+8>>2]=0,_[s+12>>2]=0;e:if(!((0|(n=l-n|0))<1)){if((0|(r=_[r>>2]))!=_[a>>2])for(d=n>>2,p=e+40|0,m=e+88|0,b=e+36|0;;){if(Mi(p,_[(h<<2)+r>>2],s+8|0),l=(n=_[s+12>>2])>>31,f=(a=_[s+8>>2])>>31,c=(u=_[s+16>>2])>>31,r=0,(l=(c^=c+u)+((l^n+l)+(f^a+f)|0)|0)>>>0<c>>>0&&(r=1),r|l?(c=f=_[e+84>>2],n=ss(as(f,c>>=31,n,n>>31),j,l,r),_[s+12>>2]=n,r=ss(as(f,c,a,a>>31),j,l,r),_[s+8>>2]=r,r=(f-((a=r)+(r>>=31)^r)|0)+((0|n)<0?n:0-n|0)|0,_[s+16>>2]=(0|u)>=0?r:0-r):_[s+8>>2]=_[e+84>>2],r=Zi(m),a=_[s+8>>2],r?(_[s+16>>2]=0-_[s+16>>2],n=0-_[s+12>>2]|0,_[s+12>>2]=n,a=0-a|0,_[s+8>>2]=a):n=_[s+12>>2],(0|a)>=0?(r=(a=_[e+84>>2])+_[s+16>>2]|0,a=n+a|0):((0|n)<=-1?(a=(r=_[s+16>>2])>>31,a^=r+a):(a=(r=_[s+16>>2])>>31,a=_[e+80>>2]-(a^r+a)|0),(0|r)<=-1?(r=n>>31,r^=r+n):(r=n>>31,r=_[e+80>>2]-(r+n^r)|0)),n=_[e+80>>2],r|a?(0|r)!=(0|n)|a?(0|n)!=(0|a)|r?a||(0|(l=_[e+84>>2]))>=(0|r)?(0|n)!=(0|a)||(0|(l=_[e+84>>2]))<=(0|r)?(0|r)!=(0|n)||(0|(n=_[e+84>>2]))<=(0|a)?r||(r=0,(0|(n=_[e+84>>2]))>=(0|a)||(a=(n<<1)-a|0)):a=(n<<1)-a|0:r=(l<<1)-r|0:(r=(l<<1)-r|0,a=0):r=a:a=r:a=r=n,f=_[(l=(n=h<<3)+t|0)+4>>2],_[s+40>>2]=_[l>>2],_[s+44>>2]=f,_[s+28>>2]=r,_[s+24>>2]=a,Vi(s+32|0,o,s+24|0,s+40|0),_[(r=i+n|0)>>2]=_[s+32>>2],_[r+4>>2]=_[s+36>>2],(0|(h=h+1|0))>=(0|d))break e;if(n=_[b>>2],r=_[n>>2],!(_[n+4>>2]-r>>2>>>0>h>>>0))break}Ga(),P()}return z=s+48|0,1},a[182]=nt,a[183]=at,a[184]=Pi,a[185]=He,a[186]=Mi,a[187]=function(e){return _[(e|=0)>>2]=7796,0|e},a[188]=function(e){_[(e|=0)>>2]=7796,Ka(e)},a[189]=Si,a[190]=Bi,a[191]=ct,a[192]=St,a[193]=Li,a[194]=Ui,a[195]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s,o,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0;z=s=z-48|0,(r=_[(o=(e|=0)+8|0)>>2])+-2>>>0<=28&&(_[e+72>>2]=r,n=-2-(r=-1<<r)|0,_[e+80>>2]=n,_[e+76>>2]=-1^r,_[e+84>>2]=(0|n)/2),_[e+48>>2]=a,r=_[e+36>>2],n=_[r>>2],l=_[(a=r+4|0)>>2],_[s+16>>2]=0,_[s+8>>2]=0,_[s+12>>2]=0;e:if(!((0|(n=l-n|0))<1)){if((0|(r=_[r>>2]))!=_[a>>2])for(d=n>>2,p=e+40|0,m=e+88|0,b=e+36|0;;){if(Di(p,_[(h<<2)+r>>2],s+8|0),l=(n=_[s+12>>2])>>31,f=(a=_[s+8>>2])>>31,c=(u=_[s+16>>2])>>31,r=0,(l=(c^=c+u)+((l^n+l)+(f^a+f)|0)|0)>>>0<c>>>0&&(r=1),r|l?(c=f=_[e+84>>2],n=ss(as(f,c>>=31,n,n>>31),j,l,r),_[s+12>>2]=n,r=ss(as(f,c,a,a>>31),j,l,r),_[s+8>>2]=r,r=(f-((a=r)+(r>>=31)^r)|0)+((0|n)<0?n:0-n|0)|0,_[s+16>>2]=(0|u)>=0?r:0-r):_[s+8>>2]=_[e+84>>2],r=Zi(m),a=_[s+8>>2],r?(_[s+16>>2]=0-_[s+16>>2],n=0-_[s+12>>2]|0,_[s+12>>2]=n,a=0-a|0,_[s+8>>2]=a):n=_[s+12>>2],(0|a)>=0?(r=(a=_[e+84>>2])+_[s+16>>2]|0,a=n+a|0):((0|n)<=-1?(a=(r=_[s+16>>2])>>31,a^=r+a):(a=(r=_[s+16>>2])>>31,a=_[e+80>>2]-(a^r+a)|0),(0|r)<=-1?(r=n>>31,r^=r+n):(r=n>>31,r=_[e+80>>2]-(r+n^r)|0)),n=_[e+80>>2],r|a?(0|r)!=(0|n)|a?(0|n)!=(0|a)|r?a||(0|(l=_[e+84>>2]))>=(0|r)?(0|n)!=(0|a)||(0|(l=_[e+84>>2]))<=(0|r)?(0|r)!=(0|n)||(0|(n=_[e+84>>2]))<=(0|a)?r||(r=0,(0|(n=_[e+84>>2]))>=(0|a)||(a=(n<<1)-a|0)):a=(n<<1)-a|0:r=(l<<1)-r|0:(r=(l<<1)-r|0,a=0):r=a:a=r:a=r=n,f=_[(l=(n=h<<3)+t|0)+4>>2],_[s+40>>2]=_[l>>2],_[s+44>>2]=f,_[s+28>>2]=r,_[s+24>>2]=a,Vi(s+32|0,o,s+24|0,s+40|0),_[(r=i+n|0)>>2]=_[s+32>>2],_[r+4>>2]=_[s+36>>2],(0|(h=h+1|0))>=(0|d))break e;if(n=_[b>>2],r=_[n>>2],!(_[n+4>>2]-r>>2>>>0>h>>>0))break}Ga(),P()}return z=s+48|0,1},a[196]=nt,a[197]=at,a[198]=Pi,a[199]=He,a[200]=Di,a[201]=nt,a[202]=at,a[203]=ci,a[204]=ct,a[205]=ci,a[206]=fi,a[207]=St,a[208]=function(e,t){e|=0;var i,r,n,a,s=0,o=0,l=0,c=0,f=0;r=s=_[(t|=0)+12>>2],l=s,c=s=_[t+20>>2],(o=(i=_[t+16>>2])+4|0)>>>0<4&&(s=s+1|0),n=_[t+8>>2],a=o,o=s;e:if(!((0|l)<(0|s)||(0|l)<=(0|s)&&!(n>>>0>=a>>>0))){if(s=i+_[t>>2]|0,l=m[0|s]|m[s+1|0]<<8|m[s+2|0]<<16|m[s+3|0]<<24,_[t+16>>2]=a,_[t+20>>2]=o,b[t+38>>1]<=513){if(s=c,(o=i+8|0)>>>0<8&&(s=s+1|0),c=o,o=s,(0|r)<(0|s)||(0|r)<=(0|s)&&!(n>>>0>=c>>>0))break e;_[t+16>>2]=c,_[t+20>>2]=o}1&l&&((t=31^S(l))+-1>>>0>28||(f=1,_[e+8>>2]=t+1,t=-2-(s=-2<<t)|0,_[e+16>>2]=t,_[e+12>>2]=-1^s,_[e+20>>2]=(0|t)/2))}return 0|f},a[209]=function(e,t,i,r,n,a){e|=0,t|=0,i|=0,r|=0,a|=0;var s,o=0,l=0,c=0,f=0,h=0,u=0,d=0;if(z=a=z-32|0,s=ts(Fa(o=(1073741823&(n|=0))!=(0|n)?-1:n<<2),0,o),c=_[(o=s)>>2],o=_[o+4>>2],h=_[t+4>>2],_[a+24>>2]=_[t>>2],_[a+28>>2]=h,_[a+8>>2]=c,_[a+12>>2]=o,Vi(a+16|0,c=e+8|0,a+8|0,a+24|0),_[i>>2]=_[a+16>>2],_[i+4>>2]=_[a+20>>2],(0|n)<(0|r))for(h=0-n<<2,e=n;u=_[(f=(o=(l=e<<2)+i|0)+h|0)>>2],f=_[f+4>>2],d=_[(l=t+l|0)+4>>2],_[a+24>>2]=_[l>>2],_[a+28>>2]=d,_[a+8>>2]=u,_[a+12>>2]=f,Vi(a+16|0,c,a+8|0,a+24|0),_[o>>2]=_[a+16>>2],_[o+4>>2]=_[a+20>>2],(0|(e=e+n|0))<(0|r););return Ka(s),z=a+32|0,1},a[210]=function(e){return _[(e|=0)>>2]=8744,0|e},a[211]=function(e){_[(e|=0)>>2]=8744,Ka(e)},a[212]=Si,a[213]=Ge,a[214]=Bi,a[215]=ct,a[216]=St,a[217]=Li,a[218]=ct,a[219]=_i,a[220]=zi,a[221]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s,o,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0;z=s=z-48|0,(r=_[(o=(e|=0)+8|0)>>2])+-2>>>0<=28&&(_[e+72>>2]=r,n=-2-(r=-1<<r)|0,_[e+80>>2]=n,_[e+76>>2]=-1^r,_[e+84>>2]=(0|n)/2),_[e+48>>2]=a,r=_[e+36>>2],n=_[r>>2],l=_[(a=r+4|0)>>2],_[s+16>>2]=0,_[s+8>>2]=0,_[s+12>>2]=0;e:if(!((0|(n=l-n|0))<1)){if((0|(r=_[r>>2]))!=_[a>>2])for(d=n>>2,p=e+40|0,m=e+88|0,b=e+36|0;;){if(Mi(p,_[(h<<2)+r>>2],s+8|0),l=(n=_[s+12>>2])>>31,f=(a=_[s+8>>2])>>31,c=(u=_[s+16>>2])>>31,r=0,(l=(c^=c+u)+((l^n+l)+(f^a+f)|0)|0)>>>0<c>>>0&&(r=1),r|l?(c=f=_[e+84>>2],n=ss(as(f,c>>=31,n,n>>31),j,l,r),_[s+12>>2]=n,r=ss(as(f,c,a,a>>31),j,l,r),_[s+8>>2]=r,r=(f-((a=r)+(r>>=31)^r)|0)+((0|n)<0?n:0-n|0)|0,_[s+16>>2]=(0|u)>=0?r:0-r):_[s+8>>2]=_[e+84>>2],r=Zi(m),a=_[s+8>>2],r?(_[s+16>>2]=0-_[s+16>>2],n=0-_[s+12>>2]|0,_[s+12>>2]=n,a=0-a|0,_[s+8>>2]=a):n=_[s+12>>2],(0|a)>=0?(r=(a=_[e+84>>2])+_[s+16>>2]|0,a=n+a|0):((0|n)<=-1?(a=(r=_[s+16>>2])>>31,a^=r+a):(a=(r=_[s+16>>2])>>31,a=_[e+80>>2]-(a^r+a)|0),(0|r)<=-1?(r=n>>31,r^=r+n):(r=n>>31,r=_[e+80>>2]-(r+n^r)|0)),n=_[e+80>>2],r|a?(0|r)!=(0|n)|a?(0|n)!=(0|a)|r?a||(0|(l=_[e+84>>2]))>=(0|r)?(0|n)!=(0|a)||(0|(l=_[e+84>>2]))<=(0|r)?(0|r)!=(0|n)||(0|(n=_[e+84>>2]))<=(0|a)?r||(r=0,(0|(n=_[e+84>>2]))>=(0|a)||(a=(n<<1)-a|0)):a=(n<<1)-a|0:r=(l<<1)-r|0:(r=(l<<1)-r|0,a=0):r=a:a=r:a=r=n,f=_[(l=(n=h<<3)+t|0)+4>>2],l=_[l>>2],_[s+36>>2]=r,_[s+32>>2]=a,_[s+24>>2]=l,_[s+28>>2]=f,ji(s+40|0,o,s+32|0,s+24|0),_[(r=i+n|0)>>2]=_[s+40>>2],_[r+4>>2]=_[s+44>>2],(0|(h=h+1|0))>=(0|d))break e;if(n=_[b>>2],r=_[n>>2],!(_[n+4>>2]-r>>2>>>0>h>>>0))break}Ga(),P()}return z=s+48|0,1},a[222]=nt,a[223]=at,a[224]=Pi,a[225]=He,a[226]=Mi,a[227]=function(e){return _[(e|=0)>>2]=9748,0|e},a[228]=function(e){_[(e|=0)>>2]=9748,Ka(e)},a[229]=Si,a[230]=Bi,a[231]=ct,a[232]=St,a[233]=Li,a[234]=zi,a[235]=function(e,t,i,r,n,a){t|=0,i|=0,r|=0,n|=0,a|=0;var s,o,l=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0;z=s=z-48|0,(r=_[(o=(e|=0)+8|0)>>2])+-2>>>0<=28&&(_[e+72>>2]=r,n=-2-(r=-1<<r)|0,_[e+80>>2]=n,_[e+76>>2]=-1^r,_[e+84>>2]=(0|n)/2),_[e+48>>2]=a,r=_[e+36>>2],n=_[r>>2],l=_[(a=r+4|0)>>2],_[s+16>>2]=0,_[s+8>>2]=0,_[s+12>>2]=0;e:if(!((0|(n=l-n|0))<1)){if((0|(r=_[r>>2]))!=_[a>>2])for(d=n>>2,p=e+40|0,m=e+88|0,b=e+36|0;;){if(Di(p,_[(h<<2)+r>>2],s+8|0),l=(n=_[s+12>>2])>>31,f=(a=_[s+8>>2])>>31,c=(u=_[s+16>>2])>>31,r=0,(l=(c^=c+u)+((l^n+l)+(f^a+f)|0)|0)>>>0<c>>>0&&(r=1),r|l?(c=f=_[e+84>>2],n=ss(as(f,c>>=31,n,n>>31),j,l,r),_[s+12>>2]=n,r=ss(as(f,c,a,a>>31),j,l,r),_[s+8>>2]=r,r=(f-((a=r)+(r>>=31)^r)|0)+((0|n)<0?n:0-n|0)|0,_[s+16>>2]=(0|u)>=0?r:0-r):_[s+8>>2]=_[e+84>>2],r=Zi(m),a=_[s+8>>2],r?(_[s+16>>2]=0-_[s+16>>2],n=0-_[s+12>>2]|0,_[s+12>>2]=n,a=0-a|0,_[s+8>>2]=a):n=_[s+12>>2],(0|a)>=0?(r=(a=_[e+84>>2])+_[s+16>>2]|0,a=n+a|0):((0|n)<=-1?(a=(r=_[s+16>>2])>>31,a^=r+a):(a=(r=_[s+16>>2])>>31,a=_[e+80>>2]-(a^r+a)|0),(0|r)<=-1?(r=n>>31,r^=r+n):(r=n>>31,r=_[e+80>>2]-(r+n^r)|0)),n=_[e+80>>2],r|a?(0|r)!=(0|n)|a?(0|n)!=(0|a)|r?a||(0|(l=_[e+84>>2]))>=(0|r)?(0|n)!=(0|a)||(0|(l=_[e+84>>2]))<=(0|r)?(0|r)!=(0|n)||(0|(n=_[e+84>>2]))<=(0|a)?r||(r=0,(0|(n=_[e+84>>2]))>=(0|a)||(a=(n<<1)-a|0)):a=(n<<1)-a|0:r=(l<<1)-r|0:(r=(l<<1)-r|0,a=0):r=a:a=r:a=r=n,f=_[(l=(n=h<<3)+t|0)+4>>2],l=_[l>>2],_[s+36>>2]=r,_[s+32>>2]=a,_[s+24>>2]=l,_[s+28>>2]=f,ji(s+40|0,o,s+32|0,s+24|0),_[(r=i+n|0)>>2]=_[s+40>>2],_[r+4>>2]=_[s+44>>2],(0|(h=h+1|0))>=(0|d))break e;if(n=_[b>>2],r=_[n>>2],!(_[n+4>>2]-r>>2>>>0>h>>>0))break}Ga(),P()}return z=s+48|0,1},a[236]=nt,a[237]=at,a[238]=Pi,a[239]=He,a[240]=Di,a[241]=at,a[242]=ci,a[243]=ct,a[244]=ci,a[245]=fi,a[246]=St,a[247]=function(e,t){e|=0;var i,r,n,a,s=0,o=0,l=0,c=0,f=0;return r=s=_[(t|=0)+12>>2],l=s,c=s=_[t+20>>2],(o=(i=_[t+16>>2])+4|0)>>>0<4&&(s=s+1|0),n=_[t+8>>2],a=o,o=s,(0|l)<(0|s)||(0|l)<=(0|s)&&!(n>>>0>=a>>>0)||(s=i+_[t>>2]|0,l=m[0|s]|m[s+1|0]<<8|m[s+2|0]<<16|m[s+3|0]<<24,_[t+16>>2]=a,_[t+20>>2]=o,s=c,(o=i+8|0)>>>0<8&&(s=s+1|0),c=o,o=s,(0|r)<(0|s)||(0|r)<=(0|s)&&!(n>>>0>=c>>>0)||(_[t+16>>2]=c,_[t+20>>2]=o,1&l&&((t=31^S(l))+-1>>>0>28||(f=1,_[e+8>>2]=t+1,t=-2-(s=-2<<t)|0,_[e+16>>2]=t,_[e+12>>2]=-1^s,_[e+20>>2]=(0|t)/2)))),0|f},a[248]=function(e,t,i,r,n,a){e|=0,t|=0,i|=0,r|=0,a|=0;var s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0;if(z=a=z-32|0,o=ts(Fa(o=(1073741823&(n|=0))!=(0|n)?-1:n<<2),0,o),s=_[t>>2],l=_[t+4>>2],f=_[o+4>>2],_[a+16>>2]=_[o>>2],_[a+20>>2]=f,_[a+8>>2]=s,_[a+12>>2]=l,ji(a+24|0,l=e+8|0,a+16|0,a+8|0),_[i>>2]=_[a+24>>2],_[i+4>>2]=_[a+28>>2],(0|n)<(0|r))for(f=0-n<<2,e=n;u=_[(c=(s=e<<2)+t|0)>>2],c=_[c+4>>2],d=_[(h=(s=i+s|0)+f|0)+4>>2],_[a+16>>2]=_[h>>2],_[a+20>>2]=d,_[a+8>>2]=u,_[a+12>>2]=c,ji(a+24|0,l,a+16|0,a+8|0),_[s>>2]=_[a+24>>2],_[s+4>>2]=_[a+28>>2],(0|(e=e+n|0))<(0|r););return Ka(o),z=a+32|0,1},a[249]=function(e){var t=0,i=0;return _[(e|=0)>>2]=10764,t=_[(i=e+28|0)>>2],_[i>>2]=0,t&&Ka(t),_[e>>2]=2220,t=_[(i=e+20|0)>>2],_[i>>2]=0,t&&a[_[_[t>>2]+4>>2]](t),_[e>>2]=1908,t=_[(i=e+16|0)>>2],_[i>>2]=0,t&&Ye(t),0|e},a[250]=function(e){var t=0,i=0;_[(e|=0)>>2]=10764,t=_[(i=e+28|0)>>2],_[i>>2]=0,t&&Ka(t),_[e>>2]=2220,t=_[(i=e+20|0)>>2],_[i>>2]=0,t&&a[_[_[t>>2]+4>>2]](t),_[e>>2]=1908,t=_[(i=e+16|0)>>2],_[i>>2]=0,t&&Ye(t),Ka(e)},a[251]=function(e,t,i){return 0|(e=ri(e|=0,t|=0,i|=0)?9==_[_[_[_[t+4>>2]+8>>2]+(i<<2)>>2]+28>>2]:0)},a[252]=function(e,t,i){return t|=0,i|=0,z=t=z-32|0,m[_[(e|=0)+4>>2]+36|0]>=2&&(i=0,!a[_[_[e>>2]+52>>2]](e))||(_[t+24>>2]=0,_[t+28>>2]=0,_[t+16>>2]=0,_[t+20>>2]=0,_[t+12>>2]=-1,_[t+8>>2]=1232,ot(t+8|0,_[e+24>>2],_[e+28>>2],l[_[e+8>>2]+24|0],v[e+32>>2]),i=ft(t+8|0,_[e+16>>2]),_[t+8>>2]=1232,(e=_[t+16>>2])&&(_[t+20>>2]=e,Ka(e))),z=t+32|0,0|i},a[253]=function(e,t,i){t|=0,i|=0;var r=0;return m[_[(e|=0)+4>>2]+36|0]<=1&&(r=0,!a[_[_[e>>2]+52>>2]](e))||(r=ni(e,t,i)),0|r},a[254]=function(e,t){return t|=0,0|a[_[_[(e|=0)>>2]+56>>2]](e,t)},a[255]=function(e){var t,i,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0;return a=(r=l[_[(e|=0)+8>>2]+24|0])<<2,r=Fa((0|r)!=(1073741823&r)?-1:a),n=_[e+28>>2],_[e+28>>2]=r,n&&Ka(n),n=_[_[(t=e+4|0)>>2]+32>>2],r=_[n+8>>2],i=_[n+12>>2],c=r,o=_[n+20>>2],(s=(f=_[n+16>>2])+(r=a)|0)>>>0<r>>>0&&(o=o+1|0),(0|i)<(0|o)||(0|i)<=(0|o)&&!(c>>>0>=s>>>0)||(es(_[e+28>>2],f+_[n>>2]|0,a),a=n,c=n,s=_[n+20>>2],(n=r+_[n+16>>2]|0)>>>0<r>>>0&&(s=s+1|0),_[c+16>>2]=n,_[a+20>>2]=s,s=_[t>>2],a=_[s+32>>2],r=_[a+8>>2],o=_[a+12>>2],c=r,f=_[a+20>>2],(r=(n=_[a+16>>2])+4|0)>>>0<4&&(f=f+1|0),(0|o)<(0|f)||(0|o)<=(0|f)&&!(c>>>0>=r>>>0)||(r=n+_[a>>2]|0,_[e+32>>2]=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,c=r=a,n=_[r+20>>2],(a=_[r+16>>2]+4|0)>>>0<4&&(n=n+1|0),_[c+16>>2]=a,_[r+20>>2]=n,r=_[s+32>>2],o=_[r+16>>2],(0|(s=_[r+12>>2]))<(0|(n=a=_[r+20>>2]))||(0|s)<=(0|n)&&!(A[r+8>>2]>o>>>0)||(s=m[o+_[r>>2]|0],(n=o+1|0)>>>0<1&&(a=a+1|0),_[r+16>>2]=n,_[r+20>>2]=a,s>>>0>31||(_[e+24>>2]=s,h=1)))),0|h},a[256]=function(e,t){e|=0,t|=0;var i,r,n,a,s,o=0,c=0,f=0,h=0,u=0,d=0,p=0,m=0,b=0,A=k(0);if(z=r=z-16|0,c=_[e+24>>2],n=(i=l[_[e+8>>2]+24|0])<<2,a=Fa((1073741823&i)!=(0|i)?-1:n),fn(s=cn(r+8|0),v[e+32>>2],-1<<c^-1))if(o=_[e+16>>2],c=0,_[o+80>>2]&&(c=_[_[o>>2]>>2]+_[o+48>>2]|0),t)for(d=(0|i)<1,p=e+28|0,m=e+8|0,e=0;;){if(!d)for(b=_[p>>2],A=v[s>>2],o=0;v[(f=o<<2)+a>>2]=k(A*k(_[(e<<2)+c>>2]))+v[b+f>>2],e=e+1|0,(0|i)!=(0|(o=o+1|0)););if(es(_[_[_[m>>2]- -64>>2]>>2]+h|0,a,n),h=n+h|0,o=1,(0|(u=u+1|0))==(0|t))break}else o=1;return Ka(a),z=r+16|0,0|o},a[257]=function(e){var t,i=0,r=0,n=0,s=0;if(_[(e|=0)>>2]=13300,(i=_[e+20>>2])&&(_[e+24>>2]=i,Ka(i)),t=_[e+8>>2]){if(n=i=t,(0|i)!=(0|(r=_[(s=e+12|0)>>2]))){for(;i=_[(r=r+-4|0)>>2],_[r>>2]=0,i&&a[_[_[i>>2]+4>>2]](i),(0|r)!=(0|t););n=_[e+8>>2]}i=n,_[s>>2]=t,Ka(i)}return 0|e},a[258]=xt,a[259]=ct,a[260]=ct,a[261]=function(e){return _[(e|=0)+44>>2]?0|a[_[_[e>>2]+48>>2]](e):0},a[262]=function(e){var t=0,i=0,r=0,n=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0;e:{t=_[(e|=0)+32>>2],n=_[t+16>>2];t:if(!((0|(o=_[t+12>>2]))<(0|(r=_[t+20>>2]))||(0|o)<=(0|r)&&!(A[t+8>>2]>n>>>0))){s=m[n+_[t>>2]|0],(l=n+1|0)>>>0<1&&(r=r+1|0),_[t+16>>2]=l,_[t+20>>2]=r;i:if(s){for(;;){if(a[_[_[e>>2]+16>>2]](e,i)){if((0|s)!=(0|(i=i+1|0)))continue;break i}break}return 0}if((0|(i=_[e+8>>2]))!=(0|(r=_[e+12>>2])))for(;;){if(t=_[i>>2],!a[_[_[t>>2]+8>>2]](t,e,_[e+4>>2]))break t;if((0|r)==(0|(i=i+4|0)))break}if(s){for(i=0,r=e+8|0;;){if(t=_[_[r>>2]+(i<<2)>>2],!a[_[_[t>>2]+12>>2]](t,_[e+32>>2]))break e;if((0|s)==(0|(i=i+1|0)))break}if(s)for(n=e+20|0,c=e+8|0,o=e+24|0;;){if(i=0,t=_[(l=f<<2)+_[c>>2]>>2],(0|(r=0|a[_[_[t>>2]+24>>2]](t)))>0)for(;t=_[_[c>>2]+l>>2],t=0|a[_[_[t>>2]+20>>2]](t,i),h=_[e+20>>2],t>>>0<(u=_[o>>2]-h>>2)>>>0||((d=t+1|0)>>>0>u>>>0?(de(n,d-u|0),h=_[n>>2]):d>>>0>=u>>>0||(_[o>>2]=(d<<2)+h)),_[(t<<2)+h>>2]=f,(0|r)!=(0|(i=i+1|0)););if((0|(f=f+1|0))==(0|s))break}}c=0,a[_[_[e>>2]+28>>2]](e)&&(c=0|a[_[_[e>>2]+32>>2]](e))}return 0|c}return 0},a[263]=function(e){var t,i=0,r=0,n=0;r=1;e:if((0|(i=_[(e|=0)+8>>2]))!=(0|(t=_[e+12>>2]))){for(;;){if(n=_[i>>2],a[_[_[n>>2]+16>>2]](n,_[e+32>>2])){if((0|t)!=(0|(i=i+4|0)))continue;break e}break}r=0}return 0|r},a[264]=ct,a[265]=ci,a[266]=St,a[267]=St,a[268]=function(e){var t=0,i=0,r=0,n=0,s=0;if(_[(e|=0)>>2]=11164,i=_[(t=e+48|0)>>2],_[t>>2]=0,i&&a[_[_[i>>2]+4>>2]](i),_[e>>2]=13300,(t=_[e+20>>2])&&(_[e+24>>2]=t,Ka(t)),i=_[e+8>>2]){if(n=t=i,(0|t)!=(0|(r=_[(s=e+12|0)>>2]))){for(;t=_[(r=r+-4|0)>>2],_[r>>2]=0,t&&a[_[_[t>>2]+4>>2]](t),(0|i)!=(0|r););n=_[e+8>>2]}t=n,_[s>>2]=i,Ka(t)}return 0|e},a[269]=function(e){var t=0,i=0,r=0,n=0,s=0;if(_[(e|=0)>>2]=11164,i=_[(t=e+48|0)>>2],_[t>>2]=0,i&&a[_[_[i>>2]+4>>2]](i),_[e>>2]=13300,(t=_[e+20>>2])&&(_[e+24>>2]=t,Ka(t)),i=_[e+8>>2]){if(n=t=i,(0|t)!=(0|(r=_[(s=e+12|0)>>2]))){for(;t=_[(r=r+-4|0)>>2],_[r>>2]=0,t&&a[_[_[t>>2]+4>>2]](t),(0|i)!=(0|r););n=_[e+8>>2]}t=n,_[s>>2]=i,Ka(t)}Ka(e)},a[270]=function(e){var t=0,i=0,r=0,n=0;if(t=_[(e|=0)+32>>2],r=_[t+16>>2],(0|(n=_[t+12>>2]))>(0|(i=_[t+20>>2]))||(0|n)>=(0|i)&&!(A[t+8>>2]<=r>>>0)){n=m[r+_[t>>2]|0],(r=r+1|0)>>>0<1&&(i=i+1|0),_[t+16>>2]=r,_[t+20>>2]=i,t=_[e+48>>2],_[e+48>>2]=0,t&&a[_[_[t>>2]+4>>2]](t);e:{t:if(!(n>>>0>2)){i:switch(n-1|0){default:if(function(e){_[e>>2]=11272,ts(e+4|0,0,80),_[e+96>>2]=0,_[e+100>>2]=0,_[e+92>>2]=-1,_[e+84>>2]=-1,_[e+88>>2]=-1,_[e+104>>2]=0,_[e+108>>2]=0,_[e+112>>2]=0,_[e+116>>2]=0,_[e+120>>2]=0,_[e+124>>2]=0,_[e+128>>2]=0,_[e+132>>2]=0,_[e+136>>2]=0,_[e+140>>2]=0,_[e+144>>2]=0,_[e+148>>2]=0,_[e+156>>2]=0,_[e+160>>2]=0,_[e+152>>2]=1065353216,_[e+164>>2]=0,_[e+168>>2]=0,_[e+172>>2]=0,_[e+176>>2]=0,_[e+180>>2]=0,_[e+184>>2]=0,_[e+188>>2]=0,_[e+192>>2]=0,_[e+196>>2]=0,_[e+200>>2]=0,_[e+204>>2]=0,_[e+208>>2]=0,_[e+212>>2]=-1,_[e+216>>2]=0,_[e+220>>2]=0,_[e+224>>2]=0,lr(e+232|0)}(i=Fa(384)),t=_[e+48>>2],_[e+48>>2]=i,!t)break e;a[_[_[t>>2]+4>>2]](t);break t;case 0:if(function(e){_[e>>2]=11324,ts(e+4|0,0,80),_[e+96>>2]=0,_[e+100>>2]=0,_[e+92>>2]=-1,_[e+84>>2]=-1,_[e+88>>2]=-1,_[e+104>>2]=0,_[e+108>>2]=0,_[e+112>>2]=0,_[e+116>>2]=0,_[e+120>>2]=0,_[e+124>>2]=0,_[e+128>>2]=0,_[e+132>>2]=0,_[e+136>>2]=0,_[e+140>>2]=0,_[e+144>>2]=0,_[e+148>>2]=0,_[e+156>>2]=0,_[e+160>>2]=0,_[e+152>>2]=1065353216,_[e+164>>2]=0,_[e+168>>2]=0,_[e+172>>2]=0,_[e+176>>2]=0,_[e+180>>2]=0,_[e+184>>2]=0,_[e+188>>2]=0,_[e+192>>2]=0,_[e+196>>2]=0,_[e+200>>2]=0,_[e+204>>2]=0,_[e+208>>2]=0,_[e+212>>2]=-1,_[e+216>>2]=0,_[e+220>>2]=0,_[e+224>>2]=0,lr(e+232|0),_[e+396>>2]=0,_[e+388>>2]=0,_[e+392>>2]=0,_[e+380>>2]=0,_[e+384>>2]=0,Yi(e+400|0),_[e+416>>2]=-1,_[e+420>>2]=-1}(i=Fa(424)),t=_[e+48>>2],_[e+48>>2]=i,!t)break e;a[_[_[t>>2]+4>>2]](t);break t;case 1:break i}if(function(e){_[e>>2]=11372,ts(e+4|0,0,80),_[e+96>>2]=0,_[e+100>>2]=0,_[e+92>>2]=-1,_[e+84>>2]=-1,_[e+88>>2]=-1,_[e+104>>2]=0,_[e+108>>2]=0,_[e+112>>2]=0,_[e+116>>2]=0,_[e+120>>2]=0,_[e+124>>2]=0,_[e+128>>2]=0,_[e+132>>2]=0,_[e+136>>2]=0,_[e+140>>2]=0,_[e+144>>2]=0,_[e+148>>2]=0,_[e+156>>2]=0,_[e+160>>2]=0,_[e+152>>2]=1065353216,_[e+164>>2]=0,_[e+168>>2]=0,_[e+172>>2]=0,_[e+176>>2]=0,_[e+180>>2]=0,_[e+184>>2]=0,_[e+188>>2]=0,_[e+192>>2]=0,_[e+196>>2]=0,_[e+200>>2]=0,_[e+204>>2]=0,_[e+208>>2]=0,_[e+212>>2]=-1,_[e+216>>2]=0,_[e+220>>2]=0,_[e+224>>2]=0,lr(e+232|0),_[e+388>>2]=0,_[e+392>>2]=0,_[e+380>>2]=0,_[e+384>>2]=0,_[e+416>>2]=0,_[e+420>>2]=0,_[e+412>>2]=7,_[e+404>>2]=-1,_[e+408>>2]=2,_[e+396>>2]=0,_[e+400>>2]=-1,_[e+424>>2]=0,_[e+428>>2]=0,_[e+432>>2]=0,_[e+436>>2]=0}(i=Fa(440)),t=_[e+48>>2],_[e+48>>2]=i,!t)break e;a[_[_[t>>2]+4>>2]](t)}if(!(i=_[e+48>>2]))return 0}e=0|a[_[_[i>>2]+8>>2]](i,e)}else e=0;return 0|e},a[271]=function(e,t){return t|=0,e=_[(e|=0)+48>>2],0|a[_[_[e>>2]+20>>2]](e,t)},a[272]=function(e){return e=_[(e|=0)+48>>2],0|a[_[_[e>>2]+28>>2]](e)},a[273]=function(e){return e=_[(e|=0)+48>>2],0|a[_[_[e>>2]+36>>2]](e)},a[274]=function(e,t){return t|=0,e=_[(e|=0)+48>>2],0|a[_[_[e>>2]+12>>2]](e,t)},a[275]=function(e,t){return t|=0,e=_[(e|=0)+48>>2],0|a[_[_[e>>2]+16>>2]](e,t)},a[276]=function(e){return e=_[(e|=0)+48>>2],0|a[_[_[e>>2]+24>>2]](e)},a[277]=Cr,a[278]=function(e){Ka(Cr(e|=0))},a[279]=cr,a[280]=fr,a[281]=hr,a[282]=ur,a[283]=function(e){var t,i=0,r=0,n=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,p=0,v=0,y=0,k=0;if(z=t=z+-64|0,_[(e|=0)+132>>2]=0,_[e+148>>2]){if(r=_[(n=e+144|0)>>2])for(;i=_[r>>2],Ka(r),r=i,i;);if(_[n>>2]=0,i=_[e+140>>2])for(n=e+136|0,r=0;_[_[n>>2]+(r<<2)>>2]=0,(0|i)!=(0|(r=r+1|0)););_[e+148>>2]=0}e:{t:{i:{r:{n:{a:{if(r=_[e+4>>2],!((i=(n=m[r+36|0])<<8|m[r+37|0])>>>0>513))if(c=_[r+32>>2],i>>>0<=511){if(o=_[c+12>>2],i=_[c+20>>2],(s=(f=_[c+16>>2])+4|0)>>>0<4&&(i=i+1|0),h=s,s=i,(0|o)<(0|i)||(0|o)<=(0|i)&&!(A[c+8>>2]>=h>>>0))break a;i=f+_[c>>2]|0,i=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[t>>2]=i,_[c+16>>2]=h,_[c+20>>2]=s,_[e+132>>2]=i}else{if(!pr(1,t,c))break a;r=_[e+4>>2],n=m[r+36|0],_[e+132>>2]=_[t>>2]}r=_[r+32>>2];s:{o:{if((255&n)>>>0<=1){if(n=0,c=_[r+12>>2],i=_[r+20>>2],(s=(o=_[r+16>>2])+4|0)>>>0<4&&(i=i+1|0),f=s,s=i,(0|c)<(0|i)||(0|c)<=(0|i)&&!(A[r+8>>2]>=f>>>0))break e;i=o+_[r>>2]|0,i=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[t+60>>2]=i,_[r+16>>2]=f,_[r+20>>2]=s,_[e+156>>2]=i,p=e+156|0}else{if(n=0,!pr(1,t+60|0,r))break e;if(i=_[e+4>>2],r=_[i+32>>2],i=m[i+36|0],_[e+156>>2]=_[t+60>>2],p=e+156|0,i>>>0>1)break o}if(c=_[r+12>>2],i=_[r+20>>2],(s=(o=_[r+16>>2])+4|0)>>>0<4&&(i=i+1|0),h=s,s=i,(0|c)<(0|i)||(0|c)<=(0|i)&&!(A[r+8>>2]>=h>>>0))break e;i=o+_[r>>2]|0,f=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[t+56>>2]=f,_[r+16>>2]=h,_[r+20>>2]=s;break s}if(!pr(1,t+56|0,r))break e;f=_[t+56>>2]}if(f>>>0>1431655765|A[p>>2]>g(f,3)>>>0)break e;if(u=_[e+4>>2],s=_[u+32>>2],y=_[s+8>>2],d=_[s+16>>2],(0|(i=c=_[s+12>>2]))<(0|(r=_[s+20>>2]))||(0|i)<=(0|r)&&!(y>>>0>d>>>0))break e;if(k=_[s>>2],h=m[k+d|0],i=r,(v=d+1|0)>>>0<1&&(i=i+1|0),_[s+16>>2]=v,_[s+20>>2]=i,m[u+36|0]<=1){if(i=r,(r=d+5|0)>>>0<5&&(i=i+1|0),o=r,r=i,(0|c)<(0|i)||(0|c)<=(0|i)&&!(y>>>0>=o>>>0))break e;c=m[0|(i=v+k|0)]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[t+52>>2]=c,_[s+16>>2]=o,_[s+20>>2]=r}else{if(!pr(1,t+52|0,s))break e;c=_[t+52>>2]}if(f>>>0<c>>>0|f>>>0>((c>>>0)/3|0)+c>>>0)break e;if(i=_[e+4>>2],s=_[i+32>>2],m[i+36|0]<=1){if(o=_[s+12>>2],i=_[s+20>>2],(r=(d=_[s+16>>2])+4|0)>>>0<4&&(i=i+1|0),u=r,r=i,(0|o)<(0|i)||(0|o)<=(0|i)&&!(A[s+8>>2]>=u>>>0))break e;i=d+_[s>>2]|0,o=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[t+48>>2]=o,_[s+16>>2]=u,_[s+20>>2]=r}else{if(!pr(1,t+48|0,s))break e;o=_[t+48>>2]}if(o>>>0>c>>>0)break e;if(_[e+28>>2]=_[e+24>>2],hn(r=Fa(88)),i=_[e+8>>2],_[e+8>>2]=r,s=e+8|0,i&&(ne(s,i),!_[s>>2]))break e;if(i=_[e+160>>2],_[e+164>>2]=i,!(_[e+168>>2]-i>>2>>>0>=f>>>0)){if(f>>>0>=1073741824)break n;r=Fa(n=f<<2),_[e+164>>2]=r,_[e+160>>2]=r,_[e+168>>2]=r+n,i&&Ka(i)}if(i=_[e+172>>2],_[e+176>>2]=i,!(_[e+180>>2]-i>>2>>>0>=f>>>0)){if(f>>>0>=1073741824)break r;r=Fa(n=f<<2),_[e+176>>2]=r,_[e+172>>2]=r,_[e+180>>2]=r+n,i&&Ka(i)}if(_[e+92>>2]=-1,_[e+84>>2]=-1,_[e+88>>2]=-1,_[e+40>>2]=_[e+36>>2],_[e- -64>>2]=0,_[e+52>>2]=_[e+48>>2],_[e+76>>2]=_[e+72>>2],d=e+216|0,(0|(r=_[e+220>>2]))==(0|(n=_[e+216>>2])))break i;for(;(i=_[r+-12>>2])&&(_[r+-8>>2]=i,Ka(i)),(i=_[r+-28>>2])&&(_[r+-24>>2]=i,Ka(i)),i=r+-144|0,(u=_[r+-40>>2])&&(_[r+-36>>2]=u,Ka(u)),_r(r+-140|0),r=i,(0|n)!=(0|i););i=_[d>>2];break t}n=0;break e}Re(12024),P()}Re(12024),P()}i=n}if(_[e+220>>2]=n,(r=(n-i|0)/144|0)>>>0<h>>>0)mr(d,h-r|0);else if(!(r>>>0<=h>>>0)){if((0|(r=i+g(h,144)|0))!=(0|n))for(;(i=_[n+-12>>2])&&(_[n+-8>>2]=i,Ka(i)),(i=_[n+-28>>2])&&(_[n+-24>>2]=i,Ka(i)),i=n+-144|0,(u=_[n+-40>>2])&&(_[n+-36>>2]=u,Ka(u)),_r(n+-140|0),n=i,(0|i)!=(0|r););_[e+220>>2]=r}if(n=0,_n(_[s>>2],f,_[p>>2]+o|0)){if(i=_[e+156>>2],l[0|t]=1,Ce(e+120|0,i+o|0,t),r=_[e+4>>2],(i=((i=b[r+36>>1])<<24|i<<8&16711680)>>>16)>>>0<=513){if(o=_[r+32>>2],i>>>0<=511){if(f=_[o+12>>2],i=_[o+20>>2],(r=(p=_[o+16>>2])+4|0)>>>0<4&&(i=i+1|0),u=r,r=i,(0|f)<(0|i)||(0|f)<=(0|i)&&!(A[o+8>>2]>=u>>>0))break e;i=p+_[o>>2]|0,f=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[t+44>>2]=f,_[o+16>>2]=u,_[o+20>>2]=r}else{if(!pr(1,t+44|0,o))break e;f=_[t+44>>2]}if(!f)break e;if(i=_[_[e+4>>2]+32>>2],r=_[i+8>>2],o=_[i+16>>2],(0|(i=_[i+12>>2]-(_[i+20>>2]+(r>>>0<o>>>0)|0)|0))<0||(0|i)<=0&&!(r-o>>>0>=f>>>0))break e;if(o=en(t),r=_[_[e+4>>2]+32>>2],i=_[r+16>>2],p=_[r+8>>2],tn(o,(i+_[r>>2]|0)+f|0,(p-i|0)-f|0,b[r+38>>1]),-1==(0|(r=br(e,o))))break e;o=(i=r)>>31}else if(i=-1,o=-1,-1==(0|br(e,_[r+32>>2])))break e;_[e+376>>2]=e,p=e+232|0,r=_[32+(0|a[_[_[e>>2]+32>>2]](e))>>2],u=_[r>>2]+_[r+16>>2]|0,f=_[32+(0|a[_[_[e>>2]+32>>2]](e))>>2],tn(p,u,(r=_[f+8>>2])-(n=_[f+16>>2])|0,b[_[32+(0|a[_[_[e>>2]+32>>2]](e))>>2]+38>>1]),_[e+372>>2]=h,n=0;t:if(Ar(p,r=en(t))&&-1!=(0|(f=function(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,p=0,v=0,y=0,k=0,x=0,S=0,T=0,w=0,E=0,M=0,R=0,C=0;z=i=z-96|0,_[i+72>>2]=0,_[i+64>>2]=0,_[i+68>>2]=0,_[i+48>>2]=0,_[i+52>>2]=0,_[i+40>>2]=0,_[i+44>>2]=0,_[i+56>>2]=1065353216,_[i+32>>2]=0,_[i+24>>2]=0,_[i+28>>2]=0,M=_[e+124>>2];i:{r:{n:{a:{if((0|t)>=1){for(E=e+8|0,S=_[e+216>>2]!=_[e+220>>2],T=e+40|0;;){s:{o:{l:{c:{f:{h:{u:if(m[e+308|0]){d:{if(f=_[e+296>>2],u=_[e+304>>2],r=f+(u>>>3)|0,o=_[e+300>>2],!(r>>>0>=o>>>0)&&(r=m[0|r],n=u+1|0,_[e+304>>2]=n,r>>>(7&u)&1))switch((a=f+(r=n>>>3)|0)>>>0>=o>>>0?(a=n,n=0):(c=m[0|a],a=u+2|0,_[e+304>>2]=a,r=a>>>3,n=c>>>(7&n)&1),(r=r+f|0)>>>0<o>>>0?(r=m[0|r],_[e+304>>2]=a+1,r=r>>>(7&a)<<1&2):r=0,(r=(n|r)<<1|1)+-2|0){case 0:case 2:case 4:break c;case 5:break h;case 1:case 3:break d;default:break u}if((0|(n=_[i+68>>2]))==_[i+64>>2])break a;f=-1,p=_[E>>2],o=_[p+24>>2],a=o,k=_[(c=n+-4|0)>>2],r=-1,-1!=(0|k)&&(r=-1,-1!=(0|(n=((n=k+1|0)>>>0)%3|0?n:k+-2|0))&&(r=_[_[p>>2]+(n<<2)>>2])),-1!=(0|(a=_[a+(r<<2)>>2]))&&(f=((n=a+1|0)>>>0)%3|0?n:a+-2|0),a=_[p+12>>2],v=g(s,3),n=v+1|0,_[a+(k<<2)>>2]=n,_[(n<<=2)+a>>2]=k,d=v+2|0,_[a+(f<<2)>>2]=d,_[(u=d<<2)+a>>2]=f,y=_[p>>2],_[y+(v<<2)>>2]=r,a=n+y|0,h=-1,-1!=(0|f)&&(h=-1,-1!=(0|(n=((n=f+1|0)>>>0)%3|0?n:f+-2|0))&&(h=_[y+(n<<2)>>2])),_[a>>2]=h,-1!=(0|k)&&-1!=(0|(n=k+((k>>>0)%3|0?-1:2)|0))?(n=_[y+(n<<2)>>2],_[u+y>>2]=n,-1!=(0|n)&&(_[o+(n<<2)>>2]=d)):_[u+y>>2]=-1,a=_[e+120>>2]+(r>>>3&536870908)|0,n=_[a>>2],R=a,C=cs(r)&n,_[R>>2]=C,_[c>>2]=v;break s}if((0|(a=_[i+68>>2]))==_[i+64>>2])break a;if(u=_[E>>2],n=_[u+12>>2],d=g(s,3),r=(o=d+((f=5==(0|r))?2:1)|0)<<2,y=_[a+-4>>2],_[n+r>>2]=y,_[n+(y<<2)>>2]=o,c=u+24|0,(0|(n=_[(a=u+28|0)>>2]))==_[u+32>>2]?(Sr(c,11312),p=_[a>>2]):(_[n>>2]=-1,p=n+4|0,_[a>>2]=p),a=-1,n=_[E>>2],u=_[n+24>>2],_[n+28>>2]-u>>2>(0|M))break n;a=d+2|0,v=_[n>>2],h=v+r|0,n=p-_[c>>2]|0,r=(n>>2)-1|0,_[h>>2]=r,n&&(_[u+(r<<2)>>2]=o),a=f?d:a,n=v+(f+d<<2)|0;d:{p:{_:{if(-1!=(0|y)){if(-1==(0|(r=y+((y>>>0)%3|0?-1:2)|0)))break _;if(r=_[v+(r<<2)>>2],_[v+(a<<2)>>2]=r,-1==(0|r))break p;_[u+(r<<2)>>2]=a;break p}_[v+(a<<2)>>2]=-1,a=-1;break d}_[v+(a<<2)>>2]=-1}a=-1,-1!=(0|(r=((r=y+1|0)>>>0)%3|0?r:y+-2|0))&&(a=_[v+(r<<2)>>2])}_[n>>2]=a,_[_[i+68>>2]+-4>>2]=d;break f}if(a=-1,r=_[i+68>>2],p=_[i+64>>2],(0|r)==(0|p))break n;x=_[(n=r+-4|0)>>2],_[i+68>>2]=n;u:if(d=_[i+44>>2])if(o=_[i+40>>2],u=ls(d)>>>0>1,c=d+2147483647&s,u&&(c=s,s>>>0<d>>>0||(c=(s>>>0)%(d>>>0)|0)),o=_[o+(c<<2)>>2])if(h=_[o>>2]){o=d+-1|0;d:{for(;;){p:{if((0|(f=_[h+4>>2]))!=(0|s)){if(u?f>>>0<d>>>0||(f=(f>>>0)%(d>>>0)|0):f&=o,(0|f)==(0|c))break p;r=n;break u}if(_[h+8>>2]==(0|s))break d}if(!(h=_[h>>2]))break}r=n;break u}c=h+12|0,(0|n)==_[i+72>>2]?(Sr(i- -64|0,c),r=_[i+68>>2],p=_[i+64>>2]):(_[n>>2]=_[c>>2],_[i+68>>2]=r)}else r=n;else r=n;else r=n;if((0|r)==(0|p))break n;if(k=_[r+-4>>2],c=-1==(0|k),w=_[E>>2],-1!=_[_[w+12>>2]+(k<<2)>>2]&&!c)break n;if(u=-1==(0|x),o=_[(d=w+12|0)>>2],-1!=_[o+(x<<2)>>2]&&!u)break n;if(y=g(s,3),p=y+2|0,_[o+(k<<2)>>2]=p,_[(v=p<<2)+o>>2]=k,n=y+1|0,_[o+(x<<2)>>2]=n,_[(f=o)+(o=n<<2)>>2]=x,c)break l;if(f=-1,c=_[w>>2],h=c+(y<<2)|0,-1!=(0|(n=k+((k>>>0)%3|0?-1:2)|0))&&(f=_[(n<<2)+c>>2]),_[h>>2]=f,-1==(0|(n=((n=k+1|0)>>>0)%3|0?n:k+-2|0)))break o;a=_[(n<<2)+c>>2];break o}if(_[i>>2]=g(s,3),r=_[E>>2],a=r+24|0,o=_[r+32>>2],r=_[(n=r+28|0)>>2],(0|o)==(0|r)?(Sr(a,11312),r=_[n>>2]):(_[r>>2]=-1,r=r+4|0,_[n>>2]=r),p=_[E>>2],f=_[p>>2],n=_[i>>2],u=r-_[a>>2]|0,a=(d=u>>2)+-1|0,_[f+(n<<2)>>2]=a,n=n+1|0,o=p+24|0,(0|(r=_[(c=p+28|0)>>2]))==_[p+32>>2]?(Sr(o,11312),r=_[c>>2],f=_[p>>2]):(_[r>>2]=-1,r=r+4|0,_[c>>2]=r),_[(n<<2)+f>>2]=(r-_[o>>2]>>2)-1,r=_[i>>2]+2|0,o=_[E>>2],(0|(c=_[(n=o+28|0)>>2]))==_[o+32>>2]?(Sr(o+24|0,11312),f=_[n>>2]):(_[c>>2]=-1,f=c+4|0,_[n>>2]=f),_[_[o>>2]+(r<<2)>>2]=(f-_[o+24>>2]>>2)-1,r=_[E>>2],n=_[r+24>>2],_[r+28>>2]-n>>2>(0|M))break a;r=_[i>>2];h:{if(u){if(_[n+(a<<2)>>2]=r,f=0,-4!=(0|u)&&(_[n+(d<<2)>>2]=_[i>>2]+1,-1==(0|(f=d+1|0))))break h}else f=1,_[n+(d<<2)>>2]=r+1;_[n+(f<<2)>>2]=_[i>>2]+2}(0|(r=_[i+68>>2]))==_[i+72>>2]?Sr(i- -64|0,i):(_[r>>2]=_[i>>2],_[i+68>>2]=r+4)}if((0|(h=_[T>>2]))==_[e+36>>2])break s;for(o=(-1^s)+t|0;;){if(a=-1,(r=_[h+-8>>2])>>>0>o>>>0)break n;if((0|r)!=(0|o))break s;if(n=m[h+-4|0],c=_[(r=h+-12|0)>>2],_[T>>2]=r,(0|c)<0)break n;a=_[_[i+68>>2]+-4>>2],_[i+20>>2]=(-1^c)+t,_[i+88>>2]=i+20,wr(i,i+40|0,i+20|0,i+88|0),c=_[i>>2];f:if(1&n){if(r=-1,-1==(0|a))break f;r=((r=a+1|0)>>>0)%3|0?r:a+-2|0}else r=-1,-1!=(0|a)&&(r=a+-1|0,(a>>>0)%3||(r=a+2|0));if(_[c+12>>2]=r,(0|(h=_[T>>2]))==_[e+36>>2])break}break s}P()}f=-1,c=_[w>>2],_[c+(y<<2)>>2]=-1}_[o+c>>2]=a;o:{l:{c:{if(!u){if(-1==(0|(n=x+((x>>>0)%3|0?-1:2)|0)))break c;if(n=_[(n<<2)+c>>2],_[c+v>>2]=n,-1==(0|n))break l;_[_[w+24>>2]+(n<<2)>>2]=p;break l}_[c+v>>2]=-1,h=-1,a=-1;break o}_[c+v>>2]=-1}h=-1,a=-1,-1!=(0|(n=((n=x+1|0)>>>0)%3|0?n:x+-2|0))&&(h=_[(n<<2)+c>>2],a=n)}_[i>>2]=h,o=_[w+24>>2],-1!=(0|f)&&(_[o+(f<<2)>>2]=_[o+(h<<2)>>2]);o:if(-1!=(0|a))for(c=_[w>>2];;){if(_[c+(a<<2)>>2]=f,-1==(0|(n=((n=a+1|0)>>>0)%3|0?n:a+-2|0)))break o;if(-1==(0|(a=_[_[d>>2]+(n<<2)>>2])))break o;if(-1==(0|(a=((n=a+1|0)>>>0)%3|0?n:a+-2|0)))break}_[o+(_[i>>2]<<2)>>2]=-1,S||((0|(n=_[i+28>>2]))==_[i+32>>2]?(Sr(i+24|0,i),r=_[i+68>>2]):(_[n>>2]=_[i>>2],_[i+28>>2]=n+4)),_[r+-4>>2]=y}if((0|(s=s+1|0))==(0|t))break}f=t}if(a=-1,h=_[e+8>>2],_[h+28>>2]-_[h+24>>2]>>2>(0|M))break n;if((0|(s=_[i+68>>2]))!=_[i+64>>2]){for(k=e+72|0,n=e+60|0,p=e+312|0,S=e+8|0,y=e+68|0,M=e+80|0,w=e+76|0;;){t=_[(r=s+-4|0)>>2],_[i+68>>2]=r,_[i>>2]=t;s:{o:{l:{if(b[e+270>>1]<=513){if(!m[e+364|0])break l;if(r=_[e+360>>2],(t=_[e+352>>2]+(r>>>3)|0)>>>0>=A[e+356>>2])break o;t=m[0|t],_[e+360>>2]=r+1,t=t>>>(7&r)&1}else t=Zi(p);if(!t)break o}if(d=_[S>>2],x=_[d>>2],(0|f)>=((_[d+4>>2]-x>>2>>>0)/3|0))break a;if(r=-1,h=-1,s=_[d+24>>2],o=s,T=_[i>>2],c=-1,-1!=(0|T)&&(c=-1,-1!=(0|(t=((t=T+1|0)>>>0)%3|0?t:T+-2|0))&&(c=_[x+(t<<2)>>2])),-1!=(0|(o=_[o+(c<<2)>>2]))&&-1!=(0|(t=((t=o+1|0)>>>0)%3|0?t:o+-2|0))&&(-1!=(0|(r=((r=t+1|0)>>>0)%3|0?r:t+-2|0))&&(h=_[x+(r<<2)>>2]),r=t),t=-1,v=-1,u=_[s+(h<<2)>>2],o=-1,-1!=(0|u)&&(o=-1,-1!=(0|(s=((s=u+1|0)>>>0)%3|0?s:u+-2|0))&&(-1!=(0|(o=((o=s+1|0)>>>0)%3|0?o:s+-2|0))&&(v=_[x+(o<<2)>>2]),o=s)),s=g(f,3),_[i+88>>2]=s,u=_[d+12>>2],_[u+(s<<2)>>2]=T,_[u+(T<<2)>>2]=s,s=_[i+88>>2]+1|0,_[u+(s<<2)>>2]=r,_[u+(r<<2)>>2]=s,r=_[i+88>>2]+2|0,_[u+(r<<2)>>2]=o,_[u+(o<<2)>>2]=r,r=_[i+88>>2],_[x+(r<<2)>>2]=h,_[(d=x+((T=r+1|0)<<2)|0)>>2]=v,_[(o=x+((u=r+2|0)<<2)|0)>>2]=c,v=_[e+120>>2],r=_[(c=v+((s=T>>>0<r>>>0?-1:h)>>>3&536870908)|0)>>2],R=c,C=cs(s)&r,_[R>>2]=C,t=-1!=(0|T)?_[d>>2]:t,r=_[(c=v+(t>>>3&536870908)|0)>>2],R=c,C=cs(t)&r,_[R>>2]=C,s=-1,s=-1!=(0|u)?_[o>>2]:s,t=_[(r=v+(s>>>3&536870908)|0)>>2],R=r,C=cs(s)&t,_[R>>2]=C,s=_[e+64>>2],r=_[y>>2],(0|s)==r<<5){if((s+1|0)<=-1)break i;r=s>>>0<=1073741822?(r<<=6)>>>0<(c=s+32&-32)>>>0?c:r:2147483647,Oe(t=n,r),s=_[e+64>>2]}if(f=f+1|0,_[e+64>>2]=s+1,t=_[e+60>>2]+(s>>>3&536870908)|0,_[t>>2]=_[t>>2]|1<<(31&s),(0|(t=_[w>>2]))!=_[M>>2]){_[t>>2]=_[i+88>>2],_[w>>2]=t+4;break s}Sr(k,i+88|0);break s}if(s=_[e+64>>2],r=_[y>>2],(0|s)==r<<5){if((s+1|0)<=-1)break i;r=s>>>0<=1073741822?(r<<=6)>>>0<(c=s+32&-32)>>>0?c:r:2147483647,Oe(t=n,r),s=_[e+64>>2]}_[e+64>>2]=s+1,r=_[e+60>>2]+(s>>>3&536870908)|0,t=_[r>>2],R=r,C=cs(s)&t,_[R>>2]=C,(0|(t=_[w>>2]))==_[M>>2]?Sr(k,i):(_[t>>2]=_[i>>2],_[w>>2]=t+4)}if((0|(s=_[i+68>>2]))==_[i+64>>2])break}h=_[e+8>>2]}if(((_[h+4>>2]-_[h>>2]>>2>>>0)/3|0)!=(0|f))break n;if(a=_[h+28>>2]-_[h+24>>2]>>2,S=_[i+24>>2],o=_[i+28>>2],(0|S)==(0|o))break r;for(c=e+8|0;;){if(d=_[S>>2],f=_[h+24>>2],-1==_[f+((s=a+-1|0)<<2)>>2])for(f=_[h+24>>2];s=a+-2|0,a=r=a+-1|0,-1==_[(s<<2)+f>>2];);else r=a;if(!(s>>>0<d>>>0)){if(_[i>>2]=h,a=_[(t=s<<2)+f>>2],l[i+12|0]=1,_[i+8>>2]=a,_[i+4>>2]=a,-1!=(0|a))for(;_[_[h>>2]+(a<<2)>>2]=d,Fi(i),h=_[c>>2],-1!=(0|(a=_[i+8>>2])););n=t,t=_[h+24>>2],n=n+t|0,-1!=(0|d)&&(_[t+(d<<2)>>2]=_[n>>2]),_[n>>2]=-1,u=1<<(31&d),t=_[e+120>>2],n=a=t+(d>>>3&536870908)|0,f=t+(s>>>3&536870908)|0,t=1<<(31&s),s=u|_[a>>2],_[f>>2]&t||(s=_[a>>2]&(-1^u)),_[n>>2]=s,_[f>>2]=_[f>>2]&(-1^t),r=r+-1|0}if(a=r,(0|o)==(0|(S=S+4|0)))break}break n}a=-1}S=_[i+24>>2]}if(S&&(_[i+28>>2]=S,Ka(S)),s=_[i+48>>2])for(;e=_[s>>2],Ka(s),s=e;);return e=_[i+40>>2],_[i+40>>2]=0,e&&Ka(e),(e=_[i+64>>2])&&(_[i+68>>2]=e,Ka(e)),z=i+96|0,a}Wa(),P()}(e,c)))){tn(c=_[_[e+4>>2]+32>>2],h=(n=_[r+16>>2])+_[r>>2]|0,(r=_[r+8>>2])-n|0,b[c+38>>1]),r=_[e+4>>2],(c=((n=b[r+36>>1])<<24|n<<8&16711680)>>>16)>>>0<=513&&(h=n=_[r+32>>2],u=n,r=o+_[n+20>>2]|0,(n=i+_[n+16>>2]|0)>>>0<i>>>0&&(r=r+1|0),_[u+16>>2]=n,_[h+20>>2]=r);i:if(_[e+220>>2]!=_[e+216>>2]){if(r=_[s>>2],i=_[r+4>>2],r=_[r>>2],!(c>>>0>=513)){if((0|i)==(0|r))break i;for(r=0;;){if(vr(e,r)){if(r=r+3|0,i=_[s>>2],r>>>0<_[i+4>>2]-_[i>>2]>>2>>>0)continue;break i}break}n=0;break t}if((0|i)!=(0|r)){for(r=0;;){if(yr(e,r)){if(r=r+3|0,i=_[s>>2],r>>>0<_[i+4>>2]-_[i>>2]>>2>>>0)continue;break i}break}n=0;break t}}if(m[e+308|0]&&nn(e+272|0),b[e+270>>1]<=513&&nn(e+328|0),(0|(r=_[e+216>>2]))!=_[(o=e+220|0)>>2])for(c=0;;){if(yn(4+((i=g(c,144))+r|0)|0,_[s>>2]),n=_[d>>2],(0|(r=_[(h=i+n|0)+132>>2]))!=(0|(h=_[h+136>>2])))for(;kn(4+(i+n|0)|0,_[r>>2]),n=_[d>>2],(0|h)!=(0|(r=r+4|0)););if(gn(4+(i+n|0)|0),c=c+1|0,r=_[e+216>>2],!(c>>>0<(_[o>>2]-r|0)/144>>>0))break}if(i=_[e+8>>2],gr(e+184|0,_[i+28>>2]-_[i+24>>2]>>2),(0|(n=_[e+216>>2]))!=_[o>>2])for(r=0,c=e+220|0;i=g(r,144)+n|0,n=_[i+60>>2]-_[i+56>>2]>>2,h=i+104|0,i=_[s>>2],gr(h,(0|n)<(0|(i=_[i+28>>2]-_[i+24>>2]>>2))?i:n),r=r+1|0,n=_[e+216>>2],r>>>0<(_[c>>2]-n|0)/144>>>0;);n=kr(e,f)}}}return z=t- -64|0,0|n},a[284]=ct,a[285]=Ge,a[286]=Er,a[287]=Or,a[288]=function(e){Ka(Or(e|=0))},a[289]=cr,a[290]=fr,a[291]=hr,a[292]=ur,a[293]=function(e){var t,i=0,r=0,n=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,p=0,v=0,y=0,k=0,x=0,S=0;if(z=t=z+-64|0,_[(e|=0)+132>>2]=0,_[e+148>>2]){if(r=_[(n=e+144|0)>>2])for(;i=_[r>>2],Ka(r),r=i,i;);if(_[n>>2]=0,i=_[e+140>>2])for(n=e+136|0,r=0;_[_[n>>2]+(r<<2)>>2]=0,(0|i)!=(0|(r=r+1|0)););_[e+148>>2]=0}e:{t:{i:{r:{n:{a:{if(r=_[e+4>>2],!((i=(n=m[r+36|0])<<8|m[r+37|0])>>>0>513))if(c=_[r+32>>2],i>>>0<=511){if(s=_[c+12>>2],i=_[c+20>>2],(o=(f=_[c+16>>2])+4|0)>>>0<4&&(i=i+1|0),h=o,o=i,(0|s)<(0|i)||(0|s)<=(0|i)&&!(A[c+8>>2]>=h>>>0))break a;i=f+_[c>>2]|0,i=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[t>>2]=i,_[c+16>>2]=h,_[c+20>>2]=o,_[e+132>>2]=i}else{if(!pr(1,t,c))break a;r=_[e+4>>2],n=m[r+36|0],_[e+132>>2]=_[t>>2]}r=_[r+32>>2];s:{o:{if((255&n)>>>0<=1){if(n=0,c=_[r+12>>2],i=_[r+20>>2],(o=(s=_[r+16>>2])+4|0)>>>0<4&&(i=i+1|0),f=o,o=i,(0|c)<(0|i)||(0|c)<=(0|i)&&!(A[r+8>>2]>=f>>>0))break e;i=s+_[r>>2]|0,i=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[t+60>>2]=i,_[r+16>>2]=f,_[r+20>>2]=o,_[e+156>>2]=i,d=e+156|0}else{if(n=0,!pr(1,t+60|0,r))break e;if(i=_[e+4>>2],r=_[i+32>>2],i=m[i+36|0],_[e+156>>2]=_[t+60>>2],d=e+156|0,i>>>0>1)break o}if(c=_[r+12>>2],i=_[r+20>>2],(o=(s=_[r+16>>2])+4|0)>>>0<4&&(i=i+1|0),h=o,o=i,(0|c)<(0|i)||(0|c)<=(0|i)&&!(A[r+8>>2]>=h>>>0))break e;i=s+_[r>>2]|0,f=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[t+56>>2]=f,_[r+16>>2]=h,_[r+20>>2]=o;break s}if(!pr(1,t+56|0,r))break e;f=_[t+56>>2]}if(f>>>0>1431655765|A[d>>2]>g(f,3)>>>0)break e;if(p=_[e+4>>2],o=_[p+32>>2],v=_[o+8>>2],u=_[o+16>>2],(0|(i=c=_[o+12>>2]))<(0|(r=_[o+20>>2]))||(0|i)<=(0|r)&&!(v>>>0>u>>>0))break e;if(k=_[o>>2],h=m[k+u|0],i=r,(y=u+1|0)>>>0<1&&(i=i+1|0),_[o+16>>2]=y,_[o+20>>2]=i,m[p+36|0]<=1){if(i=r,(r=u+5|0)>>>0<5&&(i=i+1|0),s=r,r=i,(0|c)<(0|i)||(0|c)<=(0|i)&&!(v>>>0>=s>>>0))break e;c=m[0|(i=y+k|0)]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[t+52>>2]=c,_[o+16>>2]=s,_[o+20>>2]=r}else{if(!pr(1,t+52|0,o))break e;c=_[t+52>>2]}if(f>>>0<c>>>0|f>>>0>((c>>>0)/3|0)+c>>>0)break e;if(i=_[e+4>>2],o=_[i+32>>2],m[i+36|0]<=1){if(s=_[o+12>>2],i=_[o+20>>2],(r=(u=_[o+16>>2])+4|0)>>>0<4&&(i=i+1|0),p=r,r=i,(0|s)<(0|i)||(0|s)<=(0|i)&&!(A[o+8>>2]>=p>>>0))break e;i=u+_[o>>2]|0,u=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[t+48>>2]=u,_[o+16>>2]=p,_[o+20>>2]=r}else{if(!pr(1,t+48|0,o))break e;u=_[t+48>>2]}if(u>>>0>c>>>0)break e;if(_[e+28>>2]=_[e+24>>2],hn(r=Fa(88)),i=_[e+8>>2],_[e+8>>2]=r,o=e+8|0,i&&(ne(o,i),!_[o>>2]))break e;if(i=_[e+160>>2],_[e+164>>2]=i,!(_[e+168>>2]-i>>2>>>0>=f>>>0)){if(f>>>0>=1073741824)break n;r=Fa(n=f<<2),_[e+164>>2]=r,_[e+160>>2]=r,_[e+168>>2]=r+n,i&&Ka(i)}if(i=_[e+172>>2],_[e+176>>2]=i,!(_[e+180>>2]-i>>2>>>0>=f>>>0)){if(f>>>0>=1073741824)break r;r=Fa(n=f<<2),_[e+176>>2]=r,_[e+172>>2]=r,_[e+180>>2]=r+n,i&&Ka(i)}if(_[e+92>>2]=-1,_[e+84>>2]=-1,_[e+88>>2]=-1,_[e+40>>2]=_[e+36>>2],_[e- -64>>2]=0,_[e+52>>2]=_[e+48>>2],_[e+76>>2]=_[e+72>>2],p=e+216|0,(0|(r=_[e+220>>2]))==(0|(n=_[e+216>>2])))break i;for(;(i=_[r+-12>>2])&&(_[r+-8>>2]=i,Ka(i)),(i=_[r+-28>>2])&&(_[r+-24>>2]=i,Ka(i)),i=r+-144|0,(s=_[r+-40>>2])&&(_[r+-36>>2]=s,Ka(s)),_r(r+-140|0),r=i,(0|n)!=(0|i););i=_[p>>2];break t}n=0;break e}Re(12024),P()}Re(12024),P()}i=n}if(_[e+220>>2]=n,(r=(n-i|0)/144|0)>>>0<h>>>0)mr(p,h-r|0);else if(!(r>>>0<=h>>>0)){if((0|(r=i+g(h,144)|0))!=(0|n))for(;(i=_[n+-12>>2])&&(_[n+-8>>2]=i,Ka(i)),(i=_[n+-28>>2])&&(_[n+-24>>2]=i,Ka(i)),i=n+-144|0,(s=_[n+-40>>2])&&(_[n+-36>>2]=s,Ka(s)),_r(n+-140|0),n=i,(0|i)!=(0|r););_[e+220>>2]=r}if(n=0,_n(_[o>>2],f,_[d>>2]+u|0)){if(i=_[e+156>>2],l[0|t]=1,Ce(e+120|0,i+u|0,t),r=_[e+4>>2],(i=((i=b[r+36>>1])<<24|i<<8&16711680)>>>16)>>>0<=513){if(s=_[r+32>>2],i>>>0<=511){if(f=_[s+12>>2],i=_[s+20>>2],(r=(d=_[s+16>>2])+4|0)>>>0<4&&(i=i+1|0),v=r,r=i,(0|f)<(0|i)||(0|f)<=(0|i)&&!(A[s+8>>2]>=v>>>0))break e;i=d+_[s>>2]|0,f=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[t+44>>2]=f,_[s+16>>2]=v,_[s+20>>2]=r}else{if(!pr(1,t+44|0,s))break e;f=_[t+44>>2]}if(!f)break e;if(i=_[_[e+4>>2]+32>>2],r=_[i+8>>2],s=_[i+16>>2],(0|(i=_[i+12>>2]-(_[i+20>>2]+(r>>>0<s>>>0)|0)|0))<0||(0|i)<=0&&!(r-s>>>0>=f>>>0))break e;if(s=en(t),r=_[_[e+4>>2]+32>>2],i=_[r+16>>2],d=_[r+8>>2],tn(s,(i+_[r>>2]|0)+f|0,(d-i|0)-f|0,b[r+38>>1]),-1==(0|(r=br(e,s))))break e;s=(i=r)>>31}else if(i=-1,s=-1,-1==(0|br(e,_[r+32>>2])))break e;_[e+376>>2]=e,d=e+232|0,r=_[32+(0|a[_[_[e>>2]+32>>2]](e))>>2],v=_[r>>2]+_[r+16>>2]|0,f=_[32+(0|a[_[_[e>>2]+32>>2]](e))>>2],tn(d,v,(r=_[f+8>>2])-(n=_[f+16>>2])|0,b[_[32+(0|a[_[_[e>>2]+32>>2]](e))>>2]+38>>1]),x=e,S=0|a[_[_[e>>2]+36>>2]](e),_[x+380>>2]=S,_[e+372>>2]=h,_[e+384>>2]=_[e+156>>2]+u,n=0;t:if(function(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0;z=i=z-16|0;Ar(e,t)&&(s=_[t+12>>2],r=_[t+20>>2],o=_[t+16>>2],(a=o+4|0)>>>0<4&&(r=r+1|0),n=a,a=r,(0|s)<(0|r)||(0|s)<=(0|r)&&!(A[t+8>>2]>=n>>>0)||(r=o+_[t>>2]|0,r=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[t+16>>2]=n,_[t+20>>2]=a,(0|r)<0||(n=_[e+152>>2],(0|r)>=(0|n)||(_[i+12>>2]=0,a=_[e+156>>2],r=_[e+160>>2]-a>>2,n>>>0>r>>>0?kt(e+156|0,n-r|0,i+12|0):n>>>0>=r>>>0||(_[e+160>>2]=a+(n<<2)),l=Xi(e+168|0,t)))));return z=i+16|0,l}(d,r=en(t))&&-1!=(0|(f=function(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,p=0,v=0,y=0,k=0,x=0,S=0,T=0,w=0,E=0,M=0,R=0,C=0,O=0,I=0,D=0,F=0;z=i=z-96|0,_[i+72>>2]=0,_[i+64>>2]=0,_[i+68>>2]=0,_[i+48>>2]=0,_[i+52>>2]=0,_[i+40>>2]=0,_[i+44>>2]=0,_[i+56>>2]=1065353216,_[i+32>>2]=0,_[i+24>>2]=0,_[i+28>>2]=0,S=_[e+124>>2];i:{r:{n:{if((0|t)>=1){for(T=e+400|0,w=e+232|0,O=e+296|0,E=e+8|0,I=e+388|0,C=_[e+216>>2]!=_[e+220>>2],M=e+40|0;;){a:{s:{o:{l:{if(-1==_[e+420>>2]||!Zi(T)){if(f=r=e,m[r+308|0]){if(h=_[O>>2],c=_[e+304>>2],n=h+(c>>>3)|0,o=_[e+300>>2],n>>>0>=o>>>0)break l;if(a=m[0|n],n=c+1|0,_[e+304>>2]=n,!(a>>>(7&c)&1))break l;(a=h+(d=n>>>3)|0)>>>0>=o>>>0?(a=n,r=0):(s=m[0|a],a=c+2|0,_[e+304>>2]=a,d=a>>>3,r=s>>>(7&n)&1),(s=h+d|0)>>>0<o>>>0?(s=m[0|s],_[e+304>>2]=a+1,n=s>>>(7&a)<<1&2):n=0,n=(r|n)<<1|1}else n=1;_[f+416>>2]=n;break s}if(n=_[e+420>>2],_[e+416>>2]=n,n)break s;break o}_[e+416>>2]=0}if((0|(n=_[i+68>>2]))==_[i+64>>2]){a=-1;break n}p=-1,v=_[E>>2],h=_[v+24>>2],s=h,x=_[(o=n+-4|0)>>2],r=-1,-1!=(0|x)&&(r=-1,-1!=(0|(a=((a=x+1|0)>>>0)%3|0?a:x+-2|0))&&(r=_[_[v>>2]+(a<<2)>>2])),-1!=(0|(s=_[s+(r<<2)>>2]))&&(p=((a=s+1|0)>>>0)%3|0?a:s+-2|0),s=_[v+12>>2],y=g(u,3),a=y+1|0,_[s+(x<<2)>>2]=a,_[(a<<=2)+s>>2]=x,k=y+2|0,_[s+(p<<2)>>2]=k,_[(c=k<<2)+s>>2]=p,d=_[v>>2],_[d+(y<<2)>>2]=r,f=a+d|0,s=-1,-1!=(0|p)&&(s=-1,-1!=(0|(a=((a=p+1|0)>>>0)%3|0?a:p+-2|0))&&(s=_[d+(a<<2)>>2])),_[f>>2]=s,-1!=(0|x)&&-1!=(0|(a=x+((x>>>0)%3|0?-1:2)|0))?(a=_[d+(a<<2)>>2],_[c+d>>2]=a,-1!=(0|a)&&(_[h+(a<<2)>>2]=k)):_[c+d>>2]=-1,s=_[e+120>>2]+(r>>>3&536870908)|0,a=_[s>>2],D=s,F=cs(r)&a,_[D>>2]=F,_[o>>2]=y,r=0;break a}if(a=-1,(r=n+-1|0)>>>0>6)break n;s:{o:{l:{c:switch(r-1|0){case 1:case 3:if((0|(s=_[i+68>>2]))==_[i+64>>2])break n;if(a=_[E>>2],r=_[a+12>>2],k=g(u,3),n=(o=k+((h=5==(0|n))?2:1)|0)<<2,d=_[s+-4>>2],_[r+n>>2]=d,_[r+(d<<2)>>2]=o,s=a+24|0,f=_[a+32>>2],r=_[(a=a+28|0)>>2],(0|f)==(0|r)?(Sr(s,11312),v=_[a>>2]):(_[r>>2]=-1,v=r+4|0,_[a>>2]=v),a=-1,r=_[E>>2],c=_[r+24>>2],_[r+28>>2]-c>>2>(0|S))break n;a=k+2|0,y=_[r>>2],f=y+n|0,r=v-_[s>>2]|0,n=(r>>2)-1|0,_[f>>2]=n,r&&(_[c+(n<<2)>>2]=o),a=h?k:a,s=y+(h+k<<2)|0;f:{h:{u:{if(-1!=(0|d)){if(-1==(0|(n=d+((d>>>0)%3|0?-1:2)|0)))break u;if(n=_[y+(n<<2)>>2],_[y+(a<<2)>>2]=n,-1==(0|n))break h;_[c+(n<<2)>>2]=a;break h}_[y+(a<<2)>>2]=-1,r=-1;break f}_[y+(a<<2)>>2]=-1}r=-1,-1!=(0|(n=((n=d+1|0)>>>0)%3|0?n:d+-2|0))&&(r=_[y+(n<<2)>>2])}_[s>>2]=r,n=_[i+68>>2],_[n+-4>>2]=k;break l;default:if(n=_[i+68>>2],v=_[i+64>>2],(0|n)==(0|v))break n;R=_[(r=n+-4|0)>>2],_[i+68>>2]=r;f:if(c=_[i+44>>2])if(f=_[i+40>>2],h=ls(c)>>>0>1,o=c+2147483647&u,h&&(o=s=u,s>>>0<c>>>0||(o=(u>>>0)%(c>>>0)|0)),o=_[f+((s=o)<<2)>>2])if(f=_[o>>2]){o=c+-1|0;h:{for(;;){p=_[f+4>>2];u:{if((0|u)!=(0|p)){if(h?p>>>0<c>>>0||(p=(p>>>0)%(c>>>0)|0):p&=o,(0|s)==(0|p))break u;n=r;break f}if(_[f+8>>2]==(0|u))break h}if(!(f=_[f>>2]))break}n=r;break f}s=f+12|0,(0|r)==_[i+72>>2]?(Sr(i- -64|0,s),n=_[i+68>>2],v=_[i+64>>2]):(_[r>>2]=_[s>>2],_[i+68>>2]=n)}else n=r;else n=r;else n=r;if((0|n)==(0|v))break n;if(d=_[n+-4>>2],s=-1==(0|d),x=_[E>>2],-1!=_[_[x+12>>2]+(d<<2)>>2]&&!s)break n;if(h=-1==(0|R),o=_[(c=x+12|0)>>2],-1!=_[o+(R<<2)>>2]&&!h)break n;if(y=g(u,3),k=y+2|0,_[o+(d<<2)>>2]=k,_[(v=k<<2)+o>>2]=d,r=y+1|0,_[o+(R<<2)>>2]=r,_[(f=o)+(o=r<<2)>>2]=R,s)break o;if(p=-1,s=_[x>>2],f=s+(y<<2)|0,-1!=(0|(r=d+((d>>>0)%3|0?-1:2)|0))&&(p=_[(r<<2)+s>>2]),_[f>>2]=p,-1==(0|(r=((r=d+1|0)>>>0)%3|0?r:d+-2|0)))break s;a=_[(r<<2)+s>>2];break s;case 5:break c;case 0:case 2:case 4:break n}if(_[i>>2]=g(u,3),n=_[E>>2],s=n+24|0,o=_[n+32>>2],n=_[(r=n+28|0)>>2],(0|o)==(0|n)?(Sr(s,11312),d=_[r>>2]):(_[n>>2]=-1,d=n+4|0,_[r>>2]=d),v=_[E>>2],p=_[v>>2],n=_[i>>2],c=d-_[s>>2]|0,r=(k=c>>2)+-1|0,_[p+(n<<2)>>2]=r,n=n+1|0,h=v+24|0,(0|(s=_[(o=v+28|0)>>2]))==_[v+32>>2]?(Sr(h,11312),d=_[o>>2],p=_[v>>2]):(_[s>>2]=-1,d=s+4|0,_[o>>2]=d),_[(n<<2)+p>>2]=(d-_[h>>2]>>2)-1,n=_[i>>2]+2|0,h=_[E>>2],(0|(o=_[(s=h+28|0)>>2]))==_[h+32>>2]?(Sr(h+24|0,11312),p=_[s>>2]):(_[o>>2]=-1,p=o+4|0,_[s>>2]=p),_[_[h>>2]+(n<<2)>>2]=(p-_[h+24>>2]>>2)-1,n=_[E>>2],s=_[n+24>>2],_[n+28>>2]-s>>2>(0|S))break n;n=_[i>>2];c:{if(c){if(_[s+(r<<2)>>2]=n,a=0,-4!=(0|c)&&(_[s+(k<<2)>>2]=_[i>>2]+1,-1==(0|(a=k+1|0))))break c}else a=1,_[s+(k<<2)>>2]=n+1;_[s+(a<<2)>>2]=_[i>>2]+2}(0|(n=_[i+68>>2]))==_[i+72>>2]?(Sr(i- -64|0,i),n=_[i+68>>2]):(_[n>>2]=_[i>>2],n=n+4|0,_[i+68>>2]=n)}r=1;break a}p=-1,s=_[x>>2],_[s+(y<<2)>>2]=-1}_[s+o>>2]=a;s:{o:{l:{if(!h){if(-1==(0|(r=R+((R>>>0)%3|0?-1:2)|0)))break l;if(r=_[(r<<2)+s>>2],_[s+v>>2]=r,-1==(0|r))break o;_[_[x+24>>2]+(r<<2)>>2]=k;break o}_[s+v>>2]=-1,f=-1,a=-1;break s}_[s+v>>2]=-1}f=-1,a=-1,-1!=(0|(r=((r=R+1|0)>>>0)%3|0?r:R+-2|0))&&(f=_[(r<<2)+s>>2],a=r)}_[i>>2]=f,o=_[I>>2],_[(r=o+(s=p<<2)|0)>>2]=_[r>>2]+_[o+(f<<2)>>2],o=_[x+24>>2],-1!=(0|p)&&(_[s+o>>2]=_[o+(_[i>>2]<<2)>>2]);s:if(-1!=(0|a))for(s=_[x>>2];;){if(_[s+(a<<2)>>2]=p,-1==(0|(r=((r=a+1|0)>>>0)%3|0?r:a+-2|0)))break s;if(-1==(0|(a=_[_[c>>2]+(r<<2)>>2])))break s;if(-1==(0|(a=((r=a+1|0)>>>0)%3|0?r:a+-2|0)))break}_[o+(_[i>>2]<<2)>>2]=-1,C||((0|(r=_[i+28>>2]))==_[i+32>>2]?(Sr(i+24|0,i),n=_[i+68>>2]):(_[r>>2]=_[i>>2],_[i+28>>2]=r+4)),_[n+-4>>2]=y,r=0}Mr(w,_[n+-4>>2]);a:if(r&&(0|(n=_[M>>2]))!=_[e+36>>2])for(o=(-1^u)+t|0;;){if(a=-1,(r=_[n+-8>>2])>>>0>o>>>0)break n;if((0|r)!=(0|o))break a;if(r=m[n+-4|0],s=_[(n=n+-12|0)>>2],_[M>>2]=n,(0|s)<0)break n;a=_[_[i+68>>2]+-4>>2],_[i+20>>2]=(-1^s)+t,_[i+88>>2]=i+20,wr(i,i+40|0,i+20|0,i+88|0),s=_[i>>2];s:if(1&r){if(r=-1,-1==(0|a))break s;r=((n=a+1|0)>>>0)%3|0?n:a+-2|0}else r=-1,-1!=(0|a)&&(r=a+-1|0,(a>>>0)%3||(r=a+2|0));if(_[s+12>>2]=r,(0|(n=_[M>>2]))==_[e+36>>2])break}if((0|(u=u+1|0))==(0|t))break}o=t}if(a=-1,f=_[e+8>>2],!(_[f+28>>2]-_[f+24>>2]>>2>(0|S))){if((0|(n=_[i+68>>2]))!=_[i+64>>2]){for(y=e+72|0,t=e+60|0,O=e+312|0,I=e+352|0,C=e+8|0,v=e+68|0,k=e+80|0,M=e+76|0;;){n=_[(r=n+-4|0)>>2],_[i+68>>2]=r,_[i>>2]=n;a:{s:{o:{if(b[e+270>>1]<=513){if(!m[e+364|0])break o;if(r=_[e+360>>2],(n=_[I>>2]+(r>>>3)|0)>>>0>=A[e+356>>2])break s;n=m[0|n],_[e+360>>2]=r+1,r=n>>>(7&r)&1}else r=Zi(O);if(!r)break s}if(c=_[C>>2],S=_[c>>2],(0|o)>=((_[c+4>>2]-S>>2>>>0)/3|0))break n;if(u=-1,f=-1,h=_[c+24>>2],s=h,T=_[i>>2],n=-1,-1!=(0|T)&&(n=-1,-1!=(0|(r=((r=T+1|0)>>>0)%3|0?r:T+-2|0))&&(n=_[S+(r<<2)>>2])),-1!=(0|(s=_[s+(n<<2)>>2]))&&-1!=(0|(r=((r=s+1|0)>>>0)%3|0?r:s+-2|0))&&(-1!=(0|(u=((u=r+1|0)>>>0)%3|0?u:r+-2|0))&&(f=_[S+(u<<2)>>2]),u=r),d=-1,w=-1,h=_[h+(f<<2)>>2],s=-1,-1!=(0|h)&&(s=-1,-1!=(0|(r=((r=h+1|0)>>>0)%3|0?r:h+-2|0))&&(-1!=(0|(s=((s=r+1|0)>>>0)%3|0?s:r+-2|0))&&(w=_[S+(s<<2)>>2]),s=r)),r=g(o,3),_[i+88>>2]=r,h=_[c+12>>2],_[h+(r<<2)>>2]=T,_[h+(T<<2)>>2]=r,r=_[i+88>>2]+1|0,_[h+(r<<2)>>2]=u,_[h+(u<<2)>>2]=r,r=_[i+88>>2]+2|0,_[h+(r<<2)>>2]=s,_[h+(s<<2)>>2]=r,r=_[i+88>>2],_[S+(r<<2)>>2]=f,_[(c=S+((T=r+1|0)<<2)|0)>>2]=w,_[(s=S+((h=r+2|0)<<2)|0)>>2]=n,w=_[e+120>>2],n=_[(r=w+((u=T>>>0<r>>>0?-1:f)>>>3&536870908)|0)>>2],D=r,F=cs(u)&n,_[D>>2]=F,d=-1!=(0|T)?_[c>>2]:d,n=_[(r=w+(d>>>3&536870908)|0)>>2],D=r,F=cs(d)&n,_[D>>2]=F,n=-1,n=-1!=(0|h)?_[s>>2]:n,r=_[(u=w+(n>>>3&536870908)|0)>>2],D=u,F=cs(n)&r,_[D>>2]=F,n=_[e+64>>2],s=_[v>>2],(0|n)==s<<5){if((n+1|0)<=-1)break i;n>>>0<=1073741822?(u=n+32&-32,n=(n=s<<6)>>>0<u>>>0?u:n):n=2147483647,Oe(r=t,n),n=_[e+64>>2]}if(o=o+1|0,_[e+64>>2]=n+1,r=_[e+60>>2]+(n>>>3&536870908)|0,_[r>>2]=_[r>>2]|1<<(31&n),(0|(n=_[M>>2]))!=_[k>>2]){_[n>>2]=_[i+88>>2],_[M>>2]=n+4;break a}Sr(y,i+88|0);break a}if(n=_[e+64>>2],s=_[v>>2],(0|n)==s<<5){if((n+1|0)<=-1)break i;n>>>0<=1073741822?(u=n+32&-32,n=(n=s<<6)>>>0<u>>>0?u:n):n=2147483647,Oe(r=t,n),n=_[e+64>>2]}_[e+64>>2]=n+1,u=_[e+60>>2]+(n>>>3&536870908)|0,r=_[u>>2],D=u,F=cs(n)&r,_[D>>2]=F,(0|(n=_[M>>2]))==_[k>>2]?Sr(y,i):(_[n>>2]=_[i>>2],_[M>>2]=n+4)}if((0|(n=_[i+68>>2]))==_[i+64>>2])break}f=_[e+8>>2]}if(((_[f+4>>2]-_[f>>2]>>2>>>0)/3|0)==(0|o)){if(a=_[f+28>>2]-_[f+24>>2]>>2,t=_[i+24>>2],h=_[i+28>>2],(0|t)==(0|h))break r;for(s=e+8|0;;){if(c=_[t>>2],o=_[f+24>>2],-1==_[o+((n=a+-1|0)<<2)>>2])for(o=_[f+24>>2];n=a+-2|0,a=u=a+-1|0,-1==_[(n<<2)+o>>2];);else u=a;if(!(n>>>0<c>>>0)){if(_[i>>2]=f,a=_[(r=n<<2)+o>>2],l[i+12|0]=1,_[i+8>>2]=a,_[i+4>>2]=a,-1!=(0|a))for(;_[_[f>>2]+(a<<2)>>2]=c,Fi(i),f=_[s>>2],-1!=(0|(a=_[i+8>>2])););a=r,r=_[f+24>>2],a=a+r|0,-1!=(0|c)&&(_[r+(c<<2)>>2]=_[a>>2]),_[a>>2]=-1,C=1<<(31&c),a=_[e+120>>2],r=c=a+(c>>>3&536870908)|0,o=a+(n>>>3&536870908)|0,n=1<<(31&n),a=C|_[c>>2],_[o>>2]&n||(a=_[c>>2]&(-1^C)),_[r>>2]=a,_[o>>2]=_[o>>2]&(-1^n),u=u+-1|0}if(a=u,(0|h)==(0|(t=t+4|0)))break}}}}t=_[i+24>>2]}if(t&&(_[i+28>>2]=t,Ka(t)),n=_[i+48>>2])for(;e=_[n>>2],Ka(n),n=e;);return e=_[i+40>>2],_[i+40>>2]=0,e&&Ka(e),(e=_[i+64>>2])&&(_[i+68>>2]=e,Ka(e)),z=i+96|0,a}Wa(),P()}(e,c)))){tn(c=_[_[e+4>>2]+32>>2],h=(n=_[r+16>>2])+_[r>>2]|0,(r=_[r+8>>2])-n|0,b[c+38>>1]),r=_[e+4>>2],(c=((n=b[r+36>>1])<<24|n<<8&16711680)>>>16)>>>0<=513&&(h=n=_[r+32>>2],v=n,r=s+_[n+20>>2]|0,(n=i+_[n+16>>2]|0)>>>0<i>>>0&&(r=r+1|0),_[v+16>>2]=n,_[h+20>>2]=r);i:if(_[e+220>>2]!=_[e+216>>2]){if(r=_[o>>2],i=_[r+4>>2],r=_[r>>2],!(c>>>0>=513)){if((0|i)==(0|r))break i;for(r=0;;){if(vr(e,r)){if(r=r+3|0,i=_[o>>2],r>>>0<_[i+4>>2]-_[i>>2]>>2>>>0)continue;break i}break}n=0;break t}if((0|i)!=(0|r)){for(r=0;;){if(yr(e,r)){if(r=r+3|0,i=_[o>>2],r>>>0<_[i+4>>2]-_[i>>2]>>2>>>0)continue;break i}break}n=0;break t}}if(m[e+308|0]&&nn(e+272|0),b[e+270>>1]<=513&&nn(e+328|0),(0|(r=_[e+216>>2]))!=_[(s=e+220|0)>>2])for(c=0;;){if(yn(4+((i=g(c,144))+r|0)|0,_[o>>2]),n=_[p>>2],(0|(r=_[(h=i+n|0)+132>>2]))!=(0|(h=_[h+136>>2])))for(;kn(4+(i+n|0)|0,_[r>>2]),n=_[p>>2],(0|h)!=(0|(r=r+4|0)););if(gn(4+(i+n|0)|0),c=c+1|0,r=_[e+216>>2],!(c>>>0<(_[s>>2]-r|0)/144>>>0))break}if(i=_[e+8>>2],gr(e+184|0,_[i+28>>2]-_[i+24>>2]>>2),(0|(n=_[e+216>>2]))!=_[s>>2])for(r=0,c=e+220|0;i=g(r,144)+n|0,n=_[i+60>>2]-_[i+56>>2]>>2,h=i+104|0,i=_[o>>2],gr(h,(0|n)<(0|(i=_[i+28>>2]-_[i+24>>2]>>2))?i:n),r=r+1|0,n=_[e+216>>2],r>>>0<(_[c>>2]-n|0)/144>>>0;);n=kr(e,f)}}}return z=t- -64|0,0|n},a[294]=ct,a[295]=Ge,a[296]=Er,a[297]=Ir,a[298]=function(e){Ka(Ir(e|=0))},a[299]=cr,a[300]=fr,a[301]=hr,a[302]=ur,a[303]=function(e){var t,i=0,r=0,n=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,p=0,v=0,y=0,k=0,x=0,S=0;if(z=t=z+-64|0,_[(e|=0)+132>>2]=0,_[e+148>>2]){if(r=_[(n=e+144|0)>>2])for(;i=_[r>>2],Ka(r),r=i,i;);if(_[n>>2]=0,i=_[e+140>>2])for(n=e+136|0,r=0;_[_[n>>2]+(r<<2)>>2]=0,(0|i)!=(0|(r=r+1|0)););_[e+148>>2]=0}e:{t:{i:{r:{n:{a:{if(r=_[e+4>>2],!((i=(n=m[r+36|0])<<8|m[r+37|0])>>>0>513))if(c=_[r+32>>2],i>>>0<=511){if(s=_[c+12>>2],i=_[c+20>>2],(o=(f=_[c+16>>2])+4|0)>>>0<4&&(i=i+1|0),h=o,o=i,(0|s)<(0|i)||(0|s)<=(0|i)&&!(A[c+8>>2]>=h>>>0))break a;i=f+_[c>>2]|0,i=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[t>>2]=i,_[c+16>>2]=h,_[c+20>>2]=o,_[e+132>>2]=i}else{if(!pr(1,t,c))break a;r=_[e+4>>2],n=m[r+36|0],_[e+132>>2]=_[t>>2]}r=_[r+32>>2];s:{o:{if((255&n)>>>0<=1){if(n=0,c=_[r+12>>2],i=_[r+20>>2],(o=(s=_[r+16>>2])+4|0)>>>0<4&&(i=i+1|0),f=o,o=i,(0|c)<(0|i)||(0|c)<=(0|i)&&!(A[r+8>>2]>=f>>>0))break e;i=s+_[r>>2]|0,i=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[t+60>>2]=i,_[r+16>>2]=f,_[r+20>>2]=o,_[e+156>>2]=i,d=e+156|0}else{if(n=0,!pr(1,t+60|0,r))break e;if(i=_[e+4>>2],r=_[i+32>>2],i=m[i+36|0],_[e+156>>2]=_[t+60>>2],d=e+156|0,i>>>0>1)break o}if(c=_[r+12>>2],i=_[r+20>>2],(o=(s=_[r+16>>2])+4|0)>>>0<4&&(i=i+1|0),h=o,o=i,(0|c)<(0|i)||(0|c)<=(0|i)&&!(A[r+8>>2]>=h>>>0))break e;i=s+_[r>>2]|0,f=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[t+56>>2]=f,_[r+16>>2]=h,_[r+20>>2]=o;break s}if(!pr(1,t+56|0,r))break e;f=_[t+56>>2]}if(f>>>0>1431655765|A[d>>2]>g(f,3)>>>0)break e;if(p=_[e+4>>2],o=_[p+32>>2],v=_[o+8>>2],u=_[o+16>>2],(0|(i=c=_[o+12>>2]))<(0|(r=_[o+20>>2]))||(0|i)<=(0|r)&&!(v>>>0>u>>>0))break e;if(k=_[o>>2],h=m[k+u|0],i=r,(y=u+1|0)>>>0<1&&(i=i+1|0),_[o+16>>2]=y,_[o+20>>2]=i,m[p+36|0]<=1){if(i=r,(r=u+5|0)>>>0<5&&(i=i+1|0),s=r,r=i,(0|c)<(0|i)||(0|c)<=(0|i)&&!(v>>>0>=s>>>0))break e;c=m[0|(i=y+k|0)]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[t+52>>2]=c,_[o+16>>2]=s,_[o+20>>2]=r}else{if(!pr(1,t+52|0,o))break e;c=_[t+52>>2]}if(f>>>0<c>>>0|f>>>0>((c>>>0)/3|0)+c>>>0)break e;if(i=_[e+4>>2],o=_[i+32>>2],m[i+36|0]<=1){if(s=_[o+12>>2],i=_[o+20>>2],(r=(u=_[o+16>>2])+4|0)>>>0<4&&(i=i+1|0),p=r,r=i,(0|s)<(0|i)||(0|s)<=(0|i)&&!(A[o+8>>2]>=p>>>0))break e;i=u+_[o>>2]|0,u=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[t+48>>2]=u,_[o+16>>2]=p,_[o+20>>2]=r}else{if(!pr(1,t+48|0,o))break e;u=_[t+48>>2]}if(u>>>0>c>>>0)break e;if(_[e+28>>2]=_[e+24>>2],hn(r=Fa(88)),i=_[e+8>>2],_[e+8>>2]=r,o=e+8|0,i&&(ne(o,i),!_[o>>2]))break e;if(i=_[e+160>>2],_[e+164>>2]=i,!(_[e+168>>2]-i>>2>>>0>=f>>>0)){if(f>>>0>=1073741824)break n;r=Fa(n=f<<2),_[e+164>>2]=r,_[e+160>>2]=r,_[e+168>>2]=r+n,i&&Ka(i)}if(i=_[e+172>>2],_[e+176>>2]=i,!(_[e+180>>2]-i>>2>>>0>=f>>>0)){if(f>>>0>=1073741824)break r;r=Fa(n=f<<2),_[e+176>>2]=r,_[e+172>>2]=r,_[e+180>>2]=r+n,i&&Ka(i)}if(_[e+92>>2]=-1,_[e+84>>2]=-1,_[e+88>>2]=-1,_[e+40>>2]=_[e+36>>2],_[e- -64>>2]=0,_[e+52>>2]=_[e+48>>2],_[e+76>>2]=_[e+72>>2],p=e+216|0,(0|(r=_[e+220>>2]))==(0|(n=_[e+216>>2])))break i;for(;(i=_[r+-12>>2])&&(_[r+-8>>2]=i,Ka(i)),(i=_[r+-28>>2])&&(_[r+-24>>2]=i,Ka(i)),i=r+-144|0,(s=_[r+-40>>2])&&(_[r+-36>>2]=s,Ka(s)),_r(r+-140|0),r=i,(0|n)!=(0|i););i=_[p>>2];break t}n=0;break e}Re(12024),P()}Re(12024),P()}i=n}if(_[e+220>>2]=n,(r=(n-i|0)/144|0)>>>0<h>>>0)mr(p,h-r|0);else if(!(r>>>0<=h>>>0)){if((0|(r=i+g(h,144)|0))!=(0|n))for(;(i=_[n+-12>>2])&&(_[n+-8>>2]=i,Ka(i)),(i=_[n+-28>>2])&&(_[n+-24>>2]=i,Ka(i)),i=n+-144|0,(s=_[n+-40>>2])&&(_[n+-36>>2]=s,Ka(s)),_r(n+-140|0),n=i,(0|i)!=(0|r););_[e+220>>2]=r}if(n=0,_n(_[o>>2],f,_[d>>2]+u|0)){if(i=_[e+156>>2],l[0|t]=1,Ce(e+120|0,i+u|0,t),r=_[e+4>>2],(i=((i=b[r+36>>1])<<24|i<<8&16711680)>>>16)>>>0<=513){if(s=_[r+32>>2],i>>>0<=511){if(f=_[s+12>>2],i=_[s+20>>2],(r=(d=_[s+16>>2])+4|0)>>>0<4&&(i=i+1|0),v=r,r=i,(0|f)<(0|i)||(0|f)<=(0|i)&&!(A[s+8>>2]>=v>>>0))break e;i=d+_[s>>2]|0,f=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[t+44>>2]=f,_[s+16>>2]=v,_[s+20>>2]=r}else{if(!pr(1,t+44|0,s))break e;f=_[t+44>>2]}if(!f)break e;if(i=_[_[e+4>>2]+32>>2],r=_[i+8>>2],s=_[i+16>>2],(0|(i=_[i+12>>2]-(_[i+20>>2]+(r>>>0<s>>>0)|0)|0))<0||(0|i)<=0&&!(r-s>>>0>=f>>>0))break e;if(s=en(t),r=_[_[e+4>>2]+32>>2],i=_[r+16>>2],d=_[r+8>>2],tn(s,(i+_[r>>2]|0)+f|0,(d-i|0)-f|0,b[r+38>>1]),-1==(0|(r=br(e,s))))break e;s=(i=r)>>31}else if(i=-1,s=-1,-1==(0|br(e,_[r+32>>2])))break e;_[e+376>>2]=e,d=e+232|0,r=_[32+(0|a[_[_[e>>2]+32>>2]](e))>>2],v=_[r>>2]+_[r+16>>2]|0,f=_[32+(0|a[_[_[e>>2]+32>>2]](e))>>2],tn(d,v,(r=_[f+8>>2])-(n=_[f+16>>2])|0,b[_[32+(0|a[_[_[e>>2]+32>>2]](e))>>2]+38>>1]),x=e,S=0|a[_[_[e>>2]+36>>2]](e),_[x+380>>2]=S,_[e+372>>2]=h,_[e+384>>2]=_[e+156>>2]+u,n=0;t:if(function(e,t){var i,r=0,n=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0;z=i=z-16|0,r=_[e+144>>2];i:{if(((r=b[36+(0|a[_[_[r>>2]+32>>2]](r))>>1])<<24|r<<8&16711680)>>>16>>>0<=513){if(r=_[e+4>>2],_[e+40>>2]=_[e>>2],_[e+44>>2]=r,n=_[(r=s=e+32|0)+4>>2],_[e+72>>2]=_[r>>2],_[e+76>>2]=n,n=_[e+28>>2],_[(r=e- -64|0)>>2]=_[e+24>>2],_[r+4>>2]=n,r=_[e+20>>2],_[e+56>>2]=_[e+16>>2],_[e+60>>2]=r,r=_[e+12>>2],_[e+48>>2]=_[e+8>>2],_[e+52>>2]=r,!(rn(r=e+40|0,1,i+8|0)&&(n=_[r+4>>2],_[e>>2]=_[r>>2],_[e+4>>2]=n,n=_[r+36>>2],_[s>>2]=_[r+32>>2],_[s+4>>2]=n,s=_[r+28>>2],_[e+24>>2]=_[r+24>>2],_[e+28>>2]=s,n=_[r+20>>2],l=n,s=_[r+16>>2],_[e+16>>2]=s,_[e+20>>2]=n,n=_[r+12>>2],r=_[r+8>>2],_[e+8>>2]=r,_[e+12>>2]=n,c=r-s|0,f=_[i+12>>2],r=n-((r>>>0<s>>>0)+l|0)|0,n=_[i+8>>2],(0|f)==(0|r)&n>>>0<=c>>>0|f>>>0<r>>>0))){o=0;break i}r=l+f|0,(s=s+n|0)>>>0<n>>>0&&(r=r+1|0),_[e+16>>2]=s,_[e+20>>2]=r}if(b[e+38>>1]<=513){if(r=_[e+4>>2],_[e+96>>2]=_[e>>2],_[e+100>>2]=r,n=_[(r=s=e+32|0)+4>>2],_[e+128>>2]=_[r>>2],_[e+132>>2]=n,o=_[(r=n=e+24|0)+4>>2],_[e+120>>2]=_[r>>2],_[e+124>>2]=o,l=_[(r=o=e+16|0)+4>>2],_[e+112>>2]=_[r>>2],_[e+116>>2]=l,c=_[(r=l=e+8|0)+4>>2],_[e+104>>2]=_[r>>2],_[e+108>>2]=c,!(rn(r=e+96|0,1,i+8|0)&&(c=_[r+4>>2],_[e>>2]=_[r>>2],_[e+4>>2]=c,c=_[r+36>>2],_[s>>2]=_[r+32>>2],_[s+4>>2]=c,s=_[r+28>>2],_[n>>2]=_[r+24>>2],_[n+4>>2]=s,n=_[r+20>>2],c=n,s=_[r+16>>2],_[o>>2]=s,_[o+4>>2]=n,n=_[r+12>>2],r=_[r+8>>2],_[l>>2]=r,_[l+4>>2]=n,l=r-s|0,f=_[i+12>>2],n=n-((r>>>0<s>>>0)+c|0)|0,r=_[i+8>>2],(0|f)==(0|n)&r>>>0<=l>>>0|f>>>0<n>>>0))){o=0;break i}o=c+f|0,(s=r+s|0)>>>0<r>>>0&&(o=o+1|0),_[e+16>>2]=s,_[e+20>>2]=o}else if(o=0,!Xi(e+80|0,e))break i;if(o=0,Tr(e)){if(r=_[e+4>>2],_[t>>2]=_[e>>2],_[t+4>>2]=r,r=_[e+36>>2],_[t+32>>2]=_[e+32>>2],_[t+36>>2]=r,r=_[e+28>>2],_[t+24>>2]=_[e+24>>2],_[t+28>>2]=r,r=_[e+20>>2],_[t+16>>2]=_[e+16>>2],_[t+20>>2]=r,r=_[e+12>>2],_[t+8>>2]=_[e+8>>2],_[t+12>>2]=r,r=_[e+144>>2],((r=b[36+(0|a[_[_[r>>2]+32>>2]](r))>>1])<<24|r<<8&16711680)>>>16>>>0<=513){if(r=_[e+144>>2],m[36+(0|a[_[_[r>>2]+32>>2]](r))|0]<=1){if(n=_[t+12>>2],r=_[t+20>>2],l=_[t+16>>2],(s=l+4|0)>>>0<4&&(r=r+1|0),c=s,s=r,(0|n)<(0|r)||(0|n)<=(0|r)&&!(A[t+8>>2]>=c>>>0))break i;r=l+_[t>>2]|0,n=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[i+8>>2]=n,_[t+16>>2]=c,_[t+20>>2]=s}else{if(!pr(1,i+8|0,t))break i;n=_[i+8>>2]}if(r=_[e+152>>2],n>>>0>=r>>>0)break i;if(l=_[t+16>>2],n=_[t+12>>2],s=_[t+20>>2],(0|n)<(0|s)||(0|n)<=(0|s)&&!(A[t+8>>2]>l>>>0))break i;if(c=m[l+_[t>>2]|0],(l=l+1|0)>>>0<1&&(s=s+1|0),_[(n=t)+16>>2]=l,_[n+20>>2]=s,c)break i;_[e+176>>2]=2,_[e+180>>2]=7}else _[e+176>>2]=2,_[e+180>>2]=7,r=_[e+152>>2];if(!((0|r)<0)){if(_[i+8>>2]=0,o=2,l=_[e+156>>2],n=_[e+160>>2]-l>>2,r>>>0>n>>>0?(kt(e+156|0,r-n|0,i+8|0),o=_[e+176>>2],s=_[e+180>>2]):(s=7,r>>>0>=n>>>0||(_[e+160>>2]=l+(r<<2))),l=e+184|0,s=1+(s-o|0)|0,r=_[(o=e+188|0)>>2],c=_[e+184>>2],s>>>0>(n=(r-c|0)/12|0)>>>0)!function(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;if(n=_[e+8>>2],i=_[(a=e+4|0)>>2],(n-i|0)/12>>>0>=t>>>0)return e=g(t,12),c=a,f=ts(i,0,e)+e|0,void(_[c>>2]=f);r:{if(a=_[e>>2],(s=(r=(i-a|0)/12|0)+t|0)>>>0<357913942){if(l=g(r,12),r=(n=(n-a|0)/12|0)<<1,r=n>>>0<178956970?r>>>0<s>>>0?s:r:357913941){if(r>>>0>=357913942)break r;o=Fa(g(r,12))}if(ts(n=o+l|0,0,g(t,12)),t=g(s,12)+o|0,s=g(r,12)+o|0,(0|i)!=(0|a)){for(;_[(n=n+-12|0)>>2]=0,_[n+4>>2]=0,_[(r=n+8|0)>>2]=0,i=i+-12|0,_[n>>2]=_[i>>2],_[n+4>>2]=_[i+4>>2],o=r,r=i+8|0,_[o>>2]=_[r>>2],_[r>>2]=0,_[i>>2]=0,_[i+4>>2]=0,(0|i)!=(0|a););a=_[e>>2],i=_[e+4>>2]}if(_[e>>2]=n,_[e+8>>2]=s,_[e+4>>2]=t,(0|i)!=(0|a))for(;(t=_[(e=i+-12|0)>>2])&&(_[i+-8>>2]=t,Ka(t)),(0|(i=e))!=(0|a););return void(a&&Ka(a))}Wa(),P()}Re(12024),P()}(l,s-n|0),s=_[o>>2];else if(s>>>0>=n>>>0)s=r;else{if((0|(s=c+g(s,12)|0))!=(0|r))for(;(o=_[(n=r+-12|0)>>2])&&(_[r+-8>>2]=o,Ka(o)),(0|(r=n))!=(0|s););_[e+188>>2]=s}if(c=e+196|0,r=_[e+184>>2],n=(s-r|0)/12|0,f=_[e+196>>2],o=_[e+200>>2]-f>>2,n>>>0>o>>>0?(de(c,n-o|0),s=_[e+188>>2],r=_[e+184>>2]):n>>>0>=o>>>0||(_[e+200>>2]=f+(n<<2)),o=1,(0|r)!=(0|s))for(r=0,p=e+188|0;pr(1,i+8|0,t),(s=_[i+8>>2])&&(n=_[l>>2],h=g(r,12),u=(o=n+h|0)+4|0,d=_[o>>2],f=_[u>>2]-d>>2,s>>>0>f>>>0?(de(o,s-f|0),n=_[l>>2]):s>>>0>=f>>>0||(_[u>>2]=(s<<2)+d),er(s,1,t,_[n+h>>2]),_[_[c>>2]+(r<<2)>>2]=s),o=1,(r=r+1|0)>>>0<(_[p>>2]-_[e+184>>2]|0)/12>>>0;);}}}return z=i+16|0,o}(d,r=en(t))&&-1!=(0|(f=function(e,t){var i,r=0,n=0,a=0,s=0,o=0,c=0,f=0,h=0,u=0,d=0,p=0,v=0,y=0,k=0,x=0,S=0,T=0,w=0,E=0,M=0,R=0,C=0,O=0,I=0,D=0;z=i=z-96|0,_[i+72>>2]=0,_[i+64>>2]=0,_[i+68>>2]=0,_[i+48>>2]=0,_[i+52>>2]=0,_[i+40>>2]=0,_[i+44>>2]=0,_[i+56>>2]=1065353216,_[i+32>>2]=0,_[i+24>>2]=0,_[i+28>>2]=0,M=_[e+124>>2];i:{r:{n:{if((0|t)>=1){for(w=e+232|0,E=e+8|0,R=e+40|0,O=e+388|0,C=_[e+216>>2]!=_[e+220>>2];;){a:if(o=Pr(w)){if(a=-1,(n=o+-1|0)>>>0>6)break n;s:{o:{l:{c:switch(n-1|0){case 1:case 3:if((0|(s=_[i+68>>2]))==_[i+64>>2])break n;if(a=_[E>>2],r=_[a+12>>2],S=g(f,3),n=(o=S+((c=5==(0|o))?2:1)|0)<<2,v=_[s+-4>>2],_[r+n>>2]=v,_[r+(v<<2)>>2]=o,s=a+24|0,d=_[a+32>>2],r=_[(a=a+28|0)>>2],(0|d)==(0|r)?(Sr(s,11312),y=_[a>>2]):(_[r>>2]=-1,y=r+4|0,_[a>>2]=y),a=-1,r=_[E>>2],h=_[r+24>>2],_[r+28>>2]-h>>2>(0|M))break n;a=S+2|0,x=_[r>>2],d=x+n|0,r=y-_[s>>2]|0,n=(r>>2)-1|0,_[d>>2]=n,r&&(_[h+(n<<2)>>2]=o),a=c?S:a,s=x+(c+S<<2)|0;f:{h:{u:{if(-1!=(0|v)){if(-1==(0|(n=v+((v>>>0)%3|0?-1:2)|0)))break u;if(n=_[x+(n<<2)>>2],_[x+(a<<2)>>2]=n,-1==(0|n))break h;_[h+(n<<2)>>2]=a;break h}_[x+(a<<2)>>2]=-1,r=-1;break f}_[x+(a<<2)>>2]=-1}r=-1,-1!=(0|(n=((n=v+1|0)>>>0)%3|0?n:v+-2|0))&&(r=_[x+(n<<2)>>2])}_[s>>2]=r,n=_[i+68>>2],_[n+-4>>2]=S;break l;default:if(n=_[i+68>>2],y=_[i+64>>2],(0|n)==(0|y))break n;T=_[(r=n+-4|0)>>2],_[i+68>>2]=r;f:if(h=_[i+44>>2])if((c=ls(h)>>>0>1)?(s=f)>>>0<h>>>0||(s=(f>>>0)%(h>>>0)|0):s=h+2147483647&f,o=_[_[i+40>>2]+(s<<2)>>2])if(u=_[o>>2]){o=h+-1|0;h:{for(;;){p=_[u+4>>2];u:{if((0|f)!=(0|p)){if(c?p>>>0<h>>>0||(p=(p>>>0)%(h>>>0)|0):p&=o,(0|s)==(0|p))break u;n=r;break f}if(_[u+8>>2]==(0|f))break h}if(!(u=_[u>>2]))break}n=r;break f}s=u+12|0,(0|r)==_[i+72>>2]?(Sr(i- -64|0,s),n=_[i+68>>2],y=_[i+64>>2]):(_[r>>2]=_[s>>2],_[i+68>>2]=n)}else n=r;else n=r;else n=r;if((0|n)==(0|y))break n;if(v=_[n+-4>>2],s=-1==(0|v),k=_[E>>2],-1!=_[_[k+12>>2]+(v<<2)>>2]&&!s)break n;if(c=-1==(0|T),o=_[(h=k+12|0)>>2],-1!=_[o+(T<<2)>>2]&&!c)break n;if(x=g(f,3),S=x+2|0,_[o+(v<<2)>>2]=S,_[(y=S<<2)+o>>2]=v,r=x+1|0,_[o+(T<<2)>>2]=r,_[(d=o)+(o=r<<2)>>2]=T,s)break o;if(p=-1,d=_[k>>2],s=d+(x<<2)|0,-1!=(0|(r=v+((v>>>0)%3|0?-1:2)|0))&&(p=_[(r<<2)+d>>2]),_[s>>2]=p,-1==(0|(r=((r=v+1|0)>>>0)%3|0?r:v+-2|0)))break s;a=_[(r<<2)+d>>2];break s;case 5:break c;case 0:case 2:case 4:break n}if(_[i>>2]=g(f,3),n=_[E>>2],s=n+24|0,c=_[n+32>>2],n=_[(r=n+28|0)>>2],(0|c)==(0|n)?(Sr(s,11312),d=_[r>>2]):(_[n>>2]=-1,d=n+4|0,_[r>>2]=d),y=_[E>>2],p=_[y>>2],n=_[i>>2],h=d-_[s>>2]|0,r=(S=h>>2)+-1|0,_[p+(n<<2)>>2]=r,n=n+1|0,c=y+24|0,(0|(s=_[(o=y+28|0)>>2]))==_[y+32>>2]?(Sr(c,11312),d=_[o>>2],p=_[y>>2]):(_[s>>2]=-1,d=s+4|0,_[o>>2]=d),_[(n<<2)+p>>2]=(d-_[c>>2]>>2)-1,n=_[i>>2]+2|0,c=_[E>>2],(0|(o=_[(s=c+28|0)>>2]))==_[c+32>>2]?(Sr(c+24|0,11312),p=_[s>>2]):(_[o>>2]=-1,p=o+4|0,_[s>>2]=p),_[_[c>>2]+(n<<2)>>2]=(p-_[c+24>>2]>>2)-1,n=_[E>>2],s=_[n+24>>2],_[n+28>>2]-s>>2>(0|M))break n;n=_[i>>2];c:{if(h){if(_[s+(r<<2)>>2]=n,a=0,-4!=(0|h)&&(_[s+(S<<2)>>2]=_[i>>2]+1,-1==(0|(a=S+1|0))))break c}else a=1,_[s+(S<<2)>>2]=n+1;_[s+(a<<2)>>2]=_[i>>2]+2}(0|(n=_[i+68>>2]))==_[i+72>>2]?(Sr(i- -64|0,i),n=_[i+68>>2]):(_[n>>2]=_[i>>2],n=n+4|0,_[i+68>>2]=n)}r=1;break a}p=-1,d=_[k>>2],_[d+(x<<2)>>2]=-1}_[o+d>>2]=a;s:{o:{l:{if(!c){if(-1==(0|(r=T+((T>>>0)%3|0?-1:2)|0)))break l;if(r=_[(r<<2)+d>>2],_[y+d>>2]=r,-1==(0|r))break o;_[_[k+24>>2]+(r<<2)>>2]=S;break o}_[y+d>>2]=-1,u=-1,a=-1;break s}_[y+d>>2]=-1}u=-1,a=-1,-1!=(0|(r=((r=T+1|0)>>>0)%3|0?r:T+-2|0))&&(u=_[(r<<2)+d>>2],a=r)}_[i>>2]=u,o=_[O>>2],_[(r=o+(s=p<<2)|0)>>2]=_[r>>2]+_[o+(u<<2)>>2],o=_[k+24>>2],-1!=(0|p)&&(_[s+o>>2]=_[o+(_[i>>2]<<2)>>2]);s:if(-1!=(0|a))for(s=_[k>>2];;){if(_[s+(a<<2)>>2]=p,-1==(0|(r=((r=a+1|0)>>>0)%3|0?r:a+-2|0)))break s;if(-1==(0|(a=_[_[h>>2]+(r<<2)>>2])))break s;if(-1==(0|(a=((r=a+1|0)>>>0)%3|0?r:a+-2|0)))break}_[o+(_[i>>2]<<2)>>2]=-1,C||((0|(r=_[i+28>>2]))==_[i+32>>2]?(Sr(i+24|0,i),n=_[i+68>>2]):(_[r>>2]=_[i>>2],_[i+28>>2]=r+4)),_[n+-4>>2]=x,r=0}else{if((0|(n=_[i+68>>2]))==_[i+64>>2]){a=-1;break n}p=-1,y=_[E>>2],c=_[y+24>>2],s=c,k=_[(o=n+-4|0)>>2],r=-1,-1!=(0|k)&&(r=-1,-1!=(0|(a=((a=k+1|0)>>>0)%3|0?a:k+-2|0))&&(r=_[_[y>>2]+(a<<2)>>2])),-1!=(0|(s=_[s+(r<<2)>>2]))&&(p=((a=s+1|0)>>>0)%3|0?a:s+-2|0),s=_[y+12>>2],x=g(f,3),a=x+1|0,_[s+(k<<2)>>2]=a,_[(a<<=2)+s>>2]=k,S=x+2|0,_[s+(p<<2)>>2]=S,_[(h=S<<2)+s>>2]=p,v=_[y>>2],_[v+(x<<2)>>2]=r,d=a+v|0,s=-1,-1!=(0|p)&&(s=-1,-1!=(0|(a=((a=p+1|0)>>>0)%3|0?a:p+-2|0))&&(s=_[v+(a<<2)>>2])),_[d>>2]=s,-1!=(0|k)&&-1!=(0|(a=k+((k>>>0)%3|0?-1:2)|0))?(a=_[v+(a<<2)>>2],_[h+v>>2]=a,-1!=(0|a)&&(_[c+(a<<2)>>2]=S)):_[h+v>>2]=-1,s=_[e+120>>2]+(r>>>3&536870908)|0,a=_[s>>2],I=s,D=cs(r)&a,_[I>>2]=D,_[o>>2]=x,r=0}Rr(w,_[n+-4>>2]);a:if(r&&(0|(n=_[R>>2]))!=_[e+36>>2])for(o=(-1^f)+t|0;;){if(a=-1,(r=_[n+-8>>2])>>>0>o>>>0)break n;if((0|r)!=(0|o))break a;if(r=m[n+-4|0],s=_[(n=n+-12|0)>>2],_[R>>2]=n,(0|s)<0)break n;a=_[_[i+68>>2]+-4>>2],_[i+20>>2]=(-1^s)+t,_[i+88>>2]=i+20,wr(i,i+40|0,i+20|0,i+88|0),s=_[i>>2];s:if(1&r){if(r=-1,-1==(0|a))break s;r=((n=a+1|0)>>>0)%3|0?n:a+-2|0}else r=-1,-1!=(0|a)&&(r=a+-1|0,(a>>>0)%3||(r=a+2|0));if(_[s+12>>2]=r,(0|(n=_[R>>2]))==_[e+36>>2])break}if((0|(f=f+1|0))==(0|t))break}o=t}if(a=-1,u=_[e+8>>2],!(_[u+28>>2]-_[u+24>>2]>>2>(0|M))){if((0|(n=_[i+68>>2]))!=_[i+64>>2]){for(M=e+72|0,t=e+60|0,S=e+312|0,O=e+352|0,C=e+8|0,R=e+68|0,x=e+80|0,k=e+76|0;;){n=_[(r=n+-4|0)>>2],_[i+68>>2]=r,_[i>>2]=n;a:{s:{o:{if(b[e+270>>1]<=513){if(!m[e+364|0])break o;if(r=_[e+360>>2],(n=_[O>>2]+(r>>>3)|0)>>>0>=A[e+356>>2])break s;n=m[0|n],_[e+360>>2]=r+1,r=n>>>(7&r)&1}else r=Zi(S);if(!r)break s}if(h=_[C>>2],T=_[h>>2],(0|o)>=((_[h+4>>2]-T>>2>>>0)/3|0))break n;if(f=-1,u=-1,c=_[h+24>>2],s=c,w=_[i>>2],n=-1,-1!=(0|w)&&(n=-1,-1!=(0|(r=((r=w+1|0)>>>0)%3|0?r:w+-2|0))&&(n=_[T+(r<<2)>>2])),-1!=(0|(s=_[s+(n<<2)>>2]))&&-1!=(0|(r=((r=s+1|0)>>>0)%3|0?r:s+-2|0))&&(-1!=(0|(f=((f=r+1|0)>>>0)%3|0?f:r+-2|0))&&(u=_[T+(f<<2)>>2]),f=r),v=-1,d=-1,c=_[c+(u<<2)>>2],s=-1,-1!=(0|c)&&(s=-1,-1!=(0|(r=((r=c+1|0)>>>0)%3|0?r:c+-2|0))&&(-1!=(0|(s=((s=r+1|0)>>>0)%3|0?s:r+-2|0))&&(d=_[T+(s<<2)>>2]),s=r)),r=g(o,3),_[i+88>>2]=r,c=_[h+12>>2],_[c+(r<<2)>>2]=w,_[c+(w<<2)>>2]=r,r=_[i+88>>2]+1|0,_[c+(r<<2)>>2]=f,_[c+(f<<2)>>2]=r,r=_[i+88>>2]+2|0,_[c+(r<<2)>>2]=s,_[c+(s<<2)>>2]=r,r=_[i+88>>2],_[T+(r<<2)>>2]=u,_[(h=T+((y=r+1|0)<<2)|0)>>2]=d,_[(s=T+((c=r+2|0)<<2)|0)>>2]=n,w=_[e+120>>2],n=_[(r=w+((f=y>>>0<r>>>0?-1:u)>>>3&536870908)|0)>>2],I=r,D=cs(f)&n,_[I>>2]=D,v=-1!=(0|y)?_[h>>2]:v,n=_[(r=w+(v>>>3&536870908)|0)>>2],I=r,D=cs(v)&n,_[I>>2]=D,n=-1,n=-1!=(0|c)?_[s>>2]:n,r=_[(f=w+(n>>>3&536870908)|0)>>2],I=f,D=cs(n)&r,_[I>>2]=D,n=_[e+64>>2],s=_[R>>2],(0|n)==s<<5){if((n+1|0)<=-1)break i;n>>>0<=1073741822?(f=n+32&-32,n=(n=s<<6)>>>0<f>>>0?f:n):n=2147483647,Oe(r=t,n),n=_[e+64>>2]}if(o=o+1|0,_[e+64>>2]=n+1,r=_[e+60>>2]+(n>>>3&536870908)|0,_[r>>2]=_[r>>2]|1<<(31&n),(0|(n=_[k>>2]))!=_[x>>2]){_[n>>2]=_[i+88>>2],_[k>>2]=n+4;break a}Sr(M,i+88|0);break a}if(n=_[e+64>>2],s=_[R>>2],(0|n)==s<<5){if((n+1|0)<=-1)break i;n>>>0<=1073741822?(f=n+32&-32,n=(n=s<<6)>>>0<f>>>0?f:n):n=2147483647,Oe(r=t,n),n=_[e+64>>2]}_[e+64>>2]=n+1,f=_[e+60>>2]+(n>>>3&536870908)|0,r=_[f>>2],I=f,D=cs(n)&r,_[I>>2]=D,(0|(n=_[k>>2]))==_[x>>2]?Sr(M,i):(_[n>>2]=_[i>>2],_[k>>2]=n+4)}if((0|(n=_[i+68>>2]))==_[i+64>>2])break}u=_[e+8>>2]}if(((_[u+4>>2]-_[u>>2]>>2>>>0)/3|0)==(0|o)){if(a=_[u+28>>2]-_[u+24>>2]>>2,t=_[i+24>>2],c=_[i+28>>2],(0|t)==(0|c))break r;for(s=e+8|0;;){if(h=_[t>>2],o=_[u+24>>2],-1==_[o+((n=a+-1|0)<<2)>>2])for(o=_[u+24>>2];n=a+-2|0,a=f=a+-1|0,-1==_[(n<<2)+o>>2];);else f=a;if(n>>>0>=h>>>0){if(_[i>>2]=u,a=_[(r=n<<2)+o>>2],l[i+12|0]=1,_[i+8>>2]=a,_[i+4>>2]=a,-1!=(0|a))for(;_[_[u>>2]+(a<<2)>>2]=h,Fi(i),u=_[s>>2],-1!=(0|(a=_[i+8>>2])););a=r,r=_[u+24>>2],a=a+r|0,-1!=(0|h)&&(_[r+(h<<2)>>2]=_[a>>2]),_[a>>2]=-1,C=1<<(31&h),a=_[e+120>>2],r=h=a+(h>>>3&536870908)|0,o=a+(n>>>3&536870908)|0,n=1<<(31&n),a=C|_[h>>2],_[o>>2]&n||(a=_[h>>2]&(-1^C)),_[r>>2]=a,_[o>>2]=_[o>>2]&(-1^n),f=f+-1|0}if(a=f,(0|c)==(0|(t=t+4|0)))break}}}}t=_[i+24>>2]}if(t&&(_[i+28>>2]=t,Ka(t)),n=_[i+48>>2])for(;e=_[n>>2],Ka(n),n=e;);return e=_[i+40>>2],_[i+40>>2]=0,e&&Ka(e),(e=_[i+64>>2])&&(_[i+68>>2]=e,Ka(e)),z=i+96|0,a}Wa(),P()}(e,c)))){tn(c=_[_[e+4>>2]+32>>2],h=(n=_[r+16>>2])+_[r>>2]|0,(r=_[r+8>>2])-n|0,b[c+38>>1]),r=_[e+4>>2],(c=((n=b[r+36>>1])<<24|n<<8&16711680)>>>16)>>>0<=513&&(h=n=_[r+32>>2],v=n,r=s+_[n+20>>2]|0,(n=i+_[n+16>>2]|0)>>>0<i>>>0&&(r=r+1|0),_[v+16>>2]=n,_[h+20>>2]=r);i:if(_[e+220>>2]!=_[e+216>>2]){if(r=_[o>>2],i=_[r+4>>2],r=_[r>>2],!(c>>>0>=513)){if((0|i)==(0|r))break i;for(r=0;;){if(vr(e,r)){if(r=r+3|0,i=_[o>>2],r>>>0<_[i+4>>2]-_[i>>2]>>2>>>0)continue;break i}break}n=0;break t}if((0|i)!=(0|r)){for(r=0;;){if(yr(e,r)){if(r=r+3|0,i=_[o>>2],r>>>0<_[i+4>>2]-_[i>>2]>>2>>>0)continue;break i}break}n=0;break t}}if(m[e+308|0]&&nn(e+272|0),b[e+270>>1]<=513&&nn(e+328|0),(0|(r=_[e+216>>2]))!=_[(s=e+220|0)>>2])for(c=0;;){if(yn(4+((i=g(c,144))+r|0)|0,_[o>>2]),n=_[p>>2],(0|(r=_[(h=i+n|0)+132>>2]))!=(0|(h=_[h+136>>2])))for(;kn(4+(i+n|0)|0,_[r>>2]),n=_[p>>2],(0|h)!=(0|(r=r+4|0)););if(gn(4+(i+n|0)|0),c=c+1|0,r=_[e+216>>2],!(c>>>0<(_[s>>2]-r|0)/144>>>0))break}if(i=_[e+8>>2],gr(e+184|0,_[i+28>>2]-_[i+24>>2]>>2),(0|(n=_[e+216>>2]))!=_[s>>2])for(r=0,c=e+220|0;i=g(r,144)+n|0,n=_[i+60>>2]-_[i+56>>2]>>2,h=i+104|0,i=_[o>>2],gr(h,(0|n)<(0|(i=_[i+28>>2]-_[i+24>>2]>>2))?i:n),r=r+1|0,n=_[e+216>>2],r>>>0<(_[c>>2]-n|0)/144>>>0;);n=kr(e,f)}}}return z=t- -64|0,0|n},a[304]=ct,a[305]=Ge,a[306]=Er,a[307]=function(e){var t=0;return _[(e|=0)>>2]=11760,(t=_[e+48>>2])&&(_[e+52>>2]=t,Ka(t)),_[e>>2]=12012,(t=_[e+36>>2])&&Ka(t),(t=_[e+24>>2])&&Ka(t),0|e},a[308]=function(e){var t=0;_[(e|=0)>>2]=11760,(t=_[e+48>>2])&&(_[e+52>>2]=t,Ka(t)),_[e>>2]=12012,(t=_[e+36>>2])&&Ka(t),(t=_[e+24>>2])&&Ka(t),Ka(e)},a[309]=function(e,t,i){t|=0,i|=0;var r,n=0;z=r=z-16|0,_[(e|=0)+4>>2]=t,t=_[t+64>>2],n=_[t+4>>2],t=_[t>>2],l[r+15|0]=0,Ce(e+24|0,(n-t>>2>>>0)/3|0,r+15|0),t=_[e+4>>2],n=_[t+56>>2],t=_[t+52>>2],l[r+14|0]=0,Ce(e+36|0,n-t>>2,r+14|0),t=_[i+12>>2],_[e+16>>2]=_[i+8>>2],_[e+20>>2]=t,t=_[i+4>>2],_[e+8>>2]=_[i>>2],_[e+12>>2]=t,z=r+16|0},a[310]=function(e){var t=0;return _[(e|=0)>>2]=12012,(t=_[e+36>>2])&&Ka(t),(t=_[e+24>>2])&&Ka(t),0|e},a[311]=function(e){var t=0;_[(e|=0)>>2]=12012,(t=_[e+36>>2])&&Ka(t),(t=_[e+24>>2])&&Ka(t),Ka(e)},a[312]=function(e){var t=0;return _[(e|=0)>>2]=12124,_[e+8>>2]=12336,(t=_[e+96>>2])&&(_[e+100>>2]=t,Ka(t)),(t=_[e+80>>2])&&(_[e+84>>2]=t,Ka(t)),(t=_[e+68>>2])&&(_[e+72>>2]=t,Ka(t)),(t=_[e+56>>2])&&(_[e+60>>2]=t,Ka(t)),_[e+8>>2]=12572,(t=_[e+44>>2])&&Ka(t),(t=_[e+32>>2])&&Ka(t),0|e},a[313]=function(e){var t=0;_[(e|=0)>>2]=12124,_[e+8>>2]=12336,(t=_[e+96>>2])&&(_[e+100>>2]=t,Ka(t)),(t=_[e+80>>2])&&(_[e+84>>2]=t,Ka(t)),(t=_[e+68>>2])&&(_[e+72>>2]=t,Ka(t)),(t=_[e+56>>2])&&(_[e+60>>2]=t,Ka(t)),_[e+8>>2]=12572,(t=_[e+44>>2])&&Ka(t),(t=_[e+32>>2])&&Ka(t),Ka(e)},a[314]=function(e,t){t|=0;var i,r,n,a,s=0,o=0,c=0,f=0,h=0,u=0,d=0;if(r=_[(e|=0)+12>>2],s=_[e+108>>2],o=_[s+80>>2],l[t+84|0]=0,h=_[t+68>>2],o>>>0>(c=_[t+72>>2]-h>>2)>>>0?(ht(t+68|0,o-c|0,12324),s=_[e+108>>2],o=_[s+80>>2]):o>>>0>=c>>>0||(_[t+72>>2]=h+(o<<2)),i=_[s+96>>2],n=(0|(s=_[s+100>>2]-i|0))/12|0,!s)return 1;a=t+68|0,t=0;e:{for(;;){if(1431655765!=(0|t)&&(s=_[r>>2]+(g(t,3)<<2)|0,-1!=(0|(h=_[s>>2]))&&(c=g(t,12)+i|0,!((u=_[c>>2])>>>0>=o>>>0)&&(f=h<<2,h=_[_[e+112>>2]+12>>2],!((f=_[f+h>>2])>>>0>=o>>>0)&&(d=u<<2,u=_[a>>2],_[d+u>>2]=f,-1!=(0|(f=_[s+4>>2]))&&!((d=_[c+4>>2])>>>0>=o>>>0)&&!((f=_[h+(f<<2)>>2])>>>0>=o>>>0)&&(_[u+(d<<2)>>2]=f,-1!=(0|(s=_[s+8>>2]))&&!((c=_[c+8>>2])>>>0>=o>>>0)&&!((s=_[h+(s<<2)>>2])>>>0>=o>>>0))))))){if(_[u+(c<<2)>>2]=s,s=1,(t=t+1|0)>>>0<n>>>0)continue;break e}break}s=0}return 0|s},a[315]=function(e){var t,i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0;z=t=z-16|0,r=_[(e|=0)+4>>2],i=_[r>>2];e:{if(n=_[(l=e+12|0)>>2],n=(a=_[n+28>>2]-_[n+24>>2]|0)>>2,!(_[r+8>>2]-i>>2>>>0>=n>>>0)){if(n>>>0>=1073741824)break e;s=_[(c=r+4|0)>>2],o=(o=n<<2)+(n=Fa(a))|0,s=(a=s-i|0)+n|0,(0|a)>=1&&es(n,i,a),_[r>>2]=n,_[r+8>>2]=o,_[c>>2]=s,i&&Ka(i)}i=_[l>>2],r=_[i+24>>2],i=_[i+28>>2],_[t+12>>2]=0,i=i-r>>2,a=_[(n=e+96|0)>>2],i>>>0>(r=_[e+100>>2]-a>>2)>>>0?kt(n,i-r|0,t+12|0):i>>>0>=r>>>0||(_[e+100>>2]=a+(i<<2)),a=e+8|0;t:{i:{if(i=_[e+116>>2]){if(r=1,(0|(n=_[i>>2]))==_[i+4>>2])break t;for(i=0;;){if(!Fr(a,_[(i<<2)+n>>2]))break i;if(r=_[e+116>>2],n=_[r>>2],!((i=i+1|0)>>>0<_[r+4>>2]-n>>2>>>0))break}r=1;break t}if(i=0,e=_[e+12>>2],r=1,(0|(e=(_[e+4>>2]-_[e>>2]>>2>>>0)/3|0))<=0)break t;for(;;){if(!Fr(a,g(i,3)))break i;if(!((i=i+1|0)>>>0<e>>>0))break}r=1;break t}r=0}return z=t+16|0,0|r}Re(12024),P()},a[316]=function(e){var t=0;return _[(e|=0)>>2]=12336,(t=_[e+88>>2])&&(_[e+92>>2]=t,Ka(t)),(t=_[e+72>>2])&&(_[e+76>>2]=t,Ka(t)),(t=_[e+60>>2])&&(_[e- -64>>2]=t,Ka(t)),(t=_[e+48>>2])&&(_[e+52>>2]=t,Ka(t)),_[e>>2]=12572,(t=_[e+36>>2])&&Ka(t),(t=_[e+24>>2])&&Ka(t),0|e},a[317]=function(e){var t=0;_[(e|=0)>>2]=12336,(t=_[e+88>>2])&&(_[e+92>>2]=t,Ka(t)),(t=_[e+72>>2])&&(_[e+76>>2]=t,Ka(t)),(t=_[e+60>>2])&&(_[e- -64>>2]=t,Ka(t)),(t=_[e+48>>2])&&(_[e+52>>2]=t,Ka(t)),_[e>>2]=12572,(t=_[e+36>>2])&&Ka(t),(t=_[e+24>>2])&&Ka(t),Ka(e)},a[318]=function(e,t,i){t|=0,i|=0;var r,n=0;z=r=z-16|0,_[(e|=0)+4>>2]=t,n=_[t+4>>2],t=_[t>>2],l[r+15|0]=0,Ce(e+24|0,(n-t>>2>>>0)/3|0,r+15|0),t=_[e+4>>2],n=_[t+28>>2],t=_[t+24>>2],l[r+14|0]=0,Ce(e+36|0,n-t>>2,r+14|0),t=_[i+12>>2],_[e+16>>2]=_[i+8>>2],_[e+20>>2]=t,t=_[i+4>>2],_[e+8>>2]=_[i>>2],_[e+12>>2]=t,z=r+16|0},a[319]=function(e){var t=0;return _[(e|=0)>>2]=12572,(t=_[e+36>>2])&&Ka(t),(t=_[e+24>>2])&&Ka(t),0|e},a[320]=function(e){var t=0;_[(e|=0)>>2]=12572,(t=_[e+36>>2])&&Ka(t),(t=_[e+24>>2])&&Ka(t),Ka(e)},a[321]=function(e){var t,i=0;return _[(e|=0)>>2]=12592,_[(t=e+8|0)>>2]=12756,(i=_[e+56>>2])&&(_[e+60>>2]=i,Ka(i)),_[t>>2]=12572,(i=_[e+44>>2])&&Ka(i),(i=_[e+32>>2])&&Ka(i),0|e},a[322]=function(e){var t,i=0;_[(e|=0)>>2]=12592,_[(t=e+8|0)>>2]=12756,(i=_[e+56>>2])&&(_[e+60>>2]=i,Ka(i)),_[t>>2]=12572,(i=_[e+44>>2])&&Ka(i),(i=_[e+32>>2])&&Ka(i),Ka(e)},a[323]=function(e,t){t|=0;var i,r,n,a,s=0,o=0,c=0,f=0,h=0,u=0,d=0;if(r=_[(e|=0)+12>>2],s=_[e+68>>2],o=_[s+80>>2],l[t+84|0]=0,h=_[t+68>>2],o>>>0>(c=_[t+72>>2]-h>>2)>>>0?(ht(t+68|0,o-c|0,12324),s=_[e+68>>2],o=_[s+80>>2]):o>>>0>=c>>>0||(_[t+72>>2]=h+(o<<2)),i=_[s+96>>2],n=(0|(s=_[s+100>>2]-i|0))/12|0,!s)return 1;a=t+68|0,t=0;e:{for(;;){if(1431655765!=(0|t)&&(s=_[r>>2]+(g(t,3)<<2)|0,-1!=(0|(h=_[s>>2]))&&(c=g(t,12)+i|0,!((u=_[c>>2])>>>0>=o>>>0)&&(f=h<<2,h=_[_[e+72>>2]+12>>2],!((f=_[f+h>>2])>>>0>=o>>>0)&&(d=u<<2,u=_[a>>2],_[d+u>>2]=f,-1!=(0|(f=_[s+4>>2]))&&!((d=_[c+4>>2])>>>0>=o>>>0)&&!((f=_[h+(f<<2)>>2])>>>0>=o>>>0)&&(_[u+(d<<2)>>2]=f,-1!=(0|(s=_[s+8>>2]))&&!((c=_[c+8>>2])>>>0>=o>>>0)&&!((s=_[h+(s<<2)>>2])>>>0>=o>>>0))))))){if(_[u+(c<<2)>>2]=s,s=1,(t=t+1|0)>>>0<n>>>0)continue;break e}break}s=0}return 0|s},a[324]=function(e){var t=0,i=0,r=0,n=0,a=0,s=0,o=0;n=_[(e|=0)+4>>2],t=_[n>>2];e:{if(i=_[e+12>>2],i=(r=_[i+28>>2]-_[i+24>>2]|0)>>2,!(_[n+8>>2]-t>>2>>>0>=i>>>0)){if(i>>>0>=1073741824)break e;a=_[(o=n+4|0)>>2],s=(s=i<<2)+(i=Fa(r))|0,a=(r=a-t|0)+i|0,(0|r)>=1&&es(i,t,r),_[n>>2]=i,_[n+8>>2]=s,_[o>>2]=a,t&&Ka(t)}i=e+8|0;t:{i:{if(t=_[e+76>>2]){if(r=1,(0|(n=_[t>>2]))==_[t+4>>2])break t;for(t=0;;){if(!Nr(i,_[(t<<2)+n>>2]))break i;if(r=_[e+76>>2],n=_[r>>2],!((t=t+1|0)>>>0<_[r+4>>2]-n>>2>>>0))break}return 1}if(t=0,e=_[e+12>>2],(0|(e=(_[e+4>>2]-_[e>>2]>>2>>>0)/3|0))<=0)return 1;for(;;){if(!Nr(i,g(t,3)))break i;if(!((t=t+1|0)>>>0<e>>>0))break}return 1}r=0}return 0|r}Re(12024),P()},a[325]=function(e){var t=0;return _[(e|=0)>>2]=12756,(t=_[e+48>>2])&&(_[e+52>>2]=t,Ka(t)),_[e>>2]=12572,(t=_[e+36>>2])&&Ka(t),(t=_[e+24>>2])&&Ka(t),0|e},a[326]=function(e){var t=0;_[(e|=0)>>2]=12756,(t=_[e+48>>2])&&(_[e+52>>2]=t,Ka(t)),_[e>>2]=12572,(t=_[e+36>>2])&&Ka(t),(t=_[e+24>>2])&&Ka(t),Ka(e)},a[327]=function(e){var t,i=0;return _[(e|=0)>>2]=12884,_[(t=e+8|0)>>2]=11760,(i=_[e+56>>2])&&(_[e+60>>2]=i,Ka(i)),_[t>>2]=12012,(i=_[e+44>>2])&&Ka(i),(i=_[e+32>>2])&&Ka(i),0|e},a[328]=function(e){var t,i=0;_[(e|=0)>>2]=12884,_[(t=e+8|0)>>2]=11760,(i=_[e+56>>2])&&(_[e+60>>2]=i,Ka(i)),_[t>>2]=12012,(i=_[e+44>>2])&&Ka(i),(i=_[e+32>>2])&&Ka(i),Ka(e)},a[329]=function(e,t){t|=0;var i,r,n,a,s=0,o=0,c=0,f=0,h=0,u=0,d=0;if(u=_[(e|=0)+12>>2],s=_[e+68>>2],o=_[s+80>>2],l[t+84|0]=0,h=_[t+68>>2],o>>>0>(c=_[t+72>>2]-h>>2)>>>0?(ht(t+68|0,o-c|0,12324),s=_[e+68>>2],o=_[s+80>>2]):o>>>0>=c>>>0||(_[t+72>>2]=h+(o<<2)),i=_[s+96>>2],r=(0|(s=_[s+100>>2]-i|0))/12|0,!s)return 1;n=_[u+28>>2],a=t+68|0,t=0;e:{for(;;){if(s=(g(t,3)<<2)+n|0,-1!=(0|(u=_[s>>2]))&&(c=g(t,12)+i|0,!((h=_[c>>2])>>>0>=o>>>0)&&(f=u<<2,u=_[_[e+72>>2]+12>>2],!((f=_[f+u>>2])>>>0>=o>>>0)&&(d=h<<2,h=_[a>>2],_[d+h>>2]=f,-1!=(0|(f=_[s+4>>2]))&&!((d=_[c+4>>2])>>>0>=o>>>0)&&!((f=_[u+(f<<2)>>2])>>>0>=o>>>0)&&(_[h+(d<<2)>>2]=f,-1!=(0|(s=_[s+8>>2]))&&!((c=_[c+8>>2])>>>0>=o>>>0)&&!((s=_[u+(s<<2)>>2])>>>0>=o>>>0)))))){if(_[h+(c<<2)>>2]=s,s=1,(t=t+1|0)>>>0<r>>>0)continue;break e}break}s=0}return 0|s},a[330]=function(e){var t=0,i=0,r=0,n=0,a=0,s=0,o=0;n=_[(e|=0)+4>>2],t=_[n>>2];e:{if(i=_[e+12>>2],i=(r=_[i+56>>2]-_[i+52>>2]|0)>>2,!(_[n+8>>2]-t>>2>>>0>=i>>>0)){if(i>>>0>=1073741824)break e;a=_[(o=n+4|0)>>2],s=(s=i<<2)+(i=Fa(r))|0,a=(r=a-t|0)+i|0,(0|r)>=1&&es(i,t,r),_[n>>2]=i,_[n+8>>2]=s,_[o>>2]=a,t&&Ka(t)}i=e+8|0;t:{i:{if(t=_[e+76>>2]){if(r=1,(0|(n=_[t>>2]))==_[t+4>>2])break t;for(t=0;;){if(!Br(i,_[(t<<2)+n>>2]))break i;if(r=_[e+76>>2],n=_[r>>2],!((t=t+1|0)>>>0<_[r+4>>2]-n>>2>>>0))break}return 1}if(t=0,e=_[_[e+12>>2]+64>>2],(0|(e=(_[e+4>>2]-_[e>>2]>>2>>>0)/3|0))<=0)return 1;for(;;){if(!Br(i,g(t,3)))break i;if(!((t=t+1|0)>>>0<e>>>0))break}return 1}r=0}return 0|r}Re(12024),P()},a[331]=Wr,a[332]=jr,a[333]=function(e){var t,i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,v=0,y=0,k=0,x=0;z=t=z-32|0,s=_[(e|=0)+32>>2];e:{if(((r=b[e+36>>1])<<24|r<<8&16711680)>>>16>>>0<=513){if(n=r=_[s+12>>2],a=i=_[s+20>>2],(o=(l=_[s+16>>2])+4|0)>>>0<4&&(i=i+1|0),d=_[s+8>>2],h=o,o=i,(0|r)<(0|i)||(0|r)<=(0|i)&&!(d>>>0>=h>>>0))break e;if(v=_[s>>2],p=m[0|(r=v+l|0)]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[t+28>>2]=p,_[s+16>>2]=h,_[s+20>>2]=o,i=n,r=a,(n=l+8|0)>>>0<8&&(r=r+1|0),a=n,n=r,(0|i)<(0|r)||(0|i)<=(0|r)&&!(d>>>0>=a>>>0))break e;r=h+v|0,_[t+24>>2]=m[0|r]|m[r+1|0]<<8|m[r+2|0]<<16|m[r+3|0]<<24,_[s+16>>2]=a,_[s+20>>2]=n}else{if(!Vr(1,t+28|0,s))break e;if(!Vr(1,t+24|0,_[e+32>>2]))break e;p=_[t+28>>2]}if(!(p>>>0>1431655765)&&(r=as(p,0,3,0),!(!(i=j)&r>>>0<(v=_[t+24>>2])>>>0|i>>>0<0)&&(n=_[e+32>>2],s=_[(r=n)+16>>2],o=A[r+8>>2]>s>>>0?0:1,!((0|(a=_[r+12>>2]))<(0|(i=_[r+20>>2]))||(0|a)<=(0|i)&&o)))){o=m[s+_[n>>2]|0],r=i,(l=s+1|0)>>>0<1&&(r=r+1|0),_[n+16>>2]=l,_[n+20>>2]=r;t:{if(o){i:if(v>>>0<=255){if(!p)break t;if(d=0,_[(s=t+16|0)>>2]=0,_[t+8>>2]=0,_[t+12>>2]=0,f=_[n+8>>2],(0|(i=a=_[n+12>>2]))<(0|r)||(0|i)<=(0|r)&&!(f>>>0>l>>>0))break i;for(u=e+44|0,y=e+32|0;;){if(h=_[n>>2],k=m[h+l|0],i=r,(c=l+1|0)>>>0<1&&(i=i+1|0),o=n,_[n+16>>2]=c,_[n+20>>2]=i,_[t+8>>2]=k,(0|a)<(0|i)||(0|a)<=(0|i)&&!(f>>>0>c>>>0))break i;if(k=m[c+h|0],i=r,(c=l+2|0)>>>0<2&&(i=i+1|0),_[n+16>>2]=c,_[o+20>>2]=i,_[t+12>>2]=k,(0|a)<(0|i)||(0|a)<=(0|i)&&!(f>>>0>c>>>0))break i;if(i=m[c+h|0],(a=l+3|0)>>>0<3&&(r=r+1|0),_[n+16>>2]=a,_[n+20>>2]=r,_[t+16>>2]=i,i=_[u>>2],(0|(r=_[(n=i+100|0)>>2]))!=_[i+104>>2]?(i=_[t+12>>2],_[r>>2]=_[t+8>>2],_[r+4>>2]=i,_[r+8>>2]=_[s>>2],_[n>>2]=_[n>>2]+12):zr(i+96|0,t+8|0),(0|p)==(0|(d=d+1|0)))break t;if(n=_[y>>2],l=_[(i=n)+16>>2],r=_[i+20>>2],_[s>>2]=0,_[t+8>>2]=0,_[t+12>>2]=0,f=_[i+8>>2],!((0|(i=a=_[i+12>>2]))>(0|r)||(0|i)>=(0|r)&&!(f>>>0<=l>>>0)))break}}else if(v>>>0<=65535){if(!p)break t;if(d=0,_[(c=t+16|0)>>2]=0,_[t+8>>2]=0,_[t+12>>2]=0,u=o=_[n+12>>2],(a=s+3|0)>>>0<3&&(i=i+1|0),h=_[n+8>>2],f=a,a=i,(0|u)<(0|i)||(0|u)<=(0|i)&&!(h>>>0>=f>>>0))break i;for(k=e+44|0,x=e+32|0;;){if(u=_[n>>2],i=m[0|(i=u+l|0)]|m[i+1|0]<<8,_[n+16>>2]=f,_[n+20>>2]=a,_[t+8>>2]=i,i=r,(s=l+4|0)>>>0<4&&(i=i+1|0),y=s,s=i,(0|(a=o))<(0|i)||(0|a)<=(0|i)&&!(h>>>0>=y>>>0))break i;if(i=m[0|(i=f+u|0)]|m[i+1|0]<<8,_[n+16>>2]=y,_[n+20>>2]=s,_[t+12>>2]=i,(i=l+6|0)>>>0<6&&(r=r+1|0),a=i,(0|o)<(0|(i=r))||(0|o)<=(0|i)&&!(h>>>0>=a>>>0))break i;if(r=m[0|(r=u+y|0)]|m[r+1|0]<<8,_[n+16>>2]=a,_[n+20>>2]=i,_[t+16>>2]=r,i=_[k>>2],(0|(r=_[(n=i+100|0)>>2]))!=_[i+104>>2]?(i=_[t+12>>2],_[r>>2]=_[t+8>>2],_[r+4>>2]=i,_[r+8>>2]=_[c>>2],_[n>>2]=_[n>>2]+12):zr(i+96|0,t+8|0),(0|p)==(0|(d=d+1|0)))break t;if(n=_[x>>2],l=_[(i=n)+16>>2],r=_[i+20>>2],_[c>>2]=0,_[t+8>>2]=0,_[t+12>>2]=0,o=s=_[i+12>>2],u=h=_[i+8>>2],i=r,(a=l+2|0)>>>0<2&&(i=i+1|0),f=a,a=i,!((0|s)>(0|i)||(0|s)>=(0|i)&&!(u>>>0<f>>>0)))break}}else if(A[_[e+44>>2]+80>>2]>2097151||((a=b[e+36>>1])<<24|a<<8&16711680)>>>16>>>0<514){if(!p)break t;if(_[(d=t+16|0)>>2]=0,_[t+8>>2]=0,_[t+12>>2]=0,c=o=_[n+12>>2],(a=s+5|0)>>>0<5&&(i=i+1|0),h=_[n+8>>2],f=a,a=i,!((0|c)<(0|i)||(0|c)<=(0|i)&&!(h>>>0>=f>>>0)))for(y=e+44|0,k=e+32|0;;){if(c=_[n>>2],i=m[0|(i=c+l|0)]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[n+16>>2]=f,_[n+20>>2]=a,_[t+8>>2]=i,i=r,(s=l+8|0)>>>0<8&&(i=i+1|0),u=s,s=i,(0|(a=o))<(0|i)||(0|a)<=(0|i)&&!(h>>>0>=u>>>0))break i;if(i=m[0|(i=c+f|0)]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[n+16>>2]=u,_[n+20>>2]=s,_[t+12>>2]=i,i=r,(r=l+12|0)>>>0<12&&(i=i+1|0),a=r,r=i,(0|o)<(0|i)||(0|o)<=(0|i)&&!(h>>>0>=a>>>0))break i;if(i=m[0|(i=c+u|0)]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,_[n+16>>2]=a,_[n+20>>2]=r,_[t+16>>2]=i,i=_[y>>2],(0|(r=_[(n=i+100|0)>>2]))!=_[i+104>>2]?(i=_[t+12>>2],_[r>>2]=_[t+8>>2],_[r+4>>2]=i,_[r+8>>2]=_[d>>2],_[n>>2]=_[n>>2]+12):zr(i+96|0,t+8|0),(0|p)==(0|(x=x+1|0)))break t;if(n=_[k>>2],l=_[(i=n)+16>>2],r=_[i+20>>2],_[d>>2]=0,_[t+8>>2]=0,_[t+12>>2]=0,o=s=_[i+12>>2],u=h=_[i+8>>2],i=r,(a=l+4|0)>>>0<4&&(i=i+1|0),f=a,a=i,!((0|s)>(0|i)||(0|s)>=(0|i)&&!(u>>>0<f>>>0)))break}}else{if(!p)break t;if(_[(a=t+16|0)>>2]=0,_[t+8>>2]=0,_[t+12>>2]=0,!Vr(1,t+4|0,n))break i;for(i=e+32|0,s=e+44|0;;){if(_[t+8>>2]=_[t+4>>2],!Vr(1,t+4|0,_[i>>2]))break i;if(_[t+12>>2]=_[t+4>>2],!Vr(1,t+4|0,_[i>>2]))break i;if(_[t+16>>2]=_[t+4>>2],n=_[s>>2],(0|(r=_[(o=n+100|0)>>2]))!=_[n+104>>2]?(n=_[t+12>>2],_[r>>2]=_[t+8>>2],_[r+4>>2]=n,_[r+8>>2]=_[a>>2],_[o>>2]=_[o>>2]+12):zr(n+96|0,t+8|0),(0|(c=c+1|0))==(0|p))break t;if(r=_[i>>2],_[a>>2]=0,_[t+8>>2]=0,_[t+12>>2]=0,!Vr(1,t+4|0,r))break}}f=0;break e}if(!function(e,t){var i,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0,h=0;z=i=z-32|0,_[i+24>>2]=0,_[i+16>>2]=0,_[i+20>>2]=0;i:{if(a=g(t,3)){if(a>>>0>=1073741824)break i;r=g(t,12),s=Fa(r),_[i+16>>2]=s,_[i+24>>2]=(a<<2)+s,f=i,h=ts(s,0,r)+r|0,_[f+20>>2]=h}if(er(a,1,_[e+32>>2],s)&&(n=1,t))for(c=e+44|0,s=0;_[(a=i+8|0)>>2]=0,_[i>>2]=0,_[i+4>>2]=0,e=_[i+16>>2]+(s<<2)|0,r=_[e>>2],n=r>>>1,r=(1&r?0-n|0:n)+o|0,_[i>>2]=r,n=_[e+4>>2],o=n>>>1,r=r+(1&n?0-o|0:o)|0,_[i+4>>2]=r,e=_[e+8>>2],n=e>>>1,o=r+(1&e?0-n|0:n)|0,_[a>>2]=o,r=_[c>>2],(0|(e=_[(n=r+100|0)>>2]))==_[r+104>>2]?zr(r+96|0,i):(r=_[i+4>>2],_[e>>2]=_[i>>2],_[e+4>>2]=r,_[e+8>>2]=_[a>>2],_[n>>2]=_[n>>2]+12),s=s+3|0,n=1,(0|(l=l+1|0))!=(0|t););return(e=_[i+16>>2])&&(_[i+20>>2]=e,Ka(e)),z=i+32|0,n}Wa(),P()}(e,p))break e}_[_[e+4>>2]+80>>2]=v,f=1}}return z=t+32|0,0|f},a[334]=nt,a[335]=at,a[336]=function(e,t){return 0,l[(t|=0)+84|0]=1,_[t+72>>2]=_[t+68>>2],1},a[337]=function(e){var t=0,i=0,r=0,n=0;e:{if(!((0|(t=_[(e|=0)+8>>2]))<0)&&(i=_[e+4>>2],n=_[i>>2],t>>>0>(r=_[i+4>>2]-n>>2)>>>0?(!function(e,t){var i=0,r=0,n=0,a=0,s=0,o=0,l=0,c=0,f=0;if(r=_[e+8>>2],i=_[(n=e+4|0)>>2],r-i>>2>>>0>=t>>>0)return c=n,f=ts(i,0,e=t<<2)+e|0,void(_[c>>2]=f);t:{if(n=_[e>>2],(a=(i=(s=i-n|0)>>2)+t|0)>>>0<1073741824){if(l=i<<2,i=(r=r-n|0)>>1,r=r>>2>>>0<536870911?i>>>0<a>>>0?a:i:1073741823,i=0,r){if(r>>>0>=1073741824)break t;o=Fa(r<<2),i=o}return ts(l+i|0,0,t<<2),t=i+(a<<2)|0,a=i+(r<<2)|0,(0|s)>=1&&es(o,n,s),_[e>>2]=i,_[e+8>>2]=a,_[e+4>>2]=t,void(n&&Ka(n))}Wa(),P()}Re(13160),P()}(i,t-r|0),t=_[e+8>>2]):t>>>0>=r>>>0||(_[i+4>>2]=n+(t<<2)),n=1,!((0|t)<1)))for(e=_[e+4>>2],i=_[e>>2],r=_[e+4>>2]-i>>2,e=0;;){if((0|e)==(0|r))break e;if(_[i+(e<<2)>>2]=e,!((0|(e=e+1|0))<(0|t)))break}return 0|n}Ga(),P()},a[338]=xt,a[339]=ci,a[340]=ct,a[341]=Wr,a[342]=function(e,t){e|=0,t|=0;var i,r=0,n=0,s=0,o=0,l=0;!function(e){vt(e),_[e+36>>2]=0,_[e+40>>2]=0,_[e>>2]=1596,_[e+44>>2]=0,_[e+48>>2]=0,_[e+52>>2]=0,_[e+56>>2]=0,_[e+60>>2]=0,_[e+64>>2]=0,_[e+68>>2]=0}(i=Fa(72));e:{if((0|t)>=0){if(!((0|(n=(r=_[e+12>>2])-(l=_[(o=e+8|0)>>2])>>2))>(0|t)))if(s=t+1|0,n>>>0<=t>>>0)dr(o,s-n|0);else if(!(s>>>0>=n>>>0)){if((0|(s=l+(s<<2)|0))!=(0|r))for(;n=_[(r=r+-4|0)>>2],_[r>>2]=0,n&&a[_[_[n>>2]+4>>2]](n),(0|r)!=(0|s););_[e+12>>2]=s}if(t=_[o>>2]+(t<<2)|0,e=_[t>>2],_[t>>2]=i,r=1,!e)break e;return a[_[_[e>>2]+4>>2]](e),1}a[_[_[i>>2]+4>>2]](i)}return 0|r},a[343]=function(e){var t,i,r,n,a=0,s=0,o=0,l=0;return t=_[(e|=0)+32>>2],o=_[(s=t)+8>>2],i=_[s+12>>2],a=_[s+20>>2],n=o,(s=(o=_[s+16>>2])+4|0)>>>0<4&&(a=a+1|0),r=s,s=a,(0|i)<(0|a)||(0|i)<=(0|a)&&!(n>>>0>=r>>>0)||(a=o+_[t>>2]|0,a=m[0|a]|m[a+1|0]<<8|m[a+2|0]<<16|m[a+3|0]<<24,_[t+16>>2]=r,_[t+20>>2]=s,(0|a)<0||(_[_[e+4>>2]+80>>2]=a,l=1)),0|l},a[344]=Wr,a[345]=jr,a[346]=function(e){var t,i,r,n,a=0,s=0,o=0;return t=_[(e|=0)+32>>2],o=_[(s=t)+8>>2],i=_[s+12>>2],a=_[s+20>>2],n=o,(s=(o=_[s+16>>2])+4|0)>>>0<4&&(a=a+1|0),r=s,s=a,(0|i)>(0|a)||(0|i)>=(0|a)&&!(n>>>0<r>>>0)?(a=o+_[t>>2]|0,a=m[0|a]|m[a+1|0]<<8|m[a+2|0]<<16|m[a+3|0]<<24,_[t+16>>2]=r,_[t+20>>2]=s,_[_[e+4>>2]+80>>2]=a,e=1):e=0,0|e},a[347]=function(e){var t=0;return _[(e|=0)>>2]=13980,(t=_[e+96>>2])&&(_[e+100>>2]=t,Ka(t)),(t=_[e+84>>2])&&(_[e+88>>2]=t,Ka(t)),bn(e),0|e},a[348]=function(e){var t=0;_[(e|=0)>>2]=13980,(t=_[e+96>>2])&&(_[e+100>>2]=t,Ka(t)),(t=_[e+84>>2])&&(_[e+88>>2]=t,Ka(t)),bn(e),Ka(e)},a[349]=function(e,t,i){e|=0,t|=0;var r,n=0;z=r=z-16|0,n=_[(i|=0)>>2],_[i>>2]=0,_[r+8>>2]=n,Un(e,t,r+8|0),i=_[r+8>>2],_[r+8>>2]=0,i&&Ye(i),n=_[e+84>>2],(0|(i=_[e+88>>2]-n>>2))>(0|t)||((t=t+1|0)>>>0>i>>>0?function(e,t){var i=0,r=0,n=0,a=0,s=0,o=0;if(n=_[e+8>>2],i=_[e+4>>2],n-i>>2>>>0>=t>>>0){for(;_[i>>2]=1,i=i+4|0,t=t+-1|0;);return void(_[e+4>>2]=i)}e:{if(a=_[e>>2],(i=(o=(s=i-a|0)>>2)+t|0)>>>0<1073741824){if(r=(n=n-a|0)>>1,i=n>>2>>>0<536870911?r>>>0<i>>>0?i:r:1073741823,r=0,i){if(i>>>0>=1073741824)break e;r=Fa(i<<2)}for(n=r+(i<<2)|0,i=r+(o<<2)|0;_[i>>2]=1,i=i+4|0,t=t+-1|0;);return(0|s)>=1&&es(r,a,s),_[e>>2]=r,_[e+8>>2]=n,_[e+4>>2]=i,void(a&&Ka(a))}Wa(),P()}Re(14024),P()}(e+84|0,t-i|0):t>>>0>=i>>>0||(_[e+88>>2]=n+(t<<2))),z=r+16|0},a[350]=function(e,t){var i=0,r=0,n=0;Vn(e|=0,t|=0),(0|t)<0||(i=_[e+88>>2])-(r=_[e+84>>2])>>2<=(0|t)||(n=(i=i-(r=(t=r+(t<<2)|0)+4|0)|0)>>2,i&&is(t,r,i),_[e+88>>2]=t+(n<<2))},a[351]=bn,a[352]=function(e){Ka(bn(e|=0))},a[353]=Un,a[354]=Vn,a[355]=function(e,t,i,r,n,a){e|=0,t=+t,i|=0,r|=0,n|=0,a|=0;var s,o=0,d=0,p=0,b=0,A=0,v=0,y=0,k=0,S=0,T=0,w=0,E=0,M=0,P=0,R=0,C=0,O=0,I=0,D=0,F=0;if(z=s=z-560|0,_[s+44>>2]=0,u(+t),o=0|c(1),D=1,F=c(0)>>>0>4294967295?0:1,((0|o)<-1?D:(0|o)<=-1?F:0)?(u(+(t=-t)),o=0|c(1),c(0),P=1,R=15136):2048&n?(P=1,R=15139):R=(P=1&n)?15142:15137,2146435072!=(2146435072&o))if(t=function e(t,i){var r,n,a=0;if(u(+t),a=0|c(1),r=0|c(0),n=a,2047!=(0|(a=a>>>20&2047))){if(!a)return a=i,0==t?i=0:(t=e(0x10000000000000000*t,i),i=_[i>>2]+-64|0),_[a>>2]=i,t;_[i>>2]=a+-1022,f(0,0|r),f(1,-2146435073&n|1071644672),t=+h()}return t}(t,s+44|0),0!=(t+=t)&&(_[s+44>>2]=_[s+44>>2]+-1),w=s+16|0,97!=(0|(C=32|a))){for(o=(0|r)<0,0!=t?(d=_[s+44>>2]+-28|0,_[s+44>>2]=d,t*=268435456):d=_[s+44>>2],A=o?6:r,b=k=(0|d)<0?s+48|0:s+336|0;o=t<4294967296&t>=0?~~t>>>0:0,_[(r=b)>>2]=o,b=b+4|0,0!=(t=1e9*(t-+(o>>>0))););if((0|d)<1)o=b,p=k;else for(p=k;;){if(y=(0|d)<29?d:29,!((o=b+-4|0)>>>0<p>>>0)){for(r=y,d=0;v=o,O=d,T=_[o>>2],S=31&r,32<=(63&r)>>>0?(d=T<<S,T=0):(d=(1<<S)-1&T>>>32-S,T<<=S),d=d+I|0,d=(S=O+T|0)>>>0<T>>>0?d+1|0:d,T=v,v=as(d=os(S,d,1e9,0),j,1e9,0),_[T>>2]=S-v,(o=o+-4|0)>>>0>=p>>>0;);d&&(_[(p=p+-4|0)>>2]=d)}for(;(o=b)>>>0>p>>>0&&!_[(b=o+-4|0)>>2];);if(d=_[s+44>>2]-y|0,_[s+44>>2]=d,b=o,!((0|d)>0))break}if((0|d)<=-1)for(M=1+((A+25|0)/9|0)|0,y=102==(0|C);;){if(r=(0|d)<-9?9:0-d|0,p>>>0>=o>>>0)p=_[p>>2]?p:p+4|0;else{for(v=1e9>>>r,S=-1<<r^-1,d=0,b=p;T=d,d=_[b>>2],_[b>>2]=T+(d>>>r),d=g(v,d&S),(b=b+4|0)>>>0<o>>>0;);p=_[p>>2]?p:p+4|0,d&&(_[o>>2]=d,o=o+4|0)}if(d=r+_[s+44>>2]|0,_[s+44>>2]=d,o=o-(r=y?k:p)>>2>(0|M)?r+(M<<2)|0:o,!((0|d)<0))break}if(b=0,!(p>>>0>=o>>>0)&&(b=g(k-p>>2,9),d=10,!((r=_[p>>2])>>>0<10)))for(;b=b+1|0,r>>>0>=(d=g(d,10))>>>0;);if((0|(r=(A-(102==(0|C)?0:b)|0)-(103==(0|C)&0!=(0|A))|0))<(g(o-k>>2,9)+-9|0)){if(y=(k+((v=(0|(d=r+9216|0))/9|0)<<2)|0)-4092|0,r=10,(0|(d=d-g(v,9)|0))<=7)for(;r=g(r,10),v=(0|d)<7,d=d+1|0,v;);if(M=y+4|0,((d=(v=_[y>>2])-g(r,S=(v>>>0)/(r>>>0)|0)|0)||(0|M)!=(0|o))&&(E=d>>>0<(T=r>>>1)>>>0?.5:(0|o)==(0|M)&&(0|T)==(0|d)?1:1.5,t=1&S?9007199254740994:9007199254740992,!P|45!=m[0|R]||(E=-E,t=-t),d=v-d|0,_[y>>2]=d,t+E!=t)){if(r=r+d|0,_[y>>2]=r,r>>>0>=1e9)for(;_[y>>2]=0,(y=y+-4|0)>>>0<p>>>0&&(_[(p=p+-4|0)>>2]=0),r=_[y>>2]+1|0,_[y>>2]=r,r>>>0>999999999;);if(b=g(k-p>>2,9),d=10,!((r=_[p>>2])>>>0<10))for(;b=b+1|0,r>>>0>=(d=g(d,10))>>>0;);}o=o>>>0>(r=y+4|0)>>>0?r:o}e:{for(;;){if(d=o,y=0,o>>>0<=p>>>0)break e;if(_[(o=d+-4|0)>>2])break}y=1}if(103==(0|C)){if(A=((o=(0|(r=A||1))>(0|b)&(0|b)>-5)?-1^b:-1)+r|0,a=(o?-1:-2)+a|0,!(S=8&n)){if(o=9,y&&(v=_[d+-4>>2])&&(r=10,o=0,!((v>>>0)%10)))for(;o=o+1|0,!((v>>>0)%((r=g(r,10))>>>0)););r=g(d-k>>2,9)+-9|0,102!=(32|a)?(S=0,A=(0|A)<(0|(r=(0|(r=(r+b|0)-o|0))>0?r:0))?A:r):(S=0,A=(0|A)<(0|(r=(0|(r=r-o|0))>0?r:0))?A:r)}}else S=8&n;if(T=0!=(0|(C=A|S)),r=e,O=i,o=(0|b)>0?b:0,102!=(0|(I=32|a))){if((w-(o=ra((o=b>>31)+b^o,0,w))|0)<=1)for(;l[0|(o=o+-1|0)]=48,(w-o|0)<2;);l[0|(M=o+-2|0)]=a,l[o+-1|0]=(0|b)<0?45:43,o=w-M|0}ea(r,32,O,v=1+(o+(T+(A+P|0)|0)|0)|0,n),qn(e,R,P),ea(e,48,i,v,65536^n);e:{t:{i:{if(102==(0|I)){for(r=s+16|8,a=s+16|9,p=b=p>>>0>k>>>0?k:p;;){o=ra(_[p>>2],0,a);r:if((0|p)==(0|b))(0|a)==(0|o)&&(l[s+24|0]=48,o=r);else{if(o>>>0<=s+16>>>0)break r;for(;l[0|(o=o+-1|0)]=48,o>>>0>s+16>>>0;);}if(qn(e,o,a-o|0),!((p=p+4|0)>>>0<=k>>>0))break}if(C&&qn(e,15171,1),(0|A)<1|p>>>0>=d>>>0)break i;for(;;){if((o=ra(_[p>>2],0,a))>>>0>s+16>>>0)for(;l[0|(o=o+-1|0)]=48,o>>>0>s+16>>>0;);if(qn(e,o,(0|A)<9?A:9),o=A+-9|0,(p=p+4|0)>>>0>=d>>>0)break t;if(r=(0|A)>9,A=o,!r)break}break t}r:if(!((0|A)<0))for(k=y?d:p+4|0,r=s+16|8,a=s+16|9,b=p;;){(0|a)==(0|(o=ra(_[b>>2],0,a)))&&(l[s+24|0]=48,o=r);n:if((0|p)==(0|b))qn(e,o,1),o=o+1|0,(0|A)<1&&!S||qn(e,15171,1);else{if(o>>>0<=s+16>>>0)break n;for(;l[0|(o=o+-1|0)]=48,o>>>0>s+16>>>0;);}if(qn(e,d=o,(0|A)>(0|(o=a-o|0))?o:A),A=A-o|0,(b=b+4|0)>>>0>=k>>>0)break r;if(!((0|A)>-1))break}ea(e,48,A+18|0,18,0),qn(e,M,w-M|0);break e}o=A}ea(e,48,o+9|0,9,0)}}else{if(d=(A=32&a)?R+9|0:R,!(r>>>0>11)&&(o=12-r|0)){for(E=8;E*=16,o=o+-1|0;);t=45!=m[0|d]?t+E-E:-(E+(-t-E))}for((0|w)==(0|(o=ra((o=(b=_[s+44>>2])>>31)^o+b,0,w)))&&(l[s+15|0]=48,o=s+15|0),b=2|P,p=_[s+44>>2],l[0|(k=o+-2|0)]=a+15,l[o+-1|0]=(0|p)<0?45:43,R=8&n,p=s+16|0;a=p,v=A,o=x(t)<2147483648?~~t:-2147483648,l[0|p]=v|m[o+15120|0],1!=((p=a+1|0)-(s+16|0)|0)|(0==(t=16*(t-+(0|o)))?!((0|r)>0|R):0)||(l[a+1|0]=46,p=a+2|0),0!=t;);ea(a=e,32,o=i,v=(r=A=!r|((p-s|0)-18|0)>=(0|r)?((w-(s+16|0)|0)-k|0)+p|0:2+((r+w|0)-k|0)|0)+b|0,n),qn(e,d,b),ea(e,48,i,v,65536^n),qn(e,s+16|0,a=p-(s+16|0)|0),ea(e,48,A-((r=w-k|0)+a|0)|0,0,0),qn(e,k,r)}else ea(e,32,i,v=P+3|0,-65537&n),qn(e,R,P),r=a>>>5&1,qn(e,t!=t?r?15163:15167:r?15155:15159,3);return ea(e,32,i,v,8192^n),z=s+560|0,0|((0|v)<(0|i)?i:v)},a[356]=function(e,t){var i,r,n;e|=0,i=t|=0,t=_[t>>2]+15&-16,_[i>>2]=t+16,r=e,n=function(e,t,i,r){var n,a,s,o=0,l=0,c=0;z=n=z-32|0,a=o=2147483647&r,o=o+-1006698496|0,i>>>0<0&&(o=o+1|0);s=l=i,l=o,o=a+-1140785152|0,(c=i)>>>0<0&&(o=o+1|0);e:if((0|o)==(0|l)&s>>>0<c>>>0|l>>>0<o>>>0){if(o=r<<4|i>>>28,i=i<<4|t>>>28,c=t&=268435455,134217728==(0|t)&e>>>0>=1|t>>>0>134217728){o=o+1073741824|0,(e=i+1|0)>>>0<1&&(o=o+1|0),l=e;break e}if(l=i,o=o-((i>>>0<0)+-1073741824|0)|0,e|134217728^c)break e;(e=l+(1&l)|0)>>>0<l>>>0&&(o=o+1|0),l=e}else(!c&2147418112==(0|a)?!(e|t):2147418112==(0|a)&c>>>0<0|a>>>0<2147418112)?(l=0,o=2146435072,1140785151==(0|a)&c>>>0>4294967295|a>>>0>1140785151||(o=0,(c=a>>>16)>>>0<15249||(function(e,t,i,r,n,a){var s=0,o=0,l=0,c=0;t:if(64&a)t=31&(i=a+-64|0),32<=(63&i)>>>0?(i=0,t=n>>>t):(i=n>>>t,t=((1<<t)-1&n)<<32-t|r>>>t),r=0,n=0;else{if(!a)break t;o=n,l=r,s=31&(c=64-a|0),32<=(63&c)>>>0?(o=l<<s,c=0):(o=(1<<s)-1&l>>>32-s|o<<s,c=l<<s),l=t,t=31&(s=a),32<=(63&s)>>>0?(s=0,t=i>>>t):(s=i>>>t,t=((1<<t)-1&i)<<32-t|l>>>t),t|=c,i=s|o,s=r,r=31&a,32<=(63&a)>>>0?(o=0,r=n>>>r):(o=n>>>r,r=((1<<r)-1&n)<<32-r|s>>>r),n=o}_[e>>2]=t,_[e+4>>2]=i,_[e+8>>2]=r,_[e+12>>2]=n}(n,e,t,i,o=65535&r|65536,15361-c|0),function(e,t,i,r,n,a){var s=0,o=0,l=0,c=0;64&a?(r=t,t=31&(n=a+-64|0),32<=(63&n)>>>0?(n=r<<t,r=0):(n=(1<<t)-1&r>>>32-t|i<<t,r<<=t),t=0,i=0):a&&(s=r,l=a,r=31&a,32<=(63&a)>>>0?(o=s<<r,c=0):(o=(1<<r)-1&s>>>32-r|n<<r,c=s<<r),r=i,s=t,n=31&(a=64-a|0),32<=(63&a)>>>0?(a=0,r>>>=n):(a=r>>>n,r=((1<<n)-1&r)<<32-n|s>>>n),r|=c,n=a|o,a=t,t=31&l,32<=(63&l)>>>0?(o=a<<t,t=0):(o=(1<<t)-1&a>>>32-t|i<<t,t=a<<t),i=o);_[e>>2]=t,_[e+4>>2]=i,_[e+8>>2]=r,_[e+12>>2]=n}(n+16|0,e,t,i,o,c+-15233|0),i=_[n+4>>2],e=_[n+8>>2],o=_[n+12>>2]<<4|e>>>28,l=e<<4|i>>>28,i=e=268435455&i,t=_[n>>2]|0!=(_[n+16>>2]|_[n+24>>2])|0!=(_[n+20>>2]|_[n+28>>2]),134217728==(0|e)&t>>>0>=1|e>>>0>134217728?((e=l+1|0)>>>0<1&&(o=o+1|0),l=e):t|134217728^i||((e=l+(1&l)|0)>>>0<l>>>0&&(o=o+1|0),l=e)))):(l=i<<4|t>>>28,o=524287&(o=r<<4|i>>>28)|2146959360);return z=n+32|0,f(0,0|l),f(1,-2147483648&r|o),+h()}(_[t>>2],_[t+4>>2],_[t+8>>2],_[t+12>>2]),y[r>>3]=n},a[357]=function(e){return 0|I(_[(e|=0)+60>>2])},a[358]=function(e,t,i){t|=0,i|=0;var r,n=0,a=0,s=0,o=0,l=0;for(z=r=z-32|0,n=_[(e|=0)+28>>2],_[r+16>>2]=n,a=_[e+20>>2],_[r+28>>2]=i,_[r+24>>2]=t,t=a-n|0,_[r+20>>2]=t,a=t+i|0,o=2,t=r+16|0;;){e:{if(ua(0|O(_[e+60>>2],0|t,0|o,r+12|0))?(_[r+12>>2]=-1,n=-1):n=_[r+12>>2],(0|n)!=(0|a)){if((0|n)>-1)break e;_[e+28>>2]=0,_[e+16>>2]=0,_[e+20>>2]=0,_[e>>2]=32|_[e>>2],e=0,2!=(0|o)&&(e=i-_[t+4>>2]|0)}else t=_[e+44>>2],_[e+28>>2]=t,_[e+20>>2]=t,_[e+16>>2]=t+_[e+48>>2],e=i;return z=r+32|0,0|e}s=n-((l=n>>>0>(s=_[t+4>>2])>>>0)?s:0)|0,_[(t=l?t+8|0:t)>>2]=s+_[t>>2],_[t+4>>2]=_[t+4>>2]-s,a=a-n|0,o=o-l|0}},a[359]=function(e,t,i,r){var n;return t|=0,i|=0,r|=0,z=n=z-16|0,ua(0|V(_[(e|=0)+60>>2],0|t,0|i,255&r,n+8|0))?(_[n+8>>2]=-1,_[n+12>>2]=-1,t=-1,e=-1):(t=_[n+12>>2],e=_[n+8>>2]),z=n+16|0,j=t,0|e},a[360]=ci,a[361]=function(e,t,i,r){return 0,0,0,0,j=0,0},a[362]=function(e,t,i){t|=0,i|=0;var r,n=0;return es(r=_[(e|=0)+20>>2],t,n=(n=_[e+16>>2]-r|0)>>>0>i>>>0?i:n),_[e+20>>2]=n+_[e+20>>2],0|i},a[363]=nt,a[364]=at,a[365]=function(e){return 0,15833},a[366]=function(e){Ka(Ya(e|=0))},a[367]=function(e){return _[(e|=0)+4>>2]},a[368]=function(e){Ya(e|=0),Ka(e)},a[369]=nt,a[370]=at,a[371]=Zn,a[372]=Zn,a[373]=function(e,t,i){i|=0;var r,n=0;return z=r=z+-64|0,n=1,Xa(e|=0,t|=0,0)||(n=0,t&&(n=0,(t=function(e){var t,i,r=0,n=0;z=t=z+-64|0,r=_[e>>2],i=_[r+-8>>2],r=_[r+-4>>2],_[t+20>>2]=0,_[t+16>>2]=16052,_[t+12>>2]=e,_[t+8>>2]=16100,ts(t+24|0,0,39),e=e+i|0;Xa(r,16100,0)?(_[t+56>>2]=1,a[_[_[r>>2]+20>>2]](r,t+8|0,e,e,1,0),n=1==_[t+32>>2]?e:0):(a[_[_[r>>2]+24>>2]](r,t+8|0,e,1,0),(e=_[t+44>>2])>>>0>1||(e-1?n=1==_[t+48>>2]&&1==_[t+36>>2]&&1==_[t+40>>2]?_[t+28>>2]:0:1!=_[t+32>>2]&&_[t+48>>2]|1!=_[t+36>>2]|1!=_[t+40>>2]||(n=_[t+24>>2])));return z=t- -64|0,n}(t))&&(_[r+20>>2]=-1,_[r+16>>2]=e,_[r+12>>2]=0,_[r+8>>2]=t,ts(r+24|0,0,39),_[r+56>>2]=1,a[_[_[t>>2]+28>>2]](t,r+8|0,_[i>>2],1),n=0,1==_[r+32>>2]&&(_[i>>2]=_[r+24>>2],n=1)))),z=r- -64|0,0|n},a[374]=function(e,t,i,r,n,a){i|=0,r|=0,n|=0,a|=0,Xa(e|=0,_[(t|=0)+8>>2],a)&&Qa(t,i,r,n)},a[375]=function(e,t,i,r,n){if(i|=0,r|=0,n|=0,Xa(e|=0,_[(t|=0)+8>>2],n))Ja(t,i,r);else e:if(Xa(e,_[t>>2],n)){if(_[t+20>>2]==(0|i)||_[t+16>>2]==(0|i)){if(1!=(0|r))break e;return void(_[t+32>>2]=1)}_[t+20>>2]=i,_[t+32>>2]=r,_[t+40>>2]=_[t+40>>2]+1,1!=_[t+36>>2]|2!=_[t+24>>2]||(l[t+54|0]=1),_[t+44>>2]=4}},a[376]=function(e,t,i,r){i|=0,r|=0,Xa(e|=0,_[(t|=0)+8>>2],0)&&Za(t,i,r)},a[377]=at,a[378]=function(e,t,i,r,n,s){i|=0,r|=0,n|=0,s|=0,Xa(e|=0,_[(t|=0)+8>>2],s)?Qa(t,i,r,n):(e=_[e+8>>2],a[_[_[e>>2]+20>>2]](e,t,i,r,n,s))},a[379]=function(e,t,i,r,n){if(i|=0,r|=0,n|=0,Xa(e|=0,_[(t|=0)+8>>2],n))Ja(t,i,r);else e:{if(Xa(e,_[t>>2],n)){if(_[t+20>>2]==(0|i)||_[t+16>>2]==(0|i)){if(1!=(0|r))break e;return void(_[t+32>>2]=1)}_[t+32>>2]=r;t:if(4!=_[t+44>>2]){if(p[t+52>>1]=0,e=_[e+8>>2],a[_[_[e>>2]+20>>2]](e,t,i,i,1,n),m[t+53|0]){if(_[t+44>>2]=3,!m[t+52|0])break t;break e}_[t+44>>2]=4}if(_[t+20>>2]=i,_[t+40>>2]=_[t+40>>2]+1,1!=_[t+36>>2]|2!=_[t+24>>2])break e;return void(l[t+54|0]=1)}e=_[e+8>>2],a[_[_[e>>2]+24>>2]](e,t,i,r,n)}},a[380]=function(e,t,i,r){i|=0,r|=0,Xa(e|=0,_[(t|=0)+8>>2],0)?Za(t,i,r):(e=_[e+8>>2],a[_[_[e>>2]+28>>2]](e,t,i,r))},{__wasm_call_ctors:function(){!function(){var e,t=0,i=0;z=e=z-16|0;D(e+12|0,e+8|0)||(t=qa(4+(_[e+12>>2]<<2)|0),_[4475]=t,t&&((t=qa(_[e+8>>2]))&&(i=_[4475])?(_[(_[e+12>>2]<<2)+i>>2]=0,F(_[4475],0|t)&&(_[4475]=0)):_[4475]=0));z=e+16|0}()},emscripten_bind_Status_code_0:Ie,emscripten_bind_Status_ok_0:function(e){return 0|!_[(e|=0)>>2]},emscripten_bind_Status_error_msg_0:function(e){var t=0;return t=(e|=0)+4|0,l[e+15|0]<=-1&&(t=_[t>>2]),0|t},emscripten_bind_Status___destroy___0:function(e){(e|=0)&&(l[e+15|0]<=-1&&Ka(_[e+4>>2]),Ka(e))},emscripten_bind_DracoUInt16Array_DracoUInt16Array_0:De,emscripten_bind_DracoUInt16Array_GetValue_1:function(e,t){return t|=0,b[_[(e|=0)>>2]+(t<<1)>>1]},emscripten_bind_DracoUInt16Array_size_0:Fe,emscripten_bind_DracoUInt16Array___destroy___0:Ne,emscripten_bind_PointCloud_PointCloud_0:function(){return 0|Dn(Fa(84))},emscripten_bind_PointCloud_num_attributes_0:Be,emscripten_bind_PointCloud_num_points_0:Le,emscripten_bind_PointCloud___destroy___0:Ue,emscripten_bind_DracoUInt8Array_DracoUInt8Array_0:De,emscripten_bind_DracoUInt8Array_GetValue_1:function(e,t){return t|=0,m[_[(e|=0)>>2]+t|0]},emscripten_bind_DracoUInt8Array_size_0:Ve,emscripten_bind_DracoUInt8Array___destroy___0:Ne,emscripten_bind_DracoUInt32Array_DracoUInt32Array_0:De,emscripten_bind_DracoUInt32Array_GetValue_1:ze,emscripten_bind_DracoUInt32Array_size_0:je,emscripten_bind_DracoUInt32Array___destroy___0:Ne,emscripten_bind_AttributeOctahedronTransform_AttributeOctahedronTransform_0:function(){var e;return e=Fa(8),_[e+4>>2]=-1,_[e>>2]=1116,0|e},emscripten_bind_AttributeOctahedronTransform_InitFromAttribute_1:We,emscripten_bind_AttributeOctahedronTransform_quantization_bits_0:Ge,emscripten_bind_AttributeOctahedronTransform___destroy___0:Ue,emscripten_bind_PointAttribute_PointAttribute_0:function(){return 0|function(e){return ut(e),_[e+64>>2]=0,_[e+68>>2]=0,_[e+88>>2]=0,_[e+72>>2]=0,_[e+76>>2]=0,l[e+77|0]=0,l[e+78|0]=0,l[e+79|0]=0,l[e+80|0]=0,l[e+81|0]=0,l[e+82|0]=0,l[e+83|0]=0,l[e+84|0]=0,e}(Fa(96))},emscripten_bind_PointAttribute_size_0:Le,emscripten_bind_PointAttribute_GetAttributeTransformData_0:function(e){return _[(e|=0)+88>>2]},emscripten_bind_PointAttribute_attribute_type_0:function(e){return _[(e|=0)+56>>2]},emscripten_bind_PointAttribute_data_type_0:He,emscripten_bind_PointAttribute_num_components_0:function(e){return l[(e|=0)+24|0]},emscripten_bind_PointAttribute_normalized_0:function(e){return m[(e|=0)+32|0]},emscripten_bind_PointAttribute_byte_stride_0:function(e){return _[(e|=0)+40>>2]},emscripten_bind_PointAttribute_byte_offset_0:function(e){return _[(e|=0)+48>>2]},emscripten_bind_PointAttribute_unique_id_0:function(e){return _[(e|=0)+60>>2]},emscripten_bind_PointAttribute___destroy___0:Ye,emscripten_bind_AttributeTransformData_AttributeTransformData_0:function(){var e;return e=Fa(40),_[e>>2]=-1,Jr(e+8|0),0|e},emscripten_bind_AttributeTransformData_transform_type_0:Ie,emscripten_bind_AttributeTransformData___destroy___0:function(e){var t=0;(e|=0)&&((t=_[e+8>>2])&&(_[e+12>>2]=t,Ka(t)),Ka(e))},emscripten_bind_AttributeQuantizationTransform_AttributeQuantizationTransform_0:function(){var e;return e=Fa(24),_[e+4>>2]=-1,_[e>>2]=1232,_[e+8>>2]=0,_[e+12>>2]=0,_[e+16>>2]=0,_[e+20>>2]=0,0|e},emscripten_bind_AttributeQuantizationTransform_InitFromAttribute_1:We,emscripten_bind_AttributeQuantizationTransform_quantization_bits_0:Ge,emscripten_bind_AttributeQuantizationTransform_min_value_1:function(e,t){return t|=0,k(v[_[(e|=0)+8>>2]+(t<<2)>>2])},emscripten_bind_AttributeQuantizationTransform_range_0:function(e){return k(v[(e|=0)+20>>2])},emscripten_bind_AttributeQuantizationTransform___destroy___0:Ue,emscripten_bind_DracoInt8Array_DracoInt8Array_0:De,emscripten_bind_DracoInt8Array_GetValue_1:function(e,t){return t|=0,l[_[(e|=0)>>2]+t|0]},emscripten_bind_DracoInt8Array_size_0:Ve,emscripten_bind_DracoInt8Array___destroy___0:Ne,emscripten_bind_MetadataQuerier_MetadataQuerier_0:function(){var e;return e=Fa(28),_[e>>2]=0,_[e+4>>2]=0,_[e+24>>2]=0,_[e+16>>2]=0,_[e+20>>2]=0,_[e+8>>2]=0,_[e+12>>2]=0,0|e},emscripten_bind_MetadataQuerier_HasEntry_2:function(e,t,i){return 0,0|W(t|=0,i|=0)},emscripten_bind_MetadataQuerier_GetIntEntry_2:function(e,t,i){return 0,0|H(t|=0,i|=0)},emscripten_bind_MetadataQuerier_GetIntEntryArray_3:function(e,t,i,r){Y(t|=0,i|=0,r|=0)},emscripten_bind_MetadataQuerier_GetDoubleEntry_2:function(e,t,i){return 0,+X(t|=0,i|=0)},emscripten_bind_MetadataQuerier_GetStringEntry_2:function(e,t,i){return 0|Z(e|=0,t|=0,i|=0)},emscripten_bind_MetadataQuerier_NumEntries_1:function(e,t){return 0,_[(t|=0)+8>>2]},emscripten_bind_MetadataQuerier_GetEntryName_2:function(e,t,i){return 0|Q(e|=0,t|=0,i|=0)},emscripten_bind_MetadataQuerier___destroy___0:function(e){var t=0,i=0,r=0,n=0,a=0;if(e|=0){if(l[e+27|0]<=-1&&Ka(_[e+16>>2]),i=_[e>>2]){if(n=t=i,(0|(r=_[(a=e+4|0)>>2]))!=(0|t)){for(;t=r+-12|0,l[r+-1|0]<=-1&&Ka(_[t>>2]),r=t,(0|t)!=(0|i););n=_[e>>2]}t=n,_[a>>2]=i,Ka(t)}Ka(e)}},emscripten_bind_DracoInt16Array_DracoInt16Array_0:De,emscripten_bind_DracoInt16Array_GetValue_1:function(e,t){return t|=0,p[_[(e|=0)>>2]+(t<<1)>>1]},emscripten_bind_DracoInt16Array_size_0:Fe,emscripten_bind_DracoInt16Array___destroy___0:Ne,emscripten_bind_DracoFloat32Array_DracoFloat32Array_0:De,emscripten_bind_DracoFloat32Array_GetValue_1:function(e,t){return t|=0,k(v[_[(e|=0)>>2]+(t<<2)>>2])},emscripten_bind_DracoFloat32Array_size_0:je,emscripten_bind_DracoFloat32Array___destroy___0:Ne,emscripten_bind_GeometryAttribute_GeometryAttribute_0:function(){return 0|ut(Fa(64))},emscripten_bind_GeometryAttribute___destroy___0:Xe,emscripten_bind_DecoderBuffer_DecoderBuffer_0:function(){return 0|en(Fa(40))},emscripten_bind_DecoderBuffer_Init_2:function(e,t,i){t|=0,i|=0,_[(e|=0)+16>>2]=0,_[e+20>>2]=0,_[e>>2]=t,_[e+8>>2]=i,_[e+12>>2]=0},emscripten_bind_DecoderBuffer___destroy___0:Xe,emscripten_bind_Decoder_Decoder_0:function(){return 0|function(e){var t;return sn(e),_[(t=e+16|0)>>2]=0,_[t+4>>2]=0,_[e+24>>2]=0,_[e+28>>2]=0,_[e+12>>2]=t,_[e+32>>2]=0,_[e+36>>2]=0,e}(Fa(40))},emscripten_bind_Decoder_GetEncodedGeometryType_1:function(e,t){return 0,0|q(t|=0)},emscripten_bind_Decoder_DecodeBufferToPointCloud_2:function(e,t,i){return 0|K(e|=0,t|=0,i|=0)},emscripten_bind_Decoder_DecodeBufferToMesh_2:function(e,t,i){return 0|$(e|=0,t|=0,i|=0)},emscripten_bind_Decoder_GetAttributeId_2:function(e,t,i){return 0,0|Fn(t|=0,i|=0)},emscripten_bind_Decoder_GetAttributeIdByName_2:function(e,t,i){return 0,0|ee(t|=0,i|=0)},emscripten_bind_Decoder_GetAttributeIdByMetadataEntry_3:function(e,t,i,r){return 0,0|te(t|=0,i|=0,r|=0)},emscripten_bind_Decoder_GetAttribute_2:function(e,t,i){return 0,i|=0,_[_[(t|=0)+8>>2]+(i<<2)>>2]},emscripten_bind_Decoder_GetAttributeByUniqueId_2:function(e,t,i){return 0,0|Nn(t|=0,i|=0)},emscripten_bind_Decoder_GetMetadata_1:function(e,t){return 0,_[(t|=0)+4>>2]},emscripten_bind_Decoder_GetAttributeMetadata_2:function(e,t,i){return 0,0|Pe(t|=0,i|=0)},emscripten_bind_Decoder_GetFaceFromMesh_3:function(e,t,i,r){return 0,0|ie(t|=0,i|=0,r|=0)},emscripten_bind_Decoder_GetTriangleStripsFromMesh_2:function(e,t,i){return 0,0|re(t|=0,i|=0)},emscripten_bind_Decoder_GetTrianglesUInt16Array_3:function(e,t,i,r){return 0,0|le(t|=0,i|=0,r|=0)},emscripten_bind_Decoder_GetTrianglesUInt32Array_3:function(e,t,i,r){return 0,0|ce(t|=0,i|=0,r|=0)},emscripten_bind_Decoder_GetAttributeFloat_3:function(e,t,i,r){return 0,0|fe(t|=0,i|=0,r|=0)},emscripten_bind_Decoder_GetAttributeFloatForAllPoints_3:function(e,t,i,r){return 0,0|ue(t|=0,i|=0,r|=0)},emscripten_bind_Decoder_GetAttributeIntForAllPoints_3:Ze,emscripten_bind_Decoder_GetAttributeInt8ForAllPoints_3:function(e,t,i,r){return 0,0|pe(t|=0,i|=0,r|=0)},emscripten_bind_Decoder_GetAttributeUInt8ForAllPoints_3:function(e,t,i,r){return 0,0|be(t|=0,i|=0,r|=0)},emscripten_bind_Decoder_GetAttributeInt16ForAllPoints_3:function(e,t,i,r){return 0,0|ve(t|=0,i|=0,r|=0)},emscripten_bind_Decoder_GetAttributeUInt16ForAllPoints_3:function(e,t,i,r){return 0,0|ke(t|=0,i|=0,r|=0)},emscripten_bind_Decoder_GetAttributeInt32ForAllPoints_3:Ze,emscripten_bind_Decoder_GetAttributeUInt32ForAllPoints_3:function(e,t,i,r){return 0,0|we(t|=0,i|=0,r|=0)},emscripten_bind_Decoder_GetAttributeDataArrayForAllPoints_5:function(e,t,i,r,n,a){return 0,0|Me(t|=0,i|=0,r|=0,n|=0,a|=0)},emscripten_bind_Decoder_SkipAttributeTransform_1:function(e,t){Ji(e|=0,t|=0)},emscripten_bind_Decoder___destroy___0:function(e){(e|=0)&&(l[e+39|0]<=-1&&Ka(_[e+28>>2]),function e(t,i){i&&(e(t,_[i>>2]),e(t,_[i+4>>2]),Qe(i+20|0,_[i+24>>2]),Ka(i))}(e+12|0,_[e+16>>2]),Qe(e,_[e+4>>2]),Ka(e))},emscripten_bind_Mesh_Mesh_0:function(){return 0|function(e){return Dn(e),_[e+84>>2]=0,_[e+88>>2]=0,_[e>>2]=13980,_[e+92>>2]=0,_[e+96>>2]=0,_[e+100>>2]=0,_[e+104>>2]=0,e}(Fa(108))},emscripten_bind_Mesh_num_faces_0:function(e){return(_[(e|=0)+100>>2]-_[e+96>>2]|0)/12|0},emscripten_bind_Mesh_num_attributes_0:Be,emscripten_bind_Mesh_num_points_0:Le,emscripten_bind_Mesh___destroy___0:Ue,emscripten_bind_VoidPtr___destroy___0:Xe,emscripten_bind_DracoInt32Array_DracoInt32Array_0:De,emscripten_bind_DracoInt32Array_GetValue_1:ze,emscripten_bind_DracoInt32Array_size_0:je,emscripten_bind_DracoInt32Array___destroy___0:Ne,emscripten_bind_Metadata_Metadata_0:function(){var e,t,i=0;return e=Fa(24),_[(i=t=e+4|0)>>2]=0,_[i+4>>2]=0,_[(i=e+16|0)>>2]=0,_[i+4>>2]=0,_[e>>2]=t,_[e+12>>2]=i,0|e},emscripten_bind_Metadata___destroy___0:function(e){(e|=0)&&(Je(e+12|0,_[e+16>>2]),qe(e,_[e+4>>2]),Ka(e))},emscripten_enum_draco_StatusCode_OK:Ke,emscripten_enum_draco_StatusCode_DRACO_ERROR:$e,emscripten_enum_draco_StatusCode_IO_ERROR:function(){return-2},emscripten_enum_draco_StatusCode_INVALID_PARAMETER:function(){return-3},emscripten_enum_draco_StatusCode_UNSUPPORTED_VERSION:function(){return-4},emscripten_enum_draco_StatusCode_UNKNOWN_VERSION:function(){return-5},emscripten_enum_draco_DataType_DT_INVALID:Ke,emscripten_enum_draco_DataType_DT_INT8:et,emscripten_enum_draco_DataType_DT_UINT8:tt,emscripten_enum_draco_DataType_DT_INT16:it,emscripten_enum_draco_DataType_DT_UINT16:rt,emscripten_enum_draco_DataType_DT_INT32:function(){return 5},emscripten_enum_draco_DataType_DT_UINT32:function(){return 6},emscripten_enum_draco_DataType_DT_INT64:function(){return 7},emscripten_enum_draco_DataType_DT_UINT64:function(){return 8},emscripten_enum_draco_DataType_DT_FLOAT32:function(){return 9},emscripten_enum_draco_DataType_DT_FLOAT64:function(){return 10},emscripten_enum_draco_DataType_DT_BOOL:function(){return 11},emscripten_enum_draco_DataType_DT_TYPES_COUNT:function(){return 12},emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE:$e,emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD:Ke,emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH:et,emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_INVALID_TRANSFORM:$e,emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_NO_TRANSFORM:Ke,emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_QUANTIZATION_TRANSFORM:et,emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_OCTAHEDRON_TRANSFORM:tt,emscripten_enum_draco_GeometryAttribute_Type_INVALID:$e,emscripten_enum_draco_GeometryAttribute_Type_POSITION:Ke,emscripten_enum_draco_GeometryAttribute_Type_NORMAL:et,emscripten_enum_draco_GeometryAttribute_Type_COLOR:tt,emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD:it,emscripten_enum_draco_GeometryAttribute_Type_GENERIC:rt,setThrew:function(e,t){e|=0,t|=0,_[4601]||(_[4602]=t,_[4601]=e)},_ZSt18uncaught_exceptionv:Ke,free:Ka,malloc:qa,stackSave:function(){return 0|z},stackAlloc:function(e){return z=e=z-(e|=0)&-16,0|e},stackRestore:function(e){z=e|=0},__growWasmMemory:function(t){return 0|function(t){t|=0;var i=0|hs(),a=i+t|0;if(i<a&&a<65536){var s=new ArrayBuffer(g(a,65536)),o=new e.Int8Array(s);o.set(l),l=o,l=new e.Int8Array(s),p=new e.Int16Array(s),_=new e.Int32Array(s),m=new e.Uint8Array(s),b=new e.Uint16Array(s),A=new e.Uint32Array(s),v=new e.Float32Array(s),y=new e.Float64Array(s),r=s,n.buffer=s}return i}(0|(t|=0))},dynCall_ii:function(e,t){return t|=0,0|a[e|=0](t)},dynCall_vi:function(e,t){t|=0,a[e|=0](t)},dynCall_iii:function(e,t,i){return t|=0,i|=0,0|a[e|=0](t,i)},dynCall_vii:function(e,t,i){t|=0,i|=0,a[e|=0](t,i)},dynCall_iiii:function(e,t,i,r){return t|=0,i|=0,r|=0,0|a[e|=0](t,i,r)},dynCall_v:function(e){a[e|=0]()},dynCall_viii:function(e,t,i,r){t|=0,i|=0,r|=0,a[e|=0](t,i,r)},dynCall_viiii:function(e,t,i,r,n){t|=0,i|=0,r|=0,n|=0,a[e|=0](t,i,r,n)},dynCall_iiiiiii:function(e,t,i,r,n,s,o){return t|=0,i|=0,r|=0,n|=0,s|=0,o|=0,0|a[e|=0](t,i,r,n,s,o)},dynCall_iidiiii:function(e,t,i,r,n,s,o){return t|=0,i=+i,r|=0,n|=0,s|=0,o|=0,0|a[e|=0](t,i,r,n,s,o)},dynCall_jiji:function(e,t,i,r,n){return t|=0,i|=0,r|=0,n|=0,e=0|a[e|=0](t,i,r,n),U(0|j),0|e},dynCall_viiiiii:function(e,t,i,r,n,s,o){t|=0,i|=0,r|=0,n|=0,s|=0,o|=0,a[e|=0](t,i,r,n,s,o)},dynCall_viiiii:function(e,t,i,r,n,s){t|=0,i|=0,r|=0,n|=0,s|=0,a[e|=0](t,i,r,n,s)}}}({Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0,Math:Math},e,t.buffer)}(Ye,C,I)}},instantiate:function(e,t){return{then:function(i,r){i({instance:new O.Instance(new O.Module(e,t))})}}},RuntimeError:Error};E=[],"object"!==typeof O&&w("no native wasm support detected");var I=new O.Table({initial:381,maximum:381,element:"anyfunc"}),D=!1;function F(e,t){e||me("Assertion failed: "+t)}var N="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function B(e,t,i){for(var r=t+i,n=t;e[n]&&!(n>=r);)++n;if(n-t>16&&e.subarray&&N)return N.decode(e.subarray(t,n));for(var a="";t<n;){var s=e[t++];if(128&s){var o=63&e[t++];if(192!=(224&s)){var l=63&e[t++];if((s=224==(240&s)?(15&s)<<12|o<<6|l:(7&s)<<18|o<<12|l<<6|63&e[t++])<65536)a+=String.fromCharCode(s);else{var c=s-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&s)<<6|o)}else a+=String.fromCharCode(s)}return a}function L(e,t){return e?B(G,e,t):""}function U(e,t,i,r){if(!(r>0))return 0;for(var n=i,a=i+r-1,s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o>=55296&&o<=57343)o=65536+((1023&o)<<10)|1023&e.charCodeAt(++s);if(o<=127){if(i>=a)break;t[i++]=o}else if(o<=2047){if(i+1>=a)break;t[i++]=192|o>>6,t[i++]=128|63&o}else if(o<=65535){if(i+2>=a)break;t[i++]=224|o>>12,t[i++]=128|o>>6&63,t[i++]=128|63&o}else{if(i+3>=a)break;t[i++]=240|o>>18,t[i++]=128|o>>12&63,t[i++]=128|o>>6&63,t[i++]=128|63&o}}return t[i]=0,i-n}function V(e){for(var t=0,i=0;i<e.length;++i){var r=e.charCodeAt(i);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++i)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");function z(e,t,i){for(var r=0;r<e.length;++r)W[t++>>0]=e.charCodeAt(r);i||(W[t>>0]=0)}var j,W,G,H,Y=65536;function X(e,t){return e%t>0&&(e+=t-e%t),e}function Z(e){j=e,s.HEAP8=W=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAP32=H=new Int32Array(e),s.HEAPU8=G=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAPU32=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=new Float64Array(e)}var Q=5261456,J=18416,q=s.TOTAL_MEMORY||16777216;function K(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var i=t.func;"number"===typeof i?void 0===t.arg?s.dynCall_v(i):s.dynCall_vi(i,t.arg):i(void 0===t.arg?null:t.arg)}else t()}}(C=s.wasmMemory?s.wasmMemory:new O.Memory({initial:q/Y}))&&(j=C.buffer),q=j.byteLength,Z(j),H[J>>2]=Q;var $=[],ee=[],te=[],ie=[],re=!1;function ne(){if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)le(s.preRun.shift());K($)}function ae(){re=!0,K(ee)}function se(){K(te)}function oe(){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;)fe(s.postRun.shift());K(ie)}function le(e){$.unshift(e)}function ce(e){te.unshift(e)}function fe(e){ie.unshift(e)}Math.abs,Math.ceil,Math.floor,Math.min;var he=0,ue=null,de=null;function pe(e){he++,s.monitorRunDependencies&&s.monitorRunDependencies(he)}function _e(e){if(he--,s.monitorRunDependencies&&s.monitorRunDependencies(he),0==he&&(null!==ue&&(clearInterval(ue),ue=null),de)){var t=de;de=null,t()}}function me(e){throw s.onAbort&&s.onAbort(e),T(e+=""),w(e),D=!0,1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new O.RuntimeError(e)}s.preloadedImages={},s.preloadedAudios={};var be="data:application/octet-stream;base64,";function Ae(e){return String.prototype.startsWith?e.startsWith(be):0===e.indexOf(be)}var ve="draco_decoder.wasm";function ye(){try{if(E)return new Uint8Array(E);var e=He(ve);if(e)return e;if(y)return y(ve);throw"both async and sync fetching of the wasm failed"}catch(w){me(w)}}function ge(){return E||!p&&!_||"function"!==typeof fetch?new Promise((function(e,t){e(ye())})):fetch(ve,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ve+"'";return e.arrayBuffer()})).catch((function(){return ye()}))}function ke(){var e={env:Ye,wasi_unstable:Ye};function t(e,t){var i=e.exports;s.asm=i,_e()}function i(e){t(e.instance)}function r(t){return ge().then((function(t){return O.instantiate(t,e)})).then(t,(function(e){w("failed to asynchronously prepare wasm: "+e),me(e)}))}if(pe(),s.instantiateWasm)try{return s.instantiateWasm(e,t)}catch(n){return w("Module.instantiateWasm callback failed with error: "+n),!1}return function(){if(E||"function"!==typeof O.instantiateStreaming||Ae(ve)||"function"!==typeof fetch)return r(i);fetch(ve,{credentials:"same-origin"}).then((function(t){return O.instantiateStreaming(t,e).then(i,(function(e){w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),r(i)}))}))}(),{}}function xe(e){return Rr(e)}Ae(ve)||(ve=S(ve)),ee.push({func:function(){Qe()}});var Se={};function Te(e,t,i){throw Se[e]={ptr:e,adjusted:[e],type:t,destructor:i,refcount:0,caught:!1,rethrown:!1},e,"uncaught_exception"in Pr?Pr.uncaught_exceptions++:Pr.uncaught_exceptions=1,e}function we(){me()}function Ee(){return W.length}function Me(){return 18416}function Pe(e,t,i){G.set(G.subarray(t,t+i),e)}function Re(e){try{return C.grow(e-j.byteLength+65535>>16),Z(C.buffer),1}catch(t){}}function Ce(e){var t=Ee();if(e>2147418112)return!1;for(var i=Math.max(t,16777216);i<e;)i=i<=536870912?X(2*i,65536):Math.min(X((3*i+2147483648)/4,65536),2147418112);return!!Re(i)}var Oe={};function Ie(){if(!Ie.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"===typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d};for(var t in Oe)e[t]=Oe[t];var i=[];for(var t in e)i.push(t+"="+e[t]);Ie.strings=i}return Ie.strings}function De(e,t){var i=Ie(),r=0;return i.forEach((function(i,n){var a=t+r;H[e+4*n>>2]=a,z(i,a),r+=i.length+1})),0}function Fe(e,t){var i=Ie();H[e>>2]=i.length;var r=0;return i.forEach((function(e){r+=e.length+1})),H[t>>2]=r,0}var Ne={buffers:[null,[],[]],printChar:function(e,t){var i=Ne.buffers[e];0===t||10===t?((1===e?T:w)(B(i,0)),i.length=0):i.push(t)},varargs:0,get:function(e){return Ne.varargs+=4,H[Ne.varargs-4>>2]},getStr:function(){return L(Ne.get())},get64:function(){var e=Ne.get();Ne.get();return e},getZero:function(){Ne.get()}};function Be(e){try{return 0}catch(t){return"undefined"!==typeof FS&&t instanceof FS.ErrnoError||me(t),t.errno}}function Le(e,t,i,r,n){try{return 0}catch(a){return"undefined"!==typeof FS&&a instanceof FS.ErrnoError||me(a),a.errno}}function Ue(e,t,i,r){try{for(var n=0,a=0;a<i;a++){for(var s=H[t+8*a>>2],o=H[t+(8*a+4)>>2],l=0;l<o;l++)Ne.printChar(e,G[s+l]);n+=o}return H[r>>2]=n,0}catch(c){return"undefined"!==typeof FS&&c instanceof FS.ErrnoError||me(c),c.errno}}var Ve=!1;function ze(e,t,i){var r=i>0?i:V(e)+1,n=new Array(r),a=U(e,n,0,n.length);return t&&(n.length=a),n}function je(e){for(var t=[],i=0;i<e.length;i++){var r=e[i];r>255&&(Ve&&F(!1,"Character code "+r+" ("+String.fromCharCode(r)+")  at offset "+i+" not in 0x00-0xFF."),r&=255),t.push(String.fromCharCode(r))}return t.join("")}var We="function"===typeof atob?atob:function(e){var t,i,r,n,a,s,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",c=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=o.indexOf(e.charAt(c++))<<2|(n=o.indexOf(e.charAt(c++)))>>4,i=(15&n)<<4|(a=o.indexOf(e.charAt(c++)))>>2,r=(3&a)<<6|(s=o.indexOf(e.charAt(c++))),l+=String.fromCharCode(t),64!==a&&(l+=String.fromCharCode(i)),64!==s&&(l+=String.fromCharCode(r))}while(c<e.length);return l};function Ge(e){if("boolean"===typeof m&&m){var t;try{t=a.from(e,"base64")}catch(s){t=new a(e,"base64")}return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}try{for(var i=We(e),r=new Uint8Array(i.length),n=0;n<i.length;++n)r[n]=i.charCodeAt(n);return r}catch(s){throw new Error("Converting base64 string to bytes failed.")}}function He(e){if(Ae(e))return Ge(e.slice(be.length))}var Ye={__cxa_allocate_exception:xe,__cxa_throw:Te,abort:we,emscripten_get_sbrk_ptr:Me,emscripten_memcpy_big:Pe,emscripten_resize_heap:Ce,environ_get:De,environ_sizes_get:Fe,fd_close:Be,fd_seek:Le,fd_write:Ue,getTempRet0:R,memory:C,setTempRet0:P,table:I},Xe=ke();s.asm=Xe;var Ze,Qe=s.___wasm_call_ctors=function(){return s.asm.__wasm_call_ctors.apply(null,arguments)},Je=s._emscripten_bind_Status_code_0=function(){return s.asm.emscripten_bind_Status_code_0.apply(null,arguments)},qe=s._emscripten_bind_Status_ok_0=function(){return s.asm.emscripten_bind_Status_ok_0.apply(null,arguments)},Ke=s._emscripten_bind_Status_error_msg_0=function(){return s.asm.emscripten_bind_Status_error_msg_0.apply(null,arguments)},$e=s._emscripten_bind_Status___destroy___0=function(){return s.asm.emscripten_bind_Status___destroy___0.apply(null,arguments)},et=s._emscripten_bind_DracoUInt16Array_DracoUInt16Array_0=function(){return s.asm.emscripten_bind_DracoUInt16Array_DracoUInt16Array_0.apply(null,arguments)},tt=s._emscripten_bind_DracoUInt16Array_GetValue_1=function(){return s.asm.emscripten_bind_DracoUInt16Array_GetValue_1.apply(null,arguments)},it=s._emscripten_bind_DracoUInt16Array_size_0=function(){return s.asm.emscripten_bind_DracoUInt16Array_size_0.apply(null,arguments)},rt=s._emscripten_bind_DracoUInt16Array___destroy___0=function(){return s.asm.emscripten_bind_DracoUInt16Array___destroy___0.apply(null,arguments)},nt=s._emscripten_bind_PointCloud_PointCloud_0=function(){return s.asm.emscripten_bind_PointCloud_PointCloud_0.apply(null,arguments)},at=s._emscripten_bind_PointCloud_num_attributes_0=function(){return s.asm.emscripten_bind_PointCloud_num_attributes_0.apply(null,arguments)},st=s._emscripten_bind_PointCloud_num_points_0=function(){return s.asm.emscripten_bind_PointCloud_num_points_0.apply(null,arguments)},ot=s._emscripten_bind_PointCloud___destroy___0=function(){return s.asm.emscripten_bind_PointCloud___destroy___0.apply(null,arguments)},lt=s._emscripten_bind_DracoUInt8Array_DracoUInt8Array_0=function(){return s.asm.emscripten_bind_DracoUInt8Array_DracoUInt8Array_0.apply(null,arguments)},ct=s._emscripten_bind_DracoUInt8Array_GetValue_1=function(){return s.asm.emscripten_bind_DracoUInt8Array_GetValue_1.apply(null,arguments)},ft=s._emscripten_bind_DracoUInt8Array_size_0=function(){return s.asm.emscripten_bind_DracoUInt8Array_size_0.apply(null,arguments)},ht=s._emscripten_bind_DracoUInt8Array___destroy___0=function(){return s.asm.emscripten_bind_DracoUInt8Array___destroy___0.apply(null,arguments)},ut=s._emscripten_bind_DracoUInt32Array_DracoUInt32Array_0=function(){return s.asm.emscripten_bind_DracoUInt32Array_DracoUInt32Array_0.apply(null,arguments)},dt=s._emscripten_bind_DracoUInt32Array_GetValue_1=function(){return s.asm.emscripten_bind_DracoUInt32Array_GetValue_1.apply(null,arguments)},pt=s._emscripten_bind_DracoUInt32Array_size_0=function(){return s.asm.emscripten_bind_DracoUInt32Array_size_0.apply(null,arguments)},_t=s._emscripten_bind_DracoUInt32Array___destroy___0=function(){return s.asm.emscripten_bind_DracoUInt32Array___destroy___0.apply(null,arguments)},mt=s._emscripten_bind_AttributeOctahedronTransform_AttributeOctahedronTransform_0=function(){return s.asm.emscripten_bind_AttributeOctahedronTransform_AttributeOctahedronTransform_0.apply(null,arguments)},bt=s._emscripten_bind_AttributeOctahedronTransform_InitFromAttribute_1=function(){return s.asm.emscripten_bind_AttributeOctahedronTransform_InitFromAttribute_1.apply(null,arguments)},At=s._emscripten_bind_AttributeOctahedronTransform_quantization_bits_0=function(){return s.asm.emscripten_bind_AttributeOctahedronTransform_quantization_bits_0.apply(null,arguments)},vt=s._emscripten_bind_AttributeOctahedronTransform___destroy___0=function(){return s.asm.emscripten_bind_AttributeOctahedronTransform___destroy___0.apply(null,arguments)},yt=s._emscripten_bind_PointAttribute_PointAttribute_0=function(){return s.asm.emscripten_bind_PointAttribute_PointAttribute_0.apply(null,arguments)},gt=s._emscripten_bind_PointAttribute_size_0=function(){return s.asm.emscripten_bind_PointAttribute_size_0.apply(null,arguments)},kt=s._emscripten_bind_PointAttribute_GetAttributeTransformData_0=function(){return s.asm.emscripten_bind_PointAttribute_GetAttributeTransformData_0.apply(null,arguments)},xt=s._emscripten_bind_PointAttribute_attribute_type_0=function(){return s.asm.emscripten_bind_PointAttribute_attribute_type_0.apply(null,arguments)},St=s._emscripten_bind_PointAttribute_data_type_0=function(){return s.asm.emscripten_bind_PointAttribute_data_type_0.apply(null,arguments)},Tt=s._emscripten_bind_PointAttribute_num_components_0=function(){return s.asm.emscripten_bind_PointAttribute_num_components_0.apply(null,arguments)},wt=s._emscripten_bind_PointAttribute_normalized_0=function(){return s.asm.emscripten_bind_PointAttribute_normalized_0.apply(null,arguments)},Et=s._emscripten_bind_PointAttribute_byte_stride_0=function(){return s.asm.emscripten_bind_PointAttribute_byte_stride_0.apply(null,arguments)},Mt=s._emscripten_bind_PointAttribute_byte_offset_0=function(){return s.asm.emscripten_bind_PointAttribute_byte_offset_0.apply(null,arguments)},Pt=s._emscripten_bind_PointAttribute_unique_id_0=function(){return s.asm.emscripten_bind_PointAttribute_unique_id_0.apply(null,arguments)},Rt=s._emscripten_bind_PointAttribute___destroy___0=function(){return s.asm.emscripten_bind_PointAttribute___destroy___0.apply(null,arguments)},Ct=s._emscripten_bind_AttributeTransformData_AttributeTransformData_0=function(){return s.asm.emscripten_bind_AttributeTransformData_AttributeTransformData_0.apply(null,arguments)},Ot=s._emscripten_bind_AttributeTransformData_transform_type_0=function(){return s.asm.emscripten_bind_AttributeTransformData_transform_type_0.apply(null,arguments)},It=s._emscripten_bind_AttributeTransformData___destroy___0=function(){return s.asm.emscripten_bind_AttributeTransformData___destroy___0.apply(null,arguments)},Dt=s._emscripten_bind_AttributeQuantizationTransform_AttributeQuantizationTransform_0=function(){return s.asm.emscripten_bind_AttributeQuantizationTransform_AttributeQuantizationTransform_0.apply(null,arguments)},Ft=s._emscripten_bind_AttributeQuantizationTransform_InitFromAttribute_1=function(){return s.asm.emscripten_bind_AttributeQuantizationTransform_InitFromAttribute_1.apply(null,arguments)},Nt=s._emscripten_bind_AttributeQuantizationTransform_quantization_bits_0=function(){return s.asm.emscripten_bind_AttributeQuantizationTransform_quantization_bits_0.apply(null,arguments)},Bt=s._emscripten_bind_AttributeQuantizationTransform_min_value_1=function(){return s.asm.emscripten_bind_AttributeQuantizationTransform_min_value_1.apply(null,arguments)},Lt=s._emscripten_bind_AttributeQuantizationTransform_range_0=function(){return s.asm.emscripten_bind_AttributeQuantizationTransform_range_0.apply(null,arguments)},Ut=s._emscripten_bind_AttributeQuantizationTransform___destroy___0=function(){return s.asm.emscripten_bind_AttributeQuantizationTransform___destroy___0.apply(null,arguments)},Vt=s._emscripten_bind_DracoInt8Array_DracoInt8Array_0=function(){return s.asm.emscripten_bind_DracoInt8Array_DracoInt8Array_0.apply(null,arguments)},zt=s._emscripten_bind_DracoInt8Array_GetValue_1=function(){return s.asm.emscripten_bind_DracoInt8Array_GetValue_1.apply(null,arguments)},jt=s._emscripten_bind_DracoInt8Array_size_0=function(){return s.asm.emscripten_bind_DracoInt8Array_size_0.apply(null,arguments)},Wt=s._emscripten_bind_DracoInt8Array___destroy___0=function(){return s.asm.emscripten_bind_DracoInt8Array___destroy___0.apply(null,arguments)},Gt=s._emscripten_bind_MetadataQuerier_MetadataQuerier_0=function(){return s.asm.emscripten_bind_MetadataQuerier_MetadataQuerier_0.apply(null,arguments)},Ht=s._emscripten_bind_MetadataQuerier_HasEntry_2=function(){return s.asm.emscripten_bind_MetadataQuerier_HasEntry_2.apply(null,arguments)},Yt=s._emscripten_bind_MetadataQuerier_GetIntEntry_2=function(){return s.asm.emscripten_bind_MetadataQuerier_GetIntEntry_2.apply(null,arguments)},Xt=s._emscripten_bind_MetadataQuerier_GetIntEntryArray_3=function(){return s.asm.emscripten_bind_MetadataQuerier_GetIntEntryArray_3.apply(null,arguments)},Zt=s._emscripten_bind_MetadataQuerier_GetDoubleEntry_2=function(){return s.asm.emscripten_bind_MetadataQuerier_GetDoubleEntry_2.apply(null,arguments)},Qt=s._emscripten_bind_MetadataQuerier_GetStringEntry_2=function(){return s.asm.emscripten_bind_MetadataQuerier_GetStringEntry_2.apply(null,arguments)},Jt=s._emscripten_bind_MetadataQuerier_NumEntries_1=function(){return s.asm.emscripten_bind_MetadataQuerier_NumEntries_1.apply(null,arguments)},qt=s._emscripten_bind_MetadataQuerier_GetEntryName_2=function(){return s.asm.emscripten_bind_MetadataQuerier_GetEntryName_2.apply(null,arguments)},Kt=s._emscripten_bind_MetadataQuerier___destroy___0=function(){return s.asm.emscripten_bind_MetadataQuerier___destroy___0.apply(null,arguments)},$t=s._emscripten_bind_DracoInt16Array_DracoInt16Array_0=function(){return s.asm.emscripten_bind_DracoInt16Array_DracoInt16Array_0.apply(null,arguments)},ei=s._emscripten_bind_DracoInt16Array_GetValue_1=function(){return s.asm.emscripten_bind_DracoInt16Array_GetValue_1.apply(null,arguments)},ti=s._emscripten_bind_DracoInt16Array_size_0=function(){return s.asm.emscripten_bind_DracoInt16Array_size_0.apply(null,arguments)},ii=s._emscripten_bind_DracoInt16Array___destroy___0=function(){return s.asm.emscripten_bind_DracoInt16Array___destroy___0.apply(null,arguments)},ri=s._emscripten_bind_DracoFloat32Array_DracoFloat32Array_0=function(){return s.asm.emscripten_bind_DracoFloat32Array_DracoFloat32Array_0.apply(null,arguments)},ni=s._emscripten_bind_DracoFloat32Array_GetValue_1=function(){return s.asm.emscripten_bind_DracoFloat32Array_GetValue_1.apply(null,arguments)},ai=s._emscripten_bind_DracoFloat32Array_size_0=function(){return s.asm.emscripten_bind_DracoFloat32Array_size_0.apply(null,arguments)},si=s._emscripten_bind_DracoFloat32Array___destroy___0=function(){return s.asm.emscripten_bind_DracoFloat32Array___destroy___0.apply(null,arguments)},oi=s._emscripten_bind_GeometryAttribute_GeometryAttribute_0=function(){return s.asm.emscripten_bind_GeometryAttribute_GeometryAttribute_0.apply(null,arguments)},li=s._emscripten_bind_GeometryAttribute___destroy___0=function(){return s.asm.emscripten_bind_GeometryAttribute___destroy___0.apply(null,arguments)},ci=s._emscripten_bind_DecoderBuffer_DecoderBuffer_0=function(){return s.asm.emscripten_bind_DecoderBuffer_DecoderBuffer_0.apply(null,arguments)},fi=s._emscripten_bind_DecoderBuffer_Init_2=function(){return s.asm.emscripten_bind_DecoderBuffer_Init_2.apply(null,arguments)},hi=s._emscripten_bind_DecoderBuffer___destroy___0=function(){return s.asm.emscripten_bind_DecoderBuffer___destroy___0.apply(null,arguments)},ui=s._emscripten_bind_Decoder_Decoder_0=function(){return s.asm.emscripten_bind_Decoder_Decoder_0.apply(null,arguments)},di=s._emscripten_bind_Decoder_GetEncodedGeometryType_1=function(){return s.asm.emscripten_bind_Decoder_GetEncodedGeometryType_1.apply(null,arguments)},pi=s._emscripten_bind_Decoder_DecodeBufferToPointCloud_2=function(){return s.asm.emscripten_bind_Decoder_DecodeBufferToPointCloud_2.apply(null,arguments)},_i=s._emscripten_bind_Decoder_DecodeBufferToMesh_2=function(){return s.asm.emscripten_bind_Decoder_DecodeBufferToMesh_2.apply(null,arguments)},mi=s._emscripten_bind_Decoder_GetAttributeId_2=function(){return s.asm.emscripten_bind_Decoder_GetAttributeId_2.apply(null,arguments)},bi=s._emscripten_bind_Decoder_GetAttributeIdByName_2=function(){return s.asm.emscripten_bind_Decoder_GetAttributeIdByName_2.apply(null,arguments)},Ai=s._emscripten_bind_Decoder_GetAttributeIdByMetadataEntry_3=function(){return s.asm.emscripten_bind_Decoder_GetAttributeIdByMetadataEntry_3.apply(null,arguments)},vi=s._emscripten_bind_Decoder_GetAttribute_2=function(){return s.asm.emscripten_bind_Decoder_GetAttribute_2.apply(null,arguments)},yi=s._emscripten_bind_Decoder_GetAttributeByUniqueId_2=function(){return s.asm.emscripten_bind_Decoder_GetAttributeByUniqueId_2.apply(null,arguments)},gi=s._emscripten_bind_Decoder_GetMetadata_1=function(){return s.asm.emscripten_bind_Decoder_GetMetadata_1.apply(null,arguments)},ki=s._emscripten_bind_Decoder_GetAttributeMetadata_2=function(){return s.asm.emscripten_bind_Decoder_GetAttributeMetadata_2.apply(null,arguments)},xi=s._emscripten_bind_Decoder_GetFaceFromMesh_3=function(){return s.asm.emscripten_bind_Decoder_GetFaceFromMesh_3.apply(null,arguments)},Si=s._emscripten_bind_Decoder_GetTriangleStripsFromMesh_2=function(){return s.asm.emscripten_bind_Decoder_GetTriangleStripsFromMesh_2.apply(null,arguments)},Ti=s._emscripten_bind_Decoder_GetTrianglesUInt16Array_3=function(){return s.asm.emscripten_bind_Decoder_GetTrianglesUInt16Array_3.apply(null,arguments)},wi=s._emscripten_bind_Decoder_GetTrianglesUInt32Array_3=function(){return s.asm.emscripten_bind_Decoder_GetTrianglesUInt32Array_3.apply(null,arguments)},Ei=s._emscripten_bind_Decoder_GetAttributeFloat_3=function(){return s.asm.emscripten_bind_Decoder_GetAttributeFloat_3.apply(null,arguments)},Mi=s._emscripten_bind_Decoder_GetAttributeFloatForAllPoints_3=function(){return s.asm.emscripten_bind_Decoder_GetAttributeFloatForAllPoints_3.apply(null,arguments)},Pi=s._emscripten_bind_Decoder_GetAttributeIntForAllPoints_3=function(){return s.asm.emscripten_bind_Decoder_GetAttributeIntForAllPoints_3.apply(null,arguments)},Ri=s._emscripten_bind_Decoder_GetAttributeInt8ForAllPoints_3=function(){return s.asm.emscripten_bind_Decoder_GetAttributeInt8ForAllPoints_3.apply(null,arguments)},Ci=s._emscripten_bind_Decoder_GetAttributeUInt8ForAllPoints_3=function(){return s.asm.emscripten_bind_Decoder_GetAttributeUInt8ForAllPoints_3.apply(null,arguments)},Oi=s._emscripten_bind_Decoder_GetAttributeInt16ForAllPoints_3=function(){return s.asm.emscripten_bind_Decoder_GetAttributeInt16ForAllPoints_3.apply(null,arguments)},Ii=s._emscripten_bind_Decoder_GetAttributeUInt16ForAllPoints_3=function(){return s.asm.emscripten_bind_Decoder_GetAttributeUInt16ForAllPoints_3.apply(null,arguments)},Di=s._emscripten_bind_Decoder_GetAttributeInt32ForAllPoints_3=function(){return s.asm.emscripten_bind_Decoder_GetAttributeInt32ForAllPoints_3.apply(null,arguments)},Fi=s._emscripten_bind_Decoder_GetAttributeUInt32ForAllPoints_3=function(){return s.asm.emscripten_bind_Decoder_GetAttributeUInt32ForAllPoints_3.apply(null,arguments)},Ni=s._emscripten_bind_Decoder_GetAttributeDataArrayForAllPoints_5=function(){return s.asm.emscripten_bind_Decoder_GetAttributeDataArrayForAllPoints_5.apply(null,arguments)},Bi=s._emscripten_bind_Decoder_SkipAttributeTransform_1=function(){return s.asm.emscripten_bind_Decoder_SkipAttributeTransform_1.apply(null,arguments)},Li=s._emscripten_bind_Decoder___destroy___0=function(){return s.asm.emscripten_bind_Decoder___destroy___0.apply(null,arguments)},Ui=s._emscripten_bind_Mesh_Mesh_0=function(){return s.asm.emscripten_bind_Mesh_Mesh_0.apply(null,arguments)},Vi=s._emscripten_bind_Mesh_num_faces_0=function(){return s.asm.emscripten_bind_Mesh_num_faces_0.apply(null,arguments)},zi=s._emscripten_bind_Mesh_num_attributes_0=function(){return s.asm.emscripten_bind_Mesh_num_attributes_0.apply(null,arguments)},ji=s._emscripten_bind_Mesh_num_points_0=function(){return s.asm.emscripten_bind_Mesh_num_points_0.apply(null,arguments)},Wi=s._emscripten_bind_Mesh___destroy___0=function(){return s.asm.emscripten_bind_Mesh___destroy___0.apply(null,arguments)},Gi=s._emscripten_bind_VoidPtr___destroy___0=function(){return s.asm.emscripten_bind_VoidPtr___destroy___0.apply(null,arguments)},Hi=s._emscripten_bind_DracoInt32Array_DracoInt32Array_0=function(){return s.asm.emscripten_bind_DracoInt32Array_DracoInt32Array_0.apply(null,arguments)},Yi=s._emscripten_bind_DracoInt32Array_GetValue_1=function(){return s.asm.emscripten_bind_DracoInt32Array_GetValue_1.apply(null,arguments)},Xi=s._emscripten_bind_DracoInt32Array_size_0=function(){return s.asm.emscripten_bind_DracoInt32Array_size_0.apply(null,arguments)},Zi=s._emscripten_bind_DracoInt32Array___destroy___0=function(){return s.asm.emscripten_bind_DracoInt32Array___destroy___0.apply(null,arguments)},Qi=s._emscripten_bind_Metadata_Metadata_0=function(){return s.asm.emscripten_bind_Metadata_Metadata_0.apply(null,arguments)},Ji=s._emscripten_bind_Metadata___destroy___0=function(){return s.asm.emscripten_bind_Metadata___destroy___0.apply(null,arguments)},qi=s._emscripten_enum_draco_StatusCode_OK=function(){return s.asm.emscripten_enum_draco_StatusCode_OK.apply(null,arguments)},Ki=s._emscripten_enum_draco_StatusCode_DRACO_ERROR=function(){return s.asm.emscripten_enum_draco_StatusCode_DRACO_ERROR.apply(null,arguments)},$i=s._emscripten_enum_draco_StatusCode_IO_ERROR=function(){return s.asm.emscripten_enum_draco_StatusCode_IO_ERROR.apply(null,arguments)},er=s._emscripten_enum_draco_StatusCode_INVALID_PARAMETER=function(){return s.asm.emscripten_enum_draco_StatusCode_INVALID_PARAMETER.apply(null,arguments)},tr=s._emscripten_enum_draco_StatusCode_UNSUPPORTED_VERSION=function(){return s.asm.emscripten_enum_draco_StatusCode_UNSUPPORTED_VERSION.apply(null,arguments)},ir=s._emscripten_enum_draco_StatusCode_UNKNOWN_VERSION=function(){return s.asm.emscripten_enum_draco_StatusCode_UNKNOWN_VERSION.apply(null,arguments)},rr=s._emscripten_enum_draco_DataType_DT_INVALID=function(){return s.asm.emscripten_enum_draco_DataType_DT_INVALID.apply(null,arguments)},nr=s._emscripten_enum_draco_DataType_DT_INT8=function(){return s.asm.emscripten_enum_draco_DataType_DT_INT8.apply(null,arguments)},ar=s._emscripten_enum_draco_DataType_DT_UINT8=function(){return s.asm.emscripten_enum_draco_DataType_DT_UINT8.apply(null,arguments)},sr=s._emscripten_enum_draco_DataType_DT_INT16=function(){return s.asm.emscripten_enum_draco_DataType_DT_INT16.apply(null,arguments)},or=s._emscripten_enum_draco_DataType_DT_UINT16=function(){return s.asm.emscripten_enum_draco_DataType_DT_UINT16.apply(null,arguments)},lr=s._emscripten_enum_draco_DataType_DT_INT32=function(){return s.asm.emscripten_enum_draco_DataType_DT_INT32.apply(null,arguments)},cr=s._emscripten_enum_draco_DataType_DT_UINT32=function(){return s.asm.emscripten_enum_draco_DataType_DT_UINT32.apply(null,arguments)},fr=s._emscripten_enum_draco_DataType_DT_INT64=function(){return s.asm.emscripten_enum_draco_DataType_DT_INT64.apply(null,arguments)},hr=s._emscripten_enum_draco_DataType_DT_UINT64=function(){return s.asm.emscripten_enum_draco_DataType_DT_UINT64.apply(null,arguments)},ur=s._emscripten_enum_draco_DataType_DT_FLOAT32=function(){return s.asm.emscripten_enum_draco_DataType_DT_FLOAT32.apply(null,arguments)},dr=s._emscripten_enum_draco_DataType_DT_FLOAT64=function(){return s.asm.emscripten_enum_draco_DataType_DT_FLOAT64.apply(null,arguments)},pr=s._emscripten_enum_draco_DataType_DT_BOOL=function(){return s.asm.emscripten_enum_draco_DataType_DT_BOOL.apply(null,arguments)},_r=s._emscripten_enum_draco_DataType_DT_TYPES_COUNT=function(){return s.asm.emscripten_enum_draco_DataType_DT_TYPES_COUNT.apply(null,arguments)},mr=s._emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE=function(){return s.asm.emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE.apply(null,arguments)},br=s._emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD=function(){return s.asm.emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD.apply(null,arguments)},Ar=s._emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH=function(){return s.asm.emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH.apply(null,arguments)},vr=s._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_INVALID_TRANSFORM=function(){return s.asm.emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_INVALID_TRANSFORM.apply(null,arguments)},yr=s._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_NO_TRANSFORM=function(){return s.asm.emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_NO_TRANSFORM.apply(null,arguments)},gr=s._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_QUANTIZATION_TRANSFORM=function(){return s.asm.emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_QUANTIZATION_TRANSFORM.apply(null,arguments)},kr=s._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_OCTAHEDRON_TRANSFORM=function(){return s.asm.emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_OCTAHEDRON_TRANSFORM.apply(null,arguments)},xr=s._emscripten_enum_draco_GeometryAttribute_Type_INVALID=function(){return s.asm.emscripten_enum_draco_GeometryAttribute_Type_INVALID.apply(null,arguments)},Sr=s._emscripten_enum_draco_GeometryAttribute_Type_POSITION=function(){return s.asm.emscripten_enum_draco_GeometryAttribute_Type_POSITION.apply(null,arguments)},Tr=s._emscripten_enum_draco_GeometryAttribute_Type_NORMAL=function(){return s.asm.emscripten_enum_draco_GeometryAttribute_Type_NORMAL.apply(null,arguments)},wr=s._emscripten_enum_draco_GeometryAttribute_Type_COLOR=function(){return s.asm.emscripten_enum_draco_GeometryAttribute_Type_COLOR.apply(null,arguments)},Er=s._emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD=function(){return s.asm.emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD.apply(null,arguments)},Mr=s._emscripten_enum_draco_GeometryAttribute_Type_GENERIC=function(){return s.asm.emscripten_enum_draco_GeometryAttribute_Type_GENERIC.apply(null,arguments)},Pr=(s._setThrew=function(){return s.asm.setThrew.apply(null,arguments)},s.__ZSt18uncaught_exceptionv=function(){return s.asm._ZSt18uncaught_exceptionv.apply(null,arguments)}),Rr=(s._free=function(){return s.asm.free.apply(null,arguments)},s._malloc=function(){return s.asm.malloc.apply(null,arguments)}),Cr=(s.stackSave=function(){return s.asm.stackSave.apply(null,arguments)},s.stackAlloc=function(){return s.asm.stackAlloc.apply(null,arguments)},s.stackRestore=function(){return s.asm.stackRestore.apply(null,arguments)},s.__growWasmMemory=function(){return s.asm.__growWasmMemory.apply(null,arguments)});s.dynCall_ii=function(){return s.asm.dynCall_ii.apply(null,arguments)},s.dynCall_vi=function(){return s.asm.dynCall_vi.apply(null,arguments)},s.dynCall_iii=function(){return s.asm.dynCall_iii.apply(null,arguments)},s.dynCall_vii=function(){return s.asm.dynCall_vii.apply(null,arguments)},s.dynCall_iiii=function(){return s.asm.dynCall_iiii.apply(null,arguments)},s.dynCall_v=function(){return s.asm.dynCall_v.apply(null,arguments)},s.dynCall_viii=function(){return s.asm.dynCall_viii.apply(null,arguments)},s.dynCall_viiii=function(){return s.asm.dynCall_viiii.apply(null,arguments)},s.dynCall_iiiiiii=function(){return s.asm.dynCall_iiiiiii.apply(null,arguments)},s.dynCall_iidiiii=function(){return s.asm.dynCall_iidiiii.apply(null,arguments)},s.dynCall_jiji=function(){return s.asm.dynCall_jiji.apply(null,arguments)},s.dynCall_viiiiii=function(){return s.asm.dynCall_viiiiii.apply(null,arguments)},s.dynCall_viiiii=function(){return s.asm.dynCall_viiiii.apply(null,arguments)};function Or(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Ir(e){function t(){Ze||(Ze=!0,D||(ae(),se(),s.onRuntimeInitialized&&s.onRuntimeInitialized(),oe()))}e=e||u,he>0||(ne(),he>0||(s.setStatus?(s.setStatus("Running..."),setTimeout((function(){setTimeout((function(){s.setStatus("")}),1),t()}),1)):t()))}if(s.asm=Xe,s.then=function(e){if(Ze)e(s);else{var t=s.onRuntimeInitialized;s.onRuntimeInitialized=function(){t&&t(),e(s)}}return s},de=function e(){Ze||Ir(),Ze||(de=e)},s.run=Ir,s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();function Dr(){}function Fr(e){return(e||Dr).__cache__}function Nr(e,t){var i=Fr(t),r=i[e];return r||((r=Object.create((t||Dr).prototype)).ptr=e,i[e]=r)}function Br(e,t){return Nr(e.ptr,t)}function Lr(e){if(!e.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";e.__destroy__(),delete Fr(e.__class__)[e.ptr]}function Ur(e,t){return e.ptr===t.ptr}function Vr(e){return e.ptr}function zr(e){return e.__class__}Ir(),Dr.prototype=Object.create(Dr.prototype),Dr.prototype.constructor=Dr,Dr.prototype.__class__=Dr,Dr.__cache__={},s.WrapperObject=Dr,s.getCache=Fr,s.wrapPointer=Nr,s.castObject=Br,s.NULL=Nr(0),s.destroy=Lr,s.compare=Ur,s.getPointer=Vr,s.getClass=zr;var jr={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(jr.needed){for(var e=0;e<jr.temps.length;e++)s._free(jr.temps[e]);jr.temps.length=0,s._free(jr.buffer),jr.buffer=0,jr.size+=jr.needed,jr.needed=0}jr.buffer||(jr.size+=128,jr.buffer=s._malloc(jr.size),F(jr.buffer)),jr.pos=0},alloc:function(e,t){F(jr.buffer);var i,r=t.BYTES_PER_ELEMENT,n=e.length*r;return n=n+7&-8,jr.pos+n>=jr.size?(F(n>0),jr.needed+=n,i=s._malloc(n),jr.temps.push(i)):(i=jr.buffer+jr.pos,jr.pos+=n),i},copy:function(e,t,i){var r=i;switch(t.BYTES_PER_ELEMENT){case 2:r>>=1;break;case 4:r>>=2;break;case 8:r>>=3}for(var n=0;n<e.length;n++)t[r+n]=e[n]}};function Wr(e){if("string"===typeof e){var t=ze(e),i=jr.alloc(t,W);return jr.copy(t,W,i),i}return e}function Gr(e){if("object"===typeof e){var t=jr.alloc(e,W);return jr.copy(e,W,t),t}return e}function Hr(){throw"cannot construct a Status, no constructor in IDL"}function Yr(){this.ptr=et(),Fr(Yr)[this.ptr]=this}function Xr(){this.ptr=nt(),Fr(Xr)[this.ptr]=this}function Zr(){this.ptr=lt(),Fr(Zr)[this.ptr]=this}function Qr(){this.ptr=ut(),Fr(Qr)[this.ptr]=this}function Jr(){this.ptr=mt(),Fr(Jr)[this.ptr]=this}function qr(){this.ptr=yt(),Fr(qr)[this.ptr]=this}function Kr(){this.ptr=Ct(),Fr(Kr)[this.ptr]=this}function $r(){this.ptr=Dt(),Fr($r)[this.ptr]=this}function en(){this.ptr=Vt(),Fr(en)[this.ptr]=this}function tn(){this.ptr=Gt(),Fr(tn)[this.ptr]=this}function rn(){this.ptr=$t(),Fr(rn)[this.ptr]=this}function nn(){this.ptr=ri(),Fr(nn)[this.ptr]=this}function an(){this.ptr=oi(),Fr(an)[this.ptr]=this}function sn(){this.ptr=ci(),Fr(sn)[this.ptr]=this}function on(){this.ptr=ui(),Fr(on)[this.ptr]=this}function ln(){this.ptr=Ui(),Fr(ln)[this.ptr]=this}function cn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function fn(){this.ptr=Hi(),Fr(fn)[this.ptr]=this}function hn(){this.ptr=Qi(),Fr(hn)[this.ptr]=this}return Hr.prototype=Object.create(Dr.prototype),Hr.prototype.constructor=Hr,Hr.prototype.__class__=Hr,Hr.__cache__={},s.Status=Hr,Hr.prototype.code=Hr.prototype.code=function(){var e=this.ptr;return Je(e)},Hr.prototype.ok=Hr.prototype.ok=function(){var e=this.ptr;return!!qe(e)},Hr.prototype.error_msg=Hr.prototype.error_msg=function(){var e=this.ptr;return L(Ke(e))},Hr.prototype.__destroy__=Hr.prototype.__destroy__=function(){var e=this.ptr;$e(e)},Yr.prototype=Object.create(Dr.prototype),Yr.prototype.constructor=Yr,Yr.prototype.__class__=Yr,Yr.__cache__={},s.DracoUInt16Array=Yr,Yr.prototype.GetValue=Yr.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),tt(t,e)},Yr.prototype.size=Yr.prototype.size=function(){var e=this.ptr;return it(e)},Yr.prototype.__destroy__=Yr.prototype.__destroy__=function(){var e=this.ptr;rt(e)},Xr.prototype=Object.create(Dr.prototype),Xr.prototype.constructor=Xr,Xr.prototype.__class__=Xr,Xr.__cache__={},s.PointCloud=Xr,Xr.prototype.num_attributes=Xr.prototype.num_attributes=function(){var e=this.ptr;return at(e)},Xr.prototype.num_points=Xr.prototype.num_points=function(){var e=this.ptr;return st(e)},Xr.prototype.__destroy__=Xr.prototype.__destroy__=function(){var e=this.ptr;ot(e)},Zr.prototype=Object.create(Dr.prototype),Zr.prototype.constructor=Zr,Zr.prototype.__class__=Zr,Zr.__cache__={},s.DracoUInt8Array=Zr,Zr.prototype.GetValue=Zr.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),ct(t,e)},Zr.prototype.size=Zr.prototype.size=function(){var e=this.ptr;return ft(e)},Zr.prototype.__destroy__=Zr.prototype.__destroy__=function(){var e=this.ptr;ht(e)},Qr.prototype=Object.create(Dr.prototype),Qr.prototype.constructor=Qr,Qr.prototype.__class__=Qr,Qr.__cache__={},s.DracoUInt32Array=Qr,Qr.prototype.GetValue=Qr.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),dt(t,e)},Qr.prototype.size=Qr.prototype.size=function(){var e=this.ptr;return pt(e)},Qr.prototype.__destroy__=Qr.prototype.__destroy__=function(){var e=this.ptr;_t(e)},Jr.prototype=Object.create(Dr.prototype),Jr.prototype.constructor=Jr,Jr.prototype.__class__=Jr,Jr.__cache__={},s.AttributeOctahedronTransform=Jr,Jr.prototype.InitFromAttribute=Jr.prototype.InitFromAttribute=function(e){var t=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),!!bt(t,e)},Jr.prototype.quantization_bits=Jr.prototype.quantization_bits=function(){var e=this.ptr;return At(e)},Jr.prototype.__destroy__=Jr.prototype.__destroy__=function(){var e=this.ptr;vt(e)},qr.prototype=Object.create(Dr.prototype),qr.prototype.constructor=qr,qr.prototype.__class__=qr,qr.__cache__={},s.PointAttribute=qr,qr.prototype.size=qr.prototype.size=function(){var e=this.ptr;return gt(e)},qr.prototype.GetAttributeTransformData=qr.prototype.GetAttributeTransformData=function(){var e=this.ptr;return Nr(kt(e),Kr)},qr.prototype.attribute_type=qr.prototype.attribute_type=function(){var e=this.ptr;return xt(e)},qr.prototype.data_type=qr.prototype.data_type=function(){var e=this.ptr;return St(e)},qr.prototype.num_components=qr.prototype.num_components=function(){var e=this.ptr;return Tt(e)},qr.prototype.normalized=qr.prototype.normalized=function(){var e=this.ptr;return!!wt(e)},qr.prototype.byte_stride=qr.prototype.byte_stride=function(){var e=this.ptr;return Et(e)},qr.prototype.byte_offset=qr.prototype.byte_offset=function(){var e=this.ptr;return Mt(e)},qr.prototype.unique_id=qr.prototype.unique_id=function(){var e=this.ptr;return Pt(e)},qr.prototype.__destroy__=qr.prototype.__destroy__=function(){var e=this.ptr;Rt(e)},Kr.prototype=Object.create(Dr.prototype),Kr.prototype.constructor=Kr,Kr.prototype.__class__=Kr,Kr.__cache__={},s.AttributeTransformData=Kr,Kr.prototype.transform_type=Kr.prototype.transform_type=function(){var e=this.ptr;return Ot(e)},Kr.prototype.__destroy__=Kr.prototype.__destroy__=function(){var e=this.ptr;It(e)},$r.prototype=Object.create(Dr.prototype),$r.prototype.constructor=$r,$r.prototype.__class__=$r,$r.__cache__={},s.AttributeQuantizationTransform=$r,$r.prototype.InitFromAttribute=$r.prototype.InitFromAttribute=function(e){var t=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),!!Ft(t,e)},$r.prototype.quantization_bits=$r.prototype.quantization_bits=function(){var e=this.ptr;return Nt(e)},$r.prototype.min_value=$r.prototype.min_value=function(e){var t=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),Bt(t,e)},$r.prototype.range=$r.prototype.range=function(){var e=this.ptr;return Lt(e)},$r.prototype.__destroy__=$r.prototype.__destroy__=function(){var e=this.ptr;Ut(e)},en.prototype=Object.create(Dr.prototype),en.prototype.constructor=en,en.prototype.__class__=en,en.__cache__={},s.DracoInt8Array=en,en.prototype.GetValue=en.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),zt(t,e)},en.prototype.size=en.prototype.size=function(){var e=this.ptr;return jt(e)},en.prototype.__destroy__=en.prototype.__destroy__=function(){var e=this.ptr;Wt(e)},tn.prototype=Object.create(Dr.prototype),tn.prototype.constructor=tn,tn.prototype.__class__=tn,tn.__cache__={},s.MetadataQuerier=tn,tn.prototype.HasEntry=tn.prototype.HasEntry=function(e,t){var i=this.ptr;return jr.prepare(),e&&"object"===typeof e&&(e=e.ptr),t=t&&"object"===typeof t?t.ptr:Wr(t),!!Ht(i,e,t)},tn.prototype.GetIntEntry=tn.prototype.GetIntEntry=function(e,t){var i=this.ptr;return jr.prepare(),e&&"object"===typeof e&&(e=e.ptr),t=t&&"object"===typeof t?t.ptr:Wr(t),Yt(i,e,t)},tn.prototype.GetIntEntryArray=tn.prototype.GetIntEntryArray=function(e,t,i){var r=this.ptr;jr.prepare(),e&&"object"===typeof e&&(e=e.ptr),t=t&&"object"===typeof t?t.ptr:Wr(t),i&&"object"===typeof i&&(i=i.ptr),Xt(r,e,t,i)},tn.prototype.GetDoubleEntry=tn.prototype.GetDoubleEntry=function(e,t){var i=this.ptr;return jr.prepare(),e&&"object"===typeof e&&(e=e.ptr),t=t&&"object"===typeof t?t.ptr:Wr(t),Zt(i,e,t)},tn.prototype.GetStringEntry=tn.prototype.GetStringEntry=function(e,t){var i=this.ptr;return jr.prepare(),e&&"object"===typeof e&&(e=e.ptr),t=t&&"object"===typeof t?t.ptr:Wr(t),L(Qt(i,e,t))},tn.prototype.NumEntries=tn.prototype.NumEntries=function(e){var t=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),Jt(t,e)},tn.prototype.GetEntryName=tn.prototype.GetEntryName=function(e,t){var i=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),L(qt(i,e,t))},tn.prototype.__destroy__=tn.prototype.__destroy__=function(){var e=this.ptr;Kt(e)},rn.prototype=Object.create(Dr.prototype),rn.prototype.constructor=rn,rn.prototype.__class__=rn,rn.__cache__={},s.DracoInt16Array=rn,rn.prototype.GetValue=rn.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),ei(t,e)},rn.prototype.size=rn.prototype.size=function(){var e=this.ptr;return ti(e)},rn.prototype.__destroy__=rn.prototype.__destroy__=function(){var e=this.ptr;ii(e)},nn.prototype=Object.create(Dr.prototype),nn.prototype.constructor=nn,nn.prototype.__class__=nn,nn.__cache__={},s.DracoFloat32Array=nn,nn.prototype.GetValue=nn.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),ni(t,e)},nn.prototype.size=nn.prototype.size=function(){var e=this.ptr;return ai(e)},nn.prototype.__destroy__=nn.prototype.__destroy__=function(){var e=this.ptr;si(e)},an.prototype=Object.create(Dr.prototype),an.prototype.constructor=an,an.prototype.__class__=an,an.__cache__={},s.GeometryAttribute=an,an.prototype.__destroy__=an.prototype.__destroy__=function(){var e=this.ptr;li(e)},sn.prototype=Object.create(Dr.prototype),sn.prototype.constructor=sn,sn.prototype.__class__=sn,sn.__cache__={},s.DecoderBuffer=sn,sn.prototype.Init=sn.prototype.Init=function(e,t){var i=this.ptr;jr.prepare(),"object"==typeof e&&(e=Gr(e)),t&&"object"===typeof t&&(t=t.ptr),fi(i,e,t)},sn.prototype.__destroy__=sn.prototype.__destroy__=function(){var e=this.ptr;hi(e)},on.prototype=Object.create(Dr.prototype),on.prototype.constructor=on,on.prototype.__class__=on,on.__cache__={},s.Decoder=on,on.prototype.GetEncodedGeometryType=on.prototype.GetEncodedGeometryType=function(e){var t=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),di(t,e)},on.prototype.DecodeBufferToPointCloud=on.prototype.DecodeBufferToPointCloud=function(e,t){var i=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),Nr(pi(i,e,t),Hr)},on.prototype.DecodeBufferToMesh=on.prototype.DecodeBufferToMesh=function(e,t){var i=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),Nr(_i(i,e,t),Hr)},on.prototype.GetAttributeId=on.prototype.GetAttributeId=function(e,t){var i=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),mi(i,e,t)},on.prototype.GetAttributeIdByName=on.prototype.GetAttributeIdByName=function(e,t){var i=this.ptr;return jr.prepare(),e&&"object"===typeof e&&(e=e.ptr),t=t&&"object"===typeof t?t.ptr:Wr(t),bi(i,e,t)},on.prototype.GetAttributeIdByMetadataEntry=on.prototype.GetAttributeIdByMetadataEntry=function(e,t,i){var r=this.ptr;return jr.prepare(),e&&"object"===typeof e&&(e=e.ptr),t=t&&"object"===typeof t?t.ptr:Wr(t),i=i&&"object"===typeof i?i.ptr:Wr(i),Ai(r,e,t,i)},on.prototype.GetAttribute=on.prototype.GetAttribute=function(e,t){var i=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),Nr(vi(i,e,t),qr)},on.prototype.GetAttributeByUniqueId=on.prototype.GetAttributeByUniqueId=function(e,t){var i=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),Nr(yi(i,e,t),qr)},on.prototype.GetMetadata=on.prototype.GetMetadata=function(e){var t=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),Nr(gi(t,e),hn)},on.prototype.GetAttributeMetadata=on.prototype.GetAttributeMetadata=function(e,t){var i=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),Nr(ki(i,e,t),hn)},on.prototype.GetFaceFromMesh=on.prototype.GetFaceFromMesh=function(e,t,i){var r=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),!!xi(r,e,t,i)},on.prototype.GetTriangleStripsFromMesh=on.prototype.GetTriangleStripsFromMesh=function(e,t){var i=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),Si(i,e,t)},on.prototype.GetTrianglesUInt16Array=on.prototype.GetTrianglesUInt16Array=function(e,t,i){var r=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),!!Ti(r,e,t,i)},on.prototype.GetTrianglesUInt32Array=on.prototype.GetTrianglesUInt32Array=function(e,t,i){var r=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),!!wi(r,e,t,i)},on.prototype.GetAttributeFloat=on.prototype.GetAttributeFloat=function(e,t,i){var r=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),!!Ei(r,e,t,i)},on.prototype.GetAttributeFloatForAllPoints=on.prototype.GetAttributeFloatForAllPoints=function(e,t,i){var r=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),!!Mi(r,e,t,i)},on.prototype.GetAttributeIntForAllPoints=on.prototype.GetAttributeIntForAllPoints=function(e,t,i){var r=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),!!Pi(r,e,t,i)},on.prototype.GetAttributeInt8ForAllPoints=on.prototype.GetAttributeInt8ForAllPoints=function(e,t,i){var r=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),!!Ri(r,e,t,i)},on.prototype.GetAttributeUInt8ForAllPoints=on.prototype.GetAttributeUInt8ForAllPoints=function(e,t,i){var r=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),!!Ci(r,e,t,i)},on.prototype.GetAttributeInt16ForAllPoints=on.prototype.GetAttributeInt16ForAllPoints=function(e,t,i){var r=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),!!Oi(r,e,t,i)},on.prototype.GetAttributeUInt16ForAllPoints=on.prototype.GetAttributeUInt16ForAllPoints=function(e,t,i){var r=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),!!Ii(r,e,t,i)},on.prototype.GetAttributeInt32ForAllPoints=on.prototype.GetAttributeInt32ForAllPoints=function(e,t,i){var r=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),!!Di(r,e,t,i)},on.prototype.GetAttributeUInt32ForAllPoints=on.prototype.GetAttributeUInt32ForAllPoints=function(e,t,i){var r=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),!!Fi(r,e,t,i)},on.prototype.GetAttributeDataArrayForAllPoints=on.prototype.GetAttributeDataArrayForAllPoints=function(e,t,i,r,n){var a=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),t&&"object"===typeof t&&(t=t.ptr),i&&"object"===typeof i&&(i=i.ptr),r&&"object"===typeof r&&(r=r.ptr),n&&"object"===typeof n&&(n=n.ptr),!!Ni(a,e,t,i,r,n)},on.prototype.SkipAttributeTransform=on.prototype.SkipAttributeTransform=function(e){var t=this.ptr;e&&"object"===typeof e&&(e=e.ptr),Bi(t,e)},on.prototype.__destroy__=on.prototype.__destroy__=function(){var e=this.ptr;Li(e)},ln.prototype=Object.create(Dr.prototype),ln.prototype.constructor=ln,ln.prototype.__class__=ln,ln.__cache__={},s.Mesh=ln,ln.prototype.num_faces=ln.prototype.num_faces=function(){var e=this.ptr;return Vi(e)},ln.prototype.num_attributes=ln.prototype.num_attributes=function(){var e=this.ptr;return zi(e)},ln.prototype.num_points=ln.prototype.num_points=function(){var e=this.ptr;return ji(e)},ln.prototype.__destroy__=ln.prototype.__destroy__=function(){var e=this.ptr;Wi(e)},cn.prototype=Object.create(Dr.prototype),cn.prototype.constructor=cn,cn.prototype.__class__=cn,cn.__cache__={},s.VoidPtr=cn,cn.prototype.__destroy__=cn.prototype.__destroy__=function(){var e=this.ptr;Gi(e)},fn.prototype=Object.create(Dr.prototype),fn.prototype.constructor=fn,fn.prototype.__class__=fn,fn.__cache__={},s.DracoInt32Array=fn,fn.prototype.GetValue=fn.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"===typeof e&&(e=e.ptr),Yi(t,e)},fn.prototype.size=fn.prototype.size=function(){var e=this.ptr;return Xi(e)},fn.prototype.__destroy__=fn.prototype.__destroy__=function(){var e=this.ptr;Zi(e)},hn.prototype=Object.create(Dr.prototype),hn.prototype.constructor=hn,hn.prototype.__class__=hn,hn.__cache__={},s.Metadata=hn,hn.prototype.__destroy__=hn.prototype.__destroy__=function(){var e=this.ptr;Ji(e)},function(){function e(){s.OK=qi(),s.DRACO_ERROR=Ki(),s.IO_ERROR=$i(),s.INVALID_PARAMETER=er(),s.UNSUPPORTED_VERSION=tr(),s.UNKNOWN_VERSION=ir(),s.DT_INVALID=rr(),s.DT_INT8=nr(),s.DT_UINT8=ar(),s.DT_INT16=sr(),s.DT_UINT16=or(),s.DT_INT32=lr(),s.DT_UINT32=cr(),s.DT_INT64=fr(),s.DT_UINT64=hr(),s.DT_FLOAT32=ur(),s.DT_FLOAT64=dr(),s.DT_BOOL=pr(),s.DT_TYPES_COUNT=_r(),s.INVALID_GEOMETRY_TYPE=mr(),s.POINT_CLOUD=br(),s.TRIANGULAR_MESH=Ar(),s.ATTRIBUTE_INVALID_TRANSFORM=vr(),s.ATTRIBUTE_NO_TRANSFORM=yr(),s.ATTRIBUTE_QUANTIZATION_TRANSFORM=gr(),s.ATTRIBUTE_OCTAHEDRON_TRANSFORM=kr(),s.INVALID=xr(),s.POSITION=Sr(),s.NORMAL=Tr(),s.COLOR=wr(),s.TEX_COORD=Er(),s.GENERIC=Mr()}re?e():ce(e)}(),"function"===typeof s.onModuleParsed&&s.onModuleParsed(),t}}();e.exports=s}).call(this,"/index.js",i(54),"/",i(68).Buffer)},function(e,t,i){"use strict";e.exports=i(104)},function(e,t,i){"use strict";var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,f=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,u=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,_=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,b=r?Symbol.for("react.lazy"):60116,A=r?Symbol.for("react.block"):60121,v=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118,g=r?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case h:case u:case s:case l:case o:case p:return e;default:switch(e=e&&e.$$typeof){case f:case d:case b:case m:case c:return e;default:return t}}case a:return t}}}function x(e){return k(e)===u}t.AsyncMode=h,t.ConcurrentMode=u,t.ContextConsumer=f,t.ContextProvider=c,t.Element=n,t.ForwardRef=d,t.Fragment=s,t.Lazy=b,t.Memo=m,t.Portal=a,t.Profiler=l,t.StrictMode=o,t.Suspense=p,t.isAsyncMode=function(e){return x(e)||k(e)===h},t.isConcurrentMode=x,t.isContextConsumer=function(e){return k(e)===f},t.isContextProvider=function(e){return k(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return k(e)===d},t.isFragment=function(e){return k(e)===s},t.isLazy=function(e){return k(e)===b},t.isMemo=function(e){return k(e)===m},t.isPortal=function(e){return k(e)===a},t.isProfiler=function(e){return k(e)===l},t.isStrictMode=function(e){return k(e)===o},t.isSuspense=function(e){return k(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===u||e===l||e===o||e===p||e===_||"object"===typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===m||e.$$typeof===c||e.$$typeof===f||e.$$typeof===d||e.$$typeof===v||e.$$typeof===y||e.$$typeof===g||e.$$typeof===A)},t.typeOf=k},function(e,t,i){var r=function(e){"use strict";var t=Object.prototype,i=t.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function o(e,t,i,r){var n=t&&t.prototype instanceof f?t:f,a=Object.create(n.prototype),s=new k(r||[]);return a._invoke=function(e,t,i){var r="suspendedStart";return function(n,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw a;return S()}for(i.method=n,i.arg=a;;){var s=i.delegate;if(s){var o=v(s,i);if(o){if(o===c)continue;return o}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===r)throw r="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r="executing";var f=l(e,t,i);if("normal"===f.type){if(r=i.done?"completed":"suspendedYield",f.arg===c)continue;return{value:f.arg,done:i.done}}"throw"===f.type&&(r="completed",i.method="throw",i.arg=f.arg)}}}(e,i,s),a}function l(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(r){return{type:"throw",arg:r}}}e.wrap=o;var c={};function f(){}function h(){}function u(){}var d={};d[n]=function(){return this};var p=Object.getPrototypeOf,_=p&&p(p(x([])));_&&_!==t&&i.call(_,n)&&(d=_);var m=u.prototype=f.prototype=Object.create(d);function b(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function A(e,t){var r;this._invoke=function(n,a){function s(){return new t((function(r,s){!function r(n,a,s,o){var c=l(e[n],e,a);if("throw"!==c.type){var f=c.arg,h=f.value;return h&&"object"===typeof h&&i.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,s,o)}),(function(e){r("throw",e,s,o)})):t.resolve(h).then((function(e){f.value=e,s(f)}),(function(e){return r("throw",e,s,o)}))}o(c.arg)}(n,a,r,s)}))}return r=r?r.then(s,s):s()}}function v(e,t){var i=e.iterator[t.method];if(void 0===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,v(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function y(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function g(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(y,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=m.constructor=u,u.constructor=h,u[s]=h.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(A.prototype),A.prototype[a]=function(){return this},e.AsyncIterator=A,e.async=function(t,i,r,n,a){void 0===a&&(a=Promise);var s=new A(o(t,i,r,n),a);return e.isGeneratorFunction(i)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(m),m[s]="Generator",m[n]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var r=t.pop();if(r in e)return i.value=r,i.done=!1,i}return i.done=!0,i}},e.values=x,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(g),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(i,r){return s.type="throw",s.arg=e,t.next=i,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var o=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(o&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),g(i),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var r=i.completion;if("throw"===r.type){var n=r.arg;g(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:x(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=r}catch(n){Function("r","regeneratorRuntime = r")(r)}},function(e,t,i){var r=i(107);e.exports=function(e){function t(e){for(var t=0,i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){var i;function r(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];if(r.enabled){var s=r,o=Number(new Date),l=o-(i||o);s.diff=l,s.prev=i,s.curr=o,i=o,t[0]=n.coerce(t[0]),"string"!==typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,i){if("%%"===e)return e;c++;var r=n.formatters[i];if("function"===typeof r){var a=t[c];e=r.call(s,a),t.splice(c,1),c--}return e})),n.formatArgs.call(s,t);var f=s.log||n.log;f.apply(s,t)}}return r.namespace=e,r.enabled=n.enabled(e),r.useColors=n.useColors(),r.color=t(e),r.destroy=a,r.extend=s,"function"===typeof n.init&&n.init(r),n.instances.push(r),r}function a(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function s(e,t){var i=n(this.namespace+("undefined"===typeof t?":":t)+e);return i.log=this.log,i}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){var e=[].concat(r(n.names.map(o)),r(n.skips.map(o).map((function(e){return"-"+e})))).join(",");return n.enable(""),e},n.enable=function(e){var t;n.save(e),n.names=[],n.skips=[];var i=("string"===typeof e?e:"").split(/[\s,]+/),r=i.length;for(t=0;t<r;t++)i[t]&&("-"===(e=i[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var a=n.instances[t];a.enabled=n.enabled(a.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,i;for(t=0,i=n.skips.length;t<i;t++)if(n.skips[t].test(e))return!1;for(t=0,i=n.names.length;t<i;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=i(111),Object.keys(e).forEach((function(t){n[t]=e[t]})),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},function(e,t,i){var r=i(108),n=i(109),a=i(110);e.exports=function(e){return r(e)||n(e)||a()}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){var i=1e3,r=6e4,n=60*r,a=24*n;function s(e,t,i,r){var n=t>=1.5*i;return Math.round(e/i)+" "+r+(n?"s":"")}e.exports=function(e,t){t=t||{};var o=typeof e;if("string"===o&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*a;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===o&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=a)return s(e,t,a,"day");if(t>=n)return s(e,t,n,"hour");if(t>=r)return s(e,t,r,"minute");if(t>=i)return s(e,t,i,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=a)return Math.round(e/a)+"d";if(t>=n)return Math.round(e/n)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=i)return Math.round(e/i)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},,function(e,t,i){"use strict";var r=i(4),n=i(1),a=i(0),s=(i(3),i(5)),o=i(12),l=a.forwardRef((function(e,t){var i=e.classes,o=e.className,l=e.component,c=void 0===l?"div":l,f=e.square,h=void 0!==f&&f,u=e.elevation,d=void 0===u?1:u,p=e.variant,_=void 0===p?"elevation":p,m=Object(r.a)(e,["classes","className","component","square","elevation","variant"]);return a.createElement(c,Object(n.a)({className:Object(s.a)(i.root,o,"outlined"===_?i.outlined:i["elevation".concat(d)],!h&&i.rounded),ref:t},m))}));t.a=Object(o.a)((function(e){var t={};return e.shadows.forEach((function(e,i){t["elevation".concat(i)]={boxShadow:e}})),Object(n.a)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(l)},function(e,t,i){"use strict";var r=i(4),n=i(1),a=i(0),s=i.n(a),o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l="object"===("undefined"===typeof window?"undefined":o(window))&&"object"===("undefined"===typeof document?"undefined":o(document))&&9===document.nodeType;var c=i(47),f=i(44),h=i(48),u=i(38),d={}.constructor;function p(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(p);if(e.constructor!==d)return e;var t={};for(var i in e)t[i]=p(e[i]);return t}function _(e,t,i){void 0===e&&(e="unnamed");var r=i.jss,n=p(t),a=r.plugins.onCreateRule(e,n,i);return a||(e[0],null)}var m=function(e,t){for(var i="",r=0;r<e.length&&"!important"!==e[r];r++)i&&(i+=t),i+=e[r];return i};function b(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var i="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)i&&(i+=", "),i+=m(e[r]," ");else i=m(e,", ");return t||"!important"!==e[e.length-1]||(i+=" !important"),i}function A(e,t){for(var i="",r=0;r<t;r++)i+="  ";return i+e}function v(e,t,i){void 0===i&&(i={});var r="";if(!t)return r;var n=i.indent,a=void 0===n?0:n,s=t.fallbacks;if(e&&a++,s)if(Array.isArray(s))for(var o=0;o<s.length;o++){var l=s[o];for(var c in l){var f=l[c];null!=f&&(r&&(r+="\n"),r+=""+A(c+": "+b(f)+";",a))}}else for(var h in s){var u=s[h];null!=u&&(r&&(r+="\n"),r+=""+A(h+": "+b(u)+";",a))}for(var d in t){var p=t[d];null!=p&&"fallbacks"!==d&&(r&&(r+="\n"),r+=""+A(d+": "+b(p)+";",a))}return(r||i.allowEmpty)&&e?(r&&(r="\n"+r+"\n"),A(e+" {"+r,--a)+A("}",a)):r}var y=/([[\].#*$><+~=|^:(),"'`\s])/g,g="undefined"!==typeof CSS&&CSS.escape,k=function(e){return g?g(e):e.replace(y,"\\$1")},x=function(){function e(e,t,i){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=i.sheet,n=i.Renderer;this.key=e,this.options=i,this.style=t,r?this.renderer=r.renderer:n&&(this.renderer=new n)}return e.prototype.prop=function(e,t,i){if(void 0===t)return this.style[e];var r=!!i&&i.force;if(!r&&this.style[e]===t)return this;var n=t;i&&!1===i.process||(n=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==n||!1===n,s=e in this.style;if(a&&!s&&!r)return this;var o=a&&s;if(o?delete this.style[e]:this.style[e]=n,this.renderable&&this.renderer)return o?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,n),this;var l=this.options.sheet;return l&&l.attached,this},e}(),S=function(e){function t(t,i,r){var n;(n=e.call(this,t,i,r)||this).selectorText=void 0,n.id=void 0,n.renderable=void 0;var a=r.selector,s=r.scoped,o=r.sheet,l=r.generateId;return a?n.selectorText=a:!1!==s&&(n.id=l(Object(h.a)(Object(h.a)(n)),o),n.selectorText="."+k(n.id)),n}Object(f.a)(t,e);var i=t.prototype;return i.applyTo=function(e){var t=this.renderer;if(t){var i=this.toJSON();for(var r in i)t.setProperty(e,r,i[r])}return this},i.toJSON=function(){var e={};for(var t in this.style){var i=this.style[t];"object"!==typeof i?e[t]=i:Array.isArray(i)&&(e[t]=b(i))}return e},i.toString=function(e){var t=this.options.sheet,i=!!t&&t.options.link?Object(n.a)({},e,{allowEmpty:!0}):e;return v(this.selectorText,this.style,i)},Object(c.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,i=this.renderable;if(i&&t)t.setSelector(i,e)||t.replaceRule(i,this)}},get:function(){return this.selectorText}}]),t}(x),T={onCreateRule:function(e,t,i){return"@"===e[0]||i.parent&&"keyframes"===i.parent.type?null:new S(e,t,i)}},w={indent:1,children:!0},E=/@([\w-]+)/,M=function(){function e(e,t,i){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.query=i.name;var r=e.match(E);for(var a in this.at=r?r[1]:"unknown",this.options=i,this.rules=new q(Object(n.a)({},i,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,i){var r=this.rules.add(e,t,i);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.toString=function(e){if(void 0===e&&(e=w),null==e.indent&&(e.indent=w.indent),null==e.children&&(e.children=w.children),!1===e.children)return this.query+" {}";var t=this.rules.toString(e);return t?this.query+" {\n"+t+"\n}":""},e}(),P=/@media|@supports\s+/,R={onCreateRule:function(e,t,i){return P.test(e)?new M(e,t,i):null}},C={indent:1,children:!0},O=/@keyframes\s+([\w-]+)/,I=function(){function e(e,t,i){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var r=e.match(O);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var a=i.scoped,s=i.sheet,o=i.generateId;for(var l in this.id=!1===a?this.name:k(o(this,s)),this.rules=new q(Object(n.a)({},i,{parent:this})),t)this.rules.add(l,t[l],Object(n.a)({},i,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=C),null==e.indent&&(e.indent=C.indent),null==e.children&&(e.children=C.children),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),D=/@keyframes\s+/,F=/\$([\w-]+)/g,N=function(e,t){return"string"===typeof e?e.replace(F,(function(e,i){return i in t?t[i]:e})):e},B=function(e,t,i){var r=e[t],n=N(r,i);n!==r&&(e[t]=n)},L={onCreateRule:function(e,t,i){return"string"===typeof e&&D.test(e)?new I(e,t,i):null},onProcessStyle:function(e,t,i){return"style"===t.type&&i?("animation-name"in e&&B(e,"animation-name",i.keyframes),"animation"in e&&B(e,"animation",i.keyframes),e):e},onChangeValue:function(e,t,i){var r=i.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return N(e,r.keyframes);default:return e}}},U=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).renderable=void 0,t}return Object(f.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,i=!!t&&t.options.link?Object(n.a)({},e,{allowEmpty:!0}):e;return v(this.key,this.style,i)},t}(x),V={onCreateRule:function(e,t,i){return i.parent&&"keyframes"===i.parent.type?new U(e,t,i):null}},z=function(){function e(e,t,i){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=i}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",i=0;i<this.style.length;i++)t+=v(this.at,this.style[i]),this.style[i+1]&&(t+="\n");return t}return v(this.at,this.style,e)},e}(),j=/@font-face/,W={onCreateRule:function(e,t,i){return j.test(e)?new z(e,t,i):null}},G=function(){function e(e,t,i){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=i}return e.prototype.toString=function(e){return v(this.key,this.style,e)},e}(),H={onCreateRule:function(e,t,i){return"@viewport"===e||"@-ms-viewport"===e?new G(e,t,i):null}},Y=function(){function e(e,t,i){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=i}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",i=0;i<this.value.length;i++)t+=this.key+" "+this.value[i]+";",this.value[i+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),X={"@charset":!0,"@import":!0,"@namespace":!0},Z=[T,R,L,V,W,H,{onCreateRule:function(e,t,i){return e in X?new Y(e,t,i):null}}],Q={process:!0},J={force:!0,process:!0},q=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,i){var r=this.options,a=r.parent,s=r.sheet,o=r.jss,l=r.Renderer,c=r.generateId,f=r.scoped,h=Object(n.a)({classes:this.classes,parent:a,sheet:s,jss:o,Renderer:l,generateId:c,scoped:f,name:e},i),u=e;e in this.raw&&(u=e+"-d"+this.counter++),this.raw[u]=t,u in this.classes&&(h.selector="."+k(this.classes[u]));var d=_(u,t,h);if(!d)return null;this.register(d);var p=void 0===h.index?this.index.length:h.index;return this.index.splice(p,0,d),d},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof S?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof I&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof S?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof I&&delete this.keyframes[e.name]},t.update=function(){var e,t,i;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],i=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.map[e],t,i);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,i)},t.updateOne=function(t,i,r){void 0===r&&(r=Q);var n=this.options,a=n.jss.plugins,s=n.sheet;if(t.rules instanceof e)t.rules.update(i,r);else{var o=t,l=o.style;if(a.onUpdate(i,t,s,r),r.process&&l&&l!==o.style){for(var c in a.onProcessStyle(o.style,o,s),o.style){var f=o.style[c];f!==l[c]&&o.prop(c,f,J)}for(var h in l){var u=o.style[h],d=l[h];null==u&&u!==d&&o.prop(h,null,J)}}}},t.toString=function(e){for(var t="",i=this.options.sheet,r=!!i&&i.options.link,n=0;n<this.index.length;n++){var a=this.index[n].toString(e);(a||r)&&(t&&(t+="\n"),t+=a)}return t},e}(),K=function(){function e(e,t){for(var i in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(n.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new q(this.options),e)this.rules.add(i,e[i]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,i){var r=this.queue;this.attached&&!r&&(this.queue=[]);var n=this.rules.add(e,t,i);return n?(this.options.jss.plugins.onProcessRule(n),this.attached?this.deployed?(r?r.push(n):(this.insertRule(n),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),n):n:(this.deployed=!1,n)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var i=[];for(var r in e){var n=this.addRule(r,e[r],t);n&&i.push(n)}return i},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!!t&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,i){return this.rules.updateOne(e,t,i),this},t.toString=function(e){return this.rules.toString(e)},e}(),$=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,i){for(var r=0;r<this.registry.onCreateRule.length;r++){var n=this.registry.onCreateRule[r](e,t,i);if(n)return n}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,i=0;i<this.registry.onProcessRule.length;i++)this.registry.onProcessRule[i](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,i){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,i)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,i,r){for(var n=0;n<this.registry.onUpdate.length;n++)this.registry.onUpdate[n](e,t,i,r)},t.onChangeValue=function(e,t,i){for(var r=e,n=0;n<this.registry.onChangeValue.length;n++)r=this.registry.onChangeValue[n](r,t,i);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var i=this.plugins[t.queue];-1===i.indexOf(e)&&(i.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var i in t)i in e&&e[i].push(t[i]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),ee=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,i=e.options.index;if(-1===t.indexOf(e))if(0===t.length||i>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>i)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,i=t.attached,r=Object(u.a)(t,["attached"]),n="",a=0;a<this.registry.length;a++){var s=this.registry[a];null!=i&&s.attached!==i||(n&&(n+="\n"),n+=s.toString(r))}return n},Object(c.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),te="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),ie="2f1acc6c3a606b082e5eef5e54414ffb";null==te[ie]&&(te[ie]=0);var re=te[ie]++,ne=function(e){void 0===e&&(e={});var t=0;return function(i,r){t+=1;var n="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(n=String(r.options.jss.id))),e.minify?""+(a||"c")+re+n+t:a+i.key+"-"+re+(n?"-"+n:"")+"-"+t}},ae=function(e){var t;return function(){return t||(t=e()),t}};function se(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(i){return""}}function oe(e,t,i){try{var r=i;if(Array.isArray(i)&&(r=b(i,!0),"!important"===i[i.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(n){return!1}return!0}function le(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(i){}}function ce(e,t){return e.selectorText=t,e.selectorText===t}var fe=ae((function(){return document.querySelector("head")}));function he(e){var t=ee.registry;if(t.length>0){var i=function(e,t){for(var i=0;i<e.length;i++){var r=e[i];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(i&&i.renderer)return{parent:i.renderer.element.parentNode,node:i.renderer.element};if((i=function(e,t){for(var i=e.length-1;i>=0;i--){var r=e[i];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&i.renderer)return{parent:i.renderer.element.parentNode,node:i.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var n=function(e){for(var t=fe(),i=0;i<t.childNodes.length;i++){var r=t.childNodes[i];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(n)return{parent:n.parentNode,node:n.nextSibling}}return!1}var ue=ae((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),de=function(e,t,i){var r=e.cssRules.length;(void 0===i||i>r)&&(i=r);try{if("insertRule"in e)e.insertRule(t,i);else if("appendRule"in e){e.appendRule(t)}}catch(n){return!1}return e.cssRules[i]},pe=function(){function e(e){this.getPropertyValue=se,this.setProperty=oe,this.removeProperty=le,this.setSelector=ce,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,e&&ee.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},i=t.media,r=t.meta,n=t.element;this.element=n||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),r&&this.element.setAttribute("data-meta",r);var a=ue();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var i=t.insertionPoint,r=he(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(i&&"number"===typeof i.nodeType){var n=i,a=n.parentNode;a&&a.insertBefore(e,n.nextSibling)}else fe().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){var e=this.element.parentNode;e&&e.removeChild(this.element)},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var i=0;i<e.index.length;i++)this.insertRule(e.index[i],i,t)},t.insertRule=function(e,t,i){if(void 0===i&&(i=this.element.sheet),e.rules){var r=e,n=i;return("conditional"!==e.type&&"keyframes"!==e.type||!1!==(n=de(i,r.toString({children:!1}),t)))&&(this.insertRules(r.rules,n),n)}if(e.renderable&&e.renderable.parentStyleSheet===this.element.sheet)return e.renderable;var a=e.toString();if(!a)return!1;var s=de(i,a,t);return!1!==s&&(this.hasInsertedRules=!0,e.renderable=s,s)},t.deleteRule=function(e){var t=this.element.sheet,i=this.indexOf(e);return-1!==i&&(t.deleteRule(i),!0)},t.indexOf=function(e){for(var t=this.element.sheet.cssRules,i=0;i<t.length;i++)if(e===t[i])return i;return-1},t.replaceRule=function(e,t){var i=this.indexOf(e);return-1!==i&&(this.element.sheet.deleteRule(i),this.insertRule(t,i))},t.getRules=function(){return this.element.sheet.cssRules},e}(),_e=0,me=function(){function e(e){this.id=_e++,this.version="10.1.1",this.plugins=new $,this.options={id:{minify:!1},createGenerateId:ne,Renderer:l?pe:null,plugins:[]},this.generateId=ne({minify:!1});for(var t=0;t<Z.length;t++)this.plugins.use(Z[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(n.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var i=t.index;"number"!==typeof i&&(i=0===ee.index?0:ee.index+1);var r=new K(e,Object(n.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:i}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ee.remove(e),this},t.createRule=function(e,t,i){if(void 0===t&&(t={}),void 0===i&&(i={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=Object(n.a)({},i,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var a=_(e,t,r);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return i.forEach((function(t){e.plugins.use(t)})),this},e}();var be="undefined"!==typeof CSS&&CSS&&"number"in CSS,Ae=function(e){return new me(e)};Ae();function ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,i=e.newClasses;e.Component;if(!i)return t;var r=Object(n.a)({},t);return Object.keys(i).forEach((function(e){i[e]&&(r[e]="".concat(t[e]," ").concat(i[e]))})),r}var ye={set:function(e,t,i,r){var n=e.get(t);n||(n=new Map,e.set(t,n)),n.set(i,r)},get:function(e,t,i){var r=e.get(t);return r?r.get(i):void 0},delete:function(e,t,i){e.get(t).delete(i)}},ge=i(95),ke=(i(3),i(58)),xe=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Se=Date.now(),Te="fnValues"+Se,we="fnStyle"+ ++Se;var Ee=function(){return{onCreateRule:function(e,t,i){if("function"!==typeof t)return null;var r=_(e,{},i);return r[we]=t,r},onProcessStyle:function(e,t){if(Te in t||we in t)return e;var i={};for(var r in e){var n=e[r];"function"===typeof n&&(delete e[r],i[r]=n)}return t[Te]=i,e},onUpdate:function(e,t,i,r){var n=t,a=n[we];a&&(n.style=a(e)||{});var s=n[Te];if(s)for(var o in s)n.prop(o,s[o](e),r)}}},Me="@global",Pe=function(){function e(e,t,i){for(var r in this.type="global",this.at=Me,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=i,this.rules=new q(Object(n.a)({},i,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,i){var r=this.rules.add(e,t,i);return this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),Re=function(){function e(e,t,i){this.type="global",this.at=Me,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=i;var r=e.substr("@global ".length);this.rule=i.jss.createRule(r,t,Object(n.a)({},i,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Ce=/\s*,\s*/g;function Oe(e,t){for(var i=e.split(Ce),r="",n=0;n<i.length;n++)r+=t+" "+i[n].trim(),i[n+1]&&(r+=", ");return r}var Ie=function(){return{onCreateRule:function(e,t,i){if(!e)return null;if(e===Me)return new Pe(e,t,i);if("@"===e[0]&&"@global "===e.substr(0,"@global ".length))return new Re(e,t,i);var r=i.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(i.scoped=!1),!1===i.scoped&&(i.selector=e),null},onProcessRule:function(e){"style"===e.type&&(function(e){var t=e.options,i=e.style,r=i?i[Me]:null;if(r){for(var a in r)t.sheet.addRule(a,r[a],Object(n.a)({},t,{selector:Oe(a,e.selector)}));delete i[Me]}}(e),function(e){var t=e.options,i=e.style;for(var r in i)if("@"===r[0]&&r.substr(0,Me.length)===Me){var a=Oe(r.substr(Me.length),e.selector);t.sheet.addRule(a,i[r],Object(n.a)({},t,{selector:a})),delete i[r]}}(e))}}},De=/\s*,\s*/g,Fe=/&/g,Ne=/\$([\w-]+)/g;var Be=function(){function e(e,t){return function(i,r){var n=e.getRule(r)||t&&t.getRule(r);return n?(n=n).selector:r}}function t(e,t){for(var i=t.split(De),r=e.split(De),n="",a=0;a<i.length;a++)for(var s=i[a],o=0;o<r.length;o++){var l=r[o];n&&(n+=", "),n+=-1!==l.indexOf("&")?l.replace(Fe,s):s+" "+l}return n}function i(e,t,i){if(i)return Object(n.a)({},i,{index:i.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var a=Object(n.a)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete a.name,a}return{onProcessStyle:function(r,a,s){if("style"!==a.type)return r;var o,l,c=a,f=c.options.parent;for(var h in r){var u=-1!==h.indexOf("&"),d="@"===h[0];if(u||d){if(o=i(c,f,o),u){var p=t(h,c.selector);l||(l=e(f,s)),p=p.replace(Ne,l),f.addRule(p,r[h],Object(n.a)({},o,{selector:p}))}else d&&f.addRule(h,{},o).addRule(c.key,r[h],{selector:c.selector});delete r[h]}}return r}}},Le=/[A-Z]/g,Ue=/^ms-/,Ve={};function ze(e){return"-"+e.toLowerCase()}var je=function(e){if(Ve.hasOwnProperty(e))return Ve[e];var t=e.replace(Le,ze);return Ve[e]=Ue.test(t)?"-"+t:t};function We(e){var t={};for(var i in e){t[0===i.indexOf("--")?i:je(i)]=e[i]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(We):t.fallbacks=We(e.fallbacks)),t}var Ge=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=We(e[t]);return e}return We(e)},onChangeValue:function(e,t,i){if(0===t.indexOf("--"))return e;var r=je(t);return t===r?e:(i.prop(r,e),null)}}},He=be&&CSS?CSS.px:"px",Ye=be&&CSS?CSS.ms:"ms",Xe=be&&CSS?CSS.percent:"%";function Ze(e){var t=/(-[a-z])/g,i=function(e){return e[1].toUpperCase()},r={};for(var n in e)r[n]=e[n],r[n.replace(t,i)]=e[n];return r}var Qe=Ze({"animation-delay":Ye,"animation-duration":Ye,"background-position":He,"background-position-x":He,"background-position-y":He,"background-size":He,border:He,"border-bottom":He,"border-bottom-left-radius":He,"border-bottom-right-radius":He,"border-bottom-width":He,"border-left":He,"border-left-width":He,"border-radius":He,"border-right":He,"border-right-width":He,"border-top":He,"border-top-left-radius":He,"border-top-right-radius":He,"border-top-width":He,"border-width":He,margin:He,"margin-bottom":He,"margin-left":He,"margin-right":He,"margin-top":He,padding:He,"padding-bottom":He,"padding-left":He,"padding-right":He,"padding-top":He,"mask-position-x":He,"mask-position-y":He,"mask-size":He,height:He,width:He,"min-height":He,"max-height":He,"min-width":He,"max-width":He,bottom:He,left:He,top:He,right:He,"box-shadow":He,"text-shadow":He,"column-gap":He,"column-rule":He,"column-rule-width":He,"column-width":He,"font-size":He,"font-size-delta":He,"letter-spacing":He,"text-indent":He,"text-stroke":He,"text-stroke-width":He,"word-spacing":He,motion:He,"motion-offset":He,outline:He,"outline-offset":He,"outline-width":He,perspective:He,"perspective-origin-x":Xe,"perspective-origin-y":Xe,"transform-origin":Xe,"transform-origin-x":Xe,"transform-origin-y":Xe,"transform-origin-z":Xe,"transition-delay":Ye,"transition-duration":Ye,"vertical-align":He,"flex-basis":He,"shape-margin":He,size:He,grid:He,"grid-gap":He,"grid-row-gap":He,"grid-column-gap":He,"grid-template-rows":He,"grid-template-columns":He,"grid-auto-rows":He,"grid-auto-columns":He,"box-shadow-x":He,"box-shadow-y":He,"box-shadow-blur":He,"box-shadow-spread":He,"font-line-height":He,"text-shadow-x":He,"text-shadow-y":He,"text-shadow-blur":He});function Je(e,t,i){if(!t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=Je(e,t[r],i);else if("object"===typeof t)if("fallbacks"===e)for(var n in t)t[n]=Je(n,t[n],i);else for(var a in t)t[a]=Je(e+"-"+a,t[a],i);else if("number"===typeof t){var s=i[e]||Qe[e];return s?"function"===typeof s?s(t).toString():""+t+s:t.toString()}return t}var qe=function(e){void 0===e&&(e={});var t=Ze(e);return{onProcessStyle:function(e,i){if("style"!==i.type)return e;for(var r in e)e[r]=Je(r,e[r],t);return e},onChangeValue:function(e,i){return Je(i,e,t)}}},Ke=i(33),$e="",et="",tt="",it=l&&"ontouchstart"in document.documentElement;if(l){var rt={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},nt=document.createElement("p").style;for(var at in rt)if(at+"Transform"in nt){$e=at,et=rt[at];break}"Webkit"===$e&&"msHyphens"in nt&&($e="ms",et=rt.ms,"edge"),"Webkit"===$e&&"-apple-trailing-word"in nt&&(tt="apple")}var st=$e,ot=et,lt=tt,ct=it;var ft={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===st?"-webkit-"+e:ot+e)}},ht={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===st?ot+"print-"+e:e)}},ut=/[-\s]+(.)?/g;function dt(e,t){return t?t.toUpperCase():""}function pt(e){return e.replace(ut,dt)}function _t(e){return pt("-"+e)}var mt,bt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===st){if(pt("mask-image")in t)return e;if(st+_t("mask-image")in t)return ot+e}return e}},At={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==lt||ct?e:ot+e)}},vt={noPrefill:["transform"],supportedProperty:function(e,t,i){return"transform"===e&&(i.transform?e:ot+e)}},yt={noPrefill:["transition"],supportedProperty:function(e,t,i){return"transition"===e&&(i.transition?e:ot+e)}},gt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===st||"ms"===st?ot+e:e)}},kt={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===st||"ms"===st||"apple"===lt?ot+e:e)}},xt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===st?"WebkitColumn"+_t(e)in t&&ot+"column-"+e:"Moz"===st&&("page"+_t(e)in t&&"page-"+e))}},St={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===st)return e;var i=e.replace("-inline","");return st+_t(i)in t&&ot+i}},Tt={supportedProperty:function(e,t){return pt(e)in t&&e}},wt={supportedProperty:function(e,t){var i=_t(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:st+i in t?ot+e:"Webkit"!==st&&"Webkit"+i in t&&"-webkit-"+e}},Et={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===st?""+ot+e:e)}},Mt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===st?ot+"scroll-chaining":e)}},Pt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Rt={supportedProperty:function(e,t){var i=Pt[e];return!!i&&(st+_t(i)in t&&ot+i)}},Ct={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Ot=Object.keys(Ct),It=function(e){return ot+e},Dt=[ft,ht,bt,At,vt,yt,gt,kt,xt,St,Tt,wt,Et,Mt,Rt,{supportedProperty:function(e,t,i){var r=i.multiple;if(Ot.indexOf(e)>-1){var n=Ct[e];if(!Array.isArray(n))return st+_t(n)in t&&ot+n;if(!r)return!1;for(var a=0;a<n.length;a++)if(!(st+_t(n[0])in t))return!1;return n.map(It)}return!1}}],Ft=Dt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Nt=Dt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Object(Ke.a)(t.noPrefill)),e}),[]),Bt={};if(l){mt=document.createElement("p");var Lt=window.getComputedStyle(document.documentElement,"");for(var Ut in Lt)isNaN(Ut)||(Bt[Lt[Ut]]=Lt[Ut]);Nt.forEach((function(e){return delete Bt[e]}))}function Vt(e,t){if(void 0===t&&(t={}),!mt)return e;if(null!=Bt[e])return Bt[e];"transition"!==e&&"transform"!==e||(t[e]=e in mt.style);for(var i=0;i<Ft.length&&(Bt[e]=Ft[i](e,mt.style,t),!Bt[e]);i++);try{mt.style[e]=""}catch(r){return!1}return Bt[e]}var zt,jt={},Wt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Gt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Ht(e,t,i){if("var"===t)return"var";if("all"===t)return"all";if("all"===i)return", all";var r=t?Vt(t):", "+Vt(i);return r||(t||i)}function Yt(e,t){var i=t;if(!zt||"content"===e)return t;if("string"!==typeof i||!isNaN(parseInt(i,10)))return i;var r=e+i;if(null!=jt[r])return jt[r];try{zt.style[e]=i}catch(n){return jt[r]=!1,!1}if(Wt[e])i=i.replace(Gt,Ht);else if(""===zt.style[e]&&("-ms-flex"===(i=ot+i)&&(zt.style[e]="-ms-flexbox"),zt.style[e]=i,""===zt.style[e]))return jt[r]=!1,!1;return zt.style[e]="",jt[r]=i,jt[r]}l&&(zt=document.createElement("p"));var Xt=function(){function e(t){for(var i in t){var r=t[i];if("fallbacks"===i&&Array.isArray(r))t[i]=r.map(e);else{var n=!1,a=Vt(i);a&&a!==i&&(n=!0);var s=!1,o=Yt(a,b(r));o&&o!==r&&(s=!0),(n||s)&&(n&&delete t[i],t[a||i]=o||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(i=t.at)[1]||"ms"===st?i:"@"+ot+"keyframes"+i.substr(10)}var i},onProcessStyle:function(t,i){return"style"!==i.type?t:e(t)},onChangeValue:function(e,t){return Yt(t,b(e))||e}}};var Zt=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,i){if("style"!==i.type)return t;for(var r={},n=Object.keys(t).sort(e),a=0;a<n.length;a++)r[n[a]]=t[n[a]];return r}}};function Qt(){return{plugins:[Ee(),Ie(),Be(),Ge(),qe(),"undefined"===typeof window?null:Xt(),Zt()]}}var Jt=Ae(Qt()),qt={disableGeneration:!1,generateClassName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,i=void 0!==t&&t,r=e.productionPrefix,n=void 0===r?"jss":r,a=e.seed,s=void 0===a?"":a,o=""===s?"":"".concat(s,"-"),l=0;return function(e,t){l+=1;var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!i){if(-1!==xe.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(o).concat(r,"-").concat(e.key);return t.options.theme[ke.a]&&""===s?"".concat(a,"-").concat(l):a}return"".concat(o).concat(n).concat(l)}}(),jss:Jt,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},Kt=s.a.createContext(qt);var $t=-1e9;function ei(){return $t+=1}i(53);var ti=i(138);function ii(e){var t="function"===typeof e;return{create:function(i,r){var a;try{a=t?e(i):e}catch(l){throw l}if(!r||!i.overrides||!i.overrides[r])return a;var s=i.overrides[r],o=Object(n.a)({},a);return Object.keys(s).forEach((function(e){o[e]=Object(ti.a)(o[e],s[e])})),o},options:{}}}var ri={};function ni(e,t,i){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var n=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,n=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,n=!0),n&&(r.cacheClasses.value=ve({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:i})),r.cacheClasses.value}function ai(e,t){var i=e.state,r=e.theme,a=e.stylesOptions,s=e.stylesCreator,o=e.name;if(!a.disableGeneration){var l=ye.get(a.sheetsManager,s,r);l||(l={refs:0,staticSheet:null,dynamicStyles:null},ye.set(a.sheetsManager,s,r,l));var c=Object(n.a)({},s.options,{},a,{theme:r,flip:"boolean"===typeof a.flip?a.flip:"rtl"===r.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var f=a.sheetsRegistry;if(0===l.refs){var h;a.sheetsCache&&(h=ye.get(a.sheetsCache,s,r));var u=s.create(r,o);h||((h=a.jss.createStyleSheet(u,Object(n.a)({link:!1},c))).attach(),a.sheetsCache&&ye.set(a.sheetsCache,s,r,h)),f&&f.add(h),l.staticSheet=h,l.dynamicStyles=function e(t){var i=null;for(var r in t){var n=t[r],a=typeof n;if("function"===a)i||(i={}),i[r]=n;else if("object"===a&&null!==n&&!Array.isArray(n)){var s=e(n);s&&(i||(i={}),i[r]=s)}}return i}(u)}if(l.dynamicStyles){var d=a.jss.createStyleSheet(l.dynamicStyles,Object(n.a)({link:!0},c));d.update(t),d.attach(),i.dynamicSheet=d,i.classes=ve({baseClasses:l.staticSheet.classes,newClasses:d.classes}),f&&f.add(d)}else i.classes=l.staticSheet.classes;l.refs+=1}}function si(e,t){var i=e.state;i.dynamicSheet&&i.dynamicSheet.update(t)}function oi(e){var t=e.state,i=e.theme,r=e.stylesOptions,n=e.stylesCreator;if(!r.disableGeneration){var a=ye.get(r.sheetsManager,n,i);a.refs-=1;var s=r.sheetsRegistry;0===a.refs&&(ye.delete(r.sheetsManager,n,i),r.jss.removeStyleSheet(a.staticSheet),s&&s.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),s&&s.remove(t.dynamicSheet))}}function li(e,t){var i,r=s.a.useRef([]),n=s.a.useMemo((function(){return{}}),t);r.current!==n&&(r.current=n,i=e()),s.a.useEffect((function(){return function(){i&&i()}}),[n])}function ci(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.name,a=t.classNamePrefix,o=t.Component,l=t.defaultTheme,c=void 0===l?ri:l,f=Object(r.a)(t,["name","classNamePrefix","Component","defaultTheme"]),h=ii(e),u=i||a||"makeStyles";return h.options={index:ei(),name:i,meta:u,classNamePrefix:u},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(ge.a)()||c,r=Object(n.a)({},s.a.useContext(Kt),{},f),a=s.a.useRef(),l=s.a.useRef();return li((function(){var n={name:i,state:{},stylesCreator:h,stylesOptions:r,theme:t};return ai(n,e),l.current=!1,a.current=n,function(){oi(n)}}),[t,h]),s.a.useEffect((function(){l.current&&si(a.current,e),l.current=!0})),ni(a.current,e.classes,o)}}i.d(t,"a",(function(){return ci}))},function(e,t,i){"use strict";var r=i(1),n=i(4),a=i(0),s=i.n(a),o=(i(3),i(19)),l=i(5),c=i(20),f=i(35),h=i(12),u="undefined"!==typeof window?a.useLayoutEffect:a.useEffect;var d=function(e){var t=e.children,i=e.defer,r=void 0!==i&&i,n=e.fallback,s=void 0===n?null:n,o=a.useState(!1),l=o[0],c=o[1];return u((function(){r||c(!0)}),[r]),a.useEffect((function(){r&&c(!0)}),[r]),a.createElement(a.Fragment,null,l?t:s)},p=!0,_=!1,m=null,b={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function A(e){e.metaKey||e.altKey||e.ctrlKey||(p=!0)}function v(){p=!1}function y(){"hidden"===this.visibilityState&&_&&(p=!0)}function g(e){var t=e.target;try{return t.matches(":focus-visible")}catch(i){}return p||function(e){var t=e.type,i=e.tagName;return!("INPUT"!==i||!b[t]||e.readOnly)||("TEXTAREA"===i&&!e.readOnly||!!e.isContentEditable)}(t)}function k(){_=!0,window.clearTimeout(m),m=window.setTimeout((function(){_=!1}),100)}function x(){return{isFocusVisible:g,onBlurVisible:k,ref:a.useCallback((function(e){var t,i=o.findDOMNode(e);null!=i&&((t=i.ownerDocument).addEventListener("keydown",A,!0),t.addEventListener("mousedown",v,!0),t.addEventListener("pointerdown",v,!0),t.addEventListener("touchstart",v,!0),t.addEventListener("visibilitychange",y,!0))}),[])}}var S=i(33),T=i(38),w=i(44),E=i(48),M=i(45);function P(e,t){var i=Object.create(null);return e&&a.Children.map(e,(function(e){return e})).forEach((function(e){i[e.key]=function(e){return t&&Object(a.isValidElement)(e)?t(e):e}(e)})),i}function R(e,t,i){return null!=i[t]?i[t]:e.props[t]}function C(e,t,i){var r=P(e.children),n=function(e,t){function i(i){return i in t?t[i]:e[i]}e=e||{},t=t||{};var r,n=Object.create(null),a=[];for(var s in e)s in t?a.length&&(n[s]=a,a=[]):a.push(s);var o={};for(var l in t){if(n[l])for(r=0;r<n[l].length;r++){var c=n[l][r];o[n[l][r]]=i(c)}o[l]=i(l)}for(r=0;r<a.length;r++)o[a[r]]=i(a[r]);return o}(t,r);return Object.keys(n).forEach((function(s){var o=n[s];if(Object(a.isValidElement)(o)){var l=s in t,c=s in r,f=t[s],h=Object(a.isValidElement)(f)&&!f.props.in;!c||l&&!h?c||!l||h?c&&l&&Object(a.isValidElement)(f)&&(n[s]=Object(a.cloneElement)(o,{onExited:i.bind(null,o),in:f.props.in,exit:R(o,"exit",e),enter:R(o,"enter",e)})):n[s]=Object(a.cloneElement)(o,{in:!1}):n[s]=Object(a.cloneElement)(o,{onExited:i.bind(null,o),in:!0,exit:R(o,"exit",e),enter:R(o,"enter",e)})}})),n}var O=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},I=function(e){function t(t,i){var r,n=(r=e.call(this,t,i)||this).handleExited.bind(Object(E.a)(Object(E.a)(r)));return r.state={contextValue:{isMounting:!0},handleExited:n,firstRender:!0},r}Object(w.a)(t,e);var i=t.prototype;return i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},i.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var i,r,n=t.children,s=t.handleExited;return{children:t.firstRender?(i=e,r=s,P(i.children,(function(e){return Object(a.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:R(e,"appear",i),enter:R(e,"enter",i),exit:R(e,"exit",i)})}))):C(e,n,s),firstRender:!1}},i.handleExited=function(e,t){var i=P(this.props.children);e.key in i||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var i=Object(r.a)({},t.children);return delete i[e.key],{children:i}})))},i.render=function(){var e=this.props,t=e.component,i=e.childFactory,r=Object(T.a)(e,["component","childFactory"]),n=this.state.contextValue,a=O(this.state.children).map(i);return delete r.appear,delete r.enter,delete r.exit,null===t?s.a.createElement(M.a.Provider,{value:n},a):s.a.createElement(M.a.Provider,{value:n},s.a.createElement(t,r,a))},t}(s.a.Component);I.propTypes={},I.defaultProps={component:"div",childFactory:function(e){return e}};var D=I,F="undefined"===typeof window?a.useEffect:a.useLayoutEffect;var N=function(e){var t=e.classes,i=e.pulsate,r=void 0!==i&&i,n=e.rippleX,s=e.rippleY,o=e.rippleSize,c=e.in,h=e.onExited,u=void 0===h?function(){}:h,d=e.timeout,p=a.useState(!1),_=p[0],m=p[1],b=Object(l.a)(t.ripple,t.rippleVisible,r&&t.ripplePulsate),A={width:o,height:o,top:-o/2+s,left:-o/2+n},v=Object(l.a)(t.child,_&&t.childLeaving,r&&t.childPulsate),y=Object(f.a)(u);return F((function(){if(!c){m(!0);var e=setTimeout(y,d);return function(){clearTimeout(e)}}}),[y,c,d]),a.createElement("span",{className:b,style:A},a.createElement("span",{className:v}))},B=a.forwardRef((function(e,t){var i=e.center,s=void 0!==i&&i,o=e.classes,c=e.className,f=Object(n.a)(e,["center","classes","className"]),h=a.useState([]),u=h[0],d=h[1],p=a.useRef(0),_=a.useRef(null);a.useEffect((function(){_.current&&(_.current(),_.current=null)}),[u]);var m=a.useRef(!1),b=a.useRef(null),A=a.useRef(null),v=a.useRef(null);a.useEffect((function(){return function(){clearTimeout(b.current)}}),[]);var y=a.useCallback((function(e){var t=e.pulsate,i=e.rippleX,r=e.rippleY,n=e.rippleSize,s=e.cb;d((function(e){return[].concat(Object(S.a)(e),[a.createElement(N,{key:p.current,classes:o,timeout:550,pulsate:t,rippleX:i,rippleY:r,rippleSize:n})])})),p.current+=1,_.current=s}),[o]),g=a.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,r=t.pulsate,n=void 0!==r&&r,a=t.center,o=void 0===a?s||t.pulsate:a,l=t.fakeElement,c=void 0!==l&&l;if("mousedown"===e.type&&m.current)m.current=!1;else{"touchstart"===e.type&&(m.current=!0);var f,h,u,d=c?null:v.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(o||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)f=Math.round(p.width/2),h=Math.round(p.height/2);else{var _=e.clientX?e.clientX:e.touches[0].clientX,g=e.clientY?e.clientY:e.touches[0].clientY;f=Math.round(_-p.left),h=Math.round(g-p.top)}if(o)(u=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(u+=1);else{var k=2*Math.max(Math.abs((d?d.clientWidth:0)-f),f)+2,x=2*Math.max(Math.abs((d?d.clientHeight:0)-h),h)+2;u=Math.sqrt(Math.pow(k,2)+Math.pow(x,2))}e.touches?null===A.current&&(A.current=function(){y({pulsate:n,rippleX:f,rippleY:h,rippleSize:u,cb:i})},b.current=setTimeout((function(){A.current&&(A.current(),A.current=null)}),80)):y({pulsate:n,rippleX:f,rippleY:h,rippleSize:u,cb:i})}}),[s,y]),k=a.useCallback((function(){g({},{pulsate:!0})}),[g]),x=a.useCallback((function(e,t){if(clearTimeout(b.current),"touchend"===e.type&&A.current)return e.persist(),A.current(),A.current=null,void(b.current=setTimeout((function(){x(e,t)})));A.current=null,d((function(e){return e.length>0?e.slice(1):e})),_.current=t}),[]);return a.useImperativeHandle(t,(function(){return{pulsate:k,start:g,stop:x}}),[k,g,x]),a.createElement("span",Object(r.a)({className:Object(l.a)(o.root,c),ref:v},f),a.createElement(D,{component:null,exit:!0},u))})),L=Object(h.a)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(a.memo(B)),U=a.forwardRef((function(e,t){var i=e.action,s=e.buttonRef,h=e.centerRipple,u=void 0!==h&&h,p=e.children,_=e.classes,m=e.className,b=e.component,A=void 0===b?"button":b,v=e.disabled,y=void 0!==v&&v,g=e.disableRipple,k=void 0!==g&&g,S=e.disableTouchRipple,T=void 0!==S&&S,w=e.focusRipple,E=void 0!==w&&w,M=e.focusVisibleClassName,P=e.onBlur,R=e.onClick,C=e.onFocus,O=e.onFocusVisible,I=e.onKeyDown,D=e.onKeyUp,F=e.onMouseDown,N=e.onMouseLeave,B=e.onMouseUp,U=e.onTouchEnd,V=e.onTouchMove,z=e.onTouchStart,j=e.onDragLeave,W=e.tabIndex,G=void 0===W?0:W,H=e.TouchRippleProps,Y=e.type,X=void 0===Y?"button":Y,Z=Object(n.a)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),Q=a.useRef(null);var J=a.useRef(null),q=a.useState(!1),K=q[0],$=q[1];y&&K&&$(!1);var ee=x(),te=ee.isFocusVisible,ie=ee.onBlurVisible,re=ee.ref;function ne(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;return Object(f.a)((function(r){return t&&t(r),!i&&J.current&&J.current[e](r),!0}))}a.useImperativeHandle(i,(function(){return{focusVisible:function(){$(!0),Q.current.focus()}}}),[]),a.useEffect((function(){K&&E&&!k&&J.current.pulsate()}),[k,E,K]);var ae=ne("start",F),se=ne("stop",j),oe=ne("stop",B),le=ne("stop",(function(e){K&&e.preventDefault(),N&&N(e)})),ce=ne("start",z),fe=ne("stop",U),he=ne("stop",V),ue=ne("stop",(function(e){K&&(ie(e),$(!1)),P&&P(e)}),!1),de=Object(f.a)((function(e){y||(Q.current||(Q.current=e.currentTarget),te(e)&&($(!0),O&&O(e)),C&&C(e))})),pe=function(){var e=o.findDOMNode(Q.current);return A&&"button"!==A&&!("A"===e.tagName&&e.href)},_e=a.useRef(!1),me=Object(f.a)((function(e){E&&!_e.current&&K&&J.current&&" "===e.key&&(_e.current=!0,e.persist(),J.current.stop(e,(function(){J.current.start(e)}))),e.target===e.currentTarget&&pe()&&" "===e.key&&e.preventDefault(),I&&I(e),e.target===e.currentTarget&&pe()&&"Enter"===e.key&&(e.preventDefault(),R&&R(e))})),be=Object(f.a)((function(e){E&&" "===e.key&&J.current&&K&&!e.defaultPrevented&&(_e.current=!1,e.persist(),J.current.stop(e,(function(){J.current.pulsate(e)}))),D&&D(e),R&&e.target===e.currentTarget&&pe()&&" "===e.key&&!e.defaultPrevented&&R(e)})),Ae=A;"button"===Ae&&Z.href&&(Ae="a");var ve={};"button"===Ae?(ve.type=X,ve.disabled=y):("a"===Ae&&Z.href||(ve.role="button"),ve["aria-disabled"]=y);var ye=Object(c.a)(s,t),ge=Object(c.a)(re,Q),ke=Object(c.a)(ye,ge);return a.createElement(Ae,Object(r.a)({className:Object(l.a)(_.root,m,K&&[_.focusVisible,M],y&&_.disabled),onBlur:ue,onClick:R,onFocus:de,onKeyDown:me,onKeyUp:be,onMouseDown:ae,onMouseLeave:le,onMouseUp:oe,onDragLeave:se,onTouchEnd:fe,onTouchMove:he,onTouchStart:ce,ref:ke,tabIndex:y?-1:G},ve,Z),p,a.createElement(d,null,k||y?null:a.createElement(L,Object(r.a)({ref:J,center:u},H))))}));t.a=Object(h.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(U)},,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";var r=i(1),n=i(114),a=i(46);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n.a)(e,Object(r.a)({defaultTheme:a.a},t))}},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var r=i(1),n=i(53);function a(e){return e&&"object"===Object(n.a)(e)&&e.constructor===Object}function s(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},n=i.clone?Object(r.a)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(a(t[r])&&r in e?n[r]=s(e[r],t[r],i):n[r]=t[r])})),n}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(0),n=i(60);function a(){return r.useContext(n.a)}},function(e,t,i){"use strict";var r=i(1),n=i(4),a=i(0),s=(i(3),i(5)),o=i(12),l=i(21),c={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},f=a.forwardRef((function(e,t){var i=e.align,o=void 0===i?"inherit":i,f=e.classes,h=e.className,u=e.color,d=void 0===u?"initial":u,p=e.component,_=e.display,m=void 0===_?"initial":_,b=e.gutterBottom,A=void 0!==b&&b,v=e.noWrap,y=void 0!==v&&v,g=e.paragraph,k=void 0!==g&&g,x=e.variant,S=void 0===x?"body1":x,T=e.variantMapping,w=void 0===T?c:T,E=Object(n.a)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),M=p||(k?"p":w[S]||c[S])||"span";return a.createElement(M,Object(r.a)({className:Object(s.a)(f.root,h,"inherit"!==S&&f[S],"initial"!==d&&f["color".concat(Object(l.a)(d))],y&&f.noWrap,A&&f.gutterBottom,k&&f.paragraph,"inherit"!==o&&f["align".concat(Object(l.a)(o))],"initial"!==m&&f["display".concat(Object(l.a)(m))]),ref:t},E))}));t.a=Object(o.a)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(f)},function(e,t,i){"use strict";function r(e){var t=e.theme,i=e.name,r=e.props;if(!t||!t.props||!t.props[i])return r;var n,a=t.props[i];for(n in a)void 0===r[n]&&(r[n]=a[n]);return r}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";var r=i(1),n=i(4),a=i(0),s=(i(3),i(5)),o=i(12),l=i(34),c=a.forwardRef((function(e,t){var i=e.absolute,o=void 0!==i&&i,l=e.classes,c=e.className,f=e.component,h=void 0===f?"hr":f,u=e.flexItem,d=void 0!==u&&u,p=e.light,_=void 0!==p&&p,m=e.orientation,b=void 0===m?"horizontal":m,A=e.role,v=void 0===A?"hr"!==h?"separator":void 0:A,y=e.variant,g=void 0===y?"fullWidth":y,k=Object(n.a)(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return a.createElement(h,Object(r.a)({className:Object(s.a)(l.root,c,"fullWidth"!==g&&l[g],o&&l.absolute,d&&l.flexItem,_&&l.light,"vertical"===b&&l.vertical),role:v,ref:t},k))}));t.a=Object(o.a)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:Object(l.b)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(c)},function(e,t,i){"use strict";var r=i(1),n=i(4),a=i(0),s=(i(3),i(5)),o=i(12),l=i(34),c=i(115),f=i(21),h=a.forwardRef((function(e,t){var i=e.edge,o=void 0!==i&&i,l=e.children,h=e.classes,u=e.className,d=e.color,p=void 0===d?"default":d,_=e.disabled,m=void 0!==_&&_,b=e.disableFocusRipple,A=void 0!==b&&b,v=e.size,y=void 0===v?"medium":v,g=Object(n.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return a.createElement(c.a,Object(r.a)({className:Object(s.a)(h.root,u,"default"!==p&&h["color".concat(Object(f.a)(p))],m&&h.disabled,"small"===y&&h["size".concat(Object(f.a)(y))],{start:h.edgeStart,end:h.edgeEnd}[o]),centerRipple:!0,focusRipple:!A,disabled:m,ref:t},g),a.createElement("span",{className:h.label},l))}));t.a=Object(o.a)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(l.b)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(l.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(l.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(h)},function(e,t,i){"use strict";var r=i(1),n=i(4),a=i(0),s=(i(3),i(5)),o=i(12),l=a.forwardRef((function(e,t){var i=e.classes,o=e.className,l=e.row,c=void 0!==l&&l,f=Object(n.a)(e,["classes","className","row"]);return a.createElement("div",Object(r.a)({className:Object(s.a)(i.root,o,c&&i.row),ref:t},f))}));t.a=Object(o.a)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},{name:"MuiFormGroup"})(l)},function(e,t,i){"use strict";var r=i(1),n=i(4),a=i(0),s=(i(3),i(5)),o=i(12),l=i(21);function c(e){var t,i,r;return t=e,i=0,r=1,e=(Math.min(Math.max(i,t),r)-i)/(r-i),e=(e-=1)*e*e+1}var f=a.forwardRef((function(e,t){var i,o=e.classes,f=e.className,h=e.color,u=void 0===h?"primary":h,d=e.disableShrink,p=void 0!==d&&d,_=e.size,m=void 0===_?40:_,b=e.style,A=e.thickness,v=void 0===A?3.6:A,y=e.value,g=void 0===y?0:y,k=e.variant,x=void 0===k?"indeterminate":k,S=Object(n.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),T={},w={},E={};if("determinate"===x||"static"===x){var M=2*Math.PI*((44-v)/2);T.strokeDasharray=M.toFixed(3),E["aria-valuenow"]=Math.round(g),"static"===x?(T.strokeDashoffset="".concat(((100-g)/100*M).toFixed(3),"px"),w.transform="rotate(-90deg)"):(T.strokeDashoffset="".concat((i=(100-g)/100,i*i*M).toFixed(3),"px"),w.transform="rotate(".concat((270*c(g/70)).toFixed(3),"deg)"))}return a.createElement("div",Object(r.a)({className:Object(s.a)(o.root,f,"inherit"!==u&&o["color".concat(Object(l.a)(u))],{indeterminate:o.indeterminate,static:o.static}[x]),style:Object(r.a)({width:m,height:m},w,{},b),ref:t,role:"progressbar"},E,S),a.createElement("svg",{className:o.svg,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44)},a.createElement("circle",{className:Object(s.a)(o.circle,p&&o.circleDisableShrink,{indeterminate:o.circleIndeterminate,static:o.circleStatic}[x]),style:T,cx:44,cy:44,r:(44-v)/2,fill:"none",strokeWidth:v})))}));t.a=Object(o.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes circular-rotate":{"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(f)},function(e,t,i){"use strict";var r=i(1),n=i(4),a=i(0),s=(i(3),i(5)),o=i(113),l=i(12),c=a.forwardRef((function(e,t){var i=e.classes,l=e.className,c=e.raised,f=void 0!==c&&c,h=Object(n.a)(e,["classes","className","raised"]);return a.createElement(o.a,Object(r.a)({className:Object(s.a)(i.root,l),elevation:f?8:1,ref:t},h))}));t.a=Object(l.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(c)},function(e,t,i){"use strict";var r=i(1),n=i(0),a=(i(3),i(12)),s={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},o=function(e){return Object(r.a)({color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};t.a=Object(a.a)((function(e){return{"@global":{html:s,"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:Object(r.a)({margin:0},o(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})}}}),{name:"MuiCssBaseline"})((function(e){var t=e.children,i=void 0===t?null:t;return e.classes,n.createElement(n.Fragment,null,i)}))},function(e,t,i){"use strict";var r=i(1),n=i(0),a=i.n(n),s=(i(3),i(57)),o=i(95),l=i(58);t.a=function(e){var t=e.children,i=e.theme,n=Object(o.a)(),c=a.a.useMemo((function(){var e=null===n?i:function(e,t){return"function"===typeof t?t(e):Object(r.a)({},e,{},t)}(n,i);return null!=e&&(e[l.a]=null!==n),e}),[i,n]);return a.a.createElement(s.a.Provider,{value:c},t)}},function(e,t,i){"use strict";var r=i(1),n=i(4),a=i(0),s=(i(3),i(5)),o=i(19),l=i(95),c=i(141);function f(e){return e&&e.ownerDocument||document}var h=i(49),u=i(20);var d="undefined"!==typeof window?a.useLayoutEffect:a.useEffect;var p=a.forwardRef((function(e,t){var i=e.children,r=e.container,n=e.disablePortal,s=void 0!==n&&n,l=e.onRendered,c=a.useState(null),f=c[0],p=c[1],_=Object(u.a)(a.isValidElement(i)?i.ref:null,t);return d((function(){s||p(function(e){return e="function"===typeof e?e():e,o.findDOMNode(e)}(r)||document.body)}),[r,s]),d((function(){if(f&&!s)return Object(h.a)(t,f),function(){Object(h.a)(t,null)}}),[t,f,s]),d((function(){l&&(f||s)&&l()}),[l,f,s]),s?a.isValidElement(i)?a.cloneElement(i,{ref:_}):i:f?o.createPortal(i,f):f}));function _(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce((function(e,t){return null==t?e:function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var m=i(35),b=i(59);var A=i(47),v=i(33);function y(e){var t,i=f(e);return i.body===e?(t=i,f(t).defaultView||window).innerWidth>i.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function g(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function k(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function x(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],n=arguments.length>4?arguments[4]:void 0,a=[t,i].concat(Object(v.a)(r)),s=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===s.indexOf(e.tagName)&&g(e,n)}))}function S(e,t){var i=-1;return e.some((function(e,r){return!!t(e)&&(i=r,!0)})),i}function T(e,t){var i,r=[],n=[],a=e.container;if(!t.disableScrollLock){if(y(a)){var s=function(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}();r.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(k(a)+s,"px"),i=f(a).querySelectorAll(".mui-fixed"),[].forEach.call(i,(function(e){n.push(e.style.paddingRight),e.style.paddingRight="".concat(k(e)+s,"px")}))}var o=a.parentElement,l="HTML"===o.nodeName&&"scroll"===window.getComputedStyle(o)["overflow-y"]?o:a;r.push({value:l.style.overflow,key:"overflow",el:l}),l.style.overflow="hidden"}return function(){i&&[].forEach.call(i,(function(e,t){n[t]?e.style.paddingRight=n[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,i=e.el,r=e.key;t?i.style.setProperty(r,t):i.style.removeProperty(r)}))}}var w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modals=[],this.containers=[]}return Object(A.a)(e,[{key:"add",value:function(e,t){var i=this.modals.indexOf(e);if(-1!==i)return i;i=this.modals.length,this.modals.push(e),e.modalRef&&g(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);x(t,e.mountNode,e.modalRef,r,!0);var n=S(this.containers,(function(e){return e.container===t}));return-1!==n?(this.containers[n].modals.push(e),i):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),i)}},{key:"mount",value:function(e,t){var i=S(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[i];r.restore||(r.restore=T(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var i=S(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[i];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&g(e.modalRef,!0),x(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(i,1);else{var n=r.modals[r.modals.length-1];n.modalRef&&g(n.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var E=function(e){var t=e.children,i=e.disableAutoFocus,r=void 0!==i&&i,n=e.disableEnforceFocus,s=void 0!==n&&n,l=e.disableRestoreFocus,c=void 0!==l&&l,h=e.getDoc,d=e.isEnabled,p=e.open,_=a.useRef(),m=a.useRef(null),b=a.useRef(null),A=a.useRef(),v=a.useRef(null),y=a.useCallback((function(e){v.current=o.findDOMNode(e)}),[]),g=Object(u.a)(t.ref,y);return a.useMemo((function(){p&&"undefined"!==typeof window&&(A.current=h().activeElement)}),[p]),a.useEffect((function(){if(p){var e=f(v.current);r||!v.current||v.current.contains(e.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex",-1),v.current.focus());var t=function(){s||!d()||_.current?_.current=!1:v.current&&!v.current.contains(e.activeElement)&&v.current.focus()},i=function(t){!s&&d()&&9===t.keyCode&&e.activeElement===v.current&&(_.current=!0,t.shiftKey?b.current.focus():m.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",i,!0);var n=setInterval((function(){t()}),50);return function(){clearInterval(n),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",i,!0),c||(A.current&&A.current.focus&&A.current.focus(),A.current=null)}}}),[r,s,c,d,p]),a.createElement(a.Fragment,null,a.createElement("div",{tabIndex:0,ref:m,"data-test":"sentinelStart"}),a.cloneElement(t,{ref:g}),a.createElement("div",{tabIndex:0,ref:b,"data-test":"sentinelEnd"}))},M={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},P=a.forwardRef((function(e,t){var i=e.invisible,s=void 0!==i&&i,o=e.open,l=Object(n.a)(e,["invisible","open"]);return o?a.createElement("div",Object(r.a)({"aria-hidden":!0,ref:t},l,{style:Object(r.a)({},M.root,{},s?M.invisible:{},{},l.style)})):null}));var R=new w,C=a.forwardRef((function(e,t){var i=Object(l.a)(),s=Object(c.a)({name:"MuiModal",props:Object(r.a)({},e),theme:i}),h=s.BackdropComponent,d=void 0===h?P:h,A=s.BackdropProps,v=s.children,y=s.closeAfterTransition,k=void 0!==y&&y,x=s.container,S=s.disableAutoFocus,T=void 0!==S&&S,w=s.disableBackdropClick,M=void 0!==w&&w,C=s.disableEnforceFocus,O=void 0!==C&&C,I=s.disableEscapeKeyDown,D=void 0!==I&&I,F=s.disablePortal,N=void 0!==F&&F,B=s.disableRestoreFocus,L=void 0!==B&&B,U=s.disableScrollLock,V=void 0!==U&&U,z=s.hideBackdrop,j=void 0!==z&&z,W=s.keepMounted,G=void 0!==W&&W,H=s.manager,Y=void 0===H?R:H,X=s.onBackdropClick,Z=s.onClose,Q=s.onEscapeKeyDown,J=s.onRendered,q=s.open,K=Object(n.a)(s,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),$=a.useState(!0),ee=$[0],te=$[1],ie=a.useRef({}),re=a.useRef(null),ne=a.useRef(null),ae=Object(u.a)(ne,t),se=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(s),oe=function(){return f(re.current)},le=function(){return ie.current.modalRef=ne.current,ie.current.mountNode=re.current,ie.current},ce=function(){Y.mount(le(),{disableScrollLock:V}),ne.current.scrollTop=0},fe=Object(m.a)((function(){var e=function(e){return e="function"===typeof e?e():e,o.findDOMNode(e)}(x)||oe().body;Y.add(le(),e),ne.current&&ce()})),he=a.useCallback((function(){return Y.isTopModal(le())}),[Y]),ue=Object(m.a)((function(e){re.current=e,e&&(J&&J(),q&&he()?ce():g(ne.current,!0))})),de=a.useCallback((function(){Y.remove(le())}),[Y]);if(a.useEffect((function(){return function(){de()}}),[de]),a.useEffect((function(){q?fe():se&&k||de()}),[q,de,se,k,fe]),!G&&!q&&(!se||ee))return null;var pe=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(i||{zIndex:b.a}),_e={};return void 0===v.props.tabIndex&&(_e.tabIndex=v.props.tabIndex||"-1"),se&&(_e.onEnter=_((function(){te(!1)}),v.props.onEnter),_e.onExited=_((function(){te(!0),k&&de()}),v.props.onExited)),a.createElement(p,{ref:ue,container:x,disablePortal:N},a.createElement("div",Object(r.a)({ref:ae,onKeyDown:function(e){"Escape"===e.key&&he()&&(e.stopPropagation(),Q&&Q(e),!D&&Z&&Z(e,"escapeKeyDown"))},role:"presentation"},K,{style:Object(r.a)({},pe.root,{},!q&&ee?pe.hidden:{},{},K.style)}),j?null:a.createElement(d,Object(r.a)({open:q,onClick:function(e){e.target===e.currentTarget&&(X&&X(e),!M&&Z&&Z(e,"backdropClick"))}},A)),a.createElement(E,{disableEnforceFocus:O,disableAutoFocus:T,disableRestoreFocus:L,getDoc:oe,isEnabled:he,open:q},a.cloneElement(v,_e))))})),O=i(151),I=i(12);var D=i(153),F=i(27),N=i(29),B=i(42);function L(e,t){var i=function(e,t){var i,r=t.getBoundingClientRect();if(t.fakeTransform)i=t.fakeTransform;else{var n=window.getComputedStyle(t);i=n.getPropertyValue("-webkit-transform")||n.getPropertyValue("transform")}var a=0,s=0;if(i&&"none"!==i&&"string"===typeof i){var o=i.split("(")[1].split(")")[0].split(",");a=parseInt(o[4],10),s=parseInt(o[5],10)}return"left"===e?"translateX(".concat(window.innerWidth,"px) translateX(-").concat(r.left-a,"px)"):"right"===e?"translateX(-".concat(r.left+r.width-a,"px)"):"up"===e?"translateY(".concat(window.innerHeight,"px) translateY(-").concat(r.top-s,"px)"):"translateY(-".concat(r.top+r.height-s,"px)")}(e,t);i&&(t.style.webkitTransform=i,t.style.transform=i)}var U={enter:N.b.enteringScreen,exit:N.b.leavingScreen},V=a.forwardRef((function(e,t){var i=e.children,s=e.direction,l=void 0===s?"down":s,c=e.in,f=e.onEnter,h=e.onEntering,d=e.onExit,p=e.onExited,_=e.style,m=e.timeout,b=void 0===m?U:m,A=Object(n.a)(e,["children","direction","in","onEnter","onEntering","onExit","onExited","style","timeout"]),v=Object(F.a)(),y=a.useRef(null),g=a.useCallback((function(e){y.current=o.findDOMNode(e)}),[]),k=Object(u.a)(i.ref,g),x=Object(u.a)(k,t),S=a.useCallback((function(){y.current&&L(l,y.current)}),[l]);return a.useEffect((function(){if(!c&&"down"!==l&&"right"!==l){var e=function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=this,o=function(){e.apply(s,n)};clearTimeout(t),t=setTimeout(o,i)}return r.clear=function(){clearTimeout(t)},r}((function(){y.current&&L(l,y.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[l,c]),a.useEffect((function(){c||S()}),[c,S]),a.createElement(D.a,Object(r.a)({onEnter:function(e,t){var i=y.current;L(l,i),Object(B.b)(i),f&&f(i,t)},onEntering:function(e,t){var i=y.current,n=Object(B.a)({timeout:b,style:_},{mode:"enter"});i.style.webkitTransition=v.transitions.create("-webkit-transform",Object(r.a)({},n,{easing:v.transitions.easing.easeOut})),i.style.transition=v.transitions.create("transform",Object(r.a)({},n,{easing:v.transitions.easing.easeOut})),i.style.webkitTransform="none",i.style.transform="none",h&&h(i,t)},onExit:function(){var e=y.current,t=Object(B.a)({timeout:b,style:_},{mode:"exit"});e.style.webkitTransition=v.transitions.create("-webkit-transform",Object(r.a)({},t,{easing:v.transitions.easing.sharp})),e.style.transition=v.transitions.create("transform",Object(r.a)({},t,{easing:v.transitions.easing.sharp})),L(l,e),d&&d(e)},onExited:function(){var e=y.current;e.style.webkitTransition="",e.style.transition="",p&&p(e)},appear:!0,in:c,timeout:b},A),(function(e,t){return a.cloneElement(i,Object(r.a)({ref:x,style:Object(r.a)({visibility:"exited"!==e||c?void 0:"hidden"},_,{},i.props.style)},t))}))})),z=i(113),j=i(21),W={left:"right",right:"left",top:"down",bottom:"up"};var G={enter:N.b.enteringScreen,exit:N.b.leavingScreen},H=a.forwardRef((function(e,t){var i=e.anchor,o=void 0===i?"left":i,l=e.BackdropProps,c=e.children,f=e.classes,h=e.className,u=e.elevation,d=void 0===u?16:u,p=e.ModalProps,_=(p=void 0===p?{}:p).BackdropProps,m=Object(n.a)(p,["BackdropProps"]),b=e.onClose,A=e.open,v=void 0!==A&&A,y=e.PaperProps,g=void 0===y?{}:y,k=e.SlideProps,x=e.transitionDuration,S=void 0===x?G:x,T=e.variant,w=void 0===T?"temporary":T,E=Object(n.a)(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","transitionDuration","variant"]),M=Object(F.a)(),P=a.useRef(!1);a.useEffect((function(){P.current=!0}),[]);var R=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?W[t]:t}(M,o),I=a.createElement(z.a,Object(r.a)({elevation:"temporary"===w?d:0,square:!0},g,{className:Object(s.a)(f.paper,f["paperAnchor".concat(Object(j.a)(R))],g.className,"temporary"!==w&&f["paperAnchorDocked".concat(Object(j.a)(R))])}),c);if("permanent"===w)return a.createElement("div",Object(r.a)({className:Object(s.a)(f.root,f.docked,h),ref:t},E),I);var D=a.createElement(V,Object(r.a)({in:v,direction:W[R],timeout:S,appear:P.current},k),I);return"persistent"===w?a.createElement("div",Object(r.a)({className:Object(s.a)(f.root,f.docked,h),ref:t},E),D):a.createElement(C,Object(r.a)({BackdropProps:Object(r.a)({},l,{},_,{transitionDuration:S}),BackdropComponent:O.a,className:Object(s.a)(f.root,f.modal,h),open:v,onClose:b,ref:t},E,m),D)}));t.a=Object(I.a)((function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}}),{name:"MuiDrawer",flip:!1})(H)},function(e,t,i){"use strict";var r=i(1),n=i(4),a=i(0),s=i(3),o=i.n(s),l=i(33),c=i(141),f=i(61),h=i.n(f),u=i(27),d=i(31),p=i(95);function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object(p.a)(),n=Object(c.a)({theme:i,name:"MuiUseMediaQuery",props:{}});var s="function"===typeof e?e(i):e;s=s.replace(/^@media( ?)/m,"");var o="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,l=Object(r.a)({},n,{},t),f=l.defaultMatches,h=void 0!==f&&f,u=l.matchMedia,d=void 0===u?o?window.matchMedia:null:u,_=l.noSsr,m=void 0!==_&&_,b=l.ssrMatchMedia,A=void 0===b?null:b,v=a.useState((function(){return m&&o?d(s).matches:A?A(s).matches:h})),y=v[0],g=v[1];return a.useEffect((function(){var e=!0;if(o){var t=d(s),i=function(){e&&g(t.matches)};return i(),t.addListener(i),function(){e=!1,t.removeListener(i)}}}),[s,d,o]),y}var m=function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return i?d.b.indexOf(e)<=d.b.indexOf(t):d.b.indexOf(e)<d.b.indexOf(t)},b=function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return i?d.b.indexOf(t)<=d.b.indexOf(e):d.b.indexOf(t)<d.b.indexOf(e)},A="undefined"===typeof window?a.useEffect:a.useLayoutEffect,v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var i=e.withTheme,s=void 0!==i&&i,o=e.noSSR,f=void 0!==o&&o,d=e.initialWidth;function p(e){var i=Object(u.a)(),o=e.theme||i,h=Object(c.a)({theme:o,name:"MuiWithWidth",props:Object(r.a)({},e)}),p=h.initialWidth,m=h.width,b=Object(n.a)(h,["initialWidth","width"]),v=a.useState(!1),y=v[0],g=v[1];A((function(){g(!0)}),[]);var k=Object(l.a)(o.breakpoints.keys).reverse().reduce((function(e,t){var i=_(o.breakpoints.up(t));return!e&&i?t:e}),null),x=Object(r.a)({width:m||(y||f?k:void 0)||p||d},s?{theme:o}:{},{},b);return void 0===x.width?null:a.createElement(t,x)}return h()(p,t),p}};function y(e){var t=e.children,i=e.only,r=e.width,n=Object(u.a)(),a=!0;if(i)if(Array.isArray(i))for(var s=0;s<i.length;s+=1){if(r===i[s]){a=!1;break}}else i&&r===i&&(a=!1);if(a)for(var o=0;o<n.breakpoints.keys.length;o+=1){var l=n.breakpoints.keys[o],c=e["".concat(l,"Up")],f=e["".concat(l,"Down")];if(c&&m(l,r)||f&&b(l,r)){a=!1;break}}return a?t:null}y.propTypes={children:o.a.node,className:o.a.string,implementation:o.a.oneOf(["js","css"]),initialWidth:o.a.oneOf(["xs","sm","md","lg","xl"]),lgDown:o.a.bool,lgUp:o.a.bool,mdDown:o.a.bool,mdUp:o.a.bool,only:o.a.oneOfType([o.a.oneOf(["xs","sm","md","lg","xl"]),o.a.arrayOf(o.a.oneOf(["xs","sm","md","lg","xl"]))]),smDown:o.a.bool,smUp:o.a.bool,width:o.a.string.isRequired,xlDown:o.a.bool,xlUp:o.a.bool,xsDown:o.a.bool,xsUp:o.a.bool};var g=v()(y),k=i(36),x=i(21),S=i(12);var T=Object(S.a)((function(e){var t={display:"none"};return e.breakpoints.keys.reduce((function(i,r){return i["only".concat(Object(x.a)(r))]=Object(k.a)({},e.breakpoints.only(r),t),i["".concat(r,"Up")]=Object(k.a)({},e.breakpoints.up(r),t),i["".concat(r,"Down")]=Object(k.a)({},e.breakpoints.down(r),t),i}),{})}),{name:"PrivateHiddenCss"})((function(e){var t=e.children,i=e.classes,r=e.className,s=e.only,o=(Object(n.a)(e,["children","classes","className","only"]),Object(u.a)()),l=[];r&&l.push(r);for(var c=0;c<o.breakpoints.keys.length;c+=1){var f=o.breakpoints.keys[c],h=e["".concat(f,"Up")],d=e["".concat(f,"Down")];h&&l.push(i["".concat(f,"Up")]),d&&l.push(i["".concat(f,"Down")])}return s&&(Array.isArray(s)?s:[s]).forEach((function(e){l.push(i["only".concat(Object(x.a)(e))])})),a.createElement("div",{className:l.join(" ")},t)}));t.a=function(e){var t=e.implementation,i=void 0===t?"js":t,s=e.lgDown,o=void 0!==s&&s,l=e.lgUp,c=void 0!==l&&l,f=e.mdDown,h=void 0!==f&&f,u=e.mdUp,d=void 0!==u&&u,p=e.smDown,_=void 0!==p&&p,m=e.smUp,b=void 0!==m&&m,A=e.xlDown,v=void 0!==A&&A,y=e.xlUp,k=void 0!==y&&y,x=e.xsDown,S=void 0!==x&&x,w=e.xsUp,E=void 0!==w&&w,M=Object(n.a)(e,["implementation","lgDown","lgUp","mdDown","mdUp","smDown","smUp","xlDown","xlUp","xsDown","xsUp"]);return"js"===i?a.createElement(g,Object(r.a)({lgDown:o,lgUp:c,mdDown:h,mdUp:d,smDown:_,smUp:b,xlDown:v,xlUp:k,xsDown:S,xsUp:E},M)):a.createElement(T,Object(r.a)({lgDown:o,lgUp:c,mdDown:h,mdUp:d,smDown:_,smUp:b,xlDown:v,xlUp:k,xsDown:S,xsUp:E},M))}},function(e,t,i){"use strict";var r=i(1),n=i(4),a=i(0),s=(i(3),i(5)),o=i(12),l=i(153),c=i(29),f=i(27),h=i(42),u=i(20),d={entering:{opacity:1},entered:{opacity:1}},p={enter:c.b.enteringScreen,exit:c.b.leavingScreen},_=a.forwardRef((function(e,t){var i=e.children,s=e.in,o=e.onEnter,c=e.onExit,_=e.style,m=e.timeout,b=void 0===m?p:m,A=Object(n.a)(e,["children","in","onEnter","onExit","style","timeout"]),v=Object(f.a)(),y=Object(u.a)(i.ref,t);return a.createElement(l.a,Object(r.a)({appear:!0,in:s,onEnter:function(e,t){Object(h.b)(e);var i=Object(h.a)({style:_,timeout:b},{mode:"enter"});e.style.webkitTransition=v.transitions.create("opacity",i),e.style.transition=v.transitions.create("opacity",i),o&&o(e,t)},onExit:function(e){var t=Object(h.a)({style:_,timeout:b},{mode:"exit"});e.style.webkitTransition=v.transitions.create("opacity",t),e.style.transition=v.transitions.create("opacity",t),c&&c(e)},timeout:b},A),(function(e,t){return a.cloneElement(i,Object(r.a)({style:Object(r.a)({opacity:0,visibility:"exited"!==e||s?void 0:"hidden"},d[e],{},_,{},i.props.style),ref:y},t))}))})),m=a.forwardRef((function(e,t){var i=e.children,o=e.classes,l=e.className,c=e.invisible,f=void 0!==c&&c,h=e.open,u=e.transitionDuration,d=Object(n.a)(e,["children","classes","className","invisible","open","transitionDuration"]);return a.createElement(_,Object(r.a)({in:h,timeout:u},d),a.createElement("div",{className:Object(s.a)(o.root,l,f&&o.invisible),"aria-hidden":!0,ref:t},i))}));t.a=Object(o.a)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(m)},function(e,t,i){"use strict";var r=i(1),n=i(63),a=i(4),s=i(0),o=(i(3),i(144)),l=i(20);var c=i(60),f=s.forwardRef((function(e,t){var i=e.actions,f=e.children,h=e.name,u=e.value,d=e.onChange,p=Object(a.a)(e,["actions","children","name","value","onChange"]),_=s.useRef(null),m=function(e){var t=e.controlled,i=e.default,r=(e.name,s.useRef(void 0!==t).current),n=s.useState(i),a=n[0],o=n[1];return[r?t:a,s.useCallback((function(e){r||o(e)}),[])]}({controlled:u,default:e.defaultValue,name:"RadioGroup"}),b=Object(n.a)(m,2),A=b[0],v=b[1];s.useImperativeHandle(i,(function(){return{focus:function(){var e=_.current.querySelector("input:not(:disabled):checked");e||(e=_.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var y=Object(l.a)(t,_),g=s.useState(),k=g[0],x=g[1],S=h||k;return s.useEffect((function(){x("mui-radiogroup-".concat(Math.round(1e5*Math.random())))}),[]),s.createElement(c.a.Provider,{value:{name:S,onChange:function(e){v(e.target.value),d&&d(e,e.target.value)},value:A}},s.createElement(o.a,Object(r.a)({role:"radiogroup",ref:y},p),f))}));t.a=f},function(e,t,i){"use strict";var r=i(38),n=i(44),a=(i(3),i(0)),s=i.n(a),o=i(19),l=i.n(o),c=!1,f=i(45),h=function(e){function t(t,i){var r;r=e.call(this,t,i)||this;var n,a=i&&!i.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(n="exited",r.appearStatus="entering"):n="entered":n=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:n},r.nextCallback=null,r}Object(n.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var i=t.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var i=this.state.status;this.props.in?"entering"!==i&&"entered"!==i&&(t="entering"):"entering"!==i&&"entered"!==i||(t="exiting")}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,i,r=this.props.timeout;return e=t=i=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,i=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:i}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var i=l.a.findDOMNode(this);"entering"===t?this.performEnter(i,e):this.performExit(i)}else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},i.performEnter=function(e,t){var i=this,r=this.props.enter,n=this.context?this.context.isMounting:t,a=this.getTimeouts(),s=n?a.appear:a.enter;!t&&!r||c?this.safeSetState({status:"entered"},(function(){i.props.onEntered(e)})):(this.props.onEnter(e,n),this.safeSetState({status:"entering"},(function(){i.props.onEntering(e,n),i.onTransitionEnd(e,s,(function(){i.safeSetState({status:"entered"},(function(){i.props.onEntered(e,n)}))}))})))},i.performExit=function(e){var t=this,i=this.props.exit,r=this.getTimeouts();i&&!c?(this.props.onExit(e),this.safeSetState({status:"exiting"},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,i=!0;return this.nextCallback=function(r){i&&(i=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},i.onTransitionEnd=function(e,t,i){this.setNextCallback(i);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,i=t.children,n=Object(r.a)(t,["children"]);if(delete n.in,delete n.mountOnEnter,delete n.unmountOnExit,delete n.appear,delete n.enter,delete n.exit,delete n.timeout,delete n.addEndListener,delete n.onEnter,delete n.onEntering,delete n.onEntered,delete n.onExit,delete n.onExiting,delete n.onExited,"function"===typeof i)return s.a.createElement(f.a.Provider,{value:null},i(e,n));var a=s.a.Children.only(i);return s.a.createElement(f.a.Provider,{value:null},s.a.cloneElement(a,n))},t}(s.a.Component);function u(){}h.contextType=f.a,h.propTypes={},h.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:u,onEntering:u,onEntered:u,onExit:u,onExiting:u,onExited:u},h.UNMOUNTED=0,h.EXITED=1,h.ENTERING=2,h.ENTERED=3,h.EXITING=4;t.a=h}]]);
//# sourceMappingURL=2.86ba786d.chunk.js.map